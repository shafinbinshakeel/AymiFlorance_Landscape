a000.B4T=(function(f4T){return {t4T:function(){var U4T,x4T=arguments;switch(f4T){case 10:U4T=x4T[1] === x4T[0];break;case 1:U4T=x4T[1] / x4T[0];break;case 18:U4T=x4T[2] - x4T[0] + x4T[1];break;case 20:U4T=x4T[0] >= x4T[1];break;case 0:U4T=x4T[0] - x4T[1];break;case 14:U4T=x4T[0] / x4T[1] | x4T[2];break;case 11:U4T=(x4T[2] + x4T[1]) / x4T[0];break;case 4:U4T=(x4T[0] - x4T[2]) * x4T[1];break;case 6:U4T=void x4T[0] !== x4T[1];break;case 9:U4T=x4T[3] + x4T[2] + x4T[1] + x4T[4] + x4T[0];break;case 8:U4T=x4T[0] + x4T[2] + x4T[1];break;case 16:U4T=(x4T[3] * x4T[0] + x4T[2]) / x4T[1];break;case 2:U4T=x4T[2] * x4T[1] / x4T[0];break;case 19:U4T=-x4T[2] - x4T[1] + -x4T[3] + x4T[0];break;case 3:U4T=x4T[1] < x4T[0];break;case 15:U4T=x4T[0] * x4T[1] / x4T[2] * x4T[3];break;case 12:U4T=x4T[1] + x4T[0] / x4T[3] * x4T[2];break;case 13:U4T=(x4T[2] / x4T[3] | x4T[1]) * x4T[0];break;case 17:U4T=x4T[4] * (x4T[0] - x4T[2] + x4T[3]) - x4T[1];break;case 5:U4T=x4T[1] + x4T[0];break;case 7:U4T=x4T[1] * x4T[0];break;}return U4T;},E4T:function(J4T){f4T=J4T;}};})();a000.j4T=function(){return typeof a000.B4T.E4T === 'function'?a000.B4T.E4T.apply(a000.B4T,arguments):a000.B4T.E4T;};function a000(){}a000.K4T=function(){return typeof a000.B4T.t4T === 'function'?a000.B4T.t4T.apply(a000.B4T,arguments):a000.B4T.t4T;};a000.G4T=function(){return typeof a000.B4T.E4T === 'function'?a000.B4T.E4T.apply(a000.B4T,arguments):a000.B4T.E4T;};a000.i4T=function(){return typeof a000.B4T.t4T === 'function'?a000.B4T.t4T.apply(a000.B4T,arguments):a000.B4T.t4T;};(function(){(function(mb,zb){var jc,uc,Pb,dd,Fb,Gb,Wb,de,ee,Mb,Lb,Dc,fe,ed,ge,he,xd,Da,Bb,Rc,ie,yd,db,sb,Cb,kc,dc,Tb,ub,Xb,Nb,Tc,Hb,vc,Kb,Yb,fd,lc,hc,ic,gd,zd,je,wc,xc,Fc,Ad,Uc,mc,hd,Cc,Bd,ke,Kc,Cd,Dd,Ed,Fd,nc,Gd,Hd,Id,Mc,oc,pc,Nc,id,jd,kd,fc,kf,Qb,Ec,le,ld,qc,me,lf,rc,ne,mf,md,oe,nf,Qc,pe,jf,of,Jd,nd,pf,qf,ae,rf,be,qe,ec,Vc,re,Wc,se,gc,te,ue,ve,we,tf,ce,xe,wd,ye,sf,ze,Kd,Ae,Be,Ce,Ld,Bc,Ee,De,uf,Yc,Fe,Nd,Zc,Ge,Md,He,Ie,Od,Ke,Le,rd,Gc,Oc,Hc,Me,Ne,Oe,Pe,Qe,Re,sd,vf,Se,Te,Qd,Ue,cc,Xc,Lc,od,yc,sc,pd,zc,Sc,Je,Ve,$c,We,wf,ad,Xe,xf,yf,Ye,Pd,qd,Ze,Af,zf,Pc,cd,Bf,$d,Cf,Df;function Zb(gb,eb){if(!eb || "utf-8" === eb)return td(gb);throw Error("unsupported encoding");}function $b(gb,eb){if(!eb || "utf-8" === eb)return ud(gb);throw Error("unsupported encoding");}function td(gb){for(var eb=0,cb,Za=gb.length,jb="";eb < Za;){cb=gb[eb++];if(cb & 128)if(192 === (cb & 224))cb=((cb & 31) << 6) + (gb[eb++] & 63);else if(224 === (cb & 240))cb=((cb & 15) << 12) + ((gb[eb++] & 63) << 6) + (gb[eb++] & 63);else throw Error("unsupported character");jb+=String.fromCharCode(cb);}return jb;}function ud(gb){var eb,cb,Za,jb,qb;eb=gb.length;cb=0;jb=0;for(Za=eb;Za--;){qb=gb.charCodeAt(Za);128 > qb?cb++:cb=2048 > qb?cb + 2:cb + 3;}cb=new Uint8Array(cb);for(Za=0;Za < eb;Za++){qb=gb.charCodeAt(Za);128 > qb?cb[jb++]=qb:(2048 > qb?cb[jb++]=192 | qb >>> 6:(cb[jb++]=224 | qb >>> 12,cb[jb++]=128 | qb >>> 6 & 63),cb[jb++]=128 | qb & 63);}return cb;}function ac(gb,eb){if(gb === eb)return !0;if(!gb || !eb || gb.length != eb.length)return !1;for(var cb=0;cb < gb.length;++cb){if(gb[cb] != eb[cb])return !1;}return !0;}function bc(gb){var Za;if(!(gb && gb.constructor == Uint8Array || Array.isArray(gb)))throw new TypeError("Cannot compute the hash code of " + gb);for(var eb=1,cb=0;cb < gb.length;++cb){Za=gb[cb];if("number" !== typeof Za)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + Za);eb=31 * eb + Za & 4294967295;}return eb;}function Vd(gb,eb){var hb;if(gb === eb)return !0;if(!gb || !eb)return !1;eb instanceof Array || (eb=[eb]);for(var cb=0;cb < eb.length;++cb){for(var Za=eb[cb],jb=!1,qb=0;qb < gb.length;++qb){hb=gb[qb];if(Za.equals && "function" === typeof Za.equals && Za.equals(hb) || Za == hb){jb=!0;break;}}if(!jb)return !1;}return !0;}function Wd(gb,eb){return Vd(gb,eb) && (gb.length == eb.length || Vd(eb,gb));}function Ka(gb,eb,cb){var Za,jb;cb && (Za=cb);if("object" !== typeof gb || "function" !== typeof gb.result || "function" !== typeof gb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{jb=eb.call(Za,gb);jb !== zb && gb.result(jb);}catch(qb){try{gb.error(qb);}catch(hb){}}}function ab(gb,eb,cb){if("object" !== typeof gb || "function" !== typeof gb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Ka(gb,eb,cb);}function X(gb,eb,cb){1E5 > gb && (gb=1E5 + gb);Object.defineProperties(this,{internalCode:{value:gb,writable:!1,configurable:!1},responseCode:{value:eb,writable:!1,configurable:!1},message:{value:cb,writable:!1,configurable:!1}});}function vd(gb){switch(gb){case Qb.PSK:case Qb.MGK:return !0;default:return !1;}}function Xd(gb){switch(gb){case Qb.PSK:case Qb.MGK:case Qb.X509:case Qb.RSA:case Qb.NPTICKET:case Qb.ECC:return !0;default:return !1;}}function ef(gb){return gb.toJSON();}function Yd(gb,eb){cd?eb.result(cd):Promise.resolve().then(function(){return Kb.getKeyByName(gb);}).catch(function(){return Kb.generateKey({name:gb},!1,["wrapKey","unwrapKey"]);}).then(function(cb){cd=cb;eb.result(cd);}).catch(function(cb){eb.error(new db(X.INTERNAL_EXCEPTION,"Unable to get system key"));});}function Zd(gb,eb){var cb,Za;cb=eb.masterToken;Za=eb.userIdToken;eb=eb.serviceTokens;return {NccpMethod:gb.method,UserId:gb.userId,UT:Za && Za.serialNumber,MT:cb && cb.serialNumber + ":" + cb.sequenceNumber,STCount:eb && eb.length};}function ff(gb){return gb.uniqueKey();}function gf(gb,eb,cb,Za,jb){var La;function qb(ta,na){ta.errorCode === Da.ENTITY_REAUTH || ta.errorCode === Da.ENTITYDATA_REAUTH?(Za.clearCryptoContexts(),Ia()):ta.errorCode !== Da.USER_REAUTH && ta.errorCode !== Da.USERDATA_REAUTH || hb(na);}function hb(ta){if(ta=Za.getUserIdToken(ta))(Za.removeUserIdToken(ta),Ia());}function Ba(ta,na,fa){var ca;ca=[];(function aa(){ta.read(-1,na,{result:function(ea){Ka(fa,function(){var ba,ka,va,sa,la;if(ea)(ca.push(ea),aa());else switch(ca.length){case 0:return new Uint8Array(0);case 1:return ca[0];default:(va=ca.length,sa=0);for(ka=ba=0;ka < va;ka++){ba+=ca[ka].length;}ba=new Uint8Array(ba);for(ka=0;ka < va;ka++){la=ca[ka];ba.set(la,sa);sa+=la.length;}return ba;}});},timeout:function(){fa.timeout();},error:function(ea){fa.error(ea);}});})();}function Ia(){Za.getStoreState({result:function(ta){for(var na=La.slice(),fa=0;fa < na.length;fa++){na[fa]({storeState:ta});}},timeout:function(){gb.error("Timeout getting store state","" + e);},error:function(ta){gb.error("Error getting store state","" + ta);}});}La=[];this.addEventHandler=function(ta,na){switch(ta){case "shouldpersist":La.push(na);}};this.send=function(ta){return new Promise(function(na,fa){var ca,Y,aa;ca=ta.timeout;Y=new $d(gb,cb,ta,Za.getKeyRequestData());aa=new ae(ta.url);gb.trace("Sending MSL request");eb.request(cb,Y,aa,ca,{result:function(ea){var ba;gb.trace("Received MSL response",{Method:ta.method});if(ea){ta.allowTokenRefresh && Ia();ba=ea.getErrorHeader();ba?(qb(ba,ta.profileGuid || ta.userId),fa({success:!1,error:ba})):Ba(ea,ca,{result:function(ka){na({success:!0,body:Zb(ka)});},timeout:function(){fa({success:!1,subCode:jb.MSL_READ_TIMEOUT});},error:function(ka){fa({success:!1,error:ka});}});}else fa({success:!1,error:new db(X.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){fa({success:!1,subCode:jb.MSL_REQUEST_TIMEOUT});},error:function(ea){fa({success:!1,error:ea});}});});};this.hasUserIdToken=function(ta){return ! !Za.getUserIdToken(ta);};this.getUserIdTokenKeys=function(){return Za.getUserIdTokenKeys();};this.removeUserIdToken=hb;this.clearUserIdTokens=function(){Za.clearUserIdTokens();Ia();};this.isErrorReauth=function(ta){return ta && ta.errorCode == Da.USERDATA_REAUTH;};this.isErrorHeader=function(ta){return ta instanceof Bc;};this.getErrorCode=function(ta){return ta && ta.errorCode;};this.getStateForMdx=function(ta){var na,fa;na=Za.getMasterToken();ta=Za.getUserIdToken(ta);fa=Za.getCryptoContext(na);return {masterToken:na,userIdToken:ta,cryptoContext:fa};};this.buildPlayDataRequest=function(ta,na){var fa;fa=new be();eb.request(cb,new $d(gb,cb,ta),fa,ta.timeout,{result:function(){na.result(fa.getRequest());},error:function(){na.result(fa.getRequest());},timeout:function(){na.timeout();}});};this.rekeyUserIdToken=function(ta,na){Za.rekeyUserIdToken(ta,na);Ia();};this.getServiceTokens=function(ta){var na;na=Za.getMasterToken();(ta=Za.getUserIdToken(ta)) && !ta.isBoundTo(na) && (ta=zb);return Za.getServiceTokens(na,ta);};this.removeServiceToken=function(ta){var na;na=Za.getMasterToken();Za.getServiceTokens(na).find(function(fa){return fa.name === ta;}) && (Za.removeServiceTokens(ta,na),Ia());};}function hf(gb,eb,cb){var qb;function Za(){return Promise.resolve().then(function(){return Kb.generateKey(eb,!1,["wrapKey","unwrapKey"]);}).then(function(hb){return jb(hb.publicKey,hb.privateKey);});}function jb(hb,Ba){return Promise.all([new Promise(function(Ia,La){Cc(hb,{result:Ia,error:function(ta){La(new db(X.INTERNAL_EXCEPTION,"Unable to create keyx public key",ta));}});}),new Promise(function(Ia,La){Kc(Ba,{result:Ia,error:function(ta){La(new db(X.INTERNAL_EXCEPTION,"Unable to create keyx private key",ta));}});})]).then(function(Ia){Ia=new wd("rsaKeypairId",cb,Ia[0],Ia[1]);qb && (Ia.storeData={keyxPublicKey:hb,keyxPrivateKey:Ba});return Ia;});}qb=!gb.systemKeyWrapFormat;return Promise.resolve().then(function(){var hb,Ba;hb=gb.storeState;Ba=hb && hb.keyxPublicKey;hb=hb && hb.keyxPrivateKey;return qb && Ba && hb?jb(Ba,hb):Za();}).then(function(hb){var Ba,Ia,La;Ba={};Ba[Qb.NONE]=new jf();Ia=new Qc(gb.esn);La=[new ce()];return {entityAuthFactories:Ba,entityAuthData:Ia,keyExchangeFactories:La,keyRequestData:hb,createKeyRequestData:qb?Za:zb};});}uc=mb.nfCrypto || mb.msCrypto || mb.webkitCrypto || mb.crypto;Pb=uc && (uc.webkitSubtle || uc.subtle);dd=mb.nfCryptokeys || mb.msCryptokeys || mb.webkitCryptokeys || mb.cryptokeys;(function(gb){var eb,cb;eb=(function(){function Za(jb,qb){jb instanceof eb?(this.abv=jb.abv,this.position=jb.position):(this.abv=jb,this.position=qb || 0);}Za.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(jb){this.abv[this.position++]=jb;},peekByte:function(jb){return this.abv[jb];},copyBytes:function(jb,qb,hb){var Ba;Ba=new Uint8Array(this.abv.buffer,this.position,hb);jb=new Uint8Array(jb.buffer,qb,hb);Ba.set(jb);this.position+=hb;},seek:function(jb){this.position=jb;},skip:function(jb){this.position+=jb;},getPosition:function(){return this.position;},setPosition:function(jb){this.position=jb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return Za;})();cb={};(function(){var ea,ba,ka,va,sa,la,pa,ya,ma;function Za(da,ha){var ja;ha.writeByte(da.tagClass << 6 | da.constructed << 5 | da.tag);ja=da.payloadLen;if(128 > ja)ha.writeByte(ja);else {for(var wa=ja,Qa=0;wa;){++Qa;wa>>=8;}ha.writeByte(128 | Qa);for(wa=0;wa < Qa;++wa){ha.writeByte(ja >> 8 * (Qa - wa - 1) & 255);}}if(da.child)for((da.tag == ea.BIT_STRING && ha.writeByte(0),da=da._child);da;){if(!Za(da,ha))return !1;da=da.next;}else switch(da.tag){case ea.INTEGER:da.backingStore[da.dataIdx] >> 7 && ha.writeByte(0);ha.copyBytes(da.backingStore,da.dataIdx,da.dataLen);break;case ea.BIT_STRING:ha.writeByte(0);ha.copyBytes(da.backingStore,da.dataIdx,da.dataLen);break;case ea.OCTET_STRING:ha.copyBytes(da.backingStore,da.dataIdx,da.dataLen);break;case ea.OBJECT_IDENTIFIER:ha.copyBytes(da.backingStore,da.dataIdx,da.dataLen);}return !0;}function jb(da){var ha,ja;ha=da.readByte();ja=ha & 127;if(ja == ha)return ja;if(3 < ja || 0 === ja)return -1;for(var wa=ha=0;wa < ja;++wa){ha=ha << 8 | da.readByte();}return ha;}function qb(da,ha,ja){var wa,Qa,Ja,Ma,Sa,oa,xa;wa=da.backingStore;Qa=new eb(wa,ha);ha+=ja;ja=da;if(8 < sa++)return zb;for(;Qa.getPosition() < ha;){Qa.getPosition();Ma=Qa.readByte();if(31 == (Ma & 31)){for(Ja=0;Ma & 128;){Ja<<=8;Ja|=Ma & 127;}Ma=Ja;}Sa=Ma;Ja=Sa & 31;if(0 > Ja || 30 < Ja)return zb;Ma=jb(Qa);if(0 > Ma || Ma > Qa.getRemaining())return zb;ja.constructed=Sa & 32;ja.tagClass=(Sa & 192) >> 6;ja.tag=Ja;ja.dataLen=Ma;ja.dataIdx=Qa.getPosition();Ja=Qa;oa=Sa;Sa=Ma;if(oa & 32)Ja=!0;else if(oa < ea.BIT_STRING || oa > ea.OCTET_STRING)Ja=!1;else {xa=new eb(Ja);oa == ea.BIT_STRING && xa.skip(1);xa.readByte() >> 6 & 1?Ja=!1:(oa=jb(xa),Ja=xa.getPosition() - Ja.getPosition() + oa == Sa);}Ja && (Ja=Qa.getPosition(),Sa=Ma,ja.tag == ea.BIT_STRING && (ja.dataIdx++,ja.dataLen--,Ja++,Sa--),ja.child=new ba(wa,ja),qb(ja.child,Ja,Sa));ja.tag == ea.INTEGER && (Ja=Qa.getPosition(),0 == Qa.peekByte(Ja) && Qa.peekByte(Ja + 1) >> 7 && (ja.dataIdx++,ja.dataLen--));Qa.skip(Ma);Qa.getPosition() < ha && (ja.next=new ba(wa,ja.parent),ja=ja.next);}sa--;return da;}function hb(da,ha,ja){if(9 != ja)return !1;for(ja=0;9 > ja;++ja){if(da[ha++] != la[ja])return !1;}return !0;}function Ba(da){var ha;if(!(da && da.child && da.child.next && da.child.child && da.child.next.child))return !1;ha=da.child.child;return hb(ha.backingStore,ha.dataIdx,ha.dataLen) && 2 == da.nChildren && 2 == da.child.nChildren && 2 == da.child.next.child.nChildren?!0:!1;}function Ia(da){var ha;if(!(da && da.child && da.child.next && da.child.next.child && da.child.next.next && da.child.next.next.child))return !1;ha=da.child.next.child;return hb(ha.backingStore,ha.dataIdx,ha.dataLen) && 3 == da.nChildren && 2 == da.child.next.nChildren && 9 == da.child.next.next.child.nChildren?!0:!1;}function La(da){var ha,ja;ha=ka.createSequenceNode();ja=new va(ha);ja.addChild(ka.createSequenceNode());ja.addChild(ka.createOidNode(la));ja.addSibling(ka.createNullNode());ja.addToParent(ha,ka.createBitStringNode(null));ja.addChild(ka.createSequenceNode());ja.addChild(ka.createIntegerNode(da.n));ja.addSibling(ka.createIntegerNode(da.e));return ha;}function ta(da){var ha;da=da.child.next.child.child;ha=da.data;da=da.next;return new pa(ha,da.data,null,null);}function na(da){var ha,ja;ha=ka.createSequenceNode();ja=new va(ha);ja.addChild(ka.createIntegerNode(new Uint8Array([0])));ja.addSibling(ka.createSequenceNode());ja.addChild(ka.createOidNode(la));ja.addSibling(ka.createNullNode());ja.addToParent(ha,ka.createOctetStringNode(null));ja.addChild(ka.createSequenceNode());ja.addChild(ka.createIntegerNode(new Uint8Array([0])));ja.addSibling(ka.createIntegerNode(da.n));ja.addSibling(ka.createIntegerNode(da.e));ja.addSibling(ka.createIntegerNode(da.d));ja.addSibling(ka.createIntegerNode(da.p));ja.addSibling(ka.createIntegerNode(da.q));ja.addSibling(ka.createIntegerNode(da.dp));ja.addSibling(ka.createIntegerNode(da.dq));ja.addSibling(ka.createIntegerNode(da.qi));return ha;}function fa(da){var ha;ha=[];da=da.child.next.next.child.child.next;for(var ja=0;8 > ja;ja++){ha.push(da.data);da=da.next;}return new ya(ha[0],ha[1],ha[2],ha[3],ha[4],ha[5],ha[6],ha[7]);}function ca(da,ha,ja,wa){if(!(da instanceof pa || da instanceof ya))return zb;if(ja)for(var Qa=0;Qa < ja.length;++Qa){if(-1 == ma.indexOf(ja[Qa]))return zb;}ha={kty:"RSA",alg:ha,key_ops:ja || [],ext:wa == zb?!1:wa,n:Fb(da.n,!0),e:Fb(da.e,!0)};da instanceof ya && (ha.d=Fb(da.d,!0),ha.p=Fb(da.p,!0),ha.q=Fb(da.q,!0),ha.dp=Fb(da.dp,!0),ha.dq=Fb(da.dq,!0),ha.qi=Fb(da.qi,!0));return ha;}function Y(da){var ha,ja,wa,Qa,Ja,Ma,Sa,oa,xa,Ca;if(!da.kty || "RSA" != da.kty || !da.n || !da.e)return zb;ha=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(da.alg && -1 == ha.indexOf(da.alg))return zb;ha=[];da.use?"enc" == da.use?ha=["encrypt","decrypt","wrap","unwrap"]:"sig" == da.use && (ha=["sign","verify"]):ha=da.key_ops;ja=da.ext;wa=Gb(da.n,!0);Qa=Gb(da.e,!0);if(da.d){Ja=Gb(da.d,!0);Ma=Gb(da.p,!0);Sa=Gb(da.q,!0);oa=Gb(da.dp,!0);xa=Gb(da.dq,!0);Ca=Gb(da.qi,!0);return new ya(wa,Qa,Ja,Ma,Sa,oa,xa,Ca,da.alg,ha,ja);}return new pa(wa,Qa,ja,ha);}function aa(da,ha,ja,wa){this.der=da;this.type=ha;this.keyOps=ja;this.extractable=wa;}ea={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};ba=function(da,ha,ja,wa,Qa,Ja){this._data=da;this._parent=ha || zb;this._constructed=ja || !1;this._tagClass=0;this._tag=wa || 0;this._dataIdx=Qa || 0;this._dataLen=Ja || 0;};ba.prototype={_child:zb,_next:zb,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(da) {this._constructed=0 != da?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(da) {this._tagClass=da;},get tag() {return this._tag;},set tag(da) {this._tag=da;},get dataIdx() {return this._dataIdx;},set dataIdx(da) {this._dataIdx=da;},get dataLen() {return this._dataLen;},set dataLen(da) {this._dataLen=da;},get child() {return this._child;},set child(da) {this._child=da;this._child.parent=this;},get next() {return this._next;},set next(da) {this._next=da;},get parent() {return this._parent;},set parent(da) {this._parent=da;},get payloadLen() {var da;da=0;if(this._child){for(var ha=this._child;ha;){da+=ha.length;ha=ha.next;}this._tag == ea.BIT_STRING && da++;}else switch(this._tag){case ea.INTEGER:da=this._dataLen;this._data[this._dataIdx] >> 7 && da++;break;case ea.BIT_STRING:da=this._dataLen + 1;break;case ea.OCTET_STRING:da=this._dataLen;break;case ea.NULL:da=0;break;case ea.OBJECT_IDENTIFIER:hb(this._data,this._dataIdx,this._dataLen) && (da=9);}return da;},get length() {var da,ha;da=this.payloadLen;if(127 < da)for(ha=da;ha;){ha>>=8;++da;}return da + 2;},get der() {var da,ha;da=this.length;if(!da)return zb;da=new Uint8Array(da);ha=new eb(da);return Za(this,ha)?da:zb;},get nChildren() {for(var da=0,ha=this._child;ha;){da++;ha=ha.next;}return da;}};ka={createSequenceNode:function(){return new ba(null,null,!0,ea.SEQUENCE,null,null);},createOidNode:function(da){return new ba(da,null,!1,ea.OBJECT_IDENTIFIER,0,da?da.length:0);},createNullNode:function(){return new ba(null,null,!1,ea.NULL,null,null);},createBitStringNode:function(da){return new ba(da,null,!1,ea.BIT_STRING,0,da?da.length:0);},createIntegerNode:function(da){return new ba(da,null,!1,ea.INTEGER,0,da?da.length:0);},createOctetStringNode:function(da){return new ba(da,null,!1,ea.OCTET_STRING,0,da?da.length:0);}};va=function(da){this._currentNode=this._rootNode=da;};va.prototype={addChild:function(da){this.addTo(this._currentNode,da);},addSibling:function(da){this.addTo(this._currentNode.parent,da);},addTo:function(da,ha){this._currentNode=ha;this._currentNode.parent=da;if(da.child){for(da=da.child;da.next;){da=da.next;}da.next=ha;}else da.child=ha;},addToParent:function(da,ha){this.findNode(da) && this.addTo(da,ha);},findNode:function(da){for(var ha=this._currentNode;ha;){if(da == ha)return !0;ha=ha.parent;}return !1;}};sa=0;la=new Uint8Array([42,134,72,134,247,13,1,1,1]);pa=function(da,ha,ja,wa){this.n=da;this.e=ha;this.ext=ja;this.keyOps=wa;};ya=function(da,ha,ja,wa,Qa,Ja,Ma,Sa,oa,xa,Ca){this.n=da;this.e=ha;this.d=ja;this.p=wa;this.q=Qa;this.dp=Ja;this.dq=Ma;this.qi=Sa;this.alg=oa;this.keyOps=xa;this.ext=Ca;};ma=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");aa.prototype.getDer=function(){return this.der;};aa.prototype.getType=function(){return this.type;};aa.prototype.getKeyOps=function(){return this.keyOps;};aa.prototype.getExtractable=function(){return this.extractable;};cb.parse=function(da){sa=0;return qb(new ba(da),0,da.length);};cb.show=function(da,ha){};cb.isRsaSpki=Ba;cb.isRsaPkcs8=Ia;cb.NodeFactory=ka;cb.Builder=va;cb.tagVal=ea;cb.RsaPublicKey=pa;cb.RsaPrivateKey=ya;cb.buildRsaSpki=La;cb.parseRsaSpki=function(da){da=cb.parse(da);return Ba?ta(da):zb;};cb.buildRsaPkcs8=na;cb.parseRsaPkcs8=function(da){da=cb.parse(da);return Ia(da)?fa(da):zb;};cb.buildRsaJwk=ca;cb.parseRsaJwk=Y;cb.RsaDer=aa;cb.rsaDerToJwk=function(da,ha,ja,wa){da=cb.parse(da);if(!da)return zb;if(Ba(da))da=ta(da);else if(Ia(da))da=fa(da);else return zb;return ca(da,ha,ja,wa);};cb.jwkToRsaDer=function(da){var ha,ja;da=Y(da);if(!da)return zb;if(da instanceof pa){ha="spki";ja=La(da).der;}else if(da instanceof ya)(ha="pkcs8",ja=na(da).der);else return zb;return new aa(ja,ha,da.keyOps,da.ext);};cb.webCryptoAlgorithmToJwkAlg=function(da){return "RSAES-PKCS1-v1_5" == da.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == da.name?"SHA-256" == da.hash.name?"RS256":"SHA-384" == da.hash.name?"RS384":"SHA-512" == da.hash.name?"RS512":zb:zb;};cb.webCryptoUsageToJwkKeyOps=function(da){return da.map(function(ha){return "wrapKey" == ha?"wrap":"unwrapKey" == ha?"unwrap":ha;});};})();gb.ASN1=cb;})(mb);(function(){for(var gb={},eb={},cb={"=":0,".":0},Za={"=":0,".":0},jb=/\s+/g,qb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,hb=64;hb--;){gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[hb]]=262144 * hb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[hb]]=4096 * hb;cb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[hb]]=64 * hb;Za[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[hb]]=hb;}for(hb=64;hb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[hb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[hb];){gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[hb]]=262144 * hb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[hb]]=4096 * hb;cb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[hb]]=64 * hb;Za[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[hb]]=hb;}Fb=function(Ba,Ia){for(var La="",ta=0,na=Ba.length,fa=na - 2,ca=Ia?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y=Ia?"":"=";ta < fa;){Ia=65536 * Ba[ta++] + 256 * Ba[ta++] + Ba[ta++];La+=ca[Ia >>> 18] + ca[Ia >>> 12 & 63] + ca[Ia >>> 6 & 63] + ca[Ia & 63];}ta == fa?(Ia=65536 * Ba[ta++] + 256 * Ba[ta++],La+=ca[Ia >>> 18] + ca[Ia >>> 12 & 63] + ca[Ia >>> 6 & 63] + Y):ta == na - 1 && (Ia=65536 * Ba[ta++],La+=ca[Ia >>> 18] + ca[Ia >>> 12 & 63] + Y + Y);return La;};Gb=function(Ba,Ia){Ba=Ba.replace(jb,"");if(Ia && (Ia=Ba.length % 4)){Ia=4 - Ia;for(var La=0;La < Ia;++La){Ba+="=";}}Ia=Ba.length;if(0 != Ia % 4 || !qb.test(Ba))throw Error("bad base64: " + Ba);for(var ta=Ia / 4 * 3 - ("=" == Ba[Ia - 1]?1:0) - ("=" == Ba[Ia - 2]?1:0),na=new Uint8Array(ta),fa=0,ca=0;fa < Ia;){La=gb[Ba[fa++]] + eb[Ba[fa++]] + cb[Ba[fa++]] + Za[Ba[fa++]];na[ca++]=La >>> 16;ca < ta && (na[ca++]=La >>> 8 & 255,ca < ta && (na[ca++]=La & 255));}return na;};})();Wb={};(function(){var qb,hb,Ba,La;function gb(ta){if(!(this instanceof gb))return new gb(ta);for(var na=0,fa=hb.length;na < fa;na++){this[hb[na]]="";}this.bufferCheckPosition=Wb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=ta || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ba.BEGIN;this.stack=new qb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;eb(this,"onready");}function eb(ta,na,fa){if(ta[na])ta[na](fa);}function cb(ta,na){var fa,ca;fa=ta.opt;ca=ta.textNode;fa.trim && (ca=ca.trim());fa.normalize && (ca=ca.replace(/\s+/g," "));ta.textNode=ca;ta.textNode && eb(ta,na?na:"onvalue",ta.textNode);ta.textNode="";}function Za(ta,na){cb(ta);na+="\nLine: " + ta.line + "\nColumn: " + ta.column + "\nChar: " + ta.c;na=Error(na);ta.error=na;eb(ta,"onerror",na);return ta;}function jb(ta){ta.state !== Ba.VALUE && Za(ta,"Unexpected end");cb(ta);ta.c="";ta.closed=!0;eb(ta,"onend");gb.call(ta,ta.opt);return ta;}qb=Array;Wb.parser=function(ta){return new gb(ta);};Wb.CParser=gb;Wb.MAX_BUFFER_LENGTH=65536;Wb.DEBUG=!1;Wb.INFO=!1;Wb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");hb=["textNode","numberNode"];Wb.EVENTS.filter(function(ta){return "error" !== ta && "end" !== ta;});Ba=0;Wb.STATE={BEGIN:Ba++,VALUE:Ba++,OPEN_OBJECT:Ba++,CLOSE_OBJECT:Ba++,OPEN_ARRAY:Ba++,CLOSE_ARRAY:Ba++,TEXT_ESCAPE:Ba++,STRING:Ba++,BACKSLASH:Ba++,END:Ba++,OPEN_KEY:Ba++,CLOSE_KEY:Ba++,TRUE:Ba++,TRUE2:Ba++,TRUE3:Ba++,FALSE:Ba++,FALSE2:Ba++,FALSE3:Ba++,FALSE4:Ba++,NULL:Ba++,NULL2:Ba++,NULL3:Ba++,NUMBER_DECIMAL_POINT:Ba++,NUMBER_DIGIT:Ba++};for(var Ia in Wb.STATE){Wb.STATE[Wb.STATE[Ia]]=Ia;}Ba=Wb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(ta){return ta.__proto__;});La=/[\\"\n]/g;gb.prototype={end:function(){jb(this);},write:function(ta){var ca,Y,aa;if(this.error)throw this.error;if(this.closed)return Za(this,"Cannot write after close. Assign an onready handler.");if(null === ta)return jb(this);for(var na=ta[0],fa;na;){fa=na;this.c=na=ta.charAt(this.index++);fa !== na?this.p=fa:fa=this.p;if(!na)break;this.position++;"\n" === na?(this.line++,this.column=0):this.column++;switch(this.state){case Ba.BEGIN:"{" === na?this.state=Ba.OPEN_OBJECT:"[" === na?this.state=Ba.OPEN_ARRAY:"\r" !== na && "\n" !== na && " " !== na && "\t" !== na && Za(this,"Non-whitespace before {[.");continue;case Ba.OPEN_KEY:case Ba.OPEN_OBJECT:if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;if(this.state === Ba.OPEN_KEY)this.stack.push(Ba.CLOSE_KEY);else if("}" === na){eb(this,"onopenobject");eb(this,"oncloseobject");this.state=this.stack.pop() || Ba.VALUE;continue;}else this.stack.push(Ba.CLOSE_OBJECT);'"' === na?this.state=Ba.STRING:Za(this,'Malformed object key should start with "');continue;case Ba.CLOSE_KEY:case Ba.CLOSE_OBJECT:if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;":" === na?(this.state === Ba.CLOSE_OBJECT?(this.stack.push(Ba.CLOSE_OBJECT),cb(this,"onopenobject")):cb(this,"onkey"),this.state=Ba.VALUE):"}" === na?(cb(this),eb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ba.VALUE):"," === na?(this.state === Ba.CLOSE_OBJECT && this.stack.push(Ba.CLOSE_OBJECT),cb(this),this.state=Ba.OPEN_KEY):Za(this,"Bad object");continue;case Ba.OPEN_ARRAY:case Ba.VALUE:if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;if(this.state === Ba.OPEN_ARRAY)if((eb(this,"onopenarray"),this.state=Ba.VALUE,"]" === na)){eb(this,"onclosearray");this.state=this.stack.pop() || Ba.VALUE;continue;}else this.stack.push(Ba.CLOSE_ARRAY);'"' === na?this.state=Ba.STRING:"{" === na?this.state=Ba.OPEN_OBJECT:"[" === na?this.state=Ba.OPEN_ARRAY:"t" === na?this.state=Ba.TRUE:"f" === na?this.state=Ba.FALSE:"n" === na?this.state=Ba.NULL:"-" === na?this.numberNode+=na:"0" === na?(this.numberNode+=na,this.state=Ba.NUMBER_DIGIT):-1 !== ("123456789").indexOf(na)?(this.numberNode+=na,this.state=Ba.NUMBER_DIGIT):Za(this,"Bad value");continue;case Ba.CLOSE_ARRAY:if("," === na)(this.stack.push(Ba.CLOSE_ARRAY),cb(this,"onvalue"),this.state=Ba.VALUE);else if("]" === na)(cb(this),eb(this,"onclosearray",void 0),this.state=this.stack.pop() || Ba.VALUE);else if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;else Za(this,"Bad array");continue;case Ba.STRING:fa=this.index - 1;(ca=this.slashed,Y=this.unicodeI);a:for(;;){if(Wb.DEBUG)for(;0 < Y;){if((this.unicodeS+=na,na=ta.charAt(this.index++),4 === Y?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),Y=0,fa=this.index - 1):Y++,!na))break a;}if('"' === na && !ca){this.state=this.stack.pop() || Ba.VALUE;(this.textNode+=ta.substring(fa,this.index - 1)) || eb(this,"onvalue","");break;}if("\\" === na && !ca && (ca=!0,this.textNode+=ta.substring(fa,this.index - 1),na=ta.charAt(this.index++),!na))break;if(ca)if((ca=!1,"n" === na?this.textNode+="\n":"r" === na?this.textNode+="\r":"t" === na?this.textNode+="\t":"f" === na?this.textNode+="\f":"b" === na?this.textNode+="\b":"u" === na?(Y=1,this.unicodeS=""):this.textNode+=na,na=ta.charAt(this.index++),fa=this.index - 1,na))continue;else break;La.lastIndex=this.index;aa=La.exec(ta);if(null === aa){this.index=ta.length + 1;this.textNode+=ta.substring(fa,this.index - 1);break;}this.index=aa.index + 1;na=ta.charAt(aa.index);if(!na){this.textNode+=ta.substring(fa,this.index - 1);break;}}this.slashed=ca;this.unicodeI=Y;continue;case Ba.TRUE:if("" === na)continue;"r" === na?this.state=Ba.TRUE2:Za(this,"Invalid true started with t" + na);continue;case Ba.TRUE2:if("" === na)continue;"u" === na?this.state=Ba.TRUE3:Za(this,"Invalid true started with tr" + na);continue;case Ba.TRUE3:if("" === na)continue;"e" === na?(eb(this,"onvalue",!0),this.state=this.stack.pop() || Ba.VALUE):Za(this,"Invalid true started with tru" + na);continue;case Ba.FALSE:if("" === na)continue;"a" === na?this.state=Ba.FALSE2:Za(this,"Invalid false started with f" + na);continue;case Ba.FALSE2:if("" === na)continue;"l" === na?this.state=Ba.FALSE3:Za(this,"Invalid false started with fa" + na);continue;case Ba.FALSE3:if("" === na)continue;"s" === na?this.state=Ba.FALSE4:Za(this,"Invalid false started with fal" + na);continue;case Ba.FALSE4:if("" === na)continue;"e" === na?(eb(this,"onvalue",!1),this.state=this.stack.pop() || Ba.VALUE):Za(this,"Invalid false started with fals" + na);continue;case Ba.NULL:if("" === na)continue;"u" === na?this.state=Ba.NULL2:Za(this,"Invalid null started with n" + na);continue;case Ba.NULL2:if("" === na)continue;"l" === na?this.state=Ba.NULL3:Za(this,"Invalid null started with nu" + na);continue;case Ba.NULL3:if("" === na)continue;"l" === na?(eb(this,"onvalue",null),this.state=this.stack.pop() || Ba.VALUE):Za(this,"Invalid null started with nul" + na);continue;case Ba.NUMBER_DECIMAL_POINT:"." === na?(this.numberNode+=na,this.state=Ba.NUMBER_DIGIT):Za(this,"Leading zero not followed by .");continue;case Ba.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(na)?this.numberNode+=na:"." === na?(-1 !== this.numberNode.indexOf(".") && Za(this,"Invalid number has two dots"),this.numberNode+=na):"e" === na || "E" === na?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || Za(this,"Invalid number has two exponential"),this.numberNode+=na):"+" === na || "-" === na?("e" !== fa && "E" !== fa && Za(this,"Invalid symbol in number"),this.numberNode+=na):(this.numberNode && eb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ba.VALUE);continue;default:Za(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){ta=Math.max(Wb.MAX_BUFFER_LENGTH,10);fa=na=0;for(ca=hb.length;fa < ca;fa++){Y=this[hb[fa]].length;if(Y > ta)switch(hb[fa]){case "text":break;default:Za(this,"Max buffer length exceeded: " + hb[fa]);}na=Math.max(na,Y);}this.bufferCheckPosition=Wb.MAX_BUFFER_LENGTH - na + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var Za,jb,qb;function gb(hb,Ba){Ba || (Ba=hb.length);return hb.reduce(function(Ia,La,ta){return ta < Ba?Ia + String.fromCharCode(La):Ia;},"");}for(var eb={},cb=0;256 > cb;++cb){Za=gb([cb]);eb[Za]=cb;}jb=Object.keys(eb).length;qb=[];for(cb=0;256 > cb;++cb){qb[cb]=[cb];}de=function(hb,Ba){var ba,ka;function Ia(va,sa){var la;for(;0 < sa;){if(Y >= ca.length)return !1;if(sa > aa){la=va;la>>>=sa - aa;ca[Y]|=la & 255;sa-=aa;aa=8;++Y;}else sa <= aa && (la=va,la<<=aa - sa,la&=255,la>>>=8 - aa,ca[Y]|=la & 255,aa-=sa,sa=0,0 == aa && (aa=8,++Y));}return !0;}for(var La in eb){Ba[La]=eb[La];}for(var ta=jb,na=[],fa=8,ca=new Uint8Array(hb.length),Y=0,aa=8,ea=0;ea < hb.length;++ea){ba=hb[ea];na.push(ba);La=gb(na);ka=Ba[La];if(!ka){na=gb(na,na.length - 1);if(!Ia(Ba[na],fa))return null;0 != ta >> fa && ++fa;Ba[La]=ta++;na=[ba];}}return 0 < na.length && (La=gb(na),ka=Ba[La],!Ia(ka,fa))?null:ca.subarray(0,8 > aa?Y + 1:Y);};ee=function(hb){var ea,ba;for(var Ba=qb.slice(),Ia=0,La=0,ta=8,na=new Uint8Array(Math.ceil(1.5 * hb.length)),fa=0,ca,Y=[];Ia < hb.length && !(8 * (hb.length - Ia) - La < ta);){for(var aa=ca=0;aa < ta;){ea=Math.min(ta - aa,8 - La);ba=hb[Ia];ba<<=La;ba&=255;ba>>>=8 - ea;aa+=ea;La+=ea;8 == La && (La=0,++Ia);ca|=(ba & 255) << ta - aa;}aa=Ba[ca];0 == Y.length?++ta:(aa?Y.push(aa[0]):Y.push(Y[0]),Ba[Ba.length]=Y,Y=[],Ba.length == 1 << ta && ++ta,aa || (aa=Ba[ca]));ca=fa + aa.length;ca >= na.length && (ea=new Uint8Array(Math.ceil(1.5 * ca)),ea.set(na),na=ea);na.set(aa,fa);fa=ca;Y=Y.concat(aa);}return na.subarray(0,fa);};})();(function(){var gb,eb,cb;Mb="utf-8";Lb=9007199254740992;gb=Dc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Dc);fe=function(Za){for(var jb=[gb.GZIP,gb.LZW],qb=0;qb < jb.length && 0 < Za.length;++qb){for(var hb=jb[qb],Ba=0;Ba < Za.length;++Ba){if(Za[Ba] == hb)return hb;}}return null;};eb=ed={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(ed);ge=function(Za){return eb.AES_CBC_PKCS5Padding == Za?eb.AES_CBC_PKCS5Padding:eb.RSA_ECB_PKCS1Padding == Za?eb.RSA_ECB_PKCS1Padding:eb[Za];};cb=he={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(he);xd=function(Za){return cb[Za];};Da={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Da);})();Bb={isObjectLiteral:function(gb){return null !== gb && "object" === typeof gb && gb.constructor === Object;},extendDeep:function(){var gb,eb,cb,Za,jb,qb,hb,Ba;gb=arguments[0];eb=1;cb=arguments.length;Za=!1;"boolean" === typeof gb && (Za=gb,gb=arguments[1],eb=2);for(;eb < cb;eb++){if(null != (jb=arguments[eb]))for(qb in jb){if(!(Za && (qb in gb))){hb=jb[qb];if(gb !== hb && hb !== zb){Ba=gb[qb];gb[qb]=null !== Ba && null !== hb && "object" === typeof Ba && "object" === typeof hb?Bb.extendDeep(Za,{},Ba,hb):hb;}}}}return gb;}};(function(){var hb,Ba;function gb(Ia,La){return function(){var ta,na;ta=Ia.base;Ia.base=La;na=Ia.apply(this,arguments);Ia.base=ta;return na;};}function eb(Ia,La,ta){var na,fa,ca,Y;ta=ta || Ba;fa=! !ta.extendAll;for(na in La){ca=La.__lookupGetter__(na);Y=La.__lookupSetter__(na);ca || Y?(ca && Ia.__defineGetter__(na,ca),Y && Ia.__defineSetter__(na,Y)):(ca=La[na],Y=Ia[na],"function" === typeof ca && "function" === typeof Y && ca !== Y?(ca.base !== Function.prototype.base && (ca=gb(ca,Y)),ca.base=Y):(fa || ta[na]) && Bb.isObjectLiteral(ca) && Bb.isObjectLiteral(Y) && (ca=Bb.extendDeep({},Y,ca)),Ia[na]=ca);}}function cb(){var Ia,La;Ia=Array.prototype.slice;La=Ia.call(arguments,1);return this.extend({init:function na(){var fa;fa=Ia.call(arguments,0);na.base.apply(this,La.concat(fa));}});}function Za(Ia,La){var ta;ta=new this(hb);eb(ta,Ia,La);return qb(ta);}function jb(Ia,La){eb(this.prototype,Ia,La);return this;}function qb(Ia){var La;La=function(){var ta;ta=this.init;ta && arguments[0] !== hb && ta.apply(this,arguments);};Ia && (La.prototype=Ia);La.prototype.constructor=La;La.extend=Za;La.bind=cb;La.mixin=jb;return La;}hb={};Ba={actions:!0};Function.prototype.base=function(){};Bb.Class={create:qb,mixin:eb,extend:function(Ia,La){var ta;ta=qb();ta.prototype=new Ia();return ta.extend(La);}};Bb.mixin=function(){Bb.log && Bb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");eb.apply(null,arguments);};})();(function(){var hb,Ba,Ia;function gb(La,ta){return function(){var na,fa;na=La.base;La.base=ta;fa=La.apply(this,arguments);La.base=na;return fa;};}function eb(La,ta,na){var fa,ca,Y,aa;na=na || Ba;ca=! !na.extendAll;for(fa in ta){Y=ta.__lookupGetter__(fa);aa=ta.__lookupSetter__(fa);Y || aa?(Y && La.__defineGetter__(fa,Y),aa && La.__defineSetter__(fa,aa)):(Y=ta[fa],aa=La[fa],"function" === typeof Y && "function" === typeof aa && Y !== aa?(Y.base !== Ia && (Y=gb(Y,aa)),Y.base=aa):(ca || na[fa]) && Bb.isObjectLiteral(Y) && Bb.isObjectLiteral(aa) && (Y=Bb.extendDeep({},aa,Y)),La[fa]=Y);}}function cb(){var La,ta;La=Array.prototype.slice;ta=La.call(arguments,1);return this.extend({init:function fa(){var ca;ca=La.call(arguments,0);fa.base.apply(this,ta.concat(ca));}});}function Za(La,ta){var na;na=new this(hb);eb(na,La,ta);return qb(na);}function jb(La,ta){eb(this.prototype,La,ta);return this;}function qb(La){var ta;ta=function(){var na;na=this.init;na && arguments[0] !== hb && na.apply(this,arguments);};La && (ta.prototype=La);ta.prototype.constructor=ta;ta.extend=Za;ta.bind=cb;ta.mixin=jb;return ta;}hb={};Ba={actions:!0};Ia=function(){};Function.prototype.base=Ia;Bb.Class={create:qb,mixin:eb,extend:function(La,ta){var na;na=qb();na.prototype=new La();return na.extend(ta);}};Bb.mixin=function(){Bb.log && Bb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");eb.apply(null,arguments);};})();(function(){function gb(cb){return cb == Lb?1:cb + 1;}function eb(cb){if(0 === Object.keys(cb._waiters).length)return 0;for(var Za=gb(cb._nextWaiter);!cb._waiters[Za];){Za=gb(Za);}return Za;}Rc=Bb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(cb){var Za;if(this._waiters[cb]){Za=this._waiters[cb];delete this._waiters[cb];cb == this._nextWaiter && (this._nextWaiter=eb(this));Za.call(this,zb);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(cb,Za){var jb,qb;jb=this;qb=gb(this._lastWaiter);this._lastWaiter=qb;ab(Za,function(){var hb,Ba;if(0 < this._queue.length){hb=this._queue.shift();setTimeout(function(){Za.result(hb);},0);}else {-1 != cb && (Ba=setTimeout(function(){delete jb._waiters[qb];qb == jb._nextWaiter && (jb._nextWaiter=eb(jb));Za.timeout();},cb));this._waiters[qb]=function(Ia){clearTimeout(Ba);setTimeout(function(){Za.result(Ia);},0);};this._nextWaiter || (this._nextWaiter=qb);}},jb);return qb;},add:function(cb){var Za;if(this._nextWaiter){Za=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=eb(this);Za.call(this,cb);}else this._queue.push(cb);}});})();(function(){var gb;gb=0 - Lb;ie=Bb.Class.create({nextBoolean:function(){var eb;eb=new Uint8Array(1);uc.getRandomValues(eb);return eb[0] & 1?!0:!1;},nextInt:function(eb){var cb;if(null !== eb && eb !== zb){if("number" !== typeof eb)throw new TypeError("n must be of type number");if(1 > eb)throw new RangeError("n must be greater than zero");--eb;cb=new Uint8Array(4);uc.getRandomValues(cb);return Math.floor(((cb[3] & 127) << 24 | cb[2] << 16 | cb[1] << 8 | cb[0]) / 2147483648 * (eb - 0 + 1));}eb=new Uint8Array(4);uc.getRandomValues(eb);cb=(eb[3] & 127) << 24 | eb[2] << 16 | eb[1] << 8 | eb[0];return eb[3] & 128?-cb:cb;},nextLong:function(){var cb;for(var eb=gb;eb == gb;){eb=new Uint8Array(7);uc.getRandomValues(eb);cb=16777216 * ((eb[6] & 31) << 24 | eb[5] << 16 | eb[4] << 8 | eb[3]) + (eb[2] << 16 | eb[1] << 8 | eb[0]);eb=eb[6] & 128?-cb - 1:cb;}return eb;},nextBytes:function(eb){uc.getRandomValues(eb);}});})();(function(){function gb(Za){return Za == Lb?1:Za + 1;}function eb(Za){if(0 === Object.keys(Za._waitingReaders).length)return 0;for(var jb=gb(Za._nextReader);!Za._waitingReaders[jb];){jb=gb(jb);}return jb;}function cb(Za){if(0 === Object.keys(Za._waitingWriters).length)return 0;for(var jb=gb(Za._nextWriter);!Za._waitingWriters[jb];){jb=gb(jb);}return jb;}yd=Bb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(Za){var jb;if(this._waitingReaders[Za]){jb=this._waitingReaders[Za];delete this._waitingReaders[Za];Za == this._nextReader && (this._nextReader=eb(this));jb.call(this,!0);}this._waitingWriters[Za] && (jb=this._waitingWriters[Za],delete this._waitingWriters[Za],Za == this._nextWriter && (this._nextWriter=cb(this)),jb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(Za,jb){var qb,hb;qb=this;hb=gb(this._lastNumber);this._lastNumber=hb;ab(jb,function(){var Ba;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[hb]=!0,hb);-1 != Za && (Ba=setTimeout(function(){delete qb._waitingReaders[hb];hb == qb._nextReader && (qb._nextReader=eb(qb));jb.timeout();},Za));this._waitingReaders[hb]=function(Ia){clearTimeout(Ba);Ia?setTimeout(function(){jb.result(zb);},0):(qb._readers[hb]=!0,setTimeout(function(){jb.result(hb);},0));};this._nextReader || (this._nextReader=hb);},qb);return hb;},writeLock:function(Za,jb){var qb,hb;qb=this;hb=gb(this._lastNumber);this._lastNumber=hb;ab(jb,function(){var Ba;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=hb;-1 != Za && (Ba=setTimeout(function(){delete qb._waitingWriters[hb];hb == qb._nextWriter && (qb._nextWriter=cb(qb));jb.timeout();},Za));this._waitingWriters[hb]=function(Ia){clearTimeout(Ba);Ia?setTimeout(function(){jb.result(zb);},0):(qb._writer=hb,setTimeout(function(){jb.result(hb);},0));};this._nextWriter || (this._nextWriter=hb);},qb);return hb;},unlock:function(Za){if(Za == this._writer)this._writer=null;else {if(!this._readers[Za])throw new ub("There is no reader or writer with ticket number " + Za + ".");delete this._readers[Za];}if(this._nextWriter)0 < Object.keys(this._readers).length || (Za=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=cb(this),Za.call(this,!1));else {for(var jb=this._nextReader;0 < Object.keys(this._waitingReaders).length;jb=gb(jb)){this._waitingReaders[jb] && (Za=this._waitingReaders[jb],delete this._waitingReaders[jb],Za.call(this,!1));}this._nextReader=0;}}});})();Bb.Class.mixin(X,{JSON_PARSE_ERROR:new X(0,Da.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new X(1,Da.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new X(2,Da.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new X(3,Da.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new X(4,Da.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new X(5,Da.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new X(6,Da.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new X(7,Da.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new X(8,Da.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new X(9,Da.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new X(10,Da.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new X(11,Da.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new X(12,Da.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new X(13,Da.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new X(14,Da.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new X(15,Da.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new X(16,Da.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new X(17,Da.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new X(18,Da.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new X(19,Da.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new X(20,Da.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new X(21,Da.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new X(22,Da.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new X(23,Da.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new X(24,Da.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new X(25,Da.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new X(26,Da.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new X(27,Da.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new X(28,Da.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new X(29,Da.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new X(30,Da.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new X(31,Da.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new X(32,Da.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new X(33,Da.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new X(34,Da.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new X(35,Da.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new X(36,Da.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new X(37,Da.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new X(38,Da.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new X(39,Da.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new X(40,Da.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new X(41,Da.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new X(42,Da.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new X(43,Da.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new X(44,Da.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new X(45,Da.FAIL,"Error exporting key."),DIGEST_ERROR:new X(46,Da.FAIL,"Error in digest."),UNSUPPORTED_KEY:new X(47,Da.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new X(48,Da.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new X(49,Da.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new X(50,Da.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new X(51,Da.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new X(52,Da.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new X(53,Da.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new X(54,Da.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new X(55,Da.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new X(56,Da.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new X(57,Da.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new X(58,Da.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new X(59,Da.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new X(60,Da.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new X(61,Da.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new X(62,Da.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new X(1E3,Da.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new X(1001,Da.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new X(1002,Da.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new X(1003,Da.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new X(1004,Da.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(1005,Da.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new X(1006,Da.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new X(1007,Da.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new X(1008,Da.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new X(1009,Da.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new X(1010,Da.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new X(1011,Da.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new X(1012,Da.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new X(1013,Da.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new X(1014,Da.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new X(2E3,Da.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new X(2001,Da.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new X(2002,Da.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new X(2003,Da.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new X(2004,Da.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new X(2005,Da.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(2006,Da.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(2007,Da.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new X(2008,Da.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new X(2009,Da.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new X(2010,Da.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new X(2011,Da.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new X(2012,Da.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new X(2013,Da.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new X(2014,Da.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new X(2015,Da.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new X(2016,Da.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new X(2017,Da.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new X(2018,Da.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new X(2019,Da.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new X(2020,Da.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new X(3E3,Da.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new X(3001,Da.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new X(3002,Da.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new X(3003,Da.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new X(3004,Da.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(3005,Da.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(3006,Da.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new X(3007,Da.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new X(3008,Da.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new X(3009,Da.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new X(4E3,Da.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new X(4001,Da.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new X(4002,Da.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new X(4003,Da.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new X(4004,Da.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new X(4005,Da.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new X(4006,Da.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new X(4007,Da.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new X(4008,Da.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new X(4009,Da.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new X(4010,Da.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new X(4011,Da.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new X(4012,Da.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new X(4013,Da.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new X(4014,Da.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new X(4015,Da.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new X(4016,Da.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new X(4017,Da.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new X(4018,Da.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new X(4019,Da.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new X(4020,Da.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new X(4021,Da.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new X(4022,Da.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new X(4023,Da.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new X(4024,Da.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new X(4025,Da.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new X(4026,Da.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new X(5E3,Da.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new X(5001,Da.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new X(5002,Da.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new X(5003,Da.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new X(5004,Da.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new X(5005,Da.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new X(5006,Da.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new X(5007,Da.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new X(5008,Da.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new X(5009,Da.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new X(5010,Da.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new X(5011,Da.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new X(5012,Da.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new X(5013,Da.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new X(5014,Da.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new X(5015,Da.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new X(5016,Da.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new X(5017,Da.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new X(5018,Da.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new X(5019,Da.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new X(5020,Da.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new X(5021,Da.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new X(5022,Da.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new X(5023,Da.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new X(5024,Da.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new X(5025,Da.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new X(5026,Da.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new X(5027,Da.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new X(5028,Da.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new X(5029,Da.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new X(5030,Da.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new X(5031,Da.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new X(5032,Da.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new X(5033,Da.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new X(5034,Da.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new X(5035,Da.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new X(5036,Da.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new X(5037,Da.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new X(5038,Da.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new X(5039,Da.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new X(5040,Da.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new X(6E3,Da.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new X(6001,Da.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new X(6002,Da.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new X(6003,Da.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new X(6004,Da.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new X(6005,Da.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new X(6006,Da.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new X(6007,Da.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new X(6008,Da.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new X(6009,Da.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new X(6010,Da.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new X(6011,Da.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new X(6012,Da.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new X(6013,Da.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new X(6014,Da.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new X(6015,Da.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new X(6016,Da.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new X(6017,Da.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new X(6018,Da.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new X(6019,Da.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new X(6020,Da.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new X(6021,Da.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new X(6022,Da.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new X(6023,Da.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new X(6024,Da.FAIL,"Invalid header data."),PAYLOAD_INVALID:new X(6025,Da.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new X(6026,Da.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new X(6027,Da.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new X(6028,Da.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new X(6029,Da.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new X(6030,Da.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new X(6031,Da.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new X(6032,Da.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new X(6033,Da.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new X(6034,Da.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new X(6035,Da.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new X(6036,Da.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new X(6037,Da.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new X(7E3,Da.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new X(7001,Da.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new X(7002,Da.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new X(7003,Da.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new X(7004,Da.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new X(7005,Da.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new X(7006,Da.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new X(7007,Da.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new X(7008,Da.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new X(7009,Da.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new X(7010,Da.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new X(7011,Da.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new X(7012,Da.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new X(7013,Da.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new X(7014,Da.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new X(7015,Da.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new X(7016,Da.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new X(8E3,Da.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new X(8001,Da.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new X(8002,Da.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new X(8003,Da.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new X(8004,Da.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new X(8005,Da.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new X(8006,Da.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new X(8007,Da.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new X(8008,Da.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new X(8009,Da.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new X(8010,Da.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new X(8011,Da.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new X(8012,Da.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new X(9E3,Da.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new X(9001,Da.FAIL,"Error communicating with MSL entity."),NONE:new X(9999,Da.FAIL,"Special unit test error.")});Object.freeze(X);(function(){db=Bb.Class.create(Error());db.mixin({init:function(gb,eb,cb){var jb,qb,hb;function Za(){return qb?qb:this.cause && this.cause instanceof db?this.cause.messageId:zb;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);jb=gb.message;eb && (jb+=" [" + eb + "]");hb=this.stack;Object.defineProperties(this,{message:{value:jb,writable:!1,configurable:!0},error:{value:gb,writable:!1,configurable:!0},cause:{value:cb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:Za,set:function(Ba){if(0 > Ba || Ba > Lb)throw new RangeError("Message ID " + Ba + " is outside the valid range.");Za() || (qb=Ba);},configurable:!0},stack:{get:function(){var Ba;Ba=this.toString();hb && (Ba+="\n" + hb);cb && cb.stack && (Ba+="\nCaused by " + cb.stack);return Ba;},configurable:!0}});},setEntity:function(gb){!gb || this.masterToken || this.entityAuthenticationData || (gb instanceof cc?this.masterToken=gb:gb instanceof Ec && (this.entityAuthenticationData=gb));return this;},setUser:function(gb){!gb || this.userIdToken || this.userAuthenticationData || (gb instanceof Lc?this.userIdToken=gb:gb instanceof Sc && (this.userAuthenticationData=gb));return this;},setMessageId:function(gb){this.messageId=gb;return this;},toString:function(){return this.name + ": " + this.message;}});})();sb=db.extend({init:function jb(eb,cb,Za){jb.base.call(this,eb,cb,Za);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});Cb=db.extend({init:function qb(cb,Za,jb){qb.base.call(this,cb,Za,jb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});kc=db.extend({init:function hb(Za,jb,qb){hb.base.call(this,Za,jb,qb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){dc=Bb.Class.create(Error());dc.mixin({init:function(Za,jb,qb){var hb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);hb=this.stack;Object.defineProperties(this,{message:{value:Za,writable:!1,configurable:!1},cause:{value:jb,writable:!1,configurable:!1},requestCause:{value:qb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ba;Ba=this.toString();hb && (Ba+="\n" + hb);jb && jb.stack && (Ba+="\nCaused by " + jb.stack);return Ba;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Tb=Bb.Class.create(Error());Tb.mixin({init:function(Za,jb){var qb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);qb=this.stack;Object.defineProperties(this,{message:{value:Za,writable:!1,configurable:!1},cause:{value:jb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var hb;hb=this.toString();qb && (hb+="\n" + qb);jb && jb.stack && (hb+="\nCaused by " + jb.stack);return hb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){ub=Bb.Class.create(Error());ub.mixin({init:function(Za,jb){var qb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);qb=this.stack;Object.defineProperties(this,{message:{value:Za,writable:!1,configurable:!1},cause:{value:jb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var hb;hb=this.toString();qb && (hb+="\n" + qb);jb && jb.stack && (hb+="\nCaused by " + jb.stack);return hb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Xb=Bb.Class.create(Error());Xb.mixin({init:function(Za,jb){var qb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);qb=this.stack;Object.defineProperties(this,{message:{value:Za,writable:!1,configurable:!1},cause:{value:jb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var hb;hb=this.toString();qb && (hb+="\n" + qb);jb && jb.stack && (hb+="\nCaused by " + jb.stack);return hb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Nb=db.extend({init:function Ba(jb,qb,hb){Ba.base.call(this,jb,qb,hb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Tc=db.extend({init:function Ba(qb,hb){Ba.base.call(this,qb);Object.defineProperties(this,{masterToken:{value:hb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Hb=db.extend({init:function La(hb,Ba,Ia){La.base.call(this,hb,Ba,Ia);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});vc=db.extend({init:function ta(Ba,Ia,La){ta.base.call(this,Ba,Ia,La);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var na;function Ba(fa){return "undefined" === typeof fa?!1:fa;}function Ia(fa){return fa && fa.length?(Yb === na.V2014_02 && (fa=fa.map(function(ca){return "wrap" == ca?"wrapKey":"unwrap" == ca?"unwrapKey":ca;})),fa):Yb === na.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function La(fa,ca,Y,aa,ea){return Promise.resolve().then(function(){return Pb.importKey(fa,ca,Y,aa,ea);}).catch(function(ba){var ka;if("spki" !== fa && "pkcs8" !== fa)throw ba;ba=ASN1.webCryptoAlgorithmToJwkAlg(Y);ka=ASN1.webCryptoUsageToJwkKeyOps(ea);ba=ASN1.rsaDerToJwk(ca,ba,ka,aa);if(!ba)throw Error("Could not make valid JWK from DER input");ba=JSON.stringify(ba);return Pb.importKey("jwk",ud(ba),Y,aa,ea);});}function ta(fa,ca){return Promise.resolve().then(function(){return Pb.exportKey(fa,ca);}).catch(function(Y){if("spki" !== fa && "pkcs8" !== fa)throw Y;return Pb.exportKey("jwk",ca).then(function(aa){aa=JSON.parse(td(new Uint8Array(aa)));aa=ASN1.jwkToRsaDer(aa);if(!aa)throw Error("Could not make valid DER from JWK input");return aa.getDer().buffer;});});}na=fd={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(fd);Yb=na.LATEST;Kb={encrypt:function(fa,ca,Y){switch(Yb){case na.LEGACY:return new Promise(function(aa,ea){var ba;ba=Pb.encrypt(fa,ca,Y);ba.oncomplete=function(ka){aa(ka.target.result);};ba.onerror=function(ka){ea(ka);};});case na.V2014_01:case na.V2014_02:return Pb.encrypt(fa,ca,Y).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(fa,ca,Y){switch(Yb){case na.LEGACY:return new Promise(function(aa,ea){var ba;ba=Pb.decrypt(fa,ca,Y);ba.oncomplete=function(ka){aa(ka.target.result);};ba.onerror=function(ka){ea(ka);};});case na.V2014_01:case na.V2014_02:return Pb.decrypt(fa,ca,Y).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(fa,ca,Y){switch(Yb){case na.LEGACY:return new Promise(function(aa,ea){var ba;ba=Pb.sign(fa,ca,Y);ba.oncomplete=function(ka){aa(ka.target.result);};ba.onerror=function(ka){ea(ka);};});case na.V2014_01:case na.V2014_02:return Pb.sign(fa,ca,Y).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(fa,ca,Y,aa){switch(Yb){case na.LEGACY:return new Promise(function(ea,ba){var ka;ka=Pb.verify(fa,ca,Y,aa);ka.oncomplete=function(va){ea(va.target.result);};ka.onerror=function(va){ba(va);};});case na.V2014_01:case na.V2014_02:return Pb.verify(fa,ca,Y,aa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(fa,ca){switch(Yb){case na.LEGACY:return new Promise(function(Y,aa){var ea;ea=Pb.digest(fa,ca);ea.oncomplete=function(ba){Y(ba.target.result);};ea.onerror=function(ba){aa(ba);};});case na.V2014_01:case na.V2014_02:return Pb.digest(fa,ca).then(function(Y){return new Uint8Array(Y);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(fa,ca,Y){var aa,ea;aa=Ba(ca);ea=Ia(Y);switch(Yb){case na.LEGACY:return new Promise(function(ba,ka){var va;va=Pb.generateKey(fa,aa,ea);va.oncomplete=function(sa){ba(sa.target.result);};va.onerror=function(sa){ka(sa);};});case na.V2014_01:case na.V2014_02:return Pb.generateKey(fa,aa,ea);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(fa,ca,Y,aa,ea){var ba,ka;ba=Ba(aa);ka=Ia(ea);switch(Yb){case na.LEGACY:return new Promise(function(va,sa){var la;la=Pb.deriveKey(fa,ca,Y,ba,ka);la.oncomplete=function(pa){va(pa.target.result);};la.onerror=function(pa){sa(pa);};});case na.V2014_01:case na.V2014_02:return Pb.deriveKey(fa,ca,Y,ba,ka);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(fa,ca,Y,aa,ea){var ba,ka;ba=Ba(aa);ka=Ia(ea);switch(Yb){case na.LEGACY:return new Promise(function(va,sa){var la;la=Pb.importKey(fa,ca,Y,ba,ka);la.oncomplete=function(pa){va(pa.target.result);};la.onerror=function(pa){sa(pa);};});case na.V2014_01:case na.V2014_02:return La(fa,ca,Y,ba,ka);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(fa,ca){switch(Yb){case na.LEGACY:return new Promise(function(Y,aa){var ea;ea=Pb.exportKey(fa,ca);ea.oncomplete=function(ba){Y(ba.target.result);};ea.onerror=function(ba){aa(ba);};});case na.V2014_01:case na.V2014_02:return ta(fa,ca).then(function(Y){return new Uint8Array(Y);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(fa,ca,Y,aa){switch(Yb){case na.LEGACY:return new Promise(function(ea,ba){var ka;ka=Pb.wrapKey(ca,Y,aa);ka.oncomplete=function(va){ea(va.target.result);};ka.onerror=function(va){ba(va);};});case na.V2014_01:case na.V2014_02:return Pb.wrapKey(fa,ca,Y,aa).then(function(ea){return new Uint8Array(ea);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(fa,ca,Y,aa,ea,ba,ka){switch(Yb){case na.LEGACY:return new Promise(function(va,sa){var la;la=Pb.unwrapKey(ca,ea,Y);la.oncomplete=function(pa){va(pa.target.result);};la.onerror=function(pa){sa(pa);};});case na.V2014_01:case na.V2014_02:return Pb.unwrapKey(fa,ca,Y,aa,ea,Ba(ba),Ia(ka));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};dd && dd.getKeyByName && (Kb.getKeyByName=function(fa){switch(Yb){case na.LEGACY:return new Promise(function(ca,Y){var aa;aa=dd.getKeyByName(fa);aa.oncomplete=function(ea){ca(ea.target.result);};aa.onerror=function(ea){Y(ea);};});case na.V2014_01:case na.V2014_02:return dd.getKeyByName(fa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});mb.netflix=mb.netflix || ({});mb.netflix.crypto=Kb;})();lc={name:"AES-KW"};hc={name:"AES-CBC"};ic={name:"HMAC",hash:{name:"SHA-256"}};gd={name:"RSA-OAEP",hash:{name:"SHA-1"}};zd={name:"RSAES-PKCS1-v1_5"};je={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};wc=["encrypt","decrypt"];xc=["wrap","unwrap"];Fc=["sign","verify"];(function(){Ad=Bb.Class.create({init:function(Ba,Ia,La){var na;function ta(fa){Ka(Ia,function(){var ca;ca=fa?Fb(fa):zb;Object.defineProperties(na,{rawKey:{value:Ba,writable:!1,configurable:!1},keyData:{value:fa,writable:!1,configurable:!1},keyDataB64:{value:ca,writable:!1,configurable:!1}});return this;},na);}na=this;Ka(Ia,function(){if(!Ba || "object" != typeof Ba)throw new sb(X.INVALID_SYMMETRIC_KEY);!La && Ba.extractable?Kb.exportKey("raw",Ba).then(function(fa){ta(new Uint8Array(fa));},function(fa){Ia.error(new sb(X.KEY_EXPORT_ERROR,"raw"));}):ta(La);},na);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Uc=function(Ba,Ia){new Ad(Ba,Ia);};mc=function(Ba,Ia,La,ta){Ka(ta,function(){try{Ba="string" == typeof Ba?Gb(Ba):Ba;}catch(na){throw new sb(X.INVALID_SYMMETRIC_KEY,"keydata " + Ba,na);}Kb.importKey("raw",Ba,Ia,!0,La).then(function(na){new Ad(na,ta,Ba);},function(na){ta.error(new sb(X.INVALID_SYMMETRIC_KEY));});});};})();(function(){hd=Bb.Class.create({init:function(Ba,Ia,La){var na;function ta(fa){Ka(Ia,function(){Object.defineProperties(na,{rawKey:{value:Ba,writable:!1,configurable:!1},encoded:{value:fa,writable:!1,configurable:!1}});return this;},na);}na=this;Ka(Ia,function(){if(!Ba || "object" != typeof Ba || "public" != Ba.type)throw new TypeError("Only original public crypto keys are supported.");!La && Ba.extractable?Kb.exportKey("spki",Ba).then(function(fa){ta(new Uint8Array(fa));},function(fa){Ia.error(new sb(X.KEY_EXPORT_ERROR,"spki"));}):ta(La);});},getEncoded:function(){return this.encoded;}});Cc=function(Ba,Ia){new hd(Ba,Ia);};Bd=function(Ba,Ia,La,ta){Ka(ta,function(){try{Ba="string" == typeof Ba?Gb(Ba):Ba;}catch(na){throw new sb(X.INVALID_PUBLIC_KEY,"spki " + Ba,na);}Kb.importKey("spki",Ba,Ia,!0,La).then(function(na){new hd(na,ta,Ba);},function(na){ta.error(new sb(X.INVALID_PUBLIC_KEY));});});};})();(function(){ke=Bb.Class.create({init:function(Ba,Ia,La){var na;function ta(fa){Ka(Ia,function(){Object.defineProperties(na,{rawKey:{value:Ba,writable:!1,configurable:!1},encoded:{value:fa,writable:!1,configurable:!1}});return this;},na);}na=this;Ka(Ia,function(){if(!Ba || "object" != typeof Ba || "private" != Ba.type)throw new TypeError("Only original private crypto keys are supported.");!La && Ba.extractable?Kb.exportKey("pkcs8",Ba).then(function(fa){ta(new Uint8Array(fa));},function(fa){Ia.error(new sb(X.KEY_EXPORT_ERROR,"pkcs8"));}):ta(La);});},getEncoded:function(){return this.encoded;}});Kc=function(Ba,Ia){new ke(Ba,Ia);};})();(function(){var Ba;Ba=Fd={V1:1,V2:2};Cd=Bb.Class.create({init:function(Ia,La,ta,na){Ka(na,function(){var fa,ca,Y,aa;fa=Ba.V1;ca=Ia;Y=null;for(aa in ed){if(ed[aa] == Ia){fa=Ba.V2;ca=null;Y=Ia;break;}}Object.defineProperties(this,{version:{value:fa,writable:!1,enumerable:!1,configurable:!1},keyId:{value:ca,writable:!1,configurable:!1},cipherSpec:{value:Y,writable:!1,configurable:!1},iv:{value:La,writable:!1,configurable:!1},ciphertext:{value:ta,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Ia;Ia={};switch(this.version){case Ba.V1:Ia.keyid=this.keyId;this.iv && (Ia.iv=Fb(this.iv));Ia.ciphertext=Fb(this.ciphertext);Ia.sha256="AA==";break;case Ba.V2:Ia.version=this.version;Ia.cipherspec=this.cipherSpec;this.iv && (Ia.iv=Fb(this.iv));Ia.ciphertext=Fb(this.ciphertext);break;default:throw new ub("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Ia;}});Dd=function(Ia,La,ta,na){new Cd(Ia,La,ta,na);};Ed=function(Ia,La,ta){Ka(ta,function(){var na,fa,ca,Y,aa,ea,ba;na=Ia.keyid;fa=Ia.cipherspec;ca=Ia.iv;Y=Ia.ciphertext;aa=Ia.sha256;if(!La)if((La=Ia.version) && "number" === typeof La && La === La){ea=!1;for(ba in Ba){if(Ba[ba] == La){ea=!0;break;}}if(!ea)throw new sb(X.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ia));}else La=Ba.V1;switch(La){case Ba.V1:if("string" !== typeof na || ca && "string" !== typeof ca || "string" !== typeof Y || "string" !== typeof aa)throw new Cb(X.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ia));break;case Ba.V2:ba=Ia.version;if(ba != Ba.V2)throw new sb(X.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ia));if("string" !== typeof fa || ca && "string" !== typeof ca || "string" !== typeof Y)throw new Cb(X.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ia));fa=ge(fa);if(!fa)throw new sb(X.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Ia));na=fa;break;default:throw new sb(X.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ia));}try{ca && (ca=Gb(ca));Y=Gb(Y);}catch(ka){throw new sb(X.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Ia),ka);}new Cd(na,ca,Y,ta);});};})();(function(){var Ba;Ba=Id={V1:1,V2:2};nc=Bb.Class.create({init:function(Ia,La,ta){var na;switch(Ia){case Ba.V1:na=ta;break;case Ba.V2:na={};na.version=Ia;na.algorithm=La;na.signature=Fb(ta);na=$b(JSON.stringify(na),Mb);break;default:throw new ub("Signature envelope version " + Ia + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Ia,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:La,writable:!1,configurable:!1},signature:{value:ta,writable:!1,configurable:!1},bytes:{value:na,writable:!1,configurable:!1}});}});Gd=function(){var Ia,La,ta,na;if(2 == arguments.length){Ia=Ba.V1;La=arguments[0];ta=null;na=arguments[1];}else 3 == arguments.length && (Ia=Ba.V2,ta=arguments[0],La=arguments[1],na=arguments[2]);Ka(na,function(){return new nc(Ia,ta,La);});};Hd=function(Ia,La,ta){Ka(ta,function(){var na,fa,ca,Y,aa,ea,ba;if(La)switch(La){case Ba.V1:return new nc(Ba.V1,null,Ia);case Ba.V2:try{na=Zb(Ia,Mb);fa=JSON.parse(na);ca=parseInt(fa.version);Y=fa.algorithm;aa=fa.signature;if(!ca || "number" !== typeof ca || ca != ca || "string" !== typeof Y || "string" !== typeof aa)throw new Cb(X.JSON_PARSE_ERROR,"signature envelope " + Fb(Ia));if(Ba.V2 != ca)throw new sb(X.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Fb(Ia));ea=xd(Y);if(!ea)throw new sb(X.UNIDENTIFIED_ALGORITHM,"signature envelope " + Fb(Ia));ba=Gb(aa);if(!ba)throw new sb(X.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Ia));return new nc(Ba.V2,ea,ba);}catch(ka){if(ka instanceof SyntaxError)throw new Cb(X.JSON_PARSE_ERROR,"signature envelope " + Fb(Ia),ka);throw ka;}default:throw new sb(X.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Fb(Ia));}try{na=Zb(Ia,Mb);fa=JSON.parse(na);}catch(ka){fa=null;}if(fa && fa.version){if((na=fa.version,"number" !== typeof na || na !== na))na=Ba.V1;}else na=Ba.V1;switch(na){case Ba.V1:return new nc(na,null,Ia);case Ba.V2:ea=fa.algorithm;aa=fa.signature;if("string" !== typeof ea || "string" !== typeof aa)return new nc(Ba.V1,null,Ia);ea=xd(ea);if(!ea)return new nc(Ba.V1,null,Ia);try{ba=Gb(aa);}catch(ka){return new nc(Ba.V1,null,Ia);}return new nc(na,ea,ba);default:throw new sb(X.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Ia);}});};})();Mc=Bb.Class.create({encrypt:function(Ba,Ia){},decrypt:function(Ba,Ia){},wrap:function(Ba,Ia){},unwrap:function(Ba,Ia,La,ta){},sign:function(Ba,Ia){},verify:function(Ba,Ia,La){}});(function(){var Ba;Ba=pc={RSA_OAEP:gd.name,A128KW:lc.name};jc="A128GCM";oc=Bb.Class.create({init:function(Ia,La,ta,na,fa){switch(La){case Ba.RSA_OAEP:fa=fa && (fa.rawKey || fa);na=na && (na.rawKey || na);break;case Ba.A128KW:fa=na=na && (na.rawKey || na);break;default:throw new ub("Unsupported algorithm: " + La);}Object.defineProperties(this,{_ctx:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_algo:{value:La,writable:!1,enumerable:!1,configurable:!1},_enc:{value:ta,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:fa,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:na,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ia,La){La.error(new sb(X.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Ia,La){La.error(new sb(X.DECRYPT_NOT_SUPPORTED));},wrap:function(Ia,La){Ka(La,function(){Kb.wrapKey("jwe+jwk",Ia.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(ta){La.result(ta);},function(ta){La.error(new sb(X.WRAP_ERROR));});},this);},unwrap:function(Ia,La,ta,na){function fa(ca){Ka(na,function(){switch(ca.type){case "secret":Uc(ca,na);break;case "public":Cc(ca,na);break;case "private":Kc(ca,na);break;default:throw new sb(X.UNSUPPORTED_KEY,"type: " + ca.type);}});}Ka(na,function(){Kb.unwrapKey("jwe+jwk",Ia,this._unwrapKey,this._unwrapKey.algorithm,La,!1,ta).then(function(ca){fa(ca);},function(){na.error(new sb(X.UNWRAP_ERROR));});},this);},sign:function(Ia,La){La.error(new sb(X.SIGN_NOT_SUPPORTED));},verify:function(Ia,La,ta){ta.error(new sb(X.VERIFY_NOT_SUPPORTED));}});})();Nc=Mc.extend({encrypt:function(Ba,Ia){Ia.result(Ba);},decrypt:function(Ba,Ia){Ia.result(Ba);},wrap:function(Ba,Ia){Ia.result(Ba);},unwrap:function(Ba,Ia,La,ta){ta.result(Ba);},sign:function(Ba,Ia){Ia.result(new Uint8Array(0));},verify:function(Ba,Ia,La){La.result(!0);}});(function(){var Ba;Ba=jd={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};id=Mc.extend({init:function Y(La,ta,na,fa,ca){Y.base.call(this);na && (na=na.rawKey);fa && (fa=fa.rawKey);Object.defineProperties(this,{id:{value:ta,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:na,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:fa,writable:!1,enumerable:!1,configurable:!1},transform:{value:ca == Ba.ENCRYPT_DECRYPT_PKCS1?zd:ca == Ba.ENCRYPT_DECRYPT_OAEP?gd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:ca == Ba.WRAP_UNWRAP_PKCS1?zd:ca == Ba.WRAP_UNWRAP_OAEP?gd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:ca == Ba.SIGN_VERIFY?je:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(La,ta){var na;na=this;Ka(ta,function(){if("nullOp" == this.transform)return La;if(!this.publicKey)throw new sb(X.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == La.length)return La;Kb.encrypt(na.transform,na.publicKey,La).then(function(fa){Dd(na.id,null,fa,{result:function(ca){var Y;try{Y=JSON.stringify(ca);ta.result($b(Y,Mb));}catch(aa){ta.error(new sb(X.ENCRYPT_ERROR,null,aa));}},error:function(ca){ca instanceof db || (ca=new sb(X.ENCRYPT_ERROR,null,ca));ta.error(ca);}});},function(fa){ta.error(new sb(X.ENCRYPT_ERROR));});},this);},decrypt:function(La,ta){var na;na=this;Ka(ta,function(){var fa,ca;if("nullOp" == this.transform)return La;if(!this.privateKey)throw new sb(X.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == La.length)return La;try{fa=Zb(La,Mb);ca=JSON.parse(fa);}catch(Y){if(Y instanceof SyntaxError)throw new sb(X.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,Y);throw new sb(X.DECRYPT_ERROR,null,Y);}Ed(ca,Fd.V1,{result:function(Y){var aa;try{if(Y.keyId != na.id)throw new sb(X.ENVELOPE_KEY_ID_MISMATCH);aa=ta.result;Kb.decrypt(na.transform,na.privateKey,Y.ciphertext).then(aa,function(ea){ta.error(new sb(X.DECRYPT_ERROR));});}catch(ea){ea instanceof db?ta.error(ea):ta.error(new sb(X.DECRYPT_ERROR,null,ea));}},error:function(Y){Y instanceof Cb && (Y=new sb(X.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,Y));Y instanceof db || (Y=new sb(X.DECRYPT_ERROR,null,Y));ta.error(Y);}});},this);},wrap:function(La,ta){Ka(ta,function(){var na;if("nullOp" == this.wrapTransform || !this.publicKey)throw new sb(X.WRAP_NOT_SUPPORTED,"no public key");na=ta.result;Kb.wrapKey("jwk",La.rawKey,this.publicKey,this.wrapTransform).then(na,function(fa){ta.error(new sb(X.WRAP_ERROR));});},this);},unwrap:function(La,ta,na,fa){function ca(Y){Ka(fa,function(){switch(Y.type){case "secret":Uc(Y,fa);break;case "public":Cc(Y,fa);break;case "private":Kc(Y,fa);break;default:throw new sb(X.UNSUPPORTED_KEY,"type: " + Y.type);}});}Ka(fa,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new sb(X.UNWRAP_NOT_SUPPORTED,"no private key");Kb.unwrapKey("jwk",La,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},ta,!1,na).then(ca,function(Y){fa.error(new sb(X.UNWRAP_ERROR));});},this);},sign:function(La,ta){Ka(ta,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new sb(X.SIGN_NOT_SUPPORTED,"no private key");Kb.sign(this.algo,this.privateKey,La).then(function(na){Gd(na,{result:function(fa){ta.result(fa.bytes);},error:ta.error});},function(na){ta.error(new sb(X.SIGNATURE_ERROR));});},this);},verify:function(La,ta,na){var fa;fa=this;Ka(na,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new sb(X.VERIFY_NOT_SUPPORTED,"no public key");Hd(ta,Id.V1,{result:function(ca){Ka(na,function(){var Y;Y=na.result;Kb.verify(this.algo,this.publicKey,ca.signature,La).then(Y,function(aa){na.error(new sb(X.SIGNATURE_ERROR));});},fa);},error:na.error});},this);}});})();(function(){kd=Mc.extend({init:function ca(Ia,La,ta,na,fa){ca.base.call(this);ta=ta && ta.rawKey;na=na && na.rawKey;fa=fa && fa.rawKey;Object.defineProperties(this,{ctx:{value:Ia,writable:!1,enumerable:!1,configurable:!1},id:{value:La,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:ta,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:na,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:fa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ia,La){var ta;ta=this;Ka(La,function(){var na;if(!this.encryptionKey)throw new sb(X.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ia.length)return Ia;na=new Uint8Array(16);this.ctx.getRandom().nextBytes(na);Kb.encrypt({name:hc.name,iv:na},ta.encryptionKey,Ia).then(function(fa){fa=new Uint8Array(fa);Dd(ta.id,na,fa,{result:function(ca){var Y;try{Y=JSON.stringify(ca);La.result($b(Y,Mb));}catch(aa){La.error(new sb(X.ENCRYPT_ERROR,null,aa));}},error:function(ca){ca instanceof db || (ca=new sb(X.ENCRYPT_ERROR,null,ca));La.error(ca);}});},function(fa){La.error(new sb(X.ENCRYPT_ERROR));});},this);},decrypt:function(Ia,La){var ta;ta=this;Ka(La,function(){var na,fa;if(!this.encryptionKey)throw new sb(X.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ia.length)return Ia;try{na=Zb(Ia,Mb);fa=JSON.parse(na);}catch(ca){if(ca instanceof SyntaxError)throw new sb(X.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,ca);throw new sb(X.DECRYPT_ERROR,null,ca);}Ed(fa,Fd.V1,{result:function(ca){try{if(ca.keyId != ta.id)throw new sb(X.ENVELOPE_KEY_ID_MISMATCH);Kb.decrypt({name:hc.name,iv:ca.iv},ta.encryptionKey,ca.ciphertext).then(function(Y){Y=new Uint8Array(Y);La.result(Y);},function(){La.error(new sb(X.DECRYPT_ERROR));});}catch(Y){Y instanceof db?La.error(Y):La.error(new sb(X.DECRYPT_ERROR,null,Y));}},error:function(ca){ca instanceof Cb && (ca=new sb(X.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,ca));ca instanceof db || (ca=new sb(X.DECRYPT_ERROR,null,ca));La.error(ca);}});},this);},wrap:function(Ia,La){Ka(La,function(){if(!this.wrapKey)throw new sb(X.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Kb.wrapKey("raw",Ia.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(ta){La.result(ta);},function(ta){La.error(new sb(X.WRAP_ERROR));});},this);},unwrap:function(Ia,La,ta,na){function fa(ca){Ka(na,function(){switch(ca.type){case "secret":Uc(ca,na);break;case "public":Cc(ca,na);break;case "private":Kc(ca,na);break;default:throw new sb(X.UNSUPPORTED_KEY,"type: " + ca.type);}});}Ka(na,function(){if(!this.wrapKey)throw new sb(X.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Kb.unwrapKey("raw",Ia,this.wrapKey,this.wrapKey.algorithm,La,!1,ta).then(function(ca){fa(ca);},function(ca){na.error(new sb(X.UNWRAP_ERROR));});},this);},sign:function(Ia,La){var ta;ta=this;Ka(La,function(){if(!this.hmacKey)throw new sb(X.SIGN_NOT_SUPPORTED,"no HMAC key.");Kb.sign(ic,this.hmacKey,Ia).then(function(na){Ka(La,function(){var fa;fa=new Uint8Array(na);Gd(fa,{result:function(ca){La.result(ca.bytes);},error:La.error});},ta);},function(){La.error(new sb(X.HMAC_ERROR));});},this);},verify:function(Ia,La,ta){var na;na=this;Ka(ta,function(){if(!this.hmacKey)throw new sb(X.VERIFY_NOT_SUPPORTED,"no HMAC key.");Hd(La,Id.V1,{result:function(fa){Ka(ta,function(){Kb.verify(ic,this.hmacKey,fa.signature,Ia).then(function(ca){ta.result(ca);},function(ca){ta.error(new sb(X.HMAC_ERROR));});},na);},error:ta.error});},this);}});})();fc=kd.extend({init:function ca(Ia,La,ta,na,fa){if(ta || na || fa)ca.base.call(this,Ia,ta + "_" + La.sequenceNumber,na,fa,null);else {if(!La.isDecrypted())throw new Tc(X.MASTERTOKEN_UNTRUSTED,La);ca.base.call(this,Ia,La.identity + "_" + La.sequenceNumber,La.encryptionKey,La.hmacKey,null);}}});kf=Mc.extend({encrypt:function(Ia,La){La.result(Ia);},decrypt:function(Ia,La){La.result(Ia);},wrap:function(Ia,La){La.error(new ub("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Ia,La,ta,na){na.error(new ub("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Ia,La){La.result(new Uint8Array(0));},verify:function(Ia,La,ta){ta.result(!1);}});Qb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Qb);(function(){Ec=Bb.Class.create({init:function(Ia){Object.defineProperties(this,{scheme:{value:Ia,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Ia){return this === Ia?!0:Ia instanceof Ec?this.scheme == Ia.scheme:!1;},toJSON:function(){var Ia;Ia={};Ia.scheme=this.scheme;Ia.authdata=this.getAuthData();return Ia;}});le=function(Ia,La){var ta,na;ta=La.scheme;na=La.authdata;if(!ta || !na)throw new Cb(X.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(La));if(!Qb[ta])throw new kc(X.UNIDENTIFIED_ENTITYAUTH_SCHEME,ta);La=Ia.getEntityAuthenticationFactory(ta);if(!La)throw new kc(X.ENTITYAUTH_FACTORY_NOT_FOUND,ta);return La.createData(Ia,na);};})();ld=Bb.Class.create({init:function(Ia){Object.defineProperties(this,{scheme:{value:Ia,writable:!1,configurable:!1}});},createData:function(Ia,La){},getCryptoContext:function(Ia,La){}});(function(){qc=Ec.extend({init:function ta(La){ta.base.call(this,Qb.MGK);Object.defineProperties(this,{identity:{value:La,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var La;La={};La.identity=this.identity;return La;},equals:function na(ta){return this === ta?!0:ta instanceof qc?na.base.call(this,this,ta) && this.identity == ta.identity:!1;}});me=function(ta){var na;na=ta.identity;if(!na)throw new Cb(X.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(ta));return new qc(na);};})();lf=ld.extend({init:function ta(La){ta.base.call(this,Qb.MGK);Object.defineProperties(this,{localIdentity:{value:La,writable:!1,enumerable:!1,configurable:!1}});},createData:function(La,ta){return me(ta);},getCryptoContext:function(La,ta){if(!(ta instanceof qc))throw new ub("Incorrect authentication data type " + JSON.stringify(ta) + ".");if(ta.identity != this.localIdentity)throw new kc(X.ENTITY_NOT_FOUND,"mgk " + ta.identity).setEntity(ta);return new Nc();}});(function(){rc=Ec.extend({init:function na(ta){na.base.call(this,Qb.PSK);Object.defineProperties(this,{identity:{value:ta,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ta;ta={};ta.identity=this.identity;return ta;},equals:function fa(na){return this === na?!0:na instanceof rc?fa.base.call(this,this,na) && this.identity == na.identity:!1;}});ne=function(na){var fa;fa=na.identity;if(!fa)throw new Cb(X.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(na));return new rc(fa);};})();mf=ld.extend({init:function na(ta){na.base.call(this,Qb.PSK);Object.defineProperties(this,{localIdentity:{value:ta,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ta,na){return ne(na);},getCryptoContext:function(ta,na){if(!(na instanceof rc))throw new ub("Incorrect authentication data type " + JSON.stringify(na) + ".");if(na.getIdentity() != this.localIdentity)throw new kc(X.ENTITY_NOT_FOUND,"psk " + na.identity).setEntity(na);return new Nc();}});(function(){md=Ec.extend({init:function ca(na,fa){ca.base.call(this,Qb.RSA);Object.defineProperties(this,{identity:{value:na,writable:!1,configurable:!1},publicKeyId:{value:fa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var na;na={};na.identity=this.identity;na.pubkeyid=this.publicKeyId;return na;},equals:function ca(fa){return this === fa?!0:fa instanceof md?ca.base.call(this,this,fa) && this.identity == fa.identity && this.publicKeyId == fa.publicKeyId:!1;}});oe=function(fa){var ca,Y;ca=fa.identity;Y=fa.pubkeyid;if(!ca || "string" !== typeof ca || !Y || "string" !== typeof Y)throw new Cb(X.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(fa));return new md(ca,Y);};})();nf=ld.extend({init:function fa(na){fa.base.call(this,Qb.RSA);Object.defineProperties(this,{store:{value:na,writable:!1,enumerable:!1,configurable:!1}});},createData:function(na,fa){return oe(fa);},getCryptoContext:function(na,fa){var ca,Y,aa;if(!(fa instanceof md))throw new ub("Incorrect authentication data type " + fa + ".");ca=fa.identity;Y=fa.publicKeyId;aa=this.store.getPublicKey(Y);if(!aa)throw new kc(X.RSA_PUBLICKEY_NOT_FOUND,Y).setEntity(fa);return new id(na,ca,null,aa,jd.SIGN_VERIFY);}});(function(){Qc=Ec.extend({init:function ca(fa){ca.base.call(this,Qb.NONE);Object.defineProperties(this,{identity:{value:fa,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var fa;fa={};fa.identity=this.identity;return fa;},equals:function Y(ca){return this === ca?!0:ca instanceof Qc?Y.base.call(this,this,ca) && this.identity == ca.identity:!1;}});pe=function(ca){var Y;Y=ca.identity;if(!Y)throw new Cb(X.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(ca));return new Qc(Y);};})();jf=ld.extend({init:function fa(){fa.base.call(this,Qb.NONE);},createData:function(fa,ca){return pe(ca);},getCryptoContext:function(fa,ca){if(!(ca instanceof Qc))throw new ub("Incorrect authentication data type " + JSON.stringify(ca) + ".");return new Nc();}});of=Bb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(fa,ca){if(!(ca instanceof hd))throw new ub("Incorrect key data type " + ca + ".");this.rsaKeys[fa]=ca;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(fa){delete this.rsaKeys[fa];},getPublicKey:function(fa){return this.rsaKeys[fa];}});Jd=Bb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(fa,ca,Y){}});nd=Bb.Class.create({abort:function(){},close:function(fa,ca){},write:function(fa,ca,Y,aa,ea){},flush:function(fa,ca){}});pf=Bb.Class.create({init:function(fa){Object.defineProperties(this,{_data:{value:fa,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Tb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(fa,ca,Y){ab(Y,function(){var aa;if(this._closed)throw new Tb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == fa && (fa=this._data.length - this._currentPosition);aa=this._data.subarray(this._currentPosition,this._currentPosition + fa);this._currentPosition+=aa.length;return aa;},this);}});qf=Bb.Class.create({init:function(){var fa;fa={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,fa);},abort:function(){},close:function(fa,ca){this._closed=!0;ca.result(!0);},write:function(fa,ca,Y,aa,ea){ab(ea,function(){var ba;if(this._closed)throw new Tb("Stream is already closed.");if(0 > ca)throw new RangeError("Offset cannot be negative.");if(0 > Y)throw new RangeError("Length cannot be negative.");if(ca + Y > fa.length)throw new RangeError("Offset plus length cannot be greater than the array length.");ba=fa.subarray(ca,Y);this._buffered.push(ba);return ba.length;},this);},flush:function(fa,ca){var Y;for(;0 < this._buffered.length;){if((fa=this._buffered.shift(),this._result)){Y=new Uint8Array(this._result.length + fa.length);Y.set(this._result);Y.set(fa,this._result.length);this._result=Y;}else this._result=new Uint8Array(fa);}ca.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});rf=Bb.Class.create({getResponse:function(fa,ca,Y){}});(function(){var fa,ca;fa=nd.extend({init:function(Y,aa){Y={_httpLocation:{value:Y,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:aa,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new qf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:zb,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:zb,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Rc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Y);},setTimeout:function(Y){this._timeout=Y;},getResponse:function(Y,aa){var ea;ea=this;this._responseQueue.poll(Y,{result:function(ba){ab(aa,function(){ba && this._responseQueue.add(ba);return ba;},ea);},timeout:function(){ab(aa,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();aa.timeout();},ea);},error:function(ba){ab(aa,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw ba;},ea);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(Y,aa){var ea;ea=this;ab(aa,function(){var ba;if(this._response)return !0;ba=this._buffer.toByteArray();0 < ba.length && (this._abortToken=this._httpLocation.getResponse({body:ba},this._timeout,{result:function(ka){ea._response={response:ka};ea._responseQueue.add(ea._response);},timeout:function(){ea._response={isTimeout:!0};ea._responseQueue.add(ea._response);},error:function(ka){ea._response={isError:!0,error:ka};ea._responseQueue.add(ea._response);}}));return !0;},this);},write:function(Y,aa,ea,ba,ka){ab(ka,function(){if(this._response)throw new Tb("HttpOutputStream already closed.");this._buffer.write(Y,aa,ea,ba,ka);},this);},flush:function(Y,aa){ab(aa,function(){if(this._response)return !0;this._buffer.flush(Y,aa);},this);}});ca=Jd.extend({init:function(Y){Object.defineProperties(this,{_out:{value:Y,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:zb,writable:!0,enumerable:!1,configurable:!1},_exception:{value:zb,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(Y,aa,ea){var ka;function ba(va){ab(ea,function(){if(!va)return new Uint8Array(0);this._out.getResponse(aa,{result:function(sa){ab(ea,function(){var la;if(sa.isTimeout)(this._timedout=!0,ea.timeout());else {if(sa.isError)throw (this._exception=sa.error || new Tb("Unknown HTTP exception."),this._exception);if(!sa.response)throw (this._exception=new Tb("Missing HTTP response."),this._exception);sa.response.json !== zb && (this._json=sa.response.json,this.getJSON=function(){return ka._json;});la=sa.response.content || ud("string" === typeof sa.response.body?sa.response.body:JSON.stringify(this._json));this._buffer=new pf(la);this._buffer.read(Y,aa,ea);}},ka);},timeout:function(){ea.timeout();},error:function(sa){ea.error(sa);}});},ka);}ka=this;ab(ea,function(){if(this._exception)throw this._exception;if(this._timedout)ea.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(Y,aa,ea):this._out.close(aa,{result:function(va){ba(va);},timeout:function(){ea.timeout();},error:function(va){ea.error(va);}});}},ka);}});ae=Bb.Class.create({init:function(Y,aa){Object.defineProperties(this,{_httpLocation:{value:Y,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:aa,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(Y){this._timeout=Y;},openConnection:function(){var Y;Y=new fa(this._httpLocation,this._timeout);return {input:new ca(Y),output:Y};}});})();(function(){var fa,ca;fa=nd.extend({init:function(){var Y;Y={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Y);},setTimeout:function(){},getResponse:function(Y,aa){aa.result({success:!1,content:null,errorHttpCode:zb,errorSubCode:zb});},abort:function(){},close:function(Y,aa){aa.result(!0);},write:function(Y,aa,ea,ba,ka){var va,sa;try{if(0 > aa)throw new RangeError("Offset cannot be negative.");if(0 > ea)throw new RangeError("Length cannot be negative.");if(aa + ea > Y.length)throw new RangeError("Offset plus length cannot be greater than the array length.");va=Y.subarray(aa,ea);sa=new Uint8Array(this._buffer.length + va.length);sa.set(this._buffer);sa.set(va,this._buffer.length);this._buffer=sa;ka.result(va.length);}catch(la){ka.error(la);}},flush:function(Y,aa){aa.result(!0);},request:function(){return this._buffer;}});ca=Jd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(Y,aa,ea){ea.result(new Uint8Array(16));}});be=Bb.Class.create({init:function(){var Y;Y={output:{value:new fa(),writable:!1,enumerable:!1,configurable:!1},input:{value:new ca(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Y);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return td(this.output.request());}});})();qe=function(fa,ca,Y){(function(aa,ea,ba){aa.read(-1,ea,{result:function(ka){ka && ka.length?ba(null,ka):ba(null,null);},timeout:function(){Y.timeout();},error:function(ka){ba(ka,null);}});})(fa,ca,function(aa,ea){var ba,ka;if(aa)Y.error(aa);else if(ea){if(fa.getJSON !== zb && "function" === typeof fa.getJSON)Y.result(fa.getJSON());else {aa=Y.result;ea=new sf(Zb(ea,"utf-8"));ba=[];for(ka=ea.nextValue();ka !== zb;){ba.push(ka);ka=ea.nextValue();}aa.call(Y,ba);}}else Y.result(null);});};ec={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(ec);(function(){Vc=Bb.Class.create({init:function(fa){Object.defineProperties(this,{keyExchangeScheme:{value:fa,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var fa;fa={};fa.scheme=this.keyExchangeScheme;fa.keydata=this.getKeydata();return fa;},equals:function(fa){return this === fa?!0:fa instanceof Vc?this.keyExchangeScheme == fa.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});re=function(fa,ca,Y){Ka(Y,function(){var aa,ea,ba;aa=ca.scheme;ea=ca.keydata;if(!aa || !ea || "object" !== typeof ea)throw new Cb(X.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(ca));if(!ec[aa])throw new Nb(X.UNIDENTIFIED_KEYX_SCHEME,aa);ba=fa.getKeyExchangeFactory(aa);if(!ba)throw new Nb(X.KEYX_FACTORY_NOT_FOUND,aa);ba.createRequestData(fa,ea,Y);});};})();(function(){Wc=Bb.Class.create({init:function(fa,ca){Object.defineProperties(this,{masterToken:{value:fa,writable:!1,configurable:!1},keyExchangeScheme:{value:ca,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var fa;fa={};fa.mastertoken=this.masterToken;fa.scheme=this.keyExchangeScheme;fa.keydata=this.getKeydata();return fa;},equals:function(fa){return this === fa?!0:fa instanceof Wc?this.masterToken.equals(fa.masterToken) && this.keyExchangeScheme == fa.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});se=function(fa,ca,Y){Ka(Y,function(){var aa,ea,ba;aa=ca.mastertoken;ea=ca.scheme;ba=ca.keydata;if(!ea || !aa || "object" !== typeof aa || !ba || "object" !== typeof ba)throw new Cb(X.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(ca));if(!ec[ea])throw new Nb(X.UNIDENTIFIED_KEYX_SCHEME,ea);Xc(fa,aa,{result:function(ka){Ka(Y,function(){var va;va=fa.getKeyExchangeFactory(ea);if(!va)throw new Nb(X.KEYX_FACTORY_NOT_FOUND,ea);return va.createResponseData(fa,ka,ba);});},error:function(ka){Y.error(ka);}});});};})();(function(){var fa;fa=Bb.Class.create({init:function(ca,Y){Object.defineProperties(this,{keyResponseData:{value:ca,writable:!1,configurable:!1},cryptoContext:{value:Y,writable:!1,configurable:!1}});}});gc=Bb.Class.create({init:function(ca){Object.defineProperties(this,{scheme:{value:ca,writable:!1,configurable:!1}});},createRequestData:function(ca,Y,aa){},createResponseData:function(ca,Y,aa){},generateResponse:function(ca,Y,aa,ea){},getCryptoContext:function(ca,Y,aa,ea,ba){},generateSessionKeys:function(ca,Y){Ka(Y,function(){var aa,ea;aa=new Uint8Array(16);ea=new Uint8Array(32);ca.getRandom().nextBytes(aa);ca.getRandom().nextBytes(ea);mc(aa,hc,wc,{result:function(ba){mc(ea,ic,Fc,{result:function(ka){Y.result({encryptionKey:ba,hmacKey:ka});},error:function(ka){Y.error(new sb(X.SESSION_KEY_CREATION_FAILURE,null,ka));}});},error:function(ba){Y.error(new sb(X.SESSION_KEY_CREATION_FAILURE,null,ba));}});});},importSessionKeys:function(ca,Y,aa){mc(ca,hc,wc,{result:function(ea){mc(Y,ic,Fc,{result:function(ba){aa.result({encryptionKey:ea,hmacKey:ba});},error:function(ba){aa.error(ba);}});},error:function(ea){aa.error(ea);}});}});gc.KeyExchangeData=fa;})();(function(){var ca,Y,aa;function fa(ea,ba,ka,va,sa){Ka(sa,function(){var la,pa;switch(ba){case ca.PSK:(la=new rc(va),pa=ea.getEntityAuthenticationFactory(Qb.PSK));if(!pa)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,ba);la=pa.getCryptoContext(ea,la);return new oc(ea,pc.A128KW,jc,zb);case ca.MGK:la=new qc(va);pa=ea.getEntityAuthenticationFactory(Qb.MGK);if(!pa)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,ba);la=pa.getCryptoContext(ea,la);return new oc(ea,pc.A128KW,jc,zb);case ca.WRAP:la=ea.getMslCryptoContext();la.unwrap(ka,lc,xc,{result:function(ya){Ka(sa,function(){return new oc(ea,pc.A128KW,jc,ya);});},error:sa.error});break;default:throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,ba);}});}ca={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};Y=te=Vc.extend({init:function va(ba,ka){va.base.call(this,ec.JWE_LADDER);switch(ba){case ca.WRAP:if(!ka)throw new ub("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ka=null;}Object.defineProperties(this,{mechanism:{value:ba,writable:!1,configurable:!1},wrapdata:{value:ka,writable:!1,configurable:!1}});},getKeydata:function(){var ba;ba={};ba.mechanism=this.mechanism;this.wrapdata && (ba.wrapdata=Fb(this.wrapdata));return ba;},equals:function va(ka){return ka === this?!0:ka instanceof te?va.base.call(this,ka) && this.mechanism == ka.mechanism && ac(this.wrapdata,ka.wrapdata):!1;},uniqueKey:function va(){var sa;sa=va.base.call(this) + ":" + this.mechanism;this.wrapdata && (sa+=":" + bc(this.wrapdata));return sa;}});aa=ue=Wc.extend({init:function da(sa,la,pa,ya,ma){da.base.call(this,sa,ec.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:la,writable:!1,configurable:!1},wrapdata:{value:pa,writable:!1,configurable:!1},encryptionKey:{value:ya,writable:!1,configurable:!1},hmacKey:{value:ma,writable:!1,configurable:!1}});},getKeydata:function(){var sa;sa={};sa.wrapkey=Fb(this.wrapKey);sa.wrapdata=Fb(this.wrapdata);sa.encryptionkey=Fb(this.encryptionKey);sa.hmackey=Fb(this.hmacKey);return sa;},equals:function pa(la){return this === la?!0:la instanceof ue?pa.base.call(this,la) && ac(this.wrapKey,la.wrapKey) && ac(this.wrapdata,la.wrapdata) && ac(this.encryptionKey,la.encryptionKey) && ac(this.hmacKey,la.hmacKey):!1;},uniqueKey:function pa(){return pa.base.call(this) + ":" + bc(this.wrapKey) + ":" + bc(this.wrapdata) + ":" + bc(this.encryptionKey) + ":" + bc(this.hmacKey);}});gc.extend({init:function ma(ya){ma.base.call(this,ec.JWE_LADDER);Object.defineProperties(this,{repository:{value:ya,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ya,ma,da){Ka(da,function(){var ha,ja,wa;ha=ma.mechanism;ja=ma.wrapdata;if(!ha || ha == ca.WRAP && (!ja || "string" !== typeof ja))throw new Cb(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ma));if(!ca[ha])throw new Nb(X.UNIDENTIFIED_KEYX_MECHANISM,ha);switch(ha){case ca.WRAP:try{wa=Gb(ja);}catch(Qa){throw new Nb(X.KEYX_WRAPPING_KEY_MISSING,"keydata " + ma.toString());}if(null == wa || 0 == wa.length)throw new Nb(X.KEYX_WRAPPING_KEY_MISSING,"keydata " + ma.toString());break;default:wa=null;}return new Y(ha,wa);});},createResponseData:function(ya,ma,da){var ha,ja,wa,Qa,Ja,Ma,Sa;ya=da.wrapkey;ha=da.wrapdata;ja=da.encryptionkey;wa=da.hmackey;if(!(ya && "string" === typeof ya && ha && "string" === typeof ha && ja && "string" === typeof ja && wa) || "string" !== typeof wa)throw new Cb(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(da));try{Qa=Gb(ya);Ja=Gb(ha);}catch(oa){throw new sb(X.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(da),oa);}try{Ma=Gb(ja);}catch(oa){throw new sb(X.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(da),oa);}try{Sa=Gb(wa);}catch(oa){throw new sb(X.INVALID_HMAC_KEY,"keydata " + JSON.stringify(da),oa);}return new aa(ma,Qa,Ja,Ma,Sa);},generateResponse:function(ya,ma,da,ha){var Ma,Sa;function ja(oa,xa,Ca){Ma.generateSessionKeys(ya,{result:function(Ga){Ka(ha,function(){wa(oa,xa,Ca,Ga.encryptionKey,Ga.hmacKey);},Ma);},error:function(Ga){Ka(ha,function(){Ga instanceof db && Ga.setEntity(Sa);throw Ga;});}});}function wa(oa,xa,Ca,Ga,za){Ka(ha,function(){fa(ya,ma.mechanism,ma.wrapdata,oa,{result:function(Ta){Ta.wrap(xa,{result:function(Ea){Qa(xa,Ca,Ga,za,Ea);},error:function(Ea){Ka(ha,function(){Ea instanceof db && Ea.setEntity(Sa);throw Ea;});}});},error:function(Ta){Ka(ha,function(){Ta instanceof db && Ta.setEntity(Sa);throw Ta;});}});},Ma);}function Qa(oa,xa,Ca,Ga,za){Ka(ha,function(){var Ta;Ta=new oc(ya,pc.A128KW,jc,oa);Ta.wrap(Ca,{result:function(Ea){Ta.wrap(Ga,{result:function(Ya){Ja(xa,za,Ca,Ea,Ga,Ya);},error:function(Ya){Ka(ha,function(){Ya instanceof db && Ya.setEntity(Sa);throw Ya;});}});},error:function(Ea){Ka(ha,function(){Ea instanceof db && Ea.setEntity(Sa);throw Ea;});}});},Ma);}function Ja(oa,xa,Ca,Ga,za,Ta){Ka(ha,function(){var Ea;Ea=ya.getTokenFactory();Sa?Ea.renewMasterToken(ya,Sa,Ca,za,{result:function(Ya){Ka(ha,function(){var $a,Ua;$a=new fc(ya,Ya);Ua=new aa(Ya,xa,oa,Ga,Ta);return new gc.KeyExchangeData(Ua,$a,ha);},Ma);},error:function(Ya){Ka(ha,function(){Ya instanceof db && Ya.setEntity(Sa);throw Ya;});}}):Ea.createMasterToken(ya,da,Ca,za,{result:function(Ya){Ka(ha,function(){var $a,Ua;$a=new fc(ya,Ya);Ua=new aa(Ya,xa,oa,Ga,Ta);return new gc.KeyExchangeData(Ua,$a,ha);},Ma);},error:ha.error});},Ma);}Ma=this;Ka(ha,function(){var oa,xa;if(!(ma instanceof Y))throw new ub("Key request data " + JSON.stringify(ma) + " was not created by this factory.");oa=da;if(da instanceof cc){if(!da.isVerified())throw new Tc(X.MASTERTOKEN_UNTRUSTED,da);Sa=da;oa=da.identity;}xa=new Uint8Array(16);ya.getRandom().nextBytes(xa);mc(xa,lc,xc,{result:function(Ca){Ka(ha,function(){ya.getMslCryptoContext().wrap(Ca,{result:function(Ga){ja(oa,Ca,Ga);},error:function(Ga){Ka(ha,function(){Ga instanceof db && Ga.setEntity(Sa);throw Ga;},Ma);}});},Ma);},error:function(Ca){Ka(ha,function(){throw new sb(X.WRAP_KEY_CREATION_FAILURE,null,Ca).setEntity(Sa);},Ma);}});},Ma);},getCryptoContext:function(ya,ma,da,ha,ja){var Qa;function wa(Ja,Ma,Sa,oa,xa){Ka(ja,function(){var Ca;Ca=new oc(ya,pc.A128KW,jc,xa);Ca.unwrap(Ma.encryptionKey,hc,wc,{result:function(Ga){Ca.unwrap(Ma.hmacKey,ic,Fc,{result:function(za){Ka(ja,function(){this.repository.addCryptoContext(Ma.wrapdata,Ca);this.repository.removeCryptoContext(Sa);return new fc(ya,Ma.masterToken,oa,Ga,za);},Qa);},error:function(za){Ka(ja,function(){za instanceof db && za.setEntity(Ja);throw za;});}});},error:function(Ga){Ka(ja,function(){Ga instanceof db && Ga.setEntity(Ja);throw Ga;});}});},Qa);}Qa=this;Ka(ja,function(){var Ja,Ma;if(!(ma instanceof Y))throw new ub("Key request data " + JSON.stringify(ma) + " was not created by this factory.");if(!(da instanceof aa))throw new ub("Key response data " + JSON.stringify(da) + " was not created by this factory.");Ja=ma.mechanism;Ma=ma.wrapdata;ya.getEntityAuthenticationData(null,{result:function(Sa){Ka(ja,function(){var oa,xa,Ca;oa=Sa.getIdentity();switch(Ja){case ca.PSK:xa=new rc(oa);Ca=ya.getEntityAuthenticationFactory(Qb.PSK);if(!Ca)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,Ja).setEntity(Sa);xa=Ca.getCryptoContext(ya,xa);xa=new oc(ya,pc.A128KW,jc,zb);break;case ca.MGK:xa=new qc(oa);Ca=ya.getEntityAuthenticationFactory(Qb.MGK);if(!Ca)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,Ja).setEntity(Sa);xa=Ca.getCryptoContext(ya,xa);xa=new oc(ya,pc.A128KW,jc,xa.wrapKey);break;case ca.WRAP:xa=this.repository.getCryptoContext(Ma);if(!xa)throw new Nb(X.KEYX_WRAPPING_KEY_MISSING,Fb(Ma)).setEntity(Sa);break;default:throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,Ja).setEntity(Sa);}xa.unwrap(da.wrapKey,lc,xc,{result:function(Ga){wa(Sa,da,Ma,oa,Ga);},error:function(Ga){Ka(ja,function(){Ga instanceof db && Ga.setEntity(Sa);throw Ga;});}});},Qa);},error:ja.error});},Qa);}});})();(function(){var ca,Y,aa,ea;function fa(ba,ka,va,sa,la){Ka(la,function(){var pa,ya;switch(ka){case ca.PSK:(pa=new rc(sa),ya=ba.getEntityAuthenticationFactory(Qb.PSK));if(!ya)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,ka);pa=ya.getCryptoContext(ba,pa);return new ea(zb);case ca.MGK:pa=new qc(sa);ya=ba.getEntityAuthenticationFactory(Qb.MGK);if(!ya)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,ka);pa=ya.getCryptoContext(ba,pa);return new ea(zb);case ca.WRAP:pa=ba.getMslCryptoContext();pa.unwrap(va,lc,xc,{result:function(ma){Ka(la,function(){return new ea(ma);});},error:la.error});break;default:throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,ka);}});}ca={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};Y=ve=Vc.extend({init:function sa(ka,va){sa.base.call(this,ec.JWK_LADDER);switch(ka){case ca.WRAP:if(!va)throw new ub("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:va=null;}Object.defineProperties(this,{mechanism:{value:ka,writable:!1,configurable:!1},wrapdata:{value:va,writable:!1,configurable:!1}});},getKeydata:function(){var ka;ka={};ka.mechanism=this.mechanism;this.wrapdata && (ka.wrapdata=Fb(this.wrapdata));return ka;},equals:function sa(va){return va === this?!0:va instanceof ve?sa.base.call(this,va) && this.mechanism == va.mechanism && ac(this.wrapdata,va.wrapdata):!1;},uniqueKey:function sa(){var la;la=sa.base.call(this) + ":" + this.mechanism;this.wrapdata && (la+=":" + bc(this.wrapdata));return la;}});aa=we=Wc.extend({init:function ha(la,pa,ya,ma,da){ha.base.call(this,la,ec.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:pa,writable:!1,configurable:!1},wrapdata:{value:ya,writable:!1,configurable:!1},encryptionKey:{value:ma,writable:!1,configurable:!1},hmacKey:{value:da,writable:!1,configurable:!1}});},getKeydata:function(){var la;la={};la.wrapkey=Fb(this.wrapKey);la.wrapdata=Fb(this.wrapdata);la.encryptionkey=Fb(this.encryptionKey);la.hmackey=Fb(this.hmacKey);return la;},equals:function ya(pa){return this === pa?!0:pa instanceof we?ya.base.call(this,pa) && ac(this.wrapKey,pa.wrapKey) && ac(this.wrapdata,pa.wrapdata) && ac(this.encryptionKey,pa.encryptionKey) && ac(this.hmacKey,pa.hmacKey):!1;},uniqueKey:function ya(){return ya.base.call(this) + ":" + bc(this.wrapKey) + ":" + bc(this.wrapdata) + ":" + bc(this.encryptionKey) + ":" + bc(this.hmacKey);}});ea=Mc.extend({init:function(ya){ya && ya.rawKey && (ya=ya.rawKey);Object.defineProperties(this,{_wrapKey:{value:ya,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(ya,ma){ma.error(new sb(X.ENCRYPT_NOT_SUPPORTED));},decrypt:function(ya,ma){ma.error(new sb(X.DECRYPT_NOT_SUPPORTED));},wrap:function(ya,ma){Ka(ma,function(){Kb.wrapKey("jwk",ya.rawKey,this._wrapKey,lc).then(function(da){ma.result(da);},function(da){ma.error(new sb(X.WRAP_ERROR));});},this);},unwrap:function(ya,ma,da,ha){function ja(wa){Ka(ha,function(){switch(wa.type){case "secret":Uc(wa,ha);break;case "public":Cc(wa,ha);break;case "private":Kc(wa,ha);break;default:throw new sb(X.UNSUPPORTED_KEY,"type: " + wa.type);}});}Ka(ha,function(){Kb.unwrapKey("jwk",ya,this._wrapKey,lc,ma,!1,da).then(function(wa){ja(wa);},function(wa){ha.error(new sb(X.UNWRAP_ERROR));});},this);},sign:function(ya,ma){ma.error(new sb(X.SIGN_NOT_SUPPORTED));},verify:function(ya,ma,da){da.error(new sb(X.VERIFY_NOT_SUPPORTED));}});gc.extend({init:function da(ma){da.base.call(this,ec.JWK_LADDER);Object.defineProperties(this,{repository:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ma,da,ha){Ka(ha,function(){var ja,wa,Qa;ja=da.mechanism;wa=da.wrapdata;if(!ja || ja == ca.WRAP && (!wa || "string" !== typeof wa))throw new Cb(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(da));if(!ca[ja])throw new Nb(X.UNIDENTIFIED_KEYX_MECHANISM,ja);switch(ja){case ca.WRAP:try{Qa=Gb(wa);}catch(Ja){throw new Nb(X.KEYX_WRAPPING_KEY_MISSING,"keydata " + da.toString());}if(null == Qa || 0 == Qa.length)throw new Nb(X.KEYX_WRAPPING_KEY_MISSING,"keydata " + da.toString());break;default:Qa=null;}return new Y(ja,Qa);});},createResponseData:function(ma,da,ha){var ja,wa,Qa,Ja,Ma,Sa,oa;ma=ha.wrapkey;ja=ha.wrapdata;wa=ha.encryptionkey;Qa=ha.hmackey;if(!(ma && "string" === typeof ma && ja && "string" === typeof ja && wa && "string" === typeof wa && Qa) || "string" !== typeof Qa)throw new Cb(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ha));try{Ja=Gb(ma);Ma=Gb(ja);}catch(xa){throw new sb(X.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ha),xa);}try{Sa=Gb(wa);}catch(xa){throw new sb(X.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ha),xa);}try{oa=Gb(Qa);}catch(xa){throw new sb(X.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ha),xa);}return new aa(da,Ja,Ma,Sa,oa);},generateResponse:function(ma,da,ha,ja){var Sa,oa;function wa(xa,Ca,Ga){Sa.generateSessionKeys(ma,{result:function(za){Ka(ja,function(){Qa(xa,Ca,Ga,za.encryptionKey,za.hmacKey);},Sa);},error:function(za){Ka(ja,function(){za instanceof db && za.setEntity(oa);throw za;});}});}function Qa(xa,Ca,Ga,za,Ta){Ka(ja,function(){fa(ma,da.mechanism,da.wrapdata,xa,{result:function(Ea){Ea.wrap(Ca,{result:function(Ya){Ja(Ca,Ga,za,Ta,Ya);},error:function(Ya){Ka(ja,function(){Ya instanceof db && Ya.setEntity(oa);throw Ya;});}});},error:function(Ea){Ka(ja,function(){Ea instanceof db && Ea.setEntity(oa);throw Ea;});}});},Sa);}function Ja(xa,Ca,Ga,za,Ta){Ka(ja,function(){var Ea;Ea=new ea(xa);Ea.wrap(Ga,{result:function(Ya){Ea.wrap(za,{result:function($a){Ma(Ca,Ta,Ga,Ya,za,$a);},error:function($a){Ka(ja,function(){$a instanceof db && $a.setEntity(oa);throw $a;});}});},error:function(Ya){Ka(ja,function(){Ya instanceof db && Ya.setEntity(oa);throw Ya;});}});},Sa);}function Ma(xa,Ca,Ga,za,Ta,Ea){Ka(ja,function(){var Ya;Ya=ma.getTokenFactory();oa?Ya.renewMasterToken(ma,oa,Ga,Ta,{result:function($a){Ka(ja,function(){var Ua,ib;Ua=new fc(ma,$a);ib=new aa($a,Ca,xa,za,Ea);return new gc.KeyExchangeData(ib,Ua,ja);},Sa);},error:function($a){Ka(ja,function(){$a instanceof db && $a.setEntity(oa);throw $a;});}}):Ya.createMasterToken(ma,ha,Ga,Ta,{result:function($a){Ka(ja,function(){var Ua,ib;Ua=new fc(ma,$a);ib=new aa($a,Ca,xa,za,Ea);return new gc.KeyExchangeData(ib,Ua,ja);},Sa);},error:ja.error});},Sa);}Sa=this;Ka(ja,function(){var xa,Ca;if(!(da instanceof Y))throw new ub("Key request data " + JSON.stringify(da) + " was not created by this factory.");xa=ha;if(ha instanceof cc){if(!ha.isVerified())throw new Tc(X.MASTERTOKEN_UNTRUSTED,ha);oa=ha;xa=ha.identity;}Ca=new Uint8Array(16);ma.getRandom().nextBytes(Ca);mc(Ca,lc,xc,{result:function(Ga){Ka(ja,function(){ma.getMslCryptoContext().wrap(Ga,{result:function(za){wa(xa,Ga,za);},error:function(za){Ka(ja,function(){za instanceof db && za.setEntity(oa);throw za;},Sa);}});},Sa);},error:function(Ga){Ka(ja,function(){throw new sb(X.WRAP_KEY_CREATION_FAILURE,null,Ga).setEntity(oa);},Sa);}});},Sa);},getCryptoContext:function(ma,da,ha,ja,wa){var Ja;function Qa(Ma,Sa,oa,xa,Ca){Ka(wa,function(){var Ga;Ga=new ea(Ca);Ga.unwrap(Sa.encryptionKey,hc,wc,{result:function(za){Ga.unwrap(Sa.hmacKey,ic,Fc,{result:function(Ta){Ka(wa,function(){this.repository.addCryptoContext(Sa.wrapdata,Ga);this.repository.removeCryptoContext(oa);return new fc(ma,Sa.masterToken,xa,za,Ta);},Ja);},error:function(Ta){Ka(wa,function(){Ta instanceof db && Ta.setEntity(Ma);throw Ta;});}});},error:function(za){Ka(wa,function(){za instanceof db && za.setEntity(Ma);throw za;});}});},Ja);}Ja=this;Ka(wa,function(){var Ma,Sa;if(!(da instanceof Y))throw new ub("Key request data " + JSON.stringify(da) + " was not created by this factory.");if(!(ha instanceof aa))throw new ub("Key response data " + JSON.stringify(ha) + " was not created by this factory.");Ma=da.mechanism;Sa=da.wrapdata;ma.getEntityAuthenticationData(null,{result:function(oa){Ka(wa,function(){var xa,Ca,Ga;xa=oa.getIdentity();switch(Ma){case ca.PSK:Ca=new rc(xa);Ga=ma.getEntityAuthenticationFactory(Qb.PSK);if(!Ga)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(oa);Ca=Ga.getCryptoContext(ma,Ca);Ca=new ea(Ca.wrapKey);break;case ca.MGK:Ca=new qc(xa);Ga=ma.getEntityAuthenticationFactory(Qb.MGK);if(!Ga)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(oa);Ca=Ga.getCryptoContext(ma,Ca);Ca=new ea(Ca.wrapKey);break;case ca.WRAP:Ca=this.repository.getCryptoContext(Sa);if(!Ca)throw new Nb(X.KEYX_WRAPPING_KEY_MISSING,Fb(Sa)).setEntity(oa);break;default:throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(oa);}Ca.unwrap(ha.wrapKey,lc,xc,{result:function(za){Qa(oa,ha,Sa,xa,za);},error:function(za){Ka(wa,function(){za instanceof db && za.setEntity(oa);throw za;});}});},Ja);},error:wa.error});},Ja);}});})();tf=Bb.Class.create({addCryptoContext:function(fa,ca){},getCryptoContext:function(fa){},removeCryptoContext:function(fa){}});(function(){var ca,Y,aa,ea;function fa(ba,ka,va,sa,la){switch(va){case ca.JWE_RSA:case ca.JWEJS_RSA:return new oc(ba,pc.RSA_OAEP,jc,sa,la);case ca.JWK_RSA:return new id(ba,ka,sa,la,jd.WRAP_UNWRAP_OAEP);case ca.JWK_RSAES:return new id(ba,ka,sa,la,jd.WRAP_UNWRAP_PKCS1);default:throw new sb(X.UNSUPPORTED_KEYX_MECHANISM,va);}}ca=xe={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};Y=wd=Vc.extend({init:function pa(ka,va,sa,la){pa.base.call(this,ec.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ka,writable:!1,configurable:!1},mechanism:{value:va,writable:!1,configurable:!1},publicKey:{value:sa,writable:!1,configurable:!1},privateKey:{value:la,writable:!1,configurable:!1}});},getKeydata:function(){var ka;ka={};ka.keypairid=this.keyPairId;ka.mechanism=this.mechanism;ka.publickey=Fb(this.publicKey.getEncoded());return ka;},equals:function sa(va){var la;if(va === this)return !0;if(!(va instanceof wd))return !1;la=this.privateKey === va.privateKey || this.privateKey && va.privateKey && ac(this.privateKey.getEncoded(),va.privateKey.getEncoded());return sa.base.call(this,va) && this.keyPairId == va.keyPairId && this.mechanism == va.mechanism && ac(this.publicKey.getEncoded(),va.publicKey.getEncoded()) && la;},uniqueKey:function sa(){var la,pa;la=this.publicKey.getEncoded();pa=this.privateKey && this.privateKey.getEncoded();la=sa.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + bc(la);pa && (la+=":" + bc(pa));return la;}});aa=function(sa,la){Ka(la,function(){var pa,ya,ma,da;pa=sa.keypairid;ya=sa.mechanism;ma=sa.publickey;if(!pa || "string" !== typeof pa || !ya || !ma || "string" !== typeof ma)throw new Cb(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(sa));if(!ca[ya])throw new Nb(X.UNIDENTIFIED_KEYX_MECHANISM,ya);try{da=Gb(ma);switch(ya){case ca.JWE_RSA:case ca.JWEJS_RSA:case ca.JWK_RSA:Bd(da,gd,xc,{result:function(ha){la.result(new Y(pa,ya,ha,null));},error:function(ha){la.error(ha);}});break;case ca.JWK_RSAES:Bd(da,zd,xc,{result:function(ha){la.result(new Y(pa,ya,ha,null));},error:function(ha){la.error(ha);}});break;default:throw new sb(X.UNSUPPORTED_KEYX_MECHANISM,ya);}}catch(ha){if(!(ha instanceof db))throw new sb(X.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(sa),ha);throw ha;}});};ea=ye=Wc.extend({init:function da(la,pa,ya,ma){da.base.call(this,la,ec.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:pa,writable:!1,configurable:!1},encryptionKey:{value:ya,writable:!1,configurable:!1},hmacKey:{value:ma,writable:!1,configurable:!1}});},getKeydata:function(){var la;la={};la.keypairid=this.keyPairId;la.encryptionkey=Fb(this.encryptionKey);la.hmackey=Fb(this.hmacKey);return la;},equals:function ya(pa){return this === pa?!0:pa instanceof ye?ya.base.call(this,pa) && this.keyPairId == pa.keyPairId && ac(this.encryptionKey,pa.encryptionKey) && ac(this.hmacKey,pa.hmacKey):!1;},uniqueKey:function ya(){return ya.base.call(this) + ":" + this.keyPairId + ":" + bc(this.encryptionKey) + ":" + bc(this.hmacKey);}});ce=gc.extend({init:function ma(){ma.base.call(this,ec.ASYMMETRIC_WRAPPED);},createRequestData:function(ma,da,ha){aa(da,ha);},createResponseData:function(ma,da,ha){var ja,wa,Qa,Ja;ma=ha.keypairid;ja=ha.encryptionkey;wa=ha.hmackey;if(!ma || "string" !== typeof ma || !ja || "string" !== typeof ja || !wa || "string" !== typeof wa)throw new Cb(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ha));try{Qa=Gb(ja);}catch(Ma){throw new sb(X.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ha),Ma);}try{Ja=Gb(wa);}catch(Ma){throw new sb(X.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ha),Ma);}return new ea(da,ma,Qa,Ja);},generateResponse:function(ma,da,ha,ja){var Ja;function wa(Ma,Sa){Ka(ja,function(){var oa;oa=fa(ma,da.keyPairId,da.mechanism,null,da.publicKey);oa.wrap(Ma,{result:function(xa){Ka(ja,function(){oa.wrap(Sa,{result:function(Ca){Qa(Ma,xa,Sa,Ca);},error:function(Ca){Ka(ja,function(){Ca instanceof db && ha instanceof cc && Ca.setEntity(ha);throw Ca;},Ja);}});},Ja);},error:function(xa){Ka(ja,function(){xa instanceof db && ha instanceof cc && xa.setEntity(ha);throw xa;},Ja);}});},Ja);}function Qa(Ma,Sa,oa,xa){Ka(ja,function(){var Ca;Ca=ma.getTokenFactory();ha instanceof cc?Ca.renewMasterToken(ma,ha,Ma,oa,{result:function(Ga){Ka(ja,function(){var za,Ta;za=new fc(ma,Ga);Ta=new ea(Ga,da.keyPairId,Sa,xa);return new gc.KeyExchangeData(Ta,za,ja);},Ja);},error:function(Ga){Ka(ja,function(){Ga instanceof db && Ga.setEntity(ha);throw Ga;},Ja);}}):Ca.createMasterToken(ma,ha,Ma,oa,{result:function(Ga){Ka(ja,function(){var za,Ta;za=new fc(ma,Ga);Ta=new ea(Ga,da.keyPairId,Sa,xa);return new gc.KeyExchangeData(Ta,za,ja);},Ja);},error:ja.error});},Ja);}Ja=this;Ka(ja,function(){if(!(da instanceof Y))throw new ub("Key request data " + JSON.stringify(da) + " was not created by this factory.");this.generateSessionKeys(ma,{result:function(Ma){wa(Ma.encryptionKey,Ma.hmacKey);},error:function(Ma){Ka(ja,function(){Ma instanceof db && ha instanceof cc && Ma.setEntity(ha);throw Ma;},Ja);}});},Ja);},getCryptoContext:function(ma,da,ha,ja,wa){var Qa;Qa=this;Ka(wa,function(){var Ja,Ma,Sa;if(!(da instanceof Y))throw new ub("Key request data " + JSON.stringify(da) + " was not created by this factory.");if(!(ha instanceof ea))throw new ub("Key response data " + JSON.stringify(ha) + " was not created by this factory.");Ja=da.keyPairId;Ma=ha.keyPairId;if(Ja != Ma)throw new Nb(X.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Ja + "; response " + Ma).setEntity(ja);Ma=da.privateKey;if(!Ma)throw new Nb(X.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ja);Sa=fa(ma,Ja,da.mechanism,Ma,null);Sa.unwrap(ha.encryptionKey,hc,wc,{result:function(oa){Sa.unwrap(ha.hmacKey,ic,Fc,{result:function(xa){ma.getEntityAuthenticationData(null,{result:function(Ca){Ka(wa,function(){var Ga;Ga=Ca.getIdentity();return new fc(ma,ha.masterToken,Ga,oa,xa);},Qa);},error:function(Ca){Ka(wa,function(){Ca instanceof db && Ca.setEntity(ja);throw Ca;},Qa);}});},error:function(xa){Ka(wa,function(){xa instanceof db && xa.setEntity(ja);throw xa;},Qa);}});},error:function(oa){Ka(wa,function(){oa instanceof db && oa.setEntity(ja);throw oa;},Qa);}});},Qa);}});})();sf=Bb.Class.create({init:function(fa){var ca,Y,aa,ea,ba,ka,va,sa;ca=Wb.parser();Y=[];aa=[];va=0;sa=!1;ca.onerror=function(la){sa || (sa=!0,ca.end());};ca.onopenobject=function(la){var pa;if(ea)(ea[ka]={},aa.push(ea),ea=ea[ka]);else if(ba){pa={};aa.push(ba);ba.push(pa);ea=pa;ba=zb;}else ea={};ka=la;};ca.oncloseobject=function(){var la;la=aa.pop();la?"object" === typeof la?ea=la:(ea=zb,ba=la):(Y.push(ea),va=ca.index,ea=zb);};ca.onopenarray=function(){var la;if(ea)(ea[ka]=[],aa.push(ea),ba=ea[ka],ea=zb);else if(ba){la=[];aa.push(ba);ba.push(la);ba=la;}else ba=[];};ca.onclosearray=function(){var la;la=aa.pop();la?"object" === typeof la?(ea=la,ba=zb):ba=la:(Y.push(ba),va=ca.index,ba=zb);};ca.onkey=function(la){ka=la;};ca.onvalue=function(la){ea?ea[ka]=la:ba?ba.push(la):(Y.push(la),va=ca.index);};ca.write(fa).close();Object.defineProperties(this,{_values:{value:Y,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:va,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?zb:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var fa,ca,Y,aa,ea;fa=Kd="entityauthdata";ca=Ae="mastertoken";Y=Be="headerdata";aa=Ce="errordata";ea=Ld="signature";ze=function(ba,ka,va,sa){Ka(sa,function(){var la,pa,ya,ma,da,ha;la=ka[fa];pa=ka[ca];ya=ka[ea];if(la && "object" !== typeof la || pa && "object" !== typeof pa || "string" !== typeof ya)throw new Cb(X.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ka));try{ma=Gb(ya);}catch(ja){throw new Hb(X.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(ka),ja);}da=null;la && (da=le(ba,la));ha=ka[Y];if(ha != zb && null != ha){if("string" !== typeof ha)throw new Cb(X.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ka));pa?Xc(ba,pa,{result:function(ja){Md(ba,ha,da,ja,ma,va,sa);},error:function(ja){sa.error(ja);}}):Md(ba,ha,da,null,ma,va,sa);}else if((la=ka[aa],la != zb && null != la)){if("string" !== typeof la)throw new Cb(X.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ka));De(ba,la,da,ma,sa);}else throw new Cb(X.JSON_PARSE_ERROR,JSON.stringify(ka));});};})();(function(){function fa(ca,Y){this.errordata=ca;this.signature=Y;}Bc=Bb.Class.create({init:function(ca,Y,aa,ea,ba,ka,va,sa,la,pa){var ya;ya=this;Ka(pa,function(){var ma,da;0 > ka && (ka=-1);if(0 > ea || ea > Lb)throw new ub("Message ID " + ea + " is out of range.");if(!Y)throw new Hb(X.MESSAGE_ENTITY_NOT_FOUND);if(la)return (Object.defineProperties(this,{entityAuthenticationData:{value:Y,writable:!1,configurable:!1},recipient:{value:aa,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:ba,writable:!1,configurable:!1},internalCode:{value:ka,writable:!1,configurable:!1},errorMessage:{value:va,writable:!1,configurable:!1},userMessage:{value:sa,writable:!1,configurable:!1},errordata:{value:la.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:la.signature,writable:!1,enumerable:!1,configurable:!1}}),this);ma={};aa && (ma.recipient=aa);ma.messageid=ea;ma.errorcode=ba;0 < ka && (ma.internalcode=ka);va && (ma.errormsg=va);sa && (ma.usermsg=sa);try{da=ca.getEntityAuthenticationFactory(Y.scheme).getCryptoContext(ca,Y);}catch(ha){throw (ha instanceof db && (ha.setEntity(Y),ha.setMessageId(ea)),ha);}ma=$b(JSON.stringify(ma),Mb);da.encrypt(ma,{result:function(ha){Ka(pa,function(){da.sign(ha,{result:function(ja){Ka(pa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:Y,writable:!1,configurable:!1},recipient:{value:aa,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:ba,writable:!1,configurable:!1},internalCode:{value:ka,writable:!1,configurable:!1},errorMessage:{value:va,writable:!1,configurable:!1},userMessage:{value:sa,writable:!1,configurable:!1},errordata:{value:ha,writable:!1,enumerable:!1,configurable:!1},signature:{value:ja,writable:!1,enumerable:!1,configurable:!1}});return this;},ya);},error:function(ja){Ka(pa,function(){ja instanceof db && (ja.setEntity(Y),ja.setMessageId(ea));throw ja;},ya);}});},ya);},error:function(ha){Ka(pa,function(){ha instanceof db && (ha.setEntity(Y),ha.setMessageId(ea));throw ha;},ya);}});},ya);},toJSON:function(){var ca;ca={};ca[Kd]=this.entityAuthenticationData;ca[Ce]=Fb(this.errordata);ca[Ld]=Fb(this.signature);return ca;}});Ee=function(ca,Y,aa,ea,ba,ka,va,sa,la){new Bc(ca,Y,aa,ea,ba,ka,va,sa,null,la);};De=function(ca,Y,aa,ea,ba){Ka(ba,function(){var ka,va,sa;if(!aa)throw new Hb(X.MESSAGE_ENTITY_NOT_FOUND);try{ka=aa.scheme;va=ca.getEntityAuthenticationFactory(ka);if(!va)throw new kc(X.ENTITYAUTH_FACTORY_NOT_FOUND,ka);sa=va.getCryptoContext(ca,aa);}catch(la){throw (la instanceof db && la.setEntity(aa),la);}try{Y=Gb(Y);}catch(la){throw new Hb(X.HEADER_DATA_INVALID,Y,la).setEntity(aa);}if(!Y || 0 == Y.length)throw new Hb(X.HEADER_DATA_MISSING,Y).setEntity(aa);sa.verify(Y,ea,{result:function(la){Ka(ba,function(){if(!la)throw new sb(X.MESSAGE_VERIFICATION_FAILED).setEntity(aa);sa.decrypt(Y,{result:function(pa){Ka(ba,function(){var ya,ma,da,ha,ja,wa,Qa,Ja;ya=Zb(pa,Mb);try{ma=JSON.parse(ya);}catch(Sa){if(Sa instanceof SyntaxError)throw new Cb(X.JSON_PARSE_ERROR,"errordata " + ya,Sa).setEntity(aa);throw Sa;}da=ma.recipient !== zb?ma.recipient:null;ha=parseInt(ma.messageid);ja=parseInt(ma.errorcode);wa=parseInt(ma.internalcode);Qa=ma.errormsg;Ja=ma.usermsg;if(da && "string" !== typeof da || !ha || ha != ha || !ja || ja != ja || ma.internalcode && wa != wa || Qa && "string" !== typeof Qa || Ja && "string" !== typeof Ja)throw new Cb(X.JSON_PARSE_ERROR,"errordata " + ya).setEntity(aa);if(0 > ha || ha > Lb)throw new Hb(X.MESSAGE_ID_OUT_OF_RANGE,"errordata " + ya).setEntity(aa);ma=!1;for(var Ma in Da){if(Da[Ma] == ja){ma=!0;break;}}ma || (ja=Da.FAIL);if(wa){if(0 > wa)throw new Hb(X.INTERNAL_CODE_NEGATIVE,"errordata " + ya).setEntity(aa).setMessageId(ha);}else wa=-1;ya=new fa(Y,ea);new Bc(ca,aa,da,ha,ja,wa,Qa,Ja,ya,ba);});},error:function(pa){Ka(ba,function(){pa instanceof db && pa.setEntity(aa);throw pa;});}});});},error:function(la){Ka(ba,function(){la instanceof db && la.setEntity(aa);throw la;});}});});};})();uf=Bb.Class.create({getUserMessage:function(fa,ca){}});(function(){Nd=function(fa,ca){var Y;if(!fa || !ca)return null;Y=fa.compressionAlgorithms.filter(function(aa){for(var ea=0;ea < ca.compressionAlgorithms.length;++ea){if(aa == ca.compressionAlgorithms[ea])return !0;}return !1;});fa=fa.languages.filter(function(aa){for(var ea=0;ea < ca.languages.length;++ea){if(aa == ca.languages[ea])return !0;}return !1;});return new Yc(Y,fa);};Yc=Bb.Class.create({init:function(fa,ca){fa || (fa=[]);ca || (ca=[]);fa.sort();Object.defineProperties(this,{compressionAlgorithms:{value:fa,writable:!1,enumerable:!0,configurable:!1},languages:{value:ca,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var fa;fa={};fa.compressionalgos=this.compressionAlgorithms;fa.languages=this.languages;return fa;},equals:function(fa){return this === fa?!0:fa instanceof Yc?Wd(this.compressionAlgorithms,fa.compressionAlgorithms) && Wd(this.languages,fa.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Fe=function(fa){var ca,Y,ea;ca=fa.compressionalgos;Y=fa.languages;if(ca && !(ca instanceof Array) || Y && !(Y instanceof Array))throw new Cb(X.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(fa));fa=[];for(var aa=0;ca && aa < ca.length;++aa){ea=ca[aa];Dc[ea] && fa.push(ea);}return new Yc(fa,Y);};})();(function(){var pa,ya;function fa(ma,da,ha,ja,wa){this.customer=ma;this.sender=da;this.messageCryptoContext=ha;this.headerdata=ja;this.signature=wa;}function ca(ma,da,ha,ja,wa,Qa,Ja,Ma,Sa,oa,xa,Ca,Ga,za,Ta,Ea,Ya,$a,Ua,ib){return {cryptoContext:{value:da,writable:!1,configurable:!1},customer:{value:ha,writable:!1,configurable:!1},entityAuthenticationData:{value:ja,writable:!1,configurable:!1},masterToken:{value:wa,writable:!1,configurable:!1},sender:{value:Qa,writable:!1,configurable:!1},messageId:{value:Ja,writable:!1,configurable:!1},nonReplayableId:{value:Ea,writable:!1,configurable:!1},keyRequestData:{value:Ma,writable:!1,configurable:!1},keyResponseData:{value:Sa,writable:!1,configurable:!1},userAuthenticationData:{value:oa,writable:!1,configurable:!1},userIdToken:{value:xa,writable:!1,configurable:!1},serviceTokens:{value:Ca,writable:!1,configurable:!1},peerMasterToken:{value:Ga,writable:!1,configurable:!1},peerUserIdToken:{value:za,writable:!1,configurable:!1},peerServiceTokens:{value:Ta,writable:!1,configurable:!1},messageCapabilities:{value:$a,writable:!1,configurable:!1},renewable:{value:Ya,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Ua,writable:!1,enumerable:!1,configurable:!1},signature:{value:ib,writable:!1,enumerable:!1,configurable:!1}};}function Y(ma,da,ha){var ja;if(ha){if(da=ma.getMslStore().getCryptoContext(ha))return da;if(!ha.isVerified() || !ha.isDecrypted())throw new Tc(X.MASTERTOKEN_UNTRUSTED,ha);return new fc(ma,ha);}ha=da.scheme;ja=ma.getEntityAuthenticationFactory(ha);if(!ja)throw new kc(X.ENTITYAUTH_FACTORY_NOT_FOUND,ha);return ja.getCryptoContext(ma,da);}function aa(ma,da,ha,ja,wa){Ka(wa,function(){da.verify(ha,ja,{result:function(Qa){Ka(wa,function(){if(!Qa)throw new sb(X.MESSAGE_VERIFICATION_FAILED);da.decrypt(ha,{result:function(Ja){Ka(wa,function(){return Zb(Ja,Mb);});},error:function(Ja){wa.error(Ja);}});});},error:function(Qa){wa.error(Qa);}});});}function ea(ma,da,ha){Ka(ha,function(){if(da)se(ma,da,ha);else return null;});}function ba(ma,da,ha,ja){Ka(ja,function(){if(da)od(ma,da,ha,ja);else return null;});}function ka(ma,da,ha,ja){Ka(ja,function(){if(ha)Je(ma,da,ha,ja);else return null;});}function va(ma,da,ha,ja,wa,Qa,Ja){var Sa;function Ma(oa,xa,Ca){var Ga,za;if(xa >= oa.length){Ga=[];for(za in Sa){Ga.push(Sa[za]);}Ca.result(Ga);}else {Ga=oa[xa];if("object" !== typeof Ga)throw new Cb(X.JSON_PARSE_ERROR,"headerdata " + Qa);pd(ma,Ga,ha,ja,wa,{result:function(Ta){Ka(Ca,function(){Sa[Ta.uniqueKey()]=Ta;Ma(oa,xa + 1,Ca);});},error:function(Ta){Ca.error(Ta);}});}}Sa={};Ka(Ja,function(){if(da){if(!(da instanceof Array))throw new Cb(X.JSON_PARSE_ERROR,"headerdata " + Qa);Ma(da,0,Ja);}else return [];});}function sa(ma,da,ha,ja,wa,Qa){function Ja(Sa,oa,xa){Ka(xa,function(){var Ca;Ca=oa.peermastertoken;if(Ca && "object" !== typeof Ca)throw new Cb(X.JSON_PARSE_ERROR,"headerdata " + wa);if(!Ca)return null;Xc(Sa,Ca,xa);});}function Ma(Sa,oa,xa,Ca){Ka(Ca,function(){var Ga;Ga=oa.peeruseridtoken;if(Ga && "object" !== typeof Ga)throw new Cb(X.JSON_PARSE_ERROR,"headerdata " + wa);if(!Ga)return null;od(Sa,Ga,xa,Ca);});}Ka(Qa,function(){if(!ma.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Ja(ma,da,{result:function(Sa){Ka(Qa,function(){var oa;oa=ha?ha.masterToken:Sa;Ma(ma,da,oa,{result:function(xa){Ka(Qa,function(){va(ma,da.peerservicetokens,oa,xa,ja,wa,{result:function(Ca){Ka(Qa,function(){return {peerMasterToken:Sa,peerUserIdToken:xa,peerServiceTokens:Ca};});},error:function(Ca){Ka(Qa,function(){Ca instanceof db && (Ca.setEntity(oa),Ca.setUser(xa));throw Ca;});}});});},error:function(xa){Ka(Qa,function(){xa instanceof db && xa.setEntity(oa);throw xa;});}});});},error:Qa.error});});}function la(ma,da,ha,ja){var Qa;function wa(Ja,Ma){Ka(ja,function(){if(Ma >= Ja.length)return Qa;re(ma,Ja[Ma],{result:function(Sa){Ka(ja,function(){Qa.push(Sa);wa(Ja,Ma + 1);});},error:function(Sa){ja.error(Sa);}});});}Qa=[];Ka(ja,function(){var Ja;Ja=da.keyrequestdata;if(!Ja)return Qa;if(!(Ja instanceof Array))throw new Cb(X.JSON_PARSE_ERROR,"headerdata " + ha);wa(Ja,0);});}pa=He=Bb.Class.create({init:function(ma,da,ha,ja,wa,Qa,Ja,Ma,Sa){Object.defineProperties(this,{messageId:{value:ma,writable:!1,configurable:!1},nonReplayableId:{value:da,writable:!1,configurable:!1},renewable:{value:ha,writable:!1,configurable:!1},capabilities:{value:ja,writable:!1,configurable:!1},keyRequestData:{value:wa,writable:!1,configurable:!1},keyResponseData:{value:Qa,writable:!1,configurable:!1},userAuthData:{value:Ja,writable:!1,configurable:!1},userIdToken:{value:Ma,writable:!1,configurable:!1},serviceTokens:{value:Sa,writable:!1,configurable:!1}});}});ya=Ie=Bb.Class.create({init:function(ma,da,ha){Object.defineProperties(this,{peerMasterToken:{value:ma,writable:!1,configurable:!1},peerUserIdToken:{value:da,writable:!1,configurable:!1},peerServiceTokens:{value:ha,writable:!1,configurable:!1}});}});Zc=Bb.Class.create({init:function(ma,da,ha,ja,wa,Qa,Ja){var Sa;function Ma(oa){Ka(Ja,function(){var xa,Ca,Ga,za,Ta,Ea,Ya,$a,Ua,ib,lb,nb,ob,pb,yb,xb,r;da=ha?null:da;xa=ja.nonReplayableId;Ca=ja.renewable;Ga=ja.capabilities;za=ja.messageId;Ta=ja.keyRequestData?ja.keyRequestData:[];Ea=ja.keyResponseData;Ya=ja.userAuthData;$a=ja.userIdToken;Ua=ja.serviceTokens?ja.serviceTokens:[];if(ma.isPeerToPeer()){ib=wa.peerMasterToken;lb=wa.peerUserIdToken;nb=wa.peerServiceTokens?wa.peerServiceTokens:[];}else (lb=ib=null,nb=[]);if(0 > za || za > Lb)throw new ub("Message ID " + za + " is out of range.");if(!da && !ha)throw new ub("Message entity authentication data or master token must be provided.");if(Ea){if(ma.isPeerToPeer()){ob=ha;pb=Ea.masterToken;}else (ob=Ea.masterToken,pb=ib);}else (ob=ha,pb=ib);if($a && (!ob || !$a.isBoundTo(ob)))throw new ub("User ID token must be bound to a master token.");if(lb && (!pb || !lb.isBoundTo(pb)))throw new ub("Peer user ID token must be bound to a peer master token.");Ua.forEach(function(b){if(b.isMasterTokenBound() && (!ob || !b.isBoundTo(ob)))throw new ub("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!$a || !b.isBoundTo($a)))throw new ub("User ID token bound service tokens must be bound to the provided user ID token.");},this);nb.forEach(function(b){if(b.isMasterTokenBound() && (!pb || !b.isBoundTo(pb)))throw new ub("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!lb || !b.isBoundTo(lb)))throw new ub("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Qa){r=Qa.customer;yb=Qa.messageCryptoContext;xb=ca(ma,yb,r,da,ha,oa,za,Ta,Ea,Ya,$a,Ua,ib,lb,nb,xa,Ca,Ga,Qa.headerdata,Qa.signature);Object.defineProperties(this,xb);return this;}r=$a?$a.customer:null;xb={};oa && (xb.sender=oa);xb.messageid=za;"number" === typeof xa && (xb.nonreplayableid=xa);xb.renewable=Ca;Ga && (xb.capabilities=Ga);0 < Ta.length && (xb.keyrequestdata=Ta);Ea && (xb.keyresponsedata=Ea);Ya && (xb.userauthdata=Ya);$a && (xb.useridtoken=$a);0 < Ua.length && (xb.servicetokens=Ua);ib && (xb.peermastertoken=ib);lb && (xb.peeruseridtoken=lb);0 < nb.length && (xb.peerservicetokens=nb);try{yb=Y(ma,da,ha);}catch(b){throw (b instanceof db && (b.setEntity(ha),b.setEntity(da),b.setUser($a),b.setUser(Ya),b.setMessageId(za)),b);}xb=$b(JSON.stringify(xb),Mb);yb.encrypt(xb,{result:function(b){Ka(Ja,function(){yb.sign(b,{result:function(a){Ka(Ja,function(){var c;c=ca(ma,yb,r,da,ha,oa,za,Ta,Ea,Ya,$a,Ua,ib,lb,nb,xa,Ca,Ga,b,a);Object.defineProperties(this,c);return this;},Sa);},error:function(a){Ka(Ja,function(){a instanceof db && (a.setEntity(ha),a.setEntity(da),a.setUser($a),a.setUser(Ya),a.setMessageId(za));throw a;},Sa);}});},Sa);},error:function(b){Ka(Ja,function(){b instanceof db && (b.setEntity(ha),b.setEntity(da),b.setUser($a),b.setUser(Ya),b.setMessageId(za));throw b;},Sa);}});},Sa);}Sa=this;Ka(Ja,function(){Qa?Ma(Qa.sender):ha?ma.getEntityAuthenticationData(null,{result:function(oa){oa=oa.getIdentity();Ma(oa);},error:Ja.error}):Ma(null);},Sa);},isEncrypting:function(){return this.masterToken || vd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var ma;ma={};this.masterToken?ma[Ae]=this.masterToken:ma[Kd]=this.entityAuthenticationData;ma[Be]=Fb(this.headerdata);ma[Ld]=Fb(this.signature);return ma;}});Ge=function(ma,da,ha,ja,wa,Qa){new Zc(ma,da,ha,ja,wa,null,Qa);};Md=function(ma,da,ha,ja,wa,Qa,Ja){Ka(Ja,function(){var Ma,Sa;ha=ja?null:ha;if(!ha && !ja)throw new Hb(X.MESSAGE_ENTITY_NOT_FOUND);Ma=da;try{da=Gb(Ma);}catch(oa){throw new Hb(X.HEADER_DATA_INVALID,Ma,oa);}if(!da || 0 == da.length)throw new Hb(X.HEADER_DATA_MISSING,Ma);try{Sa=Y(ma,ha,ja);}catch(oa){throw (oa instanceof db && (oa.setEntity(ja),oa.setEntity(ha)),oa);}aa(ma,Sa,da,wa,{result:function(oa){Ka(Ja,function(){var xa,Ca,Ga,za,Ta;try{xa=JSON.parse(oa);}catch(Ea){if(Ea instanceof SyntaxError)throw new Cb(X.JSON_PARSE_ERROR,"headerdata " + oa,Ea).setEntity(ja).setEntity(ha);throw Ea;}Ca=parseInt(xa.messageid);if(!Ca || Ca != Ca)throw new Cb(X.JSON_PARSE_ERROR,"headerdata " + oa).setEntity(ja).setEntity(ha);if(0 > Ca || Ca > Lb)throw new Hb(X.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + oa).setEntity(ja).setEntity(ha);Ga=ja?xa.sender:null;if(ja && (!Ga || "string" !== typeof Ga))throw new Cb(X.JSON_PARSE_ERROR,"headerdata " + oa).setEntity(ja).setEntity(ha).setMessageId(Ca);za=xa.keyresponsedata;if(za && "object" !== typeof za)throw new Cb(X.JSON_PARSE_ERROR,"headerdata " + oa).setEntity(ja).setEntity(ha).setMessageId(Ca);Ta=Ja;Ja={result:function(Ea){Ta.result(Ea);},error:function(Ea){Ea instanceof db && (Ea.setEntity(ja),Ea.setEntity(ha),Ea.setMessageId(Ca));Ta.error(Ea);}};ea(ma,za,{result:function(Ea){Ka(Ja,function(){var Ya,$a;Ya=!ma.isPeerToPeer() && Ea?Ea.masterToken:ja;$a=xa.useridtoken;if($a && "object" !== typeof $a)throw new Cb(X.JSON_PARSE_ERROR,"headerdata " + oa);ba(ma,$a,Ya,{result:function(Ua){Ka(Ja,function(){var ib;ib=xa.userauthdata;if(ib && "object" !== typeof ib)throw new Cb(X.JSON_PARSE_ERROR,"headerdata " + oa);ka(ma,Ya,ib,{result:function(lb){Ka(Ja,function(){var nb,ob,pb;if(lb){nb=lb.scheme;ob=ma.getUserAuthenticationFactory(nb);if(!ob)throw new vc(X.USERAUTH_FACTORY_NOT_FOUND,nb).setUser(Ua).setUser(lb);nb=ja?ja.identity:ha.getIdentity();pb=ob.authenticate(ma,nb,lb,Ua);}else pb=Ua?Ua.customer:null;va(ma,xa.servicetokens,Ya,Ua,Qa,oa,{result:function(yb){Ka(Ja,function(){var xb,r,b,a;xb=xa.nonreplayableid !== zb?parseInt(xa.nonreplayableid):null;r=xa.renewable;if(xb != xb || "boolean" !== typeof r)throw new Cb(X.JSON_PARSE_ERROR,"headerdata " + oa);if(0 > xb || xb > Lb)throw new Hb(X.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + oa);b=null;a=xa.capabilities;if(a){if("object" !== typeof a)throw new Cb(X.JSON_PARSE_ERROR,"headerdata " + oa);b=Fe(a);}la(ma,xa,oa,{result:function(c){sa(ma,xa,Ea,Qa,oa,{result:function(g){Ka(Ja,function(){var k,m,f,d;k=g.peerMasterToken;m=g.peerUserIdToken;f=g.peerServiceTokens;d=new pa(Ca,xb,r,b,c,Ea,lb,Ua,yb);k=new ya(k,m,f);m=new fa(pb,Ga,Sa,da,wa);new Zc(ma,ha,ja,d,k,m,Ja);});},error:Ja.error});},error:function(c){Ka(Ja,function(){c instanceof db && (c.setUser(Ua),c.setUser(lb));throw c;});}});});},error:function(yb){Ka(Ja,function(){yb instanceof db && (yb.setEntity(Ya),yb.setUser(Ua),yb.setUser(lb));throw yb;});}});});},error:Ja.error});});},error:Ja.error});});},error:Ja.error});});},error:Ja.error});});};})();(function(){function fa(ca,Y){this.payload=ca;this.signature=Y;}Od=Bb.Class.create({init:function(ca,Y,aa,ea,ba,ka,va,sa){var la;la=this;Ka(sa,function(){var pa,ya;if(0 > ca || ca > Lb)throw new ub("Sequence number " + ca + " is outside the valid range.");if(0 > Y || Y > Lb)throw new ub("Message ID " + Y + " is outside the valid range.");if(va)return (Object.defineProperties(this,{sequenceNumber:{value:ca,writable:!1,configurable:!1},messageId:{value:Y,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},endofmsg:{value:aa,writable:!1,enumerable:!1,configurable:!1},payload:{value:va.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:va.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ea){pa=Pd(ea,ba);pa || (ea=null,pa=ba);}else (ea=null,pa=ba);ya={};ya.sequencenumber=ca;ya.messageid=Y;aa && (ya.endofmsg=aa);ea && (ya.compressionalgo=ea);ya.data=Fb(pa);pa=$b(JSON.stringify(ya),Mb);ka.encrypt(pa,{result:function(ma){Ka(sa,function(){ka.sign(ma,{result:function(da){Ka(sa,function(){Object.defineProperties(this,{sequenceNumber:{value:ca,writable:!1,configurable:!1},messageId:{value:Y,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},endofmsg:{value:aa,writable:!1,enumerable:!1,configurable:!1},payload:{value:ma,writable:!1,enumerable:!1,configurable:!1},signature:{value:da,writable:!1,enumerable:!1,configurable:!1}});return this;},la);},error:function(da){sa.error(da);}});},la);},error:function(ma){sa.error(ma);}});},la);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var ca;ca={};ca.payload=Fb(this.payload);ca.signature=Fb(this.signature);return ca;}});Ke=function(ca,Y,aa,ea,ba,ka,va){new Od(ca,Y,aa,ea,ba,ka,null,va);};Le=function(ca,Y,aa){Ka(aa,function(){var ea,ba,ka,va;ea=ca.payload;ba=ca.signature;if(!ea || "string" !== typeof ea || "string" !== typeof ba)throw new Cb(X.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(ca));try{ka=Gb(ea);}catch(sa){throw new Hb(X.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(ca),sa);}try{va=Gb(ba);}catch(sa){throw new Hb(X.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(ca),sa);}Y.verify(ka,va,{result:function(sa){Ka(aa,function(){if(!sa)throw new sb(X.PAYLOAD_VERIFICATION_FAILED);Y.decrypt(ka,{result:function(la){Ka(aa,function(){var pa,ya,ma,da,ha,ja,wa;pa=Zb(la,Mb);try{ya=JSON.parse(pa);}catch(Qa){if(Qa instanceof SyntaxError)throw new Cb(X.JSON_PARSE_ERROR,"payload chunk payload " + pa,Qa);throw Qa;}ma=parseInt(ya.sequencenumber);da=parseInt(ya.messageid);ha=ya.endofmsg;ja=ya.compressionalgo;ya=ya.data;if(!ma || ma != ma || !da || da != da || ha && "boolean" !== typeof ha || ja && "string" !== typeof ja || "string" !== typeof ya)throw new Cb(X.JSON_PARSE_ERROR,"payload chunk payload " + pa);if(0 > ma || ma > Lb)throw new db(X.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + pa);if(0 > da || da > Lb)throw new db(X.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + pa);ha || (ha=!1);if(ja && !Dc[ja])throw new Hb(X.UNIDENTIFIED_COMPRESSION,ja);try{wa=Gb(ya);}catch(Qa){throw new Hb(X.PAYLOAD_DATA_CORRUPT,ya,Qa);}if(wa && 0 != wa.length)pa=ja?qd(ja,wa):wa;else {if(0 < ya.length)throw new Hb(X.PAYLOAD_DATA_CORRUPT,ya);if(ha)pa=new Uint8Array(0);else throw new Hb(X.PAYLOAD_DATA_MISSING,ya);}wa=new fa(ka,va);new Od(ma,da,ha,ja,pa,Y,wa,aa);});},error:function(la){aa.error(la);}});});},error:function(sa){aa.error(sa);}});});};})();(function(){var aa,ea;function fa(ba,ka,va,sa,la){var ya,ma,da,ha,ja;function pa(){Ka(la,function(){var wa,Qa;ma >= ka.length && (ma=0,++ya);if(ya >= da.length){if(ha)throw ha;throw new Nb(X.KEYX_FACTORY_NOT_FOUND,JSON.stringify(ka));}wa=da[ya];Qa=ka[ma];wa.scheme != Qa.keyExchangeScheme?(++ma,pa()):wa.generateResponse(ba,Qa,ja,{result:function(Ja){la.result(Ja);},error:function(Ja){Ka(la,function(){if(!(Ja instanceof db))throw Ja;ha=Ja;++ma;pa();});}});});}ya=0;ma=0;da=ba.getKeyExchangeFactories();ja=va?va:sa;pa();}function ca(ba,ka,va,sa,la){Ka(la,function(){var pa;pa=ka.keyRequestData;if(ka.isRenewable() && 0 < pa.length)sa?sa.isRenewable() || sa.isExpired()?fa(ba,pa,sa,null,la):ba.getTokenFactory().isNewestMasterToken(ba,sa,{result:function(ya){Ka(la,function(){if(ya)return null;fa(ba,pa,sa,null,la);});},error:la.error}):fa(ba,pa,null,va.getIdentity(),la);else return null;});}function Y(ba,ka,va,sa){Ka(sa,function(){var la,pa,ya,ma;la=ka.userIdToken;pa=ka.userAuthenticationData;ya=ka.messageId;if(la && la.isVerified()){if(la.isRenewable() && ka.isRenewable() || la.isExpired() || !la.isBoundTo(va)){pa=ba.getTokenFactory();pa.renewUserIdToken(ba,la,va,sa);return;}}else if(ka.isRenewable() && va && pa){la=ka.customer;if(!la){la=pa.scheme;ma=ba.getUserAuthenticationFactory(la);if(!ma)throw new vc(X.USERAUTH_FACTORY_NOT_FOUND,la).setEntity(va).setUser(pa).setMessageId(ya);la=ma.authenticate(ba,va.identity,pa,null);}pa=ba.getTokenFactory();pa.createUserIdToken(ba,la,va,sa);return;}return la;});}aa=new Uint8Array(0);ea=Gc=function(ba){if(0 > ba || ba > Lb)throw new ub("Message ID " + ba + " is outside the valid range.");return ba == Lb?0:ba + 1;};Oc=function(ba){if(0 > ba || ba > Lb)throw new ub("Message ID " + ba + " is outside the valid range.");return 0 == ba?Lb:ba - 1;};Hc=function(ba,ka,va,sa,la){Ka(la,function(){var pa;if(sa == zb || null == sa){pa=ba.getRandom();do {sa=pa.nextLong();}while(0 > sa || sa > Lb);}else if(0 > sa || sa > Lb)throw new ub("Message ID " + sa + " is outside the valid range.");ba.getEntityAuthenticationData(null,{result:function(ya){Ka(la,function(){var ma;ma=ba.getMessageCapabilities();return new rd(ba,sa,ma,ya,ka,va,null,null,null,null,null);});},error:function(ya){la.error(ya);}});});};Me=function(ba,ka,va){Ka(va,function(){var la,pa,ya,ma,da,ha;function sa(ja){Ka(va,function(){ja instanceof db && (ja.setEntity(la),ja.setEntity(pa),ja.setUser(ya),ja.setUser(ma),ja.setMessageId(da));throw ja;});}la=ka.masterToken;pa=ka.entityAuthenticationData;ya=ka.userIdToken;ma=ka.userAuthenticationData;da=ka.messageId;ha=ea(da);ca(ba,ka,pa,la,{result:function(ja){Ka(va,function(){var wa;wa=ja?ja.keyResponseData.masterToken:wa=la;ba.getEntityAuthenticationData(null,{result:function(Qa){Ka(va,function(){Y(ba,ka,wa,{result:function(Ja){Ka(va,function(){var Ma,Sa,oa;ya=Ja;Ma=Nd(ka.messageCapabilities,ba.getMessageCapabilities());Sa=ka.keyResponseData;oa=ka.serviceTokens;return ba.isPeerToPeer()?new rd(ba,ha,Ma,Qa,Sa?Sa.masterToken:ka.peerMasterToken,ka.peerUserIdToken,ka.peerServiceTokens,la,ya,oa,ja):new rd(ba,ha,Ma,Qa,Sa?Sa.masterToken:la,ya,oa,null,null,null,ja);});},error:sa});});},error:sa});});},error:sa});});};Ne=function(ba,ka,va,sa,la){Ka(la,function(){ba.getEntityAuthenticationData(null,{result:function(pa){Ka(la,function(){var ya,ma;if(ka != zb && null != ka)ya=ea(ka);else {ma=ba.getRandom();do {ya=ma.nextInt();}while(0 > ya || ya > Lb);}Ee(ba,pa,ya,va.responseCode,va.internalCode,va.message,sa,la);});},error:function(pa){la.error(pa);}});});};rd=Bb.Class.create({init:function(ba,ka,va,sa,la,pa,ya,ma,da,ha,ja){var wa,Qa,Ja,Ma,Sa;if(!ba.isPeerToPeer() && (ma || da))throw new ub("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");wa=ja && !ba.isPeerToPeer()?ja.keyResponseData.masterToken:la;Qa=[];wa=ba.getMslStore().getServiceTokens(wa,pa);Qa.push.apply(Qa,wa);ya && ya.forEach(function(oa){Qa.push(oa);},this);Ja=[];if(ba.isPeerToPeer()){Ma=ma;Sa=da;ya=ja?ja.keyResponseData.masterToken:ma;da=ba.getMslStore().getServiceTokens(ya,da);Ja.push.apply(Ja,da);ha && ha.forEach(function(oa){Ja.push(oa);},this);}Object.defineProperties(this,{_ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:sa,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:la,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:ka,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:va,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ja,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:pa,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Qa,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Ma,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Sa,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Ja,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || vd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || vd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || Xd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Xd(this._entityAuthData.scheme);},getHeader:function(ba){Ka(ba,function(){var ka,va,sa;ka=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;va=[];for(sa in this._keyRequestData){va.push(this._keyRequestData[sa]);}if(this._nonReplayable){if(!this._masterToken)throw new Hb(X.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);sa=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else sa=null;ka=new He(this._messageId,sa,this._renewable,this._capabilities,va,ka,this._userAuthData,this._userIdToken,this._serviceTokens);va=new Ie(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);Ge(this._ctx,this._entityAuthData,this._masterToken,ka,va,ba);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(ba){this._nonReplayable=ba;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(ba){this._renewable=ba;return this;},setAuthTokens:function(ba,ka){var va,la;if(ka && !ka.isBoundTo(ba))throw new ub("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new ub("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{va=this._ctx.getMslStore().getServiceTokens(ba,ka);}catch(pa){if(pa instanceof db)throw new ub("Invalid master token and user ID token combination despite checking above.",pa);throw pa;}for(var sa=this._serviceTokens.length - 1;0 <= sa;--sa){la=this._serviceTokens[sa];(la.isUserIdTokenBound() && !la.isBoundTo(ka) || la.isMasterTokenBound() && !la.isBoundTo(ba)) && this._serviceTokens.splice(sa,1);}va.forEach(function(pa){this.excludeServiceToken(pa.name,pa.isMasterTokenBound(),pa.isUserIdTokenBound());this._serviceTokens.push(pa);},this);this._masterToken=ba;this._userIdToken=ka;},setUserAuthenticationData:function(ba){this._userAuthData=ba;return this;},setCustomer:function(ba,ka){var va;va=this;Ka(ka,function(){var sa;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new ub("User ID token or peer user ID token already exists for the remote user.");sa=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!sa)throw new ub("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,ba,sa,{result:function(la){Ka(ka,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=la:(this._userIdToken=la,this._userAuthData=null);return !0;},va);},error:function(la){ka.error(la);}});},va);},addKeyRequestData:function(ba){this._keyRequestData[ba.uniqueKey()]=ba;return this;},removeKeyRequestData:function(ba){delete this._keyRequestData[ba.uniqueKey()];return this;},addServiceToken:function(ba){var ka;ka=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(ba.isMasterTokenBound() && !ba.isBoundTo(ka))throw new Hb(X.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; mt " + JSON.stringify(ka)).setEntity(ka);if(ba.isUserIdTokenBound() && !ba.isBoundTo(this._userIdToken))throw new Hb(X.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(ka).setUser(this._userIdToken);this.excludeServiceToken(ba.name,ba.isMasterTokenBound(),ba.isUserIdTokenBound());this._serviceTokens.push(ba);return this;},addServiceTokenIfAbsent:function(ba){var va;for(var ka=this._serviceTokens.length - 1;0 <= ka;--ka){va=this._serviceTokens[ka];if(va.name == ba.name && va.isMasterTokenBound() == ba.isMasterTokenBound() && va.isUserIdTokenBound() == ba.isUserIdTokenBound())return this;}this.addServiceToken(ba);return this;},excludeServiceToken:function(){var ba,ka,va,la;if(1 == arguments.length){ba=arguments[0];ka=ba.name;va=ba.isMasterTokenBound();ba=ba.isUserIdTokenBound();}else (arguments.length=3,ka=arguments[0],va=arguments[1],ba=arguments[2]);for(var sa=this._serviceTokens.length - 1;0 <= sa;--sa){la=this._serviceTokens[sa];la.name == ka && la.isMasterTokenBound() == va && la.isUserIdTokenBound() == ba && this._serviceTokens.splice(sa,1);}return this;},deleteServiceToken:function(){var ba,ka,va,sa;if(2 == arguments.length){ba=arguments[0];ka=ba.name;ba.isMasterTokenBound();ba.isUserIdTokenBound();va=arguments[1];}else (arguments.length=4,ka=arguments[0],va=arguments[3]);sa=this;Ka(va,function(){var la,pa;la=originalToken.isMasterTokenBound()?this._masterToken:null;pa=originalToken.isUserIdTokenBound()?this._userIdToken:null;sc(this._ctx,ka,aa,la,pa,!1,null,new Nc(),{result:function(ya){Ka(va,function(){return this.addServiceToken(ya);},sa);},error:function(ya){ya instanceof db && (ya=new ub("Failed to create and add empty service token to message.",ya));va.error(ya);}});},sa);},getServiceTokens:function(){var ba;ba=[];ba.push.apply(ba,this._serviceTokens);return ba;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(ba,ka){var va,la;if(!this._ctx.isPeerToPeer())throw new ub("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(ka && !ba)throw new ub("Peer master token cannot be null when setting peer user ID token.");if(ka && !ka.isBoundTo(ba))throw new Hb(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + ka + "; mt " + ba).setEntity(ba).setUser(ka);try{va=this._ctx.getMslStore().getServiceTokens(ba,ka);}catch(pa){if(pa instanceof db)throw new ub("Invalid peer master token and user ID token combination despite proper check.",pa);throw pa;}for(var sa=this._peerServiceTokens.length - 1;0 <= sa;--sa){la=this._peerServiceTokens[sa];(la.isUserIdTokenBound() && !la.isBoundTo(ka) || la.isMasterTokenBound() && !la.isBoundTo(ba)) && this._peerServiceTokens.slice(sa,1);}va.forEach(function(pa){this.excludePeerServiceToken(pa.name,pa.isMasterTokenBound(),pa.isUserIdTokenBound());this._peerServiceTokens.push(pa);},this);this._peerUserIdToken=ka;this._peerMasterToken=ba;return this;},addPeerServiceToken:function(ba){if(!this._ctx.isPeerToPeer())throw new ub("Cannot set peer service tokens when not in peer-to-peer mode.");if(ba.isMasterTokenBound() && !ba.isBoundTo(this._peerMasterToken))throw new Hb(X.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(ba.isUserIdTokenBound() && !ba.isBoundTo(this._peerUserIdToken))throw new Hb(X.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(ba.name,ba.isMasterTokenBound(),ba.isUserIdTokenBound());this._peerServiceTokens.push(ba);return this;},addPeerServiceTokenIfAbsent:function(ba){var va;for(var ka=this._peerServiceTokens.length - 1;0 <= ka;--ka){va=this._peerServiceTokens[ka];if(va.name == ba.name && va.isMasterTokenBound() == ba.isMasterTokenBound() && va.isUserIdTokenBound() == ba.isUserIdTokenBound())return this;}this.addPeerServiceToken(ba);return this;},excludePeerServiceToken:function(){var ba,ka,va,la;if(1 == arguments.length){ba=arguments[0];ka=ba.name;va=ba.isMasterTokenBound();ba=ba.isUserIdTokenBound();}else (arguments.length=3,ka=arguments[0],va=arguments[1],ba=arguments[2]);for(var sa=this._peerServiceTokens.length - 1;0 <= sa;--sa){la=this._peerServiceTokens[sa];la.name == ka && la.isMasterTokenBound() == va && la.isUserIdTokenBound() == ba && this._peerServiceTokens.splice(sa,1);}return this;},deletePeerServiceToken:function(){var ba,ka,va,sa,la,pa;if(2 == arguments.length){ba=arguments[0];ka=ba.name;va=ba.isMasterTokenBound();sa=ba.isUserIdTokenBound();la=arguments[1];}else (arguments.length=4,ka=arguments[0],va=arguments[1],sa=arguments[2],la=arguments[3]);pa=this;Ka(la,function(){sc(this._ctx,ka,aa,va?this._peerMasterToken:null,sa?this._peerUserIdToken:null,!1,null,new Nc(),{result:function(ya){Ka(la,function(){return this.addPeerServiceToken(ya);},pa);},error:function(ya){ya instanceof db && (ya=new ub("Failed to create and add empty peer service token to message.",ya));la.error(ya);}});},pa);},getPeerServiceTokens:function(){var ba;ba=[];ba.push.apply(ba,this._peerServiceTokens);return ba;}});})();(function(){function fa(Y,aa){return aa[Y]?aa[Y]:aa[""];}function ca(Y){var aa;aa=Y.builder.getKeyExchangeData();return aa && !Y.ctx.isPeerToPeer()?aa.keyResponseData.masterToken:Y.builder.getMasterToken();}Oe=Bb.Class.create({init:function(Y,aa,ea){Y={ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:aa.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ea,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,Y);},isPrimaryMasterTokenAvailable:function(){return ca(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(Y){try{return (this.builder.addServiceToken(Y),!0);}catch(aa){if(aa instanceof Hb)return !1;throw aa;}},addPeerServiceToken:function(Y){try{return (this.builder.addPeerServiceToken(Y),!0);}catch(aa){if(aa instanceof Hb)return !1;throw aa;}},addUnboundPrimaryServiceToken:function(Y,aa,ea,ba,ka){var va;va=this;Ka(ka,function(){var sa;sa=fa(Y,this.cryptoContexts);if(!sa)return !1;sc(this.ctx,Y,aa,null,null,ea,ba,sa,{result:function(la){Ka(ka,function(){try{this.builder.addServiceToken(la);}catch(pa){if(pa instanceof Hb)throw new ub("Service token bound to incorrect authentication tokens despite being unbound.",pa);throw pa;}return !0;},va);},error:function(la){ka.error(la);}});},va);},addUnboundPeerServiceToken:function(Y,aa,ea,ba,ka){var va;va=this;Ka(ka,function(){var sa;sa=fa(Y,this.cryptoContexts);if(!sa)return !1;sc(this.ctx,Y,aa,null,null,ea,ba,sa,{result:function(la){Ka(ka,function(){try{this.builder.addPeerServiceToken(la);}catch(pa){if(pa instanceof Hb)throw new ub("Service token bound to incorrect authentication tokens despite being unbound.",pa);throw pa;}return !0;},va);},error:function(la){ka.error(la);}});},va);},addMasterBoundPrimaryServiceToken:function(Y,aa,ea,ba,ka){var va;va=this;Ka(ka,function(){var sa,la;sa=ca(this);if(!sa)return !1;la=fa(Y,this.cryptoContexts);if(!la)return !1;sc(this.ctx,Y,aa,sa,null,ea,ba,la,{result:function(pa){Ka(ka,function(){try{this.builder.addServiceToken(pa);}catch(ya){if(ya instanceof Hb)throw new ub("Service token bound to incorrect authentication tokens despite setting correct master token.",ya);throw ya;}return !0;},va);},error:function(pa){ka.error(pa);}});},va);},addMasterBoundPeerServiceToken:function(Y,aa,ea,ba,ka){var va;va=this;Ka(ka,function(){var sa,la;sa=this.builder.getPeerMasterToken();if(!sa)return !1;la=fa(Y,this.cryptoContexts);if(!la)return !1;sc(this.ctx,Y,aa,sa,null,ea,ba,la,{result:function(pa){Ka(ka,function(){try{this.builder.addPeerServiceToken(pa);}catch(ya){if(ya instanceof Hb)throw new ub("Service token bound to incorrect authentication tokens despite setting correct master token.",ya);throw ya;}return !0;},va);},error:function(pa){ka.error(pa);}});},va);},addUserBoundPrimaryServiceToken:function(Y,aa,ea,ba,ka){var va;va=this;Ka(ka,function(){var sa,la,pa;sa=ca(this);if(!sa)return !1;la=this.builder.getUserIdToken();if(!la)return !1;pa=fa(Y,this.cryptoContexts);if(!pa)return !1;sc(this.ctx,Y,aa,sa,la,ea,ba,pa,{result:function(ya){Ka(ka,function(){try{this.builder.addServiceToken(ya);}catch(ma){if(ma instanceof Hb)throw new ub("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ma);throw ma;}return !0;},va);},error:function(ya){ka.error(ya);}});},va);},addUserBoundPeerServiceToken:function(Y,aa,ea,ba,ka){var va;va=this;Ka(ka,function(){var sa,la,pa;sa=this.builder.getPeerMasterToken();if(!sa)return !1;la=this.builder.getPeerUserIdToken();if(!la)return !1;pa=fa(Y,this.cryptoContexts);if(!pa)return !1;sc(this.ctx,Y,aa,sa,la,ea,ba,pa,{result:function(ya){Ka(ka,function(){try{this.builder.addPeerServiceToken(ya);}catch(ma){if(ma instanceof Hb)throw new ub("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ma);throw ma;}return !0;},va);},error:function(ya){ka.error(ya);}});},va);},excludePrimaryServiceToken:function(){var Y,aa,ea,ba;if(1 == arguments.length){Y=arguments[0];aa=Y.name;ea=Y.isMasterTokenBound();ba=Y.isUserIdTokenBound();}else (arguments.length=3,aa=arguments[0],ea=arguments[1],ba=arguments[2]);for(var ka=this.builder.getServiceTokens(),va=0;va < ka.length;++va){if((Y=ka[va],Y.name == aa && Y.isMasterTokenBound() == ea && Y.isUserIdTokenBound() == ba))return (this.builder.excludeServiceToken(aa,ea,ba),!0);}return !1;},excludePeerServiceToken:function(){var Y,aa,ea,ba;if(1 == arguments.length){Y=arguments[0];aa=Y.name;ea=Y.isMasterTokenBound();ba=Y.isUserIdTokenBound();}else (arguments.length=3,aa=arguments[0],ea=arguments[1],ba=arguments[2]);for(var ka=this.builder.getPeerServiceTokens(),va=0;va < ka.length;++va){if((Y=ka[va],Y.name == aa && Y.isMasterTokenBound() == ea && Y.isUserIdTokenBound() == ba))return (this.builder.excludePeerServiceToken(aa,ea,ba),!0);}return !1;},deletePrimaryServiceToken:function(){var Y,aa,ea,ba,ka;if(2 == arguments.length){Y=arguments[0];aa=Y.name;ea=Y.isMasterTokenBound();ba=Y.isUserIdTokenBound();ka=arguments[1];}else 4 == arguments.length && (aa=arguments[0],ea=arguments[1],ba=arguments[2],ka=arguments[3]);Ka(ka,function(){var la;for(var va=this.builder.getServiceTokens(),sa=0;sa < va.length;++sa){la=va[sa];if(la.name == aa && la.isMasterTokenBound() == ea && la.isUserIdTokenBound() == ba){this.builder.deleteServiceToken(aa,ea,ba,{result:function(){ka.result(!0);},error:function(pa){ka.error(pa);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var Y,aa,ea,ba,ka;if(2 == arguments.length){Y=arguments[0];aa=Y.name;ea=Y.isMasterTokenBound();ba=Y.isUserIdTokenBound();ka=arguments[1];}else 4 == arguments.length && (aa=arguments[0],ea=arguments[1],ba=arguments[2],ka=arguments[3]);Ka(ka,function(){var la;for(var va=this.builder.getPeerServiceTokens(),sa=0;sa < va.length;++sa){la=va[sa];if(la.name == aa && la.isMasterTokenBound() == ea && la.isUserIdTokenBound() == ba){this.builder.deletePeerServiceToken(aa,ea,ba,{result:function(){ka.result(!0);},error:function(pa){ka.error(pa);}});return;}}return !1;},this);}});})();(function(){function fa(ca,Y,aa,ea){Ka(ea,function(){var ka,va,sa,la,pa,ya;function ba(){Ka(ea,function(){var ma;if(ya >= aa.length){if(pa)throw pa;throw new Nb(X.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(aa));}ma=aa[ya];sa != ma.keyExchangeScheme?(++ya,ba()):la.getCryptoContext(ca,ma,va,ka,{result:ea.result,error:function(da){Ka(ea,function(){if(!(da instanceof db))throw da;pa=da;++ya;ba();});}});});}ka=Y.masterToken;va=Y.keyResponseData;if(!va)return null;sa=va.keyExchangeScheme;la=ca.getKeyExchangeFactory(sa);if(!la)throw new Nb(X.KEYX_FACTORY_NOT_FOUND,sa);ya=0;ba();});}Pe=Jd.extend({init:function(ca,Y,aa,ea,ba,ka,va){var sa;sa=this;ab(va,function(){var ha;function la(){sa._ready=!0;sa._readyQueue.add(!0);}function pa(ja,wa){var Qa;try{Qa=wa.masterToken;ja.getTokenFactory().isMasterTokenRevoked(ja,Qa,{result:function(Ja){Ja?(sa._errored=new Tc(Ja,Qa).setUser(wa.userIdToken).setUser(wa.userAuthenticationData).setMessageId(wa.messageId),la()):ya(ja,wa);},error:function(Ja){Ja instanceof db && (Ja.setEntity(wa.masterToken),Ja.setUser(wa.userIdToken),Ja.setUser(wa.userAuthenticationData),Ja.setMessageId(wa.messageId));sa._errored=Ja;la();}});}catch(Ja){Ja instanceof db && (Ja.setEntity(wa.masterToken),Ja.setUser(wa.userIdToken),Ja.setUser(wa.userAuthenticationData),Ja.setMessageId(wa.messageId));sa._errored=Ja;la();}}function ya(ja,wa){var Qa,Ja;try{Qa=wa.masterToken;Ja=wa.userIdToken;Ja?ja.getTokenFactory().isUserIdTokenRevoked(ja,Qa,Ja,{result:function(Ma){Ma?(sa._errored=new MslUserIdTokenException(Ma,Ja).setEntity(Qa).setUser(Ja).setMessageId(wa.messageId),la()):ma(ja,wa);},error:function(Ma){Ma instanceof db && (Ma.setEntity(wa.masterToken),Ma.setUser(wa.userIdToken),Ma.setUser(wa.userAuthenticationData),Ma.setMessageId(wa.messageId));sa._errored=Ma;la();}}):ma(ja,wa);}catch(Ma){Ma instanceof db && (Ma.setEntity(wa.masterToken),Ma.setUser(wa.userIdToken),Ma.setUser(wa.userAuthenticationData),Ma.setMessageId(wa.messageId));sa._errored=Ma;la();}}function ma(ja,wa){var Qa;try{Qa=wa.masterToken;Qa.isExpired()?wa.isRenewable() && 0 != wa.keyRequestData.length?ja.getTokenFactory().isMasterTokenRenewable(ja,Qa,{result:function(Ja){Ja?(sa._errored=new Hb(Ja,"Master token is expired and not renewable.").setEntity(Qa).setUser(wa.userIdToken).setUser(wa.userAuthenticationData).setMessageId(wa.messageId),la()):da(ja,wa);},error:function(Ja){Ja instanceof db && (Ja.setEntity(wa.masterToken),Ja.setUser(wa.userIdToken),Ja.setUser(wa.userAuthenticationData),Ja.setMessageId(wa.messageId));sa._errored=Ja;la();}}):(sa._errored=new Hb(X.MESSAGE_EXPIRED,JSON.stringify(wa)).setEntity(Qa).setUser(wa.userIdToken).setUser(wa.userAuthenticationData).setMessageId(wa.messageId),la()):da(ja,wa);}catch(Ja){Ja instanceof db && (Ja.setEntity(wa.masterToken),Ja.setUser(wa.userIdToken),Ja.setUser(wa.userAuthenticationData),Ja.setMessageId(wa.messageId));sa._errored=Ja;la();}}function da(ja,wa){var Qa,Ja;try{Qa=wa.masterToken;Ja=wa.nonReplayableId;"number" === typeof Ja?Qa?ja.getTokenFactory().acceptNonReplayableId(ja,Qa,Ja,{result:function(Ma){Ma || (sa._errored=new Hb(X.MESSAGE_REPLAYED,JSON.stringify(wa)).setEntity(Qa).setUser(wa.userIdToken).setUser(wa.userAuthenticationData).setMessageId(wa.messageId));la();},error:function(Ma){Ma instanceof db && (Ma.setEntity(Qa),Ma.setUser(wa.userIdToken),Ma.setUser(wa.userAuthenticationData),Ma.setMessageId(wa.messageId));sa._errored=Ma;la();}}):(sa._errored=new Hb(X.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(wa)).setEntity(wa.entityAuthenticationData).setUser(wa.userIdToken).setUser(wa.userAuthenticationData).setMessageId(wa.messageId),la()):la();}catch(Ma){Ma instanceof db && (Ma.setEntity(wa.masterToken),Ma.setEntity(wa.entityAuthenticationData),Ma.setUser(wa.userIdToken),Ma.setUser(wa.userAuthenticationData),Ma.setMessageId(wa.messageId));sa._errored=Ma;la();}}ha={_source:{value:Y,writable:!1,enumerable:!1,configurable:!1},_parser:{value:zb,writable:!0,enumerable:!1,configurable:!1},_charset:{value:aa,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ka,writable:!1,enumerable:!1,configurable:!1},_header:{value:zb,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:zb,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:zb,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Rc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ha);qe(sa._source,ka,{result:function(ja){sa._json=ja;sa._jsonIndex=0;null === sa._json?(sa._errored=new Cb(X.MESSAGE_DATA_MISSING),la()):ze(ca,sa._json[sa._jsonIndex++],ba,{result:function(wa){var Qa;sa._header=wa;if(sa._header instanceof Bc)(sa._keyxCryptoContext=null,sa._cryptoContext=null,la());else {Qa=sa._header;fa(ca,Qa,ea,{result:function(Ja){var Ma;try{sa._keyxCryptoContext=Ja;ca.isPeerToPeer() || !sa._keyxCryptoContext?sa._cryptoContext=Qa.cryptoContext:sa._cryptoContext=sa._keyxCryptoContext;try{Ma=Qa.masterToken;Ma && (ca.isPeerToPeer() || Ma.isVerified())?pa(ca,Qa):da(ca,Qa);}catch(Sa){Sa instanceof db && (Sa.setEntity(Qa.masterToken),Sa.setUser(Qa.userIdToken),Sa.setUser(Qa.userAuthenticationData),Sa.setMessageId(Qa.messageId));sa._errored=Sa;la();}}catch(Sa){Sa instanceof db && (Sa.setEntity(Qa.masterToken),Sa.setEntity(Qa.entityAuthenticationData),Sa.setUser(Qa.userIdToken),Sa.setUser(Qa.userAuthenticationData),Sa.setMessageId(Qa.messageId));sa._errored=Sa;la();}},error:function(Ja){Ja instanceof db && (Ja.setEntity(Qa.masterToken),Ja.setEntity(Qa.entityAuthenticationData),Ja.setUser(Qa.userIdToken),Ja.setUser(Qa.userAuthenticationData),Ja.setMessageId(Qa.messageId));sa._errored=Ja;la();}});}},error:function(wa){sa._errored=wa;la();}});},timeout:function(){sa._timedout=!0;la();},error:function(ja){sa._errored=ja;la();}});return this;},sa);},nextData:function(ca,Y){var aa;aa=this;ab(Y,function(){var ba;function ea(ka){ab(ka,function(){var va;if(this._jsonIndex < this._json.length)return va=this._json[this._jsonIndex++];qe(this._source,this._timeout,{result:function(sa){sa && sa.length && 0 < sa.length?(sa.forEach(function(la){this._json.push(la);}),ea(ka)):(this._eom=!0,ka.result(null));},timeout:function(){ka.timeout();},error:function(sa){ka.error(sa);}});},aa);}ba=this.getMessageHeader();if(!ba)throw new ub("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ea({result:function(ka){ab(Y,function(){if(!ka)return null;if("object" !== typeof ka)throw new Cb(X.MESSAGE_FORMAT_ERROR);Le(ka,this._cryptoContext,{result:function(va){ab(Y,function(){var sa,la,pa,ya;sa=ba.masterToken;la=ba.entityAuthenticationData;pa=ba.userIdToken;ya=ba.getUserAuthenticationData;if(va.messageId != ba.messageId)throw new Hb(X.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + va.messageId + " header mid " + ba.messageId).setEntity(sa).setEntity(la).setUser(pa).setUser(ya);if(va.sequenceNumber != this._payloadSequenceNumber)throw new Hb(X.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + va.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(sa).setEntity(la).setUser(pa).setUser(ya);++this._payloadSequenceNumber;va.isEndOfMessage() && (this._eom=!0);sa=va.data;this._payloads.push(sa);this._payloadIndex=-1;return sa;},aa);},error:function(va){va instanceof SyntaxError && (va=new Cb(X.JSON_PARSE_ERROR,"payloadchunk",va));Y.error(va);}});},aa);},timeout:function(){Y.timeout();},error:function(ka){Y.error(ka);}});},aa);},isReady:function(ca,Y){var ea;function aa(){ab(Y,function(){if(this._aborted)return !1;if(this._timedout)Y.timeout();else {if(this._errored)throw this._errored;return !0;}},ea);}ea=this;ab(Y,function(){this._ready?aa():this._readyQueue.poll(ca,{result:function(ba){ab(Y,function(){if(ba === zb)return !1;aa();},ea);},timeout:function(){Y.timeout();},error:function(ba){Y.error(ba);}});},ea);},getMessageHeader:function(){return this._header instanceof Zc?this._header:null;},getErrorHeader:function(){return this._header instanceof Bc?this._header:null;},getIdentity:function(){var ca,Y;ca=this.getMessageHeader();if(ca){Y=ca.masterToken;return Y?Y.identity:ca.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var ca;ca=this.getMessageHeader();return ca?ca.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(ca){this._closeSource=ca;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(ca,Y,aa){var ba;function ea(){ab(aa,function(){var va,sa,la,pa;function ka(ya){ab(ya,function(){var ma,da,ha;if(sa && pa >= sa.length)return sa.subarray(0,pa);ma=-1;if(this._currentPayload){da=this._currentPayload.length - this._payloadOffset;if(!sa){ha=da;if(-1 != this._payloadIndex)for(var ja=this._payloadIndex;ja < this._payloads.length;++ja){ha+=this._payloads[ja].length;}0 < ha && (sa=new Uint8Array(ha));}da=Math.min(da,sa?sa.length - pa:0);0 < da && (ma=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + da),sa.set(ma,la),ma=da,la+=da,this._payloadOffset+=da);}-1 != ma?(pa+=ma,ka(ya)):this.nextData(Y,{result:function(wa){ab(ya,function(){if(this._aborted)return sa?sa.subarray(0,pa):new Uint8Array(0);this._currentPayload=wa;this._payloadOffset=0;if(this._currentPayload)ka(ya);else return 0 == pa && 0 != ca?null:sa?sa.subarray(0,pa):new Uint8Array(0);},ba);},timeout:function(){ya.timeout(sa?sa.subarray(0,pa):new Uint8Array(0));},error:function(wa){ab(ya,function(){wa instanceof db && (wa=new Tb("Error reading the payload chunk.",wa));if(0 < pa)return (ba._readException=wa,sa.subarray(0,pa));throw wa;},ba);}});},ba);}if(this._aborted)return new Uint8Array(0);if(this._timedout)aa.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){va=this._readException;this._readException=null;throw va;}sa=-1 != ca?new Uint8Array(ca):zb;la=0;pa=0;ka(aa);}},ba);}ba=this;ab(aa,function(){if(-1 > ca)throw new RangeError("read requested with illegal length " + ca);this._ready?ea():this._readyQueue.poll(Y,{result:function(ka){ka === zb?aa.result(!1):ea();},timeout:function(){aa.timeout(new Uint8Array(0));},error:function(ka){aa.error(ka);}});},ba);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});Qe=function(ca,Y,aa,ea,ba,ka,va){new Pe(ca,Y,aa,ea,ba,ka,va);};})();(function(){Re=nd.extend({init:function(fa,ca,Y,aa,ea,ba,ka){var va;va=this;ab(ka,function(){var la,pa,ya;function sa(){va._ready=!0;va._readyQueue.add(!0);}la=Nd(fa.getMessageCapabilities(),aa.messageCapabilities);pa=null;la && (pa=fe(la.compressionAlgorithms));la={_destination:{value:ca,writable:!1,enumerable:!1,configurable:!1},_charset:{value:Y,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:la,writable:!1,enumerable:!1,configurable:!1},_header:{value:aa,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:pa,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ea,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Rc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,la);ya=$b(JSON.stringify(aa),Y);ca.write(ya,0,ya.length,ba,{result:function(ma){try{va._aborted?sa():ma < ya.length?(va._timedout=!0,sa()):ca.flush(ba,{result:function(da){va._aborted || (va._timedout=!da);sa();},timeout:function(){va._timedout=!0;sa();},error:function(da){va._errored=da;sa();}});}catch(da){va._errored=da;sa();}},timeout:function(){va._timedout=!0;sa();},error:function(ma){va._errored=ma;sa();}});return this;},va);},setCompressionAlgorithm:function(fa,ca,Y){var ea;function aa(){ea.flush(ca,{result:function(ba){ab(Y,function(){if(!ba)throw new Tb("flush() aborted");this._compressionAlgo=fa;return !0;},ea);},timeout:function(){Y.timeout();},error:function(ba){Y.error(ba);}});}ea=this;ab(Y,function(){if(!this.getMessageHeader())throw new ub("Cannot write payload data for an error message.");if(this._compressionAlgo == fa)return !0;if(fa){if(!this._capabilities)return !1;for(var ba=this._capabilities.compressionAlgorithms,ka=0;ka < ba.length;++ka){if(ba[ka] == fa){aa();return;}}return !1;}aa();},ea);},getMessageHeader:function(){return this._header instanceof Zc?this._header:null;},getErrorMessage:function(){return this._header instanceof Bc?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(fa,ca){var Y;Y=this;ab(ca,function(){if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(fa,{result:function(aa){ab(ca,function(){aa && (this._currentPayload=null);return aa;},Y);},timeout:function(){ca.timeout();},error:function(aa){ca.error(aa);}});}},Y);},flush:function(fa,ca){var aa;function Y(){ab(ca,function(){var ea,ba,la;if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ea=this.getMessageHeader();if(!ea)return !0;ba=0;this._currentPayload && this._currentPayload.forEach(function(pa){ba+=pa.length;});for(var ka=new Uint8Array(ba),va=0,sa=0;this._currentPayload && sa < this._currentPayload.length;++sa){la=this._currentPayload[sa];ka.set(la,va);va+=la.length;}Ke(this._payloadSequenceNumber,ea.messageId,this._closed,this._compressionAlgo,ka,this._cryptoContext,{result:function(pa){ab(ca,function(){var ya;this._payloads.push(pa);ya=$b(JSON.stringify(pa),this._charset);this._destination.write(ya,0,ya.length,fa,{result:function(ma){ab(ca,function(){if(this._aborted)return !1;ma < pa.length?ca.timeout():this._destination.flush(fa,{result:function(da){ab(ca,function(){if(this._aborted)return !1;if(da)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);ca.timeout();},aa);},timeout:function(){ca.timeout();},error:function(da){da instanceof db && (da=new Tb("Error encoding payload chunk [sequence number " + aa._payloadSequenceNumber + "].",da));ca.error(da);}});},aa);},timeout:function(ma){ca.timeout();},error:function(ma){ma instanceof db && (ma=new Tb("Error encoding payload chunk [sequence number " + aa._payloadSequenceNumber + "].",ma));ca.error(ma);}});},aa);},error:function(pa){pa instanceof db && (pa=new Tb("Error encoding payload chunk [sequence number " + aa._payloadSequenceNumber + "].",pa));ca.error(pa);}});}},aa);}aa=this;ab(ca,function(){this._ready?Y():this._readyQueue.poll(fa,{result:function(ea){ea === zb?ca.result(!1):Y();},timeout:function(){ca.timeout();},error:function(ea){ca.error(ea);}});},aa);},write:function(fa,ca,Y,aa,ea){ab(ea,function(){var ba;if(this._aborted)return !1;if(this._timedout)ea.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Tb("Message output stream already closed.");if(0 > ca)throw new RangeError("Offset cannot be negative.");if(0 > Y)throw new RangeError("Length cannot be negative.");if(ca + Y > fa.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new ub("Cannot write payload data for an error message.");ba=fa.subarray(ca,ca + Y);this._currentPayload.push(ba);return ba.length;}},this);}});sd=function(fa,ca,Y,aa,ea,ba,ka){new Re(fa,ca,Y,aa,ea,ba,ka);};})();vf=Bb.Class.create({sentHeader:function(fa){},receivedHeader:function(fa){}});Object.freeze({USERDATA_REAUTH:Da.USERDATA_REAUTH,SSOTOKEN_REJECTED:Da.SSOTOKEN_REJECTED});Se=Bb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(fa,ca,Y,aa){},getCustomer:function(){},getKeyRequestData:function(fa){},updateServiceTokens:function(fa,ca,Y){},write:function(fa,ca,Y){},getDebugContext:function(){}});Bb.Class.create({getInputStream:function(fa){},getOutputStream:function(fa){}});(function(){var va,sa,la,pa,ya,ma,da,ha,ja,wa,Qa,Ja;function fa(Ma){return function(){Ma.abort();};}function ca(Ma,Sa){Object.defineProperties(this,{masterToken:{value:Ma,writable:!1,configurable:!1},ticket:{value:Sa,writable:!1,configurable:!1}});}function Y(Ma,Sa){Object.defineProperties(this,{builder:{value:Ma,writable:!1,configurable:!1},msgCtx:{value:Sa,writable:!1,configurable:!1}});}function aa(Ma,Sa,oa){Object.defineProperties(this,{requestHeader:{value:Ma,writable:!1,configurable:!1},payloads:{value:Sa,writable:!1,configurable:!1},handshake:{value:oa,writable:!1,configurable:!1}});}function ea(Ma,Sa){Object.defineProperties(this,{requestHeader:{value:Sa.requestHeader,writable:!1,configurable:!1},payloads:{value:Sa.payloads,writable:!1,configurable:!1},handshake:{value:Sa.handshake,writable:!1,configurable:!1},response:{value:Ma,writable:!1,configurable:!1}});}function ba(Ma){for(;Ma;){if(Ma instanceof Xb)return !0;Ma=Ma instanceof db?Ma.cause:zb;}return !1;}function ka(Ma,Sa,oa,xa,Ca,Ga,za,Ta,Ea){Ne(Sa,xa,Ca,Ga,{result:function(Ya){oa && oa.sentHeader(Ya);sd(Sa,za,Mb,Ya,null,null,Ta,{result:function($a){Ma.setAbort(function(){$a.abort();});$a.close(Ta,{result:function(Ua){ab(Ea,function(){if(!Ua)throw new Xb("sendError aborted.");return Ua;});},timeout:function(){Ea.timeout();},error:function(Ua){Ea.error(Ua);}});},timeout:function(){},error:function($a){Ea.error($a);}});},error:function(Ya){Ea.error(Ya);}});}va=nd.extend({close:function(Ma,Sa){Sa.result(!0);},write:function(Ma,Sa,oa,xa,Ca){Ka(Ca,function(){return Math.min(Ma.length - Sa,oa);});},flush:function(Ma,Sa){Sa.result(!0);}});sa=uf.extend({getUserMessage:function(Ma,Sa){return null;}});la=Se.extend({init:function(Ma){Object.defineProperties(this,{_appCtx:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Ma,Sa,oa,xa){this._appCtx.getUserAuthData(Ma,Sa,oa,xa);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Ma){this._appCtx.getKeyRequestData(Ma);},updateServiceTokens:function(Ma,Sa,oa){this._appCtx.updateServiceTokens(Ma,Sa,oa);},write:function(Ma,Sa,oa){this._appCtx.write(Ma,Sa,oa);},getDebugContext:function(){return this._appCtx.getDebugContext();}});pa=la.extend({init:function xa(Sa,oa){xa.base.call(this,oa);Object.defineProperties(this,{_payloads:{value:Sa,writable:!1,enumerable:!1,configurable:!1}});},write:function(Sa,oa,xa){var Ga;function Ca(za,Ta){var Ea;if(za == Ga._payloads.length)xa.result(!0);else {Ea=Ga._payloads[za];Sa.setCompressionAlgorithm(Ea.compressionAlgo,oa,{result:function(Ya){Sa.write(Ea.data,0,Ea.data.length,oa,{result:function($a){ab(xa,function(){Ea.isEndOfMessage()?Ca(za + 1,Ta):Sa.flush(oa,{result:function(Ua){xa.result(Ua);},timeout:function(){xa.timeout();},error:function(Ua){xa.error(Ua);}});},Ga);},timeout:function($a){xa.timeout($a);},error:function($a){xa.error($a);}});},timeout:function(){},error:function(Ya){xa.error(Ya);}});}}Ga=this;Ca(0);}});ya=la.extend({init:function xa(oa){xa.base.call(this,oa);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(oa,xa,Ca){Ca.result(!0);}});ma={};da=Bb.Class.create({init:function(oa){oa || (oa=new sa());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(oa){this._filterFactory=oa;},getNewestMasterToken:function(oa,xa,Ca,Ga){var za;za=this;ab(Ga,function(){var Ta,Ea,Ya,$a,Ua;Ta=xa.getMslStore();Ea=Ta.getMasterToken();if(!Ea)return null;Ya=Ea.uniqueKey();$a=this._masterTokenLocks[Ya];$a || ($a=new yd(),this._masterTokenLocks[Ya]=$a);Ua=$a.readLock(Ca,{result:function(ib){ab(Ga,function(){var lb;if(ib === zb)throw new Xb("getNewestMasterToken aborted.");lb=Ta.getMasterToken();if(Ea.equals(lb))return new ca(Ea,ib);$a.unlock(ib);$a.writeLock(Ca,{result:function(nb){ab(Ga,function(){if(nb === zb)throw new Xb("getNewestMasterToken aborted.");delete this._masterTokenLocks[Ya];$a.unlock(nb);return this.getNewestMasterToken(oa,xa,Ca,Ga);},za);},timeout:function(){Ga.timeout();},error:function(nb){Ga.error(nb);}});},za);},timeout:function(){Ga.timeout();},error:function(ib){Ga.error(ib);}});oa.setAbort(function(){Ua && ($a.cancel(Ua),Ua=zb);});},za);},deleteMasterToken:function(oa,xa){var Ca;if(xa){Ca=this;setTimeout(function(){var Ga,za;Ga=xa.uniqueKey();za=Ca._masterTokenLocks[Ga];za || (za=new yd(),Ca._masterTokenLocks[Ga]=za);za.writeLock(-1,{result:function(Ta){oa.getMslStore().removeCryptoContext(xa);delete Ca._masterTokenLocks[Ga];za.unlock(Ta);},timeout:function(){throw new ub("Unexpected timeout received.");},error:function(Ta){throw Ta;}});},0);}},releaseMasterToken:function(oa){var xa;if(oa && oa.masterToken){xa=oa.masterToken.uniqueKey();xa=this._masterTokenLocks[xa];if(!xa)throw new ub("Master token read/write lock does not exist when it should.");xa.unlock(oa.ticket);}},updateOutgoingCryptoContexts:function(oa,xa,Ca){var Ga;Ga=oa.getMslStore();!oa.isPeerToPeer() && Ca && (Ga.setCryptoContext(Ca.keyResponseData.masterToken,Ca.cryptoContext),this.deleteMasterToken(oa,xa.masterToken));},updateIncomingCryptoContexts:function(oa,xa,Ca){var Ga,za;Ga=Ca.getMessageHeader();if(Ga){za=oa.getMslStore();if(Ga=Ga.keyResponseData)(za.setCryptoContext(Ga.masterToken,Ca.getKeyExchangeCryptoContext()),this.deleteMasterToken(oa,xa.masterToken));}},storeServiceTokens:function(oa,xa,Ca,Ga){var Ea,Ya;oa=oa.getMslStore();for(var za=[],Ta=0;Ta < Ga.length;++Ta){Ea=Ga[Ta];if(!Ea.isBoundTo(xa) || !xa.isVerified()){Ya=Ea.data;Ya && 0 == Ya.length?oa.removeServiceTokens(Ea.name,Ea.isMasterTokenBound()?xa:null,Ea.isUserIdTokenBound()?Ca:null):za.push(Ea);}}0 < za.length && oa.addServiceTokens(za);},buildRequest:function(oa,xa,Ca,Ga,za){var Ta;Ta=this;this.getNewestMasterToken(oa,xa,Ga,{result:function(Ea){Ka(za,function(){var Ya,$a,Ua;Ya=Ea && Ea.masterToken;if(Ya){$a=Ca.getUserId();Ua=xa.getMslStore();$a=($a=$a?Ua.getUserIdToken($a):null) && $a.isBoundTo(Ya)?$a:null;}else $a=null;Hc(xa,Ya,$a,null,{result:function(ib){Ka(za,function(){ib.setNonReplayable(Ca.isNonReplayable());return {builder:ib,tokenTicket:Ea};});},error:function(ib){Ka(za,function(){this.releaseMasterToken(Ea);ib instanceof db && (ib=new ub("User ID token not bound to master token despite internal check.",ib));throw ib;},Ta);}});},Ta);},timeout:function(){za.timeout();},error:function(Ea){za.error(Ea);}});},buildResponse:function(oa,xa,Ca,Ga,za,Ta){var Ea;Ea=this;Me(xa,Ga,{result:function(Ya){ab(Ta,function(){Ya.setNonReplayable(Ca.isNonReplayable());if(!xa.isPeerToPeer() && !Ga.keyResponseData)return {builder:Ya,tokenTicket:null};this.getNewestMasterToken(oa,xa,za,{result:function($a){ab(Ta,function(){var Ua,ib,lb;Ua=$a && $a.masterToken;if(Ua){ib=Ca.getUserId();lb=xa.getMslStore();ib=(ib=ib?lb.getUserIdToken(ib):null) && ib.isBoundTo(Ua)?ib:null;}else ib=null;Ya.setAuthTokens(Ua,ib);return {builder:Ya,tokenTicket:$a};},Ea);},timeout:function(){Ta.timeout();},error:function($a){Ta.error($a);}});},Ea);},error:function(Ya){Ta.error(Ya);}});},buildErrorResponse:function(oa,xa,Ca,Ga,za,Ta,Ea){var Ua;function Ya(ib,lb){ab(Ea,function(){var nb,ob;nb=Gc(za.messageId);ob=new pa(lb,Ca);Hc(xa,null,null,nb,{result:function(pb){ab(Ea,function(){xa.isPeerToPeer() && pb.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);pb.setNonReplayable(ob.isNonReplayable());return {errorResult:new Y(pb,ob),tokenTicket:null};},Ua);},error:function(pb){Ea.error(pb);}});},Ua);}function $a(ib,lb){Ua.getNewestMasterToken(oa,xa,Ta,{result:function(nb){ab(Ea,function(){var ob,pb,yb;ob=nb && nb.masterToken;pb=Gc(za.messageId);yb=new pa(lb,Ca);Hc(xa,ob,null,pb,{result:function(xb){ab(Ea,function(){xa.isPeerToPeer() && xb.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);xb.setNonReplayable(yb.isNonReplayable());return {errorResult:new Y(xb,yb),tokenTicket:nb};},Ua);},error:function(xb){Ea.error(xb);}});},Ua);},timeout:function(){Ea.timeout();},error:function(nb){Ea.error(nb);}});}Ua=this;ab(Ea,function(){var ib,lb,nb,ob;ib=Ga.requestHeader;lb=Ga.payloads;nb=za.errorCode;switch(nb){case Da.ENTITYDATA_REAUTH:case Da.ENTITY_REAUTH:xa.getEntityAuthenticationData(nb,{result:function(pb){ab(Ea,function(){if(!pb)return null;Ya(ib,lb);},Ua);},error:function(pb){Ea.error(pb);}});break;case Da.USERDATA_REAUTH:case Da.SSOTOKEN_REJECTED:Ca.getUserAuthData(nb,!1,!0,{result:function(pb){ab(Ea,function(){if(!pb)return null;$a(ib,lb);},Ua);},error:function(pb){Ea.error(pb);}});break;case Da.USER_REAUTH:$a(ib,lb);break;case Da.KEYX_REQUIRED:nb=Gc(za.messageId);ob=new pa(lb,Ca);Hc(xa,null,null,nb,{result:function(pb){ab(Ea,function(){xa.isPeerToPeer() && pb.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);pb.setRenewable(!0);pb.setNonReplayable(ob.isNonReplayable());return {errorResult:new Y(pb,ob),tokenTicket:null};},Ua);},error:function(pb){Ea.error(pb);}});break;case Da.EXPIRED:this.getNewestMasterToken(oa,xa,Ta,{result:function(pb){ab(Ea,function(){var yb,xb,r,b;yb=pb && pb.masterToken;xb=ib.userIdToken;r=Gc(za.messageId);b=new pa(lb,Ca);Hc(xa,yb,xb,r,{result:function(a){ab(Ea,function(){xa.isPeerToPeer() && a.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);ib.masterToken.equals(yb) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new Y(a,b),tokenTicket:pb};},Ua);},error:function(a){Ea.error(a);}},Ua);},Ua);},timeout:function(){Ea.timeout();},error:function(pb){Ea.error(pb);}});break;case Da.REPLAYED:this.getNewestMasterToken(oa,xa,Ta,{result:function(pb){ab(Ea,function(){var yb,xb,r,b;yb=pb && pb.masterToken;xb=ib.userIdToken;r=Gc(za.messageId);b=new pa(lb,Ca);Hc(xa,yb,xb,r,{result:function(a){ab(Ea,function(){xa.isPeerToPeer() && a.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);ib.masterToken.equals(yb)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new Y(a,b),tokenTicket:pb};},Ua);},error:function(a){Ea.error(a);}});},Ua);},timeout:function(){Ea.timeout();},error:function(pb){Ea.error(pb);}});break;default:return null;}},Ua);},cleanupContext:function(oa,xa,Ca){switch(Ca.errorCode){case Da.ENTITY_REAUTH:this.deleteMasterToken(oa,xa.masterToken);break;case Da.USER_REAUTH:(Ca=xa.userIdToken,xa.masterToken && Ca && oa.getMslStore().removeUserIdToken(Ca));}},send:function(oa,xa,Ca,Ga,za,Ta,Ea){var nb;function Ya(ob,pb,yb){ab(Ea,function(){var xb;xb=za.getPeerUserIdToken();!xa.isPeerToPeer() && !pb || xa.isPeerToPeer() && !xb?(xb=Ca.getCustomer())?za.setCustomer(xb,{result:function(r){ab(Ea,function(){pb=za.getUserIdToken();$a(ob,pb,yb);},nb);},error:function(r){Ea.error(r);}}):$a(ob,pb,yb):$a(ob,pb,yb);},nb);}function $a(ob,pb,yb){ab(Ea,function(){var xb,r;xb=!yb && (!Ca.isEncrypted() || za.willEncryptPayloads()) && (!Ca.isIntegrityProtected() || za.willIntegrityProtectPayloads()) && (!Ca.isNonReplayable() || za.isNonReplayable() && ob);xb || za.setNonReplayable(!1);r=[];za.isRenewable() && (!ob || ob.isRenewable() || Ca.isNonReplayable())?Ca.getKeyRequestData({result:function(b){ab(Ea,function(){var c;for(var a=0;a < b.length;++a){c=b[a];r.push(c);za.addKeyRequestData(c);}Ua(ob,pb,xb,r);},nb);},error:function(b){Ea.error(b);}}):Ua(ob,pb,xb,r);},nb);}function Ua(ob,pb,yb,xb){ab(Ea,function(){var r;r=new Oe(xa,Ca,za);Ca.updateServiceTokens(r,!yb,{result:function(b){za.getHeader({result:function(a){ab(Ea,function(){var c,g;c=Ca.getDebugContext();c && c.sentHeader(a);c=za.getKeyExchangeData();this.updateOutgoingCryptoContexts(xa,a,c);this.storeServiceTokens(xa,ob,pb,a.serviceTokens);c=!xa.isPeerToPeer() && c?c.cryptoContext:a.cryptoContext;if(oa.isAborted())throw new Xb("send aborted.");g=null != this._filterFactory?this._filterFactory.getOutputStream(Ga):Ga;sd(xa,g,Mb,a,c,Ta,{result:function(k){oa.setAbort(function(){k.abort();});ib(k,a,yb);},timeout:function(){Ea.timeout();},error:function(k){Ea.error(k);}});},nb);},timeout:function(){Ea.timeout();},error:function(a){Ea.error(a);}});},error:function(b){Ea.error(b);}});},nb);}function ib(ob,pb,yb){var xb,r;if(yb)Ca.write(ob,Ta,{result:function(b){ab(Ea,function(){if(oa.isAborted())throw new Xb("MessageOutputStream write aborted.");lb(ob,pb,yb);},nb);},timeout:function(){Ea.timeout();},error:function(b){Ea.error(b);}});else {xb=new va();r=new Nc();sd(xa,xb,Mb,pb,r,Ta,{result:function(b){Ca.write(b,Ta,{result:function(a){ab(Ea,function(){if(oa.isAborted())throw new Xb("MessageOutputStream proxy write aborted.");b.close(Ta,{result:function(c){ab(Ea,function(){var g;if(!c)throw new Xb("MessageOutputStream proxy close aborted.");g=b.getPayloads();lb(ob,pb,yb,g);},nb);},timeout:function(){Ea.timeout();},error:function(c){Ea.error(c);}});},nb);},timeout:function(){Ea.timeout();},error:function(a){Ea.error(a);}});},timeout:function(){Ea.timeout();},error:function(b){Ea.error(b);}});}}function lb(ob,pb,yb,xb){ob.close(Ta,{result:function(r){ab(Ea,function(){if(!r)throw new Xb("MessageOutputStream close aborted.");xb || (xb=ob.getPayloads());return new aa(pb,xb,!yb);},nb);},timeout:function(){Ea.timeout();},error:function(r){Ea.error(r);}});}nb=this;ab(Ea,function(){var ob,pb,yb,xb;ob=za.getMasterToken();pb=za.getUserIdToken();yb=!1;if(Ca.getUserId()){xb=!pb;Ca.getUserAuthData(null,za.isRenewable(),xb,{result:function(r){ab(Ea,function(){r && (za.willEncryptHeader() && za.willIntegrityProtectHeader()?za.setUserAuthenticationData(r):yb=!0);Ya(ob,pb,yb);},nb);},error:function(r){Ea.error(r);}});}else Ya(ob,pb,yb);},nb);},receive:function(oa,xa,Ca,Ga,za,Ta,Ea){var Ya;Ya=this;ab(Ea,function(){var $a,Ua,ib;if(oa.isAborted())throw new Xb("receive aborted.");$a=[];za && ($a=za.keyRequestData.filter(function(){return !0;}));Ua=Ca.getCryptoContexts();ib=this._filterFactory?this._filterFactory.getInputStream(Ga):Ga;Qe(xa,ib,Mb,$a,Ua,Ta,{result:function(lb){oa.setAbort(function(){lb.abort();});lb.isReady(Ta,{result:function(nb){ab(Ea,function(){var ob,pb,yb,xb;if(!nb)throw new Xb("MessageInputStream aborted.");ob=lb.getMessageHeader();pb=lb.getErrorHeader();yb=Ca.getDebugContext();yb && yb.receivedHeader(ob?ob:pb);if(za && (yb=pb?pb.errorCode:null,ob || yb != Da.FAIL && yb != Da.TRANSIENT_FAILURE && yb != Da.ENTITY_REAUTH && yb != Da.ENTITYDATA_REAUTH)){yb=ob?ob.messageId:pb.messageId;xb=Gc(za.messageId);if(yb != xb)throw new Hb(X.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + xb + "; received " + yb);}xa.getEntityAuthenticationData(null,{result:function(r){ab(Ea,function(){var b,a,c,g;b=r.getIdentity();if(ob){a=ob.entityAuthenticationData;c=ob.masterToken;a=c?ob.sender:a.getIdentity();if(c && c.isDecrypted() && c.identity != a || b == a)throw new Hb(X.UNEXPECTED_MESSAGE_SENDER,a);za && this.updateIncomingCryptoContexts(xa,za,lb);b=ob.keyResponseData;xa.isPeerToPeer()?(b=b?b.masterToken:ob.peerMasterToken,c=ob.peerUserIdToken,a=ob.peerServiceTokens):(b=b?b.masterToken:ob.masterToken,c=ob.userIdToken,a=ob.serviceTokens);g=Ca.getUserId();g && c && !c.isVerified() && xa.getMslStore().addUserIdToken(g,c);this.storeServiceTokens(xa,b,c,a);}else if((a=pb.entityAuthenticationData.getIdentity(),b == a))throw new Hb(X.UNEXPECTED_MESSAGE_SENDER,a);return lb;},Ya);},error:Ea.error});},Ya);},timeout:function(){Ea.timeout();},error:function(nb){Ea.error(nb);}});},timeout:function(){Ea.timeout();},error:function(lb){Ea.error(lb);}});},Ya);},sendReceive:function(oa,xa,Ca,Ga,za,Ta,Ea,Ya,$a){var ib;function Ua(lb,nb){ab($a,function(){Ta.setRenewable(nb);this.send(oa,xa,Ca,za,Ta,Ea,{result:function(ob){ab($a,function(){var pb;pb=ob.requestHeader.keyRequestData;Ya || ob.handshake || !pb.isEmpty()?this.receive(oa,xa,Ca,Ga,ob.requestHeader,Ea,{result:function(yb){ab($a,function(){nb && this.releaseRenewalLock(xa,lb,yb);return new ea(yb,ob);},ib);},timeout:function(){ab($a,function(){nb && this.releaseRenewalLock(xa,lb,null);$a.timeout();},ib);},error:function(yb){ab($a,function(){nb && this.releaseRenewalLock(xa,lb,null);throw yb;},ib);}}):ab($a,function(){nb && this.releaseRenewalLock(xa,lb,null);return new ea(null,ob);},ib);},ib);},timeout:function(){ab($a,function(){nb && this.releaseRenewalLock(xa,lb,null);$a.timeout();},ib);},error:function(ob){ab($a,function(){nb && this.releaseRenewalLock(xa,lb,null);throw ob;},ib);}});},ib);}ib=this;ab($a,function(){var lb;lb=new Rc();this.acquireRenewalLock(oa,xa,Ca,lb,Ta,Ea,{result:function(nb){Ua(lb,nb);},timeout:function(){$a.timeout();},error:function(nb){nb instanceof Xb?$a.result(null):$a.error(nb);}});},ib);},acquireRenewalLock:function(oa,xa,Ca,Ga,za,Ta,Ea){var Ua;function Ya(ib,lb,nb){ab(Ea,function(){var yb,xb;if(oa.isAborted())throw new Xb("acquireRenewalLock aborted.");for(var ob=null,pb=0;pb < this._renewingContexts.length;++pb){yb=this._renewingContexts[pb];if(yb.ctx === xa){ob=yb.queue;break;}}if(!ob)return (this._renewingContexts.push({ctx:xa,queue:Ga}),!0);xb=ob.poll(Ta,{result:function(r){ab(Ea,function(){var b;if(r === zb)throw new Xb("acquireRenewalLock aborted.");ob.add(r);if(r === ma || r.isExpired())Ya(r,lb,nb);else {if(nb && !lb || lb && !lb.isBoundTo(r)){b=xa.getMslStore().getUserIdToken(nb);lb=b && b.isBoundTo(r)?b:null;}za.setAuthTokens(r,lb);za.isRenewable() && r.equals(ib)?Ya(r,lb,nb):Ca.isRequestingTokens() && !lb?Ya(r,lb,nb):$a(r,lb);}},Ua);},timeout:function(){},error:function(r){}});oa.setAbort(function(){xb && (ob.cancel(xb),xb=zb);});},Ua);}function $a(ib,lb){ab(Ea,function(){var pb;if(oa.isAborted())throw new Xb("acquireRenewalLock aborted.");if(!ib || ib.isRenewable() || !lb && Ca.getUserId() || lb && lb.isRenewable()){for(var nb=null,ob=0;ob < this._renewingContexts.length;++ob){pb=this._renewingContexts[ob];if(pb.ctx === xa){nb=pb.queue;break;}}if(!nb)return (this._renewingContexts.push({ctx:xa,queue:Ga}),!0);}return !1;},Ua);}Ua=this;ab(Ea,function(){var ib,lb,nb;ib=za.getMasterToken();lb=za.getUserIdToken();nb=Ca.getUserId();Ca.isEncrypted() && !za.willEncryptPayloads() || Ca.isIntegrityProtected() && !za.willIntegrityProtectPayloads() || za.isRenewable() || !ib && Ca.isNonReplayable() || ib && ib.isExpired() || !(lb || !nb || za.willEncryptHeader() && za.willIntegrityProtectHeader()) || Ca.isRequestingTokens() && (!ib || nb && !lb)?Ya(ib,lb,nb):$a(ib,lb);},Ua);},releaseRenewalLock:function(oa,xa,Ca){var Ea;for(var Ga,za,Ta=0;Ta < this._renewingContexts.length;++Ta){Ea=this._renewingContexts[Ta];if(Ea.ctx === oa){Ga=Ta;za=Ea.queue;break;}}if(za !== xa)throw new ub("Attempt to release renewal lock that is not owned by this queue.");Ca?(Ca=Ca.messageHeader)?(za=Ca.keyResponseData)?xa.add(za.masterToken):(oa=oa.isPeerToPeer()?Ca.peerMasterToken:Ca.masterToken)?xa.add(oa):xa.add(ma):xa.add(ma):xa.add(ma);this._renewingContexts.splice(Ga,1);}});Te=Bb.Class.create({init:function(){var oa;oa={_impl:{value:new da(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,oa);},setFilterFactory:function(oa){this._impl.setFilterFactory(oa);},shutdown:function(){this._shutdown=!0;},receive:function(oa,xa,Ca,Ga,za,Ta){var Ea;if(this._shutdown)throw new db("MslControl is shutdown.");Ea=new ha(this._impl,oa,xa,Ca,Ga,za);setTimeout(function(){Ea.call(Ta);},0);return fa(Ea);},respond:function(oa,xa,Ca,Ga,za,Ta,Ea){var Ya;if(this._shutdown)throw new db("MslControl is shutdown.");Ya=new ja(this._impl,oa,xa,Ca,Ga,za,Ta);setTimeout(function(){Ya.call(Ea);},0);return fa(Ya);},error:function Ca(oa,xa,Ca,Ga,za,Ta,Ea){var Ya;if(this._shutdown)throw new db("MslControl is shutdown.");Ya=new wa(this._impl,oa,xa,Ca,Ga,za,Ta);setTimeout(function(){Ya.call(Ea);},0);return fa(Ya);},request:function(oa,xa){var Ca,Ga,za,Ta,Ea,Ya;if(this._shutdown)throw new db("MslControl is shutdown.");if(5 == arguments.length){Ga=arguments[2];za=Ca=null;Ta=arguments[3];Ea=arguments[4];if(oa.isPeerToPeer()){Ea.error(new ub("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ga=null,Ca=arguments[2],za=arguments[3],Ta=arguments[4],Ea=arguments[5],!oa.isPeerToPeer())){Ea.error(new ub("This method cannot be used in trusted network mode."));return;}Ya=new Ja(this._impl,oa,xa,Ga,Ca,za,null,0,Ta);setTimeout(function(){Ya.call(Ea);},0);return fa(Ya);}});ha=Bb.Class.create({init:function(oa,xa,Ca,Ga,za,Ta){Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_output:{value:za,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ta,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},call:function(oa){var za;function xa(Ta){ab(oa,function(){var Ea;Ea=Ta.messageHeader;if(!Ea)return Ta;this.setAbort(function(){Ta.abort();});Ta.mark(Number.MAX_VALUE);Ta.read(1,za._timeout,{result:function(Ya){ab(oa,function(){if(Ya && 0 == Ya.length)return null;if(Ya)return (Ta.reset(),Ta);Ca(Ta);},za);},timeout:function(){oa.timeout();},error:function(Ya){ab(oa,function(){var $a,Ua,ib;if(ba(Ya))return null;$a=Ea?Ea.messageId:null;if(Ya instanceof Tb){Ua=X.MSL_COMMS_FAILURE;ib=Ya;}else (Ua=X.INTERNAL_EXCEPTION,ib=new ub("Error peeking into the message payloads."));ka(this,this._ctx,this._msgCtx.getDebugContext(),$a,Ua,null,this._output,this._timeout,{result:function(lb){oa.error(ib);},timeout:function(){oa.timeout();},error:function(lb){ab(oa,function(){if(ba(lb))return null;throw new dc("Error peeking into the message payloads.",lb,Ya);},za);}});},za);}});},za);}function Ca(Ta){ab(oa,function(){Ta.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Ta.messageHeader,this._timeout,{result:function(Ea){ab(oa,function(){var Ya,$a,Ua,ib,lb;Ya=Ea.builder;$a=Ea.tokenTicket;Ua=Ta.messageHeader;ib=new ya(this._msgCtx);if(!this._ctx.isPeerToPeer() || Ua.isEncrypting() || Ua.keyResponseData)Ga(Ua,Ya,ib,$a);else {lb=new Ja(this._ctrl,this._ctx,ib,null,this._input,this._output,Ea,1,this._timeout);this.setAbort(function(){lb.abort();});lb.call(oa);}},za);},timeout:function(){oa.timeout();},error:function(Ea){ab(oa,function(){var Ya,$a,Ua,ib;if(ba(Ea))return null;if(Ea instanceof db){Ya=Ea.messageId;$a=Ea.error;Ua=Ta.messageHeader.messageCapabilities;Ua=this._ctrl.messageRegistry.getUserMessage($a,Ua?Ua.languages:null);ib=Ea;}else (Ya=requestHeader?requestHeader.messageId:null,$a=X.INTERNAL_EXCEPTION,Ua=null,ib=new ub("Error creating an automatic handshake response.",Ea));ka(this,this._ctx,this._msgCtx.getDebugContext(),Ya,$a,Ua,this._output,this._timeout,{result:function(lb){oa.error(ib);},timeout:function(){oa.timeout();},error:function(lb){ab(oa,function(){if(ba(lb))return null;throw new dc("Error creating an automatic handshake response.",lb,Ea);},za);}});},za);}});},za);}function Ga(Ta,Ea,Ya,$a){ab(oa,function(){Ea.setRenewable(!1);this._ctrl.send(this._ctx,Ya,this._output,Ea,this._timeout,{result:function(Ua){ab(oa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken($a);return null;},za);},timeout:function(){ab(oa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken($a);oa.timeout();},za);},error:function(Ua){ab(oa,function(){var ib,lb,nb,ob;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken($a);if(ba(Ua))return null;if(Ua instanceof db){ib=Ua.messageId;lb=Ua.error;nb=Ta?Ta.messageCapabilities:null;nb=this._ctrl.messageRegistry.getUserMessage(lb,nb?nb.languages:null);ob=Ua;}else Ua instanceof Tb?(ib=Ta?Ta.messageId:null,lb=X.MSL_COMMS_FAILURE,nb=null,ob=Ua):(ib=Ta?Ta.messageId:null,lb=X.INTERNAL_EXCEPTION,nb=null,ob=new ub("Error sending an automatic handshake response.",Ua));ka(this,this._ctx,this._msgCtx.getDebugContext(),ib,lb,nb,this._output,this._timeout,{result:function(pb){oa.error(ob);},timeout:function(){oa.timeout();},error:function(pb){ab(oa,function(){if(ba(pb))return null;throw new dc("Error sending an automatic handshake response.",pb,Ua);},za);}});},za);}});},za);}za=this;ab(oa,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Ta){xa(Ta);},timeout:function(){oa.timeout();},error:function(Ta){ab(oa,function(){var Ea,Ya,$a,Ua;if(ba(Ta))return null;if(Ta instanceof db){Ea=Ta.messageId;Ya=Ta.error;$a=this._ctrl.messageRegistry.getUserMessage(Ya,null);Ua=Ta;}else (Ea=null,Ya=X.INTERNAL_EXCEPTION,$a=null,Ua=new ub("Error receiving the message header.",Ta));ka(this,this._ctx,this._msgCtx.getDebugContext(),Ea,Ya,$a,this._output,this._timeout,{result:function(ib){oa.error(Ua);},timeout:function(){oa.timeout();},error:function(ib){ab(oa,function(){if(ba(ib))return null;throw new dc("Error receiving the message header.",ib,Ta);},za);}});},za);}});},za);}});ja=Bb.Class.create({init:function(oa,xa,Ca,Ga,za,Ta,Ea){Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_output:{value:za,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ta,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},trustedNetworkExecute:function(oa,xa,Ca){var Ga;Ga=this;ab(Ca,function(){var za,Ta;if(12 < xa + 1)return !1;if(za=this._msgCtx.isIntegrityProtected() && !oa.willIntegrityProtectHeader()?X.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !oa.willEncryptPayloads()?X.RESPONSE_REQUIRES_ENCRYPTION:null){Ta=Oc(oa.getMessageId());ka(this,this._ctx,this._msgCtx.getDebugContext(),Ta,za,null,this._output,this._timeout,{result:function(Ea){Ca.result(!1);},timeout:function(){Ca.timeout();},error:function(Ea){ab(Ca,function(){if(ba(Ea))return !1;throw new dc("Response requires encryption or integrity protection but cannot be protected: " + za,Ea,null);},Ga);}});}else !this._msgCtx.getCustomer() || oa.getMasterToken() || oa.getKeyExchangeData()?(oa.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,oa,this._timeout,{result:function(Ea){Ca.result(!0);},timeout:function(){Ca.timeout();},error:function(Ea){Ca.error(Ea);}})):(Ta=Oc(oa.getMessageId()),ka(this,this._ctx,this._msgCtx.getDebugContext(),Ta,X.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ea){Ca.result(!1);},timeout:function(){Ca.timeout();},error:function(Ea){ab(Ca,function(){if(ba(Ea))return !1;throw new dc("Response wishes to attach a user ID token but there is no master token.",Ea,null);},Ga);}}));},Ga);},peerToPeerExecute:function(oa,xa,Ca,Ga){var Ta;function za(Ea){ab(Ga,function(){var Ya;Ya=Ea.response;Ya.close();Ya=Ya.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ea.requestHeader,Ya);this._ctrl.buildErrorResponse(this,this._ctx,oa,Ea,Ya,{result:function($a){ab(Ga,function(){var Ua,ib;if(!$a)return !1;Ua=$a.errorResult;ib=$a.tokenTicket;this.peerToPeerExecute(Ua.msgCtx,Ua.builder,Ca,{result:function(lb){ab(Ga,function(){this._ctrl.releaseMasterToken(ib);return lb;},Ta);},timeout:function(){ab(Ga,function(){this._ctrl.releaseMasterToken(ib);Ga.timeout();},Ta);},error:function(lb){ab(Ga,function(){this._ctrl.releaseMasterToken(ib);throw lb;},Ta);}});},Ta);}});},Ta);}Ta=this;ab(Ga,function(){var Ea;if(12 < Ca + 2)return !1;if(null != oa.getCustomer() && null == xa.getPeerMasterToken() && null == xa.getKeyExchangeData()){Ea=Oc(xa.getMessageId());ka(this,this._ctx,oa.getDebugContext(),Ea,X.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ya){Ga.result(!1);},timeout:function(){Ga.timeout();},error:function(Ya){ab(Ga,function(){if(ba(Ya))return !1;throw new dc("Response wishes to attach a user ID token but there is no master token.",Ya,null);},Ta);}});}else this._ctrl.sendReceive(this._ctx,oa,this._input,this._output,xa,this._timeout,!1,{result:function(Ya){ab(Ga,function(){var ib,lb,nb;function $a(){ib.read(32768,Ta._timeout,{result:function(ob){ab(Ga,function(){ob?$a():Ua();},Ta);},timeout:function(){Ga.timeout();},error:function(ob){Ga.error(ob);}});}function Ua(){ab(Ga,function(){var ob;ob=new pa(Ya.payloads,oa);this._ctrl.buildResponse(this,this._ctx,ob,lb,this._timeout,{result:function(pb){ab(Ga,function(){var yb;yb=pb.tokenTicket;this.peerToPeerExecute(ob,pb.builder,Ca,{result:function(xb){ab(Ga,function(){this._ctrl.releaseMasterToken(yb);return xb;},Ta);},timeout:function(){ab(Ga,function(){this._ctrl.releaseMasterToken(yb);Ga.timeout();},Ta);},error:function(xb){ab(Ga,function(){this._ctrl.releaseMasterToken(yb);throw xb;},Ta);}});},Ta);},timeout:function(){Ga.timeout();},error:function(pb){Ga.error(pb);}});},Ta);}ib=Ya.response;Ca+=2;if(!ib)return !0;lb=ib.getMessageHeader();if(lb){nb=Ya.payloads;nb=0 < nb.length && 0 < nb[0].data.length;if(Ya.handshake && nb)$a();else return !0;}else za(Ya);},Ta);},timeout:function(){Ga.timeout();},error:function(Ya){Ga.error(Ya);}});},Ta);},call:function(oa){var xa;xa=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Ca){ab(oa,function(){var Ga,za;Ga=Ca.builder;za=Ca.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ga,3,{result:function(Ta){ab(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(za);return Ta;},xa);},timeout:function(){ab(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(za);oa.timeout();},xa);},error:function(Ta){ab(oa,function(){var Ea,Ya,$a,Ua;this._ctx.isPeerToPeer() && this.releaseMasterToken(za);if(ba(Ta))return !1;Ea=Oc(Ga.getMessageId());if(Ta instanceof db){Ya=Ta.error;$a=this._request.messageCapabilities;$a=this._ctrl.messageRegistry.getUserMessage(Ya,$a?$a.languages:null);Ua=Ta;}else Ta instanceof Tb?(Ya=X.MSL_COMMS_FAILURE,$a=null,Ua=Ta):(Ya=X.INTERNAL_EXCEPTION,$a=null,Ua=new ub("Error sending the response.",Ta));ka(this,this._ctx,this._msgCtx.getDebugContext(),Ea,Ya,$a,this._output,this._timeout,{result:function(ib){oa.error(Ua);},timeout:function(){oa.timeout();},error:function(ib){ab(oa,function(){if(ba(ib))return !1;throw new dc("Error sending the response.",ib,null);},xa);}});},xa);}}):this.trustedNetworkExecute(Ga,3,{result:function(Ta){ab(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(za);return Ta;},xa);},timeout:function(){ab(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(za);oa.timeout();},xa);},error:function(Ta){ab(oa,function(){var Ea,Ya,$a,Ua;this._ctx.isPeerToPeer() && this.releaseMasterToken(za);if(ba(Ta))return !1;Ea=Oc(Ga.getMessageId());if(Ta instanceof db){Ya=Ta.error;$a=this._request.messageCapabilities;$a=this._ctrl.messageRegistry.getUserMessage(Ya,$a?$a.languages:null);Ua=Ta;}else Ta instanceof Tb?(Ya=X.MSL_COMMS_FAILURE,$a=null,Ua=Ta):(Ya=X.INTERNAL_EXCEPTION,$a=null,Ua=new ub("Error sending the response.",Ta));ka(this,this._ctx,this._msgCtx.getDebugContext(),Ea,Ya,$a,this._output,this._timeout,{result:function(ib){oa.error(Ua);},timeout:function(){oa.timeout();},error:function(ib){ab(oa,function(){if(ba(ib))return !1;throw new dc("Error sending the response.",ib,null);},xa);}});},xa);}});},xa);},timeout:function(){oa.timeout();},error:function(Ca){ab(oa,function(){var Ga,za,Ta,Ea;if(ba(Ca))return !1;if(Ca instanceof db){Ga=Ca.messageId;za=Ca.error;Ta=this._request.messageCapabilities;Ta=this._ctrl.messageRegistry.getUserMessage(za,Ta?Ta.languages:null);Ea=Ca;}else (Ga=null,za=X.INTERNAL_EXCEPTION,Ta=null,Ea=new ub("Error building the response.",Ca));ka(this,this._ctx,this._msgCtx.getDebugContext(),Ga,za,Ta,this._output,this._timeout,{result:function(Ya){oa.error(Ea);},timeout:function(){oa.timeout();},error:function(Ya){ab(oa,function(){if(ba(Ya))return null;throw new dc("Error building the response.",Ya,Ca);},xa);}});},xa);}});}});wa=Bb.Class.create({init:function(oa,xa,Ca,Ga,za,Ta,Ea){Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ta,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},call:function(oa){var xa;xa=this;ab(oa,function(){var Ca,Ga;if(this._appError == ENTITY_REJECTED)Ca=this._request.masterToken?X.MASTERTOKEN_REJECTED_BY_APP:X.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Ca=this._request.userIdToken?X.USERIDTOKEN_REJECTED_BY_APP:X.USER_REJECTED_BY_APP;else throw new ub("Unhandled application error " + this._appError + ".");Ga=this._request.messageCapabilities;Ga=this._ctrl.messageRegistry.getUserMessage(Ca,Ga?Ga.languages:null);ka(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Ca,Ga,this._output,this._timeout,{result:function(za){oa.result(za);},timeout:oa.timeout,error:function(za){ab(oa,function(){if(ba(za))return !1;if(za instanceof db)throw za;throw new ub("Error building the error response.",za);},xa);}});},xa);}});Qa={result:function(){},timeout:function(){},error:function(){}};Ja=Bb.Class.create({init:function(oa,xa,Ca,Ga,za,Ta,Ea,Ya,$a){var Ua;if(Ea){Ua=Ea.builder;Ea=Ea.tokenTicket;}else Ea=Ua=null;Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_input:{value:za,writable:!0,enumerable:!1,configurable:!1},_output:{value:Ta,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Ua,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ea,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:$a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Ya,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},execute:function(oa,xa,Ca,Ga,za){var Ya;function Ta($a){function Ua(ib){ab(za,function(){var lb;lb=$a.response;return ib?ib:lb;},Ya);}ab(za,function(){var ib,lb;ib=$a.response;ib.close();lb=ib.getErrorHeader();this._ctrl.cleanupContext(this._ctx,$a.requestHeader,lb);this._ctrl.buildErrorResponse(this,this._ctx,oa,$a,lb,Ca,{result:function(nb){ab(za,function(){var ob,pb,yb,xb;if(!nb)return ib;ob=nb.errorResult;pb=nb.tokenTicket;yb=ob.builder;ob=ob.msgCtx;if(this._ctx.isPeerToPeer())this.execute(ob,yb,this._timeout,Ga,{result:function(r){ab(za,function(){this._ctrl.releaseMasterToken(pb);Ua(r);},Ya);},timeout:function(){ab(za,function(){this._ctrl.releaseMasterToken(pb);za.timeout();},Ya);},error:function(r){ab(za,function(){this._ctrl.releaseMasterToken(pb);za.error(r);},Ya);}});else {this._openedStreams && (this._input.close(),this._output.close(Ca,Qa));xb=new Ja(this._ctrl,this._ctx,ob,this._remoteEntity,null,null,{builder:yb,tokenTicket:pb},Ga,this._timeout);this.setAbort(function(){xb.abort();});xb.call({result:function(r){Ua(r);},timeout:function(){za.timeout();},error:function(r){za.error(r);}});}},Ya);},timeout:function(){za.timeout();},error:function(nb){za.error(nb);}});},Ya);}function Ea($a){ab(za,function(){var lb,nb,ob,pb,yb;function Ua(){lb.read(32768,Ya._timeout,{result:function(xb){xb?Ua():ib();},timeout:function(){za.timeout();},error:function(xb){za.error(xb);}});}function ib(){ab(za,function(){var xb;xb=new pa($a.payloads,oa);this._ctrl.buildResponse(this,this._ctx,oa,nb,Ca,{result:function(r){ab(za,function(){var b;b=r.tokenTicket;this.execute(xb,r.builder,this._timeout,Ga,{result:function(a){ab(za,function(){this._ctrl.releaseMasterToken(b);return a;},Ya);},timeout:function(){ab(za,function(){this._ctrl.releaseMasterToken(b);za.timeout();},Ya);},error:function(a){ab(za,function(){this._ctrl.releaseMasterToken(b);throw a;},Ya);}});},Ya);},timeout:function(){za.timeout();},error:function(r){za.error(r);}});},Ya);}lb=$a.response;nb=lb.getMessageHeader();ob=$a.payloads;ob=0 < ob.length && 0 < ob[0].data.length;if(!this._ctx.isPeerToPeer()){if(!$a.handshake || !ob)return lb;this._openedStreams && (this._input.close(),this._output.close(Ca,Qa));pb=new pa($a.payloads,oa);this._ctrl.buildResponse(this,this._ctx,oa,nb,Ca,{result:function(xb){ab(za,function(){var r;r=new Ja(this._ctrl,this._ctx,pb,this._remoteEntity,null,null,xb,Ga,this._timeout);this.setAbort(function(){r.abort();});r.call(za);},Ya);},timeout:function(){za.timeout();},error:function(xb){za.error(xb);}});}else if($a.handshake && ob)Ua();else if(0 < nb.keyRequestData.length){yb=new ya(oa);this._ctrl.buildResponse(this,this._ctx,yb,nb,Ca,{result:function(xb){ab(za,function(){var r,b;r=xb.builder;b=xb.tokenTicket;lb.mark();lb.read(1,this._timeout,{result:function(a){ab(za,function(){function c(){lb.read(32768,Ya._timeout,{result:function(k){k?c():g();},timeout:function(){za.timeout();},error:function(k){za.error(k);}});}function g(){Ya.execute(yb,r,Ya._timeout,Ga,{result:function(k){ab(za,function(){this._ctrl.releaseMasterToken(b);return k;},Ya);},timeout:function(){ab(za,function(){this._ctrl.releaseMasterToken(b);za.timeout();},Ya);},error:function(k){ab(za,function(){this._ctrl.releaseMasterToken(b);throw k;},Ya);}});}if(a){if((lb.reset(),12 >= Ga + 1))(r.setRenewable(!1),this._ctrl.send(this,this._ctx,yb,this._output,r,this._timeout,{result:function(k){ab(za,function(){this.releaseMasterToken(b);return lb;},Ya);},timeout:function(){za.timeout();},error:function(k){za.error(k);}}));else return (this.releaseMasterToken(b),lb);}else c();},Ya);},timeout:function(){ab(za,function(){this.releaseMasterToken(b);za.timeout();},Ya);},error:function(a){ab(za,function(){this.releaseMasterToken(b);throw a;},Ya);}});},Ya);},timeout:function(){za.timeout();},error:function(xb){za.error(xb);}});}},Ya);}Ya=this;ab(za,function(){if(12 < Ga + 2)return null;this._ctrl.sendReceive(this,this._ctx,oa,this._input,this._output,xa,Ca,!0,{result:function($a){ab(za,function(){var Ua;if(!$a)return null;Ua=$a.response;Ga+=2;Ua.getMessageHeader()?Ea($a):Ta($a);},Ya);},timeout:function(){za.timeout();},error:function($a){za.error($a);}});},Ya);},call:function(oa){var Ca;function xa(Ga,za,Ta){ab(oa,function(){this.execute(this._msgCtx,Ga,Ta,this._msgCount,{result:function(Ea){ab(oa,function(){this._ctrl.releaseMasterToken(za);this._openedStreams && this._output.close(Ta,Qa);Ea && Ea.closeSource(this._openedStreams);return Ea;},Ca);},timeout:function(){ab(oa,function(){this._ctrl.releaseMasterToken(za);this._openedStreams && (this._output.close(Ta,Qa),this._input.close());oa.timeout();},Ca);},error:function(Ea){ab(oa,function(){this._ctrl.releaseMasterToken(za);this._openedStreams && (this._output.close(Ta,Qa),this._input.close());if(ba(Ea))return null;throw Ea;},Ca);}});},Ca);}Ca=this;ab(oa,function(){var Ga,za,Ta;Ga=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);za=Date.now();Ta=this._remoteEntity.openConnection();this._output=Ta.output;this._input=Ta.input;-1 != Ga && (Ga=this._timeout - (Date.now() - za));this._openedStreams=!0;}catch(Ea){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Qa);this._input && this._input.close();if(ba(Ea))return null;throw Ea;}this._builder?xa(this._builder,this._tokenTicket,Ga):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ea){ab(oa,function(){xa(Ea.builder,Ea.tokenTicket,Ga);},Ca);},timeout:function(){ab(oa,function(){this._openedStreams && (this._output.close(this._timeout,Qa),this._input.close());oa.timeout();},Ca);},error:function(Ea){ab(oa,function(){this._openedStreams && (this._output.close(this._timeout,Qa),this._input.close());if(ba(Ea))return null;throw Ea;},Ca);}});},Ca);}});})();(function(){Qd=Bb.Class.create({init:function(fa){Object.defineProperties(this,{id:{value:fa,writable:!1,configurable:!1}});},toJSON:function(){var fa;fa={};fa.id=this.id;return fa;},equals:function(fa){return this === fa?!0:fa instanceof Qd?this.id == fa.id:!1;},uniqueKey:function(){return this.id;}});Ue=function(fa){var ca;ca=fa.id;if(!ca)throw new Cb(X.JSON_PARSE_ERROR,JSON.stringify(fa));return new Qd(ca);};})();Bb.Class.create({isNewestMasterToken:function(fa,ca,Y){},isMasterTokenRevoked:function(fa,ca){},acceptNonReplayableId:function(fa,ca,Y,aa){},createMasterToken:function(fa,ca,Y,aa,ea){},isMasterTokenRenewable:function(fa,ca,Y){},renewMasterToken:function(fa,ca,Y,aa,ea){},isUserIdTokenRevoked:function(fa,ca,Y,aa){},createUserIdToken:function(fa,ca,Y,aa){},renewUserIdToken:function(fa,ca,Y,aa){}});(function(){function fa(ca,Y,aa,ea){this.sessiondata=ca;this.tokendata=Y;this.signature=aa;this.verified=ea;}cc=Bb.Class.create({init:function(ca,Y,aa,ea,ba,ka,va,sa,la,pa,ya){var ma;ma=this;Ka(ya,function(){var da,ha,ja,wa,Qa;if(aa.getTime() < Y.getTime())throw new ub("Cannot construct a master token that expires before its renewal window opens.");if(0 > ea || ea > Lb)throw new ub("Sequence number " + ea + " is outside the valid range.");if(0 > ba || ba > Lb)throw new ub("Serial number " + ba + " is outside the valid range.");da=Math.floor(Y.getTime() / 1E3);ha=Math.floor(aa.getTime() / 1E3);if(pa)ja=pa.sessiondata;else {wa={};ka && (wa.issuerdata=ka);wa.identity=va;wa.encryptionkey=Fb(sa.toByteArray());wa.hmackey=Fb(la.toByteArray());ja=$b(JSON.stringify(wa),Mb);}if(pa)return (Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ha,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,configurable:!1},issuerData:{value:ka,writable:!1,configurable:!1},identity:{value:va,writable:!1,configurable:!1},encryptionKey:{value:sa,writable:!1,configurable:!1},hmacKey:{value:la,writable:!1,configurable:!1},sessiondata:{value:ja,writable:!1,enumerable:!1,configurable:!1},verified:{value:pa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:pa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:pa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Qa=ca.getMslCryptoContext();Qa.encrypt(ja,{result:function(Ja){Ka(ya,function(){var Ma,Sa;Ma={};Ma.renewalwindow=da;Ma.expiration=ha;Ma.sequencenumber=ea;Ma.serialnumber=ba;Ma.sessiondata=Fb(Ja);Sa=$b(JSON.stringify(Ma),Mb);Qa.sign(Sa,{result:function(oa){Ka(ya,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ha,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:ka,writable:!1,configurable:!1},identity:{value:va,writable:!1,configurable:!1},encryptionKey:{value:sa,writable:!1,configurable:!1},hmacKey:{value:la,writable:!1,configurable:!1},sessiondata:{value:ja,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:oa,writable:!1,enumerable:!1,configurable:!1}});return this;},ma);},error:function(oa){ya.error(oa);}});},ma);},error:function(Ja){ya.error(Ja);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(ca){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(ca){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(ca){var Y;if(this.sequenceNumber == ca.sequenceNumber)return this.expiration > ca.expiration;if(this.sequenceNumber > ca.sequenceNumber){Y=this.sequenceNumber - Lb + 127;return ca.sequenceNumber >= Y;}Y=ca.sequenceNumber - Lb + 127;return this.sequenceNumber < Y;},toJSON:function(){var ca;ca={};ca.tokendata=Fb(this.tokendata);ca.signature=Fb(this.signature);return ca;},equals:function(ca){return this === ca?!0:ca instanceof cc?this.serialNumber == ca.serialNumber && this.sequenceNumber == ca.sequenceNumber && this.expiration.getTime() == ca.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Xc=function(ca,Y,aa){Ka(aa,function(){var ea,ba,ka,va,sa;ea=ca.getMslCryptoContext();ba=Y.tokendata;ka=Y.signature;if("string" !== typeof ba || "string" !== typeof ka)throw new Cb(X.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(Y));try{va=Gb(ba);}catch(la){throw new db(X.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(Y),la);}if(!va || 0 == va.length)throw new Cb(X.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(Y));try{sa=Gb(ka);}catch(la){throw new db(X.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(Y),la);}ea.verify(va,sa,{result:function(la){Ka(aa,function(){var pa,ya,ma,da,ha,ja,wa,Qa,Ja,Ma;pa=Zb(va,Mb);try{ya=JSON.parse(pa);ma=parseInt(ya.renewalwindow);da=parseInt(ya.expiration);ha=parseInt(ya.sequencenumber);ja=parseInt(ya.serialnumber);wa=ya.sessiondata;}catch(Sa){if(Sa instanceof SyntaxError)throw new Cb(X.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + pa,Sa);throw Sa;}if(!ma || ma != ma || !da || da != da || "number" !== typeof ha || ha != ha || "number" !== typeof ja || ja != ja || "string" !== typeof wa)throw new Cb(X.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + pa);if(da < ma)throw new db(X.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + pa);if(0 > ha || ha > Lb)throw new db(X.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + pa);if(0 > ja || ja > Lb)throw new db(X.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + pa);Qa=new Date(1E3 * ma);Ja=new Date(1E3 * da);try{Ma=Gb(wa);}catch(Sa){throw new db(X.MASTERTOKEN_SESSIONDATA_INVALID,wa,Sa);}if(!Ma || 0 == Ma.length)throw new db(X.MASTERTOKEN_SESSIONDATA_MISSING,wa);la?ea.decrypt(Ma,{result:function(Sa){Ka(aa,function(){var oa,xa,Ca,Ga,za,Ta;oa=Zb(Sa,Mb);try{xa=JSON.parse(oa);Ca=xa.issuerdata;Ga=xa.identity;za=xa.encryptionkey;Ta=xa.hmackey;}catch(Ea){if(Ea instanceof SyntaxError)throw new Cb(X.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + oa,Ea);throw Ea;}if(Ca && "object" !== typeof Ca || !Ga || "string" !== typeof za || "string" !== typeof Ta)throw new Cb(X.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + oa);mc(za,hc,wc,{result:function(Ea){mc(Ta,ic,Fc,{result:function(Ya){Ka(aa,function(){var $a;$a=new fa(Sa,va,sa,la);new cc(ca,Qa,Ja,ha,ja,Ca,Ga,Ea,Ya,$a,aa);});},error:function(Ya){aa.error(new sb(X.MASTERTOKEN_KEY_CREATION_ERROR,Ya));}});},error:function(Ea){aa.error(new sb(X.MASTERTOKEN_KEY_CREATION_ERROR,Ea));}});});},error:function(Sa){aa.error(Sa);}}):(ma=new fa(null,va,sa,la),new cc(ca,Qa,Ja,ha,ja,null,null,null,null,ma,aa));});},error:function(la){aa.error(la);}});});};})();(function(){function fa(ca,Y,aa){this.tokendata=ca;this.signature=Y;this.verified=aa;}Lc=Bb.Class.create({init:function(ca,Y,aa,ea,ba,ka,va,sa,la){var pa;pa=this;Ka(la,function(){var ya,ma,da,ha,ja,wa,Qa;if(aa.getTime() < Y.getTime())throw new ub("Cannot construct a user ID token that expires before its renewal window opens.");if(!ea)throw new ub("Cannot construct a user ID token without a master token.");if(0 > ba || ba > Lb)throw new ub("Serial number " + ba + " is outside the valid range.");ya=Math.floor(Y.getTime() / 1E3);ma=Math.floor(aa.getTime() / 1E3);da=ea.serialNumber;if(sa){ha=sa.tokendata;ja=sa.signature;wa=sa.verified;da=ea.serialNumber;Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ya,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ma,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,configurable:!1},issuerData:{value:ka,writable:!1,configurable:!1},customer:{value:va,writable:!1,configurable:!1},verified:{value:wa,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ha,writable:!1,enumerable:!1,configurable:!1},signature:{value:ja,writable:!1,enumerable:!1,configurable:!1}});return this;}ha={};ka && (ha.issuerdata=ka);ha.identity=va;ha=$b(JSON.stringify(ha),Mb);Qa=ca.getMslCryptoContext();Qa.encrypt(ha,{result:function(Ja){Ka(la,function(){var Ma,Sa;Ma={};Ma.renewalwindow=ya;Ma.expiration=ma;Ma.mtserialnumber=da;Ma.serialnumber=ba;Ma.userdata=Fb(Ja);Sa=$b(JSON.stringify(Ma),Mb);Qa.sign(Sa,{result:function(oa){Ka(la,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ya,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ma,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ea.serialNumber,writable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,configurable:!1},issuerData:{value:ka,writable:!1,configurable:!1},customer:{value:va,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:oa,writable:!1,enumerable:!1,configurable:!1}});return this;},pa);},error:function(oa){Ka(la,function(){oa instanceof db && oa.setEntity(ea);throw oa;},pa);}});},pa);},error:function(Ja){Ka(la,function(){Ja instanceof db && Ja.setEntity(ea);throw Ja;},pa);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(ca){return ca && ca.serialNumber == this.mtSerialNumber;},toJSON:function(){var ca;ca={};ca.tokendata=Fb(this.tokendata);ca.signature=Fb(this.signature);return ca;},equals:function(ca){return this === ca?!0:ca instanceof Lc?this.serialNumber == ca.serialNumber && this.mtSerialNumber == ca.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});od=function(ca,Y,aa,ea){Ka(ea,function(){var ba,ka,va,sa,la;ba=ca.getMslCryptoContext();ka=Y.tokendata;va=Y.signature;if("string" !== typeof ka || "string" !== typeof va)throw new Cb(X.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(Y)).setEntity(aa);try{sa=Gb(ka);}catch(pa){throw new db(X.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(Y),pa).setEntity(aa);}if(!sa || 0 == sa.length)throw new Cb(X.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(Y)).setEntity(aa);try{la=Gb(va);}catch(pa){throw new db(X.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(Y),pa).setEntity(aa);}ba.verify(sa,la,{result:function(pa){Ka(ea,function(){var ya,ma,da,ha,ja,wa,Qa,Ja,Ma,Sa;ya=Zb(sa,Mb);try{ma=JSON.parse(ya);da=parseInt(ma.renewalwindow);ha=parseInt(ma.expiration);ja=parseInt(ma.mtserialnumber);wa=parseInt(ma.serialnumber);Qa=ma.userdata;}catch(oa){if(oa instanceof SyntaxError)throw new Cb(X.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + ya,oa).setEntity(aa);throw oa;}if(!da || da != da || !ha || ha != ha || "number" !== typeof ja || ja != ja || "number" !== typeof wa || wa != wa || "string" !== typeof Qa)throw new Cb(X.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + ya).setEntity(aa);if(ha < da)throw new db(X.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + ya).setEntity(aa);if(0 > ja || ja > Lb)throw new db(X.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + ya).setEntity(aa);if(0 > wa || wa > Lb)throw new db(X.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + ya).setEntity(aa);Ja=new Date(1E3 * da);Ma=new Date(1E3 * ha);if(!aa || ja != aa.serialNumber)throw new db(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ja + "; mt " + JSON.stringify(aa)).setEntity(aa);try{Sa=Gb(Qa);}catch(oa){throw new db(X.USERIDTOKEN_USERDATA_INVALID,Qa,oa).setEntity(aa);}if(!Sa || 0 == Sa.length)throw new db(X.USERIDTOKEN_USERDATA_MISSING,Qa).setEntity(aa);pa?ba.decrypt(Sa,{result:function(oa){Ka(ea,function(){var xa,Ca,Ga,za,Ta;xa=Zb(oa,Mb);try{Ca=JSON.parse(xa);Ga=Ca.issuerdata;za=Ca.identity;}catch(Ea){if(Ea instanceof SyntaxError)throw new Cb(X.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + xa).setEntity(aa);throw Ea;}if(Ga && "object" !== typeof Ga || "object" !== typeof za)throw new Cb(X.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + xa).setEntity(aa);try{Ta=Ue(za);}catch(Ea){throw new db(X.USERIDTOKEN_IDENTITY_INVALID,"userdata " + xa,Ea).setEntity(aa);}za=new fa(sa,la,pa);new Lc(ca,Ja,Ma,aa,wa,Ga,Ta,za,ea);});},error:function(oa){Ka(ea,function(){oa instanceof db && oa.setEntity(aa);throw oa;});}}):(da=new fa(sa,la,pa),new Lc(ca,Ja,Ma,aa,wa,null,null,da,ea));});},error:function(pa){Ka(ea,function(){pa instanceof db && pa.setEntity(aa);throw pa;});}});});};})();(function(){function fa(Y,aa){var ea,ba,ka;ea=Y.tokendata;if("string" !== typeof ea)throw new Cb(X.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Y));try{ba=Gb(ea);}catch(va){throw new db(X.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(Y),va);}if(!ba || 0 == ba.length)throw new Cb(X.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(Y));try{ka=JSON.parse(Zb(ba,Mb)).name;}catch(va){if(va instanceof SyntaxError)throw new Cb(X.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Y),va);throw va;}if(!ka)throw new Cb(X.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Y));return aa[ka]?aa[ka]:aa[""];}function ca(Y,aa,ea){this.tokendata=Y;this.signature=aa;this.verified=ea;}yc=Bb.Class.create({init:function(Y,aa,ea,ba,ka,va,sa,la,pa,ya){var ma;ma=this;Ka(ya,function(){var da,ha,ja,wa,Qa;if(ba && ka && !ka.isBoundTo(ba))throw new ub("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");da=ba?ba.serialNumber:-1;ha=ka?ka.serialNumber:-1;if(pa)return (Qa=pa.tokendata,Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},name:{value:aa,writable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},uitSerialNumber:{value:ha,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:va,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:sa,writable:!1,configurable:!1},verified:{value:pa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Qa,writable:!1,enumerable:!1,configurable:!1},signature:{value:pa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(sa){ja=Pd(sa,ea);ja.length < ea.length || (sa=null,ja=ea);}else (sa=null,ja=ea);wa={};wa.name=aa;-1 != da && (wa.mtserialnumber=da);-1 != ha && (wa.uitserialnumber=ha);wa.encrypted=va;sa && (wa.compressionalgo=sa);if(va && 0 < ja.length)la.encrypt(ja,{result:function(Ja){Ka(ya,function(){var Ma;wa.servicedata=Fb(Ja);Ma=$b(JSON.stringify(wa),Mb);la.sign(Ma,{result:function(Sa){Ka(ya,function(){Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},name:{value:aa,writable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},uitSerialNumber:{value:ha,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:va,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:sa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ma,writable:!1,enumerable:!1,configurable:!1},signature:{value:Sa,writable:!1,enumerable:!1,configurable:!1}});return this;},ma);},error:function(Sa){Ka(ya,function(){Sa instanceof db && (Sa.setEntity(ba),Sa.setUser(ka));throw Sa;});}});},ma);},error:function(Ja){Ka(ya,function(){Ja instanceof db && (Ja.setEntity(ba),Ja.setUser(ka));throw Ja;});}});else {wa.servicedata=Fb(ja);Qa=$b(JSON.stringify(wa),Mb);la.sign(Qa,{result:function(Ja){Ka(ya,function(){Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},name:{value:aa,writable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},uitSerialNumber:{value:ha,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:va,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:sa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Qa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ja,writable:!1,enumerable:!1,configurable:!1}});return this;},ma);},error:function(Ja){Ka(ya,function(){Ja instanceof db && (Ja.setEntity(ba),Ja.setUser(ka));throw Ja;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(Y){return Y?Y instanceof cc?Y.serialNumber == this.mtSerialNumber:Y instanceof Lc?Y.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var Y;Y={};Y.tokendata=Fb(this.tokendata);Y.signature=Fb(this.signature);return Y;},equals:function(Y){return this === Y?!0:Y instanceof yc?this.name == Y.name && this.mtSerialNumber == Y.mtSerialNumber && this.uitSerialNumber == Y.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});sc=function(Y,aa,ea,ba,ka,va,sa,la,pa){new yc(Y,aa,ea,ba,ka,va,sa,la,null,pa);};pd=function(Y,aa,ea,ba,ka,va){Ka(va,function(){var sa,la,pa,ya,ma,da,ha,ja,wa,Qa,Ja,Ma,Sa;!ka || ka instanceof Mc || (ka=fa(aa,ka));sa=aa.tokendata;la=aa.signature;if("string" !== typeof sa || "string" !== typeof la)throw new Cb(X.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(aa)).setEntity(ea).setEntity(ba);try{pa=Gb(sa);}catch(oa){throw new db(X.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(aa),oa).setEntity(ea).setEntity(ba);}if(!pa || 0 == pa.length)throw new Cb(X.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(aa)).setEntity(ea).setEntity(ba);try{ya=Gb(la);}catch(oa){throw new db(X.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(aa),oa).setEntity(ea).setEntity(ba);}ma=Zb(pa,Mb);try{da=JSON.parse(ma);ha=da.name;ja=da.mtserialnumber?parseInt(da.mtserialnumber):-1;wa=da.uitserialnumber?parseInt(da.uitserialnumber):-1;Qa=da.encrypted;Ja=da.compressionalgo;Ma=da.servicedata;}catch(oa){if(oa instanceof SyntaxError)throw new Cb(X.JSON_PARSE_ERROR,"servicetokendata " + ma,oa).setEntity(ea).setEntity(ba);throw oa;}if(!ha || "number" !== typeof ja || ja != ja || "number" !== typeof wa || wa != wa || "boolean" !== typeof Qa || Ja && "string" !== typeof Ja || "string" !== typeof Ma)throw new Cb(X.JSON_PARSE_ERROR,"servicetokendata " + ma).setEntity(ea).setEntity(ba);if(da.mtserialnumber && 0 > ja || ja > Lb)throw new db(X.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ma).setEntity(ea).setEntity(ba);if(da.uitserialnumber && 0 > wa || wa > Lb)throw new db(X.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ma).setEntity(ea).setEntity(ba);if(-1 != ja && (!ea || ja != ea.serialNumber))throw new db(X.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ja + "; mt " + ea).setEntity(ea).setEntity(ba);if(-1 != wa && (!ba || wa != ba.serialNumber))throw new db(X.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + wa + "; uit " + ba).setEntity(ea).setEntity(ba);Qa=!0 === Qa;if(Ja){if(!Dc[Ja])throw new db(X.UNIDENTIFIED_COMPRESSION,Ja);Sa=Ja;}else Sa=null;ka?ka.verify(pa,ya,{result:function(oa){Ka(va,function(){var xa,Ca;if(oa){try{xa=Gb(Ma);}catch(Ga){throw new db(X.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ma,Ga).setEntity(ea).setEntity(ba);}if(!xa || 0 != Ma.length && 0 == xa.length)throw new db(X.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ma).setEntity(ea).setEntity(ba);if(Qa && 0 < xa.length)ka.decrypt(xa,{result:function(Ga){Ka(va,function(){var za,Ta;za=Sa?qd(Sa,Ga):Ga;Ta=new ca(pa,ya,oa);new yc(Y,ha,za,-1 != ja?ea:null,-1 != wa?ba:null,Qa,Sa,ka,Ta,va);});},error:function(Ga){Ka(va,function(){Ga instanceof db && (Ga.setEntity(ea),Ga.setUser(ba));throw Ga;});}});else {xa=Sa?qd(Sa,xa):xa;Ca=new ca(pa,ya,oa);new yc(Y,ha,xa,-1 != ja?ea:null,-1 != wa?ba:null,Qa,Sa,ka,Ca,va);}}else (xa="" == Ma?new Uint8Array(0):null,Ca=new ca(pa,ya,oa),new yc(Y,ha,xa,-1 != ja?ea:null,-1 != wa?ba:null,Qa,Sa,ka,Ca,va));});},error:function(oa){Ka(va,function(){oa instanceof db && (oa.setEntity(ea),oa.setUser(ba));throw oa;});}}):(sa="" == Ma?new Uint8Array(0):null,la=new ca(pa,ya,!1),new yc(Y,ha,sa,-1 != ja?ea:null,-1 != wa?ba:null,Qa,Sa,ka,la,va));});};})();zc={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(zc);(function(){Sc=Bb.Class.create({init:function(fa){Object.defineProperties(this,{scheme:{value:fa,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(fa){return this === fa?!0:fa instanceof Sc?this.scheme == fa.scheme:!1;},toJSON:function(){var fa;fa={};fa.scheme=this.scheme;fa.authdata=this.getAuthData();return fa;}});Je=function(fa,ca,Y,aa){Ka(aa,function(){var ea,ba,ka;ea=Y.scheme;ba=Y.authdata;if(!ea || !ba)throw new Cb(X.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(Y));if(!zc[ea])throw new vc(X.UNIDENTIFIED_USERAUTH_SCHEME,ea);ka=fa.getUserAuthenticationFactory(ea);if(!ka)throw new vc(X.USERAUTH_FACTORY_NOT_FOUND,ea);ka.createData(fa,ca,ba,aa);});};})();Ve=Bb.Class.create({init:function(fa){Object.defineProperties(this,{scheme:{value:fa,writable:!1,configurable:!1}});},createData:function(fa,ca,Y,aa){},authenticate:function(fa,ca,Y,aa){}});(function(){$c=Sc.extend({init:function aa(ca,Y){aa.base.call(this,zc.NETFLIXID);Object.defineProperties(this,{netflixId:{value:ca,writable:!1,configurable:!1},secureNetflixId:{value:Y,writable:!1,configurable:!1}});},getAuthData:function(){var ca;ca={};ca.netflixid=this.netflixId;this.secureNetflixId && (ca.securenetflixid=this.secureNetflixId);return ca;},equals:function aa(Y){return this === Y?!0:Y instanceof $c?aa.base.call(this,Y) && this.netflixId == Y.netflixId && this.secureNetflixId == Y.secureNetflixId:!1;}});We=function(Y){var aa,ea;aa=Y.netflixid;ea=Y.securenetflixid;if(!aa)throw new Cb(X.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(Y));return new $c(aa,ea);};})();wf=Ve.extend({init:function ca(){ca.base.call(this,zc.NETFLIXID);},createData:function(ca,Y,aa,ea){Ka(ea,function(){return We(aa);});},authenticate:function(ca,Y,aa,ea){if(!(aa instanceof $c))throw new ub("Incorrect authentication data type " + aa + ".");ca=aa.secureNetflixId;if(!aa.netflixId || !ca)throw new vc(X.NETFLIXID_COOKIES_BLANK).setUser(aa);throw new vc(X.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(aa);}});(function(){ad=Sc.extend({init:function ea(Y,aa){ea.base.call(this,zc.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:Y,writable:!1,configurable:!1},password:{value:aa,writable:!1,configurable:!1}});},getAuthData:function(){var Y;Y={};Y.email=this.email;Y.password=this.password;return Y;},equals:function ea(aa){return this === aa?!0:aa instanceof ad?ea.base.call(this,this,aa) && this.email == aa.email && this.password == aa.password:!1;}});Xe=function(aa){var ea,ba;ea=aa.email;ba=aa.password;if(!ea || !ba)throw new Cb(X.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(aa));return new ad(ea,ba);};})();xf=Ve.extend({init:function Y(){Y.base.call(this,zc.EMAIL_PASSWORD);},createData:function(Y,aa,ea,ba){Ka(ba,function(){return Xe(ea);});},authenticate:function(Y,aa,ea,ba){if(!(ea instanceof ad))throw new ub("Incorrect authentication data type " + ea + ".");Y=ea.password;if(!ea.email || !Y)throw new vc(X.EMAILPASSWORD_BLANK).setUser(ea);throw new vc(X.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ea);}});Object.freeze({ENTITY_REAUTH:Da.ENTITY_REAUTH,ENTITYDATA_REAUTH:Da.ENTITYDATA_REAUTH});yf=Bb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(Y,aa){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(Y){},getUserAuthenticationFactory:function(Y){},getTokenFactory:function(){},getKeyExchangeFactory:function(Y){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Ye=Bb.Class.create({setCryptoContext:function(Y,aa){},getMasterToken:function(){},getNonReplayableId:function(Y){},getCryptoContext:function(Y){},removeCryptoContext:function(Y){},clearCryptoContexts:function(){},addUserIdToken:function(Y,aa){},getUserIdToken:function(Y){},removeUserIdToken:function(Y){},clearUserIdTokens:function(){},addServiceTokens:function(Y){},getServiceTokens:function(Y,aa){},removeServiceTokens:function(Y,aa,ea){},clearServiceTokens:function(){}});(function(){var Y;Y=Dc;Pd=function(aa,ea){var ba;ba={};switch(aa){case Y.LZW:return de(ea,ba);case Y.GZIP:return gzip$compress(ea);default:throw new db(X.UNSUPPORTED_COMPRESSION,aa);}};qd=function(aa,ea,ba){switch(aa){case Y.LZW:return ee(ea);case Y.GZIP:return gzip$uncompress(ea);default:throw new db(X.UNSUPPORTED_COMPRESSION,aa.name());}};})();Ye.extend({setCryptoContext:function(Y,aa){},getMasterToken:function(){return null;},getNonReplayableId:function(Y){return 1;},getCryptoContext:function(Y){return null;},removeCryptoContext:function(Y){},clearCryptoContexts:function(){},addUserIdToken:function(Y,aa){},getUserIdToken:function(Y){return null;},removeUserIdToken:function(Y){},clearUserIdTokens:function(){},addServiceTokens:function(Y){},getServiceTokens:function(Y,aa){if(aa){if(!Y)throw new db(X.USERIDTOKEN_MASTERTOKEN_NULL);if(!aa.isBoundTo(Y))throw new db(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + aa.mtSerialNumber + "; mt " + Y.serialNumber);}return [];},removeServiceTokens:function(Y,aa,ea){if(ea && aa && !ea.isBoundTo(aa))throw new db(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea.masterTokenSerialNumber + "; mt " + aa.serialNumber);},clearServiceTokens:function(){}});(function(){Ze=Ye.extend({init:function aa(){aa.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(aa,ea){var ba;if(ea){ba=aa.uniqueKey();this.masterTokens[ba]=aa;this.cryptoContexts[ba]=ea;}else this.removeCryptoContext(aa);},getMasterToken:function(){var aa,ea,ba;aa=null;for(ea in this.masterTokens){ba=this.masterTokens[ea];if(!aa || ba.isNewerThan(aa))aa=ba;}return aa;},getNonReplayableId:function(aa){var ea;aa=aa.serialNumber;ea=this.nonReplayableIds[aa] !== zb?this.nonReplayableIds[aa]:0;if(0 > ea || ea > Lb)throw new ub("Non-replayable ID " + ea + " is outside the valid range.");ea=ea == Lb?0:ea + 1;return this.nonReplayableIds[aa]=ea;},getCryptoContext:function(aa){return this.cryptoContexts[aa.uniqueKey()];},removeCryptoContext:function(aa){var ea,ba,ka,va;ea=aa.uniqueKey();if(this.masterTokens[ea]){ba=aa.serialNumber;for(ka in this.masterTokens){va=this.masterTokens[ka];if(!va.equals(aa) && va.serialNumber == ba){delete this.masterTokens[ea];delete this.cryptoContexts[ea];return;}}Object.keys(this.userIdTokens).forEach(function(sa){sa=this.userIdTokens[sa];sa.isBoundTo(aa) && this.removeUserIdToken(sa);},this);try{this.removeServiceTokens(null,aa,null);}catch(sa){if(sa instanceof db)throw new ub("Unexpected exception while removing master token bound service tokens.",sa);throw sa;}delete this.nonReplayableIds[ba];delete this.masterTokens[ea];delete this.cryptoContexts[ea];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(aa){for(var ea in aa){delete aa[ea];}},this);},addUserIdToken:function(aa,ea){var ba,ka;ba=!1;for(ka in this.masterTokens){if(ea.isBoundTo(this.masterTokens[ka])){ba=!0;break;}}if(!ba)throw new db(X.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + ea.mtSerialNumber);this.userIdTokens[aa]=ea;},getUserIdToken:function(aa){return this.userIdTokens[aa];},removeUserIdToken:function(aa){var ea,ba,ka;ea=null;for(ba in this.masterTokens){ka=this.masterTokens[ba];if(aa.isBoundTo(ka)){ea=ka;break;}}Object.keys(this.userIdTokens).forEach(function(va){if(this.userIdTokens[va].equals(aa)){try{this.removeServiceTokens(null,ea,aa);}catch(sa){if(sa instanceof db)throw new ub("Unexpected exception while removing user ID token bound service tokens.",sa);throw sa;}delete this.userIdTokens[va];}},this);},clearUserIdTokens:function(){for(var aa in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[aa]);}},addServiceTokens:function(aa){aa.forEach(function(ea){var ba,ka;if(ea.isMasterTokenBound()){ba=!1;for(ka in this.masterTokens){if(ea.isBoundTo(this.masterTokens[ka])){ba=!0;break;}}if(!ba)throw new db(X.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + ea.mtSerialNumber);}if(ea.isUserIdTokenBound()){ba=!1;for(var va in this.userIdTokens){if(ea.isBoundTo(this.userIdTokens[va])){ba=!0;break;}}if(!ba)throw new db(X.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + ea.uitSerialNumber);}},this);aa.forEach(function(ea){var ba;if(ea.isUnbound())this.unboundServiceTokens[ea.uniqueKey()]=ea;else {if(ea.isMasterTokenBound()){ba=this.mtServiceTokens[ea.mtSerialNumber];ba || (ba={});ba[ea.uniqueKey()]=ea;this.mtServiceTokens[ea.mtSerialNumber]=ba;}ea.isUserIdTokenBound() && ((ba=this.uitServiceTokens[ea.uitSerialNumber]) || (ba={}),ba[ea.uniqueKey()]=ea,this.uitServiceTokens[ea.uitSerialNumber]=ba);}},this);},getServiceTokens:function(aa,ea){var ba,ka,va;if(ea){if(!aa)throw new db(X.USERIDTOKEN_MASTERTOKEN_NULL);if(!ea.isBoundTo(aa))throw new db(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea.mtSerialNumber + "; mt " + aa.serialNumber);}ba={};for(ka in this.unboundServiceTokens){va=this.unboundServiceTokens[ka];ba[va.uniqueKey()]=va;}if(aa && (ka=this.mtServiceTokens[aa.serialNumber]))for(var sa in ka){va=ka[sa];va.isUserIdTokenBound() || (ba[sa]=va);}if(ea && (ea=this.uitServiceTokens[ea.serialNumber]))for(var la in ea){sa=ea[la];sa.isBoundTo(aa) && (ba[la]=sa);}aa=[];for(var pa in ba){aa.push(ba[pa]);}return aa;},removeServiceTokens:function(aa,ea,ba){var ka,va,sa;if(ba && ea && !ba.isBoundTo(ea))throw new db(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.mtSerialNumber + "; mt " + ea.serialNumber);!aa || ea || ba || Object.keys(this.unboundServiceTokens).forEach(function(la){this.unboundServiceTokens[la].name == aa && delete this.unboundServiceTokens[la];},this);if(ea && !ba && (ka=this.mtServiceTokens[ea.serialNumber])){sa=Object.keys(ka);sa.forEach(function(la){var pa;pa=ka[la];aa && pa.name != aa || delete ka[la];},this);this.mtServiceTokens[ea.serialNumber]=ka;}ba && (va=this.uitServiceTokens[ba.serialNumber]) && (ea=Object.keys(va),ea.forEach(function(la){var pa;pa=va[la];aa && pa.name != aa || delete va[la];},this),this.uitServiceTokens[ba.serialNumber]=va);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(aa){for(var ea in aa){delete aa[ea];}},this);}});})();tf.extend({init:function aa(){aa.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(aa,ea){ea && aa && aa.length && (aa=Fb(aa),this._contextMap[aa]=ea);},getCryptoContext:function(aa){return aa && aa.length?(aa=Fb(aa),this._contextMap[aa] || null):null;},removeCryptoContext:function(aa){aa && aa.length && (aa=Fb(aa),delete this._contextMap[aa]);}});lf.extend({init:function sa(ea,ba,ka,va){sa.base.call(this,ea);Object.defineProperties(this,{_kde:{value:ba,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:ka,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:va,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ea,ba){if(!(ba instanceof qc))throw new ub("Incorrect authentication data type " + JSON.stringify(ba) + ".");if(ba.identity != this.localIdentity)throw new kc(X.ENTITY_NOT_FOUND,"mgk " + ba.identity);return new kd(ea,this.localIdentity,this._kde,this._kdh,this._kdw);}});mf.extend({init:function la(ba,ka,va,sa){la.base.call(this,ba);Object.defineProperties(this,{_kpe:{value:ka,writable:!1,enumerable:!1,configurable:!1},_kph:{value:va,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:sa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ba,ka){if(!(ka instanceof rc))throw new ub("Incorrect authentication data type " + JSON.stringify(ka) + ".");if(ka.identity != this.localIdentity)throw new kc(X.ENTITY_NOT_FOUND,"psk " + ka.identity);return new kd(ba,this.localIdentity,this._kpe,this._kph,this._kpw);}});Af=Ze.extend({init:function ma(ka,va,sa,la,pa,ya){ma.base.call(this);this._log=ka;this._esn=va;this._keyRequestData=sa;this._createKeyRequestData=la;this._systemKeyName=pa;this._systemKeyWrapFormat=ya;},setCryptoContext:function pa(va,sa,la){var ya;ya=this;ya._log.trace("Adding MasterToken",{SequenceNumber:va.sequenceNumber,SerialNumber:va.serialNumber,Expiration:va.expiration.getTime()});pa.base.call(this,va,sa);!la && (va=ya._createKeyRequestData) && (ya._log.trace("Generating new keyx request data"),va().then(function(ma){ya._keyRequestData=ma;},function(ma){ya._log.error("Unable to generate new keyx request data","" + ma);}));},addUserIdToken:function pa(sa,la){this._log.trace("Adding UserIdToken",{UserId:sa,SerialNumber:la.serialNumber,MTSerialNumber:la.mtSerialNumber,Expiration:la.expiration.getTime()});pa.base.call(this,sa,la);},addServiceTokens:function pa(la){pa.base.call(this,la.filter(function(ya){return !zf[ya.name];}));},getUserIdTokenKeys:function(){var la,pa;la=[];for(pa in this.userIdTokens){la.push(pa);}return la;},rekeyUserIdToken:function(la,pa){this.userIdTokens[la] && (this.userIdTokens[pa]=this.userIdTokens[la],delete this.userIdTokens[la]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(la){var pa;pa=this;Ka(la,function(){var ya;ya=pa.getMasterToken();ya?pa.getKeysForStore(ya,{result:function(ma){Ka(la,function(){var da,ha,ja;da=pa.userIdTokens;ha=Object.keys(da).map(function(wa){var Qa;Qa=da[wa];return {userId:wa,userIdTokenJSON:da[wa].toJSON(),serviceTokenJSONList:pa.getServiceTokens(ya,Qa).map(ef)};});ma.esn=pa._esn;ma.masterTokenJSON=ya.toJSON();ma.userList=ha;ja=pa._keyRequestData.storeData;ja && Object.keys(ja).forEach(function(wa){ma[wa]=ja[wa];});return ma;});},timeout:la.timeout,error:la.error}):la.result(null);});},getKeysForStore:function(la,pa){var ya;ya=this;Ka(pa,function(){var ma;ma=ya.getCryptoContext(la);ma={encryptionKey:ma.encryptionKey,hmacKey:ma.hmacKey};if(ma.encryptionKey && ma.hmacKey){if(ya._systemKeyWrapFormat)ya.wrapKeysWithSystemKey(ma,pa);else return ma;}else throw new db(X.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(la,pa){var ya;ya=this;Yd(this._systemKeyName,{result:function(ma){Ka(pa,function(){var da,ha,ja,wa;da=la.encryptionKey;ha=la.hmacKey;ja=da[Pc];wa=ha[Pc];if(ja && wa)return {wrappedEncryptionKey:ja,wrappedHmacKey:wa};Promise.resolve().then(function(){return Promise.all([Kb.wrapKey(ya._systemKeyWrapFormat,da,ma,ma.algorithm),Kb.wrapKey(ya._systemKeyWrapFormat,ha,ma,ma.algorithm)]);}).then(function(Qa){ja=Fb(Qa[0]);da[Pc]=ja;wa=Fb(Qa[1]);ha[Pc]=wa;pa.result({wrappedEncryptionKey:ja,wrappedHmacKey:wa});}).catch(function(Qa){pa.error(new db(X.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Qa));});});},timeout:pa.timeout,error:pa.error});},unwrapKeysWithSystemKey:function(la,pa){var ya;ya=this;Yd(this._systemKeyName,{result:function(ma){Ka(pa,function(){var da,ha;da=Gb(la.wrappedEncryptionKey);ha=Gb(la.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Kb.unwrapKey(ya._systemKeyWrapFormat,da,ma,ma.algorithm,hc,!1,wc),Kb.unwrapKey(ya._systemKeyWrapFormat,ha,ma,ma.algorithm,ic,!1,Fc)]);}).then(function(ja){var wa;wa=ja[0];ja=ja[1];wa[Pc]=la.wrappedEncryptionKey;ja[Pc]=la.wrappedHmacKey;pa.result({encryptionKey:wa,hmacKey:ja});}).catch(function(ja){pa.error(new db(X.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",ja));});});},timeout:pa.timeout,error:pa.error});},loadStoreState:function(la,pa,ya,ma){var ja,wa;function da(Qa,Ja){var Ma;try{Ma=ya.userList.slice();}catch(Sa){}Ma?(function oa(){var xa;xa=Ma.shift();xa?od(pa,xa.userIdTokenJSON,Qa,{result:function(Ca){try{ja.addUserIdToken(xa.userId,Ca);ha(Qa,Ca,xa.serviceTokenJSONList,{result:oa,timeout:oa,error:oa});}catch(Ga){oa();}},timeout:oa,error:oa}):Ja.result();})():Ja.result();}function ha(Qa,Ja,Ma,Sa){var oa,xa;try{oa=Ma.slice();}catch(Ca){}if(oa){xa=ja.getCryptoContext(Qa);(function Ga(){var za;za=oa.shift();za?pd(pa,za,Qa,Ja,xa,{result:function(Ta){ja.addServiceTokens([Ta]);Ga();},timeout:function(){Ga();},error:function(){Ga();}}):Sa.result();})();}else Sa.result();}ja=this;wa=ja._log;ya.esn != ja._esn?(wa.error("Esn mismatch, starting fresh"),ma.error()):(function(Qa){var Sa,oa,xa,Ca;function Ja(){var Ga;if(!Sa && oa && xa && Ca){Sa=!0;Ga=new fc(pa,oa,la.esn,{rawKey:xa},{rawKey:Ca});ja.setCryptoContext(oa,Ga,!0);Qa.result(oa);}}function Ma(Ga,za){wa.error(Ga,za && "" + za);Sa || (Sa=!0,Qa.error());}ya.masterTokenJSON?(Xc(pa,ya.masterTokenJSON,{result:function(Ga){oa=Ga;Ja();},timeout:function(){Ma("Timeout parsing MasterToken");},error:function(Ga){Ma("Error parsing MasterToken",Ga);}}),ja._systemKeyWrapFormat?ja.unwrapKeysWithSystemKey(ya,{result:function(Ga){xa=Ga.encryptionKey;Ca=Ga.hmacKey;Ja();},timeout:function(){Ma("Timeout unwrapping keys");},error:function(Ga){Ma("Error unwrapping keys",Ga);}}):Promise.resolve().then(function(){return Kb.encrypt({name:hc.name,iv:new Uint8Array(16)},ya.encryptionKey,new Uint8Array(1));}).then(function(Ga){xa=ya.encryptionKey;}).catch(function(Ga){Ma("Error loading encryptionKey");}).then(function(){return Kb.sign(ic,ya.hmacKey,new Uint8Array(1));}).then(function(Ga){Ca=ya.hmacKey;Ja();}).catch(function(Ga){Ma("Error loading hmacKey");})):Ma("Persisted store is corrupt");})({result:function(Qa){da(Qa,ma);},timeout:ma.timeout,error:ma.error});}});zf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Pc="$netflix$msl$wrapsys";Bf=yf.extend({init:function(la,pa,ya,ma,da,ha){var ja,wa;ja=new Yc([Dc.LZW]);wa=new of();wa.addPublicKey(pa,ya);ma[Qb.RSA]=new nf(wa);pa={};pa[zc.EMAIL_PASSWORD]=new xf();pa[zc.NETFLIXID]=new wf();la={_mslCryptoContext:{value:new kf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:ja,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:da,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:ma,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:pa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:ha,writable:!1,enumerable:!1,configurable:!1},_store:{value:la,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,la);},getTime:function(){return Date.now();},getRandom:function(){return new ie();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(la,pa){pa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(la){return this._entityAuthFactories[la];},getUserAuthenticationFactory:function(la){return this._userAuthFactories[la];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(la){return this._keyExchangeFactories.filter(function(pa){return pa.scheme == la;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});$d=Se.extend({init:function(la,pa,ya,ma){this._log=la;this._mslContext=pa;this._mslRequest=ya;this._keyRequestData=ma;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(la,pa,ya,ma){var da;da=this._mslRequest;Ka(ma,function(){return la || !da.shouldSendUserAuthData?null:da.email?new ad(da.email,da.password):da.useNetflixUserAuthData || ya && da.sendUserAuthIfRequired?new $c():null;});},getCustomer:function(){return null;},getKeyRequestData:function(la){la.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(la,pa,ya){var ma,da,ha,ja,wa,Qa;ma=this._log;da=(this._mslRequest.serviceTokens || []).slice();ha=this._mslContext;pa=ha.getMslStore();ja=la.builder.getMasterToken();wa=this.getUserId();Qa=pa.getUserIdToken(wa);(function Ma(){var Sa;Sa=da.shift();if(Sa)try{Sa instanceof yc?(la.addPrimaryServiceToken(Sa),Ma()):pd(ha,Sa,ja,Qa,null,{result:function(oa){try{la.addPrimaryServiceToken(oa);}catch(xa){ma.warn("Exception adding service token","" + xa);}Ma();},timeout:function(){ma.warn("Timeout parsing service token");Ma();},error:function(oa){ma.warn("Error parsing service token","" + oa);Ma();}});}catch(oa){ma.warn("Exception processing service token","" + oa);Ma();}else ya.result(!0);})();},write:function(la,pa,ya){var ma;ma=$b(this._mslRequest.body);la.write(ma,0,ma.length,pa,{result:function(da){da != ma.length?ya.error(new Tb("Not all data was written to output.")):la.flush(pa,{result:function(){ya.result(!0);},timeout:function(){ya.timeout();},error:function(ha){ya.error(ha);}});},timeout:function(){ya.timeout();},error:function(da){ya.error(da);}});},getDebugContext:function(){this._dc || (this._dc=new Cf(this._log,this._mslRequest));return this._dc;}});Cf=vf.extend({init:function(la,pa){this._log=la;this._mslRequest=pa;},sentHeader:function(la){this._log.trace("Sent MSL header",Zd(this._mslRequest,la),la.serviceTokens && la.serviceTokens.map(ff).join("\n"));},receivedHeader:function(la){var pa,ya;pa=Zd(this._mslRequest,la);ya=la.errorCode;ya?this._log.warn("Received MSL error header",pa,{errorCode:ya,errorMessage:la.errorMessage,internalCode:la.internalCode}):this._log.trace("Received MSL header",pa);}});Df={JWK_RSA:function(la){return hf(la,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},xe.JWK_RSA);}};mb.netflix=mb.netflix || ({});mb.netflix.msl={createMslClient:function(la,pa){var ya,ma,da,ha,ja;ya=la.log;ja=la.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Pb && Pb.generateKey && Pb.importKey && Pb.unwrapKey))throw new db(X.INTERNAL_EXCEPTION,"No WebCrypto");Yb=Pb.generateKey({name:"AES-CBC",length:128},!0,wc).then?fd.V2014_02:fd.LEGACY;ja("mslisik");return Kb.importKey("spki",la.serverIdentityKeyData,je,!1,["verify"]);}).then(function(wa){return new Promise(function(Qa,Ja){Cc(wa,{result:Qa,error:function(){Ja(new db(X.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(wa){ma=wa;if(wa=Df.JWK_RSA)return (ja("mslcc"),wa(la));throw new db(X.INTERNAL_EXCEPTION,"Invalid authenticationType: JWK_RSA");}).then(function(wa){var Qa;da=new Af(ya,la.esn,wa.keyRequestData,wa.createKeyRequestData,la.authenticationKeyNames.s,la.systemKeyWrapFormat);ha=new Bf(da,la.serverIdentityId,ma,wa.entityAuthFactories,wa.entityAuthData,wa.keyExchangeFactories);Qa=la.storeState;if(Qa)return (ja("mslss"),ya.info("Loading store state"),new Promise(function(Ja,Ma){da.loadStoreState(la,ha,Qa,{result:Ja,timeout:Ja,error:Ja});}));ya.info("No store state, starting fresh");}).then(function(){var wa;wa=new Te();ja("msldone");pa.result(new gf(ya,wa,ha,da,la.ErrorSubCodes));}).catch(function(wa){pa.error(wa);});},IHttpLocation:rf,MslIoException:Tb};(function(){var $a,Ua,ib,lb,nb,ob,pb,yb,xb;function la(r){var b;b=0;return function(){return b < r.length?{done:!1,value:r[b++]}:{done:!0};};}function pa(r,b){var a,g;if(b)a:{a=Ua;r=r.split(".");for(var c=0;c < r.length - 1;c++){g=r[c];if(!((g in a)))break a;a=a[g];}r=r[r.length - 1];c=a[r];b=b(c);b != c && null != b && $a(a,r,{configurable:!0,writable:!0,value:b});}}function ya(r){r={next:r};r[Symbol.iterator]=function(){return this;};return r;}function ma(r){var b;b="undefined" != typeof Symbol && Symbol.iterator && r[Symbol.iterator];return b?b.call(r):{next:la(r)};}function da(r){for(var b,a=[];!(b=r.next()).done;){a.push(b.value);}return a;}function ha(r){return r instanceof Array?r:da(ma(r));}function ja(r,b){var c;r.prototype=ib(b.prototype);r.prototype.constructor=r;if(yb)yb(r,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){c=Object.getOwnPropertyDescriptor(b,a);c && Object.defineProperty(r,a,c);}else r[a]=b[a];}r.Wrc=b.prototype;}function wa(){this.rY=!1;this.cG=null;this.Efa=void 0;this.nF=1;this.E3a=this.WFb=0;this.fV=null;}function Qa(r){if(r.rY)throw new TypeError("Generator is already running");r.rY=!0;}function Ja(r,b){r.nF=2;return {value:b};}function Ma(r){this.dg=new wa();this.Y6b=r;}function Sa(r,b){var a;Qa(r.dg);a=r.dg.cG;if(a)return oa(r,("return" in a)?a["return"]:function(c){return {value:c,done:!0};},b,r.dg.return);r.dg.return(b);return xa(r);}function oa(r,b,a,c){var g,k;try{g=b.call(r.dg.cG,a);if(!(g instanceof Object))throw new TypeError("Iterator result " + g + " is not an object");if(!g.done)return (r.dg.rY=!1,g);k=g.value;}catch(m){return (r.dg.cG=null,r.dg.E0(m),xa(r));}r.dg.cG=null;c.call(r.dg,k);return xa(r);}function xa(r){var b;for(;r.dg.nF;){try{b=r.Y6b(r.dg);if(b)return (r.dg.rY=!1,{value:b.value,done:!1});}catch(a){r.dg.Efa=void 0;r.dg.E0(a);}}r.dg.rY=!1;if(r.dg.fV){b=r.dg.fV;r.dg.fV=null;if(b.TXb)throw b.HO;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function Ca(r){this.next=function(b){return r.nZ(b);};this.throw=function(b){return r.E0(b);};this.return=function(b){return Sa(r,b);};this[Symbol.iterator]=function(){return this;};}function Ga(r,b){b=new Ca(new Ma(b));yb && r.prototype && yb(b,r.prototype);return b;}function za(r,b){return Object.prototype.hasOwnProperty.call(r,b);}function Ta(r,b){var a,c,g;r instanceof String && (r+="");a=0;c=!1;g={next:function(){var k;if(!c && a < r.length){k=a++;return {value:b(k,r[k]),done:!1};}c=!0;return {done:!0,value:void 0};}};g[Symbol.iterator]=function(){return g;};return g;}function Ea(r,b,a){var k;r instanceof String && (r=String(r));for(var c=r.length,g=0;g < c;g++){k=r[g];if(b.call(a,k,g,r))return {Bua:g,Ty:k};}return {Bua:-1,Ty:void 0};}function Ya(r,b,a){if(null == r)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return r + "";}$a="function" == typeof Object.defineProperties?Object.defineProperty:function(r,b,a){if(r == Array.prototype || r == Object.prototype)return r;r[b]=a.value;return r;};Ua=(function(r){var a;r=["object" == typeof globalThis && globalThis,r,"object" == typeof mb && mb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < r.length;++b){a=r[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);pa("Symbol",function(r){var c;function b(g){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (g || "") + "_" + c++,g);}function a(g,k){this.Wmb=g;$a(this,"description",{configurable:!0,writable:!0,value:k});}if(r)return r;a.prototype.toString=function(){return this.Wmb;};c=0;return b;});pa("Symbol.iterator",function(r){var c;if(r)return r;r=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){c=Ua[b[a]];"function" === typeof c && "function" != typeof c.prototype[r] && $a(c.prototype,r,{configurable:!0,writable:!0,value:function(){return ya(la(this));}});}return r;});ib="function" == typeof Object.create?Object.create:function(r){function b(){}b.prototype=r;return new b();};lb=(function(){var b;function r(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(r())return Reflect.construct;b=Reflect.construct;return function(a,c,g){a=b(a,c);g && Reflect.setPrototypeOf(a,g.prototype);return a;};}return function(a,c,g){void 0 === g && (g=a);g=ib(g.prototype || Object.prototype);return Function.prototype.apply.call(a,g,c) || g;};})();if("function" == typeof Object.setPrototypeOf)nb=Object.setPrototypeOf;else {a:{ob={a:!0};pb={};try{pb.__proto__=ob;nb=pb.a;break a;}catch(r){}nb=!1;}nb=nb?function(r,b){r.__proto__=b;if(r.__proto__ !== b)throw new TypeError(r + " is not extensible");return r;}:null;}yb=nb;wa.prototype.nZ=function(r){this.Efa=r;};wa.prototype.E0=function(r){this.fV={HO:r,TXb:!0};this.nF=this.WFb || this.E3a;};wa.prototype.return=function(r){this.fV={return:r};this.nF=this.E3a;};Ma.prototype.nZ=function(r){Qa(this.dg);if(this.dg.cG)return oa(this,this.dg.cG.next,r,this.dg.nZ);this.dg.nZ(r);return xa(this);};Ma.prototype.E0=function(r){Qa(this.dg);if(this.dg.cG)return oa(this,this.dg.cG["throw"],r,this.dg.nZ);this.dg.E0(r);return xa(this);};pa("Reflect",function(r){return r?r:{};});pa("Reflect.construct",function(){return lb;});pa("Reflect.setPrototypeOf",function(r){return r?r:yb?function(b,a){try{return (yb(b,a),!0);}catch(c){return !1;}}:null;});pa("Object.setPrototypeOf",function(r){return r || yb;});xb="function" == typeof Object.assign?Object.assign:function(r,b){var c;for(var a=1;a < arguments.length;a++){c=arguments[a];if(c)for(var g in c){za(c,g) && (r[g]=c[g]);}}return r;};pa("Object.assign",function(r){return r || xb;});pa("Promise",function(r){var g,k;function b(m){var f;this.CR=0;this.K_=void 0;this.uQ=[];this.w9a=!1;f=this.Ppa();try{m(f.resolve,f.reject);}catch(d){f.reject(d);}}function a(){this.SD=null;}function c(m){return m instanceof b?m:new b(function(f){f(m);});}if(r)return r;a.prototype.zYa=function(m){var f;if(null == this.SD){this.SD=[];f=this;this.AYa(function(){f.LOb();});}this.SD.push(m);};g=Ua.setTimeout;a.prototype.AYa=function(m){g(m,0);};a.prototype.LOb=function(){var m,d;for(;this.SD && this.SD.length;){m=this.SD;this.SD=[];for(var f=0;f < m.length;++f){d=m[f];m[f]=null;try{d();}catch(l){this.HDb(l);}}}this.SD=null;};a.prototype.HDb=function(m){this.AYa(function(){throw m;});};b.prototype.Ppa=function(){var f,d;function m(l){return function(n){d || (d=!0,l.call(f,n));};}f=this;d=!1;return {resolve:m(this.u9b),reject:m(this.rAa)};};b.prototype.u9b=function(m){var f;if(m === this)this.rAa(new TypeError("A Promise cannot resolve to itself"));else if(m instanceof b)this.Dac(m);else {a:switch(typeof m){case "object":f=null != m;break a;case "function":f=!0;break a;default:f=!1;}f?this.t9b(m):this.v4a(m);}};b.prototype.t9b=function(m){var f;f=void 0;try{f=m.then;}catch(d){this.rAa(d);return;}"function" == typeof f?this.Eac(f,m):this.v4a(m);};b.prototype.rAa=function(m){this.oib(2,m);};b.prototype.v4a=function(m){this.oib(1,m);};b.prototype.oib=function(m,f){if(0 != this.CR)throw Error("Cannot settle(" + m + ", " + f + "): Promise already settled in state" + this.CR);this.CR=m;this.K_=f;2 === this.CR && this.d$b();this.MOb();};b.prototype.d$b=function(){var m;m=this;g(function(){var f;if(m.u2b()){f=Ua.console;"undefined" !== typeof f && f.error(m.K_);}},1);};b.prototype.u2b=function(){var m,f,d;if(this.w9a)return !1;m=Ua.CustomEvent;f=Ua.Event;d=Ua.dispatchEvent;if("undefined" === typeof d)return !0;"function" === typeof m?m=new m("unhandledrejection",{cancelable:!0}):"function" === typeof f?m=new f("unhandledrejection",{cancelable:!0}):(m=Ua.document.createEvent("CustomEvent"),m.initCustomEvent("unhandledrejection",!1,!0,m));m.promise=this;m.reason=this.K_;return d(m);};b.prototype.MOb=function(){if(null != this.uQ){for(var m=0;m < this.uQ.length;++m){k.zYa(this.uQ[m]);}this.uQ=null;}};k=new a();b.prototype.Dac=function(m){var f;f=this.Ppa();m.v7(f.resolve,f.reject);};b.prototype.Eac=function(m,f){var d;d=this.Ppa();try{m.call(f,d.resolve,d.reject);}catch(l){d.reject(l);}};b.prototype.then=function(m,f){var l,n,h;function d(p,q){return "function" == typeof p?function(t){try{l(p(t));}catch(v){n(v);}}:q;}h=new b(function(p,q){l=p;n=q;});this.v7(d(m,l),d(f,n));return h;};b.prototype.catch=function(m){return this.then(void 0,m);};b.prototype.v7=function(m,f){var l;function d(){switch(l.CR){case 1:m(l.K_);break;case 2:f(l.K_);break;default:throw Error("Unexpected state: " + l.CR);}}l=this;null == this.uQ?k.zYa(d):this.uQ.push(d);this.w9a=!0;};b.resolve=c;b.reject=function(m){return new b(function(f,d){d(m);});};b.race=function(m){return new b(function(f,d){for(var l=ma(m),n=l.next();!n.done;n=l.next()){c(n.value).v7(f,d);}});};b.all=function(m){var f,d;f=ma(m);d=f.next();return d.done?c([]):new b(function(l,n){var p,q;function h(t){return function(v){p[t]=v;q--;0 == q && l(p);};}p=[];q=0;do {p.push(void 0);q++;c(d.value).v7(h(p.length - 1),n);d=f.next();}while(!d.done);});};return b;});pa("Array.prototype.keys",function(r){return r?r:function(){return Ta(this,function(b){return b;});};});pa("Array.prototype.find",function(r){return r?r:function(b,a){return Ea(this,b,a).Ty;};});pa("Object.is",function(r){return r?r:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});pa("Array.prototype.includes",function(r){return r?r:function(b,a){var c,g,k;c=this;c instanceof String && (c=String(c));g=c.length;a=a || 0;for(0 > a && (a=Math.max(a + g,0));a < g;a++){k=c[a];if(k === b || Object.is(k,b))return !0;}return !1;};});pa("String.prototype.includes",function(r){return r?r:function(b,a){return -1 !== Ya(this,b,"includes").indexOf(b,a || 0);};});pa("Math.tanh",function(r){return r?r:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});pa("Number.isNaN",function(r){return r?r:function(b){return "number" === typeof b && isNaN(b);};});pa("WeakMap",function(r){var m,f;function b(d){this.ZX=(f+=Math.random() + 1).toString();if(d){d=ma(d);for(var l;!(l=d.next()).done;){l=l.value;this.set(l[0],l[1]);}}}function a(){}function c(d){var l;l=typeof d;return "object" === l && null !== d || "function" === l;}function g(d){var l;if(!za(d,m)){l=new a();$a(d,m,{value:l});}}function k(d){var l;l=Object[d];l && (Object[d]=function(n){if(n instanceof a)return n;Object.isExtensible(n) && g(n);return l(n);});}if((function(){var d,l,n;if(!r || !Object.seal)return !1;try{d=Object.seal({});l=Object.seal({});n=new r([[d,2],[l,3]]);if(2 != n.get(d) || 3 != n.get(l))return !1;n.delete(d);n.set(l,4);return !n.has(d) && 4 == n.get(l);}catch(h){return !1;}})())return r;m="$jscomp_hidden_" + Math.random();k("freeze");k("preventExtensions");k("seal");f=0;b.prototype.set=function(d,l){if(!c(d))throw Error("Invalid WeakMap key");g(d);if(!za(d,m))throw Error("WeakMap key fail: " + d);d[m][this.ZX]=l;return this;};b.prototype.get=function(d){return c(d) && za(d,m)?d[m][this.ZX]:void 0;};b.prototype.has=function(d){return c(d) && za(d,m) && za(d[m],this.ZX);};b.prototype.delete=function(d){return c(d) && za(d,m) && za(d[m],this.ZX)?delete d[m][this.ZX]:!1;};return b;});pa("Map",function(r){var k,m;function b(){var f;f={};return f.lq=f.next=f.head=f;}function a(f,d){var l;l=f.kB;return ya(function(){if(l){for(;l.head != f.kB;){l=l.lq;}for(;l.next != l.head;){return (l=l.next,{done:!1,value:d(l)});}l=null;}return {done:!0,value:void 0};});}function c(f,d){var l,n,h;l=d && typeof d;"object" == l || "function" == l?k.has(d)?l=k.get(d):(l="" + ++m,k.set(d,l)):l="p_" + d;n=f.MA[l];if(n && za(f.MA,l))for(f=0;f < n.length;f++){h=n[f];if(d !== d && h.key !== h.key || d === h.key)return {id:l,list:n,index:f,entry:h};}return {id:l,list:n,index:-1,entry:void 0};}function g(f){this.MA={};this.kB=b();this.size=0;if(f){f=ma(f);for(var d;!(d=f.next()).done;){d=d.value;this.set(d[0],d[1]);}}}if((function(){var f,d,l,n;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{f=Object.seal({x:4});d=new r(ma([[f,"s"]]));if("s" != d.get(f) || 1 != d.size || d.get({x:4}) || d.set({x:4},"t") != d || 2 != d.size)return !1;l=d.entries();n=l.next();if(n.done || n.value[0] != f || "s" != n.value[1])return !1;n=l.next();return n.done || 4 != n.value[0].x || "t" != n.value[1] || !l.next().done?!1:!0;}catch(h){return !1;}})())return r;k=new WeakMap();g.prototype.set=function(f,d){var l;f=0 === f?0:f;l=c(this,f);l.list || (l.list=this.MA[l.id]=[]);l.entry?l.entry.value=d:(l.entry={next:this.kB,lq:this.kB.lq,head:this.kB,key:f,value:d},l.list.push(l.entry),this.kB.lq.next=l.entry,this.kB.lq=l.entry,this.size++);return this;};g.prototype.delete=function(f){f=c(this,f);return f.entry && f.list?(f.list.splice(f.index,1),f.list.length || delete this.MA[f.id],f.entry.lq.next=f.entry.next,f.entry.next.lq=f.entry.lq,f.entry.head=null,this.size--,!0):!1;};g.prototype.clear=function(){this.MA={};this.kB=this.kB.lq=b();this.size=0;};g.prototype.has=function(f){return ! !c(this,f).entry;};g.prototype.get=function(f){return (f=c(this,f).entry) && f.value;};g.prototype.entries=function(){return a(this,function(f){return [f.key,f.value];});};g.prototype.keys=function(){return a(this,function(f){return f.key;});};g.prototype.values=function(){return a(this,function(f){return f.value;});};g.prototype.forEach=function(f,d){for(var l=this.entries(),n;!(n=l.next()).done;){n=n.value;f.call(d,n[1],n[0],this);}};g.prototype[Symbol.iterator]=g.prototype.entries;m=0;return g;});pa("Set",function(r){function b(a){this.fy=new Map();if(a){a=ma(a);for(var c;!(c=a.next()).done;){this.add(c.value);}}this.size=this.fy.size;}if((function(){var a,c,g,k;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});c=new r(ma([a]));if(!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({x:4}) != c || 2 != c.size)return !1;g=c.entries();k=g.next();if(k.done || k.value[0] != a || k.value[1] != a)return !1;k=g.next();return k.done || k.value[0] == a || 4 != k.value[0].x || k.value[1] != k.value[0]?!1:g.next().done;}catch(m){return !1;}})())return r;b.prototype.add=function(a){a=0 === a?0:a;this.fy.set(a,a);this.size=this.fy.size;return this;};b.prototype.delete=function(a){a=this.fy.delete(a);this.size=this.fy.size;return a;};b.prototype.clear=function(){this.fy.clear();this.size=0;};b.prototype.has=function(a){return this.fy.has(a);};b.prototype.entries=function(){return this.fy.entries();};b.prototype.values=function(){return this.fy.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var g;g=this;this.fy.forEach(function(k){return a.call(c,k,k,g);});};return b;});pa("Array.prototype.entries",function(r){return r?r:function(){return Ta(this,function(b,a){return [b,a];});};});pa("Object.entries",function(r){return r?r:function(b){var a,c;a=[];for(c in b){za(b,c) && a.push([c,b[c]]);}return a;};});pa("Object.getOwnPropertySymbols",function(r){return r?r:function(){return [];};});pa("Reflect.apply",function(r){var b;if(r)return r;b=Function.prototype.apply;return function(a,c,g){return b.call(a,c,g);};});pa("Number.isFinite",function(r){return r?r:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});pa("String.prototype.endsWith",function(r){return r?r:function(b,a){var c;c=Ya(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var g=b.length;0 < g && 0 < a;){if(c[--a] != b[--g])return !1;}return 0 >= g;};});pa("String.prototype.repeat",function(r){return r?r:function(b){var a;a=Ya(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});pa("Array.prototype.values",function(r){return r?r:function(){return Ta(this,function(b,a){return a;});};});pa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});pa("Array.prototype.findIndex",function(r){return r?r:function(b,a){return Ea(this,b,a).Bua;};});pa("Array.from",function(r){return r?r:function(b,a,c){var g,k;a=null != a?a:function(f){return f;};g=[];k="undefined" != typeof Symbol && Symbol.iterator && b[Symbol.iterator];if("function" == typeof k){b=k.call(b);for(var m=0;!(k=b.next()).done;){g.push(a.call(c,k.value,m++));}}else for((k=b.length,m=0);m < k;m++){g.push(a.call(c,b[m],m));}return g;};});pa("Object.values",function(r){return r?r:function(b){var a,c;a=[];for(c in b){za(b,c) && a.push(b[c]);}return a;};});pa("String.prototype.startsWith",function(r){return r?r:function(b,a){var c,g,k;c=Ya(this,b,"startsWith");b+="";g=c.length;k=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var m=0;m < k && a < g;){if(c[a++] != b[m++])return !1;}return m >= k;};});pa("Promise.prototype.finally",function(r){return r?r:function(b){return this.then(function(a){return Promise.resolve(b()).then(function(){return a;});},function(a){return Promise.resolve(b()).then(function(){throw a;});});};});pa("String.fromCodePoint",function(r){return r?r:function(b){var g;for(var a="",c=0;c < arguments.length;c++){g=Number(arguments[c]);if(0 > g || 1114111 < g || g !== Math.floor(g))throw new RangeError("invalid_code_point " + g);65535 >= g?a+=String.fromCharCode(g):(g-=65536,a+=String.fromCharCode(g >>> 10 & 1023 | 55296),a+=String.fromCharCode(g & 1023 | 56320));}return a;};});pa("Number.parseInt",function(r){return r || parseInt;});(function(r){var a;function b(c){var g;if(a[c])return a[c].exports;g=a[c]={Bua:c,cZb:!1,exports:{}};r[c].call(g.exports,g,g.exports,b);g.cZb=!0;return g.exports;}a={};b.Npc=r;b.c=a;b.d=function(c,g,k){b.E2b(c,g) || Object.defineProperty(c,g,{enumerable:!0,get:k});};b.r=function(c){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0});};b.t=function(c,g){var k;g & 1 && (c=b(c));if(g & 8 || g & 4 && "object" === typeof c && c && c.__esModule)return c;k=Object.create(null);b.r(k);Object.defineProperty(k,"default",{enumerable:!0,value:c});if(g & 2 && "string" != typeof c)for(var m in c){b.d(k,m,(function(f){return c[f];}).bind(null,m));}return k;};b.n=function(c){var g;g=c && c.__esModule?function(){return c["default"];}:function(){return c;};b.d(g,"a",g);return g;};b.E2b=function(c,g){return Object.prototype.hasOwnProperty.call(c,g);};b.p="";return b(b.M9b=596);})([function(r,b,a){var I,L;function c(){c=Object.assign || (function(M){for(var K,O=1,H=arguments.length;O < H;O++){K=arguments[O];for(var J in K){Object.prototype.hasOwnProperty.call(K,J) && (M[J]=K[J]);}}return M;});return c.apply(this,arguments);}function g(M,K){g=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(O,H){O.__proto__=H;}) || (function(O,H){for(var J in H){Object.prototype.hasOwnProperty.call(H,J) && (O[J]=H[J]);}});return g(M,K);}function k(M,K){function O(){this.constructor=M;}if("function" !== typeof K && null !== K)throw new TypeError("Class extends value " + String(K) + " is not a constructor or null");g(M,K);M.prototype=null === K?Object.create(K):(O.prototype=K.prototype,new O());}function m(M,K){var O,H,J;O={};for(H in M){Object.prototype.hasOwnProperty.call(M,H) && 0 > K.indexOf(H) && (O[H]=M[H]);}if(null != M && "function" === typeof Object.getOwnPropertySymbols){J=0;for(H=Object.getOwnPropertySymbols(M);J < H.length;J++){0 > K.indexOf(H[J]) && Object.prototype.propertyIsEnumerable.call(M,H[J]) && (O[H[J]]=M[H[J]]);}}return O;}function f(M,K,O,H){var J,R,P;J=arguments.length;R=3 > J?K:null === H?H=Object.getOwnPropertyDescriptor(K,O):H;if("object" === typeof Reflect && "function" === typeof Reflect.Rp)R=Reflect.Rp(M,K,O,H);else for(var T=M.length - 1;0 <= T;T--){if(P=M[T])R=(3 > J?P(R):3 < J?P(K,O,R):P(K,O)) || R;}return (3 < J && R && Object.defineProperty(K,O,R),R);}function d(M,K){return function(O,H){K(O,H,M);};}function l(M,K){if("object" === typeof Reflect && "function" === typeof Reflect.Hc)return Reflect.Hc(M,K);}function n(M,K,O,H){function J(R){return R instanceof O?R:new O(function(P){P(R);});}return new (O || (O=Promise))(function(R,P){function T(W){try{S(H.next(W));}catch(ia){P(ia);}}function V(W){try{S(H["throw"](W));}catch(ia){P(ia);}}function S(W){W.done?R(W.value):J(W.value).then(T,V);}S((H=H.apply(M,K || [])).next());});}function h(M,K){var J,R,P,T,V;function O(S){return function(W){return H([S,W]);};}function H(S){if(R)throw new TypeError("Generator is already executing.");for(;(V && (V=0,S[0] && (J=0)),J);){try{if((R=1,P && (T=S[0] & 2?P["return"]:S[0]?P["throw"] || ((T=P["return"]) && T.call(P),0):P.next) && !(T=T.call(P,S[1])).done))return T;if((P=0,T))S=[S[0] & 2,T.value];switch(S[0]){case 0:case 1:T=S;break;case 4:return (J.label++,{value:S[1],done:!1});case 5:J.label++;P=S[1];S=[0];continue;case 7:S=J.$k.pop();J.Kh.pop();continue;default:if(!(T=J.Kh,T=0 < T.length && T[T.length - 1]) && (6 === S[0] || 2 === S[0])){J=0;continue;}if(3 === S[0] && (!T || S[1] > T[0] && S[1] < T[3]))J.label=S[1];else if(6 === S[0] && J.label < T[1])(J.label=T[1],T=S);else if(T && J.label < T[2])(J.label=T[2],J.$k.push(S));else {T[2] && J.$k.pop();J.Kh.pop();continue;}}S=K.call(M,J);}catch(W){S=[6,W];P=0;}finally{R=T=0;}}if(S[0] & 5)throw S[1];return {value:S[0]?S[1]:void 0,done:!0};}J={label:0,kb:function(){if(T[0] & 1)throw T[1];return T[1];},Kh:[],$k:[]};return (V={next:O(0),"throw":O(1),"return":O(2)},"function" === typeof Symbol && (V[Symbol.iterator]=function(){return this;}),V);}function p(M,K){for(var O in M){"default" === O || Object.prototype.hasOwnProperty.call(K,O) || I(K,M,O);}}function q(M){var K,O,H;K="function" === typeof Symbol && Symbol.iterator;O=K && M[K];H=0;if(O)return O.call(M);if(M && "number" === typeof M.length)return {next:function(){M && H >= M.length && (M=void 0);return {value:M && M[H++],done:!M};}};throw new TypeError(K?"Object is not iterable.":"Symbol.iterator is not defined.");}function t(M,K){var O,H,J;O="function" === typeof Symbol && M[Symbol.iterator];if(!O)return M;M=O.call(M);J=[];try{for(;(void 0 === K || 0 < K--) && !(H=M.next()).done;){J.push(H.value);}}catch(P){var R;R={error:P};}finally{try{H && !H.done && (O=M["return"]) && O.call(M);}finally{if(R)throw R.error;}}return J;}function v(){for(var M=[],K=0;K < arguments.length;K++){M=M.concat(t(arguments[K]));}return M;}function w(){var H;for(var M=0,K=0,O=arguments.length;K < O;K++){M+=arguments[K].length;}M=Array(M);H=0;for(K=0;K < O;K++){for(var J=arguments[K],R=0,P=J.length;R < P;(R++,H++)){M[H]=J[R];}}return M;}function u(M,K,O){if(O || 2 === arguments.length)for(var H=0,J=K.length,R;H < J;H++){!R && (H in K) || (R || (R=Array.prototype.slice.call(K,0,H)),R[H]=K[H]);}return M.concat(R || Array.prototype.slice.call(K));}function x(M){return this instanceof x?(this.Ty=M,this):new x(M);}function y(M,K,O){var V,S,W;function H(ia){V[ia] && (S[ia]=function(ra){return new Promise(function(ua,Aa){1 < W.push([ia,ra,ua,Aa]) || J(ia,ra);});});}function J(ia,ra){var ua;try{ua=V[ia](ra);ua.value instanceof x?Promise.resolve(ua.value.Ty).then(R,P):T(W[0][2],ua);}catch(Aa){T(W[0][3],Aa);}}function R(ia){J("next",ia);}function P(ia){J("throw",ia);}function T(ia,ra){(ia(ra),W.shift(),W.length) && J(W[0][0],W[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");V=O.apply(M,K || []);W=[];return (S={},H("next"),H("throw"),H("return"),S[Symbol.asyncIterator]=function(){return this;},S);}function z(M){var O,H;function K(J,R){O[J]=M[J]?function(P){return (H=!H)?{value:x(M[J](P)),done:"return" === J}:R?R(P):P;}:R;}return (O={},K("next"),K("throw",function(J){throw J;}),K("return"),O[Symbol.iterator]=function(){return this;},O);}function A(M){var H,J;function K(R){J[R]=M[R] && (function(P){return new Promise(function(T,V){P=M[R](P);O(T,V,P.done,P.value);});});}function O(R,P,T,V){Promise.resolve(V).then(function(S){R({value:S,done:T});},P);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");H=M[Symbol.asyncIterator];return H?H.call(M):(M="function" === typeof q?q(M):M[Symbol.iterator](),J={},K("next"),K("throw"),K("return"),J[Symbol.asyncIterator]=function(){return this;},J);}function B(M,K){Object.defineProperty?Object.defineProperty(M,"raw",{value:K}):M.raw=K;return M;}function C(M){var K;if(M && M.__esModule)return M;K={};if(null != M)for(var O in M){"default" !== O && Object.prototype.hasOwnProperty.call(M,O) && I(K,M,O);}L(K,M);return K;}function D(M){return M && M.__esModule?M:{default:M};}function E(M,K,O,H){if("a" === O && !H)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof K?M !== K || !H:!K.has(M))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === O?H:"a" === O?H.call(M):H?H.value:K.get(M);}function G(M,K,O,H,J){if("m" === H)throw new TypeError("Private method is not writable");if("a" === H && !J)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof K?M !== K || !J:!K.has(M))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === H?J.call(M,O):J?J.value=O:K.set(M,O),O);}function F(M,K){if(null === K || "object" !== typeof K && "function" !== typeof K)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof M?K === M:M.has(K);}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return f;});a.d(b,"__param",function(){return d;});a.d(b,"__metadata",function(){return l;});a.d(b,"__awaiter",function(){return n;});a.d(b,"__generator",function(){return h;});a.d(b,"__createBinding",function(){return I;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return q;});a.d(b,"__read",function(){return t;});a.d(b,"__spread",function(){return v;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__spreadArray",function(){return u;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return E;});a.d(b,"__classPrivateFieldSet",function(){return G;});a.d(b,"__classPrivateFieldIn",function(){return F;});I=Object.create?function(M,K,O,H){var J;void 0 === H && (H=O);J=Object.getOwnPropertyDescriptor(K,O);if(!J || (("get" in J)?!K.__esModule:J.writable || J.configurable))J={enumerable:!0,get:function(){return K[O];}};Object.defineProperty(M,H,J);}:function(M,K,O,H){void 0 === H && (H=O);M[H]=K[O];};L=Object.create?function(M,K){Object.defineProperty(M,"default",{enumerable:!0,value:K});}:function(M,K){M["default"]=K;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(41);b.Qjc=r;r=a(644);b.T1=r.T1;r=a(78);b.hu=r.hu;b.xk=r.xk;b.Fz=r.Fz;r=a(660);b.BFa=r.BFa;b.Cd=r.Cd;r=a(661);b.aa=r.aa;r=a(662);b.Pjb=r.Pjb;r=a(663);b.Sbb=r.Sbb;r=a(327);b.l=r.l;b.Oha=r.Oha;r=a(664);b.optional=r.optional;r=a(665);b.gp=r.gp;r=a(666);b.EJ=r.EJ;r=a(667);b.z0=r.z0;r=a(668);b.teb=r.teb;r=a(325);b.oia=r.oia;r=a(109);b.id=r.id;r=a(94);b.Rp=r.Rp;r=a(330);b.Lkb=r.Lkb;b.Qjb=r.Qjb;b.Tbb=r.Tbb;b.Ukb=r.Ukb;r=a(142);b.cP=r.cP;a=a(669);b.Obb=a.Obb;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(0);g=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);return m;})(Error);b.assert=function(k,m){var f;if(!k){f=new g(m || "Assertion failed");a(129).Zn.H.error("Assertion failed",{value:k,message:m,stack:f.stack});throw f;}};},function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.nz=b.PIa=b.OIa=b.dha=b.NIa=b.cha=b.z3=b.n3=b.MIa=b.X=b.$=void 0;(function(g){g[g.eo=7001]="UNKNOWN";g[g.VSa=7002]="UNHANDLED_EXCEPTION";g[g.xrb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";g[g.Vqb=7004]="HLS_NOT_SUPPORTED";g[g.Aha=7010]="INIT_ASYNCCOMPONENT";g[g.Brb=7011]="INIT_HTTP";g[g.vrb=7014]="INIT_BADMOVIEID";g[g.FKa=7020]="INIT_PLAYBACK_LOCK";g[g.GKa=7022]="INIT_SESSION_LOCK";g[g.Crb=7029]="INIT_POSTAUTHORIZE";g[g.EKa=7031]="INIT_HEADER_MEDIA";g[g.Drb=7034]="INIT_TIMEDTEXT_TRACK";g[g.enb=7037]="ASE_SESSION_ERROR";g[g.dnb=7038]="ASE_SEEK_THREW";g[g.fnb=7039]="ASE_SKIPPED_THREW";g[g.yrb=7041]="INIT_CORE_OBJECTS1";g[g.zrb=7042]="INIT_CORE_OBJECTS2";g[g.Arb=7043]="INIT_CORE_OBJECTS3";g[g.yKa=7053]="INIT_COMPONENT_STORAGE";g[g.zKa=7054]="INIT_COMPONENT_STORAGELOCK";g[g.vKa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";g[g.Bha=7059]="INIT_COMPONENT_DEVICE";g[g.wKa=7063]="INIT_COMPONENT_MSL";g[g.uKa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";g[g.UC=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";g[g.DKa=7083]="INIT_COMPONENT_WEBCRYPTO";g[g.tKa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";g[g.rKa=7088]="INIT_COMPONENT_BATTERY_MANAGER";g[g.qKa=7089]="INIT_COMPONENT_ASE";g[g.CL=7091]="INIT_COMPONENT_DRM_CACHE";g[g.wrb=7092]="INIT_COMPONENT_DRM";g[g.sKa=7094]="INIT_COMPONENT_FTL";g[g.xKa=7095]="INIT_COMPONENT_PREPARE_MODEL";g[g.AKa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";g[g.BKa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";g[g.CKa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";g[g.HL=7111]="MANIFEST";g[g.fsb=7114]="MANIFEST_MISTMATCH";g[g.ZLa=7117]="MANIFEST_VERIFY";g[g.Pub=7120]="START";g[g.EL=7121]="LICENSE";g[g.vja=7122]="RELEASE";g[g.Qub=7123]="STOP";g[g.Kha=7125]="KEEPALIVE";g[g.Etb=7131]="PING";g[g.Aqb=7134]="ENGAGE";g[g.bsb=7137]="LOGBLOB";g[g.Rkc=7138]="PAUSE";g[g.hlc=7139]="RESUME";g[g.iRa=7140]="SPLICE";g[g.Knb=7142]="BIND";g[g.Lnb=7144]="BIND_DEVICE";g[g.Pqb=7145]="GENERATE_SCREENSHOTS";g[g.uEa=7146]="AD_EVENT";g[g.Itb=7202]="PLAY_INIT_EXCEPTION";g[g.Gia=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";g[g.Otb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";g[g.aOa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";g[g.Ptb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";g[g.Hia=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";g[g.Ntb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";g[g.eOa=7351]="PLAY_MSE_NOTSUPPORTED";g[g.$Na=7353]="PLAY_MSE_DECODER_TIMEOUT";g[g.Iia=7355]="PLAY_MSE_SOURCEADD";g[g.ZNa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";g[g.zT=7357]="PLAY_MSE_GENERATEKEYREQUEST";g[g.dOa=7361]="PLAY_MSE_EVENT_ERROR";g[g.PL=7362]="PLAY_MSE_SETMEDIAKEYS";g[g.qs=7363]="PLAY_MSE_EVENT_KEYERROR";g[g.Rtb=7364]="PLAY_MSE_EME_SESSION_CLOSE";g[g.Stb=7365]="PLAY_MSE_GETCURRENTTIME";g[g.Ttb=7367]="PLAY_MSE_SETCURRENTTIME";g[g.Utb=7371]="PLAY_MSE_SOURCEAPPEND";g[g.Ytb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";g[g.Xtb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";g[g.Wtb=7377]="PLAY_MSE_UNEXPECTED_REWIND";g[g.Vtb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";g[g.fOa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";g[g.Jtb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";g[g.Ktb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";g[g.Ltb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";g[g.bOa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";g[g.Qtb=7395]="PLAY_MSE_EME_MISSING_PSSH";g[g.cOa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";g[g.Mtb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";g[g.M3=7399]="PLAY_MSE_SET_LICENSE_ERROR";g[g.xIa=7400]="EXTERNAL";g[g.L3=7500]="PAUSE_TIMEOUT";g[g.p3=7502]="INACTIVITY_TIMEOUT";g[g.onb=7510]="AUTHORIZATION_EXPIRED";g[g.rqb=7700]="EME_INVALID_KEYSYSTEM";g[g.jIa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";g[g.OS=7702]="EME_CREATE_MEDIAKEYS_FAILED";g[g.o2=7703]="EME_GENERATEREQUEST_FAILED";g[g.qIa=7704]="EME_UPDATE_FAILED";g[g.oIa=7705]="EME_KEYSESSION_ERROR";g[g.nIa=7706]="EME_KEYMESSAGE_EMPTY";g[g.vqb=7707]="EME_REMOVE_FAILED";g[g.tqb=7708]="EME_LOAD_FAILED";g[g.nqb=7709]="EME_CREATE_SESSION_FAILED";g[g.Zga=7710]="EME_LDL_RENEWAL_ERROR";g[g.lIa=7711]="EME_INVALID_INITDATA_DATA";g[g.mIa=7712]="EME_INVALID_LICENSE_DATA";g[g.sqb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";g[g.iIa=7716]="EME_CLOSE_FAILED";g[g.$ga=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";g[g.xqb=7718]="EME_SET_SERVER_CERTIFICATE";g[g.Ftb=7800]="PLAYDATA_STORE_FAILURE";g[g.tS=7900]="BRANCH_PLAY_FAILURE";g[g.uS=7901]="BRANCH_QUEUE_FAILURE";g[g.LFa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";g[g.Snb=7903]="BRANCH_CHOICE_MAP_MISSING";g[g.rtb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.$ || (b.$={}));(function(g){g[g.eo=1001]="UNKNOWN";g[g.Mm=1003]="EXCEPTION";g[g.Grb=1004]="INVALID_DI";g[g.inb=1011]="ASYNCLOAD_EXCEPTION";g[g.jnb=1013]="ASYNCLOAD_TIMEOUT";g[g.shc=1015]="ASYNCLOAD_BADCONFIG";g[g.gnb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";g[g.hnb=1017]="ASYNCLOAD_COMPONENT_MISSING";g[g.ZS=1101]="HTTP_UNKNOWN";g[g.xha=1102]="HTTP_XHR";g[g.WS=1103]="HTTP_PROTOCOL";g[g.VS=1104]="HTTP_OFFLINE";g[g.YS=1105]="HTTP_TIMEOUT";g[g.qG=1106]="HTTP_READTIMEOUT";g[g.SC=1107]="HTTP_ABORT";g[g.SJa=1108]="HTTP_PARSE";g[g.OJa=1110]="HTTP_BAD_URL";g[g.XS=1111]="HTTP_PROXY";g[g.gia=1203]="MSE_AUDIO";g[g.hia=1204]="MSE_VIDEO";g[g.qsb=1250]="MSE_MEDIA_ERR_BASE";g[g.Sjc=1251]="MSE_MEDIA_ERR_ABORTED";g[g.Vjc=1252]="MSE_MEDIA_ERR_NETWORK";g[g.Tjc=1253]="MSE_MEDIA_ERR_DECODE";g[g.Wjc=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";g[g.Ujc=1255]="MSE_MEDIA_ERR_ENCRYPTED";g[g.ju=1260]="EME_MEDIA_KEYERR_BASE";g[g.Oic=1261]="EME_MEDIA_KEYERR_UNKNOWN";g[g.Jic=1262]="EME_MEDIA_KEYERR_CLIENT";g[g.Nic=1263]="EME_MEDIA_KEYERR_SERVICE";g[g.Mic=1264]="EME_MEDIA_KEYERR_OUTPUT";g[g.Lic=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";g[g.Kic=1266]="EME_MEDIA_KEYERR_DOMAIN";g[g.Pic=1269]="EME_MEDIA_UNAVAILABLE_CDM";g[g.qqb=1270]="EME_INTERNAL_ERROR";g[g.mqb=1271]="EME_CLOSED_BY_APPLICATION";g[g.uqb=1272]="EME_RELEASE_ACKNOWLEDGED";g[g.Yga=1273]="EME_HARDWARE_CONTEXT_RESET";g[g.wqb=1274]="EME_RESOURCE_EVICTED";g[g.pqb=1280]="EME_ERROR_NODRMSESSSION";g[g.oqb=1281]="EME_ERROR_NODRMREQUESTS";g[g.Gic=1282]="EME_ERROR_INDIV_FAILED";g[g.Hic=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";g[g.yqb=1284]="EME_TIMEOUT_MESSAGE";g[g.Qic=1285]="EME_TIMEOUT_KEYCHANGE";g[g.pIa=1286]="EME_UNDEFINED_DATA";g[g.xL=1287]="EME_INVALID_STATE";g[g.Iic=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";g[g.kIa=1289]="EME_EMPTY_DATA";g[g.PS=1290]="EME_TIMEOUT";g[g.jkc=1303]="NCCP_METHOD_NOT_SUPPORTED";g[g.mkc=1305]="NCCP_PARSEXML";g[g.aub=1309]="PROCESS_EXCEPTION";g[g.lkc=1311]="NCCP_NETFLIXID_MISSING";g[g.nkc=1312]="NCCP_SECURENETFLIXID_MISSING";g[g.gkc=1313]="NCCP_HMAC_MISSING";g[g.fkc=1315]="NCCP_HMAC_MISMATCH";g[g.ekc=1317]="NCCP_HMAC_FAILED";g[g.dkc=1321]="NCCP_CLIENTTIME_MISSING";g[g.ckc=1323]="NCCP_CLIENTTIME_MISMATCH";g[g.jJa=1331]="GENERIC";g[g.Jsb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";g[g.Ksb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";g[g.okc=1341]="NCCP_TRANSACTION";g[g.hkc=1343]="NCCP_INVALID_DRMTYPE";g[g.ikc=1344]="NCCP_INVALID_LICENCE_RESPONSE";g[g.kkc=1345]="NCCP_MISSING_PAYLOAD";g[g.Wkc=1346]="PROTOCOL_NOT_INITIALIZED";g[g.Vkc=1347]="PROTOCOL_MISSING_FIELD";g[g.Ukc=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";g[g.hD=1402]="STORAGE_NODATA";g[g.rlc=1403]="STORAGE_EXCEPTION";g[g.zlc=1405]="STORAGE_QUOTA_NOT_GRANTED";g[g.Alc=1407]="STORAGE_QUOTA_TO_SMALL";g[g.lRa=1411]="STORAGE_LOAD_ERROR";g[g.Sub=1412]="STORAGE_LOAD_TIMEOUT";g[g.mRa=1414]="STORAGE_SAVE_ERROR";g[g.Vub=1415]="STORAGE_SAVE_TIMEOUT";g[g.Fja=1417]="STORAGE_DELETE_ERROR";g[g.kRa=1418]="STORAGE_DELETE_TIMEOUT";g[g.ylc=1421]="STORAGE_FS_REQUESTFILESYSTEM";g[g.vlc=1423]="STORAGE_FS_GETDIRECTORY";g[g.xlc=1425]="STORAGE_FS_READENTRIES";g[g.slc=1427]="STORAGE_FS_FILEREAD";g[g.ulc=1429]="STORAGE_FS_FILEWRITE";g[g.tlc=1431]="STORAGE_FS_FILEREMOVE";g[g.wlc=1432]="STORAGE_FS_PARSEJSON";g[g.Uub=1451]="STORAGE_NO_LOCALSTORAGE";g[g.Tub=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";g[g.xkc=1501]="NTBA_UNKNOWN";g[g.wkc=1502]="NTBA_EXCEPTION";g[g.skc=1504]="NTBA_CRYPTO_KEY";g[g.ukc=1506]="NTBA_CRYPTO_OPERATION";g[g.tkc=1508]="NTBA_CRYPTO_KEYEXCHANGE";g[g.vkc=1515]="NTBA_DECRYPT_UNSUPPORTED";g[g.kHa=1553]="DEVICE_NO_ESN";g[g.tpb=1555]="DEVICE_ERROR_GETTING_ESN";g[g.rjc=1701]="FORMAT_UNKNOWN";g[g.Iqb=1713]="FORMAT_XML";g[g.sjc=1715]="FORMAT_XML_CONTENT";g[g.pjc=1721]="FORMAT_BASE64";g[g.qjc=1723]="FORMAT_DFXP";g[g.hrb=1801]="INDEXDB_OPEN_EXCEPTION";g[g.oKa=1802]="INDEXDB_NOT_SUPPORTED";g[g.grb=1803]="INDEXDB_OPEN_ERROR";g[g.pKa=1804]="INDEXDB_OPEN_NULL";g[g.frb=1805]="INDEXDB_OPEN_BLOCKED";g[g.irb=1807]="INDEXDB_OPEN_TIMEOUT";g[g.erb=1808]="INDEXDB_INVALID_STORE_STATE";g[g.q3=1809]="INDEXDB_ACCESS_EXCEPTION";g[g.Bsb=1901]="MSL_UNKNOWN";g[g.tsb=1911]="MSL_INIT_NO_MSL";g[g.hMa=1913]="MSL_INIT_ERROR";g[g.usb=1915]="MSL_INIT_NO_WEBCRYPTO";g[g.rsb=1931]="MSL_ERROR";g[g.Asb=1933]="MSL_REQUEST_TIMEOUT";g[g.zsb=1934]="MSL_READ_TIMEOUT";g[g.ssb=1935]="MSL_ERROR_HEADER";g[g.Xjc=1936]="MSL_ERROR_ENVELOPE";g[g.Yjc=1937]="MSL_ERROR_MISSING_PAYLOAD";g[g.gMa=1957]="MSL_ERROR_REAUTH";g[g.kka=2103]="WEBCRYPTO_MISSING";g[g.emc=2105]="WEBCRYPTOKEYS_MISSING";g[g.yvb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";g[g.aic=2200]="CACHEDDATA_PARSEJSON";g[g.iGa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";g[g.bic=2202]="CACHEDDATA_UPGRADE_FAILED";g[g.NC=2203]="CACHEDDATA_INVALID_FORMAT";g[g.phc=3E3]="ACCOUNT_CHANGE_INFLIGHT";g[g.qhc=3001]="ACCOUNT_INVALID";g[g.xic=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";g[g.wic=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";g[g.uic=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";g[g.vic=3201]="DOWNLOADED_LICENSE_UNUSEABLE";g[g.tic=3202]="DOWNLOADED_LICENSE_EXCEPTION";g[g.Blc=3300]="STORAGE_VA_LOAD_ERROR";g[g.Clc=3301]="STORAGE_VA_LOAD_TIMEOUT";g[g.Flc=3302]="STORAGE_VA_SAVE_ERROR";g[g.Glc=3303]="STORAGE_VA_SAVE_TIMEOUT";g[g.Dlc=3304]="STORAGE_VA_REMOVE_ERROR";g[g.Elc=3305]="STORAGE_VA_REMOVE_TIMEOUT";g[g.Dia=3077]="PBO_DEVICE_EOL_WARNING";g[g.RNa=3078]="PBO_DEVICE_EOL_FINAL";g[g.UNa=3100]="PBO_DEVICE_RESET";g[g.TNa=3101]="PBO_DEVICE_RELOAD";g[g.SNa=3102]="PBO_DEVICE_EXIT";g[g.Ctb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";g[g.htb=5005]="PBO_ACCOUNT_ON_HOLD";g[g.qtb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";g[g.VNa=5007]="PBO_INCORRECT_PIN";g[g.ztb=5008]="PBO_MOBILE_ONLY";g[g.Dtb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";g[g.itb=5010]="PBO_ADS_UNAVAILABLE_VIEWABLE";g[g.ltb=5011]="PBO_ADS_UNSUPPORTED_DEVICE";g[g.jtb=5012]="PBO_ADS_UNSUPPORTED_CLIENT_APP_VERSION";g[g.ktb=5013]="PBO_ADS_UNSUPPORTED_COUNTRY";g[g.mtb=5014]="PBO_ADS_VPN_USE_DETECTED";g[g.vtb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";g[g.otb=5059]="PBO_BLACKLISTED_IP";g[g.ntb=5070]="PBO_AGE_VERIFICATION_REQUIRED";g[g.ptb=5080]="PBO_CHOICE_MAP_ERROR";g[g.Atb=5090]="PBO_RESTRICTED_TO_TESTERS";g[g.xtb=5091]="PBO_MALFORMED_REQUEST";g[g.wtb=5092]="PBO_INVALID_SERVICE_VERSION";g[g.ytb=5093]="PBO_MDX_INVALID_CTICKET";g[g.utb=5094]="PBO_FREE_PREVIEW_ENDED";g[g.Btb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";g[g.ttb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";g[g.stb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";g[g.bpb=5100]="DECODER_TIMEOUT_BUFFERING";g[g.dpb=5101]="DECODER_TIMEOUT_PRESENTING";g[g.cpb=5102]="DECODER_TIMEOUT_PLAYING";g[g.Upb=5200]="DOWNLOADER_IO_ERROR";g[g.KFa=5300]="BRANCHING_SEGMENT_NOTFOUND";g[g.Onb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";g[g.Fhc=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";g[g.mga=5303]="BRANCHING_ASE_UNINITIALIZED";g[g.Bhc=5304]="BRANCHING_ASE_FAILURE";g[g.Chc=5305]="BRANCHING_MOMENT_FAILURE";g[g.Mnb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";g[g.Ehc=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";g[g.Pnb=5308]="BRANCHING_SEEK_THREW";g[g.Dhc=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";g[g.Nnb=5310]="BRANCHING_PLAY_TIMEDOUT";g[g.Qnb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";g[g.Rnb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";g[g.Wub=5500]="STUDIO_MUXED_MANIFEST";g[g.bia=5600]="MANIFEST_HYDRATION_FAILURE";g[g.pnb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";g[g.qnb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";})(c=b.X || (b.X={}));(function(g){g[g.Qhc=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";g[g.Ghc=5005]="BR_ACCOUNT_ON_HOLD";g[g.Khc=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";g[g.Nhc=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";g[g.Jhc=5059]="BR_BLACKLISTED_IP";g[g.Hhc=5070]="BR_AGE_VERIFICATION_REQUIRED";g[g.Ohc=2204]="BR_PLAYBACK_CONTEXT_CREATION";g[g.Lhc=2205]="BR_DRM_LICENSE_AQUISITION";g[g.Phc=2206]="BR_PLAYBACK_SERVICE_ERROR";g[g.Mhc=2207]="BR_ENDPOINT_ERROR";g[g.Ihc=2208]="BR_AUTHORIZATION_ERROR";})(b.MIa || (b.MIa={}));b.n3={Znb:"400",$lc:"401",nOa:"413"};b.z3={njc:1,Slc:2,Tic:3,Ylc:4,Ijc:5,Sic:6,dka:7,Vic:8,flc:9,olc:10};b.cha=function(g,k,m,f){return g == a.L3 || g == a.p3 || g == a.Gia && 432E5 <= m || g == a.$ga && k === c.Yga && 0 < Number(f);};b.NIa=function(g){return 1100 <= g && 1199 >= g;};b.dha=function(g,k){return 1 <= g && 9 >= g?k + g:k;};b.OIa=function(g){return (0,b.dha)(g,c.qsb);};b.PIa=function(g){return (0,b.dha)(g,c.ju);};b.nz=function(g){var k,m,f;k={};m=g.errorExternalCode || g.Rf;f=g.errorDetails || g.Qb;k.ErrorSubCode=g.errorSubCode || g.za || c.eo;m && (k.ErrorExternalCode=m);f && (k.ErrorDetails=f);return k;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={bY:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},function(r,b,a){var k;function c(){return k.OT.apply(this,arguments) || this;}function g(m){return new k.pu(m,b.sa);}Object.defineProperty(b,"__esModule",{value:!0});b.Ha=b.cKa=b.qia=b.qp=b.sa=b.AG=b.timestamp=b.gWb=b.yba=b.Hh=b.xc=b.xeb=b.S0b=b.lvb=void 0;k=a(331);ja(c,k.OT);b.lvb=c;b.S0b=function(m){return new k.pu(m,b.AG);};b.xeb=function(m){return new k.pu(m * b.qp.Xg,b.AG);};b.xc=g;b.Hh=function(m){return new k.pu(m,b.qp);};b.yba=function(m){return new k.pu(m,b.qia);};b.gWb=function(m){return new k.pu(m,b.cKa);};b.timestamp=function(m){return g(m);};b.AG=new c(1,"\u03bcs");b.sa=new c(1E3,"ms",b.AG);b.qp=new c(1E3 * b.sa.Xg,"s",b.AG);b.qia=new c(60 * b.qp.Xg,"min",b.AG);b.cKa=new c(60 * b.qia.Xg,"hr",b.AG);b.Ha=g(0);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(395),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NS=b.mb=b.Vha=b.zk=void 0;r=b.zk || (b.zk={});r[r.Gqb=0]="FATAL";r[r.Nf=1]="ERROR";r[r.jka=2]="WARN";r[r.zha=3]="INFO";r[r.oSa=4]="TRACE";r[r.N=5]="DEBUG";b.Vha="LogFieldBuilderFactorySymbol";b.mb="LoggerFactorySymbol";b.NS={};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.CT=b.kJa=void 0;r=a(0);r.__exportStar(a(401),b);r.__exportStar(a(104),b);r.__exportStar(a(20),b);r.__exportStar(a(921),b);r.__exportStar(a(922),b);r.__exportStar(a(923),b);r.__exportStar(a(924),b);r.__exportStar(a(925),b);r.__exportStar(a(926),b);r.__exportStar(a(927),b);r.__exportStar(a(412),b);c=r.__importDefault(a(928));b.kJa=c.default;a=r.__importDefault(a(414));b.CT=a.default;},function(r,b,a){var c,g,k,m,f,d,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.Ea=b.QPa=b.jX=b.aj=b.ck=b.log=b.jg=b.VO=b.XYa=b.Hs=b.rA=b.vc=b.xEb=b.Vna=b.vEb=b.wEb=b.Yj=b.aS=b.W0=b.ki=b.Cc=b.Ba=void 0;c=a(214);r=a(7);g=a(26);k=a(74);m=a(80);f=a(31);d=a(15);l=a(147);n=a(29);a=a(46);b.Ba=c.qc.get(n.Nh);b.Cc=c.qc.get(a.Sj);b.ki=c.qc.get(k.tu);b.W0=b.ki.encode.bind(b.ki);b.aS=b.ki.decode.bind(b.ki);b.Yj=c.qc.get(m.dz);b.wEb=b.Yj.encode.bind(b.Yj);b.vEb=b.Yj.decode.bind(b.Yj);b.Vna=b.Yj.EI.bind(b.Yj);b.xEb=b.Yj.wkb.bind(b.Yj);b.vc=c.qc.get(f.Li);b.rA=function(h){h=(0,d.Cg)(h)?(0,b.aS)(h):h;return b.vc.encode(h);};b.Hs=b.vc.decode.bind(b.vc);b.XYa=function(h){return (0,b.W0)((0,b.Hs)(h));};b.VO=function(){return c.qc.get(g.iz);};b.jg=c.qc.get(r.mb);b.log=b.jg.hb("General");b.ck=function(h,p){return b.jg.hb(h,void 0,p);};b.aj=function(h,p,q){return b.jg.hb(p,h,q);};b.jX=function(h,p,q,t){return b.jg.hb(h,void 0,t,p,q);};b.QPa=function(h,p,q){return c.qc.get(l.DT)(h,p,q).M0();};b.Ea=c.qc;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.N=!1;},function(r){var b;b={Oa:function(a){return "number" === typeof a;},ek:function(a){return "object" === typeof a;},Cg:function(a){return "string" === typeof a;},ta:function(a){return "undefined" === typeof a;},spc:function(a){return "boolean" === typeof a;},md:function(a){return "function" === typeof a;},tb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},s4b:function(a){var c,g;g=[];if(!b.ek(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && g.push([c,a[c]]);}return g;}};b.fg=b.forEach=function(a,c,g){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var k=0,m=a.length;k < m;k++){c.call(g,a[k],k,a);}else for(k in a){b.has(a,k) && c.call(g,a[k],k,a);}return a;};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$n={mnc:"casttv",Xoa:"chrome",snc:"chromecast",jr:"edge",v2a:"edgeoss",T3a:"firefox",mpc:"ie",opera:"opera",Ugb:"safari",Ujb:"tesla"};b.np={H6:"android",R8a:"ios",m_a:"chromeos",z$a:"linux",cab:"mac",pEa:"windows"};b.m3={AHb:"computer",phone:"phone",Tcc:"tablet"};b.Lc="ConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.swa=b.localStorage=b.VWb=b.indexedDB=b.nNa=b.gr=b.$C=b.ZC=b.URL=b.E3=b.Nsb=b.wMa=b.vMa=b.x3=b.mT=b.uz=b.ou=b.mp=b.Dsb=b.JL=b.hSa=b.rHa=b.dtb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.pA=b.Msb=b.Ph=b.Hw=b.oNa=b.Iw=b.D3=b.DG=void 0;r=mb;b.Xe=r.navigator;b.DG=null === b.Xe || void 0 === b.Xe?void 0:b.Xe.userAgent;b.D3=r.location;b.Iw=r.screen;b.oNa=r.devicePixelRatio;b.Hw=r.performance;b.Ph=r.document;b.Msb=b.Ph.documentElement;b.pA=Array.prototype;b.sort=b.pA.sort;b.map=b.pA.map;b.slice=b.pA.slice;b.every=b.pA.every;b.reduce=b.pA.reduce;b.filter=b.pA.filter;b.forEach=b.pA.forEach;b.pop=b.pA.pop;b.dtb=Object.create;b.rHa=Date.now;b.hSa=String.fromCharCode;b.JL=Math.floor;b.Dsb=Math.ceil;b.mp=Math.round;b.ou=Math.max;b.uz=Math.min;b.mT=Math.random;b.x3=Math.abs;b.vMa=Math.pow;b.wMa=Math.sqrt;b.Nsb=r.escape;b.E3=r.unescape;b.URL=r.URL || r.webkitURL;b.ZC=r.MediaSource || r.WebKitMediaSource;b.$C=r.webkitCrypto || r.msCrypto || r.crypto;b.gr=b.$C && (b.$C.webkitSubtle || b.$C.subtle);b.nNa=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.VWb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.swa=a || "noex";}},function(r,b,a){b=a(117);b.yLb=0;r.exports={EventEmitter:b,$f:a(903)};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.md=b.W8a=b.HP=b.Cg=b.Kva=b.XXb=b.LXb=b.Ava=b.YE=b.i9a=b.Oa=b.Iva=b.isArray=b.H9a=b.ek=b.vd=b.is=void 0;r=a(213);b.is=r.sG;b.vd=function(c){return b.is.kh(c);};b.ek=function(c){return b.is.oV(c);};b.H9a=function(c){return b.is.Jma(c);};b.isArray=function(c){return b.is.MD(c);};b.Iva=function(c){return b.is.YXa(c);};b.Oa=function(c,g,k){return b.is.no(c,g,k);};b.i9a=function(c,g,k){return b.is.qna(c,g,k);};b.YE=function(c,g,k){return b.is.pV(c,g,k);};b.Ava=function(c){return b.is.dV(c);};b.LXb=function(c){return b.is.tBb(c);};b.XXb=function(c){return b.is.uBb(c);};b.Kva=function(c){return b.is.ZXa(c);};b.Cg=function(c){return b.is.Du(c);};b.HP=function(c){return b.is.oo(c);};b.W8a=function(c){return b.is.q6(c);};b.md=function(c){return b.is.s6(c);};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Me=b.qb=b.Zf=b.dc=b.B1=b.ma=b.Gha=b.KG=b.Na=void 0;(function(c){c.I$a="loadedtracks";c.H$a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.hr="currenttimechanged";c.clb="unthrottledcurrenttimechanged";c.ioa="bufferedtimechanged";c.Jqa="durationchanged";c.hEa="videosizechanged";c.Jdb="pausedchanged";c.rza="playingchanged";c.Z2a="endedchanged";c.HN="busychanged";c.c7="audiotracklistchanged";c.cn="audiotrackchanged";c.hw="timedtexttracklistchanged";c.Hm="timedtexttrackchanged";c.O0="trickplayframeschanged";c.Qbb="mutedchanged";c.vmb="volumechanged";c.bCa="showsubtitle";c.sAa="removesubtitle";c.ygc="watermark";c.Eva="isReadyToTransition";c.rP="inactivated";c.O8a="internalPlaybackError";c.o$b="segmentmaploaded";c.p$b="segmentpresenting";c.NYa="autoplaywasallowed";c.e7="autoplaywasblocked";c.OCb="adsstatechanged";c.qJ="livestatechanged";})(b.Na || (b.Na={}));(b.KG || (b.KG={})).Q_="playgraphsegmenttransition";b.Gha=a;a.yhb="serverTimeChanged";(function(c){c.xN="aseReport";c.Mna="autoplayWasAllowed";c.Vi="autoplayWasBlocked";c.tA="bufferUnderrun";c.closed="closed";c.ih="closing";c.hr="currentTimeChanged";c.nE="downloadComplete";c.rP="inactivated";c.s$a="licenseAdded";c.HY="licensed";c.KY="locationSelected";c.Rwa="manifestClosing";c.rJ="manifestPresenting";c.dba="mediaBufferChanged";c.Kba="nextBranchingSegmentChosen";c.Ov="playbackStart";c.Bm="playbackReady";c.cl="repositioned";c.hK="repositioning";c.Wgb="safePlayRequested";c.sK="segmentPresenting";c.U_="serverSwitch";c.xib="shouldUpdateVideoDiagInfo";c.GR="subtitleError";c.cDa="throttledMediaTimeChanged";c.dlb="unthrottledMediaTimeChanged";c.LR="timedTextRebuffer";c.hw="timedTextTrackListChanged";c.O0="trickPlayFramesChanged";c.MDa="updateNextBranchingSegmentWeights";c.Hfc="userInitiatedPause";c.$lb="userInitiatedResume";c.Dkb="tracksHydrated";c.qJ="livestatechanged";})(b.ma || (b.ma={}));(b.B1 || (b.B1={})).u6="adBreakComplete";(function(c){c[c.ML=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.Le=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.dc || (b.dc={}));(function(c){c[c.Le=1]="NORMAL";c[c.Qd=2]="BUFFERING";c[c.jRa=3]="STALLED";})(b.Zf || (b.Zf={}));(function(c){c[c.pg=1]="WAITING";c[c.Wc=2]="PLAYING";c[c.Oi=3]="PAUSED";c[c.js=4]="ENDED";})(b.qb || (b.qb={}));(function(c){c[c.Bw=0]="INITIAL";c[c.eD=1]="SEEK";c[c.n4=2]="TRACK_CHANGED";c[c.WL=3]="SEGMENT_CHANGED";c[c.r2=4]="FORCE_REBUFFER";})(b.Me || (b.Me={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lT=b.u3=b.job=b.eob=b.gob=b.hob=b.XFa=b.dob=b.fob=b.WFa=b.iob=b.pob=b.nob=b.oob=b.mob=b.hqb=b.gqb=b.fqb=b.isb=b.jsb=b.w3=b.dMa=b.eMa=b.v3=b.bIa=b.iqb=b.Xga=b.n2=b.$sb=b.Lub=b.aMa=b.Ynb=b.hHa=b.K3=b.OL=b.J3=b.$La=b.rz=b.Xnb=b.JFa=b.Vrb=b.tvb=b.hsb=b.gsb=b.Eub=b.Dub=b.lu=b.Zg=b.JQa=b.Jw=void 0;b.HFa=b.wja=void 0;b.Jw=function(){};b.JQa=function(){return !0;};b.Zg={ga:!0};b.lu=1E3;b.Dub=86400;b.Eub=604800;b.gsb=1E4;b.hsb=1E7;b.tvb=1.5;b.Vrb=.128;b.JFa=7.8125;b.Xnb=128;b.rz=145152E5;b.$La=1E5;b.J3="$netflix$player$order";b.OL=-1;b.K3=1;b.hHa=["en-US"];b.Ynb=8;b.aMa=65535;b.Lub=65536;b.$sb=Number.MAX_VALUE;b.n2="playready";b.Xga="widevine";b.iqb="fps";b.bIa="clearkey";b.v3='audio/mp4; codecs="mp4a.40.5"';b.eMa='audio/mp4; codecs="mp4a.40.42"';b.dMa='audio/mp4; codecs="mp4a.a6"';b.w3='video/mp4; codecs="avc1.640028"';b.jsb='video/mp4; codecs="hev1.2.6.L153.B0"';b.isb='video/mp4; codecs="dvhe.01000000"';b.fqb="9A04F079-9840-4286-AB92-E65BE0885F95";b.gqb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.hqb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.mob=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.oob="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.nob="4E657466-6C69-7846-7261-6D6552617465";b.pob="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.iob="mp4a";b.WFa="enca";b.fob="ec-3";b.dob="avc1";b.XFa="encv";b.hob="hvcC";b.gob="hev1";b.eob="dvhe";b.job="vp09";b.u3=0;b.lT=1;b.wja="position:relative;width:100%;height:100%;overflow:hidden";b.HFa="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cd="ApplicationSymbol";},function(r,b,a){var k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C;function c(D){return (D=b.config.sec[g(D)])?D:{};}function g(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":0 <= D.indexOf("live")?"live":D;}Object.defineProperty(b,"__esModule",{value:!0});b.BHb=b.CHb=b.X_a=b.zpa=b.Y_a=b.ypa=b.config=void 0;k=a(17);m=a(40);f=a(9);d=a(39);l=a(23);n=a(26);h=a(42);p=a(25);a(7);q=a(13);t=a(15);v=a(177);w=a(50);u=a(84);x=a(110);y=a(52);z=a(5);A=a(47);B=a(18);C=a(121);b.Y_a=function(D,E){var ua,Aa,Ha,N,Q,U,Z,qa,Fa;function G(Oa,Ra){(0,p.ph)(Oa,function(Pa,Va){(0,t.md)(Va)?Ra[Pa]=Va.call(void 0,Ra[Pa]):(0,t.ek)(Va) && (Ra[Pa]=Ra[Pa] || ({}),G(Va,Ra[Pa]));});}function F(Oa,Ra,Pa,Va){for(var bb=[],Ab=3;Ab < arguments.length;++Ab){bb[Ab - 3]=arguments[Ab];}return function(tb){(0,t.vd)(tb) && (Pa=tb);(0,l.Ka)((0,t.md)(Oa));return Oa.apply(void 0,[Ra,Pa].concat(ha(bb)));};}function I(Oa){Oa=Oa.toLowerCase();N.hasOwnProperty(Oa) && (Ha[Oa]=N[Oa],Q[Oa]=N[Oa]);return Oa;}function L(Oa,Ra,Pa){var Va;Oa=Oa.toLowerCase();if(Ha.hasOwnProperty(Oa)){Va=Ha[Oa];try{Va=Pa?Pa(Va):Va;}catch(bb){Va=void 0;}if(void 0 !== Va)return Va;(0,l.Ka)(!1);f.log.error("Invalid configuration value. Name: " + Oa);}return Ra;}function M(Oa,Ra,Pa,Va){return L(Oa,Ra,function(bb){(0,t.Cg)(bb) && (bb=(0,p.nk)(bb));if((0,t.i9a)(bb,Pa,Va))return bb;});}function K(Oa,Ra,Pa,Va){return L(Oa,Ra,function(bb){(0,t.Cg)(bb) && (bb=(0,p.nk)(bb));if((0,t.YE)(bb,Pa,Va))return bb;});}function O(Oa,Ra,Pa,Va){return L(Oa,Ra,function(bb){(0,t.Cg)(bb) && (bb=parseFloat(bb));if((0,t.Oa)(bb,Pa,Va))return bb;});}function H(Oa,Ra,Pa){return L(Oa,Ra,function(Va){if(Pa?Pa.test(Va):(0,t.Cg)(Va))return Va;});}function J(Oa,Ra){return L(Oa,Ra,function(Pa){if("true" == Pa || !0 === Pa)return !0;if("false" == Pa || !1 === Pa)return !1;});}function R(Oa,Ra){return L(Oa,Ra,function(Pa){if((0,t.Cg)(Pa))return JSON.parse((0,q.E3)(Pa));if((0,t.ek)(Pa))return Pa;});}function P(Oa,Ra,Pa,Va,bb,Ab){var tb;Oa=Oa.toLowerCase();Ha.hasOwnProperty(Oa) && (tb=Ha[Oa]);if(!(0,t.vd)(tb))return Ra;if((0,t.Cg)(tb))if(tb[0] !== Pa)tb=Va(tb);else try{tb=JSON.parse((0,q.E3)(tb));}catch(Db){tb=void 0;}if(void 0 === tb)return Ra;for(Oa=0;Oa < bb.length;Oa++){if(!bb[Oa](tb))return Ra;}return Ab?Ab(tb):tb;}function T(Oa,Ra,Pa,Va,bb){return P(Oa,Ra,"[",function(Ab){Ab=Ab.split("|");for(var tb=Ab.length;tb--;){Ab[tb]=(0,p.nk)(Ab[tb]);}return Ab;},[function(Ab){return (0,t.isArray)(Ab) && 0 < Ab.length;},function(Ab){for(var tb=Ab.length;tb--;){if(!(0,t.YE)(Ab[tb],Pa,Va))return !1;}return !0;},function(Ab){return void 0 === bb || Ab.length >= bb;}]);}function V(Oa,Ra){return P(Oa,Ra,"[",function(Pa){Pa=(0,t.isArray)(Pa)?Pa:Pa.split("|");for(var Va=Pa.length;Va--;){try{Pa[Va]=JSON.parse((0,q.E3)(Pa[Va]));}catch(bb){Pa=void 0;break;}}return Pa;},[function(Pa){return (0,t.isArray)(Pa) && 0 < Pa.length;},function(Pa){for(var Va=Pa.length;Va--;){if(!(0,t.vd)(Pa[Va]) || !(0,t.ek)(Pa[Va]))return !1;}return !0;}]);}function S(Oa,Ra){var Pa;Pa=W(Oa,[]);return Pa && 0 < Pa.length?(0,C.Xo)(Pa):V(Oa,Ra);}function W(Oa,Ra,Pa,Va){return P(Oa,Ra,"[",function(bb){return (0,t.isArray)(bb)?bb:bb.split("|");},[function(bb){return (0,t.isArray)(bb) && 0 < bb.length;},function(bb){for(var Ab=bb.length;Ab--;){if(Pa?!Pa.test(bb[Ab]):!(0,t.HP)(bb[Ab]))return !1;}return !0;},function(bb){return void 0 === Va || bb.length >= Va;}]);}function ia(Oa,Ra,Pa){return P(Oa,Ra,"{",function(Va){var bb,tb,Db;bb={};Va=Va.split(";");for(var Ab=Va.length;Ab--;){tb=Va[Ab];Db=tb.indexOf(":");if(0 >= Db)return;bb[tb.substring(0,Db)]=tb.substring(Db + 1);}return bb;},[function(Va){return (0,t.ek)(Va) && 0 < Object.keys(Va).length;},function(Va){if(Pa)for(var bb in Va){if(!Pa.test(Va[bb]))return !1;}return !0;}],function(Va){var bb;bb={};(0,p.Fe)(bb,Ra);(0,p.Fe)(bb,Va);return bb;});}function ra(Oa){var Ra;Ra=[];(0,p.ph)(Oa,function(Pa,Va){var bb;try{bb="videoapp" === Pa.toLowerCase()?"[object object]":JSON.stringify(Va);}catch(Ab){bb="cantparse";}Ra.push(Pa + "=" + bb);});return Ra.join("\n");}ua=/^[0-9]+[%]?$/;Aa=/^[0-9]*$/;Q={};U=f.Ea.get(d.kp);Z=f.Ea.get(x.HG);(function(Oa){function Ra(Pa){Pa.split(",").forEach(function(Va){var bb;bb=Va.indexOf("=");0 < bb && (Ha[Va.substring(0,bb).toLowerCase()]=Va.substring(bb + 1));});}Ha={};(0,p.Fe)(Ha,Oa);D && D.length && q.forEach.call(D,function(Pa){(0,t.Cg)(Pa)?Ra(Pa):(0,t.ek)(Pa) && (0,p.Fe)(Ha,Pa,{PY:!0});});N=(0,p.Fe)({},(0,m.U9)(),{PY:!0});if(Oa=(0,m.pfb)().cadmiumconfig)(f.log.info("Config cookie loaded",Oa),Ra(Oa));if(f.Ea.get(A.Eq).E6 || Ha.istestaccount)((0,p.Fe)(Ha,N),Q=N);})(E);b.config={};qa={iOb:F(J,I("enableXHEAAC"),!1),G2a:F(J,I("enableDDPlus20"),!0),F2a:F(J,I("enableDDPlus"),!0),wO:F(J,I("enableDDPlusAtmos"),!1),PNb:F(J,I("enableLSSDH"),!0),KNb:F(J,I("enableHEVC"),!1),pdb:F(J,I("overrideEnableHEVC"),!1),Qqa:F(J,I("enableHDR"),!1),odb:F(J,I("overrideEnableHDR"),!1),ndb:F(J,I("overrideEnableDV"),!1),uO:F(J,I("enableAVCHigh"),Z.uO),mdb:F(J,I("overrideEnableAVCHigh"),!1),eOb:F(J,I("enableVP9"),!1),qdb:F(J,I("overrideEnableVP9"),!1),yNb:F(J,I("enableAV1"),!1),ldb:F(J,I("overrideEnableAV1"),!1),l4b:F(J,I("overrideEnableXHEAAC"),!1),j4b:F(J,"overrideEnableAllAudioProfiles",!1),k4b:F(J,"overrideEnableAllVideoProfiles",!1),VNb:F(J,I("enablePRK"),!1),HNb:F(J,I("enableDV"),!1),K2a:F(J,I("enableHWDRM"),!1),MNb:F(J,I("enableImageSubs"),!0),NH:F(S,I("audioProfiles"),Z.NH),JNb:F(J,I("enableFullHdForWidevineL3"),!1),J2a:F(J,I("enableFullHdForWidevineL1"),!1),cOb:F(J,I("enableUHD"),!0),qfa:F(K,"videoCapabilityDetectorType",n.Rm.hz),Hna:F(K,"audioCapabilityDetectorType",n.ww.hz),Yn:F(S,I("videoProfiles"),Z.Yn),NXa:F(S,I("additionalVideoProfiles"),[]),WAb:F(W,I("timedTextProfiles"),Z.gw),gw:function(){return qa.WAb().filter(function(Oa){return Oa === h.Pm.Gga?qa.PNb():Oa === h.Pm.LL?qa.MNb():!0;});},endpoint:F(J,I("endpoint"),!1),version:F(H,"version","unknown"),LNb:F(J,I("enableHdcp"),!1),Dt:F(J,I("prepareCadmium"),!1),yBb:F(J,I("acceptManifestOnPrepareItemParams"),!0),S5b:F(R,"ppmconfig",{maxNumberTitlesScheduled:1}),LW:F(J,I("enableLdlPrefetch"),!1),O2a:F(J,I("enableMediaPrefetch"),!1),QNb:F(J,I("enableManifestCache"),!0),RLb:F(J,I("deleteCachedManifestOnPlayback"),!1),QLb:F(J,I("deleteCachedManifestOnCreate"),!1),ULb:F(J,I("deleteOtherManifestCacheOnCreate"),!1),TLb:F(J,I("deleteOtherLdlCacheOnCreate"),!1),Nqc:F(K,I("periodicPrepareLogsIntervalMilliseconds"),36E5),m6b:F(K,I("prepareManifestCacheMaxCount"),50),k6b:F(K,I("prepareLdlCacheMaxCount"),30),Beb:F(K,I("prepareManifestExpiryMilliseconds"),12E5),l6b:F(K,I("prepareLdlExpiryMilliseconds"),78E4),e6b:F(K,I("prefetcherMaxWishlistSize"),10),d6b:F(K,I("prefetcherBudgetInBytes"),Infinity),f6b:F(J,I("prefetcherOverrideItemPriority"),!0),j6b:F(H,I("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),Csc:F(R,"videoApp"),QF:F(R,"storageRules"),p9:F(J,"ftlEnabled",Z.p9),Dua:F(K,I("imageSubsResolution"),0),FWb:F(K,I("imageSubsMaxBuffer"),Z.k0b.ja(y.xw),0),QV:F(J,I("captureBatteryStatus"),!1),yRb:F(K,I("getBatteryApiTimeoutMilliseconds"),5E3),zn:F(H,I("keySystemId"),Z.zn),a$a:F(W,I("keySystemList"),void 0,void 0),cEa:F(J,I("validateKeySystemAccess"),!1),W0b:F(K,I("hdcpGlobalTimeout1"),1E4),X0b:F(K,I("hdcpGlobalTimeout2"),1E4),fqc:F(K,I("hdcpQueryTimeout1"),1E3),gqc:F(K,I("hdcpQueryTimeout2"),1E3),mbb:F(K,I("hdcpQueryTimeout2"),100),Y0b:F(J,I("microsoftHwdrmRequiresHevc"),!1),lbb:F(J,I("microsoftClearLeadRequiresSwdrm"),!1),T0b:F(J,I("microsoftEnableDeviceInfo"),!1),U0b:F(J,I("microsoftEnableHardwareInfo"),!1),V0b:F(J,I("microsoftEnableHardwareReset"),!1),wfc:F(J,I("useHevcCodecForDolbyVision"),!1),SNb:F(J,I("enableMediaCapabilities"),!1),R5b:F(J,I("powerEfficientForVideo"),!1),TNb:F(J,I("enableMediaCapabilitiesSourceBufferCheck"),!1),k_b:F(J,"logMediaPipelineStatus",!1),w_:F(J,I("renderDomDiagnostics"),!0),R$a:function(){return -1;},OP:F(M,I("logDisplayMaxEntryCount"),Z.OP,-1),q_b:F(M,I("logToConsoleLevel"),-1),bnc:F(M,I("bladerunnerCmdHistorySize"),10),UA:function(){return U.UA;},wwa:F(J,"logErrorIfEsnNotProvided",!0),Wqa:F(J,"enforceSinglePlayback",Z.Wqa),C8:F(J,"enforceSingleSession",Z.C8),lpa:F(J,"closeOtherPlaybacks",!0),GDb:F(K,"asyncLoadTimeout",15E3,1),A_b:F(K,"mainThreadMonitorPollRate",0),VI:function(){return U.VI;},ON:function(){return U.ON;},Q0:function(){return U.Q0;},gmb:F(K,I("verbosePlaybackInfoDenominator"),0),pda:F(J,"renderTimedText",!0),T5b:F(J,"preBufferTimedText",!0),kPb:F(J,"fatalOnTimedTextLoadError",!0),nkb:F(ia,"timedTextStyleDefaults",{}),gDa:F(ia,"timedTextStyleOverrides",{}),Mea:F(ia,"timedTextFontFamilyMapping",Z.Mea || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),MR:F(K,"timedTextSimpleFallbackThreshold",Z.MR.ja(y.xw)),qP:F(W,I("imscLanguageList"),Z.qP,[]),Faa:F(W,I("lessBoldLanguageList"),Z.Faa,[]),Zpa:F(H,I("customDfxpUrl")),bOb:F(J,I("enableSubtitleTrackerLogging"),!1),C$b:F(J,I("sendSubtitleQoeLogblobOnMidplay"),!1),Goa:F(T,"cdnIdWhiteList",[]),Foa:F(T,"cdnIdBlackList",[]),Xra:F(H,I("forceAudioTrack")),bsa:F(H,I("forceTimedTextTrack")),s0b:F(K,I("maxRetriesTimedTextDownload"),0),vdc:F(K,I("timedTextRetryInterval"),8E3),Zbc:F(H,"storageType","idb",/^(none|fs|idb|ls)$/),N$a:F(K,"lockExpiration",1E4),i_b:F(K,"lockRefresh",3E3),VFb:F(J,"captureUnhandledExceptions",!0),EWb:F(J,"ignoreUnhandledExceptionDuringPlayback",!0),vec:F(J,"unhandledExceptionsArePlaybackErrors",!1),$kb:F(H,"unhandledExceptionSource",""),x6b:F(J,"preserveLastFrame",!1),e1b:F(K,"minBufferingTimeInMilliseconds",4E3),Z6b:F(K,"progressBackwardsGraceTimeMilliseconds",4E3),$6b:F(K,"progressBackwardsMinPercent",10),IEb:F(H,I("bookmarkIgnoreBeginning"),"0",ua),JEb:F(H,I("bookmarkIgnoreEnd"),"5%",ua),KEb:F(H,I("bookmarkIgnoreEndForBranching"),"60000",ua),VP:F(K,"maxParallelConnections",3),CAa:F(J,"reportThroughputInLogblobs",!0),ky:F(K,"minAudioMediaRequestDuration",16E3),c1b:F(K,"minAudioMediaRequestDurationBranching",0),JB:F(K,"minVideoMediaRequestDuration",4E3),n1b:F(K,"minVideoMediaRequestDurationVariableGOP",0),l1b:F(K,"minVideoMediaRequestDurationBranching",0),nba:F(K,"minAudioMediaRequestSizeBytes",0),wba:F(K,"minVideoMediaRequestSizeBytes",0),bNb:F(J,"droppedFrameRateFilterEnabled",!1),cNb:F(K,"droppedFrameRateFilterMaxObservation",60,10,1E3),eNb:F(function(Oa,Ra,Pa,Va,bb,Ab){return P(Oa,Ra,"[",function(tb){tb=tb.split(";");for(var Db=tb.length;Db--;){tb[Db]=tb[Db].split("|");for(var Na=tb[Db].length;Na--;){tb[Db][Na]=(0,p.nk)(tb[Db][Na]);}}return tb;},[function(tb){return (0,t.isArray)(tb) && 0 < tb.length;},function(tb){for(var Db=tb.length;Db-- && void 0 !== tb;){if(!(0,t.isArray)(tb[Db]))return !1;for(var Na=tb[Db].length;Na--;){if(!(0,t.YE)(tb[Db][Na],Pa,Va))return !1;}}return !0;},function(tb){if(void 0 !== bb)for(var Db=tb.length;Db--;){if(bb !== tb[Db].length)return !1;}return !0;},function(tb){return void 0 === Ab || tb.length >= Ab;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),dNb:F(K,"droppedFrameRateFilterMinHeight",384),fNb:F(T,"droppedFramesPercentilesList",[]),Z0b:F(J,"microsoftScreenSizeFilterEnabled",!1),WYb:F(J,"keyStatusFilterEnabled",!1),I7a:F(K,"hdcpEngagementWaitTime",0),rec:F(J,"uiLabelFilterEnabled",!0),qec:F(R,"uiLabelFilter",{}),CLb:F(K,I("defaultVolume"),100,0,100),fxa:F(K,I("maxPlaybackRate"),2,0,16),w3a:F(J,"fastForwardAds",!1),T1a:F(J,"disableVideoRightClickMenu",!1),rba:F(K,"minDecoderBufferMilliseconds",1E3,0,k.rz),qF:F(K,"optimalDecoderBufferMilliseconds",5E3,0,k.rz),Fya:F(K,"optimalDecoderBufferMillisecondsBranching",3E3,0,k.rz),fQ:F(K,"minimumTimeBeforeBranchDecision",3E3,0,k.rz),Cbb:F(K,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,k.rz),CB:F(K,"maxDecoderBufferMilliseconds",Z.CB.ja(z.sa),0,k.rz),r1a:F(K,"decoderTimeoutMilliseconds",1E4,1),icb:F(K,"noRenderTimeoutMilliseconds",0),K4b:F(K,"pauseTimeoutLimitMilliseconds",18E5),Fua:F(K,"inactivityMonitorInterval",3E4,0),xBb:F(T,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),yO:F(J,"enableTrickPlay",!1),FCb:F(T,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),aec:F(K,"trickPlayHighResolutionBitrateThreshold",1E3),bec:F(K,"trickPlayHighResolutionThresholdMilliseconds",1E4),eec:F(O,"trickplayBufferFactor",.5),$dc:F(K,"trickPlayDownloadRetryCount",1),Vwa:F(H,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),POb:F(W,"experimentalFilter",["throughput-wssl"]),Yoa:F(H,"ciPredictorSource","throughput-ci"),kCa:F(H,"simulationDurationStrategy","default"),Oxa:F(H,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),aKa:F(R,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),Gab:F(M,"maxIQRSamples",Infinity),ubb:F(M,"minIQRSamples",5),Vlb:F(J,"useResourceTimingAPI",!1),BWb:F(J,"ignoreFirstByte",!0),pxa:F(J,"mediaRequestAsyncLoadStart",Z.pxa),Efc:F(J,"useXHROnLoadStart",!1),ura:F(T,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),F7:F(K,"connectTimeoutMilliseconds",8E3,500),Vxa:F(K,"noProgressTimeoutMilliseconds",8E3,500),mkb:F(K,"timedTextDownloadRetryCountBeforeCdnSwitch",3),tqc:F(K,"netflixRequestExpiryTimeout",0),zgc:F(J,"webkitDecodedFrameCountIncorrectlyReported",!1),h$b:F(K,"seekBackOnAudioTrackChangeMilliseconds",8E3),Eea:F(W,I("supportedAudioTrackTypes"),[],void 0,1),P$:F(K,"initialLogFlushTimeout",5E3),geb:F(H,"playdataPersistKey",U.UA?"unsentplaydatatest":"unsentplaydata"),Drc:F(J,"sendPersistedPlaydata",!0),r5b:F(K,"playdataPersistIntervalMilliseconds",4E3),Pqc:F(K,"playdataSendDelayMilliseconds",1E4),Erc:F(J,"sendPlaydataBackupOnInit",!0),n_b:F(W,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),nbb:F(J,"midplayEnabled",!0),lba:F(K,"midplayIntervalMilliseconds",3E5),obb:F(T,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),r8:F(K,"downloadReportDenominator",0),QMb:F(K,"downloadReportInterval",3E5),Q$a:F(K,"logConfigApplyDenominator",0),fZa:F(ia,I("bookmarkByMovieId"),{}),dX:F(J,I("forceLimitedDurationLicense"),!1),cF:F(K,I("licenseRenewalRequestDelay"),0),bza:F(K,I("persistedReleaseDelay"),1E4),Gpc:F(J,I("limitedDurationFlagOverride"),void 0),Vgb:F(K,"safariPlayPauseWorkaroundDelay",100),Kgc:F(K,"workaroundValueForSeekIssue",1200),Coa:F(J,I("callEndOfStream"),Z.Coa),W4b:F(J,"performRewindCheck",!0),mPb:F(J,"fatalOnUnexpectedSeeking",!0),lPb:F(J,"fatalOnUnexpectedSeeked",!0),jPb:F(J,"fatalOnManifestMistmatch",!0),Bac:F(J,I("setVideoElementSize")),$Gb:F(J,I("clearVideoSrc"),!0),F1a:F(K,I("delayPlayPause"),0),bu:F(J,I("useTypescriptEme"),!1),Llb:F(J,I("useEncryptedEvent"),!0),EW:F(H,I("drmPersistKey"),"unsentDrmData"),Ueb:F(J,I("promiseBasedEme"),!1),x2b:F(J,I("nudgeSourceBuffer"),!1),nBa:F(M,I("seekDelta"),1),ZZ:F(J,I("preciseSeeking"),!1),V5b:F(J,I("preciseSeekingOnTwoCoreDevice"),!1),E1a:F(ia,I("delayErrorHandling")),El:F(H,"esn",""),z3a:F(H,"fesn",""),XNb:F(J,I("enablePerformanceLogging"),!1),I2a:F(J,I("enableEmeVerboseLogging"),!1),appId:F(H,"appId","",Aa),sessionId:F(H,"sessionId","",Aa),Ioa:F(H,"cdnProxyUrl"),Bfc:F(J,"usePlayReadyHeaderObject",!1),d4a:F(K,"forceXhrErrorResponseCode",void 0),jr:{qqc:F(H,"mslApiPath","/msl/"),Zqc:F(H,"proxyPath",""),Ry:F(H,"uiVersion"),afa:F(H,"uiPlatform"),nnc:function(){return "0";},wza:F(W,"preferredLanguages",k.hHa,/^[a-zA-Z-]{2,5}$/,1),oQb:F(H,I("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),Ecc:F(J,"supportPreviewContentPin",!0),Fcc:F(J,"supportWatermarking",!0),dbc:F(J,"showAllSubDubTracks",!1),uoc:F(J,I("failOnGuidMismatch"),!1)},Yca:{enabled:F(J,"qcEnabled",!1),Wo:F(H,"qcPackageId","")},au:F(J,"useRangeHeader",!1),MW:F(J,"enableMilestoneEventList",!0),hEb:F(ia,"authenticationKeyNames",(0,p.Fe)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),Qcc:F(H,"systemKeyWrapFormat"),Yac:F(J,"shouldSendUserAuthData",!0),ABa:F(J,"sendUserAuthIfRequired",Z.ABa),Sac:F(J,"shouldClearUserData",!1),$R:F(J,"usesMsl",!0),G1b:F(J,"mslDeleteStore",!1),I1b:F(J,"mslPersistStore",!0),YHb:F(J,"correctNetworkForShortTitles",!0),Q5b:F(J,"postplayHighInitBitrate",!1),Kcc:F(J,"supportsUnequalizedDownloadables",!0),l1a:F(K,I("debugAseDenominator"),100),Q6:F(K,"aseAudioBufferSizeBytes",Z.Q6.ja(y.xw)),U6:F(K,"aseVideoBufferSizeBytes",Z.U6.ja(y.xw)),Iv:F(K,"minInitVideoBitrate",560),Bxa:F(K,"minHCInitVideoBitrate",560),EB:F(K,"maxInitVideoBitrate",Infinity),hZ:F(K,"minInitAudioBitrate",0),fZ:F(K,"minHCInitAudioBitrate",0),TY:F(K,"maxInitAudioBitrate",65535),mba:F(K,"minAcceptableVideoBitrate",235),jF:F(K,"minRequiredBuffer",3E4),Dj:F(K,"minPrebufSize",7800),qba:F(K,"minCheckBufferingCompleteInterval",999999),hAa:F(O,"rebufferingFactor",1),Hr:F(K,"maxBufferingTime",2600),YDa:F(J,"useMaxPrebufSize",!0),GB:F(K,"maxPrebufSize",45E3),hxa:F(K,"maxRebufSize",Infinity),M$:F(V,"initialBitrateSelectionCurve",null),w8a:F(K,"initSelectionLowerBound",560),x8a:F(K,"initSelectionUpperBound",1050),C0:F(K,"throughputPercentForAudio",15),Sna:F(K,"bandwidthMargin",10),Tna:F(J,"bandwidthMarginContinuous",!1),Una:F(V,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Bpa:F(K,"conservBandwidthMargin",20),XCa:F(J,"switchConfigBasedOnInSessionTput",!1),ZV:F(K,"conservBandwidthMarginTputThreshold",0),Cpa:F(V,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),Mjb:F(J,"switchAlgoBasedOnHistIQR",!1),RF:F(H,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),gxa:F(M,"maxPlayerStateToSwitchConfig",-1),Hwa:F(H,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),Cha:F(O,"IQRThreshold",.5),sua:F(H,"histIQRCalcToUse","simple"),Ev:F(K,"maxTotalBufferLevelPerSession",0),JW:F(J,"enableCombinedPlaygraphs",!0),tI:F(J,"enableAdPlaygraphs",!0),Ada:F(J,"retainSbrOnFade",!1),nra:F(W,"excludedContentPlaygraphIds",[]),y8:F(J,"enableDiscontiguousBuffering",!1),Zra:F(T,"forceImmediateTransitionTypeForTitles",[]),Yra:F(K,"forceImmediateTransitionExitZone",0),ifa:F(J,"useBufferSizeLimiter",!1),XDa:F(J,"useLegacyFragmentRounding",!1),Q7a:F(K,"highWatermarkLevel",3E4),vkb:F(K,"toStableThreshold",3E4),Qea:F(K,"toUnstableThreshold",Z.Qea.ja(z.sa)),mCa:F(J,"skipBitrateInUpswitch",!1),nEa:F(K,"watermarkLevelForSkipStart",8E3),x$:F(K,"highStreamRetentionWindow",9E4),Oaa:F(K,"lowStreamTransitionWindow",51E4),oua:F(K,"highStreamRetentionWindowUp",3E5),Jwa:F(K,"lowStreamTransitionWindowUp",3E5),nua:F(K,"highStreamRetentionWindowDown",6E5),Iwa:F(K,"lowStreamTransitionWindowDown",0),mua:F(O,"highStreamInfeasibleBitrateFactor",.5),zB:F(K,"lowestBufForUpswitch",15E3),Jaa:F(K,"lockPeriodAfterDownswitch",15E3),Lwa:F(K,"lowWatermarkLevel",25E3),by:F(K,"lowestWaterMarkLevel",2E4),Mwa:F(J,"lowestWaterMarkLevelBufferRelaxed",!1),hba:F(O,"mediaRate",1),aba:F(K,"maxTrailingBufferLen",1E4),uV:F(K,"audioBufferTargetAvailableSize",262144),$0:F(K,"videoBufferTargetAvailableSize",1048576),Vab:F(K,"maxVideoTrailingBufferSize",8388608),yab:F(K,"maxAudioTrailingBufferSize",393216),P8:F(O,"fastUpswitchFactor",3),vra:F(O,"fastDownswitchFactor",1),Dv:F(K,"maxMediaBufferAllowed",24E4),jCa:F(J,"simulatePartialBlocks",!0),Aib:F(J,"simulateBufferFull",!0),Dpa:F(J,"considerConnectTime",!1),Apa:F(O,"connectTimeMultiplier",1),X$a:F(K,"lowGradeModeEnterThreshold",12E4),Y$a:F(K,"lowGradeModeExitThreshold",9E4),Bab:F(K,"maxDomainFailureWaitDuration",3E4),xab:F(K,"maxAttemptsOnFailure",18),n3a:F(J,"exhaustAllLocationsForFailure",!0),Jab:F(K,"maxNetworkErrorsDuringBuffering",20),Taa:F(K,"maxBufferingTimeAllowedWithNetworkError",12E4),v3a:F(K,"fastDomainSelectionBwThreshold",2E3),$jb:F(K,"throughputProbingEnterThreshold",4E4),akb:F(K,"throughputProbingExitThreshold",34E3),L$a:F(K,"locationProbingTimeout",1E4),C3a:F(K,"finalLocationSelectionBwThreshold",1E4),Yjb:F(O,"throughputHighConfidenceLevel",.75),Zjb:F(O,"throughputLowConfidenceLevel",.4),Q2a:F(J,"enablePerfBasedLocationSwitch",!1),Uv:F(J,"probeServerWhenError",!0),Hza:F(K,"probeRequestTimeoutMilliseconds",8E3),mA:F(J,"allowSwitchback",!0),MQ:F(K,"probeDetailDenominator",100),Uaa:F(K,"maxDelayToReportFailure",300),twa:F(K,"locationStatisticsUpdateInterval",6E4),p0a:F(J,"countGapInBuffer",!1),SXa:F(J,"allowCallToStreamSelector",!0),oZa:F(K,"bufferThresholdForAbort",1E4),r0b:F(K,"maxResponsesInitialTput",6),L2a:F(J,"enableInitialTputLogging",!1),dza:F(K,"pipelineScheduleTimeoutMs",2),FB:F(K,"maxPartialBuffersAtBufferingStart",2),ixa:F(K,"maxStreamingSkew",4E3),exa:F(K,"maxPendingBufferPercentage",10),u$:F(K,"headerRequestSize",4096),cra:F(J,"estimateHeaderSize",!1),eZ:F(K,"minBufferLenForHeaderDownloading",1E4),G_:F(K,"reserveForSkipbackBufferMs",1E4),gya:F(K,"numExtraFragmentsAllowed",2),Hj:F(J,"pipelineEnabled",!1),Kib:F(K,"socketReceiveBufferSize",0),a7:F(K,"audioSocketReceiveBufferSize",32768),dS:F(K,"videoSocketReceiveBufferSize",65536),kua:F(K,"headersSocketReceiveBufferSize",32768),gfa:F(K,"updatePtsIntervalMs",1E3),foa:F(K,"bufferTraceDenominator",100),KV:F(K,"bufferLevelNotifyIntervalMs",2E3),yN:F(K,"aseReportDenominator",0),S6:F(K,"aseReportIntervalMs",3E5),zNb:F(J,"enableAbortTesting",!1),vBb:F(K,"abortRequestFrequency",8),LCa:F(K,"streamingStatusIntervalMs",2E3),XB:F(K,"prebufferTimeLimit",24E4),pba:F(K,"minBufferLevelForTrackSwitch",2E3),Wya:F(K,"penaltyFactorForLongConnectTime",2),Fwa:F(K,"longConnectTimeThreshold",200),ina:F(K,"additionalBufferingLongConnectTime",2E3),jna:F(K,"additionalBufferingPerFailure",8E3),p_:F(K,"rebufferCheckDuration",6E4),N2a:F(J,"enableLookaheadHints",!1),U$a:F(K,"lookaheadFragments",2),rE:F(J,"enableOCSideChannel",!0),H3:F(R,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),llb:F(J,"updateDrmRequestOnNetworkFailure",!1),D1a:F(J,"deferAseScheduling",!1),Aab:F(K,"maxDiffAudioVideoEndPtsMs",16E3),c8:F(K,"defaultHeaderCacheSize",4),b8:F(K,"defaultHeaderCacheDataPrefetchMs",8E3),Iba:F(J,"neverWipeHeaderCache",!0),Nxa:F(K,"networkFailureResetWaitMs",2E3),Mxa:F(K,"networkFailureAbandonMs",6E4),$aa:F(K,"maxThrottledNetworkFailures",3),Iea:F(K,"throttledNetworkFailureThresholdMs",200),Kwa:F(M,"lowThroughputThreshold",400),mra:F(J,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),Kbb:F(J,"mp4ParsingInNative",!1),Mib:F(J,"sourceBufferInOrderAppend",!0),jK:F(J,"requireAudioStreamToEncompassVideo",!0),RXa:F(J,"allowAudioToStreamPastVideo",!0),Zi:F(J,"enableManagerDebugTraces",!1),jab:F(K,"managerDebugMessageInterval",1E3),iab:F(K,"managerDebugMessageCount",20),wcb:F(J,"notifyManifestCacheEom",!1),eoa:F(K,"bufferThresholdToSwitchToSingleConnMs",18E4),doa:F(K,"bufferThresholdToSwitchToParallelConnMs",12E4),vca:F(K,"periodicHistoryPersistMs",3E5),Mda:F(K,"saveVideoBitrateMs",18E4),gYa:F(J,"appendMediaRequestOnComplete",!0),wfa:F(J,"waitForDrmToAppendMedia",!1),e9:F(J,I("forceAppendHeadersAfterDrm"),!1),nQb:F(J,I("forceAppendEncryptedStreamHeaderFirst"),!0),B7b:F(J,I("reappendRequestsOnSkip"),!1),M1b:F(K,"netIntrStoreWindow",36E3),h1b:F(K,"minNetIntrDuration",8E3),ePb:F(K,"fastHistoricBandwidthExpirationTime",10368E3),qEb:F(K,"bandwidthExpirationTime",5184E3),cPb:F(K,"failureExpirationTime",86400),bWb:F(K,"historyTimeOfDayGranularity",4),OOb:F(J,"expandDownloadTime",!1),u1b:F(K,"minimumMeasurementTime",500),t1b:F(K,"minimumMeasurementBytes",131072),kdc:F(K,"throughputMeasurementTimeout",2E3),gXb:F(K,"initThroughputMeasureDataSize",262144),ldc:F(H,"throughputPredictor","ewma"),jdc:F(K,"throughputMeasureWindow",5E3),pdc:F(K,"throughputWarmupTime",5E3),idc:F(K,"throughputIQRMeasureWindow",5E3),Srb:F(K,"IQRBucketizerWindow",15E3),EHb:F(K,"connectTimeHalflife",10),v9b:F(K,"responseTimeHalflife",10),aWb:F(K,"historicBandwidthUpdateInterval",2E3),s1b:F(K,"minimumBufferToStopProbing",1E4),mBa:F(H,"secondThroughputEstimator","none"),fhb:F(M,"secondThroughputMeasureWindowInMs",Infinity),INb:F(W,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),yPb:F(R,"filterDefinitionOverrides",{}),wLb:F(H,"defaultFilter","throughput-ewma"),g$b:F(H,"secondaryFilter","none"),xLb:F(R,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),mZ:F(J,"needMinimumNetworkConfidence",!0),Xna:F(J,"biasTowardHistoricalThroughput",!0),Xma:F(J,"addHeaderDataToNetworkMonitor",!1),uCa:F(J,"startMonitorOnLoadStart",!1),BAa:F(J,"reportFailedRequestsToNetworkMonitor",!1),Vaa:F(M,"maxFastPlayBufferInMs",Infinity),bxa:F(M,"maxFastPlayBitThreshold",Infinity),tna:F(J,"appendFirstHeaderOnComplete",!0),tDb:F(H,"ase_stream_selector","optimized"),Rua:F(H,"initBitrateSelectorAlgorithm","default"),koa:F(H,"bufferingSelectorAlgorithm","default"),m1a:F(H,"ase_ls_failure_simulation",""),cqa:F(J,"ase_dump_fragments",!1),dqa:F(K,"ase_location_history",0),n1a:F(K,"ase_throughput",0),p1a:F(J,"ase_simulate_verbose",!1),L5b:F(K,"pollingPeriod",150),b_b:F(K,"loadTimeMs",18E4),U_b:F(K,"marginTimeMs",1E4),Esa:F(J,"getDeviceIdFromBindDevice",!1),Wma:F(J,"addFailedLogBlobsToQueue",!0),sec:{"content-sampling":{Hr:F(K,"contentSamplingMaxBufferingTime",3E3),jR:F(H,"contentSamplingSelectStartingVMAFMethod","fallback"),iV:F(J,"contentSamplingActivateSelectStartingVMAF",!0),Jv:F(K,"contentSamplingMinStartingVideoVMAF",80),dZ:F(K,"contentSamplingMinAcceptableVMAF",70),zJ:F(K,"contentSamplingMinAllowedVmaf",60)},billboard:{Iv:F(K,"billboardMinInitVideoBitrate",1050),EB:F(K,"billboardMaxInitVideoBitrate",null),Dj:F(K,"billboardMinPrebufSize",null),GB:F(K,"billboardMaxPrebufSize",null),Hr:F(K,"billboardMaxBufferingTime",null),FB:F(K,"billboardMaxPartialBuffersAtBufferingStart",null),by:F(K,"billboardLowestWaterMarkLevel",6E3),zB:F(K,"billboardLowestBufForUpswitch",25E3),RF:F(H,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Iv:F(K,"preplayMinInitVideoBitrate",1050),EB:F(K,"preplayMaxInitVideoBitrate",null),Dj:F(K,"preplayMinPrebufSize",null),GB:F(K,"preplayMaxPrebufSize",null),Hr:F(K,"preplayMaxBufferingTime",null),FB:F(K,"preplayMaxPartialBuffersAtBufferingStart",null),by:F(K,"preplayLowestWaterMarkLevel",6E3),zB:F(K,"preplayLowestBufForUpswitch",25E3)},embedded:{Iv:F(K,"embeddedMinInitVideoBitrate",1050),EB:F(K,"embeddedMaxInitVideoBitrate",null),Dj:F(K,"embeddedMinPrebufSize",null),GB:F(K,"embeddedMaxPrebufSize",null),Hr:F(K,"embeddedMaxBufferingTime",null),FB:F(K,"embeddedMaxPartialBuffersAtBufferingStart",null),by:F(K,"embeddedLowestWaterMarkLevel",6E3),zB:F(K,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Iv:F(K,"videoMerchBobHorizontalMinInitVideoBitrate",null),EB:F(K,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Dj:F(K,"videoMerchBobHorizontalMinPrebufSize",null),GB:F(K,"videoMerchBobHorizontalMaxPrebufSize",null),Hr:F(K,"videoMerchBobHorizontalMaxBufferingTime",null),FB:F(K,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),by:F(K,"videoMerchBobHorizontalLowestWaterMarkLevel",null),zB:F(K,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{Iv:F(K,"miniModalHorizontalMinInitVideoBitrate",null),EB:F(K,"miniModalHorizontalMaxInitVideoBitrate",null),Dj:F(K,"miniModalHorizontalMinPrebufSize",null),GB:F(K,"miniModalHorizontalMaxPrebufSize",null),Hr:F(K,"miniModalHorizontalMaxBufferingTime",500),FB:F(K,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),by:F(K,"miniModalHorizontalLowestWaterMarkLevel",null),zB:F(K,"miniModalHorizontalLowestBufForUpswitch",null)},live:{Dj:F(K,"liveMinPrebufSize",2E3),GB:F(K,"liveMaxPrebufSize",4E3),Hr:F(K,"liveMaxBufferingTime",500)}},fOb:F(J,"enableVerbosePlaydelayLogging",!1),$Nb:F(J,"enableSeamless",!1),rua:F(K,"hindsightDenominator",0),qua:F(K,"hindsightDebugDenominator",0),z$:F(R,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),NW:F(J,"enableSessionHistoryReport",!1),Mqa:F(K,"earlyStageEstimatePeriod",1E4),p$a:F(K,"lateStageEstimatePeriod",3E4),Yaa:F(K,"maxNumSessionHistoryStored",30),vba:F(K,"minSessionHistoryDuration",3E4),gy:F(K,"maxActiveRequestsPerSession",3),Raa:F(K,"maxActiveRequestsSABCell100",2),nwa:F(J,"limitAudioDiscountByMaxAudioBitrate",!0),pe:F(R,"browserInfo",{}),eFb:F(K,I("busyGracePeriod"),199),D$b:F(J,I("sendTransitionLogblob"),!0),oNb:F(J,I("editVideoFragments"),!0),v8:F(J,I("earlyAppendSingleChildBranch"),!0),NWb:F(J,I("includeSegmentInfoOnLogblobs"),!0),UOb:F(J,"exposeTestData",!1),TOb:F(J,I("exposeErrorData"),!1),eqa:F(J,"declareBufferingCompleteAtSegmentEnd",!0),MH:F(J,I("applyProfileTimestampOffset"),!1),jm:F(J,I("applyProfileStreamingOffset"),!1),aZ:F(J,I("mediaSourceSupportsNegativePts"),!1),VCb:F(J,I("allowSmallSeekDelta"),!1),ubc:F(K,I("smallSeekDeltaThresholdMilliseconds"),v.f4),ENb:F(J,"enableCDMAttestedDescriptors",!1),tda:F(J,"requireDownloadDataAtBuffering",!1),uda:F(J,"requireSetupConnectionDuringBuffering",!1),jAa:F(J,"recordFirstFragmentOnSubBranchCreate",!1),QEb:F(J,"branchingAudioTrackFrameDropSmallSeekFix",!0),Plb:F(J,"useMobileVMAF",!1),M1a:F(H,"desiredVMAFTypeMobile","phone_plus_lts"),N1a:F(H,"desiredVMAFTypeNonMobile","plus_lts"),iV:F(J,"activateSelectStartingVMAF",!1),Jv:F(K,"minStartingVideoVMAF",1),dZ:F(K,"minAcceptableVMAF",1),zJ:F(K,"minAllowedVmaf",1),YCb:F(J,"alwaysNotifyEOSForPlaygraph",!0),A8:F(J,"enableNewAse",!0),kfa:F(J,"useNewApi",!0),Saa:F(K,"maxAllowedOutstandingRequests",4),tN:F(J,"alwaysRunUnderflowTimer",!0),Cxa:F(K,"minStreamableConcurrencyWindow",3E3),ICa:F(O,"streamableConcurrencyFactor",.3),MV:F(K,"bufferingConcurrencyWindow",7800),nbc:F(J,"singleStreamablePerBranch",!0),B8:F(J,"enableResolutionVMAFStreamFilter",!1),zda:F(R,"resolutionVMAFCappingRuleList",{}),Zya:F(M,"percentCapTitlesForResolutionVMAFStreamFilter",100),vMb:F(J,"disableSkipping",!1),jfa:F(J,"useHLSPlayer",Z.jfa),VDa:F(J,I("useExitZones"),!0),d9b:F(J,"requestSegmentVmaf",!1),BQ:F(R,"perFragmentVMAFConfig",{enabled:!1}),Kya:F(K,"paddingDurationMs",1E3),Lya:F(H,"paddingMediaType","padding"),WCa:F(J,"supportsPtsChanged",!1),TZb:F(M,"liveEdgeThreshold",1E4)};Fa=!0;b.ypa=function(Oa){var Ra,Pa,Va;Ra=f.Ea.get(B.cd).id;if(0 < b.config.Q$a && 0 === Ra % b.config.Q$a)try{Pa=f.Ea.get(w.ao);Va=f.Ea.get(u.qz).Qu("config","info",{params:Oa});Pa.Jc(Va);}catch(bb){f.log.error("Failed to log config$apply",bb);}mb._cad_global.config=b.config;(0,l.Ka)(Oa);Oa && (Ha=(0,p.Fe)({},Oa,{PY:!0}),(0,p.Fe)(Ha,Q,{PY:!0}),G(qa,b.config),Ha.istestaccount && f.log.trace("Config applied for",ra(Fa?Ha:Oa)),Fa=!1);};(0,b.ypa)(Ha);};b.zpa=function(D){D=c(D);return (0,p.Fe)({},a(178)(D),{gca:!0});};b.X_a=function(D,E,G){G=! !G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));D={ky:D?b.config.c1b:b.config.ky,JB:D?b.config.l1b:G?b.config.n1b:b.config.JB,v8:!E};return (0,p.Fe)({},a(178)(D),{gca:!0});};b.CHb=c;b.BHb=g;},function(r,b,a){var g;function c(k,m){return k && m?Math.abs(k * m / (0,g.BE)(k,m)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.M=void 0;g=a(402);r=(function(){function k(m,f){"object" === typeof m?(this.zc=m.Ca,this.sb=m.W):(this.zc=m,this.sb=f);isFinite(this.zc) || (this.sb=1);}k.compare=function(m,f){return m.lm(f);};k.abs=function(m){return new k(Math.abs(m.zc),m.sb);};k.Ja=function(m){return 0 === m?k.Ha:new k(m,1E3);};k.Pea=function(m,f){return Math.floor(1E3 * m / f);};k.Mbb=function(m,f){return Math.floor(m * f / 1E3);};k.max=function(){for(var m=[],f=0;f < arguments.length;f++){m[f]=arguments[f];}return m.reduce(function(d,l){return d.greaterThan(l)?d:l;});};k.min=function(){for(var m=[],f=0;f < arguments.length;f++){m[f]=arguments[f];}return m.reduce(function(d,l){return d.lessThan(l)?d:l;});};k.BE=function(m,f){var d;if(m.sb === f.sb)return new k((0,g.BE)(m.zc,f.zc),m.sb);d=c(m.sb,f.sb);return new k((0,g.BE)(m.zc * d / m.sb,f.zc * d / f.sb),d);};Object.defineProperties(k.prototype,{Ca:{get:function(){return this.zc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{W:{get:function(){return this.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Z:{get:function(){return k.Pea(this.zc,this.sb);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{XJ:{get:function(){return 1E3 * this.zc / this.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{oK:{get:function(){var m;m=this.XJ;return 0 > m?Math.ceil(m):Math.floor(m);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Hh:{get:function(){return this.zc / this.sb;},enumerable:!1,configurable:!0}});k.prototype.ng=function(m){m/=this.sb;return new k(Math.floor(this.zc * m),Math.floor(this.sb * m));};k.prototype.add=function(m){var f;if(this.sb === m.sb)return new k(this.zc + m.zc,this.sb);f=c(this.sb,m.sb);return new k(this.zc * f / this.sb + m.zc * f / m.sb,f);};k.prototype.Da=function(m){var f;if(this.sb === m.sb)return new k(this.zc - m.zc,this.sb);f=c(this.sb,m.sb);return new k(this.zc * f / this.sb - m.zc * f / m.sb,f);};k.prototype.MB=function(m){return new k(this.zc * m,this.sb);};k.prototype.bk=function(m){var f;if("number" === typeof m){if(Math.floor(m) === m){f=c(this.zc,m);if(f !== this.zc)return this.ng(f / this.zc * this.sb).bk(m);}return new k(Math.floor(this.zc / m),this.sb);}if(this.sb === m.sb)return this.zc / m.zc;f=c(this.sb,m.sb);return this.zc * f / this.sb / (m.zc * f / m.sb);};k.prototype.lO=function(m){var f;if(this.sb === m.sb)return new k(Math.abs(this.zc - m.zc),this.sb);f=c(this.sb,m.sb);return new k(Math.abs(this.zc * f / this.sb - m.zc * f / m.sb),f);};k.prototype.Jfb=function(){return new k(this.sb,this.zc);};k.prototype.compare=function(m,f){var d;if(this.sb === f.sb)return m(this.zc,f.zc);d=c(this.sb,f.sb);return m(this.zc * d / this.sb,f.zc * d / f.sb);};k.prototype.lm=function(m){var f;if(this.sb === m.sb)return this.Ca === m.zc?0:this.zc - m.zc;f=c(this.sb,m.sb);return this.zc * f / this.sb - m.zc * f / m.sb;};k.prototype.equal=function(m){return this.compare(function(f,d){return f === d;},m);};k.prototype.Zxa=function(m){return this.compare(function(f,d){return f !== d;},m);};k.prototype.lessThan=function(m){return this.compare(function(f,d){return f < d;},m);};k.prototype.greaterThan=function(m){return this.compare(function(f,d){return f > d;},m);};k.prototype.bF=function(m){return this.compare(function(f,d){return f <= d;},m);};k.prototype.zi=function(m){return this.compare(function(f,d){return f >= d;},m);};k.prototype.isFinite=function(){return ! !this.sb && isFinite(this.zc);};k.prototype.$6a=function(m){return c(this.W,m);};k.prototype.toJSON=function(){return {ticks:this.zc,timescale:this.sb};};k.prototype.toString=function(){return ("").concat(this.zc,"/").concat(this.sb);};k.prototype.Mb=function(){return ("").concat(this.zc,"/").concat(this.sb," (").concat(this.Z,"ms)");};k.Ha=new k(0,1E3);k.QB=new k(1,1E3);k.vv=new k(Infinity,1);return k;})();b.M=r;},function(r,b,a){function c(){c=Object.assign || (function(F){for(var I,L=1,M=arguments.length;L < M;L++){I=arguments[L];for(var K in I){Object.prototype.hasOwnProperty.call(I,K) && (F[K]=I[K]);}}return F;});return c.apply(this,arguments);}function g(F,I){g=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(L,M){L.__proto__=M;}) || (function(L,M){for(var K in M){M.hasOwnProperty(K) && (L[K]=M[K]);}});return g(F,I);}function k(F,I){function L(){this.constructor=F;}g(F,I);F.prototype=null === I?Object.create(I):(L.prototype=I.prototype,new L());}function m(F,I){var L,M,K;L={};for(M in F){Object.prototype.hasOwnProperty.call(F,M) && 0 > I.indexOf(M) && (L[M]=F[M]);}if(null != F && "function" === typeof Object.getOwnPropertySymbols){K=0;for(M=Object.getOwnPropertySymbols(F);K < M.length;K++){0 > I.indexOf(M[K]) && Object.prototype.propertyIsEnumerable.call(F,M[K]) && (L[M[K]]=F[M[K]]);}}return L;}function f(F,I,L,M){var K,O,H;K=arguments.length;O=3 > K?I:null === M?M=Object.getOwnPropertyDescriptor(I,L):M;if("object" === typeof Reflect && "function" === typeof Reflect.Rp)O=Reflect.Rp(F,I,L,M);else for(var J=F.length - 1;0 <= J;J--){if(H=F[J])O=(3 > K?H(O):3 < K?H(I,L,O):H(I,L)) || O;}return (3 < K && O && Object.defineProperty(I,L,O),O);}function d(F,I){return function(L,M){I(L,M,F);};}function l(F,I){if("object" === typeof Reflect && "function" === typeof Reflect.Hc)return Reflect.Hc(F,I);}function n(F,I,L,M){function K(O){return O instanceof L?O:new L(function(H){H(O);});}return new (L || (L=Promise))(function(O,H){function J(T){try{P(M.next(T));}catch(V){H(V);}}function R(T){try{P(M["throw"](T));}catch(V){H(V);}}function P(T){T.done?O(T.value):K(T.value).then(J,R);}P((M=M.apply(F,I || [])).next());});}function h(F,I){var K,O,H,J,R;function L(P){return function(T){return M([P,T]);};}function M(P){if(O)throw new TypeError("Generator is already executing.");for(;K;){try{if((O=1,H && (J=P[0] & 2?H["return"]:P[0]?H["throw"] || ((J=H["return"]) && J.call(H),0):H.next) && !(J=J.call(H,P[1])).done))return J;if((H=0,J))P=[P[0] & 2,J.value];switch(P[0]){case 0:case 1:J=P;break;case 4:return (K.label++,{value:P[1],done:!1});case 5:K.label++;H=P[1];P=[0];continue;case 7:P=K.$k.pop();K.Kh.pop();continue;default:if(!(J=K.Kh,J=0 < J.length && J[J.length - 1]) && (6 === P[0] || 2 === P[0])){K=0;continue;}if(3 === P[0] && (!J || P[1] > J[0] && P[1] < J[3]))K.label=P[1];else if(6 === P[0] && K.label < J[1])(K.label=J[1],J=P);else if(J && K.label < J[2])(K.label=J[2],K.$k.push(P));else {J[2] && K.$k.pop();K.Kh.pop();continue;}}P=I.call(F,K);}catch(T){P=[6,T];H=0;}finally{O=J=0;}}if(P[0] & 5)throw P[1];return {value:P[0]?P[1]:void 0,done:!0};}K={label:0,kb:function(){if(J[0] & 1)throw J[1];return J[1];},Kh:[],$k:[]};return (R={next:L(0),"throw":L(1),"return":L(2)},"function" === typeof Symbol && (R[Symbol.iterator]=function(){return this;}),R);}function p(F,I,L,M){void 0 === M && (M=L);F[M]=I[L];}function q(F,I){for(var L in F){"default" === L || I.hasOwnProperty(L) || (I[L]=F[L]);}}function t(F){var I,L,M;I="function" === typeof Symbol && Symbol.iterator;L=I && F[I];M=0;if(L)return L.call(F);if(F && "number" === typeof F.length)return {next:function(){F && M >= F.length && (F=void 0);return {value:F && F[M++],done:!F};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function v(F,I){var L,M,K;L="function" === typeof Symbol && F[Symbol.iterator];if(!L)return F;F=L.call(F);K=[];try{for(;(void 0 === I || 0 < I--) && !(M=F.next()).done;){K.push(M.value);}}catch(H){var O;O={error:H};}finally{try{M && !M.done && (L=F["return"]) && L.call(F);}finally{if(O)throw O.error;}}return K;}function w(){for(var F=[],I=0;I < arguments.length;I++){F=F.concat(v(arguments[I]));}return F;}function u(){var M;for(var F=0,I=0,L=arguments.length;I < L;I++){F+=arguments[I].length;}F=Array(F);M=0;for(I=0;I < L;I++){for(var K=arguments[I],O=0,H=K.length;O < H;(O++,M++)){F[M]=K[O];}}return F;}function x(F){return this instanceof x?(this.Ty=F,this):new x(F);}function y(F,I,L){var R,P,T;function M(V){R[V] && (P[V]=function(S){return new Promise(function(W,ia){1 < T.push([V,S,W,ia]) || K(V,S);});});}function K(V,S){var W;try{W=R[V](S);W.value instanceof x?Promise.resolve(W.value.Ty).then(O,H):J(T[0][2],W);}catch(ia){J(T[0][3],ia);}}function O(V){K("next",V);}function H(V){K("throw",V);}function J(V,S){(V(S),T.shift(),T.length) && K(T[0][0],T[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");R=L.apply(F,I || []);T=[];return (P={},M("next"),M("throw"),M("return"),P[Symbol.asyncIterator]=function(){return this;},P);}function z(F){var L,M;function I(K,O){L[K]=F[K]?function(H){return (M=!M)?{value:x(F[K](H)),done:"return" === K}:O?O(H):H;}:O;}return (L={},I("next"),I("throw",function(K){throw K;}),I("return"),L[Symbol.iterator]=function(){return this;},L);}function A(F){var M,K;function I(O){K[O]=F[O] && (function(H){return new Promise(function(J,R){H=F[O](H);L(J,R,H.done,H.value);});});}function L(O,H,J,R){Promise.resolve(R).then(function(P){O({value:P,done:J});},H);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");M=F[Symbol.asyncIterator];return M?M.call(F):(F="function" === typeof t?t(F):F[Symbol.iterator](),K={},I("next"),I("throw"),I("return"),K[Symbol.asyncIterator]=function(){return this;},K);}function B(F,I){Object.defineProperty?Object.defineProperty(F,"raw",{value:I}):F.raw=I;return F;}function C(F){var I;if(F && F.__esModule)return F;I={};if(null != F)for(var L in F){Object.hasOwnProperty.call(F,L) && (I[L]=F[L]);}I.default=F;return I;}function D(F){return F && F.__esModule?F:{default:F};}function E(F,I){if(!I.has(F))throw new TypeError("attempted to get private field on non-instance");return I.get(F);}function G(F,I,L){if(!I.has(F))throw new TypeError("attempted to set private field on non-instance");I.set(F,L);return L;}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return f;});a.d(b,"__param",function(){return d;});a.d(b,"__metadata",function(){return l;});a.d(b,"__awaiter",function(){return n;});a.d(b,"__generator",function(){return h;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return t;});a.d(b,"__read",function(){return v;});a.d(b,"__spread",function(){return w;});a.d(b,"__spreadArrays",function(){return u;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return E;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(r,b,a){var g;function c(k){return k.filter(function(m,f){return k.indexOf(m) === f;});}Object.defineProperties(b,{__esModule:{value:!0}});b.Oba=b.cVb=b.ZHb=b.flatten=b.sbb=b.qHb=b.P6=b.Gu=b.rYa=b.sV=b.O6=b.Kp=b.Ana=b.$c=void 0;g=a(0);b.$c=function(k,m){for(var f=0;f < k.length;f++){if(m(k[f],f,k))return k[f];}};b.Ana=function(k,m){for(var f=k.length - 1;0 <= f;--f){if(m(k[f],f,k))return k[f];}};b.Kp=function(k,m){var f;f=-1;return k.some(function(d,l,n){f=l;return m(d,l,n);})?f:-1;};b.O6=function(k,m){for(var f=k.length - 1;0 <= f;f--){if(m(k[f],f,k))return f;}return -1;};b.sV=c;b.rYa=function(k,m){m=k.indexOf(m);if(-1 === m)return !1;k.splice(m,1);return !0;};b.Gu=function(k,m,f){return f?k.filter(function(d){return !m.some(function(l){return f(d,l);});}):k.filter(function(d){return -1 === m.indexOf(d);});};b.P6=function(k,m){return c(k.concat(m));};b.qHb=function(k){return function(m,f){return k(m) - k(f);};};b.sbb=function(k){return function(m,f){return k(m) < k(f)?m:f;};};b.flatten=function(k){var m;return (m=[]).concat.apply(m,g.__spreadArray([],g.__read(k),!1));};b.ZHb=function(k,m){void 0 === m && (m=function(f){return f;});return k.reduce(function(f,d){d=m(d);return (void 0 === f[d]?f[d]=1:++f[d],f);},{});};b.cVb=function(k,m){return k.reduce(function(f,d){var l;l=m(d);return (void 0 === f[l]?f[l]=[d]:f[l].push(d),f);},{});};b.Oba=function(k){return null !== k && void 0 !== k;};},function(r,b,a){var k,m,f;function c(){f || (f=k.Ea.get(m.gz));return f;}function g(d,l){return c().assert(d,l);}Object.defineProperty(b,"__esModule",{value:!0});b.fLb=b.bqa=b.ZKb=b.cLb=b.fO=b.lW=b.bLb=b.dLb=b.mW=b.k1a=b.aLb=b.$Kb=b.Ka=b.eLb=b.Inb=void 0;k=a(9);m=a(111);b.Inb=function(){g(!1);};b.eLb=!0;f=void 0;b.Ka=g;b.$Kb=function(d,l){return c().xDb(d,l);};b.aLb=function(d,l){return c().yDb(d,l);};b.k1a=function(d,l){return c().V6(d,l);};b.mW=function(d,l){return c().EDb(d,l);};b.dLb=function(d,l){return c().CDb(d,l);};b.bLb=function(d,l){return c().Dna(d,l);};b.lW=function(d,l){return c().ADb(d,l);};b.fO=function(d,l){return c().DDb(d,l);};b.cLb=function(d,l){return c().BDb(d,l);};b.ZKb=function(d,l){return c().wDb(d,l);};b.bqa=function(d,l){return c().zDb(d,l);};b.fLb=function(){return c().BXb();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(102);b.N=!1;r=(function(){function g(k,m,f,d,l){this.Wb=k;this.type=m;this.byteOffset=f;this.byteLength=d;this.parent=l;this.oe={};this.NJ=d;}g.VA=function(k,m){var d,n;function f(h){h && h.VA && (h=h.VA(m),h.length && (d=d.concat(h)));}d=[];k.type === m && d.push(k);if(k.oe)for(var l in k.oe){n=k.oe[l];Array.isArray(n) && n.forEach(f);}return d;};g.kV=function(k,m){void 0 === k.oe[m.type] && (k.oe[m.type]=[]);k.oe[m.type].push(m);};g.Kx=function(k,m){return g.VA(k,m)[0];};Object.defineProperties(g.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{O:{get:function(){return this.Wb;},enumerable:!0,configurable:!0}});g.prototype.Gh=function(){var k;k=this.Wb.ic();this.version=k >> 24;this.flags=k & 16777215;};g.prototype.kV=function(k){g.kV(this,k);};g.prototype.VA=function(k){return g.VA(this,k);};g.prototype.Kx=function(k){return g.Kx(this,k);};g.prototype.parse=function(){return !0;};g.prototype.yI=function(){return !0;};g.prototype.tq=function(k){if((k=this.oe[k]) && Array.isArray(k) && 1 === k.length)return k[0];};g.prototype.Jn=function(k,m){m=void 0 === m?this.Wb.offset:m;c.assert(m >= this.startOffset + 8 && m + k <= this.startOffset + this.NJ,"Removal range [0x" + m.toString(16) + "-0x" + (m + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.NJ).toString(16) + ")");this.Wb.Jn(k,m,this);};g.prototype.qda=function(k,m,f){f=void 0 === f?this.Wb.offset:f;c.assert(f >= this.startOffset + 8 && f + k <= this.startOffset + this.NJ,"Removal range [0x" + f.toString(16) + "-0x" + (f + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.NJ).toString(16) + ")");this.Wb.qda(k,m,f,this);};g.prototype.xfb=function(k,m,f){if(1 < f){for(var d=[];0 < f--;){d.push(this.mWa(k,m));}return d;}return this.mWa(k,m);};g.prototype.Ey=function(k){var m,f;f=this;void 0 === m && (m={});k.forEach(function(d){var l,n;if("offset" === d.type){l=d.offset;if(0 < l % 8)throw Error("Requested offset " + d.offset + "is not an even byte multiple");f.Wb.offset+=l / 8;}else for(l in d){n=d[l];m[l]="string" === typeof n?f.xfb(n):f.xfb(n.type,n.length,n.mDb);}});return m;};g.prototype.mWa=function(k,m){var f;f=this.byteLength - this.Wb.offset + this.startOffset;"undefined" === typeof m && (m=f);switch(k){case "int8":k=this.Wb.Gd();break;case "int64":k=this.Wb.Sl();break;case "int32":k=this.Wb.ic();break;case "int16":k=this.Wb.rh();break;case "string":k=this.Wb.s7b(Math.min(m,f));break;default:throw Error("Invalid type: " + k);}return k;};g.ud=!1;return g;})();b.og=r;},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.UHb=b.e4a=b.tn=b.Ag=b.jHb=b.cf=b.cy=b.trim=b.uua=b.vjb=b.ifb=b.u4b=b.nk=b.sYa=b.OZa=b.Fe=b.ph=void 0;c=a(23);g=a(13);k=a(15);b.ph=function(m,f){for(var d in m){m.hasOwnProperty(d) && f(d,m[d]);}};b.Fe=b.Fe || (function(m,f,d){var l,n,h;if(f)if(d){l=d.PY;n=d.prefix;h=d.gca;(0,b.ph)(f,function(p,q){if(!h || (0,k.vd)(q))m[(n || "") + (l?p.toLowerCase():p)]=q;});}else (0,b.ph)(f,function(p,q){m[p]=q;});return m;});b.OZa=function(m,f,d,l){var n;if(m){n=m[f];(0,k.md)(n) && (d=n.apply(m,g.slice.call(arguments,3)));}return d;};b.sYa=function(m){for(var f={},d=m.length;d--;){f[m[d]]=!0;}return f;};b.nk=b.nk || (function(m){return parseInt(m,10);});b.u4b=function(m){return (/^true$/i).test(m);};b.ifb=function(m,f){return (0,g.mp)(m + (0,g.mT)() * (f - m));};b.vjb=function(m){return JSON.stringify(m,null,"  ");};b.uua=(function(){var f,d;function m(l){(0,c.Ka)(void 0 !== f[l]);return f[l];}f={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};d=/[&'"<>]/g;return function(l){return l.replace(d,m);};})();b.trim=(function(){var m;m=/^\s+|\s+$/gm;return function(f){return f.replace(m,"");};})();b.cy=function(m){return Array.isArray(m)?m:[m];};b.cf=b.cf || (function(m){var f,d,l;if(m){f=m.stack;d=m.number;l=m.message;l || (l="" + m);f?(m="" + f,0 != m.indexOf(l) && (m=l + "\n" + m)):m=l;d && (m+="\nnumber:" + d);return m;}});b.jHb=function(m){var l;for(var f=0;f < arguments.length;++f){;}f=0;for(var d=arguments.length;f < d;){l=arguments[f++];if((0,k.vd)(l))return l;}};b.Ag=function(m){return (0,k.Oa)(m)?m.toFixed(0):"";};b.tn=function(m){return (0,k.Oa)(m)?(m / 1E3).toFixed(0):"";};b.e4a=function(m){return (0,k.Oa)(m)?m.toFixed():"";};b.UHb=function(m){for(var f=[],d=0;d < m.length;d++){f[d]=m[d];}return f;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iz=b.oTa=b.uvb=b.Cq=b.Af=b.Rm=b.ww=b.u=void 0;(function(a){a[a.Audio=0]="Audio";a[a.gTa=1]="Video";})(b.u || (b.u={}));(function(a){a[a.hz=0]="Default";a[a.wz=1]="Microsoft";})(b.ww || (b.ww={}));(function(a){a[a.hz=0]="Default";a[a.rL=1]="Chrome";a[a.wz=2]="Microsoft";})(b.Rm || (b.Rm={}));(function(a){a[a.IT=0]="SD";a[a.z2=1]="HD";a[a.bM=2]="UHD";a[a.zw=3]="DV";a[a.BL=4]="HDR10";a[a.IC=5]="AVCHigh";a[a.jD=6]="VP9";a[a.ol=7]="AV1";})(b.Af || (b.Af={}));(function(a){a[a.t3=0]="Level_1_4";a[a.vG=1]="Level_2_2";})(b.Cq || (b.Cq={}));b.uvb=function(){};(function(a){a[a.blc=0]="Platform";a[a.pic=1]="CurrentTitle";})(b.oTa || (b.oTa={}));b.iz="DeviceCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yg="IsTypeSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(76);b.default={Rhc:{Ow:0,qlc:1,name:["STARTUP","STEADY"]},S2:{Qh:0,plc:1,qvb:2,name:["STARTING","STABLE","UNSTABLE"]},Sd:{V:r.u.V,J:r.u.J,Hb:r.u.Hb,name:["AUDIO","VIDEO","TEXT"]},Pjc:{V:r.u.V,J:r.u.J,Hb:r.u.Hb,name:["AUDIO","VIDEO","TEXT"]},mi:{URL:0,NG:1,LOCATION:2,yz:3,name:["URL","SERVER","LOCATION","NETWORK"]},Qj:{HAVE_NOTHING:0,RC:1,QC:2,RS:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Nw:{xhc:0,ojc:1,Tkc:2,pkc:3,Nkc:4,Qlc:5,tjc:6,Ojc:7,Ow:8,Nf:9,Jia:10,$tb:11,lga:12,$rb:13,Zrb:14,Iub:15,Hub:16,esb:17,Zub:18,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded switchlivedvr").split(" ")},Ric:{yz:0,qic:1,name:["NETWORK","DECODE"]},nlc:{ric:"delayedSeamless",Bjc:"hideLongTransition"}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nh="ClockSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oi="UtilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Li="Base64EncoderSymbol";},function(r,b,a){var m,f;function c(d,l){return d && d.zv && (l || !1 !== d.cv);}function g(d,l,n){return !m.Oa(d) || d < l?l:d > n?n:d;}function k(d){if(!(this instanceof k))return new k(d);this.Ie=m.Oa(d)?d:void 0;}m=a(11);f=new (a(4).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:f,debug:!1,assert:function(d,l){if(!d)throw (d=l?" : " + l:"",f.error("Assertion failed" + d),Error("ASEJS_STREAM_SELECTOR assertion failed" + d));},iJ:c,Mra:function(d,l,n){var p,q,t,v;function h(w){var u;u=d[w];if(!u.zv || n && !n(u,w))return !1;v=w;return !0;}p=d.length;q=0;t=p;m.isArray(l) && (q=g(l[0],0,p),t=g(l[1],0,p),l=l[2]);l=g(l,q - 1,t);for(p=l - 1;p >= q;--p){if(h(p))return v;}for(p=l + 1;p < t;++p){if(h(p))return v;}return -1;},E1b:function(d,l){return Math.floor(d / (125 * l) * 1E3);},hFb:function(d,l){return Math.ceil(d / 1E3 * l * 125);},tpc:function(d,l){return !d.slice(l + 1).some(c);},rp:k,$c:function(d,l){var n;return d.some(function(h,p,q){n=h;return l(h,p,q);})?n:void 0;},Kp:function(d,l){var n;return d.some(function(h,p,q){n=p;return l(h,p,q);})?n:-1;},x7:g};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ega="ConfigurableInputsSymbol";b.Qm="ValidatingConfigurableInputsSymbol";b.S1="ConfigNameSymbol";b.aT="InitParamsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mj="AsyncComponentLoaderSymbol";},function(r,b,a){var m,f,d;function c(l){var n,h,p,v;p=Object.getOwnPropertyNames(l);for(l=Object.getPrototypeOf(l);l !== Object.prototype;){try{for(var q=(n=void 0,m.__values(Object.getOwnPropertyNames(l))),t=q.next();!t.done;t=q.next()){v=t.value;-1 === p.indexOf(v) && p.push(v);}}catch(w){n={error:w};}finally{try{t && !t.done && (h=q.return) && h.call(q);}finally{if(n)throw n.error;}}l=Object.getPrototypeOf(l);}return p;}function g(l,n,h,p,q){var t;Object.getOwnPropertyNames(l).filter(function(v){return q(v) && (h || !Object.prototype.hasOwnProperty.call(n,v)) && (p || !((v in n)));}).forEach(function(v){t=Object.getOwnPropertyDescriptor(l,v);void 0 !== t && Object.defineProperty(n,v,t);});}function k(l,n,h,p){var q,t;q=[];h || (q=Object.getOwnPropertyNames(n));p || (q=c(n));t=Object.getPrototypeOf(l);null !== t && t !== Object.prototype && k(t,n,h,p);g(l,n,!0,!0,function(v){return "constructor" !== v && -1 === q.indexOf(v);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Ue=b.WHb=void 0;m=a(0);f=a(2);b.WHb=k;d=Object.getOwnPropertyNames(Function);b.Ue=function(l,n,h,p){void 0 === h && (h=!0);void 0 === p && (p=!0);p || (0,f.assert)(!h);l.prototype?(k(l.prototype,n.prototype,h,p),g(l,n,h,p,function(q){return -1 === d.indexOf(q);})):g(l,n.prototype,h,p,function(q){return -1 === d.indexOf(q);});return n;};},function(r,b,a){var g;function c(k,m,f,d,l,n,h,p,q,t,v,w){this.code=void 0 === k?g.$.eo:k;this.Kc=m;this.Yd=f;this.Bo=d;this.LB=l;this.message=n;this.details=h;this.data=p;this.Uk=q;this.p5b=t;this.alert=v;this.lna=w;this.ga=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.od=void 0;g=a(3);c.cf=function(k){var m,f,d;if(k){m=k.stack;f=k.number;d=k.message;d || (d="" + k);m?(k="" + m,0 !== k.indexOf(d) && (k=d + "\n" + k)):k=d;f && (k+="\nnumber:" + f);return k;}return "";};c.prototype.sW=function(k){this.details=c.cf(k);this.data=k;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.Kc,extCode:this.Yd,edgeCode:this.Bo,mslCode:this.LB,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.Uk,playbackServiceError:this.p5b};};c.esa=function(k,m){return new c(k,g.X.Mm,void 0,void 0,void 0,void 0,m.message,m.stack);};c.Fmb=function(k,m){return new c(k,m,void 0,void 0,void 0,void 0,void 0,void 0);};c.Hgc=function(k,m,f){return new c(k,m,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,f);};b.od=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xTa="WindowTimersSymbol";b.tG="JSONSymbol";b.$Sa="UserAgentSymbol";b.NL="NavigatorSymbol";b.Fsb="MediaSourceSymbol";b.DLa="LocationSymbol";b.sHa="DateSymbol";b.Tia="PerformanceSymbol";b.P3="PlatformExtraInfoSymbol";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(0);r.__exportStar(a(1096),b);r.__exportStar(a(161),b);r.__exportStar(a(1097),b);r.__exportStar(a(1098),b);r.__exportStar(a(1099),b);r.__exportStar(a(1100),b);r.__exportStar(a(462),b);r.__exportStar(a(1101),b);r.__exportStar(a(1102),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kp=b.Gw=b.mz=void 0;(function(a){a[a.rSa=0]="Test";a[a.YKa=1]="Int";a[a.$ub=2]="Staging";a[a.oub=3]="Prod";})(b.mz || (b.mz={}));(function(a){a[a.ET=0]="PreferMsl";a[a.rQa=1]="PreferNoMsl";a[a.Zsb=2]="NoMsl";})(b.Gw || (b.Gw={}));b.kp="GeneralConfigSymbol";},function(r,b,a){var l,n,h,p,q,t;function c(){var v,w;if(v=b.U9.jWa)return v;v=p.D3.search.substr(1);w=v.indexOf("#");0 <= w && (v=v.substr(0,w));v=g(v);return b.U9.jWa=v;}function g(v){for(var w=/[+]/g,u=(v || "").split("&"),x={},y,z=0;z < u.length;z++){v=(0,h.trim)(u[z]);y=v.indexOf("=");0 <= y?x[decodeURIComponent(v.substr(0,y).replace(w,"%20")).toLowerCase()]=decodeURIComponent(v.substr(y + 1).replace(w,"%20")):x[v.toLowerCase()]=null;}return x;}function k(v){return (v=(/function (.{1,})\(/).exec(v.toString())) && 1 < v.length?v[1]:"";}function m(v){return k(v.constructor);}function f(v){return p.sort.call(v,function(w,u){return w - u;});}function d(v){for(var w=0,u=v.length;u--;){w+=v[u];}return w;}Object.defineProperty(b,"__esModule",{value:!0});b.O5b=b.SI=b.u5a=b.naa=b.J5b=b.u9a=b.kob=b.lob=b.iQb=b.Ou=b.zHb=b.b9=b.vPb=b.LJ=b.Cnb=b.qS=b.Dnb=b.E1=b.Bnb=b.yXb=b.createElement=b.eW=b.q6b=b.iya=b.zsa=b.getFunctionName=b.LZ=b.U9=b.TTb=b.pfb=b.FXa=b.d0a=b.q7b=b.cE=b.M_a=void 0;l=a(17);n=a(9);h=a(25);p=a(13);q=a(15);t=a(48);b.M_a=function(v,w){if(v === w)return !0;if(!v || !w)return !1;for(var u in v){if(v.hasOwnProperty(u) && (!w.hasOwnProperty(u) || v[u] !== w[u]))return !1;}return !0;};b.cE=b.cE || (function(v,w){if(v.length == w.length){for(var u=v.length;u--;){if(v[u] != w[u])return !1;}return !0;}return !1;});b.q7b=function(v){var w;if(v){w=v.length;if(w)return (w=(0,h.ifb)(0,w - 1),v[w]);}};b.d0a=function(v,w){if(v.length != w.length)return !1;v.sort();w.sort();for(var u=v.length;u--;){if(v[u] !== w[u])return !1;}return !0;};b.FXa=function(v,w,u){function x(){v.removeEventListener(w,x);u.apply(this,arguments);}v.addEventListener(w,x);};b.pfb=function(){var v,w,u,x,y,z;v=p.Ph.cookie.split("; ");w=v.length;y={};for(u=0;u < w;u++){if(x=(0,h.trim)(v[u])){z=x.indexOf("=");0 < z && (y[x.substr(0,z)]=x.substr(z + 1));}}return y;};b.TTb=c;b.U9=Object.assign(c,{jWa:void 0});b.LZ=g;b.getFunctionName=k;b.zsa=m;b.iya=function(v){var w;w="";(0,q.isArray)(v) || (0,q.Iva)(v)?w=p.reduce.call(v,function(u,x){return u + (32 <= x && 128 > x?(0,p.hSa)(x):".");},""):(0,q.Cg)(v)?w=v:(0,h.ph)(v,function(u,x){w+=(w?", ":"") + "{" + u + ": " + ((0,q.md)(x)?k(x) || "function":x) + "}";});return "[" + m(v) + " " + w + "]";};b.q6b=function(v,w){v.firstChild?v.insertBefore(w,v.firstChild):v.appendChild(w);};b.eW=b.eW || (function(v){var w;w="";(0,h.ph)(v,function(u,x){w+=(w?";":"") + u + ":" + x;});return w;});b.createElement=b.createElement || (function(v,w,u,x){var y;y=p.Ph.createElement(v);w && (y.style.cssText=w);u && (y.innerHTML=u);x && (0,h.ph)(x,function(z,A){y.setAttribute(z,A);});return y;});b.yXb=function(v,w){var u;u=v[0];if(w <= u[0])return u.slice(1);for(var x=1,y;y=v[x++];){if(w <= y[0]){v=(w - u[0]) / (y[0] - u[0]);w=[];for(x=1;x < u.length;x++){w.push((u[x] || 0) + v * ((y[x] || 0) - (u[x] || 0)));}return w;}u=y;}return u.slice(1);};b.Bnb=function(v,w){var y;for(var u={},x=0;x < w.length;x++){y=w[x];if("string" != typeof y && "number" != typeof y)return !1;u[w[x]]=1;}for(x=0;x < v.length;x++){if((y=v[x],!u[y]))return !1;}return !0;};b.E1=f;b.Dnb=d;b.qS=function(v,w){var u,x,y,z;u=-1;x=v.length;if(1 === arguments.length){for(;++u < x && !(null != (y=v[u]) && y <= y);){y=void 0;}for(;++u < x;){null != (z=v[u]) && z > y && (y=z);}}else {for(;++u < x && !(null != (y=w.call(v,v[u],u)) && y <= y);){y=void 0;}for(;++u < x;){null != (z=w.call(v,v[u],u)) && z > y && (y=z);}}return y;};b.Cnb=function(v,w){var u,x,y,z;u=-1;x=v.length;if(1 === arguments.length){for(;++u < x && !(null != (y=v[u]) && y <= y);){y=void 0;}for(;++u < x;){null != (z=v[u]) && y > z && (y=z);}}else {for(;++u < x && !(null != (y=w.call(v,v[u],u)) && y <= y);){y=void 0;}for(;++u < x;){null != (z=w.call(v,v[u],u)) && y > z && (y=z);}}return y;};b.LJ=function(v){return (0,q.md)(v.then)?v:new Promise(function(w,u){v.oncomplete=function(){w(v.result);};v.onerror=function(){u(v.error);};});};b.vPb=function(v,w){var x,y,z,A,B,C;function u(D){0 > x.indexOf(D) && (0,q.Oa)(D) && x.push(D);}v=v.slice();f(v);x=[];if(!w || !w.length)return v;if(!v.length)return [];y=w.length;try{for(;y--;){A="" + w[y];B=(0,h.nk)(A);switch(A[A.length - 1]){case "-":for(z=v.length;z--;){C=v[z];if(C < B){u(C);break;}}break;case "+":for(z=0;z < v.length;z++){if((C=v[z],C > B)){u(C);break;}}break;default:0 <= v.indexOf(B) && u(B);}}}catch(D){}x.length || x.push(v[0]);f(x);return x;};b.b9=b.b9 || (function(v,w,u){var x;if(v / w > u){x=(0,p.mp)(w * u);v=w;}else (x=v,v=(0,p.mp)(v / u));return {width:x,height:v};});b.zHb=function(v,w,u){for(var x=[],y=0;y < w;y++){x.push((0,p.vMa)(v[y] - u,2));}return (0,p.wMa)(d(x) / x.length);};b.Ou=function(v,w){var u;u=v.length;w=(u - 1) * w + 1;if(1 === w)return v[0];if(w == u)return v[u - 1];u=(0,p.JL)(w);return v[u - 1] + (w - u) * (v[u] - v[u - 1]);};b.iQb=function(v,w){if(!(0,q.isArray)(v))throw Error("boxes is not an array");if(0 >= v.length)throw Error("There are no boxes in boxes");w=(0,q.isArray)(w)?w:[w];for(var u=v.length,x=0;x < u;x++){for(var y=0;y < w.length;y++){if(v[x].type == w[y])return v[x];}}throw Error("Box not found " + w);};b.lob=function(v){return v.$Rb("trak/mdia/minf/stbl/stsd/" + l.WFa + "|" + l.XFa).children.filter(function(w){return "sinf" == w.type && w.voc.schm.trc == t.yw;})[0].$Rb("schi/tenc").bq;};b.kob=function(v){var u;function w(x,y){var z;z=u[x];u[x]=u[y];u[y]=z;}u=new Uint8Array(v);w(0,3);w(1,2);w(4,5);w(6,7);return u;};b.u9a=function(){return (0,q.md)(p.Xe.requestMediaKeySystemAccess);};b.J5b=function(v){return function(w){return w && w[v];};};(0,q.md)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(v,w){var u,x;void 0 === v && (v=0);void 0 === w && (w=this.byteLength);v=Math.floor(v);w=Math.floor(w);0 > v && (v+=this.byteLength);0 > w && (w+=this.byteLength);v=Math.min(Math.max(0,v),this.byteLength);w=Math.min(Math.max(0,w),this.byteLength);if(0 >= w - v)return new ArrayBuffer(0);u=new ArrayBuffer(w - v);x=new Uint8Array(u);v=new Uint8Array(this,v,w - v);x.set(v);return u;});b.naa=function(v){return v && 0 == v.toLowerCase().indexOf("https");};b.u5a=function(){var v,w;v=new ArrayBuffer(4);w=new Uint8Array(v);v=new Uint32Array(v);w[0]=161;w[1]=178;w[2]=195;w[3]=212;return 3569595041 == v[0]?"LE":2712847316 == v[0]?"BE":"undefined";};b.SI=function(){var v,w,u;try{v=/playercore.*js/;w=p.Hw.getEntries("resource").filter(function(x){return null !== v.exec(x.name);});if(w && 0 < w.length){u=(0,p.mp)(w[0].duration);return JSON.stringify(u);}}catch(x){}};b.O5b=function(v,w,u){if(v && v.length){if(u && u.IGb)try{v.forEach(function(x,y){var z;z=(y=u.IGb[y]) && y.media;z && (0,q.Cg)(z)?(!1,z=(0,n.Hs)(z).buffer,x.media={arrayBuffer:z,length:z.byteLength,stream:w,Ac:y.cdn}):n.log.warn("chunk not in cache",x.Dh);});}catch(x){n.log.error("error reading cached chunks",x);}else n.log.warn("chunks not available in cached stream",u.type);}else n.log.warn("chunks not available in mediabuffer",u.type);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YC="named";b.A3="name";b.NT="unmanaged";b.INa="optional";b.$S="inject";b.yG="multi_inject";b.lSa="inversify:tagged";b.mSa="inversify:tagged_props";b.Cia="inversify:paramtypes";b.spb="design:paramtypes";b.AT="post_construct";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.I={mG:"playready-h264mpl30-dash",nG:"playready-h264mpl31-dash",nha:"playready-h264mpl40-dash",rJa:"h264mpl30-dash-playready-prk-qc",sJa:"h264mpl31-dash-playready-prk-qc",tJa:"h264mpl40-dash-playready-prk-qc",pJa:"playready-h264hpl22-dash",v2:"playready-h264hpl30-dash",x2:"playready-h264hpl31-dash",lha:"playready-h264hpl40-dash",qJa:"h264hpl22-dash-playready-live",w2:"h264hpl30-dash-playready-live",y2:"h264hpl31-dash-playready-live",mha:"h264hpl40-dash-playready-live",fka:"vp9-profile0-L21-dash-cenc",t4:"vp9-profile0-L30-dash-cenc",u4:"vp9-profile0-L31-dash-cenc",v4:"vp9-profile0-L40-dash-cenc",pha:"hevc-main10-L30-dash-cenc",qha:"hevc-main10-L31-dash-cenc",rha:"hevc-main10-L40-dash-cenc",sha:"hevc-main10-L41-dash-cenc",TS:"hevc-main10-L50-dash-cenc",US:"hevc-main10-L51-dash-cenc",U2:"hevc-main10-L30-dash-cenc-prk",X2:"hevc-main10-L31-dash-cenc-prk",a3:"hevc-main10-L40-dash-cenc-prk",d3:"hevc-main10-L41-dash-cenc-prk",V2:"hevc-main10-L30-dash-cenc-prk-do",Y2:"hevc-main10-L31-dash-cenc-prk-do",b3:"hevc-main10-L40-dash-cenc-prk-do",e3:"hevc-main10-L41-dash-cenc-prk-do",g3:"hevc-main10-L50-dash-cenc-prk-do",i3:"hevc-main10-L51-dash-cenc-prk-do",T2:"hevc-main10-L30-dash-cenc-live",W2:"hevc-main10-L31-dash-cenc-live",Z2:"hevc-main10-L40-dash-cenc-live",c3:"hevc-main10-L41-dash-cenc-live",f3:"hevc-main10-L50-dash-cenc-live",h3:"hevc-main10-L51-dash-cenc-live",W1:"hevc-dv5-main10-L30-dash-cenc-prk",Y1:"hevc-dv5-main10-L31-dash-cenc-prk",LS:"hevc-dv5-main10-L40-dash-cenc-prk",b2:"hevc-dv5-main10-L41-dash-cenc-prk",d2:"hevc-dv5-main10-L50-dash-cenc-prk",f2:"hevc-dv5-main10-L51-dash-cenc-prk",Nga:"hevc-dv5-main10-L40-dash-cenc-prk-qc",Oga:"hevc-dv5-main10-L41-dash-cenc-prk-qc",Pga:"hevc-dv5-main10-L50-dash-cenc-prk-qc",Qga:"hevc-dv5-main10-L51-dash-cenc-prk-qc",X1:"hevc-dv5-main10-L30-dash-cenc-prk-do",Z1:"hevc-dv5-main10-L31-dash-cenc-prk-do",a2:"hevc-dv5-main10-L40-dash-cenc-prk-do",c2:"hevc-dv5-main10-L41-dash-cenc-prk-do",e2:"hevc-dv5-main10-L50-dash-cenc-prk-do",g2:"hevc-dv5-main10-L51-dash-cenc-prk-do",B2:"hevc-hdr-main10-L30-dash-cenc-prk",E2:"hevc-hdr-main10-L31-dash-cenc-prk",SS:"hevc-hdr-main10-L40-dash-cenc-prk",J2:"hevc-hdr-main10-L41-dash-cenc-prk",M2:"hevc-hdr-main10-L50-dash-cenc-prk",P2:"hevc-hdr-main10-L51-dash-cenc-prk",C2:"hevc-hdr-main10-L30-dash-cenc-prk-do",F2:"hevc-hdr-main10-L31-dash-cenc-prk-do",H2:"hevc-hdr-main10-L40-dash-cenc-prk-do",K2:"hevc-hdr-main10-L41-dash-cenc-prk-do",N2:"hevc-hdr-main10-L50-dash-cenc-prk-do",Q2:"hevc-hdr-main10-L51-dash-cenc-prk-do",A2:"hevc-hdr-main10-L30-dash-cenc-live",D2:"hevc-hdr-main10-L31-dash-cenc-live",G2:"hevc-hdr-main10-L40-dash-cenc-live",I2:"hevc-hdr-main10-L41-dash-cenc-live",L2:"hevc-hdr-main10-L50-dash-cenc-live",O2:"hevc-hdr-main10-L51-dash-cenc-live",yEa:"av1-main-L20-dash-cbcs-prk",zEa:"av1-main-L21-dash-cbcs-prk",GC:"av1-main-L30-dash-cbcs-prk",HC:"av1-main-L31-dash-cbcs-prk",x1:"av1-main-L40-dash-cbcs-prk",y1:"av1-main-L41-dash-cbcs-prk",z1:"av1-main-L50-dash-cbcs-prk",A1:"av1-main-L51-dash-cbcs-prk"};b.Td={P1:[b.I.mG,b.I.nG,b.I.nha],t1:[b.I.v2,b.I.x2,b.I.lha],s1:[b.I.w2,b.I.y2,b.I.mha],Jfa:[b.I.t4,b.I.u4,b.I.v4],cic:[b.I.pha,b.I.qha,b.I.rha,b.I.sha,b.I.TS,b.I.US],zga:[b.I.U2,b.I.X2,b.I.a3,b.I.d3,b.I.TS,b.I.US],Aga:[b.I.V2,b.I.Y2,b.I.b3,b.I.e3,b.I.g3,b.I.i3],yga:[b.I.T2,b.I.W2,b.I.Z2,b.I.c3,b.I.f3,b.I.h3],wga:[b.I.B2,b.I.E2,b.I.SS,b.I.J2,b.I.M2,b.I.P2],xga:[b.I.C2,b.I.F2,b.I.H2,b.I.K2,b.I.N2,b.I.Q2],vga:[b.I.A2,b.I.D2,b.I.G2,b.I.I2,b.I.L2,b.I.O2],nGa:[b.I.W1,b.I.LS,b.I.d2,b.I.Y1,b.I.b2,b.I.f2],oGa:[b.I.X1,b.I.a2,b.I.e2,b.I.Z1,b.I.c2,b.I.g2],yob:[b.I.GC,b.I.HC,b.I.x1,b.I.y1,b.I.z1,b.I.A1]};b.ae={oG:"heaac-2-dash",R2:"heaac-5.1-dash",pG:"heaac-2hq-dash",Iz:"xheaac-dash",JS:"ddplus-2.0-dash",U1:"ddplus-5.1-dash",KS:"ddplus-atmos-dash"};b.Pm={Kub:"simplesdh",Gga:"dfxp-ls-sdh",nKa:"imsc1.1",x4:"webvtt-lssdh-ios8",LL:"nflx-cmisc"};},function(r,b,a){var m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C;function c(D){var E,G,F;E=A(D,0,1);G=A(D,-1);if("%" === E && "%" !== G)throw new m("invalid intrinsic syntax, expected closing `%`");if("%" === G && "%" !== E)throw new m("invalid intrinsic syntax, expected opening `%`");F=[];z(D,B,function(I,L,M,K){F[F.length]=M?z(K,C,"$1"):L || I;});return F;}function g(){throw new d();}function k(D){try{return f('"use strict"; return (' + D + ").constructor;")();}catch(E){}}m=SyntaxError;f=Function;d=TypeError;l=Object.getOwnPropertyDescriptor;if(l)try{l({},"");}catch(D){l=null;}b=l?(function(){try{return (arguments.callee,g);}catch(D){try{return l(arguments,"callee").get;}catch(E){return g;}}})():g;n=a(318)();h=Object.getPrototypeOf || (function(D){return D.__proto__;});p={};q="undefined" === typeof Uint8Array?void 0:h(Uint8Array);t={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":n?h([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":p,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":n?h(h([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && n?h(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && n?h(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":n?h(("")[Symbol.iterator]()):void 0,"%Symbol%":n?Symbol:void 0,"%SyntaxError%":m,"%ThrowTypeError%":b,"%TypedArray%":q,"%TypeError%":d,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};v=function G(E){var F,I;if("%AsyncFunction%" === E)F=k("async function () {}");else if("%GeneratorFunction%" === E)F=k("function* () {}");else if("%AsyncGeneratorFunction%" === E)F=k("async function* () {}");else if("%AsyncGenerator%" === E){I=G("%AsyncGeneratorFunction%");I && (F=I.prototype);}else "%AsyncIteratorPrototype%" === E && (I=G("%AsyncGenerator%")) && (F=h(I.prototype));return t[E]=F;};w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(210);u=a(107);x=b.call(Function.call,Array.prototype.concat);y=b.call(Function.apply,Array.prototype.splice);z=b.call(Function.call,String.prototype.replace);A=b.call(Function.call,String.prototype.slice);B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;C=/\\(\\)?/g;r.exports=function(E,G){var F,I,L,M,K,O,H,J,R;if("string" !== typeof E || 0 === E.length)throw new d("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof G)throw new d('"allowMissing" argument must be a boolean');F=c(E);I=0 < F.length?F[0]:"";L="%" + I + "%";M=L;if(u(w,M)){K=w[M];M="%" + K[0] + "%";}if(u(t,M)){O=t[M];O === p && (O=v(M));if("undefined" === typeof O && !G)throw new d("intrinsic " + L + " exists, but is not available. Please file an issue!");}else throw new m("intrinsic " + L + " does not exist!");L=O;M=!1;K && (I=K[0],y(F,x([0,1],K)));K=1;for(O=!0;K < F.length;K+=1){H=F[K];J=A(H,0,1);R=A(H,-1);if(('"' === J || "'" === J || "`" === J || '"' === R || "'" === R || "`" === R) && J !== R)throw new m("property names with quotes must have matching quotes");"constructor" !== H && O || (M=!0);I+="." + H;J="%" + I + "%";if(u(t,J))L=t[J];else if(null != L){if(!((H in L))){if(!G)throw new d("base intrinsic for " + E + " exists, but the property is not available.");return;}l && K + 1 >= F.length?(R=l(L,H),L=(O=! !R) && ("get" in R) && !(("originalValue" in R.get))?R.get:L[H]):(O=u(L,H),L=L[H]);O && !M && (t[J]=L);}}return L;};},function(r,b,a){var m,f,d;function c(l){return function(n,h){return n.eAa(h,l);};}function g(l,n){return l.Zca.k7b[n] || k(l,n);}function k(l,n){l=l.nB.data[n];switch(typeof l){case "undefined":break;case "string":case "number":case "boolean":return l.toString();default:return JSON.stringify(l);}}Object.defineProperty(b,"__esModule",{value:!0});b.oA=b.mAa=b.object=b.zOb=b.url=b.ea=b.Kl=b.ADa=b.AXb=b.NK=b.string=b.AC=b.Ed=b.TE=b.config=void 0;m=a(52);f=a(5);d=a(145);b.config=function(l,n,h){h=void 0 === h?!1:h;return function(p,q,t){var v,w;v=void 0 !== n?n:q;w=t.get;void 0 !== w && (t.get=function(){var u;if(!this.sYb(q))return this.bUb(q);a:{u=(this.TCb || h?g:k)(this,v.toString());if(void 0 !== u)if((u=l(this.sZ,u),u instanceof d.Dq))this.i4a(v,u);else break a;u=w.bind(this)();}this.NAa(q,u);return u;});return t;};};b.TE=function(l,n){return l.tfb(n);};b.Ed=function(l,n){return l.bAa(n);};b.AC=function(l,n){return l.Sr(n);};b.string=function(l,n){return l.eAa(n);};b.NK=function(l,n){return l.al(n,b.string);};b.AXb=function(l,n){return l.al(n,b.TE);};b.ADa=function(l,n){return l.al(n,b.AC);};b.Kl=function(l,n){l=l.Sr(n);return l instanceof d.Dq?l:(0,f.xc)(l);};b.ea=function(l,n){l=l.Sr(n);return l instanceof d.Dq?l:(0,m.ea)(l);};b.url=c(/^\S+$/);b.zOb=function(l){return function(n,h){return n.sfb(h,l);};};b.object=function(){return function(l,n){return l.ufb(n);};};b.mAa=c;b.oA=function(l,n){return function(h,p){return h.al(p,l,n);};};},function(r,b,a){var k,m,f,d;function c(l,n){var h;h=d.call(this,l,n) || this;h.Z_a=n;h.debug=l.debug;h.ya=l.jg.hb(h.Z_a);return h;}function g(l,n){this.Z_a=n;this.Pza={};this.nB=l.nB;this.sZ=l.sZ;this.Zca=l.Zca;}Object.defineProperty(b,"__esModule",{value:!0});b.zf=b.vS=b.nSa=void 0;r=a(0);k=a(699);m=a(1);f=a(145);b.nSa="isTestAccount";g.prototype.i4a=function(){};g.prototype.NAa=function(l,n){this.Pza[l]=[n,this.nB.Cda];};g.prototype.sYb=function(l){return k.Bia.of(this.Pza[l]).map(function(n){return n[1];}).or(-1) < this.nB.Cda;};g.prototype.bUb=function(l){return k.Bia.of(this.Pza[l]).map(function(n){return n[0];}).or(function(){throw Error("Invalid State Error");});};Ua.Object.defineProperties(g.prototype,{TCb:{configurable:!0,enumerable:!0,get:function(){var l,n;if(this && this.nB && this.nB.data){l=this.nB.data[b.nSa];"undefined" !== typeof l && (n=l.toString());l=this.sZ.bAa(n);l=l instanceof f.Dq?!1:l;}else l=!1;return l;}}});d=g;d=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.gp)()),r.__param(1,(0,m.gp)())],d);b.vS=d;ja(c,d);c.prototype.i4a=function(l,n){this.ya.error("Invalid configuration value.",{name:l},n);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,(0,m.gp)()),r.__param(1,(0,m.gp)())],a);b.zf=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sj="SchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eq="PlatformSymbol";b.Q3="PlatformMutableSymbol";},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.gva=b.Wsa=b.ota=b.M9=b.jKa=b.TC=b.brb=b.Hja=b.Gja=b.sTa=b.tTa=b.YNa=b.q2=b.TEMPORARY=b.yw=void 0;c=a(15);g=a(9);k=a(172);b.yw="cenc";b.TEMPORARY="temporary";b.q2="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.YNa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.tTa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.sTa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.Gja="SW_SECURE_CRYPTO";b.Hja="SW_SECURE_DECODE";b.brb="HW_SECURE_DECODE";b.TC="HW_SECURE_ALL";b.jKa=[b.TC];b.M9=function(m){var f;f=m.getConfiguration();return [b.TC,b.Hja,b.Gja].find(function(d){var l;return null === (l=f.videoCapabilities) || void 0 === l?void 0:l.some(function(n){return n.robustness === d;});});};b.ota=function(m){var f,n;try{for(var d=/\((\d[^)]+)\)/g,l;l=d.exec(m);){n=Number(l[1]);(0,c.Oa)(n) && (f=n);}}catch(h){}return f;};b.Wsa=function(m){var f;f={};try{m.forEach(function(d){var l,n;if(d.pI){for(var h=(0,g.rA),p=d.pI,q=0,t=new Uint8Array(16),v=0;v < p.length;v+=2){t[q++]=parseInt(p.slice(v,v + 2),16);}h=h(t);d=null !== (l=d.height) && void 0 !== l?l:d.IAa;f[h]=Math.max(d,null !== (n=f[h]) && void 0 !== n?n:0);}});}catch(d){}return f;};b.gva=function(m){return k.Mf.ol.test(m);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.u=void 0;b.u={V:0,J:1,Hb:2};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tha="LogBatcherConfigSymbol";b.ao="LogBatcherSymbol";b.GLa="LogBatcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Om="PboCommandContextSymbol";},function(r,b,a){var k;function c(){return k.OT.apply(this,arguments) || this;}function g(m){return new k.pu(m,b.gG);}Object.defineProperty(b,"__esModule",{value:!0});b.Ha=b.XMa=b.Mha=b.xw=b.gG=b.J0b=b.bZb=b.ea=b.Js=b.vob=void 0;k=a(331);ja(c,k.OT);b.vob=c;b.Js=g;b.ea=function(m){return new k.pu(m,b.xw);};b.bZb=function(m){return new k.pu(m,b.Mha);};b.J0b=function(m){return new k.pu(m,b.XMa);};b.gG=new c(1,"b");b.xw=new c(8 * b.gG.Xg,"B",b.gG);b.Mha=new c(1024 * b.xw.Xg,"KB",b.gG);b.XMa=new c(1024 * b.Mha.Xg,"MB",b.gG);b.Ha=g(0);},function(r,b,a){var c,g;c=a(126);g=a(179);r.exports=function(k){return function l(f,d){switch(arguments.length){case 0:return l;case 1:return g(f)?l:c(function(n){return k(f,n);});default:return g(f) && g(d)?l:g(f)?c(function(n){return k(n,d);}):g(d)?c(function(n){return k(f,n);}):k(f,d);}};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.fq=b.icc=b.Icb=void 0;b.Icb=function(a,c){return a - c;};b.icc=function(a,c){return a.localeCompare(c);};b.fq=function(a,c){var g;g=Object.getOwnPropertyDescriptor(a,c);g && Object.defineProperty(a,c,{configurable:g.configurable,enumerable:!1,value:g.value,writable:g.writable});};b.flatten=function(a){return [].concat.apply([],ha(a));};},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.yja=b.yf=void 0;c=a(0);g=a(912);k=a(22);(function(m){m[m.Tt=0]="startPlayback";m[m.Ts=1]="endPlayback";m[m.Zt=2]="underflow";})(b.yf || (b.yf={}));r=(function(){function m(f){this.config=f;this.fK=[];}m.prototype.Pg=function(f){var d,l;l=c.__read(this.config.rDb.filter(function(n){return n.re === f.re;}),1)[0];this.config.CNb && (null !== (d=null === l || void 0 === l?void 0:l.enabled) && void 0 !== d?d:f.enabled)?this.fK.push(f):f.xb && f.xb();};m.prototype.$Tb=function(f){return (0,k.$c)(this.fK,function(d){return d.re === f.re;});};m.prototype.Vk=function(f){var d,l,n,q,t;l={};n=[];try{for(var h=c.__values(this.fK),p=h.next();!p.done;p=h.next()){q=p.value;try{t=q.Vk({dj:f});t && (q.Lv?l[q.Lv]=t:l=c.__assign(c.__assign({},l),t));}catch(w){n.push(Error(("").concat(q.re,"::").concat(w)));}}}catch(w){var v;v={error:w};}finally{try{p && !p.done && (d=h.return) && d.call(h);}finally{if(v)throw v.error;}}n.length && (l["rpt-error"]=g.Ufa.stringify(new g.Ufa("Reporting error",n)));return l;};return m;})();b.yja=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vpb="Cannot apply @injectable decorator multiple times.";b.Wpb="Metadata key was used more than once in a parameter:";b.vT="NULL argument";b.eLa="Key Not Found";b.Zmb="Ambiguous match found for serviceIdentifier:";b.wob="Could not unbind serviceIdentifier:";b.Qsb="No matching bindings found for serviceIdentifier:";b.nsb="Missing required @injectable annotation in:";b.osb="Missing required @inject or @multiInject annotation in:";b.pvb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.Aob="Circular dependency found:";b.qkc="Sorry, this feature is not fully implemented yet.";b.Erb="Invalid binding type:";b.Ssb="No snapshot available to restore.";b.Irb="Invalid return type in middleware. Middleware must return!";b.Hrb="Value provided to function binding must be a function!";b.Krb="The toSelf function can only be applied when a constructor is used as service identifier";b.Frb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.anb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.Pob="Invalid Container constructor argument. Container options must be an object.";b.Nob="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.Mob="Invalid Container option. Auto bind injectable must be a boolean";b.Oob="Invalid Container option. Skip base check must be a boolean";b.Csb="Cannot apply @postConstruct decorator multiple times in the same class";b.Ztb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.Bob=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.Oub="Maximum call stack size exceeded";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mwa=b.Ni=void 0;(function(a){a[a.Fq=0]="STANDARD";a[a.lp=1]="LIMITED";})(b.Ni || (b.Ni={}));b.mwa=function(a){return ["STANDARD","LIMITED"][a];};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yg=void 0;b.yg=function(a){return setTimeout(a,0);};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(403),b);r.__exportStar(a(404),b);r.__exportStar(a(183),b);r.__exportStar(a(902),b);r.__exportStar(a(152),b);},function(r,b,a){var g,k,m,f,d;function c(){return g.qc.get(m.cd).vB.ja(d.sa);}Object.defineProperty(b,"__esModule",{value:!0});b.eHb=b.A7=b.y_a=b.cHb=b.dHb=b.jpa=b.ro=void 0;g=a(214);k=a(29);m=a(18);f=a(83);d=a(5);b.ro=function(){return g.qc.get(m.cd).Rb().ja(d.sa);};b.jpa=function(){return g.qc.get(k.Nh).Hf.ja(d.qp);};b.dHb=function(){return g.qc.get(m.cd).vB.ja(d.qp);};b.cHb=function(){return g.qc.get(f.pz).JA();};b.y_a=c;b.A7=function(){return g.qc.get(k.Nh).Hf.ja(d.sa);};b.eHb=function(){return c();};},function(r,b){var c,g;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.jp=b.Qa=b.Bk=void 0;(function(k){k[k.Fq=0]="STANDARD";k[k.lp=1]="LIMITED";k[k.Skc=2]="PREVIEW";})(c || (c={}));(function(k){k[k.HAVE_NOTHING=0]="HAVE_NOTHING";k[k.HAVE_METADATA=1]="HAVE_METADATA";k[k.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";k[k.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";k[k.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(g || (g={}));(function(k){k.mnb="asl_start";k.knb="asl_comp";k.thc="asl_exc";k.lnb="asl_fail";k.Rub="stf_creat";k.mrb="idb_open";k.jrb="idb_block";k.trb="idb_upgr";k.srb="idb_succ";k.krb="idb_error";k.lrb="idb_invalid_state";k.orb="idb_open_timeout";k.qrb="idb_open_wrkarnd";k.rrb="idb_storelen_exc";k.nrb="idb_open_exc";k.prb="idb_timeout_invalid_storelen";k.wsb="msl_load_data";k.ysb="msl_load_no_data";k.xsb="msl_load_failed";})(r=b.Bk || (b.Bk={}));(function(k){k.Fia="PlaybackRequestStart";k.Eia="PlaybackRequestEnd";k.Y3="RequestPrefetchManifestStart";k.X3="RequestPrefetchManifestEnd";k.W3="RequestManifestStart";k.V3="RequestManifestEnd";k.U3="RequestLicenseStart";k.T3="RequestLicenseEnd";k.BS="RequestTimedTextUrlStart";k.AS="RequestTimedTextUrlEnd";k.zS="RequestAudioUrlStart";k.yS="RequestAudioUrlEnd";k.DS="RequestVideoUrlStart";k.CS="RequestVideoUrlEnd";k.Lfa="AppendBufferStart";k.Kfa="AppendBufferEnd";k.Bja="SetMediaKeysStart";k.Aja="SetMediaKeysEnd";k.t2="GenerateChallengeStart";k.s2="GenerateChallengeEnd";k.v1="ApplyLicenseStart";k.u1="ApplyLicenseEnd";})(b.Qa || (b.Qa={}));b.jp=a;a.Nha=c;a.n0a=function(k){return ["STANDARD","LIMITED","PREVIEW"][k];};a.Bk=r;a.j3=g;},function(r,b,a){var g,k;function c(m,f){var d;d=b.pp[0];d == f && (d=b.pp[1]);d?d.close(function(){c(m,f);}):m && m(g.Zg);}Object.defineProperty(b,"__esModule",{value:!0});b.wPa=b.uPa=b.Zia=b.$ia=b.cD=b.aja=b.vPa=b.dja=b.cja=b.pp=b.yPa=b.bja=void 0;g=a(17);k=a(23);b.bja=c;b.yPa=function(m,f){switch(m){case b.vPa:b.cja.push(f);return;case b.aja:b.dja.push(f);return;}(0,k.Ka)(!1);};b.pp=[];b.cja=[];b.dja=[];b.vPa=1;b.aja=3;b.cD={index:0,Jbb:void 0,Sra:void 0};b.$ia="network";b.Zia="media";b.uPa="timedtext";b.wPa="playback";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cw=b.wT=b.ResponseType=void 0;b.ResponseType={Text:1,gmc:2,$nb:3};b.wT="OPEN_CONNECT_APPLIANCE";b.Cw="LegacyHttpSymbol";},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.f$=b.dt=b.g$=b.LE=b.Lo=b.nf=void 0;r=a(70);c=a(58);g=a(13);b.nf=new r.yk();b.Lo=1;b.LE=2;b.g$=3;b.dt=4;b.f$=5;(0,c.yg)(function(){var m,f,d;function k(l,n){if(f)f.on(l,n);else mb.addEventListener(l,n);}m=mb.jQuery;f=m && m(mb);m=(m=mb.netflix) && m.cadmium && m.cadmium.addBeforeUnloadHandler;d=g.Ph.hidden;m?m(function(l){b.nf.Uc(b.Lo,l);}):k("beforeunload",function(l){b.nf.Uc(b.Lo,l);});k("keydown",function(l){b.nf.Uc(b.LE,l);});k("resize",function(){b.nf.Uc(b.g$);});g.Ph.addEventListener("visibilitychange",function(){d !== g.Ph.hidden && (d=g.Ph.hidden,b.nf.Uc(b.dt));});});(function(){mb.addEventListener("error",function(k){b.nf.Uc(b.f$,k);return !0;});})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lg={Cwa:"logblob",fa:"manifest",yZb:"licensedmanifest",Ch:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.xub={YQa:"X-Netflix.Request.Attempt",zja:"X-Netflix.Client.Request.Name",dGa:"x-netflix.browsername",eGa:"x-netflix.browserversion",JNa:"x-netflix.osname",KNa:"x-xetflix.osversion",NGa:"x-netflix.clienttype",USa:"x-netflix.uiversion"};b.dD={YQa:"reqAttempt",zja:"reqName",dGa:"browsername",eGa:"browserversion",JNa:"osname",KNa:"osversion",NGa:"clienttype",USa:"uiversion"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);r=(function(){function g(k,m){this.key=k;this.value=m;}g.prototype.toString=function(){return this.key === c.YC?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return g;})();b.Metadata=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ku="EmeConfigSymbol";},function(r,b){function a(c){var g;g=Error.call(this,"TimeoutError");this.message=g.message;("stack" in g) && (this.stack=g.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.MG=b.rs=void 0;ja(a,Error);b.rs=a;b.MG="PromiseTimerSymbol";},function(r,b,a){var g,k,m;function c(f,d){this.$w=d?[d]:[];this.rla="$op$" + m++;this.Ra=f;}Object.defineProperty(b,"__esModule",{value:!0});b.cc=void 0;g=a(17);k=a(23);m=0;c.prototype.addListener=function(f,d){var l;l=this;(0,k.bqa)(f);(0,k.Ka)(0 > this.$w.indexOf(f));f[g.J3 + this.rla]=d;this.$w=this.$w.slice();this.$w.push(f);this.$w.sort(function(n,h){return l.ybc(n,h);});};c.prototype.removeListener=function(f){var d;(0,k.bqa)(f);this.$w=this.$w.slice();0 <= (d=this.$w.indexOf(f)) && this.$w.splice(d,1);};c.prototype.set=function(f,d){var l;if(this.Ra !== f){l={oldValue:this.Ra,newValue:f,Qk:d};this.Ra=f;this.Hwb=d;f=this.$w;d=f.length;for(var n=0;n < d;n++){f[n](l);}}};c.prototype.when=function(f){var d;d=this;return new Promise(function(l){function n(h){if(f(h.newValue))return (d.removeListener(n),l(h.newValue));}if(f(d.Ra))return l(d.Ra);d.addListener(n);});};c.prototype.ybc=function(f,d){return (f[g.J3 + this.rla] || 0) - (d[g.J3 + this.rla] || 0);};Ua.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Ra;}},Qk:{configurable:!0,enumerable:!0,get:function(){return this.Hwb;}}});b.cc=c;},function(r,b,a){var g,k;function c(){var m,f;m=this;this.wu={};this.on=function(d,l,n){m.addListener(d,l,n);};this.addListener=function(d,l,n){m.wu && (m.wu[d]=m.wu[d] || new k.pja(!0)).add(l,n);};this.removeListener=function(d,l){m.wu && m.wu[d] && m.wu[d].removeAll(l);};this.Jsa=function(d){return m.wu && m.wu[d]?m.wu[d].flatten():[];};f=this;this.Uc=function(d,l,n){var h;if(f.wu){h=f.Jsa(d);for(d={lL:0};d.lL < h.length;(d={lL:d.lL},d.lL++)){n?(function(p){return function(){var q;q=h[p.lL];(0,g.yg)(function(){q(l);});};})(d)():h[d.lL].call(this,l);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.yk=void 0;g=a(58);k=a(355);c.prototype.wi=function(){this.wu=void 0;};b.yk=c;},function(r,b,a){var c,g,k,m,f,d,l,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.wk=void 0;c=a(0);g=a(2);k=c.__importDefault(a(28));m=c.__importDefault(a(187));f=a(427);d=a(20);r=a(35);l=a(188);n=a(262);a=a(77);h=(function(p){function q(t,v,w){var u;u=p.call(this,t,v) || this;q.oa(u,t,v,w);return u;}c.__extends(q,p);q.oa=function(t,v,w,u){var x;l.vw.oa(t,v,w);t.ze=w.index;t.tM=w.Za;t.Uw=w.lb;t.pBb=w.eb?w.eb:v.eb;t.uK=w.uK;t.nta=u;t.DUa=! !w.Vs;t.lVa=! !w.Po;t.pWa=null !== (x=w.region) && void 0 !== x?x:0;t.CUa=! !w.Tra;t.kVa=! !w.$x;t.pa=void 0 === w.k9 || void 0 === w.csa || w.k9 === w.Za && w.csa === w.lb?t:new n.KC(t,{Za:w.k9,lb:w.csa});t.yyb=w.Jxa;t.Nvb=w.Mk;t.Gxb=v.GVb;t.Fk=w.Ga?t.ncb(w.Ga):void 0;t.PWa=w.uC;t.me=!1;};q.N0a=function(t){for(var v=new Uint32Array(t.length),w=new Uint32Array(t.length),u=new Uint8Array(t.length),x=new Uint8Array(t.length),y=0,z,A,B=0;B < t.length;++B){z=t[B];A=z.pd;v[B]=z.Uw - z.tM;w[B]=A;u[B]=z.stream.mg;void 0 !== z.eb && null !== z.eb && (x[B]=z.eb);y+=A;}return new f.Mja(v,w,t.length?t[0].W:1E3,y);};Object.defineProperties(q.prototype,{VE:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.ze;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{eb:{get:function(){return this.pBb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Yna:{get:function(){return 8 * this.ea / this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Za:{get:function(){return this.tM;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{lb:{get:function(){return this.Uw;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Kj:{get:function(){var t,v;return null !== (v=null === (t=this.nta) || void 0 === t?void 0:t.call(this)) && void 0 !== v?v:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Vs:{get:function(){return this.DUa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Po:{get:function(){return this.lVa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.pWa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Tra:{get:function(){return this.CUa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$x:{get:function(){return this.kVa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Jxa:{get:function(){return this.yyb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Mk:{get:function(){return this.Nvb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ga:{get:function(){return this.Fk;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{uC:{get:function(){return this.PWa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{k9:{get:function(){return this.pa.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{csa:{get:function(){return this.pa.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zQb:{get:function(){return this.pa.Vu;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{m9:{get:function(){return this.pa.zd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{m4a:{get:function(){return this.pa.Lf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{l4a:{get:function(){return this.pa.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{dsa:{get:function(){return this.pa.Nd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yQb:{get:function(){return this.pa.Pc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ox:{get:function(){var t;t=this.zQb;(0,g.assert)(t);return t / this.stream.ba.Ca;},enumerable:!1,configurable:!0}});q.prototype.Wwa=function(t){this.DUa=! !t;};q.prototype.sab=function(){this.lVa=!0;};q.prototype.sac=function(t){this.uK={Je:t.i5a(),get laa() {return t.ew;}};};q.prototype.qR=function(t){this.PWa=t;};q.prototype.pac=function(t,v,w){this.pWa=t;this.CUa=v;this.kVa=w;};q.prototype.kj=function(t){var v,w;void 0 === t && (t={});v=this.stream.ba.Ca;w=this.Fk || ({start:0,end:this.Ox});t=this.ncb(t);this.pa && this.pa !== this || (this.pa=new n.KC(this,this));t.start > w.start && (this.tM=this.pa.Za + t.start * v);t.end < w.end && (this.Uw=this.pa.Za + t.end * v);this.Fk=c.__assign(c.__assign({},w),t);};q.prototype.Gqa=function(t){void 0 === t && (t=1);this.Fk?this.kj({start:this.Fk.start + t,end:this.Fk.end}):this.kj({start:t});};q.prototype.Hqa=function(t){this.Fk?this.kj({start:this.Fk.start,end:(this.Fk.end || 0) - t}):this.kj({start:0,end:-t});};q.prototype.xj=function(){this.Ga?this.kj({start:this.Ga.start,end:this.Ga.start}):this.kj({start:0,end:0});};q.prototype.tac=function(t){this.Fk || this.kj();this.Fk.jea=t;};q.prototype.Mhb=function(t){this.Fk || this.kj();this.Fk.Zu=!0;t && (this.Fk.s3a=t);};q.prototype.Nhb=function(t){this.Fk || this.kj();this.Fk.$u=!0;t && (this.Fk.t3a=t);};q.prototype.O3a=function(t){var w;if(!(t < this.da || t >= this.Ta) && this.Mk && this.Mk.length){t=new d.M(t + 1 - this.da,1E3).bk(this.stream.ba);for(var v=this.Mk.length - 1;0 <= v;--v){w=this.Mk[v];if(w.jj <= t)return w;}return {jj:0,Re:this.dsa};}};q.prototype.UPb=function(t){var w;if(!(t < this.da || t >= this.Ta) && this.Mk && this.Mk.length){t=new d.M(t + 1 - this.da,1E3).bk(this.stream.ba);for(var v=this.Mk.length - 1;0 <= v;--v){w=this.Mk[v];if(w.jj <= t)return w;}return {jj:0,Re:this.dsa};}};q.prototype.F3a=function(t,v){var w,u,x;if(!(t < this.da || t >= this.Ta)){if(!v && this.Gxb)return {jj:0,Re:this.da};w=this.ba.Ca;u=this.ba.W;x=Math.floor(this.Vu / w);t=Math.min((v?Math.ceil:Math.floor)((d.M.Mbb(t,u) - this.Za + (v?-1:1) * (u / 1E3 - 1)) / w),x);w=d.M.Pea(this.Za + t * w,u);return t === x?void 0:{jj:t,Re:w};}};q.prototype.Ira=function(t){return this.mediaType === k.default.Sd.J?this.O3a(t):this.F3a(t,!1);};q.prototype.Hra=function(t){return this.mediaType === k.default.Sd.J?this.UPb(t):this.F3a(t,!0);};q.prototype.D6=function(t){this.pd+=t.ea;this.Uw=t.lb;this.Fk && (this.pa=new n.KC(this,{Za:this.k9,lb:this.Uw}),this.Fk.end=this.Ox);};q.prototype.AAa=function(t){var v,w,u;v={type:"logdata",target:"endplay",fields:{}};w=this.mediaType === k.default.Sd.V?"audioedit":"videoedit";u=[this.m9 === this.da?this.Pc:this.Nd,this.m9 === this.da?-this.duration:this.duration];t && u.push(t);v.fields[w]={type:"array",value:u};return v;};q.prototype.toString=function(){return ("[").concat(this.Pa,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.Nd,"-").concat(this.Pc,",") + ("p:").concat(this.zd,"-").concat(this.Lf,",d:").concat(this.duration,"]");};q.prototype.toJSON=function(){var t;t=l.vw.prototype.toJSON.call(this);(0,m.default)({index:this.index,startPts:this.da,endPts:this.Ta,"contentStartTicks:":this.Za,contentEndTicks:this.lb,contentStartPts:this.Nd,contentEndPts:this.Pc,fragmentStartPts:this.m9 !== this.da?this.m9:void 0,fragmentEndPts:this.m4a !== this.Ta?this.m4a:void 0,edit:this.Ga},t);return t;};q.prototype.N3a=function(t){var w;if(this.Mk)for(var v=0;v < this.Mk.length;++v){if(this.Mk[v].jj === t)w=this.Mk[v].offset;}return w;};q.prototype.ncb=function(t){var v,w;v=t.start || 0;w=void 0 === t.end?this.Ox:Math.min(this.Ox,Math.max(v,0 > t.end?this.Ox + t.end:t.end));return c.__assign(c.__assign({},t),{start:v,end:w});};return q;})(l.vw);b.wk=h;(0,r.Ue)(a.gu,h);(0,r.Ue)(a.cz,h);},function(r,b,a){var g,k,m,f;function c(d,l,n){var h,p,v;l=g.__assign({},null === (p=null === d || void 0 === d?void 0:d.context) || void 0 === p?void 0:p.call(d,{Kcb:l,Es:n}));if((null === d || void 0 === d?0:d.Es) && n)if(!0 === d.Es)l.args=n;else {p={};l.args=p;try{for(var q=g.__values(d.Es),t=q.next();!t.done;t=q.next()){v=t.value;p[v]=n[v];}}catch(u){var w;w={error:u};}finally{try{t && !t.done && (h=q.return) && h.call(q);}finally{if(w)throw w.error;}}}return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.Qw=b.Rta=b.kc=void 0;g=a(0);k=a(10);m=g.__importDefault(a(4));f=a(8);b.kc=function(d){return function(l,n,h){var p;p=h.value;h.value=function(){var q,t,v,w,u,x;t=(0,b.Rta)(this);if(t)(v=c(d,this,arguments),w=null !== (q=null === d || void 0 === d?void 0:d.methodName) && void 0 !== q?q:String(n),u=t.GXa(w,v,null === d || void 0 === d?void 0:d.Cl,null === d || void 0 === d?void 0:d.gpc));q=null === t || void 0 === t?void 0:t.Xpa;t && (t.Xpa=u);try{x=null === p || void 0 === p?void 0:p.apply(this,arguments);(0,f.Dva)(x) && (x=x.then(function(z){u && (null === d || void 0 === d?0:d.return) && (u.data.resolve=z);return z;},function(z){u && (u.data.reject=("").concat(z));return Promise.reject(z);}));return x;}catch(z){var y;y=z;throw z;}finally{t && (t.Xpa=q);u && (u.data || (u.data={}),y?(u.data.error=("").concat(y),null === t || void 0 === t?void 0:t.FHb(u)):(null === d || void 0 === d?0:d.return) && !(0,f.Dva)(x) && (u.data.lRet=x));}};};};b.Rta=function(d){if(null === d || void 0 === d?0:d.pka)return d.pka;};r=(function(){function d(l){this.Er=[];this.r5=!1;this.qla={};this.L=g.__assign({gq:10},l);Object.defineProperties(l.Vo,{pka:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(d.prototype,{source:{get:function(){return this.L.source;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return !this.r5;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{RYb:{get:function(){return g.__spreadArray([],g.__read(this.Er),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{cWb:{get:function(){return this.qla;},enumerable:!1,configurable:!0}});d.prototype.Eu=function(l){var n,h;if(!this.r5){h=null === (n=(0,b.Rta)(this.L.Vo)) || void 0 === n?void 0:n.Xpa;h && (h.data=g.__assign(g.__assign({},h.data),l));}};d.prototype.GXa=function(l,n,h,p){var q,t,v,w;if(!this.r5){v=!1;w=null === (t=(q=this.L).LXa) || void 0 === t?void 0:t.call(q,this.L.Vo);q=c({},this.L.Vo);n=g.__assign(g.__assign(g.__assign({},w),q),n);w=0 < Object.keys(n).length;n={methodName:l,data:w?n:void 0,time:m.default.time.ia()};p && this.qla[l]++;h && this.Er.length && (h=this.Er[this.Er.length - 1],h.methodName === l && (h.data=h.data || ({}),h.data.dedup=h.data.dedup || ({hitCount:1}),h.data.dedup.hitCount++,h.data.dedup.lJournal=n,v=!0));this.GHb(n);v || this.Er.push(n);this.Er.length > this.L.gq && this.Er.shift();return n;}};d.prototype.GHb=function(l){var n;k.N && (null === (n=this.L.console) || void 0 === n?void 0:n.trace(("").concat(this.L.source,"::").concat(l.methodName),l.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.L,l);};d.prototype.FHb=function(l){var n;k.N && (null === (n=this.L.console) || void 0 === n?void 0:n.error(("").concat(this.L.source,"::").concat(l.methodName),l.data));};d.prototype.xb=function(){Object.defineProperties(this.L.Vo,{pka:{enumerable:!1,value:null,configurable:!0}});this.r5=!0;this.clear();};d.prototype.clear=function(){this.Er=[];this.qla={};};return d;})();b.Qw=r;},function(r,b,a){var g,k,m,f,d;function c(l,n,h){this.context=l;this.errorCode=n;this.B9b=h;}Object.defineProperty(b,"__esModule",{value:!0});b.li=void 0;r=a(0);g=a(1);k=a(552);m=a(5);f=a(36);d=a(39);c.prototype.send=function(l,n,h,p,q,t){var v;v=this;t=void 0 === t?d.Gw.ET:t;return this.fSb(l,n,h,t,p,q).then(function(w){return v.context.BMb.send(w.context,w.request);});};c.prototype.fSb=function(l,n,h,p,q,t){var v,w;try{v=this.context.Y8b.create(this.context.lB.JA(),n.url,h,q,p);w=this.aFb(n,l,p,t);return Promise.resolve({context:w,request:v});}catch(u){return Promise.reject(u);}};c.prototype.aFb=function(l,n,h,p){return {pf:this.context.pf,log:n,so:l.name,url:this.context.sfc((0,k.zZa)(this.context.ti,this.context.Di,l.name,h)),RAa:this.B9b,timeout:(0,m.Hh)(59),headers:(0,k.yZa)(this.context.Di,this.context.mI),Dm:l.Dm,DEb:p};};c.prototype.un=function(l){return l instanceof f.od?l:(0,k.un)(this.errorCode,l);};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.gp)()),r.__param(1,(0,g.gp)()),r.__param(2,(0,g.gp)())],a);b.li=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tu="Utf8EncoderSymbol";},function(r,b,a){(function(c){var g,k,m,f,d,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.D1b=b.platform=b.zh=b.AOb=b.VSb=b.EX=b.ZO=b.B_b=b.aM=b.yf=b.zq=b.pl=b.nT=b.Pw=b.cM=void 0;g=a(0);g.__exportStar(a(182),b);g.__exportStar(a(395),b);g.__exportStar(a(887),b);g.__exportStar(a(888),b);g.__exportStar(a(889),b);k=a(116);Object.defineProperties(b,{cM:{enumerable:!0,get:function(){return k.cM;}}});Object.defineProperties(b,{Pw:{enumerable:!0,get:function(){return k.Pw;}}});Object.defineProperties(b,{nT:{enumerable:!0,get:function(){return k.nT;}}});g.__exportStar(a(900),b);g.__exportStar(a(901),b);g.__exportStar(a(401),b);g.__exportStar(a(251),b);g.__exportStar(a(20),b);g.__exportStar(a(59),b);g.__exportStar(a(405),b);m=a(905);Object.defineProperties(b,{pl:{enumerable:!0,get:function(){return m.pl;}}});Object.defineProperties(b,{zq:{enumerable:!0,get:function(){return m.zq;}}});f=a(55);Object.defineProperties(b,{yf:{enumerable:!0,get:function(){return f.yf;}}});d=a(409);Object.defineProperties(b,{aM:{enumerable:!0,get:function(){return d.aM;}}});g.__exportStar(a(184),b);g.__exportStar(a(913),b);b.B_b=function(h){b.platform.bY(h);if(!c.QW.rhc)return a(917).jMa;throw Error("Legacy not included in bundle");};b.ZO=function(h){b.platform.bY(h);return Promise.resolve().then(function(){return g.__importStar(a(457));}).then(function(p){return p.ZO();});};b.EX=function(h,p){b.platform.bY(h);return Promise.resolve().then(function(){return g.__importStar(a(460));}).then(function(q){return q.EX(p);});};b.VSb=function(){return a(255);};l=g.__importDefault(a(28));b.AOb=l.default;l=a(1177);b.zh=l.zh;l=g.__importDefault(a(4));b.platform=l.default;n=a(1178);b.D1b=function(){return {Fw:n.Fw};};}).call(this,a(128));},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gbb=b.rxa=b.ag=b.u=void 0;c=a(49);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return c.u;}}});b.ag=[c.u.V,c.u.J];b.rxa=function(g,k,m){g=g || k?k?[c.u.J]:[c.u.V]:[c.u.V,c.u.J];m && g.push(c.u.Hb);return g;};b.gbb=function(g){return g === c.u.V?"audio":g === c.u.J?"video":g === c.u.Hb?"text":"unknown";};},function(r,b,a){var f;function c(d,l){return void 0 === d?void 0:0 === d?f.M.Ha:new f.M(d,l);}function g(d,l){return d && Math.floor(f.M.Pea(d,l));}function k(d,l){return void 0 === d || void 0 === l?void 0:d + l;}function m(d,l){return void 0 === d || void 0 === l?void 0:d - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.cz=b.gu=void 0;f=a(20);r=(function(){function d(){}Object.defineProperties(d.prototype,{Vu:{get:function(){return m(this.lb,this.Za) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{z5b:{get:function(){return k(this.Za,this.Kj);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{v5b:{get:function(){return k(this.lb,this.Kj);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Wu:{get:function(){return c(this.Vu,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{pc:{get:function(){return c(this.Za,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Fd:{get:function(){return c(this.lb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jd:{get:function(){return c(this.z5b,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Oc:{get:function(){return c(this.v5b,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Uza:{get:function(){return c(this.Kj,this.W);},enumerable:!1,configurable:!0}});return d;})();b.gu=r;r=(function(){function d(){}Object.defineProperties(d.prototype,{duration:{get:function(){return m(this.Ta,this.da) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{da:{get:function(){return g(k(this.Za,this.Kj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ta:{get:function(){return g(k(this.lb,this.Kj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Wv:{get:function(){return g(this.Kj,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Pk:{get:function(){return g(this.Za,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Nd:{get:function(){return g(this.Za,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Pc:{get:function(){return g(this.lb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{zd:{get:function(){return g(k(this.Za,this.Kj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Lf:{get:function(){return g(k(this.lb,this.Kj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qn:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$B:{get:function(){return this.da;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{By:{get:function(){return this.Ta;},enumerable:!1,configurable:!0}});return d;})();b.cz=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hu={Request:"Request",Nja:"Singleton",r4:"Transient"};b.xk={WGa:"ConstantValue",XGa:"Constructor",hIa:"DynamicValue",hha:"Factory",Function:"Function",Instance:"Instance",Urb:"Invalid",FQa:"Provider"};b.Fz={MGa:"ClassProperty",YGa:"ConstructorArgument",gka:"Variable"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WKa="Injector";b.rz=145152E5;b.TL="ProfileSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dz="Base16EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bz="PboConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$L="TimingApiSymbol";b.sT="MilestoneTimingApiSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pz="IdProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qz="LogMessageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bq={start:"start",stop:"stop",vY:"keepAlive",zO:"engage",splice:"splice"};b.eha="EventPboCommandFactorySymbol";b.VRa="StartEventPboCommandSymbol";b.aSa="StopEventPboCommandSymbol";b.gLa="KeepAliveEventPboCommandSymbol";b.QRa="SpliceEventPboCommandSymbol";b.HIa="EngageEventPboCommandSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(239);c=a(149);b.zic=c;c=a(384);b.TSa=c;c=a(389);b.yV=c;b.Lja=r.kQ.oe.sidx;r=a(822);b.Fw=r.Fw;r=a(248);b.BG=r.BG;r=a(827);b.xz=r.xz;b.RP=r.RP;r=a(828);b.Lha=r.Lha;r=a(87);b.vM=r.vM;a=a(829);b.u=a.u;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(102);b.vM=function(g){c.assert("number" === typeof g);return String.fromCharCode(g >>> 24 & 255) + String.fromCharCode(g >>> 16 & 255) + String.fromCharCode(g >>> 8 & 255) + String.fromCharCode(g & 255);};b.aUa=function(g){return g.charCodeAt(3) + (g.charCodeAt(2) << 8) + (g.charCodeAt(1) << 16) + (g.charCodeAt(0) << 24);};b.omc=function(g,k){return Math.floor(1E3 * g / k);};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(m){g.prototype.parse.call(this,m);this.bd=this.Ey([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{hpc:"int32"},{Bsc:"int32"},{offset:32,type:"offset"},{Doc:"int16"},{Bnc:{type:"int8",mDb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};k.ud=!0;return k;})(a(240).default);b.default=r;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.hf="avc1";return k;})(r);b.snb=a;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.hf="avc2";return k;})(r);b.tnb=a;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.hf="avc3";return k;})(r);b.unb=a;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.hf="avc4";return k;})(r);b.vnb=a;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.hf="hvc1";return k;})(r);b.arb=a;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.hf="hev1";return k;})(r);b.Uqb=a;r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.hf="av01";return k;})(r);b.rnb=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.uw=void 0;r=(function(){function a(c){this.ce=c;}a.prototype.NBa=function(c){this.ce=c;};a.prototype.r_a=function(){this.ce=void 0;};a.prototype.eX=function(c){return this.ce && this.ce.ica && this.ce.ica(c);};a.prototype.OO=function(c){this.ce && this.ce.SB && this.ce.SB(c);};a.prototype.AE=function(c){this.ce && this.ce.RB && this.ce.RB(c);};a.prototype.CI=function(c){this.ce && this.ce.JJ && this.ce.JJ(c);};a.prototype.f4a=function(c){this.ce && this.ce.Dya && this.ce.Dya(c);};a.prototype.ev=function(c){this.ce && this.ce.Zk && this.ce.Zk(c);};a.prototype.i9=function(c){this.ce && this.ce.FZ && this.ce.FZ(c);};a.prototype.NO=function(c,g,k){this.ce && this.ce.EZ && this.ce.EZ(c,g,k);};a.prototype.j9=function(c,g,k){this.ce && this.ce.KJ && this.ce.KJ(c,g,k);};a.prototype.g4a=function(c){this.ce && this.ce.hca && this.ce.hca(c);};return a;})();b.uw=r;r.prototype.ica=r.prototype.eX;r.prototype.SB=r.prototype.OO;r.prototype.RB=r.prototype.AE;r.prototype.JJ=r.prototype.CI;r.prototype.Zk=r.prototype.ev;r.prototype.FZ=r.prototype.i9;r.prototype.EZ=r.prototype.NO;r.prototype.Dya=r.prototype.f4a;r.prototype.KJ=r.prototype.j9;r.prototype.hca=r.prototype.g4a;},function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oj={audio:"audio",video:"video",Nea:"timedtext",uDa:"trickplay"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jz="DeviceFactorySymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Rj=b.atb=b.bD=void 0;c=a(15);b.bD=b.bD || (function(g,k,m){return g >= k?g <= m?g:m:k;});b.atb=function(g,k,m,f,d){return (g - k) * (d - f) / (m - k) + f;};b.Rj=function(g){if((0,c.Oa)(g))return (g / 1E3).toFixed(3);};},function(r,b,a){var k,m;function c(f,d,l,n,h){var p,q,v;p={};q="number" === typeof h;h=void 0 !== h && q?h.toString():l;if(q && void 0 !== l)throw Error(k.Frb);Reflect.fua(f,d) && (p=Reflect.getMetadata(f,d));l=p[h];if(Array.isArray(l)){q=0;for(var t=l;q < t.length;q++){v=t[q];if(v.key === n.key)throw Error(k.Wpb + " " + v.key.toString());}}else l=[];l.push(n);p[h]=l;Reflect.g8(f,p,d);}function g(f,d){return function(l,n){d(l,n,f);};}Object.defineProperty(b,"__esModule",{value:!0});k=a(56);m=a(41);b.RK=function(f,d,l,n){c(m.lSa,f,d,n,l);};b.y0=function(f,d,l){c(m.mSa,f.constructor,d,l);};b.Rp=function(f,d,l){"number" === typeof l?(f=[g(l,f)],Reflect.Rp(f,d)):"string" === typeof l?Reflect.Rp([f],d,l):Reflect.Rp([f],d);};},function(r,b,a){var g,k,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.vL=b.Bb=void 0;g=a(122);k=a(36);m=a(3);c.tX=function(f){if(f){if(f.includes(b.vL.WB))return g.Lm.WB;if(f.includes("fps"))return g.Lm.yE;if(f.includes(b.vL.zfa))return g.Lm.zfa;}throw new k.od(m.$.rqb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + f);};c.Hsa=function(f){switch(f){case g.Lm.WB:return b.vL.WB;case g.Lm.yE:return b.vL.yE;default:return b.vL.zfa;}};b.Bb=c;c.Cz="com.microsoft.playready";c.je="com.microsoft.playready.hardware";c.IG="com.microsoft.playready.software";c.Lqb="com.apple.fps.2_0";c.vTa="com.widevine.alpha";c.qPa="com.microsoft.playready.recommendation.3000";c.rPa="com.microsoft.playready.recommendation.2000";c.drb=[c.qPa];b.vL={yE:"fairplay",zfa:"widevine",WB:"playready"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.avb="StorageValidatorSymbol";b.JC="AppStorageFactorySymbol";},function(r,b,a){var g,k;function c(m,f,d,l,n){m=void 0 === m?g.$.eo:m;return k.od.call(this,m,f,d,void 0,void 0,l,k.od.cf(n),n) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Oh=void 0;g=a(3);k=a(36);ja(c,k.od);b.Oh=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vz="MediaKeySystemAccessServicesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rS=b.Fnb=b.Xfa=b.Yfa=void 0;(function(a){a[a.o2a=0]="downloading";a[a.VMb=1]="downloaded";a[a.me=2]="appended";a[a.buffered=3]="buffered";a[a.VQ=4]="removed";a[a.rsc=5]="unused";})(b.Yfa || (b.Yfa={}));(function(a){a[a.waiting=1]="waiting";a[a.Bqc=2]="ondeck";a[a.o2a=4]="downloading";a[a.VMb=8]="downloaded";a[a.hY=6]="inprogress";})(b.Xfa || (b.Xfa={}));b.Fnb="AseBufferViewSymbol";b.rS="AseBufferAccountingSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qia=b.bo=void 0;r=b.bo || (b.bo={});r.GG="PRE_FETCH";r.pub="QC";r.Fq="STANDARD";r.h4="SUPPLEMENTAL";r.sic="DOWNLOAD";b.Qia="PboManifestCommandSymbol";},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.j7a=b.alb=b.Nv=b.kba=b.hbb=void 0;r=a(755);c=a(758);g=a(779);a=a(783);b.hbb=r;b.kba=function(k,m){return (0,b.hbb)(function(f,d){return void 0 !== d?d:f;},k,m);};b.Nv=c;b.alb=g;b.j7a=a;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);g=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);return m;})(Error);b.assert=function(k,m){if(!k)throw new g(m || "Assertion failed");};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uia="6674654e-696c-5078-6966-665374726d21";b.wia="6674654e-696c-4878-6165-6465722e7632";b.mNa="6674654e-696c-5078-6966-66496e646578";b.C3="6674654e-696c-4d78-6f6f-6653697a6573";b.B3="6674654e-696c-5378-6565-6b506f696e74";b.XNa="cedb7489-e77b-514c-84f9-7148f9882554";b.WNa="524f39a2-9b5a-144f-a244-6c427c648df4";b.tia="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var h;function c(p,q){if(p.length == q.length && 1 < p.length){for(var t=p.length,v=0,w=f(p),u=f(q),x=0;x < t;x++){v+=p[x] * q[x];}return (v - w * u / t) / t;}return !1;}function g(p){if(!Array.isArray(p) || 2 > p.length)return !1;p=k(p);return Math.sqrt(p);}function k(p){var q;if(!Array.isArray(p) || 2 > p.length)return !1;q=m(p);return f(p.map(function(t){return (t - q) * (t - q);})) / (p.length - 1);}function m(p){return Array.isArray(p) && p.length?f(p) / p.length:!1;}function f(p){return Array.isArray(p)?p.reduce(function(q,t){return q + t;},0):!1;}function d(p,q,t){return Math.max(Math.min(p,t),q);}function l(p,q){return "number" === typeof p?p:q;}function n(p){return 1 / (1 + Math.exp(-p));}h=a(11);r.exports={gb:function(p,q,t){try{p.emit(q,t);}catch(v){p.Gk("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",v,"Event:",t);}},FA:function(){var p,q,t;p=Array.prototype.concat.apply([],arguments);q=p.reduce(function(v,w){return v + w.byteLength;},0);t=new Uint8Array(q);p.reduce(function(v,w){t.set(new Uint8Array(w),v);return v + w.byteLength;},0);return t.buffer;},x7:d,OGb:function(p,q,t,v){return {min:d(l(p.min,q),t,v),max:d(l(p.max,q),t,v),yA:d(p.yA || 6E4,0,6E5),WZa:d(p.WZa || 0,-3E5,3E5),scale:d(p.scale || 6E4,0,3E5),ahb:d(p.ahb || 0,-3E5,3E5),gamma:d(p.gamma || 1,.1,10)};},ph:function(p,q){void 0 !== p && h.s4b(p).forEach(function(t){q(t[0],t[1]);});},gra:function(p,q,t){return p.min + (p.max - p.min) * (1 - Math.pow(n(6 * (q - (p.yA + (p.WZa || 0) * (1 - t))) / (p.scale + (p.ahb || 0) * (1 - t))),p.gamma));},GOb:function(p,q){return p.min + (p.max - p.min) * Math.pow(n(6 * (q - p.yA) / p.scale),p.gamma);},Toc:f,uRb:m,RUb:k,Roc:g,Joc:c,Ioc:function(p,q){var t;if(p.length == q.length){t=c(p,q);p=g(p);q=g(q);if(0 < p && 0 < q)return t / (p * q);}return !1;},Ai:function(p,q,t){return q.P0a?q.P0a(t):new p.Console("ASEJS","media|asejs",q.prefix?q.prefix + " " + t:t);},m$b:function(p){return p.length?"{" + p + "} ":"";},Z9b:function(p,q,t){return {min:p.min * t + (1 - t) * q.min,max:p.max * t + (1 - t) * q.max,yA:p.yA * t + (1 - t) * q.yA,scale:p.scale * t + (1 - t) * q.scale,gamma:p.gamma * t + (1 - t) * q.gamma};},tanh:Math.tanh || (function(p){var q;q=Math.exp(+p);p=Math.exp(-p);return Infinity == q?1:Infinity == p?-1:(q - p) / (q + p);}),eCa:n,Bv:function(p){var q;q=p.Ua.ab.G.id;return {da:p.da,duration:p.duration,offset:p.offset,ea:p.ea,bitrate:p.bitrate,profile:p.profile,Fc:p.Fc,Y:q,Pa:p.Pa,tc:p.tc,location:p.location,$h:p.$h,Pk:p.Pk,zt:{ab:{G:{id:q}}}};}};},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.I1=b.Mh=void 0;c=a(0);r=c.__importDefault(a(14));g=c.__importStar(a(11));k=r.default.$f;m=c.__importDefault(a(4));f=m.default.ps;d=a(185);l=c.__importDefault(a(154));n=a(8);r=a(35);a(2);a(987);h=a(190);p=a(188);(function(t){t[t.Osb=0]="NOTHING_APPENDED";t[t.gtb=1]="PARTIAL";t[t.hs=2]="COMPLETE";t[t.Nf=3]="ERROR";})(q=b.Mh || (b.Mh={}));a=(function(t){function v(w,u,x,y,z,A,B){u=t.call(this,u,x) || this;u.Txb=! !y.Fc;h.dG.oa(u,w,y,z,A,B);p.vw.oa(u,w,y);u.Gvb=w.W9(u.Fc,u.cq);u.oka=y.responseType;u.Fvb=y.gea;void 0 === u.oka && (u.oka=f.fd && !f.fd.I_.JT?0:1);u.Uj=new k();u.Uj.on(u,f.Ve.FNa,u.Ula);u.Uj.on(u,f.Ve.ENa,u.pzb);u.Uj.on(u,f.Ve.GNa,u.szb);u.Uj.on(u,f.Ve.xT,u.Tla);u.Uj.on(u,f.Ve.Mkc,u.ozb);u.Uj.on(u,f.Ve.FG,u.EU);u.eM=!1;u.Ye=!1;u.Wm=!1;u.Bp=!1;u.lU=!1;u.lAb=y.F_;u.yAb=y.lC;u.Et=0;return u;}c.__extends(v,t);Object.defineProperties(v.prototype,{Fc:{get:function(){return this.Txb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{active:{get:function(){return this.Ye;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{iAa:{get:function(){return this.Wm;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{complete:{get:function(){return !this.eM && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{aborted:{get:function(){return this.eM;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{wva:{get:function(){return this.Bp && !this.lU;},enumerable:!1,configurable:!0}});v.prototype.oa=function(w){var u;h.dG.prototype.oa.call(this,w);if(!this.zp && (this.Be.Xma || !this.Fc) && (w=this.zp=l.default.instance(),this.active)){u=m.default.time.ia();w.Yv(u,this.GF);this.Wm && (w.sgb(),u=this.mK,this.connect && 0 < u.length && w.lA(u[0]));}};v.prototype.zr=function(){return this.me || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};v.prototype.ND=function(w,u,x,y,z){var A;y || (y=(0,n.Bv)(this));this.me=z?this.Be.R3b?z.every(function(B,C){return u.appendBuffer(B,0 === C?y:void 0);}):u.appendBuffer(1 < z.length?(0,n.FA)(z):z[0],y):u.appendBuffer(this.response,y);null === (A=this.w5) || void 0 === A?void 0:A.Y2b();this.response && this.UQ();return {status:this.me?q.hs:q.Nf};};v.prototype.MJ=function(){var w;null === (w=this.w5) || void 0 === w?void 0:w.s3b();(this.Bp=f.prototype.open.call(this,this.Gvb,{start:this.offset,end:this.offset + this.ea - 1},this.oka,{},void 0,void 0,this.Fvb,this.stream.Qt)) && this.eX(this);return this.Bp;};v.prototype.abort=function(){var w,u;if(this.aborted)return !0;w=this.Ye;u=this.zp;u && w && u.Gy(m.default.time.ia(),this.Wm,this.GF);this.eM=!0;this.Wm=this.Ye=!1;f.prototype.abort.call(this);this.NO(this,w,this.wva);return !0;};v.prototype.rd=function(){7 !== this.readyState && 5 !== this.readyState && this.abort();this.Uj && this.Uj.clear();t.prototype.rd.call(this);};v.prototype.Ula=function(){var w,u;u=this.ig || this.loadTime;null === (w=this.w5) || void 0 === w?void 0:w.m3b();d.ez.instance().push(m.default.time.ia() - u);this.Ye || (this.Ye=!0,this.yv=this.track.yv(),this.stream.L.uab || (w=this.zp) && w.Yv(u,this.GF),this.OO(this),this.Tv=this.ig);};v.prototype.pzb=function(){var w,u,x,y;null === (w=this.w5) || void 0 === w?void 0:w.i3b();w=this.ig || this.Nra;u=this.connect;x=this.mK;d.ez.instance().push(m.default.time.ia() - w);this.Ye || (this.Ye=!0);if(!this.Wm){this.Wm=!0;y=this.zp;this.stream.L.uab && y && y.Yv(w,this.GF);y && y.sgb();u && 0 < x.length && y && y.lA(x[0]);this.AE(this);this.Tv=w;0 >= this.ea && (w=this.ea,this.R$b(this.Hg),this.j9(this,this.Hg,w));this.stream.Ya?this.HVb=this.stream.A4b(this.getResponseHeader("X-TCP-Info",!0)):this.getAllResponseHeaders(!0);}};v.prototype.szb=function(){var w,u,x;w=this.ig;u=this.bytesReceived - this.Et;d.ez.instance().push(m.default.time.ia() - w);this.Wm || (this.Wm=!0);x=this.zp;x && (void 0 === this.Tv || x.LD(u,this.Tv,w,this.GF),(u=this.mK) && u.length && u.forEach(function(y){x.kA(y);}));this.CI(this);this.Tv=w;this.Et=this.bytesReceived;};v.prototype.Tla=function(){var w,u,x;null === (w=this.w5) || void 0 === w?void 0:w.vZ();w=this.ig;u=this.bytesReceived - this.Et;d.ez.instance().push(m.default.time.ia() - w);x=this.zp;x && (0 < u && x.LD(u,this.Tv,w,this.GF),(u=this.mK) && u.length && u.forEach(function(y){x.kA(y);}),x.Gy(w,this.Wm,this.GF));this.Wm=this.Ye=!1;this.lU=!0;this.ev(this);this.Tv=w;this.Et=this.bytesReceived;this.rd();};v.prototype.ozb=function(){this.g4a(this);};v.prototype.oxb=function(){var w,u;w=(w=this.stream)?w.toString():this.url;u=this.JN;u && (w+=",range " + u.start + "-" + u.end);return w;};Object.defineProperties(v.prototype,{GF:{get:function(){return {requestId:this.oxb(),Tk:this.tc,type:this.mediaType,F_:this.lAb,ea:this.ea,bytesReceived:this.bytesReceived,lC:this.yAb};},enumerable:!1,configurable:!0}});v.prototype.EU=function(){var w,u,x,y;this.H.warn("AseMediaRequest._onError:",this.toString());w=this.ig;u=this.status;x=this.zg;y=this.Bi;d.ez.instance().push(m.default.time.ia() - w);this.complete?this.H.warn("Error on a done request " + this.toString() + ", failurecode: " + x):this.aborted?this.H.warn("Error on an aborted request " + this.toString() + ", failurecode: " + x):g.Oa(x)?((x=this.zp) && this.Be && this.Be.BAa && this.loadTime && void 0 === u && x.LD(this.Et?this.bytesReceived - this.Et:this.bytesReceived,this.Tv?this.Tv:this.loadTime,w,this.GF),this.i9(this)):this.H.warn("ignoring undefined request error (nativecode: " + y + ")");};return v;})(f);b.I1=a;(0,r.Ue)(h.dG,a,!1);(0,r.Ue)(p.vw,a,!1);},function(r,b,a){var l,n,h,p,q,t,v,w,u,x,y,z,A;function c(){this.rg=(0,t.ck)("Http");this.rl=new l.yk();this.aH=0;this.bc={ssl:0,"non-ssl":0,invalid:0};this.Z3={Hb:1,Avb:2,IFa:3};this.addEventListener=this.rl.addListener;this.removeEventListener=this.rl.removeListener;}function g(B){var C,D,E,G;C=B.url.split("?");D="sc=" + B.e$b;E=B.AZa?"random=" + (1E17 * (0,u.mT)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=E?"&" + E:"";B.Ac && !(0,h.naa)(G) && (B=n.config && n.config.Ioa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;}function k(B,C){var D,E,G;D=B.url.split("?");E=m(B);G=D[0];E && (C.It=E,(void 0 === B.au?n.config.au:B.au) || B.Qt !== z.wT?(B.headers=B.headers || ({}),B.headers.Range="bytes=" + E):(C.It=E,G="/" === G[G.length - 1]?G + "range/":G + "/range/",G+=E));E=B.AZa?"random=" + (1E17 * (0,u.mT)()).toFixed(0):"";n.config.rE && B.gea && (E="sc=" + B.gea + (E?"&" + E:""));G=D[1]?G + ("?" + D[1] + (E?"&" + E:"")):G + (E?"?" + E:"");B.Ac && !(0,h.naa)(G) && (B=n.config && n.config.Ioa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));C.url=G;}function m(B){var C;C=B.offset;if(void 0 !== C)return ((0,v.lW)(C),void 0 !== B.length?(B=C + B.length - 1,(0,v.lW)(B),C + "-" + B):C + "-");}function f(B,C,D,E){var G,F;G=E.seb;F=E.headers;B.open(G?"POST":"GET",C,!D);switch(E.responseType){case b.YX:B.responseType="arraybuffer";break;case b.wua:(0,w.OZa)(B,"overrideMimeType",void 0,"text/xml");}G && (C={"Content-Type":(0,y.Cg)(G)?"text/plain":"application/x-octet-stream"},F=F?(0,w.Fe)(C,F):C);F && (0,w.ph)(F,function(I,L){B.setRequestHeader(I,L);});E.withCredentials && (B.withCredentials=!0);G?B.send(G):B.send();}function d(B,C){switch(C.type){case b.YX:return B.response || new ArrayBuffer(0);case b.wua:return B.responseXML;default:return B.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.YX=b.wua=b.vua=b.nWb=b.yua=b.mWb=b.W7a=b.A$=b.pf=b.Bvb=b.Cvb=b.lWb=b.xua=b.iWb=b.jWb=b.hWb=b.kWb=void 0;l=a(70);n=a(19);r=a(17);h=a(40);p=a(60);q=a(3);t=a(9);v=a(23);w=a(25);u=a(13);x=a(58);y=a(15);z=a(63);A=a(1227);c.prototype.fbc=function(B){var C;C=new XMLHttpRequest();B=g(B);C.open("HEAD",B);C.onreadystatechange=function(){2 === C.readyState && !1;};C.send();};c.prototype.download=function(B,C){var O,H,J,R,P,T,V,S,W,ia,ra,ua,Aa,Ha;function D(){var N;if(!V){V=!0;Ha && (mb.clearTimeout(Ha),Ha=null);O.rl.removeListener(b.yua,I);O.gma(ra,ua);ua && (ua.onloadstart=null,ua.onreadystatechange=null,ua.onprogress=null,ua.onerror=null,ua.onload=null,ua=ua.onabort=null);ra.ga || (ra.za != q.X.SC?J.warn("Download failed",T,(0,q.nz)(ra)):J.trace("Download aborted",T));N=S;S=null;null === N || void 0 === N?void 0:N.reduceRight(function(Q,U){(0,x.yg)(function(){return U(ra);});},null);O.rl.Uc(b.W7a,ra,!0);}}function E(){Ha && (mb.clearTimeout(Ha),Ha=null);Ha=mb.setTimeout(L,Aa?P:R);}function G(N,Q,U,Z){var qa,Fa;ra.ga=!1;ra.za=N;qa=(0,p.ro)();Fa=ra.wm;Fa.hj=Fa.hj || qa;Fa.mq=Fa.mq || qa;Q && 0 < Q && (ra.Dl=Q,ra.Rf=Q.toString());U && (ra.Qb=U);Z && (ra.HF=Z);N !== q.X.VS && N !== q.X.qG && N !== q.X.YS || !ua || (ua.onabort=null,M());D();}function F(N){var Q,U;try{U=N.getResponseHeader("X-Netflix.Retry.Server.Policy");U && (Q=JSON.parse(U));}catch(Z){!1;}return Q;}function I(){(0,b.xua)() || G(q.X.VS);}function L(){G(Aa?q.X.qG:q.X.YS);}function M(){try{null === ua || void 0 === ua?void 0:ua.abort();}catch(N){}}function K(){G(q.X.SC);}O=this;(0,v.Ka)(C);J=(null === (H=null === B || void 0 === B?void 0:B.j) || void 0 === H?0:H.log)?(0,t.aj)(B.j,"Http"):this.rg;R=B.F7 || n.config.F7;P=B.Vxa || n.config.Vxa;T={Num:this.aH++};V=!1;S=[C];W={};this.gBb(B);ra=new A.iKa(B,M,L,W,function(N){V || ((0,v.Ka)(S,"Callback should be added before download starts."),S && S.unshift(N));});Aa=!1;(0,x.yg)(function(){var N,Q;if((0,y.Kva)(B.url))try{if((k(B,ra),ia=ra.url,(0,v.mW)(ia),T.Url=ia,(0,b.xua)())){!1;ua=new XMLHttpRequest();N=n.config.Efc && "undefined" != typeof ua.onloadstart;N && (ua.onloadstart=function(){var U;U=(0,p.ro)();W.Ur=U;ra.yZ({mediaRequest:B,timestamp:U});});ua.onreadystatechange=function(){2 === (null === ua || void 0 === ua?void 0:ua.readyState) && (Aa=!0,W.hj=(0,p.ro)(),ua.onreadystatechange=null,E(),!1,O.gma(ra,ua),ra.zZ({timestamp:W.hj,connect:!0,mediaRequest:B,start:W.Ur,rt:[W.hj - W.Ur],responseHeaders:ra.headers}));};ua.onprogress=function(U){Aa=!0;W.aW=U.loaded;E();O.gma(ra,ua);U={mediaRequest:B,bytes:U.loaded,timestamp:(0,p.ro)(),bytesLoaded:U.loaded,responseHeaders:ra.headers};ra.zZ(U);};ua.onload=function(U){!V && ua && ((0,v.Ka)(void 0 === W.mq),W.mq=(0,p.ro)(),W.hj=W.hj || W.mq,W.aW=U.loaded,200 <= ua.status && 299 >= ua.status?(U=d(ua,ra),ra.parsed=!1,ra.content=U,ra.ga=!0):420 === ua.status?G(q.X.XS,ua.status):G(q.X.WS,ua.status,ua.response,F(ua)),D());};ua.onabort=K;ua.onerror=function(){var U,Z;if(ua){U=ua.status;"undefined" !== typeof n.config.d4a && (U=n.config.d4a);if(0 < U){if(420 === U)G(q.X.XS,U);else {try{Z=ua.responseText;}catch(qa){}G(q.X.WS,U,Z,F(ua));}}else G(q.X.ZS);}};Q=(0,p.ro)();f(ua,ia,!1,B);O.rl.Uc(b.A$,ra,!0);N || (W.Ur=Q,ra.yZ({mediaRequest:B,timestamp:Q}));E();O.rl.addListener(b.yua,I);}else (0,x.yg)(G.bind(void 0,q.X.VS));}catch(U){J.error("Exception starting download",U,T);G(q.X.xha,void 0,(0,w.cf)(U));}else G(q.X.OJa);});return ra;};c.prototype.H6b=function(B){var C,D,E;C=new XMLHttpRequest();D=B.url;E=B.G6b;C.open("HEAD",D);C.timeout=Math.max(2 * E.f_b,n.config.Hza);C.onreadystatechange=function(){2 === C.readyState && (!1,E && E.qQ({url:D}));};C.ontimeout=C.onerror=function(){!1;E && E.cya({url:D});};C.send();};c.prototype.gBb=function(B){var C;try{C=B.url;(0,y.Kva)(C)?0 === C.indexOf("https")?this.bc.ssl++:0 === C.indexOf("http")?this.bc["non-ssl"]++:this.bc.invalid++:this.bc.invalid++;}catch(D){}};c.prototype.gma=function(B,C){var D;if(!B.headers && C){D={};C.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(E){var G;G=ma(E.split(": "));E=G.next().value;G=da(G).join(": ");E && (D[E.toLowerCase()]=G);});B.headers=D;}};b.kWb=g;b.hWb=function(B){var C,D,E,G;C=B.url.split("?");D="bb_reason=" + B.reason;E=B.AZa?"random=" + (1E17 * (0,u.mT)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=E?"&" + E:"";B.Ac && !(0,h.naa)(G) && (B=n.config && n.config.Ioa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;};b.jWb=k;b.iWb=m;b.xua=r.JQa;b.lWb=function(){return !1 !== u.Xe.onLine;};b.Cvb=f;b.Bvb=d;b.pf=new c();b.A$=1;b.W7a=2;b.mWb=3;b.yua=4;b.nWb=5;b.vua=b.pf.Z3.Hb;b.wua=b.pf.Z3.Avb;b.YX=b.pf.Z3.IFa;mb._cad_global.http=b.pf;},function(r,b,a){b=a(210);r.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},function(r,b,a){var c;c=a(637);r.exports=function(g){return "symbol" === typeof g?"Symbol":"bigint" === typeof g?"BigInt":c(g);};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HG="PlatformConfigDefaultsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vHa="DebugConfigSymbol";b.gz="DebugSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fha="EventSourceSymbol";b.iha="GlobalEventSourceSymbol";b.i2="DebugEventSourceSymbol";b.KHa="DiagnosticsEventSourceSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YL="ThrottleFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GL="LoggerSinksSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zG="ManifestFetcherSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(890),b);r.__exportStar(a(891),b);r.__exportStar(a(892),b);r.__exportStar(a(893),b);r.__exportStar(a(894),b);r.__exportStar(a(895),b);r.__exportStar(a(896),b);r.__exportStar(a(897),b);r.__exportStar(a(398),b);r.__exportStar(a(399),b);r.__exportStar(a(898),b);r.__exportStar(a(899),b);r.__exportStar(a(400),b);},function(r){var l,n,h,p;function b(){b.oa.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,t,v,w){var u,x;a(v);u=q.Ng;if(void 0 === u)(u=q.Ng=Object.create(null),q.gH=0);else {void 0 !== u.wqc && (q.emit("newListener",t,v.listener?v.listener:v),u=q.Ng);x=u[t];}void 0 === x?(u[t]=v,++q.gH):("function" === typeof x?x=u[t]=w?[v,x]:[x,v]:w?x.unshift(v):x.push(v),v=void 0 === q.DU?b.yLb:q.DU,0 < v && x.length > v && !x.ugc && (x.ugc=!0,v=Error("Possible EventEmitter memory leak detected. " + x.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit"),v.name="MaxListenersExceededWarning",v.Rs=q,v.type=t,v.count=x.length,console && console.warn && console.warn(v)));return q;}function g(){if(!this.R3a)return (this.target.removeListener(this.type,this.Gmb),this.R3a=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function k(q,t,v){q={R3a:!1,Gmb:void 0,target:q,type:t,listener:v};t=g.bind(q);t.listener=v;return q.Gmb=t;}function m(q){var t;t=this.Ng;if(void 0 !== t){q=t[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function f(q,t,v){"function" === typeof q.on && d(q,"error",t,v);}function d(q,t,v,w){if("function" === typeof q.on){if(w.once)q.once(t,v);else q.on(t,v);}else if("function" === typeof q.addEventListener)q.addEventListener(t,function y(x){w.once && q.removeEventListener(t,y);v(x);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}l="object" === typeof Reflect?Reflect:null;n=l && "function" === typeof l.apply?l.apply:function(q,t,v){return Function.prototype.apply.call(q,t,v);};h=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,t){return new Promise(function(v,w){function u(y){q.removeListener(t,x);w(y);}function x(){"function" === typeof q.removeListener && q.removeListener("error",u);v([].slice.call(arguments));}d(q,t,x,{once:!0});"error" !== t && f(q,u,{once:!0});});};b.EventEmitter=b;b.prototype.Ng=void 0;b.prototype.gH=0;b.prototype.DU=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || h(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.oa=function(){if(void 0 === this.Ng || this.Ng === Object.getPrototypeOf(this).Ng)(this.Ng=Object.create(null),this.gH=0);this.DU=this.DU || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || h(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.DU=q;return this;};b.prototype.emit=function(q){var w,u;for(var t=[],v=1;v < arguments.length;v++){t.push(arguments[v]);}w="error" === q;v=this.Ng;if(void 0 !== v)w=w && void 0 === v.error;else if(!w)return !1;if(w){0 < t.length && (u=t[0]);if(u instanceof Error)throw u;t=Error("Unhandled error." + (u?" (" + u.message + ")":""));t.context=u;throw t;}v=v[q];if(void 0 === v)return !1;if("function" === typeof v)n(v,this,t);else {u=v.length;w=Array(u);for(var x=0;x < u;++x){w[x]=v[x];}for(v=0;v < u;++v){n(w[v],this,t);}}return !0;};b.prototype.addListener=function(q,t){return c(this,q,t,!1);};b.prototype.on=b.prototype.addListener;b.prototype.b_=function(q,t){return c(this,q,t,!0);};b.prototype.once=function(q,t){a(t);this.on(q,k(this,q,t));return this;};b.prototype.xza=function(q,t){a(t);this.b_(q,k(this,q,t));return this;};b.prototype.removeListener=function(q,t){var v,w,u,x,y;a(t);w=this.Ng;if(void 0 === w)return this;u=w[q];if(void 0 === u)return this;if(u === t || u.listener === t)0 === --this.gH?this.Ng=Object.create(null):(delete w[q],w.removeListener && this.emit("removeListener",q,u.listener || t));else if("function" !== typeof u){x=-1;for(v=u.length - 1;0 <= v;v--){if(u[v] === t || u[v].listener === t){y=u[v].listener;x=v;break;}}if(0 > x)return this;if(0 === x)u.shift();else {for(;x + 1 < u.length;x++){u[x]=u[x + 1];}u.pop();}1 === u.length && (w[q]=u[0]);void 0 !== w.removeListener && this.emit("removeListener",q,y || t);}return this;};b.prototype.ly=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var t,v,w;t=this.Ng;if(void 0 === t)return this;if(void 0 === t.removeListener)return (0 === arguments.length?(this.Ng=Object.create(null),this.gH=0):void 0 !== t[q] && (0 === --this.gH?this.Ng=Object.create(null):delete t[q]),this);if(0 === arguments.length){v=Object.keys(t);for(t=0;t < v.length;++t){w=v[t];"removeListener" !== w && this.removeAllListeners(w);}this.removeAllListeners("removeListener");this.Ng=Object.create(null);this.gH=0;return this;}v=t[q];if("function" === typeof v)this.removeListener(q,v);else if(void 0 !== v)for(t=v.length - 1;0 <= t;t--){this.removeListener(q,v[t]);}return this;};b.prototype.listeners=function(q){var t;t=this.Ng;if(void 0 === t)q=[];else if((q=t[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {t=Array(q.length);for(var v=0;v < t.length;++v){t[v]=q[v].listener || q[v];}q=t;}return q;};b.listenerCount=function(q,t){return "function" === typeof q.listenerCount?q.listenerCount(t):m.call(q,t);};b.prototype.listenerCount=m;},function(r,b,a){var c,g,k,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ip=void 0;c=a(0);g=c.__importDefault(a(28));k=a(6);m=c.__importDefault(a(4));f=a(988);r=(function(){function d(l){this.VG=l;this.xe=[];this.console=new m.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(d,{instance:{get:function(){var l;if(void 0 === d.HM){l=a(4).default;d.HM=new d(l.uL);}return d.HM;},enumerable:!1,configurable:!0}});d.reset=function(){d.HM=void 0;};d.prototype.Os=function(l,n,h,p,q,t){var v;v=t.Kac?this.OPb(h,n,l,t.Lac):-1;-1 === v?(v={track:this.SJb(h,p,l,q,t),qk:h,K:n,hfb:l,EF:[],zl:!1,kO:!1},this.xe.push(v),this.I7b(v),l=!1):(l=!0,v=this.xe[v]);l=new f.bRa(this.console,v.track,v.zl,l);v.EF.push(l);return l;};d.prototype.I7b=function(l){function n(){l.zl=!0;l.track.removeListener("created",n);}l.track.on("created",n);};d.prototype.jO=function(l){var n,h;l.Qs();n=this.$W(function(p){return p.track === l.track;});if(-1 !== n){if((n=this.xe[n],1 === n.EF.length))(n.track.Qs(),n.kO=!0);else {h=n.EF.indexOf(l);0 <= h && n.EF.splice(h,1);}}else l.track.Qs();};d.prototype.Sf=function(){this.VG.Sf();};d.prototype.SJb=function(l,n,h,p,q){var t,v,w,u,x;t=this;w=!1;u=v=!1;l?h === k.u.J?(l=1,q.Hj?(u=!0,l=q.VP):q.gy && 2 < q.gy && (u=!0,l=q.gy),v=q.Slb || !u,v={type:this.VG.J,openRange:v,pipeline:u,connections:l,socketBufferSize:q.dS,minRequestSize:q.AJ}):h === k.u.V?(w=q.Hj && (q.zfc || n && q.Afc),v=q.Slb || !w,v={type:this.VG.V,openRange:v,pipeline:w,connections:1,socketBufferSize:q.a7,minRequestSize:q.AJ}):v=h === k.u.Hb?{type:this.VG.Hb,openRange:!0,pipeline:!1,connections:1,socketBufferSize:q.ddc,minRequestSize:q.AJ}:{type:q.tMb?this.VG.J:this.VG.Sqb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.kua,minRequestSize:q.AJ}:v={type:h === k.u.V?g.default.Sd.V:g.default.Sd.J,openRange:!1,pipeline:!1,connections:1,socketBufferSize:h === k.u.V?q.a7:q.dS,minRequestSize:q.AJ};x=new this.VG(v,p);x.Hj=u;x.on("transportreport",function(y){var z;z=t.$W(function(A){return A.track === x;});-1 !== z && (z=t.xe[z],z.EF.length && z.EF[0].emit("transportreport",y));});x.on("mediaRequestComplete",function(y){var z;z=t.$W(function(A){return A.track === x;});-1 !== z && (z=t.xe[z],z.EF.length && z.EF[0].emit("mediaRequestComplete",y));});x.on("destroyed",function(){var y;y=t.$W(function(z){return z.track === x;});-1 !== y && t.xe.splice(y,1);x.removeAllListeners();});x.on("pipelinedisabled",function(){x.Hj=!1;if(w && q.yfc || q.Ulb)q.Ulb && x.config.type === k.u.J?x.ida(c.__assign(c.__assign({},x.config),{socketBufferSize:q.o1b,pipeline:!1,openRange:!0,connections:1})):x.ida(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!0}));});return x;};d.prototype.OPb=function(l,n,h,p){return this.$W(function(q){return !q.kO && (!p && q.track.config.Eqc || !l?!q.qk && q.hfb === h:q.qk && q.K === n && q.hfb === h);});};d.prototype.$W=function(l){for(var n=0;n < this.xe.length;++n){if(l(this.xe[n]))return n;}return -1;};return d;})();b.ip=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TG="VideoPreparerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RL=b.LG=void 0;r=b.LG || (b.LG={});r.Ejc="ident";r.aia="main";r.xGa="credits";b.RL="PlaygraphHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xo=void 0;b.Xo=function(a,c){return [].concat.apply([],ha(a)).map(function(g){return Object.assign({name:g},null !== c && void 0 !== c?c:{});});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jqb=b.Lm=void 0;r=b.Lm || (b.Lm={});r[r.WB=0]="playready";r[r.zfa=1]="widevine";r[r.yE=2]="fairplay";r[r.wnc=3]="clearkey";b.jqb="DrmTypeSymbol";},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Rd=void 0;g=a(26);c.U0a=function(k){var m;m={};m[g.Af.IT]=c.u2;m[g.Af.z2]=c.u2;m[g.Af.bM]=c.oha;m[g.Af.BL]=c.BL;m[g.Af.zw]=k || c.zw;m[g.Af.IC]=c.u2;m[g.Af.jD]=c.PT;m[g.Af.ol]=c.ol;return m;};b.Rd=c;c.zxa='video/mp4; codecs="avc1.4d0028"';c.u2="avc1.4d0028";c.oha="hev1.1.6.L93.B0";c.Iga="dvhe.05.01";c.qHa="dvhe.05.04";c.Jga="dvhe.05.05";c.Kga="dvhe.05.06";c.Lga="dvhe.05.07";c.Mga="dvhe.05.09";c.zw=c.Iga;c.BL=c.oha;c.Ifa="mp4a.40.2";c.Iz="mp4a.40.42";c.Yob="ec-3";c.PT="vp09.00.11.08.02";c.ol="av01.0.04M.08";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ha="DrmServicesSymbol";b.m2="DrmServicesProviderSymbol";},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.PG=void 0;r=a(0);a=a(1);c.prototype.format=function(k,m){var d;for(var f=1;f < arguments.length;++f){;}d=Array.prototype.slice.call(arguments,1);return k.replace(/{(\d+)}/g,function(l,n){return "undefined" != typeof d[n]?d[n]:l;});};c.prototype.sjb=function(k){for(var m=k.length,f=new Uint16Array(m),d=0;d < m;d++){f[d]=k.charCodeAt(d);}return f.buffer;};c.prototype.vjb=function(k){return JSON.stringify(k,null,"  ");};g=c;g=r.__decorate([(0,a.aa)()],g);b.PG=g;},function(r,b,a){var c;c=a(179);r.exports=function(g){return function f(m){return 0 === arguments.length || c(m)?f:g.apply(this,arguments);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.q4=void 0;b.Gq={QL:"PRIMARY",Mfa:"ASSISTIVE",qGa:"COMMENTARY",NONE:"NONE"};b.q4={assistive:b.Gq.Mfa,closedcaptions:b.Gq.Mfa,directorscommentary:b.Gq.qGa,commentary:b.Gq.qGa,subtitles:b.Gq.QL,primary:b.Gq.QL,none:b.Gq.NONE};},function(r){var l,n,h,p,q,t;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(v){if(l === setTimeout)return setTimeout(v,0);if((l === b || !l) && setTimeout)return (l=setTimeout,setTimeout(v,0));try{return l(v,0);}catch(w){try{return l.call(null,v,0);}catch(u){return l.call(this,v,0);}}}function g(v){if(n === clearTimeout)return clearTimeout(v);if((n === a || !n) && clearTimeout)return (n=clearTimeout,clearTimeout(v));try{return n(v);}catch(w){try{return n.call(null,v);}catch(u){return n.call(this,v);}}}function k(){p && q && (p=!1,q.length?h=q.concat(h):t=-1,h.length && m());}function m(){var v;if(!p){v=c(k);p=!0;for(var w=h.length;w;){q=h;for(h=[];++t < w;){q && q[t].Jy();}t=-1;w=h.length;}q=null;p=!1;g(v);}}function f(v,w){this.QQb=v;this.oA=w;}function d(){}r=r.exports={};l="function" === typeof setTimeout?setTimeout:b;n="function" === typeof clearTimeout?clearTimeout:a;h=[];p=!1;t=-1;r.zqc=function(v){var w;w=Array(arguments.length - 1);if(1 < arguments.length)for(var u=1;u < arguments.length;u++){w[u - 1]=arguments[u];}h.push(new f(v,w));1 !== h.length || p || c(m);};f.prototype.Jy=function(){this.QQb.apply(null,this.oA);};r.title="browser";r.dnc=!0;r.QW={};r.Nmc=[];r.version="";r.Asc={};r.on=d;r.addListener=d;r.once=d;r.ly=d;r.removeListener=d;r.removeAllListeners=d;r.emit=d;r.b_=d;r.xza=d;r.listeners=function(){return [];};r.$mc=function(){throw Error("process.binding is not supported");};r.Gnc=function(){return "/";};r.rnc=function(){throw Error("process.chdir is not supported");};r.qsc=function(){return 0;};},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Zn=void 0;c=a(0).__importDefault(a(4));g=a(104);r=(function(){function k(m){m=("(").concat(m,")");this.H=new c.default.Console("ASEJS","media|asejs",m);this.Lla=[];}k.prototype.sr=function(m){var f;if(!this.Lla[m]){f=("[").concat(m,"]");this.Lla[m]=(0,g.Ai)(c.default,this.H,f);}return this.Lla[m];};return k;})();b.Zn=new r(0);},function(r,b,a){var k,m,f,d,l,n,h;function c(p){return p && "function" === typeof p.wi?!0:!1;}function g(p){return c(p) && (p=typeof p.SXb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.Vob=b.VOb=b.RXb=b.Enb=b.AsyncIterator=void 0;k=a(0);m=a(10);d=(function(){function p(q){var t;t=this;this.Fxb=q;this.tU=!1;this.Rzb=function(v){return t.N6b(v);};this.t0a();}p.OYb=function(q,t){function v(){var w;w=q.next();w.then(function(u){g(q) && q.SXb || t(u);});w.then(function(u){return !u.done && v();});}v();};Object.defineProperties(p.prototype,{kt:{get:function(){return this.tU;},enumerable:!1,configurable:!0}});p.s5a=function(){return new l([]);};p.Lta=function(){f || (f=Promise.resolve({done:!0}));return f;};Object.defineProperties(p.prototype,{yP:{get:function(){return this.Sm || !1;},enumerable:!1,configurable:!0}});p.prototype.wi=function(){this.cancel();};p.prototype.cancel=function(){this.WVa();this.Sm=!0;return this.Dka;};p.prototype.next=function(){return this.Sm?this.Dka:Promise.race([this.Dka,this.Fxb()]).then(this.Rzb);};p.prototype.N6b=function(q){q.done && (this.tU=!0,this.wi());this.yP || (this.WVa(),this.t0a());return q;};p.prototype.t0a=function(){var q;q=this;this.Dka=new Promise(function(t){q.WVa=function(){t({done:!0});};});};return p;})();b.AsyncIterator=d;l=(function(p){function q(t){var v;v=p.call(this,function(){return v.oTb();}) || this;v.oA=t;v.index=0;return v;}k.__extends(q,p);q.prototype.wi=function(){c(this.oA) && this.oA.wi();p.prototype.wi.call(this);};q.prototype.oTb=function(){return this.oA.length > this.index?Promise.resolve({value:this.oA[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(d);b.Enb=l;b.RXb=c;b.VOb=g;n=(function(p){function q(t,v,w){var u;u=p.call(this,function(){return u.Qxa();}) || this;u.console=v;u.dm=w;u.Oza=!1;Array.isArray(t)?u.FU=new l(t):u.FU=t;return u;}k.__extends(q,p);q.prototype.P6b=function(t){var v;this.Oza=!1;v=this.console;m.N && v && v.trace("CompoundIterator: processNextOuterIterator");if(t.done)return t;t=t.value;if(this.JM)return (c(t) && t.wi(),d.Lta());Array.isArray(t)?this.dm=new l(t):this.dm=t;return this.Qxa();};q.prototype.O6b=function(t){var v;v=this.console;m.N && v && v.trace("CompoundIterator: processNextInnerResult",this.JM,t.done);if(!t.done || this.JM)return t;this.dm=void 0;return this.Qxa();};q.prototype.wi=function(){var t;t=this.console;m.N && t && t.trace("CompoundIterator: dispose");this.JM=!0;p.prototype.wi.call(this);c(this.FU) && this.FU.wi();c(this.dm) && this.dm.wi();};q.prototype.toString=function(){return ("CompoundIterator ").concat(this.JM," ").concat(this.FU," ").concat(this.dm);};q.prototype.Qxa=function(){var t,v;t=this;v=this.console;m.N && v && v.trace("CompoundIterator: nextImpl");if(this.dm)return (m.N && v && v.trace("CompoundIterator: getNextInner"),this.dm.next().then(function(w){return t.O6b(w);}));this.Oza=!0;m.N && v && v.trace("CompoundIterator: getNextOuter");return this.FU.next().then(function(w){return t.P6b(w);});};return q;})(d);b.Vob=n;b.map=function(p,q,t){return new h(p,q,t);};h=(function(p){function q(t,v,w){var u;u=p.call(this,function(){return u.pxb();}) || this;u.source=t;u.Uwa=v;u.xpa=w;return u;}k.__extends(q,p);q.prototype.wi=function(){c(this.source) && this.source.wi();p.prototype.wi.call(this);};q.prototype.pxb=function(){var t,v,w;t=this.xpa;v=this.Uwa;w=this.source;m.N && t && t.trace("MappedIterator: Requesting next");return w.next().then(function(u){return u.done?u:v(u.value);});};return q;})(d);b.flatten=function(p,q,t){return new n(p,q,t);};},function(r,b,a){(function(c){var k,m,f,d,l,n;function g(h,p){return h - p;}Object.defineProperties(b,{__esModule:{value:!0}});b.Qqb=b.FI=void 0;k=a(0);m=a(10);f=k.__importDefault(a(4));d="gctag" === c.QW.Oqb;b.FI=function(h,p){var q;if(!d)return h;q=new n(h.name,p);return (function(t){function v(){for(var w=[],u=0;u < arguments.length;u++){w[u]=arguments[u];}w=t.apply(this,k.__spreadArray([],k.__read(w),!1)) || this;w.w4a=q.WJb(w);return w;}k.__extends(v,t);return v;})(h);};n=(function(){function h(p,q){this.name=p;this.xpa=q;this.SE=[];this.vXb=0;}Object.defineProperties(h,{console:{get:function(){l || (l=new f.default.Console("GCTAGGER"));return l;},enumerable:!1,configurable:!0}});h.prototype.WJb=function(p){var q,t;if(d){q=this.xpa;q || (q=h.console);if(!p.w4a && "undefined" !== typeof nrdp){p={type:this.name,id:this.vXb++};this.SE.push(p.id);t=JSON.stringify(p);t=nrdp.w4a(t,(function(v,w,u,x){v.SE.splice(v.SE.indexOf(w),1);v.SE=v.SE.sort(g);for(var y=[],z=0;z < v.SE.length && 5 > z;z++){y.push(v.SE[z]);}null === x || void 0 === x?void 0:x.error(("Removing instance for ").concat(u,"/").concat(w,". ") + ("").concat(v.SE.length," remaining, earliest: ").concat(y,"}"));}).bind(null,this,p.id,p.type,q));m.N && q && q.info("Creating tagged instance",p);return t;}}};return h;})();b.Qqb=n;}).call(this,a(128));},function(r,b,a){(function(c,g){function k(m,f,d,l){this.console=new m("ASEJS_PROGRESS","media|asejs");this.now=f;this.Dhb=this.Jbc=m=this.now();this.E8=m + d;this.X4b=d;this.j1a=m + l;this.debug=!1;this.counter=this.DB=0;this.Cx=1E4;this.hkb=d / 100;this.jkb=m;this.ikb=1 * this.hkb / 4;this.Jea=0;this.nW="";this.rg(m,"progress tracking start");}k.prototype.constructor=k;k.prototype.rg=function(m,f){var d,l;d=((m - this.Dhb) / 1E3).toFixed(3);d=("     ").slice(d.length - 4) + d;l=c.O0b();this.console.info(d + (" " + ((this.j1a - m) / 1E3).toFixed(3)) + (" " + Math.round(this.Cx)) + (" M:(" + Math.floor(l.dpc / 1024 / 1024) + " MB/" + Math.floor(l.N7a / 1024 / 1024) + " MB) ") + this.nW + f);};k.prototype.CAb=function(m){var f;f=this.now();this.nW=m?m + ": ":m;this.DB=0;this.Dhb=f;this.rg(f,"starting");};k.prototype.dBb=function(m){var f,d;this.counter++;if(!(this.counter < this.Cx)){this.counter=0;f=this.now();d=f - (this.jkb + this.hkb);this.jkb=f;this.Jea=.9 * this.Jea + .1 * d;this.Jea > this.ikb?(this.Cx*=.875,this.Cx=Math.max(1,this.Cx)):this.Jea < -this.ikb && (this.Cx*=1.5,this.Cx=Math.min(this.Cx,1E5));if(f >= this.j1a)throw (this.rg("Execution deadline exceeded after " + (f - this.Jbc) + " ms" + this.nW),Error("Execution deadline exceeded" + this.nW));d=c.O0b();this.DB=Math.max(this.DB,d.N7a);if(7516192768 < d.N7a)throw Error("Heap total limit exceeded" + this.nW);if(!(f <= this.E8)){for(;f > this.E8;){this.E8+=this.X4b;}this.rg(f,m);}}};k.oa=function(m,f,d,l){g.CF=new k(m,f,d || 5E3,l || 33E5);};k.HBa=function(m){g.CF && g.CF.CAb(m);};k.update=function(m){g.CF && g.CF.dBb(m);};k.c6a=function(){if(g.CF)return g.CF.DB;};k.now=function(){return g.CF?g.CF.now():Date.now();};r.exports=k;}).call(this,a(128),a(209));},function(r){var b;b={bY:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};r.exports=b;},function(r,b,a){var f,d;function c(l){return l instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(l);}function g(l){return f.Cg(l);}function k(l){return f.Oa(l);}function m(l){return !c(l) && !g(l) && !k(l) && !Array.isArray(l) && f.ek(l);}f=a(11);d={kG:0,g4:1,Tsb:2,G3:3,eo:4};r.exports={Sta:function(l){return c(l)?d.kG:g(l)?d.g4:k(l)?d.Tsb:m(l)?d.G3:d.eo;},W$:c,Cg:g,Oa:k,ek:m,ns:d};},function(r,b,a){(function(c){var m,f,d,l,n,h,p,q,t;function g(v,w,u,x){var y;return w === h.Ew.zW?(w=f.M.Ha,(null === x || void 0 === x?void 0:x.zrc) === t.end && (w=f.M.Ja(null !== (y=u.Fg.ka.R[v].wa) && void 0 !== y?y:0),(0,d.assert)(0 < w.Z,"EndTime must be non null")),u.bi.QA({offset:w,Y:v}).Y):u.bi.vq({offset:f.M.Ha,Y:v}).Y;}function k(v,w,u){return w === h.Ew.HDa?u.bi.vq(v):u.bi.QA(v);}Object.defineProperties(b,{__esModule:{value:!0}});b.uy=void 0;m=a(0);f=a(20);d=a(2);l=a(1124);n=a(276);h=a(198);p=a(184);q=a(1128);n=(0,n.Rgb)();l=(0,l.xZa)()({rab:"combinedPlaygraph",eR:{ci:n()({map:k,ZD:q.t9a}),Uf:n()({map:function(v,w,u,x){var y;y=(null === x || void 0 === x?0:x.Xr)?(0,q.I9)(v,x.Xr):v.position;w=k(y,w,u);v=(0,q.kpa)(v,null === x || void 0 === x?void 0:x.Xr);(null === x || void 0 === x?0:x.Xr)?(0,q.Ohb)(v,x.Xr,w):v.position=w;return v;},ZD:function(v,w,u){return (null === u || void 0 === u?0:u.Xr)?(0,q.I9)(v,u.Xr):(0,q.Uf)(v);}}),qEa:n()({map:function(v,w,u,x){if(w === h.Ew.zW)return v.inner;w=(0,q.kpa)(v,null === x || void 0 === x?void 0:x.Xr);w.inner || (w.inner=v,"gctag" === c.QW.Oqb && (w.gctag=void 0));return w;},ZD:function(v,w,u){return (null === u || void 0 === u?0:u.Xr)?"object" === typeof (0,q.I9)(v,u.Xr):"object" === typeof v;}}),Y:n()({map:g,ZD:q.y9a}),P_:n()({map:function(v,w,u,x){var y,z;z=null !== (y=v.Y) && void 0 !== y?y:v.segmentId;w=g(z,w,u,x);return v.Y?m.__assign(m.__assign({},v),{Y:w}):m.__assign(m.__assign({},v),{segmentId:w});},ZD:q.C7a}),f0a:n()({map:function(v,w,u){w === h.Ew.zW?(v=(0,p.WN)(u.Fg.ka,v.P,v.ln,{ehb:!0}),(0,d.assert)(void 0 !== v,"Graph position must exist in ux playgraph"),v=u.bi.QA(v),w=v.Y,v=v.offset,w=u.Bc.ka.R[w],u=w.P,w=w.xa,v=f.M.Ja(w).add(v)):(v=(0,p.WN)(u.Bc.ka,v.P,v.ln,{ehb:!0}),(0,d.assert)(void 0 !== v,"Graph position must exist in combined playgraph"),v=u.bi.vq(v),w=v.Y,v=v.offset,w=u.Fg.ka.R[w],u=w.P,w=w.xa,v=f.M.Ja(w).add(v));return {ln:v,P:u};},ZD:q.a9a}),boa:n()({ZD:q.Y8a,map:function(v,w,u){var x,y,z,A,B;if(w === h.Ew.zW){w={Y:v.G.id,offset:f.M.Ha};z=u.bi.QA(w);w=u.Bc.ka.R[z.Y];u=u.Fg.ka.R[v.G.id];A=w.wa;B=w.xa;A=null !== (x=A && A - B) && void 0 !== x?x:0;u=v.Ld.add(f.M.Ja(w.xa - u.xa));return {Ld:u,wF:v.Mr.add(f.M.Ja(A)),Mr:v.Mr,G:{id:z.Y,ff:f.M.Ja(w.xa),oh:f.M.Ja(null !== (y=w.wa) && void 0 !== y?y:0)}};}w={Y:v.G.id,offset:f.M.Ha};y=u.bi.vq(w);B=u.ava.pZ;w=B.R[v.G.id];z=u.Fg.ka.R[y.Y];x=f.M.Ja(null !== (A=z.wa && z.wa - z.xa) && void 0 !== A?A:0);z.wa && Infinity !== z.wa || (A=u.bi.SSb(y),B=B.R[A],B.wa && (x=u.bi.vq({Y:A,offset:f.M.Ja(B.wa - B.xa)}).offset));A=v.Mr.Da(y.offset);B=A.add(x);u=v.Ld.add(f.M.Ja(z.xa - w.xa));v=f.M.Ja(z.xa);w=x.add(v);return {Ld:u,wF:B,Mr:A,G:{id:y.Y,ff:v,oh:w}};}})}});(function(v){v[v.Zmc=0]="beginning";v[v.end=1]="end";})(t || (t={}));b.uy=l;}).call(this,a(128));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IL="ManifestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hub=b.Xpb=b.wHa=void 0;r=b.wHa || (b.wHa={});r.$kc="PboDebugEvent";r.clc="PlaygraphEvent";b.Xpb={Zjc:"Manifest",Event:"Event",Ljc:"Logblob"};b.hub={Zlc:"UX",jic:"Combined_1",kic:"Combined_2"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ql=void 0;r=b.ql || (b.ql={});r.zl="created";r.Oy="started";r.HR="succeeded";r.av="failed";r.Pf="cancelled";r.UFb="cancelled_on_start";r.Eoa="cancelled_not_encrypted";},function(r,b){var c;function a(g,k){var m;m=this;this.gla=[];c.forEach(function(f){(f=f(g,k)) && m.gla.push(f);});}Object.defineProperty(b,"__esModule",{value:!0});b.pT=b.WMa=void 0;c=[];a.prototype.nC=function(g){var f;for(var k=[],m=this.gla.length;m--;){f=this.gla[m];f.nC(g) && k.push(f.T8);}if(k.length)return k;};b.WMa=a;b.pT=function(g){c.push(g);};},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y;function c(z){var A,B;A=this;this.Aca=new y.fja();this.createPlaygraphPlayer=function(C,D,E){var G;C=v.jja.encode(C);G=f.Ea.get(w.IL);E=E?G.create(E):void 0;G=f.Ea.get(p.lja).create(C);return G.sKb(C.fe,A.Aca.Twa(A.KYa(D,G.Csa())),E);};this.closeAllPlayers=function(C){C=void 0 === C?function(){}:C;(0,m.bja)(C);};this.init=function(C){A.OD.IY(function(D){D.ga?A.z$b().then(function(){(0,g.mPa)();}).catch(function(E){f.log.error("Unable to initialize the playdata services",E);}).then(function(){Object.assign(A,c.AN);C(Object.assign({success:!0},c.AN));}):C({success:!1,error:(0,f.QPa)(D.errorCode || l.$.Aha,D)});});};this.applyConfig=function(C){A.plb(C);(0,k.ypa)(C);};this.prepare=function(C,D){var E;C=A.zeb.cMb(C) || [];E=new Set();C=C.filter(function(G){var F;F=E.has(G.K);E.add(G.K);return !F;});if(k.config.Dt && A.Bd)try{A.Bd.ZJ(C,D);}catch(G){f.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(C){mb._cad_global.playerPredictionModel?(C=A.zeb.eMb(C)) && mb._cad_global.playerPredictionModel.update(C):f.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(C){(0,f.VO)().s0().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.supportsUltraHd=function(C){(0,f.VO)().t0().then(C).catch(function(){return C(!1);});};this.supportsDolbyAtmos=function(C){(0,f.VO)().q0().then(C).catch(function(){return C(!1);});};this.supportsDolbyVision=function(C){(0,f.VO)().Fea().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return k.config.$Nb;};this.plb(z);f.Ea.get(x.aFa);this.zeb=f.Ea.get(d.oPa);this.OD=f.Ea.get(t.mj);B=f.Ea.get(u.jPa).apply();(0,k.Y_a)([z],B);this.Bd=f.Ea.get(q.TG);(0,f.VO)().t0();}Object.defineProperty(b,"__esModule",{value:!0});b.UG=void 0;g=a(302);k=a(19);m=a(62);f=a(9);d=a(543);l=a(3);n=a(33);h=a(151);p=a(310);q=a(119);t=a(34);v=a(38);w=a(136);u=a(332);x=a(518);y=a(590);c.prototype.KYa=function(z,A){var B,C,D,E;z=void 0 === z?{}:z;E=null !== (C=null === (B=z.playbackState) || void 0 === B?void 0:B.currentTime) && void 0 !== C?C:A.xa;return Object.assign(Object.assign({startPts:E,uiPlayStartTime:Date.now()},z),{endPts:null !== (D=A.wa) && void 0 !== D?D:void 0,isPlaygraph:!0});};c.prototype.plb=function(z){f.Ea.get(n.aT).P0b(z);};c.prototype.z$b=function(){f.Ea.get(h.BT)().catch(function(z){f.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){f.log.error("Unable to send deferred playdata",z);});return Promise.resolve();};b.UG=c;c.AN={};},function(r,b,a){var c,g,k;c=a(43);g=a(608);k=g(c("String.prototype.indexOf"));r.exports=function(m,f){f=c(m,! !f);return "function" === typeof f && -1 < k(m,".prototype.")?g(f):f;};},function(r,b,a){var d;function c(l){return "function" === typeof l?l.name:"symbol" === typeof l?l.toString():l;}function g(l,n){return null === l.TB?!1:l.TB.sh === n?!0:g(l.TB,n);}function k(l){function n(h,p){var q;void 0 === p && (p=[]);q=c(h.sh);p.push(q);return null !== h.TB?n(h.TB,p):p;}return n(l).reverse().join(" --\x3e ");}function m(l){l.Voa.forEach(function(n){if(g(n,n.sh))throw (n=k(n),Error(d.Aob + " " + n));m(n);});}function f(l){var n;if(l.name)return l.name;l=l.toString();n=l.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: " + l;}Object.defineProperty(b,"__esModule",{value:!0});d=a(56);b.cP=c;b.A$a=function(l,n,h){var p;p="";l=h(l,n);0 !== l.length && (p="\nRegistered bindings:",l.forEach(function(q){var t;t="Object";null !== q.xn && (t=f(q.xn));p=p + "\n " + t;q.dI.jbb && (p=p + " - " + q.dI.jbb);}));return p;};b.KGb=m;b.AZb=function(l,n){var h,p;if(n.Gva() || n.uva()){h="";p=n.mTb();n=n.WRb();null !== p && (h+=p.toString() + "\n");null !== n && n.forEach(function(q){h+=q.toString() + "\n";});return " " + l + "\n " + l + " - " + h;}return " " + l;};b.getFunctionName=f;},function(r,b,a){var g,k,m,f;function c(d,l){var n,h,p,q,t,v;n=d.BB;h=d.gQ;d=d.yQ;p=l.BB;q=l.gQ;l=l.yQ;t=void 0 === n || void 0 === p;v=t || void 0 === h || void 0 === q;return t || n > p || n === p && (v || h > q) || n === p && h === q && (v || void 0 === d || void 0 === l || d >= l);}Object.defineProperty(b,"__esModule",{value:!0});b.SO=b.TO=b.IYb=b.Y$=b.oY=void 0;g=a(5);k=a(95);m=a(42);f=a(121);b.oY=function(d,l,n,h){return c({BB:d.b4b,gQ:d.c4b,yQ:d.d4b},{BB:l,gQ:n,yQ:h});};b.Y$=function(d,l){return c({BB:d.dr},{BB:l});};b.IYb=c;b.TO=function(){return {version:"6.0038.217.911",Bba:!0,PO:!0,tqa:"browser",y1a:["en-US"],Bwa:"",tW:"cadmium",amb:!0,E6:!0};};b.SO=function(){return {NH:(0,f.Xo)([m.ae.oG,m.ae.pG]),Yn:(0,f.Xo)([].concat(ha(m.Td.P1),ha(m.Td.t1),ha(m.Td.s1),ha(m.Td.Jfa))),zn:k.Bb.vTa,CB:(0,g.xc)(31E3)};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oT="MediaKeysStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.m4=b.Dq=void 0;b.Dq=function(){};b.m4="StringObjectReaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kSa="SystemRandomSymbol";b.a4="RandomGeneratorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DT="PlayerErrorFactorySymbol";},function(r,b,a){var c,g,k;c=a(126);g=a(53);k=a(179);r.exports=function(m){return function h(d,l,n){switch(arguments.length){case 0:return h;case 1:return k(d)?h:g(function(p,q){return m(d,p,q);});case 2:return k(d) && k(l)?h:k(d)?g(function(p,q){return m(p,l,q);}):k(l)?g(function(p,q){return m(d,p,q);}):c(function(p){return m(d,l,p);});default:return k(d) && k(l) && k(n)?h:k(d) && k(l)?g(function(p,q){return m(p,q,n);}):k(d) && k(n)?g(function(p,q){return m(p,l,q);}):k(l) && k(n)?g(function(p,q){return m(d,p,q);}):k(d)?c(function(p){return m(p,l,n);}):k(l)?c(function(p){return m(d,p,n);}):k(n)?c(function(p){return m(d,l,p);}):m(d,l,n);}};};},function(r){var c,g;function b(){var k,m;if(DataView.prototype && DataView.prototype.NX && !g){try{k=new ArrayBuffer(4);m=new DataView(k);m.iP(0,4,1);}catch(f){return;}try{k=new ArrayBuffer(4);m=new DataView(k);m.iP(1,2,2);}catch(f){DataView.prototype.iP=a(DataView.prototype.iP,DataView.prototype.getUint8,Uint8Array);DataView.prototype.b$=a(DataView.prototype.b$,DataView.prototype.getUint16,Uint16Array);DataView.prototype.NX=a(DataView.prototype.NX,DataView.prototype.getUint32,Uint32Array);DataView.prototype.Tsa=a(DataView.prototype.Tsa,DataView.prototype.getInt8,Int8Array);DataView.prototype.Rsa=a(DataView.prototype.Rsa,DataView.prototype.getInt16,Int16Array);DataView.prototype.Ssa=a(DataView.prototype.Ssa,DataView.prototype.getInt32,Int32Array);}c.NUb=function(f,d,l,n,h){return l?f.iP(d,l,n || 1,h):new Uint8Array(0);};c.LUb=function(f,d,l,n,h){return l?f.b$(d,l,n || 2,h):new Uint16Array(0);};c.MUb=function(f,d,l,n,h){return l?f.NX(d,l,n || 4,h):new Uint32Array(0);};c.Noc=function(f,d,l,n,h){return l?f.Tsa(d,l,n || 1,h):new Int8Array(0);};c.Loc=function(f,d,l,n,h){return l?f.Rsa(d,l,n || 2,h):new Int16Array(0);};c.Moc=function(f,d,l,n,h){return l?f.Ssa(d,l,n || 4,h):new Int32Array(0);};g=!0;}}function a(k,m,f){return function(d,l,n,h){var p;n=n || f.BYTES_PER_ELEMENT;if(d + l * n > this.byteLength){p=new f(l);p.set(k.call(this,d,l - 1,n,h));p[l - 1]=m.call(this,d + (l - 1 * n),h);return p;}return k.call(this,d,l,n,h);};}c={iP:function(k,m,f,d,l){var n;n=new Uint8Array(f);d=d || 1;for(var h=0;h < f;(++h,m+=d)){n[h]=k.getUint8(m,l);}return n;},b$:function(k,m,f,d,l){var n;n=new Uint16Array(f);d=d || 2;for(var h=0;h < f;(++h,m+=d)){n[h]=k.getUint16(m,l);}return n;},NX:function(k,m,f,d,l){var n;n=new Uint32Array(f);d=d || 4;for(var h=0;h < f;(++h,m+=d)){n[h]=k.getUint32(m,l);}return n;},Tsa:function(k,m,f,d,l){var n;n=new Int8Array(f);d=d || 1;for(var h=0;h < f;(++h,m+=d)){n[h]=k.getInt8(m,l);}return n;},Rsa:function(k,m,f,d,l){var n;n=new Int16Array(f);d=d || 2;for(var h=0;h < f;(++h,m+=d)){n[h]=k.getInt16(m,l);}return n;},Ssa:function(k,m,f,d,l){var n;n=new Int32Array(f);d=d || 4;for(var h=0;h < f;(++h,m+=d)){n[h]=k.getInt32(m,l);}return n;},toc:b};g=!1;c.cSb=function(){return g;};b();r.exports=c;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);g=a(241);r=(function(){function k(m,f,d){this.tag=m;this.view=f;this.O=d;this.startOffset=d.offset;}k.qfb=function(m,f,d){var l,n;l=m.Gd();n=m.u7b();m=new (g.iO[l] || k)(l,m.h5a(n),m);m.parse(f,d);return m;};Object.defineProperties(k.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});k.prototype.parse=function(){this.O.offset=this.startOffset + this.length;this.O.Od=0;return !0;};k.prototype.G3a=function(m){var f;f=[];this.tag === m && f.push(this);if(this.iO)for(var d=0;d < this.iO.length;d++){f=c.__spreadArrays(f,this.iO[d].G3a(m));}return f;};k.prototype.Kx=function(m){for(m=this.G3a(m);0 < m.length;){return m[0];}};k.prototype.lWa=function(m){for(this.iO=[];this.O.offset < this.startOffset + this.length;){this.iO.push(k.qfb(this.O,m,this));}};return k;})();b.Uga=r;r.prototype.skip=r.prototype.parse;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YOa="PboPlaydataServicesSymbol";b.BT="PboPlaydataServicesProviderSymbol";},function(r,b,a){var c,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Rh=b.Ija=void 0;c=a(20);(function(f){f[f.absolute=0]="absolute";f[f.Ofb=1]="relative";})(g=b.Ija || (b.Ija={}));m=(function(){function f(d,l){this.type=d;this.timestamp=l;}f.prototype.toString=function(){return ("timeStamp: ").concat(this.timestamp,", type: ").concat(g[this.type]);};Object.defineProperties(f,{Ha:{get:function(){k || (k=new f(g.Ofb,c.M.Ha));return k;},enumerable:!1,configurable:!0}});return f;})();r=(function(){function f(){}f.pw=function(d){return new m(g.absolute,d);};Object.defineProperties(f,{sgc:{get:function(){return m.Ha;},enumerable:!1,configurable:!0}});f.bG=function(d){return new m(g.Ofb,d);};f.lEa=new m(g.absolute,c.M.vv);return f;})();b.Rh=r;},function(r,b,a){function c(g,k){this.hN=g;this.Lk=Math.floor((g + k - 1) / k);this.Vd=k;this.reset();}a(2);c.prototype.shift=function(){this.de.shift();this.kx.shift();};c.prototype.qy=function(g){return this.FZa(this.de[g],g);};c.prototype.update=function(g,k){this.de[g]=(this.de[g] || 0) + k;};c.prototype.push=function(){this.de.push(0);this.kx.push(0);this.yb+=this.Vd;};c.prototype.add=function(g,k,m){var f,d,l;if(null === this.yb){f=Math.max(Math.floor((m - k + this.Vd - 1) / this.Vd),1);for(this.yb=k;this.de.length < f;){this.push();}}for(;this.yb <= m;){this.push();this.de.length > this.Lk && this.shift();}if(null === this.up || k < this.up)this.up=k;if(k > this.yb - this.Vd)this.update(this.de.length - 1,g);else if(k == m)(f=this.de.length - Math.max(Math.ceil((this.yb - m) / this.Vd),1),0 <= f && this.update(f,g));else for(f=1;f <= this.de.length;++f){d=this.yb - f * this.Vd;l=d + this.Vd;if(!(d > m)){if(l < k)break;this.update(this.de.length - f,Math.round(g * (Math.min(l,m) - Math.max(d,k)) / (m - k)));}}for(;this.de.length > this.Lk;){this.shift();}};c.prototype.start=function(g){null === this.up && (this.up=g);null === this.yb && (this.yb=g);};c.prototype.stop=function(g){var k,m;if(null !== this.yb)if(g - this.yb > 10 * this.hN)this.reset();else {for(;this.yb <= g;){this.push();this.de.length > this.Lk && this.shift();}k=this.de.length - Math.ceil((this.yb - this.up) / this.Vd);m=this.de.length - Math.ceil((this.yb - g) / this.Vd);if(0 <= m)if((0 > k && (this.up=this.yb - this.Vd * this.de.length,k=0),k === m))this.kx[k]+=g - this.up;else if(m > k)for((this.kx[k]+=(this.yb - this.up) % this.Vd,this.kx[m]+=this.Vd - (this.yb - g) % this.Vd,g=k + 1);g < m;++g){this.kx[g]=this.Vd;}this.up=null;}};c.prototype.FZa=function(g,k){k=this.jsa(k);return 0 === k?null:8 * g / k;};c.prototype.jsa=function(g){var k;k=this.kx[g];null !== this.up && (g=this.yb - (this.de.length - g - 1) * this.Vd,g > this.up && (k=g - this.up <= this.Vd?k + (g - this.up):this.Vd));return k;};c.prototype.get=function(g,k){var m,f;m=this.de.map(this.FZa,this);if("last" === g)for(g=0;g < m.length;++g){null === m[g] && (m[g]=0 < g?m[g - 1]:0);}else if("average" === g){k=1 - Math.pow(.5,1 / ((k || 2E3) / this.Vd));for(g=0;g < m.length;++g){null === m[g]?m[g]=Math.floor(f || 0):f=void 0 !== f?k * m[g] + (1 - k) * f:m[g];}}return m;};c.prototype.reset=function(){this.sla || (this.de=[],this.kx=[],this.up=this.yb=null);};c.prototype.setInterval=function(g){this.Lk=Math.floor((g + this.Vd - 1) / this.Vd);};r.exports=c;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q;Object.defineProperties(b,{__esModule:{value:!0}});c=a(0);g=c.__importStar(a(11));r=a(14);k=c.__importDefault(a(153));m=c.__importDefault(a(418));f=a(941);d=a(419);l=a(942);n=a(944);h=a(4).default;p=new h.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(t){function v(w,u,x){var y;y=t.call(this) || this;y.Ym={};y.OU=0;y.vD=0;y.RT=[];y.ZG=0;y.wmc=!1;y.L=x;y.wUa=new m.default(x);y.iU=new l.bha(!0);y.QT=new l.bha(!1);x.P2a && (y.TM=new n.iOa(y.L));y.reset();y.IVa=w;y.em=u;y.dVa=h.jq.name();y.em.aea(y.dVa);h.events.on("networkchange",y.p3b.bind(y));return q=y;}c.__extends(v,t);v.instance=function(){return q;};v.reset=function(){q && q.reset();};v.prototype.p3b=function(w){this.dVa=w;this.em.aea(w);};v.prototype.olb=function(){var w;if(!this.Cma){w=this.Y6a();this.em.JH(w.default.va,this.confidence);w["initial-throughput-ewma"] && this.em.HH(w["initial-throughput-ewma"].va);w["throughput-ci"] && this.em.KH(w["throughput-ci"]);w.deliverytime && this.em.pN(w.deliverytime);this.em.eL(w.xv?w.xv.uca:void 0,w.xv?w.xv.O9b:void 0);g.tb(this.Yc) || (this.Cma=!0);}};Object.defineProperties(v.prototype,{startTime:{get:function(){return this.eh;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{confidence:{get:function(){return this.Ym.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{sj:{get:function(){return this.gM;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{kXa:{get:function(){return this.RT;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{iZb:{get:function(){return this.hVa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{location:{get:function(){return this.nH;},enumerable:!1,configurable:!0}});v.prototype.Dwb=function(){var w,u,x,y;w=this.L;u=w.Twb.concat(w.cxb);x=w.fla;y=this.wUa;u=u.reduce(function(z,A){z[A]=y.create(A,x);return z;},{});u.confidence=new d.Nia(w,new f.rNa(w,this.Yba.bind(this)));return u;};v.prototype.reset=function(){var w,u,x,y;w=this.L.fla;u=this.wUa;x=this.L;this.nH=null;this.Ym=this.Dwb();if(this.L.T2a){y=this.L.bkb;this.Ym.ndc=new k.default(y.numB * y.bSizeMs,y.bSizeMs);}this.iU.reset();this.QT.reset();this.bA=u.create("respconn-ewma",w);this.Rz=u.create("respconn-ewma",w);this.TM && this.TM.reset();this.fBb=this.olb.bind(this);this.p6=void 0;this.Sz=this.Yc=this.eh=null;this.k6=0;x.ygb && (this.vD=this.OU=this.gM=0,this.RT=[]);};v.prototype.Y_=function(w){var u;u=this.Ym;if(w !== this.nH){g.ta(this.p6) || (clearInterval(this.p6),this.p6=void 0);g.tb(this.nH) && (this.k6=0,this.eh=null);if(!g.tb(w)){for(var x in u){u[x] && u[x].reset && u[x].reset();}this.bA.reset();this.Rz.reset();}g.tb(this.eh) || (this.k6+=(g.tb(this.Yc)?h.time.ia():this.Yc) - this.eh);this.Yc=this.eh=null;this.nH=w;this.em.Y_(w);}};v.prototype.aea=function(w){this.em.aea(w);};v.prototype.ZBb=function(w){this.Ym.QoEEvaluator?p.warn("monitor (QoEEvaluator) already existed."):this.Ym.QoEEvaluator=w;};v.prototype.x8b=function(){delete this.Ym.QoEEvaluator;};v.prototype.LD=function(w,u,x,y){var z,A;this.hVa=Math.max(this.hVa || 0,x);this.vD-=w;z=this.L;A=this.Ym;if(!0 === y.kS)(y=A["throughput-wssl"]) && y.add(w,u,x,!0);else if(g.ta(u))p.warn("addDataReceived called with undefined start time");else {this.TM && this.TM.LD(w,u,x,y);z.bxb && 10 > x - u?u=x - 10:0 === x - u && (u=x - 1);this.iU.LD(w,u,x,y);this.QT.LD(w,u,x,y);for(var B in A){A[B] && A[B].add && A[B].add(w,u,x,y);}g.tb(this.eh) && (this.eh=u,this.Yc=null,this.Cma=!1);g.tb(this.Yc) || (u > this.Yc && (this.eh+=u - this.Yc),this.Yc=null,this.Cma=!1);g.tb(this.Sz) || (u - this.Sz > z.JVa?this.IVa.P8a(this.Sz,u):x - u > z.JVa && this.IVa.P8a(u,x));this.Sz=this.Sz?Math.max(x,this.Sz):x;}};v.prototype.lA=function(w){this.bA.add(w);this.em.lA(w);};v.prototype.kA=function(w){this.Rz.add(w);this.em.kA(w);};v.prototype.start=function(w,u){var x;g.tb(this.Sz) && !g.tb(this.Yc) && (this.Sz=w);x=this.Ym;if(this.L.uCa)for(var y in x){x[y] && x[y].start && x[y].start(w,u);}};v.prototype.stop=function(w,u){var x,y;x=this.Ym;for(y in x){x[y] && x[y].stop && x[y].stop(w,u);}this.Yc=g.tb(this.Yc)?w:Math.min(this.Yc,w);this.Sz=null;};v.prototype.flush=function(){var w,u;w=this.Ym;for(u in w){w[u] && w[u].flush && w[u].flush();}};v.prototype.v5a=function(){var w,u;w=this.Ym.moc;if(w){u=w.oFb();w.reset();}return u;};v.prototype.Y6a=function(){var w,u,x,y,z,A,B,C;w=h.time.ia();u=this.Ym;x=this.L;y=x.Jwb;z=x.Kwb;A=x.wAb;B={};for(C in u){u[C] && u[C].get && (B[C]=u[C].get(w,this.vD),"iqr" === u[C].type && (B.xv=B[C]),"tdigest" === u[C].type && (B.Wg=B[C]),"wssl" === u[C].type && (B.kS=B[C]));}B.cdnavtp=this.iU.Jo();B.activecdnavtp=this.QT.Jo();B.default=y && B[y] && z && void 0 !== B[y][z]?{va:B[y][z]}:y && B[y]?B[y]:B["throughput-ewma"];"none" !== x.mBa && "none" !== A && (B.ghb=A && B[A]?B[A]:B["throughput-sw"]);return B;};v.prototype.Q9=function(){return this.TM?this.TM.Q9():void 0;};v.prototype.get=function(){var w,u,x,y,z,A;w=this.Y6a();u=w.default;x=this.bA.get();y=this.Rz.get();z=this.L;if(w.ghb){A=w.ghb;u=g.Oa(u.va) && g.Oa(A.va) && u.va > A.va && 0 < A.va?A:u;}w.Va=u;w.A8a=w["initial-throughput-ewma"];!z.hOb || !u || g.tb(u.va) || isNaN(u.va) || !w.kS || g.tb(w.kS.va) || isNaN(w.kS.va) || ("max" === z.Kmb?w.Va.va=Math.max(w.kS.va,u.va):"sum" === z.Kmb && (w.Va.va+=w.kS.va));w.el=x;w.pP=y;this.L.T2a && (u=this.L.bkb,w.isc=this.Ym.ndc.get(u.fillS,u.fillHl));u=this.k6 + (g.tb(this.eh)?0:(g.tb(this.Yc)?h.time.ia():this.Yc) - this.eh);w.time=u;return w;};v.prototype.GUb=function(){var w,u,x;w={};u=this.get();if(u.confidence && u["throughput-ewma"]){w.aseavtp=Number(u["throughput-ewma"].va).toFixed(2);w.asevartp=Number(u["throughput-ewma"].ye).toFixed(2);if(u.xv){x=u.xv.uca;!x || void 0 === x.Ol || void 0 === x.Nl || void 0 === x.mk || isNaN(x.Ol || 0) || isNaN(x.Nl) || isNaN(x.mk) || (w.aseniqr=0 < x.mk?Number((x.Ol - x.Nl) / x.mk).toFixed(2):-1,w.aseiqr=Number(x.Ol - x.Nl).toFixed(2),w.asemedtp=Number(x.mk).toFixed(2));w.iqrsamples=u.xv.O9b;}u.Wg && u.Wg.cB && (w.tdigest=u.Wg.cB());}return w;};v.prototype.Yv=function(w,u){var x,y,z;x=u.requestId;1 === ++this.gM && this.emit("active",w);if(this.L.D2a){y=this.Ym;for(z in y){y[z] && y[z].Yv && y[z].Yv(w,u);}}this.L.uea && this.start(w,u);x && (this.L.uea || this.start(w,u),this.RT.push(x));this.vD+=u.ea || 0;this.iU.Yv(w,u);this.QT.Yv(w,u);};v.prototype.sgb=function(){++this.OU;};v.prototype.Gy=function(w,u,x){var y,z,A;y=x.requestId;u && --this.OU;--this.gM;this.vD=Math.max((this.vD || 0) - ((x.ea || 0) - (x.bytesReceived || 0)),0);this.L.ygb && (this.gM=Math.max(this.gM,0),this.OU=Math.max(this.OU,0));if(this.L.D2a){z=this.Ym;for(A in z){z[A] && z[A].Gy && z[A].Gy(w,u,x);}}this.L.uea && this.stop(w,x);0 === this.gM && (this.L.uea || this.stop(w,x),this.emit("inactive",w));y && (u=this.RT.indexOf(y),0 <= u && this.RT.splice(u,1));this.iU.Gy(w,x);this.QT.Gy(w,x);};v.prototype.Yba=function(){this.olb();this.p6=setInterval(this.fBb,this.L.eyb);};return v;})(r.EventEmitter);b.default=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7AOAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgA4BAEgAYBADgcoCBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG";b.Yb=!0;b.pa="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Xb=!1;b.ba={Ca:1001,W:24E3};b.duration={Ca:6006,W:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=4;b.yd=3;b.oc=[176,731];b.mc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgA4BAEgAYBADgcYCBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG";b.Yb=!0;b.pa="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Xb=!1;b.ba={Ca:1001,W:24E3};b.duration={Ca:6006,W:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=4;b.yd=3;b.oc=[176,729];b.mc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7ABAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgL4FgAYCAUBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG";b.Yb=!0;b.pa="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Xb=!1;b.ba={Ca:1001,W:24E3};b.duration={Ca:6006,W:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=1;b.yd=1;b.oc=[176,731];b.mc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CACIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgLoFgAYCAUBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG";b.Yb=!0;b.pa="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Xb=!1;b.ba={Ca:1001,W:24E3};b.duration={Ca:6006,W:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=1;b.yd=1;b.oc=[176,729];b.mc=[44];},function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Pha=b.b4=void 0;a=(function(){function g(){var k;k=this;this.QU=[];this.C8b=function(m){m=k.QU.indexOf(m);0 <= m && k.QU.splice(m,1);};}Object.defineProperties(g.prototype,{nA:{get:function(){return 0 !== this.QU.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Jcb:{get:function(){return this.QU.length;},enumerable:!1,configurable:!0}});g.prototype.add=function(){var k;k=new c(this.C8b);this.QU.push(k);return k;};g.prototype.Bfa=function(k){var m;m=this.add();try{return Promise.resolve(k()).then(function(f){m.release();return f;},function(f){m.release();return Promise.reject(f);});}catch(f){return (m.release(),Promise.reject(f));}};return g;})();b.b4=a;c=(function(){function g(k){this.aAb=k;}g.prototype.release=function(){this.aAb(this);};return g;})();r=(function(){function g(k,m){this.C3b=k;this.console=m;this.counter=new a();}g.prototype.nx=function(){var k,m;k=this;this.console.trace("Acquiring lease, total count",this.counter.Jcb + 1);m=this.counter.add();return {release:function(){m.release();k.console.trace("Releasing lease, total count",k.counter.Jcb);k.C3b(function(){return !k.counter.nA;});}};};return g;})();b.Pha=r;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.LC=void 0;c=a(104);g=a(447);k=a(75);r=(function(){function m(f,d){var a00,l;a00=2;for(;a00 !== 8;){switch(a00){case 3:var g4T="1S";g4T+="IYbZrNJC";g4T+="p9";this.$Z=function(n,h,p){var b00;b00=2;for(;b00 !== 5;){switch(b00){case 2:n=l.Jo(n,p);return l.config.WYa?(h=(0,c.gra)(l.config.VYa,h.$j - h.Qc,1),{lower:n * (1 - h),upper:void 0}):{lower:n * l.config.C0 / 100,upper:void 0};break;}}};g4T;a00=8;break;case 2:l=this;this.config=f;this.UP=d;this.mmb=this.Z6=null;a00=3;break;}}}var R8;R8=2;for(;R8 !== 14;){switch(R8){case 2:m.prototype.U1a=function(f,d){var c00,l;c00=2;for(;c00 !== 3;){switch(c00){case 5:this.config.nwa && d?(f=(0,g.wna)(f,d),f=Math.max(f,l)):f=l;c00=4;break;case 2:l=null === this.Z6?f * (100 - this.config.C0) / 100:(0,g.wna)(f,this.Z6);d=null !== d && void 0 !== d?d:this.UP;c00=5;break;case 14:return f;break;c00=3;break;case 4:return f;break;}}};m.prototype.aCa=function(f){var d00;d00=2;for(;d00 !== 1;){switch(d00){case 2:return this.config.NNb && (f === k.Ia.Qh || f === k.Ia.Qd);break;}}};m.prototype.Jo=function(f,d){var e00,l,n,h;e00=2;for(;e00 !== 5;){switch(e00){case 2:return this.aCa(d)?(null === (l=f.A8a) || void 0 === l?void 0:l.va) || (null === (n=f.Va) || void 0 === n?void 0:n.va) || 0:(null === (h=f.Va) || void 0 === h?void 0:h.va) || 0;break;}}};m.prototype.mC=function(f){var f00;f00=2;for(;f00 !== 1;){switch(f00){case 2:this.Z6=f;f00=1;break;case 4:this.Z6=f;f00=5;break;f00=1;break;}}};R8=3;break;case 3:m.prototype.kX=function(){var g00;g00=2;for(;g00 !== 1;){switch(g00){case 2:return this.Z6;break;}}};m.prototype.EK=function(f){var h00;h00=2;for(;h00 !== 1;){switch(h00){case 2:this.mmb=f;h00=1;break;}}};m.prototype.OX=function(){var i00;i00=2;for(;i00 !== 1;){switch(i00){case 2:return this.mmb;break;}}};m.prototype.JDa=function(f){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 2:this.config=f;j00=1;break;}}};R8=6;break;case 6:return m;break;}}})();b.LC=r;},function(r,b){function a(g){return g && "object" === typeof g?Array.isArray(g)?g.map(a):Object.keys(g).reduce(function(k,m){k[m]=a(g[m]);return k;},{}):g;}function c(g,k){return Object.keys(g).reduce(function(m,f){return (m[k[f] || f]=g[f],m);},{});}Object.defineProperty(b,"__esModule",{value:!0});b.Kw=void 0;r=(function(){function g(k){k && (this.AK(k.fe),this.XBa(k.Je),this.PBa(k.R));}g.prototype.AK=function(k){this.fe=k;return this;};g.prototype.XBa=function(k){this.Je=k;return this;};g.prototype.Uhb=function(k){this.Wf=k;return this;};g.prototype.vg=function(k,m,f){this.R || (this.R={});this.R[k]=a(m);if(f){k=this.R[k];if(m=k.next)k.next=c(m,f);k.Ub && f[k.Ub] && (k.Ub=f[k.Ub]);}return this;};g.prototype.PBa=function(k,m,f){void 0 === m && (m=function(){return !0;});this.R={};return this.EXa(k,m,f);};g.prototype.EXa=function(k,m,f,d){var l;l=this;void 0 === m && (m=function(){return !0;});Object.keys(k).filter(function(n){return m(k[n],n);}).forEach(function(n){var h;h=k[n];d && (h=d(h,n));l.vg(n,h,f);});return this;};g.prototype.B7a=function(k){var m;return !(null === (m=this.R) || void 0 === m || !m[k]);};g.prototype.Yi=function(){var k;if(!this.R)throw Error("Invalid playgraph - `segments` is not defined");if(!this.fe)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.R[this.fe])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");k={fe:this.fe,R:this.R};this.Je && (k.Je=this.Je);this.Wf && (k.Wf=this.Wf);return k;};return g;})();b.Kw=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.tL=b.aqb=void 0;c=a(26);b.aqb=function(){this.NH=[];this.Yn=[];this.NXa=[];this.Hna=c.ww.hz;this.qfa=c.Rm.hz;};b.tL="DeviceCapabilitiesConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KT="SourceBufferTypeProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tT="MslProviderSymbol";},function(r){function b(m,f){return m.some(function(d){return d.id === f;});}function a(m,f){return m.filter(c.bind(null,f)).map(g).reduce(k,0);}function c(m,f){return m.id === f.id && m.displayTime + m.duration === f.displayTime;}function g(m){return m.duration;}function k(m,f){return m + f;}r.exports={rHb:function(m,f,d){for(var l=0;l < m.length;l++){if(m[l] !== f[l])return (d.error("indexId mismatch in sidx",{sIndexId:m,mIndexId:f}),!1);}return !0;},Qpa:function(m,f,d){var l;l={};l.displayTime=m.displayTime;l.duration=m.duration;l.originX=m.S3b;l.originY=m.T3b;l.sizeX=m.obc;l.sizeY=m.pbc;l.imageData=f;l.id=m.ZI;l.rootContainerExtentX=d.D9b;l.rootContainerExtentY=d.E9b;return l;},Gsa:function(m,f){return "o_" + m + "s_" + f;},Qfc:function(m,f){f("P" === String.fromCharCode(m[1]));f("N" === String.fromCharCode(m[2]));f("G" === String.fromCharCode(m[3]));},vd:function(m){return "undefined" !== typeof m;},xrc:b,goc:a,vX:function(m,f){var d,l;d=Object.create({});for(l in m){d[l]=m[l];}m instanceof Error && (d.message=m.message,d.stack=m.stack);d.errorString=f;return d;},assert:function(m,f){if(!m)throw (f && f.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},d8a:function(m){return m && 0 < m.entries.length && 0 === m.images.length;},vcc:function(m,f){for(var d=f.entries.length,l,n=0;n < d;n++){if((l=f.entries[n],l.displayTime <= m && l.displayTime + l.duration >= m))return !0;}return !1;},wcc:function(m,f,d){for(var l=d.entries.length,n,h,p=0;p < l;p++){n=d.entries[p];h=n.displayTime;n=h + n.duration;if(f < h)break;if(h <= m && n >= m || h > m && h <= f)return !0;}return !1;},a0a:function(m){return m.map(function(f,d){f.duration+=a(m.slice(d + 1),f);return f;}).reduce(function(f,d){b(f,d.id) || f.push(d);return f;},[]);},Fta:function(m){return m.reduce(function(f,d){return f + d.entries.reduce(function(l,n){return n.Cua + l;},0);},0);},JMb:function(m,f){return m && m.Cy <= f && m.Qr >= f;},uSb:function(m){if(m)return m.endTime;},RSb:function(m){try{return String.fromCharCode.apply(String,m);}catch(f){}return "";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JG="PlaygraphConfigSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Yq=b.Gnb=void 0;b.Gnb=a;b.Yq=new a();},function(r,b,a){var g,k,m;function c(f,d,l,n){d=m.li.call(this,f,d,n) || this;d.context=f;d.jra=l;return d;}Object.defineProperty(b,"__esModule",{value:!0});b.gs=void 0;r=a(0);g=a(1);k=a(65);m=a(73);a(137);ja(c,m.li);c.prototype.Sf=function(f,d){var l,n;l=this;n=this.WD(d);!1;!1;return this.send(f,{url:d.href,name:k.Lg.events,Dm:k.Lg.events + "/" + this.jra},n).then(function(){return d;}).catch(function(h){throw l.un(h);});};c.prototype.Up=function(f,d,l){var n,h,p;n=this;h=this.WD(l);!1;!1;p={url:d.XO("events").href,name:k.Lg.events,Dm:k.Lg.events + "/" + this.jra};return this.send(f,p,h).then(function(q){d.Yma(q.result.links);return l;}).catch(function(q){throw n.un(q);});};c.prototype.WD=function(f){return {event:this.jra,xid:f.qa,position:f.position || 0,clientTime:f.AA,sessionStartTime:f.On,videoTrackId:f.fS,audioTrackId:f.Lp,timedTextTrackId:f.NR,mediaId:f.YP,trackId:f.trackId,sessionId:f.sessionId,appId:f.appId,playTimes:this.ooa(f.Bt),sessionParams:f.Nn};};c.prototype.noa=function(f){return {downloadableId:f.Vb,duration:f.duration};};c.prototype.ooa=function(f){var d;d={total:f.total,audio:f.audio.map(this.noa),video:f.video.map(this.noa),text:f.text.map(this.noa)};f.total !== f.ZK && (d.totalContentTime=f.ZK);0 !== f.VF && (d.totalAdDuration=f.VF);0 !== f.WF && (d.totalOtherDuration=f.WF);if(0 !== f.WF || 0 !== f.VF)d.totalCombinedDuration=f.PR;return d;};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.gp)()),r.__param(1,(0,g.gp)()),r.__param(2,(0,g.gp)()),r.__param(3,(0,g.gp)())],a);b.gs=a;},function(r){r.exports=Number.isNaN || (function(b){return b !== b;});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hG="BrowserInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.vta=function(){return this.buffer.length - this.position;};a.prototype.bC=function(){return this.buffer[this.position++];};a.prototype.al=function(c){var g;g=this.position;this.position+=c;return this.EYb(this.buffer)?this.buffer.subarray(g,this.position):this.buffer.slice(g,this.position);};a.prototype.EYb=function(c){return void 0 !== c.subarray;};a.prototype.Rr=function(c){for(var g=0;c--;){g=256 * g + this.buffer[this.position++];}return g;};a.prototype.cAa=function(c){for(var g="";c--;){g+=String.fromCharCode(this.buffer[this.position++]);}return g;};a.prototype.gi=function(){return this.Rr(2);};a.prototype.Sr=function(){return this.Rr(4);};a.prototype.RQ=function(){return this.Rr(8);};a.prototype.Dy=function(c){for(var g,k="";c--;){g=this.bC();k+=("0123456789ABCDEF")[g >>> 4] + ("0123456789ABCDEF")[g & 15];}return k;};a.prototype.dAa=function(c){for(var g=0,k=0;k < c;k++){g+=this.bC() << (k << 3);}return g;};a.prototype.QQ=function(){return this.dAa(4);};a.prototype.n1=function(c){this.jS(c,2);};a.prototype.FC=function(c){this.jS(c,4);};a.prototype.Dfa=function(c){this.buffer[this.position++]=c;};a.prototype.jS=function(c,g){this.position+=g;for(var k=1;k <= g;k++){this.buffer[this.position - k]=c & 255;c=Math.floor(c / 256);}};a.prototype.EC=function(c){for(var g=0;g < c.length;g++){this.buffer[this.position++]=c.charCodeAt(g);}};a.prototype.m1=function(c){for(var g=c.length,k=0;k < g;k++){this.buffer[this.position++]=c[k];}};a.prototype.iS=function(c,g){this.m1(c.al(g));};a.prototype.Jmb=function(c){c=new a(c);for(var g,k;;){if((g=c.vta(),k=g >>> 14))(k=Math.min(4,k),this.Dfa(192 | k),this.iS(c,16384 * k));else {128 > g?this.Dfa(g):this.jS(g | 32768,2);this.iS(c,g);break;}}};a.prototype.nfb=function(){var k;for(var c=[],g=new a(c);;){k=this.bC();if(k & 128){if(128 == (k & 192))(k&=63,k=(k << 8) + this.bC(),g.iS(this,k));else if((k&=63,0 < k && 4 >= k)){g.iS(this,16384 * k);continue;}else throw Error("bad asn1");}else g.iS(this,k);break;}return new Uint8Array(c);};return a;})();b.MS=r;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Mf=void 0;b.Mf=a;a.HJa=/^hevc-main/;a.GJa=/^hevc-hdr-|hevc-dv/;a.BL=/^hevc-hdr-/;a.zw=/^hevc-dv/;a.u2=/h264mpl/;a.mG=/h264mpl30/;a.nG=/h264mpl31/;a.IC=/h264hpl/;a.jD=/^vp9-/;a.ol=/^av1-/;a.Hqb=/[l|L]4[0-1]-/;a.bM=/-L5[0-1]-/;a.Ifa=/^heaac-2-/;a.Wqb=/^heaac-2hq-dash/;a.Iz=/^xheaac-dash/;a.Zob=/ddplus-2/;a.$ob=/ddplus-5/;a.apb=/ddplus-atmos/;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.R1="CannedChallengeProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TQa="ReportSyncSymbol";b.RQa="ReportApiErrorSyncSymbol";b.fJa="FtlProbeConfigSymbol";b.hJa="FtlProbeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.D1="ApiInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.h2="DebouncerFactorySymbol";},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.KQa=b.f4=b.G9=void 0;c=a(49);g=a(3);b.G9=function(k){return k === c.u.V?g.X.gia:g.X.hia;};b.f4=50;b.KQa=1E3;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.Iv,minHCInitVideoBitrate:a.Bxa,maxInitVideoBitrate:a.EB,minInitAudioBitrate:a.hZ,maxInitAudioBitrate:a.TY,minHCInitAudioBitrate:a.fZ,minAcceptableVideoBitrate:a.mba,minRequiredBuffer:a.jF,minPrebufSize:a.Dj,minCheckBufferingCompleteInterval:a.qba,rebufferingFactor:a.hAa,useMaxPrebufSize:a.YDa,maxPrebufSize:a.GB,maxRebufSize:a.hxa,maxBufferingTime:a.Hr,minAudioMediaRequestSizeBytes:a.nba,minVideoMediaRequestSizeBytes:a.wba,initialBitrateSelectionCurve:a.M$,initSelectionLowerBound:a.w8a,initSelectionUpperBound:a.x8a,throughputPercentForAudio:a.C0,bandwidthMargin:a.Sna,bandwidthMarginContinuous:a.Tna,bandwidthMarginCurve:a.Una,conservBandwidthMargin:a.Bpa,switchConfigBasedOnInSessionTput:a.XCa,conservBandwidthMarginTputThreshold:a.ZV,conservBandwidthMarginCurve:a.Cpa,switchAlgoBasedOnHistIQR:a.Mjb,switchConfigBasedOnThroughputHistory:a.RF,maxPlayerStateToSwitchConfig:a.gxa,lowEndMarkingCriteria:a.Hwa,IQRThreshold:a.Cha,histIQRCalcToUse:a.sua,maxTotalBufferLevelPerSession:a.Ev,highWatermarkLevel:a.Q7a,toStableThreshold:a.vkb,toUnstableThreshold:a.Qea,skipBitrateInUpswitch:a.mCa,watermarkLevelForSkipStart:a.nEa,highStreamRetentionWindow:a.x$,lowStreamTransitionWindow:a.Oaa,highStreamRetentionWindowUp:a.oua,lowStreamTransitionWindowUp:a.Jwa,highStreamRetentionWindowDown:a.nua,lowStreamTransitionWindowDown:a.Iwa,highStreamInfeasibleBitrateFactor:a.mua,lowestBufForUpswitch:a.zB,lockPeriodAfterDownswitch:a.Jaa,lowWatermarkLevel:a.Lwa,lowestWaterMarkLevel:a.by,lowestWaterMarkLevelBufferRelaxed:a.Mwa,mediaRate:a.hba,maxTrailingBufferLen:a.aba,audioBufferTargetAvailableSize:a.uV,videoBufferTargetAvailableSize:a.$0,maxVideoTrailingBufferSize:a.Vab,maxAudioTrailingBufferSize:a.yab,fastUpswitchFactor:a.P8,fastDownswitchFactor:a.vra,maxMediaBufferAllowed:a.Dv,simulatePartialBlocks:a.jCa,simulateBufferFull:a.Aib,considerConnectTime:a.Dpa,connectTimeMultiplier:a.Apa,lowGradeModeEnterThreshold:a.X$a,lowGradeModeExitThreshold:a.Y$a,maxDomainFailureWaitDuration:a.Bab,maxAttemptsOnFailure:a.xab,exhaustAllLocationsForFailure:a.n3a,maxNetworkErrorsDuringBuffering:a.Jab,maxBufferingTimeAllowedWithNetworkError:a.Taa,fastDomainSelectionBwThreshold:a.v3a,throughputProbingEnterThreshold:a.$jb,throughputProbingExitThreshold:a.akb,locationProbingTimeout:a.L$a,finalLocationSelectionBwThreshold:a.C3a,throughputHighConfidenceLevel:a.Yjb,throughputLowConfidenceLevel:a.Zjb,locationStatisticsUpdateInterval:a.twa,enablePerfBasedLocationSwitch:a.Q2a,probeServerWhenError:a.Uv,probeRequestTimeoutMilliseconds:a.Hza,allowSwitchback:a.mA,probeDetailDenominator:a.MQ,maxDelayToReportFailure:a.Uaa,countGapInBuffer:a.p0a,bufferThresholdForAbort:a.oZa,allowCallToStreamSelector:a.SXa,pipelineScheduleTimeoutMs:a.dza,maxPartialBuffersAtBufferingStart:a.FB,maxActiveRequestsSABCell100:a.Raa,maxStreamingSkew:a.ixa,maxPendingBufferPercentage:a.exa,headerRequestSize:a.u$,estimateHeaderSize:a.cra,minBufferLenForHeaderDownloading:a.eZ,reserveForSkipbackBufferMs:a.G_,numExtraFragmentsAllowed:a.gya,pipelineEnabled:a.Hj,maxParallelConnections:a.VP,socketReceiveBufferSize:a.Kib,audioSocketReceiveBufferSize:a.a7,videoSocketReceiveBufferSize:a.dS,headersSocketReceiveBufferSize:a.kua,updatePtsIntervalMs:a.gfa,bufferTraceDenominator:a.foa,bufferLevelNotifyIntervalMs:a.KV,aseReportDenominator:a.yN,aseReportIntervalMs:a.S6,enableAbortTesting:a.zNb,abortRequestFrequency:a.vBb,streamingStatusIntervalMs:a.LCa,prebufferTimeLimit:a.XB,minBufferLevelForTrackSwitch:a.pba,penaltyFactorForLongConnectTime:a.Wya,longConnectTimeThreshold:a.Fwa,additionalBufferingLongConnectTime:a.ina,additionalBufferingPerFailure:a.jna,rebufferCheckDuration:a.p_,enableLookaheadHints:a.N2a,lookaheadFragments:a.U$a,enableOCSideChannel:a.rE,OCSCBufferQuantizationConfig:a.H3,updateDrmRequestOnNetworkFailure:a.llb,deferAseScheduling:a.D1a,maxDiffAudioVideoEndPtsMs:a.Aab,defaultHeaderCacheSize:a.c8,defaultHeaderCacheDataPrefetchMs:a.b8,neverWipeHeaderCache:a.Iba,networkFailureResetWaitMs:a.Nxa,networkFailureAbandonMs:a.Mxa,maxThrottledNetworkFailures:a.$aa,throttledNetworkFailureThresholdMs:a.Iea,lowThroughputThreshold:a.Kwa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.mra,mp4ParsingInNative:a.Kbb,sourceBufferInOrderAppend:a.Mib,requireAudioStreamToEncompassVideo:a.jK,allowAudioToStreamPastVideo:a.RXa,enableManagerDebugTraces:a.Zi,managerDebugMessageInterval:a.jab,managerDebugMessageCount:a.iab,bufferThresholdToSwitchToSingleConnMs:a.eoa,bufferThresholdToSwitchToParallelConnMs:a.doa,netIntrStoreWindow:a.M1b,minNetIntrDuration:a.h1b,fastHistoricBandwidthExpirationTime:a.ePb,bandwidthExpirationTime:a.qEb,failureExpirationTime:a.cPb,historyTimeOfDayGranularity:a.bWb,expandDownloadTime:a.OOb,minimumMeasurementTime:a.u1b,minimumMeasurementBytes:a.t1b,throughputMeasurementTimeout:a.kdc,initThroughputMeasureDataSize:a.gXb,throughputMeasureWindow:a.jdc,throughputIQRMeasureWindow:a.idc,IQRBucketizerWindow:a.Srb,connectTimeHalflife:a.EHb,responseTimeHalflife:a.v9b,historicBandwidthUpdateInterval:a.aWb,throughputWarmupTime:a.pdc,minimumBufferToStopProbing:a.s1b,throughputPredictor:a.ldc,ase_stream_selector:a.tDb,enableFilters:a.INb,filterDefinitionOverrides:a.yPb,defaultFilter:a.wLb,secondaryFilter:a.g$b,defaultFilterDefinitions:a.xLb,initBitrateSelectorAlgorithm:a.Rua,bufferingSelectorAlgorithm:a.koa,ase_ls_failure_simulation:a.m1a,ase_dump_fragments:a.cqa,ase_location_history:a.dqa,ase_throughput:a.n1a,ase_simulate_verbose:a.p1a,secondThroughputEstimator:a.mBa,secondThroughputMeasureWindowInMs:a.fhb,marginPredictor:a.Vwa,networkMeasurementGranularity:a.Oxa,HistoricalTDigestConfig:a.aKa,maxIQRSamples:a.Gab,minIQRSamples:a.ubb,periodicHistoryPersistMs:a.vca,saveVideoBitrateMs:a.Mda,needMinimumNetworkConfidence:a.mZ,biasTowardHistoricalThroughput:a.Xna,maxFastPlayBufferInMs:a.Vaa,maxFastPlayBitThreshold:a.bxa,minAudioMediaRequestDuration:a.ky,minVideoMediaRequestDuration:a.JB,minAudioMediaRequestDurationCache:a.ky,minVideoMediaRequestDurationCache:a.JB,addHeaderDataToNetworkMonitor:a.Xma,hindsightDenominator:a.rua,hindsightDebugDenominator:a.qua,hindsightParam:a.z$,minimumTimeBeforeBranchDecision:a.fQ,minimumTimeBeforeDelayedSeekToQueuedSegment:a.Cbb,enableSessionHistoryReport:a.NW,earlyStageEstimatePeriod:a.Mqa,lateStageEstimatePeriod:a.p$a,maxNumSessionHistoryStored:a.Yaa,minSessionHistoryDuration:a.vba,appendMediaRequestOnComplete:a.gYa,waitForDrmToAppendMedia:a.wfa,forceAppendHeadersAfterDrm:a.e9,startMonitorOnLoadStart:a.uCa,reportFailedRequestsToNetworkMonitor:a.BAa,reappendRequestsOnSkip:a.B7b,maxActiveRequestsPerSession:a.gy,limitAudioDiscountByMaxAudioBitrate:a.nwa,appendFirstHeaderOnComplete:a.tna,maxAudioFragmentOverlapMs:0,editVideoFragments:a.oNb,declareBufferingCompleteAtSegmentEnd:a.eqa,applyProfileTimestampOffset:a.MH,applyProfileStreamingOffset:a.jm,mediaSourceSupportsNegativePts:a.aZ,requireDownloadDataAtBuffering:a.tda,requireSetupConnectionDuringBuffering:a.uda,recordFirstFragmentOnSubBranchCreate:a.jAa,earlyAppendSingleChildBranch:a.v8,selectStartingVMAFMethod:a.jR,activateSelectStartingVMAF:a.iV,minStartingVideoVMAF:a.Jv,minAcceptableVMAF:a.dZ,minAllowedVmaf:a.zJ,alwaysNotifyEOSForPlaygraph:a.YCb,enableNewAse:a.A8,useNewApi:a.kfa,enableCombinedPlaygraphs:a.JW,enableAdPlaygraphs:a.tI,retainSbrOnFade:a.Ada,excludedContentPlaygraphIds:a.nra,enableDiscontiguousBuffering:a.y8,forceImmediateTransitionTypeForTitles:a.Zra,forceImmediateTransitionExitZone:a.Yra,useBufferSizeLimiter:a.ifa,useLegacyFragmentRounding:a.XDa,maxAllowedOutstandingRequests:a.Saa,alwaysRunUnderflowTimer:a.tN,minStreamableConcurrencyWindow:a.Cxa,streamableConcurrencyFactor:a.ICa,bufferingConcurrencyWindow:a.MV,singleStreamablePerBranch:a.nbc,enableResolutionVMAFStreamFilter:a.B8,resolutionVMAFCappingRuleList:a.zda,percentCapTitlesForResolutionVMAFStreamFilter:a.Zya,useExitZones:a.VDa,perFragmentVMAFConfig:a.BQ,enableInitialTputLogging:a.L2a,maxResponsesInitialTput:a.r0b,paddingDurationMs:a.Kya,paddingMediaType:a.Lya,supportsPtsChanged:a.WCa,ciPredictorSource:a.Yoa,experimentalFilter:a.POb,simulationDurationStrategy:a.kCa};};},function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(r,b){function a(g,k){return "number" !== typeof g || "number" !== typeof k?!1:g && k?Math.abs(g * k / c(g,k)):0;}function c(g,k){var m;g=Math.abs(g);for(k=Math.abs(k);k;){m=k;k=g % k;g=m;}return g;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function g(k,m){"object" === typeof k?(this.zc=k.Ca,this.sb=k.W):(this.zc=k,this.sb=m);}g.Ja=function(k){return new g(k,1E3);};g.Pea=function(k,m){return Math.floor(1E3 * k / m);};g.Mbb=function(k,m){return Math.floor(k * m / 1E3);};g.max=function(){for(var k=[],m=0;m < arguments.length;m++){k[m]=arguments[m];}return k.reduce(function(f,d){return f.greaterThan(d)?f:d;});};g.min=function(){for(var k=[],m=0;m < arguments.length;m++){k[m]=arguments[m];}return k.reduce(function(f,d){return f.lessThan(d)?f:d;});};g.BE=function(k,m){var f;if(k.W === m.W)return new g(c(k.Ca,m.Ca),k.W);f=a(k.W,m.W);return g.BE(k.ng(f),m.ng(f));};Object.defineProperties(g.prototype,{Ca:{get:function(){return this.zc;},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{W:{get:function(){return this.sb;},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{Z:{get:function(){return 1E3 * this.zc / this.sb;},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{Hh:{get:function(){return this.zc / this.sb;},enumerable:!0,configurable:!0}});g.prototype.ng=function(k){k/=this.W;return new g(Math.floor(this.Ca * k),Math.floor(this.W * k));};g.prototype.add=function(k){var m;if(this.W === k.W)return new g(this.Ca + k.Ca,this.W);m=a(this.W,k.W);return this.ng(m).add(k.ng(m));};g.prototype.Da=function(k){return this.add(new g(-k.Ca,k.W));};g.prototype.MB=function(k){return new g(this.Ca * k,this.W);};g.prototype.bk=function(k){var m;if(this.W === k.W)return this.Ca / k.Ca;m=a(this.W,k.W);return this.ng(m).bk(k.ng(m));};g.prototype.$6a=function(k){return a(this.W,k);};g.prototype.Jfb=function(){return new g(this.W,this.Ca);};g.prototype.compare=function(k,m){var f;if(this.W === m.W)return k(this.Ca,m.Ca);f=a(this.W,m.W);return k(this.ng(f).Ca,m.ng(f).Ca);};g.prototype.equal=function(k){return this.compare(function(m,f){return m === f;},k);};g.prototype.Zxa=function(k){return this.compare(function(m,f){return m !== f;},k);};g.prototype.lessThan=function(k){return this.compare(function(m,f){return m < f;},k);};g.prototype.greaterThan=function(k){return this.compare(function(m,f){return m > f;},k);};g.prototype.bF=function(k){return this.compare(function(m,f){return m <= f;},k);};g.prototype.zi=function(k){return this.compare(function(m,f){return m >= f;},k);};g.prototype.toJSON=function(){return {ticks:this.Ca,timescale:this.W};};g.prototype.toString=function(){return this.Ca + "/" + this.W;};g.Ha=new g(0,1);g.QB=new g(1,1E3);return g;})();b.M=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);g=a(24);r=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(f){var d;d=k.prototype.parse.call(this,f);this.O.offset+=8;this.Loa=this.O.rh();this.aBa=this.O.rh();this.O.offset+=4;this.samplerate=this.O.rh();this.O.offset+=2;g.N && this.O.console.trace("MP4AudioSampleEntry: channelcount: " + this.Loa + ", samplesize: " + this.aBa + ", samplerate: " + this.samplerate);if(null === f || void 0 === f?0:f.uf)(f.uf.Loa=this.Loa,f.uf.aBa=this.aBa,f.uf.samplerate=this.samplerate);return d;};m.ud=!1;return m;})(a(240).default);b.default=r;},function(r,b,a){var g;function c(k){var m;m={profile:k.spoofedProfile || k.profile,o9:k.max_framerate_value,n9:k.max_framerate_scale,maxWidth:k.maxWidth,maxHeight:k.maxHeight,eza:k.pixelAspectX,fza:k.pixelAspectY,channels:k.channels,sampleRate:k.channels?48E3:void 0};k.spoofedProfile && (m.Fqc=k.profile);return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.e6a=b.ata=void 0;g=a(6);b.ata=function(k,m,f){var d;d=[{},{}];(f === g.u.V?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(l,n){k[l].some(function(h,p){return p === m[n]?(d[n]=c(h),!0):!1;});});return d;};b.e6a=c;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Zja=b.co=void 0;c=a(152);(function(k){k[k.pending=0]="pending";k[k.Fda=1]="running";k[k.complete=2]="complete";k[k.kO=3]="destroyed";})(g=b.co || (b.co={}));r=(function(){function k(m,f){void 0 === f && (f=0);this.name=m;this.priority=f;this.Sc=g.pending;}Object.defineProperties(k.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{FXb:{get:function(){return this.Sc === g.pending || this.Sc === g.Fda;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{$d:{get:function(){return this.Uq;},enumerable:!1,configurable:!0}});k.prototype.FDb=function(m){var f;null === (f=this.Uq) || void 0 === f?void 0:f.oda(this);this.Uq=m;};k.prototype.Jy=function(){this.Sc=g.Fda;this.Sf();this.Lba() === c.Rh.lEa && (this.Sc=g.complete);};k.prototype.xb=function(){var m;this.Sc=g.kO;null === (m=this.Uq) || void 0 === m?void 0:m.oda(this);};k.prototype.ZZa=function(m){this.Uq.oda(this);this.Uq=m;this.Uq.Igb(this);};return k;})();b.Zja=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.WN=void 0;c=a(0);g=a(20);b.WN=function(k,m,f,d){var l,n,h,t,v,w;void 0 === d && (d={});h=g.M.max(f,g.M.Ha);try{for(var p=c.__values(Object.keys(k.R)),q=p.next();!q.done;q=p.next()){t=q.value;v=k.R[t];if(v.P === m){w=g.M.Ja(v.xa);if(h.zi(w) && (!isFinite(null !== (n=v.wa) && void 0 !== n?n:NaN) || h.lessThan(g.M.Ja(v.wa))))return {Y:t,offset:f.Da(w)};}}}catch(x){var u;u={error:x};}finally{try{q && !q.done && (l=p.return) && l.call(p);}finally{if(u)throw u.error;}}if(d.ehb && (v=Object.keys(k.R).map(function(x){return {key:x,G:k.R[x]};}).filter(function(x){return x.G.P === m;}).map(function(x){var y,z;y=g.M.abs(f.Da(g.M.Ja(x.G.xa)));if(x.G.wa && isFinite(x.G.wa)){z=g.M.abs(f.Da(g.M.Ja(x.G.wa)));y=g.M.min(y,z);}return c.__assign(c.__assign({},x),{Sp:y});}),v.sort(function(x,y){return x.Sp.Z - y.Sp.Z;}),w=c.__read(v,1)[0]))return (v=w.G,d=w.key,w=g.M.Ja(v.xa),{Y:d,offset:f.Da(w)});};},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ez=void 0;c=a(186);g=a(2);r=(function(){function k(m){this.config=m;this.reset();}k.instance=function(){(0,g.assert)(void 0 !== k.HM);return k.HM;};k.DHb=function(m){k.HM=new k(m);};k.prototype.push=function(m){this.Wg && this.Wg.push(m);};k.prototype.Jb=function(){if(this.Wg)return (this.Wg.EA(),this.Wg.Gj([.25,.5,.75,.9,.95,.99]).map(function(m){return m?parseFloat(m.toFixed(1)):0;}));};k.prototype.reset=function(){this.config.S2a && this.config.Iha && (this.Wg=new c.Wja(this.config.Iha.c,this.config.Iha.maxc));};return k;})();b.ez=r;},function(r,b,a){var f;function c(d,l,n){this.mO=!1 === d;this.Sp=d || .01;this.Jha=void 0 === l?25:l;this.yGa=void 0 === n?1.1:n;this.wj=new f(g);this.reset();}function g(d,l){return d.kg > l.kg?1:d.kg < l.kg?-1:0;}function k(d,l){return d.iy - l.iy;}function m(d){this.config=d || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?d.Sp:!1);this.nMb=this.config.ratio || .9;this.oMb=this.config.bsc || 1E3;this.Cba=0;}f=a(918).tub;c.prototype.reset=function(){this.wj.clear();this.iwa=this.n=0;};c.prototype.size=function(){return this.wj.size;};c.prototype.Vn=function(d){var l;l=[];d?(this.V4(!0),this.wj.fg(function(n){l.push(n);})):this.wj.fg(function(n){l.push({kg:n.kg,n:n.n});});return l;};c.prototype.summary=function(){return [(this.mO?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.Gj(0),"Q1  = " + this.Gj(.25),"Q2  = " + this.Gj(.5),"Q3  = " + this.Gj(.75),"max = " + this.Gj(1)].join("\n");};c.prototype.push=function(d,l){l=l || 1;d=Array.isArray(d)?d:[d];for(var n=0;n < d.length;n++){this.kUa(d[n],l);}};c.prototype.Xza=function(d){d=Array.isArray(d)?d:[d];for(var l=0;l < d.length;l++){this.kUa(d[l].kg,d[l].n);}};c.prototype.V4=function(d){var l;if(!(this.n === this.iwa || !d && this.yGa && this.yGa > this.n / this.iwa)){l=0;this.wj.fg(function(n){n.iy=l + n.n / 2;l=n.$N=l + n.n;});this.n=this.iwa=l;}};c.prototype.VPb=function(d){var l,n;if(0 === this.size())return null;l=this.wj.lowerBound({kg:d});n=null === l.data()?l.bK():l.data();return n.kg === d || this.mO?n:(l=l.bK()) && Math.abs(l.kg - d) < Math.abs(n.kg - d)?l:n;};c.prototype.QM=function(d,l,n){this.wj.No({kg:d,n:l,$N:n});this.n+=l;};c.prototype.B4=function(d,l,n){l !== d.kg && (d.kg+=n * (l - d.kg) / (d.n + n));d.$N+=n;d.iy+=n / 2;d.n+=n;this.n+=n;};c.prototype.kUa=function(d,l){var n,h,p;n=this.wj.min();h=this.wj.max();p=this.VPb(d);p && p.kg === d?this.B4(p,d,l):p === n?this.QM(d,l,0):p === h?this.QM(d,l,this.n):this.mO?this.QM(d,l,p.$N):(n=p.iy / this.n,Math.floor(4 * this.n * this.Sp * n * (1 - n)) - p.n >= l?this.B4(p,d,l):this.QM(d,l,p.$N));this.V4(!1);!this.mO && this.Jha && this.size() > this.Jha / this.Sp && this.EA();};c.prototype.LEb=function(d){var l,n;this.wj.ho=k;l=this.wj.upperBound({iy:d});this.wj.ho=g;n=l.bK();d=n && n.iy === d?n:l.next();return [n,d];};c.prototype.Gj=function(d){var l;l=(Array.isArray(d)?d:[d]).map(this.Fzb,this);return Array.isArray(d)?l:l[0];};c.prototype.Fzb=function(d){var l,n;if(0 !== this.size()){this.V4(!0);this.wj.min();this.wj.max();d*=this.n;l=this.LEb(d);n=l[0];l=l[1];return l === n || null === n || null === l?(n || l).kg:this.mO?d <= n.$N?n.kg:l.kg:n.kg + (d - n.iy) * (l.kg - n.kg) / (l.iy - n.iy);}};c.prototype.EA=function(){var d;if(!this.V_a){d=this.Vn();this.reset();for(this.V_a=!0;0 < d.length;){this.Xza(d.splice(Math.floor(Math.random() * d.length),1)[0]);}this.V4(!0);this.V_a=!1;}};m.prototype=Object.create(c.prototype);m.prototype.constructor=m;m.prototype.push=function(d){c.prototype.push.call(this,d);this.EGb();};m.prototype.QM=function(d,l,n){this.Cba+=1;c.prototype.QM.call(this,d,l,n);};m.prototype.B4=function(d,l,n){1 === d.n && --this.Cba;c.prototype.B4.call(this,d,l,n);};m.prototype.EGb=function(){!("auto" !== this.mode || this.size() < this.oMb) && this.Cba / this.size() > this.nMb && (this.mode="cont",this.mO=!1,this.Sp=this.config.Sp || .01,this.EA());};r.exports={TDigest:c,Digest:m};},function(r,b){function a(c,g){var k;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,g);Object.getOwnPropertyNames(c).forEach(function(m){k=Object.getOwnPropertyDescriptor(c,m);void 0 !== k && Object.defineProperty(g,m,k);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.vw=void 0;a(2);r=(function(){function c(g,k){c.oa(this,g,k);}c.oa=function(g,k,m){g.ed=k;g.pd=m.ea;g.Pb=m.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.ed;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ea:{get:function(){return this.pd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{S:{get:function(){return this.ed.S;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{K:{get:function(){return this.ed.K;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.ed.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Pa:{get:function(){return this.ed.Pa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.ed.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.ed.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return this.ed.W;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{DJ:{get:function(){return this.ed.DJ;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ba:{get:function(){return this.ed.ba;},enumerable:!1,configurable:!0}});c.prototype.R$b=function(g){this.pd=g;};c.prototype.toJSON=function(){return {movieId:this.K,streamId:this.Pa,offset:this.offset,bytes:this.ea};};return c;})();b.vw=r;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.oL=void 0;c=a(0);r=c.__importDefault(a(187));g=a(105);k=a(188);a=(function(m){function f(d,l,n,h,p,q,t){l=m.call(this,d,l,n,h,p,q,t) || this;k.vw.oa(l,d,h);return l;}c.__extends(f,m);return f;})(g.I1);b.oL=a;(0,r.default)(k.vw.prototype,a.prototype);},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.dG=void 0;c=a(0);g=c.__importDefault(a(4));r=(function(k){function m(f,d,l,n,h){var p;p=k.call(this,l) || this;p.B6=!1;m.oa(p,f,d,l,n,h);return p;}c.__extends(m,k);m.oa=function(f,d,l,n,h,p){f.ce=n;f.Hy=d;f.Be=h;f.nH=d.location || l.location;f.UU=d.Zb || l.tc;f.DBa=d.DBa || l.DBa;f.cq=l.cq;f.Kea=g.default.time.ia();f.H=p;};Object.defineProperties(m.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{location:{get:function(){return this.nH;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{tc:{get:function(){return this.UU;},enumerable:!1,configurable:!0}});m.prototype.oa=function(f){this.Ua=f;};m.prototype.OBa=function(f,d){this.nH=f;this.UU=d;};m.prototype.QDa=function(){var f,d,l;if(this.complete)return 0;f=this.Hy;d=f.S;if(!f.url)return (this.H.warn("updateurl, missing url for streamId:",f.Pa,"mediaRequest:",this,"stream:",f),1);l=f.W9(this.Fc,this.cq);return this.url === l || (d.OBa(this,f.location,f.Zb),this.Gea(l))?0:(this.H.warn("swapUrl failed: ",this.KO),2);};return m;})(a(89).uw);b.dG=r;},function(r,b,a){var c,g,k,m,f,d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.tw=void 0;c=a(0);g=a(2);r=a(35);k=a(8);m=a(22);f=a(434);d=a(71);l=a(105);a=(function(n){function h(p,q,t,v,w,u){t=n.call(this,p,q,t,v,w) || this;d.wk.oa(t,p,q,u);t.pd=0;t.me=!1;return t;}c.__extends(h,n);Object.defineProperties(h.prototype,{Fc:{get:function(){return !1;},enumerable:!1,configurable:!0}});h.prototype.push=function(p){this.pd+=p.ea;n.prototype.push.call(this,p);};h.prototype.zr=function(){var p;return !this.me && ! !this.La.length && !(null === (p=(0,m.$c)(this.La,function(q){return !q.me;})) || void 0 === p || !p.zr());};h.prototype.ND=function(p,q,t){var v,w;(0,g.assert)(!this.me);v=l.Mh.Osb;w=(0,k.Bv)(this);this.me=this.La.every(function(u){if(u.me)return !0;if(!u.zr())return !1;v=u.ND(p,q,t,w).status;return v === l.Mh.hs;});v !== l.Mh.hs || this.me || (v=l.Mh.gtb);return {status:v};};h.prototype.p8b=function(){this.La.forEach(function(p){p.UQ();});};h.prototype.$h=function(){return this.La?this.La[0].$h() + "-" + this.La[this.La.length - 1].$h():"empty";};h.prototype.KJ=function(p,q,t){this.pd+=q - t;this.j9(this,q,t);};h.prototype.toString=function(){return "ID: " + this.$h() + ":" + d.wk.prototype.toString.call(this) + "(aggregate)";};h.prototype.toJSON=function(){return {ID:this.$h(),request:n.prototype.toJSON.call(this)};};return h;})(f.Wfa);b.tw=a;(0,r.Ue)(d.wk,a);},function(r,b,a){var k,m,f,d,l,n,h,p;function c(q,t){return q.done?q:{value:{value:q.value,jXa:t}};}function g(q){q.jXa();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.iEb=b.rub=b.eG=void 0;k=a(0);r=a(14);m=a(130);f=a(10);d=k.__importDefault(a(4));l=a(8);n=a(2);a=a(35);h=(function(){function q(t,v){this.console=t;this.Ig=v;this.Fyb=this.dU=0;this.$g=[];this.console=(0,l.Ai)(d.default,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{XLb:{get:function(){return this.dU;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{R_a:{get:function(){var t,v,w;for(v=0;v < this.$g.length;v++){w=this.$g[v];if(!w.nY || (null === (t=w.item) || void 0 === t?0:t.done))break;}return v;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.Ig;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{kt:{get:function(){return 0 === this.Ig;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{GAa:{get:function(){var t;for(t=0;t < this.$g.length && this.$g[t].Fva;t++){;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var t;t=k.__read(this.$g,1)[0];return (t=t && t.item) && !t.done && t.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Rxa:{get:function(){var t;for(t=0;t < this.$g.length && this.$g[t].nY;t++){;}return t;},enumerable:!1,configurable:!0}});q.prototype.AO=function(){var t;if(void 0 === this.Ig){t=this.console;f.N && t && t.trace("QueueIterator: enqueueEnd");this.KDa(this.Rxa - (this.Ig || 0));}};q.prototype.Vn=function(){return this.$g.map(function(t){return t.item;});};q.prototype.N0=function(){this.bg || (this.bg=this.$g.filter(function(t){return (null === t || void 0 === t?void 0:t.item) && !t.item.done;}).map(function(t){return t.item.value;}));return this.bg;};q.prototype.KDa=function(t){var v;f.N && this.console.trace("updateCount",{Aqc:this.Ig,Sp:t});if(void 0 !== this.Ig){v=this.$g[this.Ig];v && this.Zua(v);}this.Ig=void 0 === this.Ig?t:void 0 === t?t:this.Ig + t;void 0 !== this.Ig && (this.Ig=Math.max(0,this.Ig),(v=this.$g[this.Ig]) && v.kJ.resolve({done:!0}));};q.prototype.enqueue=function(t){var v;f.N && this.console.trace("Enqueue called");v=this.Rxa;this.z7();return this.b7b(v,{value:t,done:!1}).J1a.promise;};q.prototype.Bgb=function(){f.N && this.console.trace("resetEnd");this.KDa(void 0);};q.prototype.clear=function(t){var v,w,u;f.N && this.console.trace("clear");this.$eb();v=this.GAa;w=this.$g.length - v;if(0 < w){u={index:v,hya:w};f.N && this.console.trace("Removing items",u);this.$g.splice(v,w);this.z7();this.emit("onRemoved",u);}for(w=1;w < v;w++){this.Zua(this.$g[w]);}this.Ig=void 0;this.KDa(t?t + v:t);this.dU && (this.dU=0);};q.prototype.getIterator=function(){var t,v;t=this;v=(0,l.Ai)(d.default,this.console,"QueueIteratorInstance::");return new p(this,function(w){return t.k6a(w);},v);};q.prototype.hO=function(){var t;if(0 < this.GAa){t=k.__read(this.$g,1)[0];if(t.nY)return (f.N && this.console.trace("dequeue",t.id),this.$eb(1),this.emit("onDequeue",t.kJ.promise));}};q.prototype.remove=function(t){var v,w,u;for(v=0;v < this.$g.length;v++){w=this.$g[v];u=w.item;if(u && !u.done && u.value === t){this.$g.splice(v,1);this.Ig && this.Ig > v && this.Ig--;this.z7();f.N && this.console.trace("removed",{id:w.id});this.emit("onRemoved",{index:v,hya:1});break;}}};q.prototype.$eb=function(t){var v;t=t || Math.min(this.GAa,this.Rxa);if(0 < t){v=this.$g.splice(0,t);this.z7();this.Ig && (this.Ig-=t);f.N && this.console.trace("pruned",t);Promise.resolve().then(function(){v.forEach(function(w){w.J1a.resolve();});});this.emit("onRemoved",{index:0,hya:t});this.dU+=t;}};q.prototype.k6a=function(t){var v;f.N && this.console.trace("getNextItemCalled",{offset:t});if(void 0 === this.count || 0 < this.count){this.v8a(t);v=this.$g[t];v.f9b.resolve();t=v.kJ.promise;f.N && this.console.trace("getNextItem:return",{id:v.id});}else (f.N && this.console.trace("getNextItem:returnDone"),t=Promise.resolve({done:!0}));return t;};q.prototype.b7b=function(t,v){var w;w=!v.done && v.value;w=w && w.toJSON?w.toJSON():w;f.N && this.console.trace("Providing result",{lDb:t,item:w});this.v8a(t);t=this.$g[t];w=t.kJ.resolve;w(v);return t;};q.prototype.v8a=function(t){var v;if(void 0 === this.$g[t]){v={};this.Zua(v);this.$g[t]=v;t === this.Ig && v.kJ.resolve({done:!0});f.N && this.console.trace("Item initialized",{lDb:t});}};q.prototype.Opa=function(t){var v;v={};v.promise=new Promise(function(w,u){v.resolve=function(x){w(x);t && t(x);};v.reject=u;});return v;};q.prototype.Zua=function(t){var v;v=this;t.kJ=this.Opa(function(w){t.item=w;t.nY=!0;f.N && v.console.trace("Item resolved",{id:t.id});});t.id && t.Fva && !t.nY && (t.kJ.resolve({done:!0}),f.N && this.console.warn("Overwriting requested queue item",t.id));t.J1a=this.Opa();t.f9b=this.Opa(function(){t.Fva=!0;f.N && v.console.trace("Item requested",{id:t.id});});t.id=this.Fyb++;t.Fva=!1;t.nY=!1;t.item=void 0;};q.prototype.z7=function(){this.bg=void 0;};q.prototype.rsa=function(){var t,v,w;t=this;v=(0,l.Ai)(d.default,this.console,"QueueIteratorInstance::");w=new p(this,function(u){var x,y;if(0 === t.count)return m.AsyncIterator.Lta();x=t.k6a(u);y=t.$g[0];return x.then(function(z){return c(z,function(){w.yP || (y === t.$g[0]?t.hO():(0,n.assert)(!t.$g.filter(function(A){return A.kJ.promise === x;}).length,"Out of order acknowledgements are not supported"));});});},v);return w;};return q;})();b.eG=h;(0,a.Ue)(r.EventEmitter,h);p=(function(q){function t(v,w,u){var x;x=q.call(this,function(){f.N && x.console.trace("Next item requested",{index:x.index});return x.F9b(x.index++);}) || this;x.parent=v;x.F9b=w;x.console=u;x.JM=!1;x.index=0;x.tla=!1;x.Ucb=function(y){var z;z=y.index;y=y.hya;x.index >= z && (x.index=Math.max(z,x.index - y));z=x.console;f.N && z && z.trace("QueueIteratorInstance: onRemoved modified",x.index);};return x;}k.__extends(t,q);t.prototype.wi=function(){this.console.trace("disposed");this.JM=!0;this.rd();q.prototype.wi.call(this);};t.prototype.next=function(){this.yP || this.vP();return q.prototype.next.call(this);};t.prototype.cancel=function(){this.rd();return q.prototype.cancel.call(this);};t.prototype.rd=function(){this.parent.ly("onRemoved",this.Ucb);this.tla=!1;};t.prototype.vP=function(){this.tla || (this.tla=!0,this.parent.on("onRemoved",this.Ucb));};return t;})(m.AsyncIterator);b.rub=p;b.iEb=function(q){return (0,m.map)(q,g);};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.l4=void 0;c=a(8);r=(function(){function g(k){this.Wz=k;this.W3a=new c.PC();}Object.defineProperties(g.prototype,{g$a:{get:function(){var k,m;return null !== (k=this.VVb) && void 0 !== k?k:null === (m=this.parent) || void 0 === m?void 0:m.g$a;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{xY:{get:function(){var k,m;return null !== (k=this.f2b) && void 0 !== k?k:null === (m=this.parent) || void 0 === m?void 0:m.xY;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sm:{get:function(){var k,m;return null !== (k=this.Ih) && void 0 !== k?k:null === (m=this.parent) || void 0 === m?void 0:m.sm;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{k$a:{get:function(){var k,m,f,d;return null !== (k=this.Ie) && void 0 !== k?k:(null === (m=this.track) || void 0 === m?0:m.equals(null === (f=this.parent) || void 0 === f?void 0:f.track))?null === (d=this.parent) || void 0 === d?void 0:d.Ie:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{m$a:{get:function(){var k,m;return null !== (k=this.$bc) && void 0 !== k?k:null === (m=this.parent) || void 0 === m?void 0:m.m$a;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{bwa:{get:function(){var k,m;return null !== (k=this.acc) && void 0 !== k?k:null === (m=this.parent) || void 0 === m?void 0:m.bwa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{track:{get:function(){return this.t$b;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Amb:{get:function(){return this.W3a.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{parent:{get:function(){var k;return null === (k=this.Wz) || void 0 === k?void 0:k.call(this);},enumerable:!1,configurable:!0}});g.prototype.xb=function(){this.Wz=void 0;};g.prototype.Phb=function(k){this.VVb=k;};g.prototype.kac=function(k){this.f2b=k;};g.prototype.dib=function(k){this.Ih=k;this.W3a.resolve();};g.prototype.Z_=function(k){this.Ie=k;};g.prototype.vac=function(k){this.$bc=k;};g.prototype.fib=function(k){this.acc=k;};g.prototype.$_=function(k){this.t$b=k;};return g;})();b.l4=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(1027);c=a(443);a=a(1029);b.default={STARTING:a.lhb,BUFFERING:r.Tda,REBUFFERING:r.Tda,PLAYING:c.Mn,PAUSED:c.Mn};},function(r,b,a){var c,g,k,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.$O=b.LC=void 0;c=a(446);g=a(1040);k=a(1041);m=a(1042);f=a(160);Object.defineProperties(b,{LC:{enumerable:!0,get:function(){return f.LC;}}});b.$O=function(d,l){switch(d.Vwa){case "manifold":return new c.kia(d,l);case "stddev":return new k.ZRa(d,l);case "ci":return new m.UGa(d,l);default:return new g.LRa(d,l);}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.HS=void 0;b.HS=(function(){function a(){}a.U$=function(c,g){var f;function k(d){return m(f++)(d,k);}function m(d){return d >= g.length?function(){throw Error(("The last delegate in the chain should not invoke next() nextDelegateIndex ").concat(d));}:g[d];}f=0;return k(c);};return a;})();},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.yta=b.Ko=b.isEqual=b.tY=void 0;c=a(8);g=a(184);b.tY=function(k){return ! !k.P;};b.isEqual=function(k,m){var f,d;f=(0,b.tY)(k);d=(0,b.tY)(m);return f === d?f?k.P === m.P:k.ka === m.ka:!1;};b.Ko=function(k){if((0,b.tY)(k))return k.P;k=k.ka;return k.R[k.fe].P;};b.yta=function(k,m){var f;return k.h7?k.h7 instanceof c.M?(k=(0,g.WN)(m,(0,b.Ko)(k.key),k.h7),(null === k || void 0 === k?0:k.offset.greaterThan(c.M.Ha))?k:{offset:c.M.Ha,Y:null !== (f=null === k || void 0 === k?void 0:k.Y) && void 0 !== f?f:m.fe}):k.h7:{offset:c.M.Ha,Y:m.fe};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ew=void 0;r=b.Ew || (b.Ew={});r[r.HDa=0]="up";r[r.zW=1]="down";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gT="LogblobBuilderFactorySymbol";b.Wha="LogblobBuilderCommonSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Usb="NativeLocalStorageSymbol";b.pNa="NativeLocalStorageFactorySymbol";b.mKa="IDBFactorySymbol";},function(r,b,a){var g,k;function c(m){switch(m){case g.X.WS:return "http";case g.X.YS:return "connectiontimeout";case g.X.qG:return "readtimeout";case g.X.SJa:return "corruptcontent";case g.X.SC:return "abort";case g.X.ZS:case g.X.xha:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.xta=b.w6a=b.kta=void 0;g=a(3);k=a(13);b.kta=c;b.w6a=function(m,f){m={errorcode:m + (f.errorCode || g.$.eo)};f.za && (m.errorsubcode=f.za);f.Rf && (m.errorextcode=f.Rf);f.Zqa && (m.erroredgecode=f.Zqa);f.Qb && (m.errordetails=f.Qb);f.Dl && (m.httperr=f.Dl);f.Eba && (m.aseneterr=f.Eba);f.uE && (m.errordata=f.uE);f.$Y && (m.mediaerrormessage=f.$Y);(f=c(Number(f.za))) && (m.nwerr=f);return m;};b.xta=function(){return {screensize:k.Iw.width + "x" + k.Iw.height,screenavailsize:k.Iw.availWidth + "x" + k.Iw.availHeight,clientsize:mb.innerWidth + "x" + mb.innerHeight,devicePixelRatio:k.oNa};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dT="LicenseProviderSymbol";},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.I_b=b.Edb=b.y4b=b.j5a=b.H4b=b.Nmb=b.Mmb=b.az=b.tEa=b.Lmb=b.p1=void 0;c=a(25);g=a(23);b.p1="$attributes";b.Lmb="$children";b.tEa="$name";b.az="$text";b.Mmb="$parent";b.Nmb="$sibling";b.H4b=/^\s*<\?xml.*\?>/i;b.j5a=function(k,m,f){for(var d=2;d < arguments.length;++d){;}for(d=1;(m=arguments[d++]) && (k=k[m]);){;}return k;};b.y4b=function(k,m){var f;k?f=(0,c.nk)(k[b.az]):void 0 !== m && (f=m);(0,g.lW)(f);return f;};b.Edb=function(k,m){var f;k?f=k[b.az]:void 0 !== m && (f=m);(0,g.k1a)(f);return f;};b.I_b=function(k,m){var f;f={};f[b.p1]=k;f[b.az]=m;return f;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WC=void 0;r=b.WC || (b.WC={});r[r.Thc=8]="Backspace";r[r.Tlc=9]="Tab";r[r.Yic=13]="Enter";r[r.Mlc=16]="Shift";r[r.oic=17]="Ctrl";r[r.vhc=18]="Alt";r[r.Zkc=19]="PauseBreak";r[r.gic=20]="CapsLock";r[r.$ic=27]="Escape";r[r.Olc=32]="Space";r[r.Ykc=33]="PageUp";r[r.Xkc=34]="PageDown";r[r.Xic=35]="End";r[r.Cjc=36]="Home";r[r.Jjc=37]="LeftArrow";r[r.amc=38]="UpArrow";r[r.ilc=39]="RightArrow";r[r.Eic=40]="DownArrow";r[r.Gjc=45]="Insert";r[r.Bic=46]="Delete";r[r.jmc=48]="Zero";r[r.Okc=49]="One";r[r.Wlc=50]="Two";r[r.Ulc=51]="Three";r[r.wjc=52]="Four";r[r.ujc=53]="Five";r[r.Nlc=54]="Six";r[r.Llc=55]="Seven";r[r.Wic=56]="Eight";r[r.ykc=57]="Nine";r[r.nhc=65]="A";r[r.whc=66]="B";r[r.$hc=67]="C";r[r.Xob=68]="D";r[r.E=69]="E";r[r.ajc=70]="F";r[r.xjc=71]="G";r[r.Ajc=72]="H";r[r.Djc=73]="I";r[r.Hjc=74]="J";r[r.Jha=75]="K";r[r.Wrb=76]="L";r[r.Njc=77]="M";r[r.bkc=78]="N";r[r.Lkc=79]="O";r[r.Qkc=80]="P";r[r.Q=81]="Q";r[r.elc=82]="R";r[r.zub=83]="S";r[r.jvb=84]="T";r[r.Xlc=85]="U";r[r.bmc=86]="V";r[r.dmc=87]="W";r[r.mka=88]="X";r[r.hmc=89]="Y";r[r.imc=90]="Z";r[r.Kjc=91]="LeftWindowKey";r[r.jlc=92]="RightWindowKey";r[r.Jlc=93]="SelectKey";r[r.Bkc=96]="Numpad0";r[r.Ckc=97]="Numpad1";r[r.Dkc=98]="Numpad2";r[r.Ekc=99]="Numpad3";r[r.Fkc=100]="Numpad4";r[r.Gkc=101]="Numpad5";r[r.Hkc=102]="Numpad6";r[r.Ikc=103]="Numpad7";r[r.Jkc=104]="Numpad8";r[r.Kkc=105]="Numpad9";r[r.akc=106]="Multiply";r[r.uhc=107]="Add";r[r.Plc=109]="Subtract";r[r.Aic=110]="DecimalPoint";r[r.Dic=111]="Divide";r[r.bjc=112]="F1";r[r.fjc=113]="F2";r[r.gjc=114]="F3";r[r.hjc=115]="F4";r[r.ijc=116]="F5";r[r.jjc=117]="F6";r[r.kjc=118]="F7";r[r.ljc=119]="F8";r[r.mjc=120]="F9";r[r.cjc=121]="F10";r[r.djc=122]="F11";r[r.ejc=123]="F12";r[r.Akc=144]="NumLock";r[r.Hlc=145]="ScrollLock";r[r.Klc=186]="SemiColon";r[r.Zic=187]="Equals";r[r.lic=188]="Comma";r[r.yic=189]="Dash";r[r.alc=190]="Period";r[r.vjc=191]="ForwardSlash";r[r.Vlc=192]="Tilde";r[r.Pkc=219]="OpenBracket";r[r.Shc=220]="BackSlash";r[r.iic=221]="CloseBracket";r[r.dlc=222]="Quote";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AL=void 0;b.AL=function(){return "";};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vga=b.SHa=void 0;b.SHa=function(){this.V=0;this.J=1;this.Sqb=2;this.Sf=function(){};};b.Vga="DownloadTrackConstructorFactorySymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Dc=void 0;b.Dc=a;a.Ve={FNa:"mr1",ENa:"mr2",GNa:"mr3",xT:"mr4",ctb:"mr5",FG:"mr6"};a.Xc={UNSENT:0,OPENED:1,Ez:2,Dz:3,DONE:5,zL:6,pS:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.p2={NO_ERROR:-1,Epb:0,mHa:1,Qpb:2,Ipb:3,Hob:4,vGa:5,tGa:6,Iob:7,Job:8,Kob:9,Eob:10,Gob:11,uGa:12,Fob:13,Dob:14,Yqb:15,QJa:16,PJa:17,uha:18,wha:19,vha:20,k3:21,$qb:22,l3:23,RJa:24,Zqb:25,Lpb:26,Fpb:27,Nub:28,vpb:29,wpb:30,xpb:31,ypb:32,zpb:33,Apb:34,Bpb:35,Cpb:36,Dpb:37,Gpb:38,Hpb:39,Jpb:40,Kpb:41,Mpb:42,Npb:43,Opb:44,Ppb:45,Rpb:46,Spb:47,Mub:48,TIMEOUT:49,MJa:50,NJa:51,Xqb:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.fd={I_:{bnb:!0,JT:!1,Psb:!0}};},function(r,b,a){var c,g,k,m,f,d,l,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.Rk=void 0;c=a(17);g=a(19);r=a(3);k=a(23);m=a(9);f=a(512);d=a(13);l=a(34);n=a(47);h=m.Ea.get(l.mj);h.register(r.$.Bha,function(p){var q,t,v;q=m.Ea.get(n.Eq);(0,k.Ka)(g.config);(0,k.Ka)(d.$C && d.$C.getDeviceId || d.nNa || q.PO);t=m.Ea.get(f.JHa);v=(0,m.ck)("Device");h.Qe("devs");t.create({deviceId:g.config.deviceId,PO:q.PO,O1a:"deviceid",El:g.config.El,Tp:q.Tp,tW:q.tW,userAgent:d.DG,wwa:g.config.wwa,Esa:g.config.Esa,sqc:g.config.UA?"mslstoretest":"mslstore",$R:g.config.$R}).then(function(w){b.Rk=w;mb._cad_global.device=b.Rk;v.info("Esn source: " + b.Rk.G8);h.Qe("devdone");p(c.Zg);}).catch(function(w){w.ga=void 0;p(w);});});},function(r){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof mb && (b=mb);}r.exports=b;},function(r,b,a){b=a(602);r.exports=Function.prototype.bind || b;},function(r){r.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},function(r,b,a){var c,g,k,m;b=a(43);c=b("%TypeError%");g=b("%SyntaxError%");k=a(107);m={"Property Descriptor":function(f){var d,l;d={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(l in f){if(k(f,l) && !d[l])return !1;}d=k(f,"[[Value]]");f=k(f,"[[Get]]") || k(f,"[[Set]]");if(d && f)throw new c("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(635)};r.exports=function(f,d,l,n){var h;h=m[d];if("function" !== typeof h)throw new g("unknown record type: " + d);if("Object" !== f(n) || !h(n))throw new c(l + " must be a " + d);};},function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.sG=void 0;c=/^\S+$/;a.prototype.lI=function(g){return void 0 !== g;};a.prototype.kh=function(g){return null !== g && void 0 !== g;};a.prototype.oV=function(g){return a.XXa(g);};a.prototype.Jma=function(g){return !(!g || !a.XXa(g));};a.prototype.MD=function(g){return Array.isArray(g);};a.prototype.YXa=function(g){return !(!g || g.constructor != Uint8Array);};a.prototype.no=function(g,k,m){return a.gXa(g,k,m);};a.prototype.Ima=function(g){return a.Ima(g);};a.prototype.qna=function(g,k,m){return a.G6(g,k,m) && 0 === g % 1;};a.prototype.pV=function(g,k,m){return a.G6(g,k || 0,m);};a.prototype.dV=function(g){return a.G6(g,1);};a.prototype.tBb=function(g){return a.G6(g,0,255);};a.prototype.uBb=function(g){return g === +g && (0 === g || g !== (g | 0)) && !0;};a.prototype.ZXa=function(g){return !(!g || !c.test(g));};a.prototype.Du=function(g){return a.hXa(g);};a.prototype.oo=function(g){return !(!a.hXa(g) || !g);};a.prototype.q6=function(g){return !0 === g || !1 === g;};a.prototype.s6=function(g){return "function" == typeof g;};a.hXa=function(g){return "string" == typeof g;};a.gXa=function(g,k,m){return "number" == typeof g && !isNaN(g) && isFinite(g) && (void 0 === k || g >= k) && (void 0 === m || g <= m);};a.Ima=function(g){return "number" == typeof g && isNaN(g);};a.G6=function(g,k,m){return a.gXa(g,k,m) && 0 === g % 1;};a.XXa=function(g){return "object" == typeof g;};b.sG=new a();},function(r,b,a){var c,g,k,m,f,d;Object.defineProperty(b,"__esModule",{value:!0});b.qc=void 0;r=a(1);c=a(79);g=a(670);k=a(219);m=a(696);f=a(703);d=a(707);a=a(1423);b.qc=new r.T1({HK:!0});(0,d.D$a)(b.qc);b.qc.load(g.platform);b.qc.load(m.config);k.rO.load(f.A2a);b.qc.load(a.cYa);b.qc.load(a.profile);b.qc.bind(c.WKa).Im(b.qc);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(216);r=(function(){function g(k){this.Mc=k;}g.prototype.my=function(k){this.Mc.my=k;return new c.qga(this.Mc);};return g;})();b.L1=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(215);a(330);r=(function(){function g(k){this.Mc=k;}g.prototype.when=function(k){this.Mc.dI=k;return new c.L1(this.Mc);};g.prototype.k1=function(){this.Mc.dI=function(k){return null !== k.target && !k.target.uva() && !k.target.Gva();};return new c.L1(this.Mc);};return g;})();b.qga=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yia="PlatformEmeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uja="StringUtilsSymbol";},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y;Object.defineProperty(b,"__esModule",{value:!0});b.rO=b.z2a=void 0;r=a(1);c=a(124);g=a(333);k=a(220);m=a(221);f=a(681);d=a(683);l=a(98);n=a(144);h=a(684);p=a(173);q=a(685);t=a(222);v=a(686);w=a(224);u=a(690);x=a(342);y=a(694);b.z2a=new r.Cd(function(z){z(g.WHa).to(k.VHa).la();z(m.Dga).to(f.BGa).la();z(c.m2).L0(d.Xeb);z(l.vz).UF(function(A){b.rO.parent=A.wb;return b.rO.get(l.vz);});z(n.oT).Te(function(){return function(){return new h.OMa();};});z(p.R1).to(q.CGa).la();z(t.aha).to(v.zIa).la();z(w.Wga).to(u.aIa).la();z(x.LMa).to(y.KMa).la();});b.rO=new r.T1({HK:!0});},function(r,b,a){var k;function c(){}function g(m){m?(this.active=!1,this.gsa(m)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.VHa=b.l2=void 0;r=a(0);a=a(1);g.prototype.gsa=function(m){this.Pe=m.keySessionData?m.keySessionData.map(function(f){return {id:f.id,pJ:f.licenseContextId,GY:f.licenseId};}):[];this.qa=m.xid;this.K=m.movieId;};g.prototype.iw=function(){return JSON.parse(JSON.stringify({keySessionData:this.Pe?this.Pe.map(function(m){return {id:m.id,licenseContextId:m.pJ,licenseId:m.GY};}):[],xid:this.qa,movieId:this.K}));};b.l2=g;c.prototype.create=function(){return new g();};c.prototype.load=function(m){return new g(m);};k=c;k=r.__decorate([(0,a.aa)()],k);b.VHa=k;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dga="CachedDrmDataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aha="EmeApiFactorySymbol";},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t;function c(v,w,u,x,y,z){this.lZ=v;this.is=w;this.vc=u;this.Ki=x;this.Sk=y;this.ki=z;(0,m.fq)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.Mw=void 0;r=a(0);k=a(1);m=a(54);f=a(3);d=a(37);l=a(27);n=a(97);h=a(30);p=a(31);q=a(67);a=a(74);c.prototype.bB=function(){if(this.zb)return this.zb.sessionId;};c.prototype.W8b=function(v,w){return this.lZ.requestMediaKeySystemAccess(v,w);};c.prototype.createMediaKeys=function(v){return v.createMediaKeys();};c.prototype.createSession=function(v,w){this.zb=v.createSession(w);};c.prototype.P7=function(){return Promise.reject(new n.Oh(f.$.o2));};c.prototype.wYb=function(){return ! !this.zb;};c.prototype.setServerCertificate=function(v,w){return this.is.s6(v.setServerCertificate) && w?v.setServerCertificate(w):Promise.resolve();};c.prototype.generateRequest=function(v,w){return this.zb?this.zb.generateRequest(v,w[0]):Promise.reject(new n.Oh(f.$.o2,f.X.xL,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(v){return this.zb?this.zb.update(v[0]):Promise.reject(new n.Oh(f.$.qIa,f.X.xL,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(v){return this.zb?this.zb.load(v):Promise.reject(new n.Oh(f.$.tqb,f.X.xL,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var v;this.mpa=void 0;if(!this.zb)return Promise.reject(new n.Oh(f.$.iIa,f.X.xL,void 0,"Unable to close a key session, key session is not valid"));v=Promise.resolve();this.bB() && (v=this.zb.close());this.zb=void 0;return v;};c.prototype.remove=function(){return this.zb?this.zb.remove():Promise.reject(new n.Oh(f.$.vqb,f.X.xL,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.dK=function(){return Promise.reject(new n.Oh(f.$.Zga,void 0,"Unable to renew a key session, not supported"));};c.prototype.zXa=function(v){if(!this.zb)throw ReferenceError("Unable to add message handler, key session is not valid");this.zb.addEventListener(g.vIa,v);};c.prototype.vXa=function(v){if(!this.zb)throw ReferenceError("Unable to add key status handler, key session is not valid");this.zb.addEventListener(g.uIa,v);};c.prototype.sXa=function(v){if(!this.zb)throw ReferenceError("Unable to add error handler, key session is not valid");this.zb.addEventListener(g.tIa,v);};c.prototype.UBb=function(v){var w;w=this;if(!this.zb)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.mpa=v;this.zb.closed.then(function(u){var x;return null === (x=w.mpa) || void 0 === x?void 0:x.call(w,u);});};c.prototype.Xfb=function(v){if(!this.zb)throw ReferenceError("Unable to remove message handler, key session is not valid");this.zb.removeEventListener(g.vIa,v);};c.prototype.Ufb=function(v){if(!this.zb)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.zb.removeEventListener(g.uIa,v);};c.prototype.Sfb=function(v){if(!this.zb)throw ReferenceError("Unable to remove error handler, key session is not valid");this.zb.removeEventListener(g.tIa,v);};t=g=c;t.vIa="message";t.uIa="keystatuseschange";t.tIa="error";t=g=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(d.NL)),r.__param(1,(0,k.l)(l.Yg)),r.__param(2,(0,k.l)(p.Li)),r.__param(3,(0,k.l)(h.oi)),r.__param(4,(0,k.l)(q.ku)),r.__param(5,(0,k.l)(a.tu))],t);b.Mw=t;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wga="DrmTraitsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iva=b.Aw=void 0;(function(a){a.Hlb="usable";a.Ix="expired";a.released="released";a.gdb="output-restricted";a.g4b="output-downscaled";a.Tbc="status-pending";a.xXb="internal-error";})(b.Aw || (b.Aw={}));b.iva=function(a){return ! !a && ! !a.keyStatuses;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eka="UserAgentDataPlatformVersionProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.p4="TimeoutMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ck="_ANY_";b.KIa="EnricherSymbol";},function(r,b,a){var g,k,m;function c(f,d,l,n){this.Fa=f;this.p7=d;this.cp=l;this.Op=void 0 === n?"General":n;this.opa={};}Object.defineProperty(b,"__esModule",{value:!0});b.FL=void 0;g=a(7);k=a(361);m=a(736);c.prototype.pXa=function(f,d){this.opa[f]=d;};c.prototype.fatal=function(f,d){for(var l=[],n=1;n < arguments.length;++n){l[n - 1]=arguments[n];}this.JD(g.zk.Gqb,f,this.bS(f,l));};c.prototype.error=function(f,d){for(var l=[],n=1;n < arguments.length;++n){l[n - 1]=arguments[n];}this.JD(g.zk.Nf,f,this.bS(f,l));};c.prototype.warn=function(f,d){for(var l=[],n=1;n < arguments.length;++n){l[n - 1]=arguments[n];}this.JD(g.zk.jka,f,this.bS(f,l));};c.prototype.info=function(f,d){for(var l=[],n=1;n < arguments.length;++n){l[n - 1]=arguments[n];}this.JD(g.zk.zha,f,this.bS(f,l));};c.prototype.trace=function(f,d){for(var l=[],n=1;n < arguments.length;++n){l[n - 1]=arguments[n];}this.JD(g.zk.oSa,f,this.bS(f,l));};c.prototype.debug=function(f,d){for(var l=1;l < arguments.length;++l){;}!1;};c.prototype.log=function(f,d){for(var l=[],n=1;n < arguments.length;++n){l[n - 1]=arguments[n];}this.debug.apply(this,[f].concat(ha(l)));};c.prototype.write=function(f,d,l){for(var n=[],h=2;h < arguments.length;++h){n[h - 2]=arguments[h];}this.JD(f,d,this.bS(d,n));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Op};};c.prototype.N7=function(f){return new c(this.Fa,this.p7,this.cp,f);};c.prototype.JD=function(f,d,l){f=new k.Uha(f,this.Op,this.Fa.Rb(),d,l);d=ma(this.cp.cp);for(l=d.next();!l.done;l=d.next()){l=l.value;l(f);}};c.prototype.QRb=function(f){return 0 < Object.keys(this.opa).length?[this.opa].concat(ha(f)):f;};c.prototype.bS=function(f,d){var l;f && "null" !== f && "undefined" !== f || d.push({StackTrace:null !== (l=Error("Empty message").stack) && void 0 !== l?l:"nostack"});return (0,m.wZa)(this.p7,this.QRb(d));};b.FL=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kja="SegmentManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eT={Eja:"START_SLATE",Yrb:"LIVE_EVENT",zqb:"END_SLATE"};b.yLa="LivePlaybackManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ria="PboPlaydataFactorySymbol";},function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(r,b,a){var k,m,f,d;function c(l,n,h){for(var p=h.next();!p.done;){if((n=l["@@transducer/step"](n,p.value)) && n["@@transducer/reduced"]){n=n["@@transducer/value"];break;}p=h.next();}return l["@@transducer/result"](n);}function g(l,n,h,p){return l["@@transducer/result"](h[p](f(l["@@transducer/step"],l),n));}k=a(761);m=a(763);f=a(764);d="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(l,n,h){"function" === typeof l && (l=m(l));if(k(h)){for(var p=0,q=h.length;p < q;){if((n=l["@@transducer/step"](n,h[p])) && n["@@transducer/reduced"]){n=n["@@transducer/value"];break;}p+=1;}return l["@@transducer/result"](n);}if("function" === typeof h["fantasy-land/reduce"])return g(l,n,h,"fantasy-land/reduce");if(null != h[d])return c(l,n,h[d]());if("function" === typeof h.next)return c(l,n,h);if("function" === typeof h.reduce)return g(l,n,h,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,g){return a.apply(this,arguments);};case 3:return function(c,g,k){return a.apply(this,arguments);};case 4:return function(c,g,k,m){return a.apply(this,arguments);};case 5:return function(c,g,k,m,f){return a.apply(this,arguments);};case 6:return function(c,g,k,m,f,d){return a.apply(this,arguments);};case 7:return function(c,g,k,m,f,d,l){return a.apply(this,arguments);};case 8:return function(c,g,k,m,f,d,l,n){return a.apply(this,arguments);};case 9:return function(c,g,k,m,f,d,l,n,h){return a.apply(this,arguments);};case 10:return function(c,g,k,m,f,d,l,n,h,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gja="PlaybackSegmentDataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jia="ManifestParserFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tha="HLSConfigSymbol";},function(r,b,a){var E,G,F,I,L,M,K,O,H,J,R,P,T,V,S,W,ia,ra,ua,Aa,Ha,N,Q,U,Z,qa,Fa,Oa,Ra,Pa,Va,bb,Ab,tb,Db;function c(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);}function g(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);}function k(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);}function m(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);this.dCa=Na.config.dCa;this.se=this.sizes=void 0;}function f(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);}function d(){for(var Na=new DataView(this),Xa="",Wa,fb=0;fb < this.byteLength;fb++){Wa=Na.getUint8(fb);Xa+=("00" + Wa.toString(16)).slice(-2);}return Xa;}function l(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);}function n(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);}function h(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);}function p(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);}function q(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);}function t(Na){function Xa(Wa,fb,kb,vb,Jb){I.call(this,Wa,fb,kb,vb,Jb);this.$bb=Na;}Xa.ud=!1;Xa.prototype=new I();Xa.prototype.constructor=Xa;Object.defineProperties(Xa.prototype,{pHa:{get:function(){return this.$bb;}}});Xa.prototype.parse=function(){this.O.console.trace("renaming '" + this.type + "' to draft type '" + this.$bb + "'");this.O.offset=this.startOffset + 4;this.Wb.Imb(this.pHa);this.type=this.pHa;return !0;};return Xa;}function v(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);}function w(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);}function u(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);}function x(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);}function y(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);}function z(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);}function A(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);}function B(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);}function C(Na,Xa,Wa,fb,kb){I.call(this,Na,Xa,Wa,fb,kb);}function D(Na,Xa){Na.forEach(function(Wa){Xa[Wa.hf]=Wa;});}E=a(102).assert;b=a(103);G=a(180).M;F=a(384);a(149);a(87);a(87);a(87);I=a(24).og;L=a(787).default;M=a(788).default;K=a(789).default;O=a(790).default;H=a(791).default;J=a(792).default;R=a(793).default;P=a(794).default;T=a(795).default;a(240);a(181);V=a(385).Xmb;S=a(385).lqb;W=a(796).default;ia=a(797).default;ra=a(88).default;ua=a(88).snb;Aa=a(88).tnb;Ha=a(88).unb;N=a(88).vnb;Q=a(798).default;U=a(799).default;Z=a(800).default;qa=a(88).arb;Fa=a(88).Uqb;Oa=a(88).rnb;Ra=a(801).default;Pa=a(802).default;Va=a(803).default;bb=a(386).default;Ab=a(387).default;a(150);a(243);a(244);a(242);tb=a(804).default;Db=a(805).ovb;a=a(821).default;c.ud=!0;c.prototype=new I();c.prototype.constructor=c;g.ud=!0;g.prototype=new I();g.prototype.constructor=g;k.ud=!1;k.prototype=new I();k.prototype.constructor=k;k.prototype.parse=function(Na){var Xa;this.Gh();1 === this.version?(this.O.Sl(),this.O.Sl(),this.W=this.O.ic(),this.duration=this.O.Sl()):(this.O.ic(),this.O.ic(),this.W=this.O.ic(),this.duration=this.O.ic());Xa=this.O.rh() & 32767;this.language=String.fromCharCode(96 + (Xa >>> 10),96 + (Xa >>> 5 & 31),96 + (Xa & 31));Na && Na.uf && (Na.uf.W=this.W,Na.uf.duration=this.duration);return !0;};m.ud=!1;m.prototype=new I();m.prototype.constructor=m;m.prototype.Bzb=function(){this.Gh();this.O.ic();this.W=this.O.ic();0 === this.version?(this.u2a=this.O.ic(),this.V3a=this.O.ic()):(this.u2a=this.O.Sl(),this.V3a=this.O.Sl());this.m9b=this.O.rh();this.Nfb=this.O.rh();};m.prototype.xwb=function(Na,Xa){var Wa,fb,kb;Wa=this.W;Na=Na && Na.W || Wa;fb=Na / Wa;Wa=this.O.ada(Xa,12,!1);kb=1 === fb?this.O.ada(Xa,12,!1):F.from(Uint32Array,{length:Xa},function(){var vb;vb=Math.round(this.O.ic() * fb);this.O.offset+=8;return vb;},this);this.eBb(Xa,kb,Wa,Na);};m.prototype.eBb=function(Na,Xa,Wa,fb){if(this.dCa){fb=this.dCa * fb / 1E3;for(var kb=0,vb=1;vb < Na;vb++){Math.abs(Xa[kb] - fb) > Math.abs(Xa[kb] + Xa[vb] - fb)?(Xa[kb]+=Xa[vb],Wa[kb]+=Wa[vb]):(++kb,kb !== vb && (Xa[kb]=Xa[vb],Wa[kb]=Wa[vb]));}++kb;Xa=new Uint32Array(Xa.buffer.slice(0,4 * kb));Wa=new Uint32Array(Wa.buffer.slice(0,4 * kb));}this.sizes=Wa;this.se=Xa;};m.prototype.parse=function(Na){var Xa,Wa,fb,kb;this.Bzb();this.ba=Na.ba;Xa=this.W;Wa=this.ba && this.ba.W || Xa;fb=this.Nfb;kb=this.startOffset + this.length + this.V3a;Xa=new G(this.u2a,Xa).ng(Wa).Ca;this.ha={W:Wa,Qn:Xa,offset:kb};this.xwb(this.ba,fb);this.ha.se=this.se;this.ha.sizes=this.sizes;Na.Ly=this;return !0;};f.ud=!1;f.prototype=new I();f.prototype.constructor=f;f.prototype.parse=function(){var Na;this.Zy=[];this.a5b=[];Na=(this.length - 11) / 2;this.O.Gd();this.O.Gd();this.O.Gd();for(var Xa=0;Xa < Na;Xa++){this.Zy.push(this.O.Gd());this.a5b.push(this.O.Gd());}return !0;};l.ud=!1;l.prototype=new I();l.prototype.constructor=l;l.prototype.parse=function(Na){var Xa;this.Gh();this.O.offset+=1;if(0 == this.version)this.O.offset+=1;else {Xa=this.O.Gd();this.FLb=Xa >> 4;this.LLb=Xa & 15;Na && Na.uf && (Na.uf.Qnc=this.FLb,Na.uf.Tnc=this.LLb);}this.B1a=this.O.Gd();this.A1a=this.O.Gd();this.Qva=this.O.offset;this.bq=this.O.cda(16);this.bq.toString=d;Na && Na.uf && (Na.uf.Rnc=this.B1a,Na.uf.HLb=this.A1a,Na.uf.Snc=this.bq);1 == this.B1a && 0 == this.A1a && (this.ELb=this.O.Gd(),this.DLb=this.O.cda(this.ELb),Na && Na.uf && (Na.uf.GLb=this.DLb));return !0;};n.ud=!1;n.prototype=new I();n.prototype.constructor=n;n.prototype.parse=function(){this.Gh();this.kr=this.O.rh();this.B0b=this.O.ada(this.kr,void 0,!0);return !0;};h.ud=!1;h.prototype=new I();h.prototype.constructor=h;h.prototype.parse=function(Na){var Xa,Wa,fb,kb,vb,Jb;Xa=Na.Ly;E(Xa);Na=Na.ba;Wa=Xa.W;Xa=Xa.Nfb;E(Na);E(Wa);E(Xa);this.Gh();E(2 > this.version);this.kr=this.O.rh();this.GQ=new Uint16Array(Xa + 1);fb=Na.$6a(Wa);kb=fb / Wa;vb=Na.ng(fb).Ca;if(0 === this.version)for((this.fR=new Uint16Array(),this.Ci=new Uint32Array(),Na=Wa=0);Na <= Xa;++Na){if((this.GQ[Na]=Wa,Na < this.kr)){Jb=this.O.Gd();if(0 !== Jb)for(fb=0;fb < Jb;(++fb,++Wa)){this.fR[Wa]=Math.floor((this.O.ic() + 1) * kb) / vb;this.Ci[Wa]=this.O.ic();}}}else if(1 === this.version)for((fb=this.O.r7b(this.kr),this.O.offset+=4,this.Ci=this.O.ada(this.kr,10,!1),this.O.offset-=8,this.fR=F.from(Uint16Array,{length:this.kr},function(){var Ob;Ob=Math.floor((this.O.ic() + 1) * kb) / vb;this.O.offset+=6;return Ob;},this),Wa=Na=0);Na <= Xa;++Na){for(;Wa < fb.length && fb[Wa] < Na;){++Wa;}this.GQ[Na]=Wa;}this.Mk={GQ:this.GQ,fR:this.fR,Ci:this.Ci};return !0;};p.ud=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.ud=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.yI=function(){var Na;Na=this.tq("tfhd");Na && (this.Is=Na.YYa?Na.Is:this.parent.startOffset);return !0;};v.ud=!1;v.prototype=new I();v.prototype.constructor=v;v.prototype.parse=function(){var Na,Eb;Na=this.O.offset;this.Gh();if(1 === this.version){this.O.console.trace("translating vpcC box to draft equivalent");this.O.offset+=2;for(var Xa=this.O.offset,Wa=this.O.Gd(),fb=this.O.Gd(),kb=this.O.Gd(),vb=this.O.Gd(),Jb=this.O.rh(),Ob=[],Sb=0;Sb < Jb;++Sb){Ob=this.O.Gd();}Sb=(Wa & 240) >>> 4;Eb=(Wa & 14) >>> 1;Wa&=1;kb=16 === kb?1:0;fb != vb && this.O.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + fb + " and matrixCoefficients " + vb + " should be the same value!");vb=2;switch(fb){case 1:vb=2;break;case 6:vb=1;break;case 9:vb=5;break;default:this.O.console.warn("VP9: Unknown colourPrimaries " + fb + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Wb.Cfa(this.version,Na);this.Wb.Cfa(Sb << 4 | vb,Xa++);this.Wb.Cfa(Eb << 4 | kb << 1 | Wa,Xa++);Jb+=2;Ob.push(0,0);this.Wb.Lgc(Jb);Xa+=2;Ob.forEach(function(Ib){this.Wb.Cfa(Ib,Xa++);});}return !0;};w.ud=!1;w.prototype=new I();w.prototype.constructor=w;w.hf="tfhd";Object.defineProperties(w.prototype,{YYa:{get:function(){return this.flags & 1;}},Q9b:{get:function(){return this.flags & 2;}},ILb:{get:function(){return this.flags & 8;}},KLb:{get:function(){return this.flags & 16;}},C1a:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(Na){this.Gh();this.TR=this.O.ic();this.Is=this.YYa?this.O.Sl():void 0;this.Xgb=this.Q9b?this.O.ic():void 0;this.Fx=this.ILb?this.O.ic():void 0;this.OA=this.KLb?this.O.ic():void 0;this.NA=this.C1a?this.O.ic():void 0;Na && Na.pa && (Na.pa.TR=this.TR,Na.pa.Is=this.Is,Na.pa.Xgb=this.Xgb,Na.pa.Fx=this.Fx,Na.pa.OA=this.OA,Na.pa.NA=this.C1a?this.NA:void 0);return !0;};u.ud=!1;u.prototype=new I();u.prototype.constructor=u;u.prototype.parse=function(Na){this.Gh();this.DN=1 === this.version?this.O.Sl():this.O.ic();Na && Na.pa && (Na.pa.DN=this.DN);return !0;};u.prototype.Ga=function(Na){var Xa;Xa=this.startOffset + 12;this.DN+=Na;1 === this.version?this.Wb.Mgc(this.DN,Xa):this.Wb.qw(this.DN,Xa);};x.ud=!1;x.prototype=Object.create(I.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{PH:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(Na){this.Gh();this.PH && this.O.aC();this.PH && this.O.ic();this.JLb=this.O.Gd();this.Zd=this.O.ic();this.WWb=this.O.bda(this.Zd);Na && Na.pa && (Na.pa.R9b=this.WWb);return !0;};x.prototype.Ga=function(Na,Xa){if(Na && 0 === this.JLb){Na=Xa?this.Zd - Na:Na;this.Wb.offset=this.startOffset + 13 + (this.PH?8:0);this.Zd-=Na;this.Wb.qw(this.Zd);this.WAa=0;if(Xa)this.Wb.offset+=this.Zd;else {for(Xa=0;Xa < Na;++Xa){this.WAa+=this.Wb.Gd();}this.Wb.offset-=Na;}this.Jn(Na,this.O.offset);}return !0;};y.ud=!1;y.prototype=Object.create(I.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{PH:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(Na){var Xa,Wa,Sb,Eb;this.Gh();this.PH && this.O.aC();this.PH && this.O.ic();this.kr=this.O.ic();E(1 === this.kr,"Expected a single entry in Sample Auxiliary Information Offsets box");this.wo=0 === this.version?this.O.eda():this.O.y7b();this.O.offset=this.wo;if(Na && Na.pa && Na.uf){Xa=Na.uf.HLb;Wa=Na.pa.R9b;E(0 < Xa || void 0 !== Na.uf.GLb,"Expected per sample or constant IV");E(0 < (Wa || []).length,"Expected saix box parsing to find sample info sizes");Na.pa.pK=[];for(var fb=0;fb < Wa.length;fb++){for(var kb=Xa?this.O.cda(Xa):void 0,vb=[],Jb=this.O.rh(),Ob=0;Ob < Jb;Ob++){Sb=this.O.rh();Eb=this.O.ic();vb.push({iFb:Sb,jFb:Eb});}Na.pa.pK.push({NCa:vb,Dha:kb});}}return !0;};y.prototype.Ga=function(Na,Xa){this.wo+=Na;this.Wb.offset=this.startOffset + 16 + (this.PH?8:0) + (0 === this.version?0:4);this.Wb.rEa(Xa,this.wo);return !0;};z.ud=!1;z.prototype=Object.create(I.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{rdb:{get:function(){return this.flags & 1;}},Ylb:{get:function(){return this.flags & 2;}}});z.prototype.parse=function(Na){var Xa,Jb,Ob;this.Gh();Xa=0;this.rdb && (Xa=this.QYb=this.O.ic() & 255,this.O.bda(16));if(Na && Na.pa){if(Na.pa.pK)return;Na.pa.gl || (Na.pa.gl=[]);}if(0 !== Xa && 8 !== Xa && 16 !== Xa)return !0;this.Zd=this.O.ic();if(Na && Na.pa)for(var Wa=0;Wa < this.Zd;Wa++){if((Na.pa.gl[Wa].Dha=0 < Xa?this.O.cda(Xa):void 0,this.Ylb)){for(var fb=[],kb=this.O.rh(),vb=0;vb < kb;vb++){Jb=this.O.rh();Ob=this.O.ic();fb.push({iFb:Jb,jFb:Ob});}Na.pa.gl[Wa].NCa=fb;}}return !0;};z.prototype.Ga=function(Na,Xa){var Wa,fb;Wa=Xa?this.Zd - Na:Na;this.Wb.offset=this.startOffset + 28 + (this.rdb?20:0);this.Zd-=Wa;this.Wb.qw(this.Zd);Na=this.Wb.offset;if(this.Ylb)for(Wa=Xa?this.Zd:Wa;0 < Wa;--Wa){this.Wb.offset+=8;fb=this.Wb.rh();this.Wb.offset+=6 * fb;}else this.Wb.offset+=8 * (Xa?this.Zd:Wa);Xa?this.Jn(this.length - (this.O.offset - this.startOffset),this.O.offset):this.Jn(this.O.offset - Na,Na);};A.ud=!1;A.prototype=Object.create(I.prototype);A.prototype.constructor=A;A.prototype.parse=function(Na){this.Gh();if(Na && Na.pa){void 0 === Na.pa.gl && (Na.pa.gl=[]);for(var Xa=0;Xa < this.length - 12;Xa++){Na.pa.gl[Xa].prc=this.O.Gd();}}return !0;};A.prototype.Ga=function(Na,Xa,Wa){Wa?this.Jn(Xa - Na,this.startOffset + 12 + Na):this.Jn(Na,this.startOffset + 12);return !0;};B.ud=!1;B.prototype=Object.create(I.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.Gh();this.O.aC();1 === this.version && this.O.ic();this.kr=this.O.ic();this.L_=[];for(var Na=0;Na < this.kr;++Na){for(var Xa=this.O.ic(),Wa=this.O.ic(),fb=0;fb < Xa;++fb){this.L_.push(Wa);}}return !0;};B.prototype.Ga=function(Na,Xa){this.L_=Xa?this.L_.slice(0,Na):this.L_.slice(Na);Na=this.L_.reduce(function(Wa,fb){0 !== Wa.length && Wa[Wa.length - 1].group === fb || Wa.push({group:fb,count:0});++Wa[Wa.length - 1].count;return Wa;},[]);this.Wb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Wb.qw(Na.length);Na.forEach((function(Wa){this.Wb.qw(Wa.count);this.Wb.qw(Wa.group);}).bind(this));this.kr > Na.length && this.Jn(8 * (this.kr - Na.length));this.kr=Na.length;return !0;};C.ud=!1;C.prototype=Object.create(I.prototype);C.prototype.constructor=C;ra={oe:{moov:g,trak:c,mdia:c,mdhd:k,minf:c,encv:ra,schi:c,sidx:m,sinf:c,stbl:c,tenc:l,mvex:c,moof:p,traf:q,tfhd:w,trun:Db,sbgp:B,sdtp:A,saiz:x,saio:y,tfdt:u,mdat:C,vmaf:f},Ydc:{vpcC:v,SmDm:t("smdm"),CoLL:t("coll")},Jkb:{schm:Q},XAa:{}};D([U,Z,J,R,a,P,qa,Fa,Oa,L,O,bb,Ab,H,T,M,K,tb,Db],ra.oe);D([V,W,ua,Aa,Ha,N,S,ia,Pa,Ra],ra.XAa);D([U,Q],ra.Jkb);ra.oe[b.XNa]=l;ra.oe[b.C3]=n;ra.oe[b.B3]=h;ra.oe[b.WNa]=z;ra.XAa[b.tia]=Va;ra.og=I;r.exports={kQ:ra};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);r=a(24);g=a(24);a=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(f){this.O.offset+=6;this.O.rh();g.N && this.O.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === f || void 0 === f?0:f.uf)f.uf.N9b=this.type;return !0;};return m;})(r.og);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(21);r.__exportStar(a(150),b);r.__exportStar(a(242),b);r.__exportStar(a(243),b);r.__exportStar(a(244),b);r=a(243);c=a(244);a=a(242);b.iO={3:a.rIa,4:r.yHa,5:c.Ypb};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);g=a(24);r=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(f){var d;this.Cqb=this.O.rh();d=this.O.Gd();this.njb=! !(d & 128);this.WSa=! !(d & 64);this.DNa=! !(d & 32);this.dcc=d & 31;this.WLb=this.njb?this.O.rh():void 0;this.WSa && this.O.bda(this.O.Gd());this.btb=this.DNa?this.O.rh():void 0;g.N && this.O.console.trace("ESDescriptor: ES_ID=" + this.Cqb + ", streamDependenceFlag=" + this.njb + ", URL_Flag=" + this.WSa + ", OCRstreamFlag=" + this.DNa + ", streamPriority=" + this.dcc + ", dependsOn_ES_ID=" + this.WLb + ", OCR_ES_Id=" + this.btb);this.lWa(f);return !0;};m.tag=3;return m;})(a(150).Uga);b.rIa=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);g=a(24);r=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(f){var d;this.Uba=this.O.Gd();d=this.O.Gd();this.HCa=d >>> 2;this.IDa=d >>> 1 & 1;this.coa=256 * this.O.rh() + this.O.Gd();this.maxBitrate=this.O.ic();this.f7=this.O.ic();g.N && this.O.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.Uba.toString(16) + ", streamType=" + this.HCa + ", upStream=" + this.IDa + ", bufferSizeDB=" + this.coa + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.f7);if(null === f || void 0 === f?0:f.ak)(f.ak.Uba=this.Uba,f.ak.HCa=this.HCa,f.ak.IDa=this.IDa,f.ak.coa=this.coa,f.ak.maxBitrate=this.maxBitrate,f.ak.f7=this.f7);this.lWa(f);return !0;};m.tag=4;return m;})(a(150).Uga);b.yHa=r;},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);g=a(24);r=a(150);k=a(241);a=(function(m){function f(){return null !== m && m.apply(this,arguments) || this;}c.__extends(f,m);f.prototype.wfb=function(){var d;d=this.O.Hd(4);return 15 !== d?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][d]:this.O.Hd(24);};f.prototype.parse=function(d,l){if(this.QXb(l) && 64 === l.Uba){if(null === d || void 0 === d?0:d.ak){l=this.O.h5a(this.length);for(var n=new ArrayBuffer(this.length),h=new Uint8Array(n),p=0;p < this.length;p++){h[p]=l.getUint8(p);}d.ak.Mnc=n;}this.Zq=this.ofb();this.Kda=this.wfb();this.Koa=this.O.Hd(4);this.cBa=this.TW=5 === this.Zq || 29 === this.Zq?5:-1;this.Rza=29 === this.Zq?1:-1;0 < this.TW && (this.qra=this.wfb(),this.Zq=this.ofb(),22 === this.Zq && (this.pra=this.O.Hd(4)));switch(this.Zq){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.fX=this.O.Hd(1),this.Jpa=(this.VLb=this.O.Hd(1))?this.O.Hd(14):void 0,this.O.Hd(1),this.DI=3 === this.Zq?256:23 === this.Zq?this.fX?480:512:this.fX?960:1024);}g.N && this.O.console.trace("AudioSpecificConfig: audioObjectType=" + this.Zq + ", samplingFrequency=" + this.Kda + ", channelConfiguration=" + this.Koa + ", extensionAudioObjectType=" + this.TW + ", sbrPresentFlag=" + this.cBa + ", psPresentFlag=" + this.Rza + ", extensionSamplingFrequency=" + this.qra + ", extensionChannelConfiguration=" + this.pra + ", frameLengthFlag=" + this.fX + ", coreCoderDelay=" + this.Jpa + ", frameLength=" + this.DI);if(null === d || void 0 === d?0:d.ak)(d.ak.Zq=this.Zq,d.ak.Kda=this.Kda,d.ak.Koa=this.Koa,d.ak.TW=this.TW,d.ak.cBa=this.cBa,d.ak.Rza=this.Rza,d.ak.qra=this.qra,d.ak.pra=this.pra,d.ak.fX=this.fX,d.ak.Jpa=this.Jpa,d.ak.DI=this.DI);}this.skip();return !0;};f.prototype.ofb=function(){var d;d=this.O.Hd(5);31 === d && (d=32 + this.O.Hd(6));return d;};f.prototype.QXb=function(d){return d.tag === k.yHa.tag;};f.tag=5;return f;})(r.Uga);b.Ypb=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.M1=void 0;r=(function(){function a(c){this.data=c;this.Js=this.Pb=this.Od=0;this.view=new DataView(c.buffer,c.byteOffset,c.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.Pb;},enumerable:!1,configurable:!0});a.prototype.read=function(c){if(0 === this.Od){if(8 === c)return this.data[this.Pb++];if(16 === c)return (c=this.view.getUint16(this.Pb),this.Pb+=2,c);if(32 === c)return (c=this.view.getUint32(this.Pb),this.Pb+=4,c);}for(;this.Od < c;){this.Js=(this.Js << 8) + this.data[this.Pb++];this.Od+=8;}this.Od-=c;return this.Js >>> this.Od & (1 << c) - 1;};a.prototype.advance=function(c){var g;if(c <= this.Od)this.Od-=c;else {c-=this.Od;g=Math.floor(c / 8);this.Pb+=g;this.Js=this.data[this.Pb++];this.Od=8 - (c - 8 * g);}};a.prototype.write=function(c,g){var k,m;g&=(1 << c) - 1;if(0 === this.Od){if(8 === c){this.data[this.Pb++]=g;return;}if(16 === c){this.view.setUint16(this.Pb,g);this.Pb+=2;return;}if(32 === c){this.view.setUint32(this.Pb,g);this.Pb+=4;return;}}if(0 < this.Od){k=Math.min(c,this.Od);m=this.data[this.Pb - 1] & (~((1 << this.Od) - 1) ^ (1 << this.Od - k) - 1);this.data[this.Pb - 1]=m ^ (c >= k?g >>> c - k:g << this.Od - k);this.Od-=k;c-=k;}for(;8 <= c;){c-=8;this.data[this.Pb++]=g >>> c & 255;}0 < c && (this.Od=8 - c,m=this.data[this.Pb] & (1 << this.Od) - 1,this.Js=this.data[this.Pb++]=m ^ (g & (1 << c) - 1) << 8 - c);};a.prototype.reverse=function(c){0 !== this.Od && c <= 8 - this.Od?this.Od+=c:(0 !== this.Od && (c-=8 - this.Od,--this.Pb),this.Pb-=Math.floor(c / 8),this.Js=this.data[this.Pb - 1],this.Od=c % 8);};a.prototype.fFb=function(){0 !== this.Od && (this.Od=0);};return a;})();b.M1=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(388);g=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);return m;})(Error);b.assert=function(k,m){if(!k)throw new g(m || "Assertion failed");};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var g;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(k,m){return k + m.byteLength;},0);g=new Uint8Array(c);a.reduce(function(k,m){g.set(new Uint8Array(m),k);return k + m.byteLength;},0);return g.buffer;};},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(390);g=a(239);k=a(391);r=(function(){function m(f,d,l){this.console=f;this.stream=d;this.view=l instanceof ArrayBuffer?new DataView(l):new DataView(l.data,l.offset,l.length);}m.prototype.parse=function(f){var d;d=new k.CHa(this.view.byteLength);this.Gg=new c.rga(g.kQ.oe,d,this.view,this.console,{Oya:!0});f=this.Gg.parse(f);this.oe=this.Gg.oe;return f;};return m;})();b.BG=r;},function(r,b,a){var g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.k2=void 0;g=a(42);k=a(123);c.Ns=function(){var m;m={};return (m[g.I.mG]="avc1.4D401E",m[g.I.nG]="avc1.4D401F",m[g.I.nha]="avc1.4D4028",m[g.I.rJa]="avc1.4D401E",m[g.I.sJa]="avc1.4D401F",m[g.I.tJa]="avc1.4D4028",m[g.I.pha]="hev1.2.6.L90.B0",m[g.I.qha]="hev1.2.6.L93.B0",m[g.I.rha]="hev1.2.6.L120.B0",m[g.I.sha]="hev1.2.6.L123.B0",m[g.I.U2]="hev1.2.6.L90.B0",m[g.I.X2]="hev1.2.6.L93.B0",m[g.I.a3]="hev1.2.6.L120.B0",m[g.I.d3]="hev1.2.6.L123.B0",m[g.I.TS]="hev1.2.6.L150.B0",m[g.I.US]="hev1.2.6.L153.B0",m[g.I.V2]="hev1.2.6.L90.B0",m[g.I.Y2]="hev1.2.6.L93.B0",m[g.I.b3]="hev1.2.6.L120.B0",m[g.I.e3]="hev1.2.6.L123.B0",m[g.I.g3]="hev1.2.6.L150.B0",m[g.I.i3]="hev1.2.6.L153.B0",m[g.I.T2]="hev1.2.6.L90.B0",m[g.I.W2]="hev1.2.6.L93.B0",m[g.I.Z2]="hev1.2.6.L120.B0",m[g.I.c3]="hev1.2.6.L123.B0",m[g.I.f3]="hev1.2.6.L150.B0",m[g.I.h3]="hev1.2.6.L153.B0",m[g.I.B2]="hev1.2.6.L90.B0",m[g.I.E2]="hev1.2.6.L93.B0",m[g.I.SS]="hev1.2.6.L120.B0",m[g.I.J2]="hev1.2.6.L123.B0",m[g.I.M2]="hev1.2.6.L150.B0",m[g.I.P2]="hev1.2.6.L153.B0",m[g.I.C2]="hev1.2.6.L90.B0",m[g.I.F2]="hev1.2.6.L93.B0",m[g.I.H2]="hev1.2.6.L120.B0",m[g.I.K2]="hev1.2.6.L123.B0",m[g.I.N2]="hev1.2.6.L150.B0",m[g.I.Q2]="hev1.2.6.L153.B0",m[g.I.A2]="hev1.2.6.L90.B0",m[g.I.D2]="hev1.2.6.L93.B0",m[g.I.G2]="hev1.2.6.L120.B0",m[g.I.I2]="hev1.2.6.L123.B0",m[g.I.L2]="hev1.2.6.L150.B0",m[g.I.O2]="hev1.2.6.L153.B0",m[g.I.W1]=k.Rd.Iga,m[g.I.Y1]=k.Rd.qHa,m[g.I.LS]=k.Rd.Jga,m[g.I.b2]=k.Rd.Kga,m[g.I.d2]=k.Rd.Lga,m[g.I.f2]=k.Rd.Mga,m[g.I.Nga]=k.Rd.Jga,m[g.I.Oga]=k.Rd.Kga,m[g.I.Pga]=k.Rd.Lga,m[g.I.Qga]=k.Rd.Mga,m[g.I.X1]=k.Rd.Iga,m[g.I.Z1]=k.Rd.qHa,m[g.I.a2]=k.Rd.Jga,m[g.I.c2]=k.Rd.Kga,m[g.I.e2]=k.Rd.Lga,m[g.I.g2]=k.Rd.Mga,m[g.I.pJa]="avc1.640016",m[g.I.v2]="avc1.64001E",m[g.I.x2]="avc1.64001F",m[g.I.lha]="avc1.640028",m[g.I.qJa]="avc1.640016",m[g.I.w2]="avc1.64001E",m[g.I.y2]="avc1.64001F",m[g.I.mha]="avc1.640028",m[g.I.fka]=k.Rd.PT,m[g.I.t4]=k.Rd.PT,m[g.I.u4]=k.Rd.PT,m[g.I.v4]=k.Rd.PT,m[g.I.yEa]=k.Rd.ol,m[g.I.zEa]=k.Rd.ol,m[g.I.GC]=k.Rd.ol,m[g.I.HC]=k.Rd.ol,m[g.I.x1]=k.Rd.ol,m[g.I.y1]=k.Rd.ol,m[g.I.z1]=k.Rd.ol,m[g.I.A1]=k.Rd.ol,m);};b.k2=c;},function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.hcc=b.yfb=b.fAa=void 0;b.fAa=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.yfb=a;b.hcc=function(c){return ("IStreamable: ").concat(c.identifier," [").concat(c.mediaType,"] ").concat(c.groupId," ") + ("p:").concat(JSON.stringify(c.ei)," sp:").concat(c.jC," ") + ("pssp:").concat(c.e_," ") + ("state:").concat(c.xg," path-complete:").concat(c.UB," ") + ("streaming:").concat(c.Vt," current:").concat(c.Ps);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Aia=void 0;r=(function(){function a(c,g,k,m){var f;f=this;this.properties=c;this.transform=g;this.NN=k;this.state=m;this.oa();c.forEach(function(d){return d.addListener(f.vya);});this.vya();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(g){return g.removeListener(c.vya);});};a.prototype.c9a=function(c){return void 0 !== c.equal;};a.prototype.oa=function(){var c;c=this;this.vya=function(){var g,k;g=c.state;k=c.properties.map(function(m){return m.value;});c.state=c.transform(k);(c.c9a(c.state) && c.c9a(g)?c.state.equal(g):g === c.state) || c.NN(c.state);};};return a;})();b.Aia=r;},function(r,b,a){var g;function c(k,m){return k < m?-1:k > m?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.y3=void 0;g=a(0);r=(function(){function k(m,f){this.data=null !== m && void 0 !== m?m:[];this.compare=null !== f && void 0 !== f?f:c;if(!this.empty)for(m=(this.length >> 1) - 1;0 <= m;m--){this.Vka(m);}}Object.defineProperties(k.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});k.prototype.push=function(m){this.data.push(m);this.ZWa(this.length - 1);};k.prototype.pop=function(){var m,f;if(!this.empty){m=this.data[0];f=this.data.pop();this.empty || (this.data[0]=f,this.Vka(0));return m;}};k.prototype.qy=function(){return this.data[0];};k.prototype.map=function(m){return this.data.map(m);};k.prototype.find=function(m){return g.__read(this.data.filter(m),1)[0];};k.prototype.clear=function(){this.data=[];};k.prototype.remove=function(m){var f,d,l;f=this.data;m=f.indexOf(m);if(-1 !== m){d=f.pop();if(m < f.length){f[m]=d;l=m - 1 >> 1;f=f[l];0 <= l && 0 > this.compare(d,f)?this.ZWa(m):this.Vka(m);}}};k.prototype.fEb=function(){for(var m=this.data,f=1;f < m.length;f++){if(0 > this.compare(m[f],m[f - 1 >> 1]))throw Error(("Audit failed at position ").concat(f," of ").concat(m));}};k.prototype.contains=function(m){return 0 <= this.data.indexOf(m);};k.prototype.ZWa=function(m){for(var f=this.data,d=this.compare,l=f[m],n,h;0 < m;){n=m - 1 >> 1;h=f[n];if(0 <= d(l,h))break;f[m]=h;m=n;}f[m]=l;};k.prototype.Vka=function(m){for(var f=this.data,d=this.compare,l=this.length >> 1,n=f[m],h,p,q;m < l;){h=(m << 1) + 1;q=f[h];p=h + 1;p < this.length && 0 > d(f[p],q) && (h=p,q=f[p]);if(0 <= d(q,n))break;f[m]=q;m=h;}f[m]=n;};return k;})();b.y3=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(410),b);r.__exportStar(a(914),b);r.__exportStar(a(915),b);r.__exportStar(a(916),b);},function(r,b,a){var c,g,k,m,f,d,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.sL=void 0;r=a(0);c=a(185);g=r.__importDefault(a(255));k=r.__importDefault(a(940));m=r.__importDefault(a(154));f=a(2);d=a(421);l=r.__importDefault(a(4));b.sL=(function(){function h(p,q,t){var v;v=this;this.Xk=new g.default(p,t);this.yt=new k.default(p);this.yc=new m.default(this.yt,this.Xk,p);new d.k4(l.default.V7,q,p);c.ez.DHb(p);p.vca && setInterval(function(){v.Xk.save();v.yt.save();},p.vca);}h.P9=function(p,q,t){void 0 === n?(h.config=p,h.D0=t,n=new h(p,q,t)):((0,f.assert)(h.config === p),(0,f.assert)(h.D0 === t));return n;};h.reset=function(){h.config=void 0;n=h.D0=void 0;};return h;})();},function(r,b,a){var f,d,l,n,h,p;function c(q){var t;t=q.fla;this.L=q;this.mD=d.Qj.HAVE_NOTHING;this.Qka=q.Qka;q=new h(q);this.ZU=q.create("throughput-location-history",t);this.o5=q.create("throughput-location-history",t);this.h6=q.create("throughput-location-history",t);this.i6=q.create("throughput-location-history",t);this.g6=q.create("throughput-location-history",t);this.bA=q.create("respconn-location-history",t);this.Rz=q.create("respconn-location-history",t);this.d6=q.create("throughput-tdigest-history",t);this.p5=q.create("throughput-iqr-history",t);this.Z4=q.create("throughput-location-history",t);this.b5=q.create("throughput-location-history",t);this.a5=q.create("throughput-location-history",t);this.c5=q.create("throughput-location-history",t);this.yb=null;}function g(q,t,v,w,u){this.yu=new c(u);this.Gp=[];this.tyb=l.time.ia() - Date.now() % 864E5;this.xu=null;this.L=u;for(q=0;q < w;++q){this.Gp.push(new c(u));}}function k(q,t,v){return f.has(q,t)?q[t]:q[t]=v;}function m(q,t){var v;this.L=q;this.TWa=t;this.COb();this.iH=new c(this.L);this.zU();v=q.dqa;v && (v={confidence:d.Qj.RS,Va:{va:parseInt(v,10),ye:0},el:{va:0,ye:0},pP:{va:0,ye:0}},this.get=function(){return v;});}f=a(11);d=a(28).default;b=a(8);l=a(4).default;n=b.kJa;h=a(929).Mqb;new l.Console("ASEJS_LOCATION_HISTORY","media|asejs");p={confidence:d.Qj.HAVE_NOTHING};c.prototype.JH=function(q,t){this.mD=t;this.ZU.add(q);this.d6.add(q);this.yb=l.time.ia();};c.prototype.HH=function(q){this.o5.add(q);};c.prototype.KH=function(q){this.h6.add(q.initial);this.i6.add(q.low);this.g6.add(q.high);};c.prototype.eL=function(q,t){this.p5.set(q,t);};c.prototype.lA=function(q){this.bA.add(q);};c.prototype.kA=function(q){this.Rz.add(q);};c.prototype.pN=function(q){this.Z4.add(q.va);this.b5.add(q.ye);this.a5.add(q.CN);this.c5.add(q.cS);};c.prototype.getState=function(){var q,t,v,w,u,x,y,z,A,B,C,D,E,G;q=this.ZU.getState();t=this.o5.getState();v=this.h6.getState();w=this.i6.getState();u=this.g6.getState();x=this.bA.getState();y=this.Rz.getState();z=this.p5.getState();A=this.d6.getState();B=this.Z4.getState();C=this.b5.getState();D=this.a5.getState();E=this.c5.getState();if(f.tb(q) && f.tb(x) && f.tb(y))return null;G={c:this.mD,t:l.time.Ixa(this.yb)};f.tb(q) || (G.tp=q);f.tb(t) || (G.itp=t);f.tb(v) || (G.tcii=v);f.tb(w) || (G.tcil=w);f.tb(u) || (G.tcih=u);f.tb(x) || (G.rt=x);f.tb(y) || (G.hrt=y);f.tb(z) || (G.iqr=z);f.tb(A) || (G.td=A);f.tb(B) || (G.dta=B);f.tb(C) || (G.dtv=C);f.tb(D) || (G.dtta=D);f.tb(E) || (G.dttv=E);return G;};c.prototype.Jd=function(q){var t;t=l.time.now();if(!(q && f.has(q,"c") && f.has(q,"t") && f.has(q,"tp") && f.isFinite(q.c) && f.isFinite(q.t)) || 0 > q.c || q.c > d.Qj.RS || q.t > t || !this.ZU.Jd(q.tp))return (this.mD=d.Qj.HAVE_NOTHING,this.xu=this.yb=null,this.ZU.Jd(null),this.bA.Jd(null),this.Rz.Jd(null),!1);this.mD=q.c;this.yb=l.time.eya(q.t);this.bA.Jd(f.has(q,"rt")?q.rt:null);this.Rz.Jd(f.has(q,"hrt")?q.hrt:null);this.o5.Jd(f.has(q,"itp")?q.itp:null);this.h6.Jd(f.has(q,"tcii")?q.tcii:null);this.i6.Jd(f.has(q,"tcil")?q.tcil:null);this.g6.Jd(f.has(q,"tcih")?q.tcih:null);this.Z4.Jd(f.has(q,"dta")?q.dta:null);this.b5.Jd(f.has(q,"dtv")?q.dtv:null);this.a5.Jd(f.has(q,"dtta")?q.dtta:null);this.c5.Jd(f.has(q,"dttv")?q.dttv:null);f.has(q,"iqr") && this.p5.Jd(q.iqr);f.has(q,"td") && this.d6.Jd(q.td);return !0;};c.prototype.get=function(){var q,t,v,w,u,x,y,z,A,B,C;q=this.L;if(f.tb(this.yb))return p;t=(l.time.ia() - this.yb) / 1E3;t > q.Ixb?this.mD=d.Qj.HAVE_NOTHING:t > q.fxb && (this.mD=Math.min(this.mD,d.Qj.RC));q=this.ZU.get();v=this.o5.get();w=this.h6.get().va;u=this.i6.get().va;x=this.g6.get().va;y=this.bA.get();z=this.Rz.get();A=this.p5.get();B=this.d6.get();C={va:this.Z4.uta().va,ye:this.b5.uta().va,CN:this.a5.get().va,cS:this.c5.get().va};result={bn:t,confidence:this.mD,Va:q,A8a:v,"throughput-ci":{initial:w,low:u,high:x},el:y,pP:z,xv:A,Wg:B,xo:C};q && (result.dsc=n.prototype.wy.bind(q));y && (result.jrc=n.prototype.wy.bind(y));z && (result.jpc=n.prototype.wy.bind(z));return result;};c.prototype.time=function(){return this.yb;};g.prototype.ze=function(){return ((l.time.ia() - this.tyb) / 1E3 / 3600 / (24 / this.Gp.length) | 0) % this.Gp.length;};g.prototype.getState=function(){var q;q={g:this.yu.getState(),h:this.Gp.map(function(t){return t.getState();})};f.tb(this.xu) || (q.f=l.time.Ixa(this.xu));return q;};g.prototype.Jd=function(q){var t,v;if(!this.yu.Jd(q.g))return !1;t=this.Gp.length;v=!1;this.Gp.forEach(function(w,u){v=!w.Jd(q.h[u * q.h.length / t | 0]) || v;});this.xu=f.has(q,"f")?l.time.eya(q.f):null;return v;};g.prototype.JH=function(q,t){this.yu.JH(q,t);this.Gp[this.ze()].JH(q,t);this.xu=null;};g.prototype.HH=function(q){this.yu.HH(q);this.Gp[this.ze()].HH(q);this.xu=null;};g.prototype.KH=function(q){this.yu.KH(q);this.Gp[this.ze()].KH(q);this.xu=null;};g.prototype.eL=function(q,t){this.yu.eL(q,t);this.Gp[this.ze()].eL(q,t);};g.prototype.lA=function(q){this.yu.lA(q);this.Gp[this.ze()].lA(q);};g.prototype.kA=function(q){this.yu.kA(q);this.Gp[this.ze()].kA(q);};g.prototype.pN=function(q){this.yu.pN(q);this.Gp[this.ze()].pN(q);};g.prototype.fail=function(q){this.xu=q;};g.prototype.get=function(){var q,t;if(!f.tb(this.xu)){if((l.time.ia() - this.xu) / 1E3 < this.L.exb)return {confidence:d.Qj.HAVE_NOTHING,av:!0};this.xu=null;}q=this.Gp[this.ze()].get();t=this.yu.get();q=q.confidence >= t.confidence?q:t;q.av=!1;return q;};g.prototype.time=function(){return this.yu.time();};m.prototype.JUa=function(q,t){var v;v=this.L;q=k(this.qU,q,{});return k(q,t,new g(v.ZUa || 14400,v.YUa || 100,v.XUa || 100,v.XVa || 4,v));};m.prototype.zU=function(){var q,t;q=l.storage.get("lh");t=l.storage.get("gh");q && this.rma(q);t && this.DAb(t);};m.prototype.nla=function(){var q;q={};f.fg(this.qU,function(t,v){f.fg(t,function(w,u){k(q,v,{})[u]=w.getState();},this);},this);return q;};m.prototype.DAb=function(q){this.iH.Jd(q);};m.prototype.rma=function(q){var t,v;t=null;v=this.L;f.fg(q,function(w,u){f.fg(w,function(x,y){var z;z=new g(v.ZUa || 14400,v.YUa || 100,v.XUa || 100,v.XVa || 4,v);z.Jd(x)?(k(this.qU,u,{})[y]=z,t=!0):f.tb(t) && (t=!1);},this);},this);return f.tb(t)?!0:t;};m.prototype.save=function(){var q;q=this.nla();l.storage.set("lh",q);l.storage.set("gh",this.iH.getState());this.TWa && this.TWa.JBa(this.iH.getState());};m.prototype.COb=function(){this.qU={};this.wM=this.fUa="";this.em=null;};m.prototype.Y_=function(q){this.fUa=q;this.em=null;};m.prototype.aea=function(q){this.wM=q;this.em=null;};m.prototype.hH=function(){f.tb(this.em) && (this.em=this.JUa(this.fUa,this.wM));return this.em;};m.prototype.JH=function(q,t){this.hH().JH(q,t);this.iH.JH(q,t);};m.prototype.HH=function(q){this.hH().HH(q);this.iH.HH(q);};m.prototype.KH=function(q){this.hH().KH(q);this.iH.KH(q);};m.prototype.eL=function(q,t){q && q.Nl && q.mk && q.Ol && (this.hH().eL(q,t),this.iH.eL(q,t));};m.prototype.lA=function(q){this.hH().lA(q);};m.prototype.kA=function(q){this.hH().kA(q);};m.prototype.pN=function(q){this.hH().pN(q);};m.prototype.fail=function(q,t){this.JUa(q,this.wM).fail(t);};m.prototype.get=function(q,t){var v,w,u,x;q=(q=this.qU[q])?q[this.wM]:null;v=null;if(q && (v=q.get(),v.confidence > d.Qj.HAVE_NOTHING))return v;if(!1 === t)return p;w=v=null;u=!1;x=null;f.fg(this.qU,function(y){f.fg(y,function(z,A){var B;if(!u || A == this.wM){B=z.get();B && (!w || w <= B.confidence) && (!x || w < B.confidence || x < z.time()) && (w=B.confidence,u=A == this.wM,x=z.time(),v=B);}},this);},this);return v?v:p;};r.exports=m;},function(r,b,a){var m;function c(f){this.gN=f;this.reset();}function g(f){this.Lk=new c(f);this.Pb=0;this.Yc=null;}function k(f,d){this.gN=f;this.zVa=d;this.reset();}m=a(11);c.prototype.hWa=function(f,d){this.yb+=f;this.Ek+=f;this.pd+=d;this.Dp.push({d:f,b:d});};c.prototype.MU=function(){var f;for(;this.Ek > this.gN;){f=this.Dp.shift();this.pd-=f.b;this.Ek-=f.d;}};c.prototype.reset=function(){this.Dp=[];this.yb=null;this.Ek=this.pd=0;};c.prototype.setInterval=function(f){this.gN=f;this.MU();};c.prototype.start=function(f){m.tb(this.yb) && (this.yb=f);};c.prototype.add=function(f,d,l){m.tb(this.yb) && (this.yb=d);d > this.yb && this.hWa(d - this.yb,0);this.hWa(l > this.yb?l - this.yb:0,f);this.MU();};c.prototype.get=function(){return {va:Math.floor(8 * this.pd / this.Ek),ye:0};};g.prototype.reset=function(){this.Lk.reset();this.Pb=0;this.Yc=null;};g.prototype.add=function(f,d,l){!m.tb(this.Yc) && l > this.Yc && (d > this.Yc && (this.Pb+=d - this.Yc),this.Yc=null);this.Lk.add(f,d - this.Pb,l - this.Pb);};g.prototype.start=function(f){!m.tb(this.Yc) && f > this.Yc && (this.Pb+=f - this.Yc,this.Yc=null);this.Lk.start(f - this.Pb);};g.prototype.stop=function(f){this.Yc=m.tb(this.Yc)?f:Math.min(f,this.Yc);};g.prototype.get=function(){return this.Lk.get();};g.prototype.setInterval=function(f){this.Lk.setInterval(f);};k.prototype.reset=function(){this.Dp=[];this.pd=this.Ek=0;};k.prototype.add=function(f,d,l,n){void 0 !== n && !0 === n && (d=l - d,this.Ek+=d,this.pd+=f,this.Dp.push({d:d,b:f}),this.MU());};k.prototype.MU=function(){var f;for(;this.Ek > this.gN || this.Dp.length > this.zVa;){f=this.Dp.shift();this.pd-=f.b;this.Ek-=f.d;}};k.prototype.start=function(){};k.prototype.stop=function(){};k.prototype.get=function(){return {va:Math.floor(8 * this.pd / this.Ek),ye:0};};k.prototype.setInterval=function(f,d){this.gN=f;this.zVa=d;this.MU();};r.exports={mic:c,cqb:g,zvb:k};},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.DHa=b.Zpb=b.Tga=b.Fqb=b.$pb=void 0;c=a(0);g=a(933);a=(function(){return function(){};})();b.$pb=a;k=(function(){function m(f,d,l,n,h){this.alpha=f;this.va=d;this.weight=n;this.Oja=l * this.weight;this.K0=h;}m.prototype.vi=function(){return new m(this.alpha,this.va,this.ye,this.weight,this.K0);};Object.defineProperties(m.prototype,{ye:{get:function(){return this.weight?this.Oja / this.weight:0;},enumerable:!1,configurable:!0}});m.prototype.update=function(f,d,l){var n,h,p,q;n=this.alpha;h=this.weight;p=this.K0;q=n * (f - p);5 < q && (this.weight/=Math.exp(q),this.K0=p=f);f=Math.exp(n * (d - p)) - Math.exp(n * (f - p));d=this.weight+=f;n=this.va;this.va=p=n + f * (l - n) / d;this.Oja=h?this.Oja * (d - f) / h + f * (l - p) * (l - n):0;};return m;})();b.Fqb=k;r=(function(){var k00;k00=2;function m(f){var l00,d,l;l00=2;for(;l00 !== 7;){switch(l00){case 4:this.WI=f.hl;this.tbb=d;this.g1b=l;this.reset();l00=7;break;case 2:var A4T="1SI";A4T+="YbZ";A4T+="r";A4T+="NJC";A4T+="p9";this.Pl=f;A4T;(d=f.min_b,l=f.min_iv);l00=4;break;}}}for(;k00 !== 14;){switch(k00){case 2:m.prototype.vi=function(f){var m00;m00=2;for(;m00 !== 8;){switch(m00){case 2:f || (f=new m(this.Pl));f.Yt=this.Yt;f.SF=this.SF;f.JK=this.JK.vi();m00=3;break;case 3:f.KK=this.KK.vi();return f;break;}}};m.prototype.reset=function(){var n00,f;n00=2;for(;n00 !== 3;){switch(n00){case 2:f=-Math.log(.5) / this.WI;this.JK=new k(f,0,0,0,0);this.KK=new k(f,0,0,0,0);this.Yt=this.SF=null;n00=3;break;}}};m.prototype.start=function(f){var o00;o00=2;for(;o00 !== 1;){switch(o00){case 2:null === this.Yt && (this.Yt=f);o00=1;break;}}};m.prototype.add=function(f,d,l){var p4W=a000;var p00,n;p00=2;for(;p00 !== 7;){switch(p00){case 2:n=this.Yt;this.Yt=null === n?d:Math.min(n,d);n=this.SF;this.SF=null === n?l:Math.max(n,l);p4W.j4T(0);n=Math.max(p4W.K4T(l,d),1);p4W.j4T(1);this.JK.update(d,l,p4W.K4T(f,n));p00=8;break;case 8:p4W.j4T(2);this.KK.update(d,l,p4W.i4T(n,f,8));p00=7;break;}}};k00=3;break;case 3:m.prototype.get=function(f,d){var l4W=a000;var q00,l,n,h,p,q,t,v,w,u;q00=2;for(;q00 !== 16;){switch(q00){case 6:h=Math.max(h,p);q00=14;break;case 14:l4W.G4T(0);q.update(l4W.K4T(n,l),l4W.K4T(f,l,l4W.G4T(0)),l4W.i4T(d,h,l4W.G4T(1)));q00=13;break;case 7:q00=0 === v?6:12;break;case 10:h=1E-11 < w?Math.max(u / w,h):h + 2 * v / p;q00=14;break;case 2:(l=this.Yt || 0,n=this.SF || 0,h=f - n,p=this.g1b,q=this.JK,t=this.KK);q00=1;break;case 1:q00=0 < h?5:17;break;case 13:l4W.j4T(0);t.update(l4W.K4T(n,l),l4W.i4T(f,l),0);q00=20;break;case 4:void 0 === d && (d=this.tbb);h >= p && (d=Math.min(d,this.tbb));p=d * q.va;l4W.j4T(0);var N31=l4W.i4T(26,24);v=Math.pow(d,N31) * q.ye;q00=7;break;case 17:(q=this.JK,t=this.KK);q00=20;break;case 12:(w=new g.s3(p,v).XFb(h),u=p - w[1]);l4W.j4T(0);var O31=l4W.i4T(11,10);w=O31 - w[0];q00=10;break;case 20:f=q.weight;d=t.weight;return {va:f?q.va:null,ye:f?q.ye:null,CN:d?t.va:null,cS:d?t.ye:null};break;case 5:q00=(q=new k(q.alpha,q.va,q.ye,q.weight,q.K0),t=new k(t.alpha,t.va,t.ye,t.weight,t.K0),0 < q.weight && 0 !== d)?4:20;break;}}};m.prototype.toString=function(){var r00;r00=2;for(;r00 !== 1;){switch(r00){case 4:var e4T="De";e4T+="li";e4T+="v";e4T+="eryD";e4T+="ist(";var b4T="D";b4T+="eli";b4T+="veryDi";b4T+="st(";return b4T.concat(this.WI,e4T);break;r00=1;break;case 2:var c4T="Deli";c4T+="very";c4T+="D";c4T+="ist(";return c4T.concat(this.WI,")");break;}}};m.prototype.stop=function(){};k00=7;break;case 7:m.prototype.flush=function(){};k00=6;break;case 6:return m;break;}}})();b.Tga=r;a=(function(m){function f(){return null !== m && m.apply(this,arguments) || this;}c.__extends(f,m);return f;})(a);b.Zpb=a;r=(function(m){function f(d){var l;l=m.call(this,d) || this;l.Pl=d;return l;}c.__extends(f,m);f.prototype.get=function(){var d,l,n;if(0 === this.JK.weight || 0 === this.KK.weight)return {low:null,high:null,initial:null};switch(this.Pl.dQ){case "deliverytime":d=this.JK;d=new g.s3(d.va,d.ye);(l=this.Pl.accuracy,n=this.Pl.l0b);return {low:8 / d.wy(this.Pl.WX,l,n),high:8 / d.wy(this.Pl.MY,l,n),initial:8 / d.wy(this.Pl.Q$,l,n)};default:return (d=this.KK,d=new g.s3(d.va,d.ye),l=this.Pl.accuracy,n=this.Pl.l0b,{low:d.wy(this.Pl.MY,l,n),high:d.wy(this.Pl.WX,l,n),initial:d.wy(this.Pl.Q$,l,n)});}};f.prototype.vi=function(){var d;d=new f(this.Pl);m.prototype.vi.call(this,d);return d;};f.prototype.toString=function(){return ("DeliveryDistCI([").concat((this.Pl.MY,this.Pl.WX),"])");};return f;})(r);b.DHa=r;},function(r){(function(){var s00;s00=2;for(;s00 !== 8;){switch(s00){case 2:var H4T="1S";H4T+="IYb";H4T+="ZrNJCp9";b.prototype.start=function(a){var u00;u00=2;for(;u00 !== 1;){switch(u00){case 2:this.eh?a < this.eh?(this.zD+=this.eh - a,this.eh=a):a > this.yb && (this.yb=this.eh=a):this.yb=this.eh=a;u00=1;break;}}};b.prototype.stop=function(a){var v00;v00=2;for(;v00 !== 1;){switch(v00){case 2:this.yb && a > this.yb && (this.zD+=a - this.yb,this.yb=a);v00=1;break;}}};b.prototype.add=function(a,c,g){var w00;w00=2;for(;w00 !== 4;){switch(w00){case 2:this.start(c);this.stop(g);this.pd+=a;w00=4;break;}}};b.prototype.get=function(){var x00;x00=2;for(;x00 !== 1;){switch(x00){case 2:return {va:this.zD?Math.floor(8 * this.pd / this.zD):null,p8:this.zD?this.zD:0};break;}}};r.exports=b;H4T;s00=8;break;}}function b(){var t00;t00=2;for(;t00 !== 5;){switch(t00){case 2:this.zD=this.pd=0;this.yb=this.eh=void 0;t00=5;break;}}}})();},function(r,b,a){function c(){c=Object.assign || (function(F){for(var I,L=1,M=arguments.length;L < M;L++){I=arguments[L];for(var K in I){Object.prototype.hasOwnProperty.call(I,K) && (F[K]=I[K]);}}return F;});return c.apply(this,arguments);}function g(F,I){g=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(L,M){L.__proto__=M;}) || (function(L,M){for(var K in M){M.hasOwnProperty(K) && (L[K]=M[K]);}});return g(F,I);}function k(F,I){function L(){this.constructor=F;}g(F,I);F.prototype=null === I?Object.create(I):(L.prototype=I.prototype,new L());}function m(F,I){var L,M,K;L={};for(M in F){Object.prototype.hasOwnProperty.call(F,M) && 0 > I.indexOf(M) && (L[M]=F[M]);}if(null != F && "function" === typeof Object.getOwnPropertySymbols){K=0;for(M=Object.getOwnPropertySymbols(F);K < M.length;K++){0 > I.indexOf(M[K]) && Object.prototype.propertyIsEnumerable.call(F,M[K]) && (L[M[K]]=F[M[K]]);}}return L;}function f(F,I,L,M){var K,O,H;K=arguments.length;O=3 > K?I:null === M?M=Object.getOwnPropertyDescriptor(I,L):M;if("object" === typeof Reflect && "function" === typeof Reflect.Rp)O=Reflect.Rp(F,I,L,M);else for(var J=F.length - 1;0 <= J;J--){if(H=F[J])O=(3 > K?H(O):3 < K?H(I,L,O):H(I,L)) || O;}return (3 < K && O && Object.defineProperty(I,L,O),O);}function d(F,I){return function(L,M){I(L,M,F);};}function l(F,I){if("object" === typeof Reflect && "function" === typeof Reflect.Hc)return Reflect.Hc(F,I);}function n(F,I,L,M){function K(O){return O instanceof L?O:new L(function(H){H(O);});}return new (L || (L=Promise))(function(O,H){function J(T){try{P(M.next(T));}catch(V){H(V);}}function R(T){try{P(M["throw"](T));}catch(V){H(V);}}function P(T){T.done?O(T.value):K(T.value).then(J,R);}P((M=M.apply(F,I || [])).next());});}function h(F,I){var K,O,H,J,R;function L(P){return function(T){return M([P,T]);};}function M(P){if(O)throw new TypeError("Generator is already executing.");for(;K;){try{if((O=1,H && (J=P[0] & 2?H["return"]:P[0]?H["throw"] || ((J=H["return"]) && J.call(H),0):H.next) && !(J=J.call(H,P[1])).done))return J;if((H=0,J))P=[P[0] & 2,J.value];switch(P[0]){case 0:case 1:J=P;break;case 4:return (K.label++,{value:P[1],done:!1});case 5:K.label++;H=P[1];P=[0];continue;case 7:P=K.$k.pop();K.Kh.pop();continue;default:if(!(J=K.Kh,J=0 < J.length && J[J.length - 1]) && (6 === P[0] || 2 === P[0])){K=0;continue;}if(3 === P[0] && (!J || P[1] > J[0] && P[1] < J[3]))K.label=P[1];else if(6 === P[0] && K.label < J[1])(K.label=J[1],J=P);else if(J && K.label < J[2])(K.label=J[2],K.$k.push(P));else {J[2] && K.$k.pop();K.Kh.pop();continue;}}P=I.call(F,K);}catch(T){P=[6,T];H=0;}finally{O=J=0;}}if(P[0] & 5)throw P[1];return {value:P[0]?P[1]:void 0,done:!0};}K={label:0,kb:function(){if(J[0] & 1)throw J[1];return J[1];},Kh:[],$k:[]};return (R={next:L(0),"throw":L(1),"return":L(2)},"function" === typeof Symbol && (R[Symbol.iterator]=function(){return this;}),R);}function p(F,I,L,M){void 0 === M && (M=L);F[M]=I[L];}function q(F,I){for(var L in F){"default" === L || I.hasOwnProperty(L) || (I[L]=F[L]);}}function t(F){var I,L,M;I="function" === typeof Symbol && Symbol.iterator;L=I && F[I];M=0;if(L)return L.call(F);if(F && "number" === typeof F.length)return {next:function(){F && M >= F.length && (F=void 0);return {value:F && F[M++],done:!F};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function v(F,I){var L,M,K;L="function" === typeof Symbol && F[Symbol.iterator];if(!L)return F;F=L.call(F);K=[];try{for(;(void 0 === I || 0 < I--) && !(M=F.next()).done;){K.push(M.value);}}catch(H){var O;O={error:H};}finally{try{M && !M.done && (L=F["return"]) && L.call(F);}finally{if(O)throw O.error;}}return K;}function w(){for(var F=[],I=0;I < arguments.length;I++){F=F.concat(v(arguments[I]));}return F;}function u(){var M;for(var F=0,I=0,L=arguments.length;I < L;I++){F+=arguments[I].length;}F=Array(F);M=0;for(I=0;I < L;I++){for(var K=arguments[I],O=0,H=K.length;O < H;(O++,M++)){F[M]=K[O];}}return F;}function x(F){return this instanceof x?(this.Ty=F,this):new x(F);}function y(F,I,L){var R,P,T;function M(V){R[V] && (P[V]=function(S){return new Promise(function(W,ia){1 < T.push([V,S,W,ia]) || K(V,S);});});}function K(V,S){var W;try{W=R[V](S);W.value instanceof x?Promise.resolve(W.value.Ty).then(O,H):J(T[0][2],W);}catch(ia){J(T[0][3],ia);}}function O(V){K("next",V);}function H(V){K("throw",V);}function J(V,S){(V(S),T.shift(),T.length) && K(T[0][0],T[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");R=L.apply(F,I || []);T=[];return (P={},M("next"),M("throw"),M("return"),P[Symbol.asyncIterator]=function(){return this;},P);}function z(F){var L,M;function I(K,O){L[K]=F[K]?function(H){return (M=!M)?{value:x(F[K](H)),done:"return" === K}:O?O(H):H;}:O;}return (L={},I("next"),I("throw",function(K){throw K;}),I("return"),L[Symbol.iterator]=function(){return this;},L);}function A(F){var M,K;function I(O){K[O]=F[O] && (function(H){return new Promise(function(J,R){H=F[O](H);L(J,R,H.done,H.value);});});}function L(O,H,J,R){Promise.resolve(R).then(function(P){O({value:P,done:J});},H);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");M=F[Symbol.asyncIterator];return M?M.call(F):(F="function" === typeof t?t(F):F[Symbol.iterator](),K={},I("next"),I("throw"),I("return"),K[Symbol.asyncIterator]=function(){return this;},K);}function B(F,I){Object.defineProperty?Object.defineProperty(F,"raw",{value:I}):F.raw=I;return F;}function C(F){var I;if(F && F.__esModule)return F;I={};if(null != F)for(var L in F){Object.hasOwnProperty.call(F,L) && (I[L]=F[L]);}I.default=F;return I;}function D(F){return F && F.__esModule?F:{default:F};}function E(F,I){if(!I.has(F))throw new TypeError("attempted to get private field on non-instance");return I.get(F);}function G(F,I,L){if(!I.has(F))throw new TypeError("attempted to set private field on non-instance");I.set(F,L);return L;}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return f;});a.d(b,"__param",function(){return d;});a.d(b,"__metadata",function(){return l;});a.d(b,"__awaiter",function(){return n;});a.d(b,"__generator",function(){return h;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return t;});a.d(b,"__read",function(){return v;});a.d(b,"__spread",function(){return w;});a.d(b,"__spreadArrays",function(){return u;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return E;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.q4a=b.fEa=b.p4a=void 0;b.p4a={23976:{Ca:24E3,W:1001},24:{Ca:24E3,W:1E3},25:{Ca:25E3,W:1E3},2997:{Ca:3E4,W:1001},30:{Ca:3E4,W:1E3}};b.fEa=["23976","24","25","2997","30"];b.q4a=function(a,c){return a.Ca / a.W === c.Ca / c.W;};},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u,x;Object.defineProperties(b,{__esModule:{value:!0}});b.gga=void 0;c=a(0);g=a(14);k=a(982);r=a(89);m=a(424);f=a(984);d=a(986);l=a(436);n=a(6);h=c.__importDefault(a(4));p=a(2);a(8);q=a(22);t=a(990);v=a(263);w=a(131);u=a(182);x=(function(){return function(y){var z;z=y.x9a;y=y.lva;this.YY=this.replace=z;this.gg=y;};})();a=(function(y){function z(A,B){var C,D,E,G,F,I,L,M,K,O,H,J,R,P,T,V,S,W,ia,ra,ua,Aa;C=B.Sb;D=B.fa;E=B.kq;G=B.Wf;F=B.Yab;I=B.yl;L=B.config;M=B.L7a;K=B.bR;O=B.s9;H=B.yc;J=B.Xk;R=B.rZ;P=B.g3a;B=B.NF;T=y.call(this) || this;T.P=A;T.v$=!1;T.bVa=[];T.xVa=[];T.ri=[];T.jE=[];T.io=!1;T.rcb=!1;T.Sb=C;T.tVa=D;T.kq=E;T.wc=function(Ha){return 0 <= G.indexOf(Ha);};T.config=L;T.console=new h.default.Console("ASEJS","media|asejs","<" + String(T.P) + ">");M && (A=M.FE,T.Bg=new d.WJa(T,T.console,T.config,M.PB,M.KX,A,M.$$,M.hg,M.Wl,M.Zh,M.NE),T.FE=A);T.tv=new g.EventEmitter();T.s9=O;T.yc=H;T.rZ=R;T.bR=K;T.NF=B;T.Kf=new x(F);T.yl=I;V=[[],[],[]];S=[{},{},{}];W=[0,0];ia=!1;ua=T.wc(n.u.V);Aa=T.wc(n.u.J);I=T.Ya;["audio_tracks","video_tracks"].forEach(function(Ha,N){var Q,U;Q=N === n.u.J;U=N === n.u.V;U && !ua || Q && !Aa || T.fa[Ha].forEach(function(Z,qa){if(Z.type !== n.u.V || !1 !== Z.bj)(qa=new m.pL({S:T,vm:Z,mediaType:N,gg:F.lva,XF:qa,iA:qa + (U?T.fa.video_tracks.length:0)},T.config,T.console),N === n.u.J && L.gOb && new t.zFa(L).U6b(qa.Rc),N === n.u.J && (ra=v.dM.from({Mv:Z.kxa,Uu:Z.jxa})),V[N].push(qa),S[N]=c.__assign(c.__assign({},S[N]),qa.eB()),qa.maxBitrate > W[qa.mediaType] && (W[qa.mediaType]=qa.maxBitrate),ia=ia || qa.Mo);});});I && T.fa.timedtexttracks.forEach(function(Ha,N){var Q;if("none" !== Ha.id){Q=n.u.Hb;Ha=new m.pL({S:T,vm:Ha,mediaType:Q,gg:!1,XF:N,iA:N},T.config,T.console);V[Q].push(Ha);S[Q]=c.__assign(c.__assign({},S[Q]),Ha.eB());}});T.fa.qN && ((0,p.assert)(ra,"Should have video track if there are adverts"),T.qN={tg:T.fa.qN.tg.map(function(Ha){return c.__assign(c.__assign({},Ha),{dL:Ha.Qo,Qo:ra.normalize(Ha.Qo)});})});T.Il=new l.CLa(T.fa,S,H,J,T.config,null === P || void 0 === P?void 0:P.PB);P && (H=P.et,J=P.Oo,T.Rq=P.Yf,T.Oo=J,T.et=H,T.ala=new f.LIa(T.Il,T.config,T.gVb.bind(T),T.fVb.bind(T)));T.jM=V;T.yea=S;T.vt=W;T.Mo=ia;return T;}c.__extends(z,y);Object.defineProperties(z.prototype,{fa:{get:function(){return this.tVa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ya:{get:function(){var A,B;A=this.fa;B=A.xB;return "LIVE" === A.Bea && ! !B;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{XY:{get:function(){var A;return !(null === (A=this.jM[n.u.J][0]) || void 0 === A || !A.XY);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{cj:{get:function(){return this.bVa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{j0b:{get:function(){return this.xVa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{K:{get:function(){return this.fa.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{qo:{get:function(){return this.fa.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{duration:{get:function(){return this.fa.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Wk:{get:function(){return this.io;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{mr:{get:function(){(0,p.assert)(this.ala,"ErrorDirector is not available on old architecture prefetch viewables.");return this.ala;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{FO:{get:function(){return this.mr.events;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{xhb:{get:function(){var A;return h.default.time.now() - (null !== (A=this.G$b) && void 0 !== A?A:0);},set:function(A){this.G$b=h.default.time.now() - A;},enumerable:!1,configurable:!0}});z.prototype.xb=function(){this.close();this.rd();};z.prototype.close=function(){var A;this.jE=[];null === (A=this.ala) || void 0 === A?void 0:A.xb();this.Il.xb();this.io=!0;};z.prototype.rd=function(){this.Bg && this.Bg.rd();};z.prototype.fL=function(A){var B,C,D,E,G,F,I,L;B=this;C=A.fa;D=A.yl;E=A.gg;G=void 0 === E?!1:E;A=A.Wf;F=void 0 === A?n.ag:A;(0,p.assert)(D === this.yl,"Updating Viewable clearplay not supported");n.ag.forEach(function(M){(0,p.assert)(B.wc(M) === 0 <= F.indexOf(M),"Updating Viewable media types not supported");});(0,p.assert)(C.movieId === this.fa.movieId,"Changing Viewable manifest movieId unsupported");I=this.wc(n.u.V);L=this.wc(n.u.J);["audio_tracks","video_tracks"].forEach(function(M,K){var O,H,J,R;O=K === n.u.J;H=K === n.u.V;if(!(H && !I || O && !L)){J=C[M];R=B.jM[K];(0,p.assert)(R.every(function(P){var T;T=J[P.XF];return T && T.UR === P.trackId && (T.type === n.u.J || !1 !== T.bj);}),"Existing tracks must still exist and be hydrated in updated manifest");J.forEach(function(P,T){var V,S;if(P.type !== n.u.V || !1 !== P.bj){V=B.getTrackById(P.UR);if(V){P=P.streams;S=Object.keys(V.eB());(0,p.assert)(P.length === S.length,"Expected updated manifest track to have same number of streams");P.forEach(function(W){W=W.downloadable_id;(0,p.assert)(-1 !== S.indexOf(W),"Changing Viewable track streams unsupported");});}else (V=new m.pL({S:B,vm:P,mediaType:K,gg:G,XF:T,iA:T + (H?B.fa.video_tracks.length:0)},B.config,B.console),R.push(V),B.yea[K]=c.__assign(c.__assign({},B.yea[K]),V.eB()),V.maxBitrate > B.vt[V.mediaType] && (B.vt[V.mediaType]=V.maxBitrate),(0,p.assert)(B.Mo || !V.Mo,"Can not update clear viewable with drm track."));}});}});this.tVa=C;this.Il.lV(this.fa,this.yea);};z.prototype.CK=function(A){var B,C,D;B=A.zm;C=A.qa;D=A.yW;A=A.Ro;B && C?(this.fea=new k.IRa(B,{qa:String(C),yW:! !D,A0b:this.config.H3.mx,UEb:this.config.H3.lv},A),this.mr.CK(this.fea)):this.rcb || (A("SideChannel: pbcid/xid is missing."),this.rcb=!0);};z.prototype.Yx=function(){return void 0 !== this.qo;};z.prototype.Io=function(A,B){return (0,u.ata)(this.fa,A,B);};z.prototype.getTracks=function(A){return this.jM[A];};z.prototype.getTrackById=function(A){var B;this.jM.some(function(C){return C.some(function(D){if(D.trackId === A)return (B=D,!0);});});B || this.console.warn("getTrackById not found:",A,"length:",this.jM.length);return B;};z.prototype.IUb=function(A,B){var C;C=this.jM[A];if(0 > B || B >= C.length)this.console.warn("getTrackByIndex out of range:",B,"length:",C.length,"mediaType:",A);else return C[B];};z.prototype.Sx=function(A,B){return (A=this.eB(A)) && A[B];};z.prototype.eB=function(A){return this.yea[A];};z.prototype.Mec=function(A,B){this.bVa[A]=B;B.stream.ha && this.rlb(A,B.stream.ha);};z.prototype.FYb=function(A){var B,C;if(void 0 === A.Rca || void 0 === A.Fza){B=this.Il.NB.filter(function(D){return void 0 !== D.streams[A.Pa];})[0];C=B.children.filter(function(D){return D.urls.some(function(E){return E.stream.id === A.Pa;});})[0];A.Rca=B.id;A.Fza=C.id;}return {Lva:A.location === A.Rca,GYb:A.Zb === A.Fza};};z.prototype.OBa=function(A,B,C){void 0 !== B && void 0 !== C && (this.kgb(A.mediaType,B),A.OBa(B,C));};z.prototype.kgb=function(A,B){var C,D;D=this.config.Oxa;("location" === D || "video_location" === D && A === n.u.J) && this.yc.Y_(B);null === (C=this.s9) || void 0 === C?void 0:C.call(this).q3b(A,B);};z.prototype.Yf=function(A,B,C,D,E,G){(0,p.assert)(this.Rq,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.Rq(A,B,C,D,E,G);};z.prototype.$l=function(){var A,B,C;A=this;B=[];if(this.Wk)return (this.console.error("updateRequestUrls, closed Viewable:",this.P),!1);n.ag.forEach(function(D){A.wc(D) && A.ffc(D) && (D=A.Vec(D),0 < D.length && B.push.apply(B,D));});C=this.Nec();0 < C.length && B.push.apply(B,C);return this.l9b(B);};z.prototype.Do=function(A,B){var C;C=this.getTracks(n.u.J)[0];(0,p.assert)(C);if(C.cJ)return C.Do(A,B);};z.prototype.ffc=function(A){var B;B=this;return this.Wk?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.wc(A)?this.ri.reduce(function(C,D){return (0,q.P6)(C,D.xe.filter(function(E){return E.mediaType === A;}));},[]).map(function(C){return B.Il.T0(B.P,C.Rc);}).every(function(C){return C;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",A),!1);};z.prototype.Nec=function(){(0,p.assert)(this.Bg,"Headers not available on old architecture prefetch viewables.");return this.Bg.$l();};z.prototype.Vec=function(A){var B,C,G;C=[];if(this.Wk)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),C);if(!this.wc(A))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",A),C);try{for(var D=c.__values(this.ri),E=D.next();!E.done;E=D.next()){G=E.value.$l(A);G.length && C.push.apply(C,G);}}catch(I){var F;F={error:I};}finally{try{E && !E.done && (B=D.return) && B.call(D);}finally{if(F)throw F.error;}}return C;};z.prototype.l9b=function(A){var B,C,D;B=this;if(0 === A.length)return !0;C=0;D=[];A.forEach(function(E){var G;if(E.Fc){G=E.S;G.Sb > B.Sb && (D.push({S:G,track:E.stream.track}),++C);}});D.forEach(function(E){var G;G=E.track;E.S.aR([G.mediaType === n.u.V?G:void 0,G.mediaType === n.u.J?G:void 0],void 0,G.mediaType);});return C === A.length;};z.prototype.lk=function(){var A;A=this;this.Il.lk();this.mr.lk();this.fea && ((0,p.assert)(this.FE),n.ag.forEach(function(B){B=A.FE(B);A.fea.vBa("rebuffer",B.hwa);}));};z.prototype.lya=function(){this.mr.lya();};z.prototype.PDa=function(A,B){(0,p.assert)(this.Bg,"Headers not available on old architecture prefetch viewables.");this.Bg.PDa(A,B);};z.prototype.o$=function(){(0,p.assert)(this.Bg,"Headers not available on old architecture prefetch viewables..");return this.Bg.o$();};z.prototype.dpa=function(){(0,p.assert)(this.Bg,"Headers not available on old architecture prefetch viewables.");this.Bg.dpa();};z.prototype.oR=function(A){(0,p.assert)(this.Bg,"Headers not available on old architecture prefetch viewables.");this.Bg.oR(A);};z.prototype.xDa=function(){(0,p.assert)(this.Bg,"Headers not available on old architecture prefetch viewables.");return this.Bg.xDa();};z.prototype.qr=function(A,B){(0,p.assert)(this.Bg,"Headers not available on old architecture prefetch viewables.");return this.Bg.qr(A,B);};z.prototype.z0a=function(A,B,C){(0,p.assert)(this.Bg,"Headers not available on old architecture prefetch viewables.");this.Bg.Xea(A,B,C,!0);};z.prototype.w6=function(A,B,C){(0,p.assert)(this.Bg,"Headers not available on old architecture prefetch viewables.");return this.Bg.w6(A,B,! !C);};z.prototype.X$b=function(A,B){this.jE.push({stream:A,xUb:B});};z.prototype.Qfb=function(){this.jE=[];};z.prototype.w8b=function(A){this.jE=this.jE.filter(function(B){return B.stream !== A;});};z.prototype.v8b=function(A){this.jE=this.jE.filter(function(B){return B !== A;});};z.prototype.fP=function(){var A;A=this;(0,p.assert)(this.Oo,"Streamables not available on old architecture prefetch viewables.");return this.Oo()?[]:this.jE.map(function(B){var C,D,E,G,F,I;C=B.stream;D=B.xUb;E=D();D=E.ei;G=E.xg;F=E.UB;I=E.Vt;E=E.Ps;return {identifier:("").concat(C.P,"-").concat(C.mediaType,"-").concat(C.bitrate),mediaType:C.mediaType,ei:D,xg:G,UB:F,Vt:I,Ps:E,Cza:0,Bza:Infinity,e_:1,jC:1,U3a:0,groupId:("").concat(A.P),XE:!0,mt:!1,I9a:function(){return {result:!0};},M9a:function(){if(C.YF())return (A.w8b(C),{zj:!0,reason:"success"});A.v8b(B);return {zj:!1,reason:"viewableTryIssueHeaderRequest"};}};});};z.prototype.YF=function(A,B){(0,p.assert)(this.Bg,"Headers not available on old architecture prefetch viewables.");return this.Bg.YF(A,B);};z.prototype.jN=function(A,B){(0,p.assert)(this.Bg,"Headers not available on old architecture prefetch viewables.");return this.Bg.jN(A,B);};z.prototype.QAa=function(A){(0,p.assert)(this.Bg,"Headers not available on old architecture prefetch viewables.");return this.Bg.QAa(A);};z.prototype.aR=function(A,B,C){(0,p.assert)(this.Bg,"Headers not available on old architecture prefetch viewables.");return this.Bg.aR(A,B,C);};z.prototype.iVb=function(A){var B,C,D;B=A.Pa;C=A.mediaType;this.Ya || this.rlb(C,A.stream.ha);B=this.Sx(C,B);D=this.Yx()?this.config.Fab:0;B.jlb(h.default.Wp()[C],D);this.tv.emit("onHeaderFragments",A);};z.prototype.nAa=function(A){this.ri.push(A);};z.prototype.GDa=function(A){A=this.ri.indexOf(A);(0,p.assert)(-1 !== A,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.ri.splice(A,1);};z.prototype.ica=function(A){var B;null === (B=this.bR) || void 0 === B?void 0:B.Fu(A);};z.prototype.SB=function(A){this.Wk?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",A):void 0 !== A.location && this.kgb(A.mediaType,A.location);};z.prototype.JJ=function(A){this.Wk?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",A):this.mr.cfa(A);};z.prototype.Zk=function(A){var B;null === (B=this.bR) || void 0 === B?void 0:B.fC(A);(0,p.assert)(this.Oo && this.rZ,"Requests cannot be handled on old architecture prefetch viewables.");this.Wk?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",A):this.Oo() || (this.mr.cfa(A),this.rZ(A));};z.prototype.EZ=function(A,B,C){var D;C && (null === (D=this.bR) || void 0 === D?void 0:D.fC(A));};z.prototype.FZ=function(A){this.Wk?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",A):(this.mr.Jt(A,void 0,A.status,A.zg,A.Bi),this.Ya && !A.Fc && A.cq && !A.Hy.Zeb(A.cq)?this.Rec(A):this.$l() || this.Yf(A.KO || "unknown","NFErr_MC_StreamingFailure",A.zg,A.status,A.Bi));};z.prototype.Rec=function(A){var B,E;try{for(var C=c.__values(this.ri),D=C.next();!D.done;D=C.next()){E=D.value.fb(A.mediaType);E && E.Sec(A);}}catch(F){var G;G={error:F};}finally{try{D && !D.done && (B=C.return) && B.call(C);}finally{if(G)throw G.error;}}};z.prototype.rlb=function(A,B){this.xVa[A]=B.cxa;};z.prototype.gVb=function(A){var B,C,D;if(!this.io){B=A.oYb;C=A.X3b;D=A.Z3b;A=A.$3b;this.console.warn("Streaming failure, is permanent: " + B + ", last error code: " + C + ", last http code: " + D + ", last native code: " + A);B?(this.console.warn(" > Permanent failure, done"),B=this.Yf("Permanent failure","NFErr_MC_StreamingFailure",C,D,A)):(this.console.warn(" > We are buffering, calling it!"),B=this.Yf("Temporary failure while buffering","NFErr_MC_StreamingFailure",A,D,A,!0));B || (this.console.warn(" > Resetting failures"),this.mr.wda());}};z.prototype.fVb=function(){(0,p.assert)(this.et,"Error handling not available on old architecture prefetch viewables.");this.io || (this.$l(),this.et());};return z=c.__decorate([w.FI],z);})(r.uw);b.gga=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KC=void 0;r=a(35);a=a(77);c=(function(){function g(k,m){this.Wz=k;this.tM=m.Za;this.Uw=m.lb;}Object.defineProperties(g.prototype,{Za:{get:function(){return void 0 !== this.tM?this.tM:this.Wz.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{lb:{get:function(){return void 0 !== this.Uw?this.Uw:this.Wz.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{W:{get:function(){return this.Wz.W;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Kj:{get:function(){return this.Wz.Kj;},enumerable:!1,configurable:!0}});g.prototype.X_=function(k){this.Uw=k;};g.prototype.cpa=function(){this.Uw=void 0;};return g;})();b.KC=c;(0,r.Ue)(a.gu,c);(0,r.Ue)(a.cz,c);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dM=void 0;c=a(20);r=(function(){function g(k,m){this.rH=k;this.eH=m;this.S9b();}g.from=function(k){return "number" === typeof k?new g(k,1):new g(k.Mv,k.Uu);};g.HQb=function(k){return new g(k.W,k.Ca);};Object.defineProperties(g.prototype,{Mv:{get:function(){return this.rH;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Uu:{get:function(){return this.eH;},enumerable:!1,configurable:!0}});g.prototype.ba=function(){return new c.M(this.eH,this.rH);};g.prototype.equal=function(k){return this.rH === k.rH && this.eH === k.eH;};g.prototype.normalize=function(k){var m;m=1E3 * this.Uu;return Math.floor(Math.floor((Math.floor(k + 1) * this.Mv - 1) / m) * m / this.Mv);};g.prototype.S9b=function(){var k,m,f;k=Math.floor(1E3 * this.rH / this.eH);m=Math.floor(1001 * this.rH / this.eH);f=1E3 * Math.round(k / 1E3);this.rH=f;this.eH=Math.abs(m - f) > Math.abs(k - f)?1E3:1001;};return g;})();b.dM=r;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p;Object.defineProperties(b,{__esModule:{value:!0}});b.uga=b.Kv=void 0;c=a(0);r=a(14);g=c.__importDefault(a(28));k=a(6);m=c.__importDefault(a(4));f=a(20);d=a(2);l=a(991);n=a(105);h=a(59);p=a(22);b.Kv=function(q){return q.Da(f.M.Ja(q.oK));};a=(function(q){function t(v,w,u,x,y,z,A,B,C){var D,E;D=this;D=q.call(this) || this;D.H=v;D.dh=w;D.sg=u;D.Dd=x;D.L=y;D.$yb=z;D.T=A;D.Uq=B;D.Zh=C;D.eXa=!1;D.rUa=!1;D.WU=!1;D.Gk=D.H.error.bind(D.H);D.$b=D.H.warn.bind(D.H);D.Vj=D.H.trace.bind(D.H);null === (E=x.events) || void 0 === E?void 0:E.addListener("ready",function(){D.Rw();});D.fbb=new l.VMa(D.L,D.dh,D.sg.fd,D.H);D.reset();return D;}c.__extends(t,q);Object.defineProperties(t.prototype,{endOfStream:{get:function(){return this.gU;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{tgc:{get:function(){return this.Zm.length;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{dZb:{get:function(){return this.sl;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Fjb:{get:function(){return ! !this.Dd.qOb;},enumerable:!1,configurable:!0}});t.prototype.reset=function(v){var w,u,x;null === (w=this.NVa) || void 0 === w?void 0:w.xb();this.jo=!1;v || (this.Zm=[]);this.sl=this.jla=this.mH=void 0;this.Tka=!1;this.MM=void 0;this.WU=this.gU=!1;this.GWa(f.M.Ha);null === (x=(u=this.Dd).reset) || void 0 === x?void 0:x.call(u);this.fbb.reset();};t.prototype.b4a=function(){this.jla=!0;};t.prototype.pause=function(){this.jo=!0;};t.prototype.resume=function(){this.jo=!1;this.Rw();};t.prototype.qI=function(){this.rUa=!0;this.jo || this.Rw();};t.prototype.MF=function(v){this.eXa=v;};t.prototype.Xsa=function(){var v;return null === (v=this.sl) || void 0 === v?void 0:v.Lf;};t.prototype.KDb=function(v){var w;if(this.L.H2a){(0,d.assert)(v.Ua);w=v.Ua.ab;(0,d.assert)(void 0 !== v.Nd);(0,d.assert)(void 0 !== w.Pc);if(v.Nd >= w.Pc)return;}this.Zm.push(v);this.Rw();};t.prototype.lw=function(){this.Rw();};t.prototype.A_=function(v){v=this.Zm.indexOf(v);-1 !== v && this.Zm.splice(v,1);};t.prototype.tcb=function(v,w){this.L.tna && w && void 0 === this.sl && this.NTa(v,0);this.Rw();};t.prototype.qZ=function(v,w){var u,x;u=this;void 0 === v && (v=!1);this.gU || (this.gU=!0,this.Rw(),!v && this.Fjb) || (w && this.Uq && this.L.OLb?(v=f.M.Ja(this.L.fkb),w=w.Da(v),v=(0,h.yfa)(this.Uq,w,!0),w=v.Tn,v=v.promise,null === (x=this.NVa) || void 0 === x?void 0:x.xb(),this.NVa=w,v.then(function(){u.gU && u.Dd.endOfStream();})):this.Dd.endOfStream());};t.prototype.Xda=function(){return JSON.stringify(this.Zm);};t.prototype.GWa=function(v){var w;null !== (w=this.XAb) && void 0 !== w && w.equal(v) || (this.XAb=v,this.Dd.VBa(v.Ca,v.W));};t.prototype.Rw=function(){var v,w,u,x,y,z,A,B,C;x=this.L;if(this.Zm.length || this.sl && !this.sl.me)if(!this.Dd || !1 === this.Dd.ready)this.YM("@" + m.default.time.ia() + ", append: not appending, sourceBuffer not ready");else if(!this.sl || this.sl.me || this.sl.zr())if(this.sl && !this.sl.me || this.Zm.length)if(this.jo){y=this.sl && !this.sl.me?this.sl:this.Zm[0];this.YM("@" + m.default.time.ia() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(y));}else if((!this.sl || this.sl.me || (this.lUa(this.sl),this.sl.me)) && this.Zm.length)if((y=this.Zm[0],y.aborted))(this.$b("aborted MediaRequest should not appear in the toAppend list:",y.toString(),"complete:",y.complete),this.YM("@" + m.default.time.ia() + ", append: removing aborted request from toAppend: " + y.toString()),this.Zm.shift());else {z=y.stream;A=z.S;if(z.Sg)if((y.Vs && !this.WU && (null === (w=(v=this.Dd).Uib) || void 0 === w?void 0:w.call(v,{P:z.track.S.P,b9a:z.yj}),this.WU=!0),this.Oac(z,y.index)))(this.jla=!1,this.NTa(z,y.index));else if((v=this.T.Br(A),z=this.IWb(z),v || z || !this.Tka && !x.wfa))if((v=this.F6a(y),this.dh !== g.default.Sd.V || !y.Po && !y.$x || !y.Ga || x.jK || this.gU || 1 !== this.Zm.length || !(v > x.iZ) || null !== (u=y.uK) && void 0 !== u && u.laa)){if(x.H2a || x.ONb)if((u=y.Ua.ab,w=this.jMb())){B=u.Bl;C=y.Pc >= w;v=v > x.iZ;if(w < u.Pc && C && v && !B)return;}if(x.J4b && this.Zh && (x=this.Zh(A.Sb)) && !x.rV)this.pause();else {this.Tka || (this.Tka=z);this.Zm.shift();try{this.Svb(y);}catch(D){throw (this.H.error(D),D);}}}else this.c$b();}};t.prototype.c$b=function(){var v;v=this;this.Uq && (this.Mva?this.Mva.FXb || this.Mva.ij():this.Mva=this.Uq.KA(function(){return v.VYb();},"JIT Appender"));};t.prototype.VYb=function(){var v,w,u,x;return c.__generator(this,function(y){switch(y.label){case 0:if(1 !== this.Zm.length)return [3,3];v=this.Zm[0];if(!v.Po && !v.$x || (null === (x=v.uK) || void 0 === x?0:x.laa))return [2];w=this.F6a(v);u=this.L.iZ;return w > u?[4,h.Rh.bG(f.M.Ja(w - u))]:[3,2];case 1:(y.kb(),y.label=2);case 2:return (this.Rw(),[3,0]);case 3:return [2];}});};t.prototype.F6a=function(v){return v.zd - this.T.Tf();};t.prototype.Oac=function(v,w){if(this.jla || void 0 === this.mH || v.Pa !== this.mH.Pa)return !0;v=v.Sg;(0,d.assert)(v);return 1 < v.length?(0,p.O6)(v,function(u){return u.te <= w;}) !== this.mH.h9a:!1;};t.prototype.IWb=function(v){if(v.mediaType === k.u.V || !v.yj)return !0;if(void 0 === this.mH)return !1;if(!v.track.XY)return !v.yj;v=v.Sg;(0,d.assert)(v);return !1 === v[this.mH.h9a].pm;};t.prototype.jMb=function(){throw Error("not supported");};t.prototype.NTa=function(v,w){var u,x,y,z;if(!this.eXa || this.rUa){y=v.Sg.reduce(function(A,B,C){return B.te <= w?C:A;},0);z=v.Sg[y];this.mH || (null === (x=(u=this.Dd).Uib) || void 0 === x?void 0:x.call(u,{P:v.track.S.P,b9a:v.yj}),this.WU=!0);if(this.Dd.appendBuffer(z.data,{Fc:!0,profile:v.profile,bitrate:v.bitrate,Pa:v.Pa}))(this.YM("@" + m.default.time.ia() + ", header appended, streamId: " + v.Pa),this.mH={Pa:v.Pa,h9a:y},this.hAb(v.S.Sb || 0,v.Pa,y),this.Rw());else throw (this.$b("appendHeader error: " + this.Dd.error),this.YM("@" + m.default.time.ia() + ", appendHeader error: " + this.Dd.error),Error("appendHeaderError"));}};t.prototype.Svb=function(v){var w,u,x,y,z;w=this;y=v.Uza || f.M.Ha;z=v.Ua.ab.G;z.Ta && Infinity !== z.Ta && (y=new f.M(z.Ta,1E3).add(y).Hh,Infinity === this.sg.duration || this.sg.duration < y) && (this.sg.duration=y);y=void 0 !== v.uC?f.M.Ja(v.uC).add(v.Uza):void 0;z=null === (u=this.Zm[0]) || void 0 === u?void 0:u.jd;u={endOfStream:this.endOfStream || !(null === (x=v.uK) || void 0 === x || !x.laa),aQ:y,Pxa:z};y=this.fbb.append(v,u);x=y.xj;z=y.Cj;u=y.response;y=y.offset;null === z || void 0 === z?void 0:z.forEach(function(A){return w.emit(A.type,A);});z=v.stream;z.Ya && (z=z.EE().t6b,y=y.Da(z));this.GWa(y);x && (v.Po || v.$x) && v.xj();this.lUa(v,x,u);};t.prototype.lUa=function(v,w,u){var x,y,z,A;void 0 === w && (w=!1);A=w?{status:n.Mh.hs,ik:void 0}:v.ND(this.sg,this.Dd,this.sg.fd,void 0,u);u=A.status;(A=A.ik) && this.emit(A.type,A);switch(u){case n.Mh.Nf:this.Rvb(v);break;case n.Mh.hs:(w || (this.sl=v,void 0 === this.MM || this.dh !== g.default.Sd.V || v.jd.equal(this.MM) || (this.MM=void 0),this.YM("@" + m.default.time.ia() + ", request appended, type: " + v.mediaType + ", streamId: " + v.Pa + ", pts: " + v.zd + "-" + v.Lf)),v.Po || v.$x?(this.MM=w?v.jd:v.Oc,null === (y=(x=this.Dd).qOb) || void 0 === y?void 0:y.call(x,v.uK),this.WU=!1,(null === (z=v.uK) || void 0 === z?0:z.laa) && this.$yb && this.qZ(!1,this.MM)):this.MM=void 0,this.iAb(v),this.Rw());}};t.prototype.Rvb=function(v){if(void 0 !== this.Dd.error){if("done" === this.Dd.error)return;this.Gk("failure to append queued mediaRequest:",null === v || void 0 === v?void 0:v.toString(),"err:",JSON.stringify(this.Dd.error));throw this.Dd.error;}v=Error("failure to append queued mediaRequest: " + (null === v || void 0 === v?void 0:v.toString()) + " err: " + this.Dd.error);this.Gk(v.message);throw v;};t.prototype.hAb=function(v,w,u){v={type:"headerAppended",mediaType:this.dh,manifestIndex:v,streamId:w,isIndex:u};this.emit(v.type,v);};t.prototype.iAb=function(v){v={type:"requestAppended",mediaType:this.dh,request:v};this.emit(v.type,v);};t.prototype.YM=function(v){v={type:"managerdebugevent",message:v};this.emit(v.type,v);};return t;})(r.EventEmitter);b.uga=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Hca=void 0;c=a(6);b.Hca=function(g){switch(g){case c.Ia.Qd:g=c.Vc.Qd;break;case c.Ia.Kg:g=c.Vc.Kg;break;case c.Ia.Qh:case c.Ia.bm:case c.Ia.gD:g=c.Vc.bm;break;default:g=c.Vc.cm;}return g;};},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.KL=void 0;c=a(2);g=a(6);k=a(22);r=(function(){function m(f){var d;void 0 === f && (f=[]);d=this;this.items=f;f.forEach(function(l){return d.LDa(l);});}Object.defineProperties(m.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Sca:{get:function(){var f;return null !== (f=this.video) && void 0 !== f?f:this.audio;},enumerable:!1,configurable:!0}});m.prototype.get=function(f){return f === g.u.J?this.video:this.audio;};m.prototype.every=function(f){return this.items.every(f);};m.prototype.some=function(f){return this.items.some(f);};m.prototype.forEach=function(f){this.items.forEach(f);};m.prototype.find=function(f){return (0,k.$c)(this.items,f);};m.prototype.reduce=function(f,d){return this.items.reduce(f,d);};m.prototype.filter=function(f){return new m(this.items.filter(f));};m.prototype.replace=function(f,d){var l;l=this.items.indexOf(f);(0,c.assert)(-1 < l);(0,c.assert)(f.mediaType === d.mediaType);this.items[l]=d;this.LDa(d);};m.prototype.Q$b=function(f,d){(f=this.get(f))?this.replace(f,d):this.add(d);};m.prototype.add=function(f){this.items.push(f);this.LDa(f);};m.prototype.remove=function(f){var d;d=this.items.indexOf(f);if(-1 === d)return !1;this.items.splice(d,1);this.VGb(f.mediaType);return !0;};m.prototype.clear=function(){this.items=[];this.audio=this.video=void 0;};m.prototype.LDa=function(f){f.mediaType === g.u.J?this.video=f:this.audio=f;};m.prototype.VGb=function(f){f === g.u.J?this.video=void 0:this.audio=void 0;};return m;})();b.KL=r;},function(r,b,a){var c,g,k,m,f,d,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.G1=void 0;c=a(0);a(2);r=a(35);g=c.__importDefault(a(28));k=c.__importDefault(a(4));m=a(191);f=a(71);d=a(105);l=k.default.ps;n=a(1014);a=(function(h){var y00;y00=2;for(;y00 !== 9;){switch(y00){case 7:c.__extends(p,h);y00=3;break;y00=1;break;case 1:p.create=function(q,t,v,w,u,x,y,z){var B00,A,B;B00=2;for(;B00 !== 11;){switch(B00){case 1:return new n.hFa(q,v,w,u,x,t,y,z);break;case 2:B00=!t.Jh && w.Ga && q.mediaType === g.default.Sd.J && l.fd && l.fd.I_.JT?1:5;break;case 5:B00=w.WP && w.ea > w.WP?4:12;break;case 4:A=Math.ceil(w.ea / w.WP);x=w.offset;B=w.ea;u=new m.tw(q,w,u,t,y,z);B00=7;break;case 7:z=Math.ceil(w.ea / A);B00=6;break;case 6:B00=0 < B?14:13;break;case 13:return u;break;case 14:var k4T="su";k4T+="b";k4T+="r";k4T+="eques";k4T+="t";(A={offset:x,ea:Math.min(B,z),responseType:w.responseType},x+=A.ea,B-=A.ea,u.push(new d.I1(q,v,k4T,A,u,t,y)));B00=6;break;case 12:return new p(q,v,w,u,x,t,y,z);break;}}};p.prototype.toString=function(){var C00;C00=2;for(;C00 !== 1;){switch(C00){case 2:var q4T="ID";q4T+=":";q4T+=" ";return q4T + this.$h() + ":" + f.wk.prototype.toString.call(this);break;}}};y00=4;break;case 2:c.__extends(p,h);y00=1;break;case 4:p.prototype.toJSON=function(){var D00;D00=2;for(;D00 !== 1;){switch(D00){case 2:return {ID:this.$h(),request:f.wk.prototype.toJSON.call(this)};break;}}};return p;break;}}function p(q,t,v,w,u,x,y,z){var z00,A;z00=2;for(;z00 !== 6;){switch(z00){case 4:A=A.length?"(" + A.join(",") + ")":"";void 0 === v.responseType && (v.responseType=v.Ga || l.fd && !l.fd.I_.JT?0:1);A=h.call(this,q,t,A,v,w,x,y) || this;f.wk.oa(A,q,v,z);return A;break;case 2:var Z4T="e";Z4T+="d";Z4T+="i";Z4T+="t";var u4T="c";u4T+="ac";u4T+="he";var o4T="1S";o4T+="IY";o4T+="bZrN";o4T+="JCp9";A=this;o4T;A=[u4T,Z4T].filter(function(B,C){var A00;A00=2;for(;A00 !== 1;){switch(A00){case 2:return [u,v.Ga][C];break;case 4:return [u,v.Ga][C];break;A00=1;break;}}});z00=4;break;}}}})(d.I1);b.G1=a;(0,r.Ue)(f.wk,a,!1);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(1021),b);},function(r,b,a){var c,g,k,m,f,d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.R3=void 0;c=a(0);g=a(14);k=a(8);m=a(10);f=a(59);d=c.__importDefault(a(4));l=k.M.Ja(1E3);r=(function(){function n(h,p,q,t,v,w,u,x,y,z){var A,B;this.FQb=h;this.V3b=p;this.vN=t;this.events=v;this.zs=w;this.Ckb=x;this.priority=y;this.Jl=[];this.console=(0,k.Ai)(d.default,p,("PresentationTracker [").concat(this.FQb,"] ").concat(this.Ckb,"]"));this.Rya=l.add(k.M.Ja(null !== (B=null === (A=w.tR) || void 0 === A?void 0:A.Z) && void 0 !== B?B:0));this.listeners=new g.$f();this.mza=new g.$f();this.VU=!z;this.yKb(u);this.Yhb(q,u,t);}n.prototype.Yhb=function(h,p,q){var t;t=this;this.vN=q;this.listeners.clear();this.mza.clear();this.Kb=h;this.$d=p;this.mza.on(h.T,"skipped",this.AZ.bind(this));this.listeners.on(q,"requestAppended",function(v){return t.Fv(v.request);});this.events=h.events;this.sO.ZZa(p);this.m_.ZZa(p);};n.prototype.yKb=function(h){var p;p=this;this.sO=h.KA(function(){return p.wNb();},"Presentation Emit",this.priority);this.m_=h.KA(function(){return p.e7b();},"Presentation Prune");};n.prototype.AZ=function(){this.trace(("skipped, scheduler clock ").concat(this.$d.Ba.currentTime.Mb()));this.VU=!0;this.sO.ij();};n.prototype.wNb=function(){var h,p;return c.__generator(this,function(q){switch(q.label){case 0:(m.N && this.console.trace("Starting emit job"),this.aK=this.X1b(this.VU),h=this.bcb(),q.label=1);case 1:if(!h)return [3,3];this.trace(("queuing task for ").concat(h.jw) + (" at player time ").concat(h.timestamp.Mb()) + (" scheduler clock is ").concat(this.$d.Ba.currentTime.Mb()));return [4,f.Rh.pw(h.timestamp)];case 2:q.kb();this.trace(("executing task for ").concat(h.jw) + (" at player time ").concat(h.timestamp.Mb()) + (" scheduler clock is ").concat(this.$d.Ba.currentTime.Mb()));p=this.VU?this.Kb.jf:null === h || void 0 === h?void 0:h.timestamp;this.VU=!1;try{this.Pqa(h,p);}catch(t){this.console.error(("Error in ").concat(this.Ckb," emit, continuing"),t);}this.aK++;h=this.bcb();p=null === h || void 0 === h?void 0:h.timestamp;return [3,1];case 3:return (m.N && this.console.trace("Ending emit job"),[2]);}});};n.prototype.bcb=function(){if(void 0 !== this.aK)return this.Jl[this.aK];};n.prototype.X1b=function(h){var p,q,v;void 0 === h && (h=!1);for(var t=h?0:null !== (p=this.aK) && void 0 !== p?p:0;t < this.Jl.length;t++){p=this.Jl[t];v=k.M.Ja(null !== (q=this.zs.y5b) && void 0 !== q?q:0);if(p.timestamp.greaterThan(this.Kb.jf.add(v)))return h && 0 < t?t - 1:t;}return Math.max(this.Jl.length - 1,0);};n.prototype.e7b=function(){var h,p;return c.__generator(this,function(q){switch(q.label){case 0:if(!(1 < this.Jl.length))return [3,2];h=c.__read(this.Jl,2);p=h[1];this.trace(("queuing pruning task for ").concat(p.jw) + (" at player time ").concat(this.Rya.add(p.timestamp).Mb()) + (" scheduler clock is ").concat(this.$d.Ba.currentTime.Mb()));return [4,f.Rh.pw(this.Rya.add(p.timestamp))];case 1:return (q.kb(),this.trace(("executing pruning task for ").concat(p.jw) + (" at player time ").concat(this.Rya.add(p.timestamp).Mb()) + (" scheduler clock is ").concat(this.$d.Ba.currentTime.Mb())),this.Jl.shift(),this.aK && this.aK--,[3,0]);case 2:return [2];}});};n.prototype.tx=function(h,p,q){this.Yhb(h,p,q);};n.prototype.reset=function(){this.Jl=[];m.N && this.trace("reset");this.VU=!0;this.IP=void 0;this.aK=0;this.m_.ij();this.sO.ij();};n.prototype.close=function(){m.N && this.trace("close()");this.mza.clear();this.sO.xb();this.m_.xb();this.listeners.clear();this.Jl=[];};n.prototype.Wh=function(h){var p;m.N && this.trace(("canSkip() ").concat(h));if(0 === this.Jl.length)return (m.N && this.trace("canSkip false, no media sequence"),!1);p=this.Jl[0];return p.timestamp.greaterThan(h)?(m.N && this.trace(("canSkip false, before earliest item at ").concat(p.timestamp)),!1):void 0 === this.IP || this.IP.lessThan(h)?(m.N && this.trace(("canSkip false, later than last appended at ").concat(this.IP)),!1):!0;};n.prototype.trace=function(h){m.N && this.console.trace(h);};n.prototype.$ma=function(h,p,q){q && (this.IP=q);q=this.Jl.length?this.Jl[this.Jl.length - 1]:void 0;return void 0 !== q && this.O9a(q.jw,h)?!1:(this.Jl.push({jw:h,timestamp:p}),this.sO.state === f.co.complete && this.sO.ij(),this.m_.state === f.co.complete && this.m_.ij(),!0);};n.prototype.O9a=function(h,p){var q;return h === p || (null === (q=h.f3a) || void 0 === q?void 0:q.call(h,p));};n.prototype.hHb=function(h){h.Jl=c.__spreadArray([],c.__read(this.Jl),!1);h.IP=this.IP;};return n;})();b.R3=r;},function(r,b,a){var m,f;function c(){}function g(d,l){this.gn=d;void 0 !== l?(f(l <= d.Ln,"require remain_sec <= chunk.sec but has " + l + " and " + d.Ln),this.Tl=l):this.Tl=d.Ln;}function k(d){var l;void 0 === d && (d=[]);this.Ht=[];this.ii=this.Jm=0;try{for(var n=m.__values(d),h=n.next();!h.done;h=n.next()){this.add(h.value,void 0);}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (l=n.return) && l.call(n);}finally{if(p)throw p.error;}}}m=a(0);f=a(2).assert;c.prototype=Error();g.prototype.constructor=g;g.prototype.vi=function(){return new g(this.gn,this.Tl);};k.prototype.constructor=k;k.prototype.add=function(d,l){d=new g(d,l);this.Ht.push(d);this.ii+=d.Tl;this.Jm+=d.gn.fB() * d.Tl;};k.prototype.vi=function(){var d,l,p;l=new k(void 0);try{for(var n=m.__values(this.Ht),h=n.next();!h.done;h=n.next()){p=h.value;l.add(p.gn,p.Tl);}}catch(t){var q;q={error:t};}finally{try{h && !h.done && (d=n.return) && d.call(n);}finally{if(q)throw q.error;}}return l;};k.prototype.pv=function(){try{return this.Ht[0];}catch(d){}};k.prototype.aeb=function(d){var l;for(f(0 <= d,"unexpected play_for_x_sec: x=" + d);0 < d;){if(void 0 === this.pv())throw new c();if(d < this.pv().Tl){l=this.pv().gn.fB() * d;this.pv().Tl-=d;this.ii-=d;this.Jm-=l;d=0;}else (l=this.Ht.shift(),this.ii-=l.Tl,this.Jm-=l.gn.fB() * l.Tl,d-=l.Tl);}};k.prototype.n5b=function(d){var n;f(0 <= d,"unexpected play_y_kb: y=" + d);for(var l=0;0 < d;){if(void 0 === this.pv())throw new c();if(d < this.pv().Tl * this.pv().gn.fB()){n=d / this.pv().gn.fB();this.pv().Tl-=n;this.ii-=n;this.Jm-=d;l+=n;d=0;}else (n=this.Ht.shift(),this.ii-=n.Tl,this.Jm-=n.gn.fB() * n.Tl,l+=n.Tl,d-=n.gn.fB() * n.Tl);}return l;};r.exports={fGa:k,uob:c};},function(r){r.exports={cMa:{code:-1,description:"MediaCache is not supported."},glc:{code:100,description:"Resource was not found"},lsb:{code:101,description:"Resource Metadata was not found"},UL:{code:102,description:"Read failed",fs:function(b,a){return {code:this.code,description:b,cause:a};}},z4:{code:200,description:"Daily write limit exceeded"},qL:{code:201,description:"Capacity has been exceeded"},y4:{code:202,description:"Write failed, cause unknown",fs:function(b,a){return {code:this.code,description:b,cause:a};}},fmc:{code:203,description:"Write failed, cause unknown"},rpb:{code:300,description:"Failed to delete resource",fs:function(b,a){return {code:this.code,description:b,cause:a};}},VC:{code:900,description:"Invalid partition name"},Jrb:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},lHa:{code:701,description:"Failed to initialize underlying disk cache."},ksb:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(r){r.exports={i7a:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(c){var g;void 0 === c.error.code && (c.error.code=0);void 0 === c.error.description && (c.error.description="Unknown");a.forEach(function(k){c.error && c.error.code == k.error.code && c.error.description === k.error.description && (g=k);});g?g.resources.push(c.Vr):a.push({error:c.error,resources:[c.Vr]});});return a;}},c5a:function(b){var a;a={freeSize:b.Fo,dailyBytesRemaining:b.dO,bytesWritten:b.xl,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(c){return {key:c.key,operation:c.Ml,itemBytes:c.qaa,error:c.error};}));return a;},Ay:function(b){return b.catch(function(a){setTimeout(function(){throw a;},0);});}};},function(r,b,a){var c,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Gz=void 0;c=a(0);g=a(10);k=a(8);m=a(55);r=(function(){function f(d,l){this.ji=d;this.options=c.__assign({XGb:!0},l);}Object.defineProperties(f.prototype,{Lv:{get:function(){return ("trace-").concat(this.ji.source);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{re:{get:function(){return this.Lv;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return g.N;},enumerable:!1,configurable:!0}});f.prototype.Vk=function(d){var l,n;if(d.dj === m.yf.Ts || d.dj === m.yf.Zt){l=(0,k.u1a)(this.ji.RYb);n=this.ji.cWb;d.dj === m.yf.Ts && this.options.XGb && this.ji.clear();d=l;Object.keys(n).length && (d=c.__spreadArray(c.__spreadArray([],c.__read(l),!1),[n],!1));return d;}};f.prototype.xb=function(){var d;null === (d=this.ji) || void 0 === d?void 0:d.xb();};return f;})();b.Gz=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.j4=void 0;r=a(14);c=a(35);g=a(20);a=(function(){function k(m){void 0 === m && (m={fk:!1,currentTime:g.M.Ha,speed:1});this.Sc={fk:function(){return "function" === typeof m.fk?m.fk():m.fk;},currentTime:function(){return "function" === typeof m.currentTime?m.currentTime():m.currentTime;},speed:function(){return "function" === typeof m.speed?m.speed():m.speed;}};}Object.defineProperties(k.prototype,{fk:{get:function(){return this.Sc.fk();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{currentTime:{get:function(){return this.Sc.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{speed:{get:function(){return this.Sc.speed();},enumerable:!1,configurable:!0}});return k;})();b.j4=a;(0,c.Ue)(r.EventEmitter,a);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qYa=b.sV=b.$c=void 0;b.$c=function(a,c){for(var g=0;g < a.length;g++){if(c(a[g],g,a))return a[g];}};b.sV=function(a){return a.filter(function(c,g){return a.indexOf(c) === g;});};b.qYa=function(a,c){return a.filter(function(g,k){return a.indexOf(g) === k && -1 !== c.indexOf(g);});};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Rgb=b.Z5a=b.map=void 0;c=a(0);a(1125);b.map=function(g){return function(k,m){void 0 === m && (m=!1);return function(f,d,l){var n,h,p,q,t,v,w,u;t=Reflect.q6a(g,f,d) || ({});w="number" === typeof l;u=m;(v=w?null !== (h=(null !== (n=t.Db) && void 0 !== n?n:{})[l]) && void 0 !== h?h:{}:u?t.return:t.wxa) || (v={rules:[]});n=c.__assign(c.__assign(c.__assign({},v),k),{rules:c.__spreadArray(c.__spreadArray([],c.__read(null !== (p=v.rules) && void 0 !== p?p:[]),!1),c.__read(null !== (q=k.rules) && void 0 !== q?q:[]),!1)});w?(t.Db || (t.Db={}),t.Db[l]=n):u?t.return=n:t.wxa=n;Reflect.g8(g,t,f,d);};};};b.Z5a=function(g){return function(k,m){var f,d,l,n;k=null !== (n=null !== (d=null === (f=k.__proxyCtor) || void 0 === f?void 0:f.prototype) && void 0 !== d?d:null === (l=null === k || void 0 === k?void 0:k.constructor) || void 0 === l?void 0:l.prototype) && void 0 !== n?n:k;for(var h;k && void 0 === h;){h=Reflect.q6a(g,k,m);k=k.__proto__;}return h;};};b.Rgb=function(){return function(){return function(g){return g;};};};},function(r,b,a){var c,g,k,m,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.GS=void 0;c=a(0);g=a(14);k=a(2);m=a(22);f=a(10);d=0;r=(function(l){function n(h,p,q,t,v,w,u,x){p=l.call(this,("cdnList").concat(d++),p,q,t,v,w,u,"cdnList",x) || this;p.Rg=h;p.oa();return p;}c.__extends(n,l);n.prototype.oa=function(){var h;h=this;this.WM=new g.$f();this.WM.on(this.Kb.T,"skipped",function(p){h.PCa(null === p || void 0 === p?void 0:p.Uqc);});this.WM.on(this.Kb.T,"paused",function(){h.PCa();});this.WM.on(this.Kb.T,"playing",function(){h.oD=void 0;});this.WM.on(this.Kb.T,"underflow",function(){h.PCa();});};n.prototype.tx=function(h,p,q){this.WM.clear();l.prototype.tx.call(this,h,p,q);this.oa();};n.prototype.close=function(){f.N && this.console.trace("close");l.prototype.close.call(this);this.WM.clear();};n.prototype.PCa=function(h){var p;if(this.oD && (h || this.Kb.Uf) && this.Tz && (h || (h=this.Kb.jf),this.oD.greaterThan(h))){p=this.oD.Da(h);this.Tz.totalTime-=p.Z;this.oD=h;}};n.prototype.pCa=function(h){var p,q,t;if(this.t5 && this.Tz && this.oD){t=this.Tz.totalTime;this.oD.zi(h) && (h=this.oD.Da(h),t-=h.Z);t=c.__assign(c.__assign({},this.Rg),(p={},p[this.t5]=c.__assign(c.__assign({},this.Rg[this.t5]),{RA:c.__assign(c.__assign({},this.Rg[this.t5].RA),(q={},q[this.Tz.Vb]=c.__assign(c.__assign({},this.Tz),{totalTime:t}),q))}),p));f.N && this.console.trace("getting snapshot",{Anc:this.Rg,result:t});return t;}return this.Rg;};n.prototype.Fv=function(h){var p,q,t;p=h.stream;q=h.jd;t=h.Oc;(0,k.assert)(void 0 !== q);f.N && this.console.trace("Media appended",{jd:q,Oc:t});this.$ma({request:h,Glb:p.url,f3a:function(v){return this.request === v.request;}},q,t);};n.prototype.Nsa=function(h){var p,q,t,v;h=h.jw;t=h.Glb;h=h.request.stream;v=h.TP;(0,k.assert)(v,"manifestStream should exist)");v=null === (p=(0,m.$c)(v.urls,function(w){return w.url === t;})) || void 0 === p?void 0:p.Qf;p=null === (q=h.S.fa.xx) || void 0 === q?void 0:q.zm;return ("").concat(v,"::").concat(p);};n.prototype.Pqa=function(h,p){var q,t,v,w,u,x,y,z,A,B;w=this.Rg;u=h.jw;x=u.request;y=u.Glb;u=x.duration;x.jd && p.greaterThan(x.jd) && (p=p.Da(x.jd).Z,u-=p);p=x.stream;z=p.TP;if(z){A=(0,m.$c)(z.urls,function(C){return C.url === y;});A=null === A || void 0 === A?void 0:A.Qf;B=null === (q=p.S.fa.xx) || void 0 === q?void 0:q.zm;q=p.track.K;h=this.Nsa(h);w=w[h] || (w[h]={po:A,zm:B,K:q,RA:{}});this.t5=h;this.Tz=(t=w.RA)[v=z.zo] || (t[v]={bitrate:p.bitrate,Vb:z.zo,mediaType:x.mediaType,totalTime:0,eb:p.eb});this.oD=x.Oc;this.Tz.totalTime+=u;}};n.prototype.clone=function(h,p){p=void 0 === p?{}:p;h=new (p.wjb || n)(h,this.V3b,this.Kb,this.vN,this.events,this.zs,this.$d,p.priority);this.hHb(h);f.N && h.console.trace("Cloning",{Mmc:h.Jl.length});return h;};return n;})(a(269).R3);b.GS=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dd=void 0;r=b.dd || (b.dd={});r.GEb="bitraterestriction";r.VZa="cdnsel";r.SN="chgstrm";r.debug="debug";r.EMb="dlreport";r.uI="endplay";r.dva="intrplay";r.hF="midplay";r.Cca="playbackaborted";r.fgb="renderstrmswitch";r.YQ="repos";r.dR="resumeplay";r.J$b="serversel";r.OF="startplay";r.cjb="statechanged";r.transition="transition";r.pBa="segmentdropped";r.uDb="asereport";r.IYa="audioswitch";r.eZa="blockedautoplay";r.config="config";r.Aqa="dlreq";r.Foc="ftlProbeError";r.xcc="subtitleerror";r.ycc="subtitleqoe";r.xdc="timedtextrebuffer";r.okb="timedtextswitch";r.Qib="speedchanged";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cLa="IsTypeSupportedProviderFactorySymbol";b.kPa="PlatformIsTypeSupportedSymbol";},function(r,b,a){var g,k,m;function c(){this.type=g.ww.wz;}Object.defineProperty(b,"__esModule",{value:!0});b.XC=void 0;g=a(26);r=a(125);k=a(95);m=new r.PG();c.bKb=function(){return {isTypeSupported:function(f){var d;try{if(-1 == f.toLowerCase().indexOf("codec"))return mb.MSMediaKeys.isTypeSupported(f,"video/mp4");d=f.split("|");return 1 === d.length?mb.MSMediaKeys.isTypeSupported(k.Bb.Cz,f):"probably" === c.UCa(d[0],d[1]);}catch(l){return !1;}}};};c.M7=function(f,d,l){d=m.format(c.$ea,d);if(0 === l.length)return d;l=m.format('features="{0}"',l.join());return m.format("{0}|{1}{2}",f,d,l);};c.UCa=function(f,d){var l;try{l=mb.MSMediaKeys.isTypeSupportedWithFeatures?mb.MSMediaKeys.isTypeSupportedWithFeatures(f,d):"";}catch(n){l="exception";}return l;};b.XC=c;c.$ea='video/mp4;codecs="{0},mp4a";';},function(r,b){function a(c,g){var k;k=this;this.status={};c.forEach(function(m,f){k.status[m]=g[f];});}Object.defineProperty(b,"__esModule",{value:!0});b.S3=void 0;a.prototype.dP=function(){return this.status;};a.prototype.Z9=function(){return Object.entries(this.status).filter(function(c){c=ma(c);c.next();return c.next().value.supported;}).map(function(c){var g;c=ma(c);g=c.next().value;c.next();return g;});};b.S3=a;},function(r,b,a){var g,k,m,f,d,l,n;function c(h,p,q,t){var v;v=m.jG.call(this,h,p,g.u.gTa,t) || this;v.config=h;v.iq=p;v.is=q;v.cba=t;v.type=g.Rm.hz;v.jgc=f.Rd.U0a();return v;}Object.defineProperty(b,"__esModule",{value:!0});b.OC=void 0;g=a(26);k=a(42);m=a(487);r=a(125);f=a(123);d=a(249);l=a(101);n=a(281);new r.PG();ja(c,m.jG);c.prototype.QK=function(){return Promise.resolve(!1);};c.prototype.KI=function(){return Promise.resolve("");};c.prototype.E9=function(){return Promise.resolve("");};c.prototype.s0=function(){return this.config().Qqa?this.cba.mva()?this.cba.WW(k.I.SS).then(function(h){return {result:h.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.Fea=function(){return this.config().Qqa?this.cba.mva()?this.cba.WW(k.I.LS).then(function(h){return {result:h.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.t0=function(){return Promise.resolve(!1);};c.prototype.q0=function(){return Promise.resolve(!1);};c.prototype.oX=function(h){return this.jgc[h];};c.prototype.Vma=function(){};c.prototype.R_b=function(h){switch(h){case g.Cq.t3:return "1.4";case g.Cq.vG:return "2.2";}};c.prototype.Ns=function(){return d.k2.Ns();};c.prototype.C6a=function(){return (0,l.alb)(function(h,p){return h.name === p.name;},this.config().NXa,this.config().Yn);};c.prototype.GX=function(){return Promise.resolve(void 0);};c.prototype.R9=function(){return Promise.resolve(void 0);};c.prototype.L7=function(h){var p;p=[];this.is.kh(h) && p.push(this.R_b(h));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:p,isHdcpEngaged:! !p.length}];};c.prototype.XW=function(h){return this.config().k4b?Promise.resolve(new n.S3(h,h.map(function(){return {supported:!0};}))):m.jG.prototype.XW.call(this,h);};b.OC=c;c.$ea="video/mp4;codecs={0};";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gha=b.oz=void 0;r=b.oz || (b.oz={});r.svb="unknown";r.AEa="absent";r.zQa="present";r.Error="error";b.gha="ExternalDisplayLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lKa="IDBDatabaseFactorySymbol";b.RKa="IndexedDBFactorySymbol";b.TKa="IndexedDBStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.s4="TransportConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H_b=b.SP=b.F_b=void 0;b.F_b=function(a){return a;};b.SP=function(a){return a;};b.H_b=function(a){return Object.assign({},a);};},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u;function c(x,y,z,A,B,C,D,E,G,F,I,L,M,K,O,H,J,R,P,T){this.j=x;this.trackId=y;this.Xx=z;this.ec=A;this.bj=B;this.zkb=C;this.Vb=D;this.urls=E;this.Ef=G;this.displayName=F;this.Ji=I;this.OK=L;this.variant=M;this.FF=K;this.profile=O;this.Hv=H;this.pQ=J;this.tQb=R;this.haa=P;this.sv=T;this.type=f.oj.Nea;this.au=void 0;this.Hl=!(!O || O != l.Pm.LL);this.Dh={bcp47:G,trackId:y,downloadableId:D,isImageBased:this.Hl};this.log=(0,d.aj)(x,"TimedTextTrack");this.state=u.F3;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.QG=void 0;g=a(0);k=a(106);m=a(19);f=a(91);d=a(9);l=a(42);n=a(23);h=a(15);p=a(1228);q=a(16);t=a(3);v=a(1229);w=a(63);(function(x){x[x.F3=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.uG=2]="LOADED";x[x.cT=3]="LOAD_FAILED";})(u || (u={}));c.prototype.L$=function(){var x;x=this;if(this.j.state.value === q.dc.CLOSED || this.j.state.value === q.dc.CLOSING)return Promise.reject({ga:!1});if(this.Hl)return this.mXb();this.j2a || (this.j2a=this.l2a());return this.j2a.then(function(y){return x.pXb(y);});};c.prototype.getState=function(){return this.state;};c.prototype.Cr=function(){return this.pQ;};c.prototype.aq=function(){return this.tQb;};c.prototype.mv=function(x,y){var z;try{return null === (z=this.OCa) || void 0 === z?void 0:z.mv(x,y);}catch(A){this.log.error("error in getSubtitlesCount",A,{start:x,end:y,isImageBased:this.Hl});}};c.prototype.rUb=function(){var x,y,z;if(!(0,h.vd)(this.da))try{z=null === (y=null === (x=this.OCa) || void 0 === x?void 0:x.UO(0)) || void 0 === y?void 0:y[0];this.da=null === z || void 0 === z?void 0:z.displayTime;}catch(A){this.log.error("exception in getStartPts",A);}return this.da;};c.prototype.dea=function(x){return this.j.state.value === q.dc.CLOSING || this.j.state.value === q.dc.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.Tb.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.Q0a=function(x){var y,z,A;y=this;z=(0,d.aj)(this.j,"TimedTextTrack");z.warn=z.trace.bind(z);z.info=z.debug.bind(z);z=(0,p.R0a)(this.j,z,this.request,this);A=new v.default(z,x);A.on("ready",function(){y.OCa=A;});return A;};c.prototype.mXb=function(){var x,y,z,A,B,C,D;x=this;if(!this.C8a){this.state=u.LOADING;y={profile:"nflx-cmisc",url:"",OYa:!1,yxa:this.Hv.offset,pbb:this.Hv.length,Re:this.j.mediaTime.value || 0,bufferSize:m.config.FWb,Rda:{R:this.j.nX()}};z=(this.urls || []).map(function(E){return E.Qf;});A=0;B={};C=!0;D=function(E,G){var F;(0,h.vd)(E)?C || x.dea(x.kv(x.Su,"","image"))?(C=!1,x.Hv.url=null === (F=x.y9(x.Su)) || void 0 === F?void 0:F.url,y.url=x.Hv.url,B[E]=(B[E] || 0) + 1,F=x.Q0a(y),F.on("ready",function(){G({ga:!0,track:x});}),F.on("error",function(I){var L;I=Object.assign({ga:!1},I);L=x.kv(x.Su,x.Hv.url,"image");L.details={midxoffset:x.Hv.offset,midxsize:x.Hv.length};L.errorstring=I.errorString;B[E] <= m.config.mkb?(x.X8(L,!0,"retry with current cdn"),x.Qna(B[E]).then(function(M){x.log.trace("retry timed text download after " + M,x.kv(x.Su,"","image"));D(x.Su,G);})):(x.Su=z[A++],x.Su?(x.X8(L,!0,"retry with next cdn"),x.Qna(B[E]).then(function(M){x.log.trace("retry timed text download after " + M,x.kv(x.Su,"","image"));D(x.Su,G);})):(x.X8(L,!1,"all cdns tried"),G({ga:!1,F1b:"all cdns failed for image subs",track:x})));}),F.start()):G({ga:!1,aborted:!0}):(G({ga:!1,F1b:"cdnId is not defined for image subs downloadUrl"}),x.X8(x.kv(0,"","image"),!1,"cdnId is undefined"));};this.Su=z[A++];this.C8a=new Promise(function(E,G){D(x.Su,function(F){F.ga?(x.log.info("Loaded image subtitle manager"),x.state=u.uG,E(F)):(x.log.error("Unable to load image subtitles manager",F),x.state=u.cT,G(F));});});}return this.C8a;};c.prototype.pXb=function(x){var y,z;y=this;z=this.j.$F.value;(0,n.Ka)(z);return new Promise(function(A,B){var C;C=y.Q0a({profile:y.profile,xml:x,zh:m.config.nkb,preferences:m.config.gDa,Re:y.j.mediaTime.value || 0,OYa:!1,videoSize:z});C.on("ready",function(){A(C);}).on("error",function(D){B({ga:!1,error:D});}).start();}).then(function(){y.state=u.uG;return {ga:!0,track:y};}).catch(function(A){y.log.error("Unable to parse timed text track",(0,t.nz)(A),y.Dh,{url:A.url});y.state=u.cT;A.reason="parseerror";A.track=y;throw A;});};c.prototype.X8=function(x,y,z){x=Object.assign({},x,{Hsc:y,status:z});this.j.fireEvent(q.ma.GR,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,y){var z,A,B;z=this;this.log.trace("Downloading",x);B=this.y9(this.Su);x={url:x.url,offset:x.offset,length:x.size,au:this.au,responseType:k.YX,headers:{},Ac:B?{id:B.Qf}:void 0,lE:"tt-" + this.Ef,Qt:null !== (A=null === B || void 0 === B?void 0:B.type) && void 0 !== A?A:w.wT};this.j.B$.download(x,function(C){z.log.trace("imgsub: request status " + C.ga);C.ga?y(null,new Uint8Array(C.content)):y({za:C.za,Rf:C.Rf});});};c.prototype.kv=function(x,y,z){return {currentCdnId:x,url:y,profile:this.profile,dlid:this.Vb,subtitletype:z,bcp47:this.Ef,trackId:this.trackId,cdnCount:Object.keys(this.urls).length,isImageBased:this.Hl};};c.prototype.y9=function(x){return (this.urls || []).find(function(y){return y.Qf === x;});};c.prototype.l2a=function(){var A,B;function x(C){return g.__awaiter(A,void 0,void 0,function E(){var G,F,I;F=this;return Ga(E,function(L){G=z();I=F.kv(C.Ac.Qf,C.url,"text");I.errorstring=C.reason;return G && F.dea(I)?L.return(F.Qna(B[G.Qf]).then(y)):L.return(Promise.reject({ga:!1,aborted:!0}));});});}function y(){return g.__awaiter(A,void 0,void 0,function D(){var E,G,F;F=this;return Ga(D,function(I){E=z();G=null === E || void 0 === E?void 0:E.url;return E && G?(B[E.Qf]=(B[E.Qf] || 0) + 1,I.return(F.NMb(G,E).catch(x))):I.return(Promise.reject({}));});});}function z(){return (A.urls || []).find(function(C){return ! !((B[C.Qf] || 0) < m.config.mkb);});}A=this;this.state=u.LOADING;B={};return y();};c.prototype.Qna=function(x){return new Promise(function(y){var z;z=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return y(z);},z);});};c.prototype.NMb=function(x,y){var z;z=this;this.log.trace("Downloading",y && ({Ac:y.Qf}),this.kv(y.Qf,x,"text"));return new Promise(function(A,B){var C,D;D={responseType:k.vua,url:x,track:z,Ac:{id:y.Qf},lE:"tt-" + z.Ef,Qt:null !== (C=y.type) && void 0 !== C?C:w.wT};z.j.B$.download(D,function(E){E.ga?A(E.content):(E=Object.assign(Object.assign({},E),{reason:"downloadfailed",url:D.url,track:z,Ac:y}),B(E));});});};Ua.Object.defineProperties(c.prototype,{eg:{configurable:!0,enumerable:!0,get:function(){return this.zkb.eg;}},uF:{configurable:!0,enumerable:!0,get:function(){return this.zkb.uF;}}});b.QG=c;c.fD=u;},function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},vta:function(){return this.buffer.length - this.position;},bC:function(){return this.buffer[this.position++];},al:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Rr:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},cAa:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},gi:function(){return this.Rr(2);},Sr:function(){return this.Rr(4);},RQ:function(){return this.Rr(8);},Dy:function(a){for(var c,g="";a--;){c=this.bC();g+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return g;},dAa:function(a){for(var c=0,g=0;g < a;g++){c+=this.bC() << (g << 3);}return c;},QQ:function(){return this.dAa(4);},n1:function(a){this.jS(a,2);},FC:function(a){this.jS(a,4);},Dfa:function(a){this.buffer[this.position++]=a;},jS:function(a,c){this.position+=c;for(var g=1;g <= c;g++){this.buffer[this.position - g]=a & 255;a=Math.floor(a / 256);}},EC:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},m1:function(a){for(var c=a.length,g=0;g < c;g++){this.buffer[this.position++]=a[g];}},iS:function(a,c){this.m1(a.al(c));}};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OLa="LogMessageRulerConfigSymbol";b.QLa="LogMessageRulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pia="MilestonesEventBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pia="PboLicenseResponseTransformerSymbol";},function(r,b,a){var f,d,l,n,h,p;function c(q,t,v,w){this.Ba=q;this.PX=t;this.Fa=v;this.profile=w;}function g(){}function k(){}function m(){}Object.defineProperty(b,"__esModule",{value:!0});b.UOa=b.O3=void 0;r=a(0);f=a(1);d=a(29);l=a(5);n=a(12);h=a(18);a=a(79);m.prototype.encode=function(q){return {downloadableId:q.Vb,duration:q.duration};};m.prototype.decode=function(q){return {Vb:q.downloadableId,duration:q.duration};};k.prototype.encode=function(q){return {total:q.total,totalContentTime:q.ZK,totalAdDuration:q.VF,totalCombinedDuration:q.PR,totalOtherDuration:q.WF,audio:q.audio.map(new m().encode),video:q.video.map(new m().encode),text:q.text.map(new m().encode)};};k.prototype.decode=function(q){var t;return {total:q.total,ZK:null !== (t=q.totalContentTime) && void 0 !== t?t:q.total,VF:q.totalAdDuration,PR:q.totalCombinedDuration,WF:q.totalOtherDuration,audio:q.audio.map(new m().decode),video:q.video.map(new m().decode),text:q.text.map(new m().decode)};};g.prototype.encode=function(q){return {type:q.type,href:q.href,xid:q.qa,movieId:q.K,position:q.position,clientTime:q.AA,sessionStartTime:q.On,videoTrackId:q.fS,audioTrackId:q.Lp,timedTextTrackId:q.NR,mediaId:q.YP,playTimes:new k().encode(q.Bt),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.Nn,profileId:q.profileId};};g.prototype.decode=function(q){return {type:q.type,href:q.href,qa:q.xid,K:q.movieId,position:q.position,AA:q.clientTime,On:q.sessionStartTime,fS:q.videoTrackId,Lp:q.audioTrackId,NR:q.timedTextTrackId,YP:q.mediaId,Bt:new k().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,Nn:q.sessionParams,profileId:q.profileId};};b.O3=g;c.prototype.create=function(q){var t,v,w,u,x;x=Object.assign(Object.assign({},null !== (t=q.ib.Nn) && void 0 !== t?t:{}),{uiVersion:this.PX().jr.Ry});return {href:q.fa && q.fa.Aj?q.fa.Aj.XO("events").href:"",type:"online",qa:q.qa.toString(),K:q.K,position:Math.floor(q.S7 || 0),AA:this.Ba.xK.ja(l.sa),On:q.rB?q.rB.ja(l.sa):-1,fS:null === (v=q.Lh.value) || void 0 === v?void 0:v.trackId,Lp:null === (w=q.Ec.value) || void 0 === w?void 0:w.trackId,NR:null === (u=q.Tb.value) || void 0 === u?void 0:u.trackId,YP:void 0,Bt:this.HX(q),trackId:void 0 !== q.ml?q.ml.toString():"",sessionId:this.PX().sessionId || this.Fa.id,appId:this.PX().appId || this.Fa.id,Nn:x,profileId:this.profile};};c.prototype.load=function(q){return new g().decode(q);};c.prototype.rta=function(q){return q.map(function(t){return {Vb:t.downloadableId,duration:t.duration};});};c.prototype.HX=function(q){return (q=q.Am)?(q=q.GTb(),{total:q.total,ZK:q.totalContentTime,VF:q.totalAdDuration,WF:q.totalOtherDuration,PR:q.totalCombinedDuration,audio:this.rta(q.audio),video:this.rta(q.video),text:this.rta(q.timedtext)}):{total:0,ZK:0,VF:0,PR:0,WF:0,video:[],audio:[],text:[]};};p=c;p=r.__decorate([(0,f.aa)(),r.__param(0,(0,f.l)(d.Nh)),r.__param(1,(0,f.l)(n.Lc)),r.__param(2,(0,f.l)(h.cd)),r.__param(3,(0,f.l)(a.TL))],p);b.UOa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Oa="PboPlaydataValidatorSymbol";b.ROa="PboPlaydataArrayValidatorSymbol";b.TOa="PboPlaydataCollectionValidatorSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Xha=void 0;b.Xha=a;a.upb="display";a.Lob="console";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oja=b.SL=void 0;r=b.SL || (b.SL={});r.Zcc="taskstart";r.Xcc="taskabort";r.Ycc="taskfail";r.$cc="tasksuccess";b.oja="PreparerTaskSchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cga="CacheManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sFa="AsePrefetcherAdapterSymbol";b.tFa="AsePrefetcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sia="PboPublisherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$fa=b.yf=void 0;r=b.yf || (b.yf={});r[r.Tt=0]="startPlayback";r[r.Ts=1]="endPlayback";r[r.Zt=2]="underflow";b.$fa="AseIntegrationFactorySymbol";},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.MK=void 0;c=a(17);g=a(19);k=a(64);m=a(60);f=a(3);d=a(23);l=a(9);n=a(25);h=a(13);p=a(301);q=a(15);r=a(34);l.Ea.get(r.mj).register(f.$.zKa,function(t){var u,x,y;function v(){var z;v=c.Jw;z=setInterval(w,g.config.i_b);k.nf.addListener(k.Lo,function(A){A && A.isPopStateEvent?u.trace("popstate event, Lock timers can stay"):((0,n.ph)(x,function(B,C){localStorage.removeItem(C.st);}),clearInterval(z));},c.OL);}function w(){var z;z=(0,m.jpa)();(0,n.ph)(x,function(A,B){!1;A=localStorage.getItem(B.st);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:y,count:1};localStorage.setItem(B.st,JSON.stringify(A));});}(0,d.Ka)(p.storage);u=(0,l.ck)("StorageLock");x={};y=Date.now() + "-" + Math.floor(1E6 * Math.random());b.MK={nx:function(z,A,B){var D,E,G,F,I,L,M,K,O,H;function C(J){localStorage.setItem(G,JSON.stringify(J));J={st:G};x[G]=J;u.trace("Lock acquired",{Name:J.st});v();A({ga:!0,Kaa:J});}D=this;B=void 0 === B?!1:B;if(localStorage){E=(0,m.jpa)();G="lock-" + z;F={updated:E,sessionId:y,count:1};try{if((G in localStorage)){I=localStorage.getItem(G);L=0;M=JSON.parse(I);(0,q.YE)(M.updated) && (L=M.updated);K=(0,h.x3)(E - L) * c.lu;O=y === M.sessionId;if(K < g.config.N$a){if(O)(M.count+=1,u.debug("Incremented lock count for existing playbackSession",{id:y,count:M.count}),M.updated=E,C(M));else if(B){H=g.config.N$a - K + c.lu;u.error("Waiting until current expiration to confirm whether lock is still active",{id:y,count:M.count,Epoch:E,LockEpoch:L,waitTimeoutMs:H});mb.setTimeout(function(){return D.nx(z,A,!1);},H);}else A({ga:!1});}else (u.error("Lock was expired or invalid, ignoring",{Epoch:E,LockEpoch:L}),C(F));}else C(F);}catch(J){u.error("Error acquiring Lock",{errorSubCode:f.X.Mm,errorDetails:(0,n.cf)(J)});A({ga:!0});}}else (h.swa?u.error("Local storage access exception",{errorSubCode:f.X.Tub,errorDetails:(0,n.cf)(h.swa)}):u.error("No localstorage",{errorSubCode:f.X.Uub}),A({ga:!0}));},release:function(z,A){var B,C;(0,d.Ka)(x[z.st] == z);if(localStorage){try{B=localStorage.getItem(z.st);C=JSON.parse(B);C && 1 < C.count?(--C.count,localStorage.setItem(z.st,JSON.stringify(C)),u.trace("Lock count decremented",{Name:z.st,count:C.count})):(localStorage.removeItem(z.st),delete x[z.st],u.trace("Lock released",{Name:z.st}));}catch(D){u.error("Unable to release Lock",{Name:z.st},D);}A && A(c.Zg);}}};g.config.C8?b.MK.nx("session",function(z){b.MK.Chb=z;t(c.Zg);}):t(c.Zg);});},function(r,b,a){var c,g,k,m,f,d;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(19);g=a(17);k=a(561);r=a(3);m=a(562);f=a(564);d=a(9);a=a(34);b.storage=b.storage || void 0;d.Ea.get(a.mj).register(r.$.yKa,function(l){var n;switch(c.config.Zbc){case "idb":n=m.hjb;break;case "none":n=k.jjb;break;case "ls":n=f.ijb;}n(function(h){h.ga?(b.storage=h.storage,l(g.Zg)):l(h);});});},function(r,b,a){var k,m,f,d,l,n,h,p,q,t,v,w;function c(u,x){var z;function y(){function A(B,C){return C.Pe && 0 !== C.Pe.length && C.Pe[0].pJ?(0,k.dC)(u,C).then(function(){z.trace("Successfully released license for session",JSON.stringify(C));return B?B.v_(C):Promise.resolve();}).catch(function(D){z.error("Unable to send stop command for session",JSON.stringify({jc:C,error:D}));throw D;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.v_(C):Promise.resolve());}g(z).then(function(B){var C;C=B.u8.filter(function(D){return !1 === D.active;}).map(function(D){return A(B,D);});Promise.all(C).then(function(){z.info("release drm session completed for " + C.length + " entries");x(m.Zg);}).catch(function(D){D=D || ({});D.DrmCacheSize=C.length;z.error("Unable to release one or more DRM session data",D);x(m.Zg);});}).catch(function(B){z.error("Unable to load DRM session data",B);x(m.Zg);});}z=(0,n.ck)("PlayDataManager");x=x || m.Jw;f.config.bu?x(m.Zg):y();}function g(u){var x;if(!b.Dqa){x=n.Ea.get(h.Dga);b.Dqa=new Promise(function(y,z){x.rfb().then(function(){y(x);}).catch(function(A){u.error("Unable to load DRM data for license release",A);z(A);});});}return b.Dqa;}Object.defineProperty(b,"__esModule",{value:!0});b.mPa=b.lPa=b.Dqa=void 0;k=a(303);m=a(17);f=a(19);d=a(64);l=a(47);n=a(9);r=a(3);h=a(221);p=a(151);q=a(16);t=a(50);v=a(34);w=a(217);b.lPa=function(u){var z,A,B,C,D,E;function x(){A || (u.Qe("pdsb"),A=n.Ea.get(p.BT)().then(function(G){C=G;u.Qe("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);u.Qe("pdse");throw G;}));return A;}function y(){B=!0;C && C.close();d.nf.removeListener(d.Lo,y);}z=(0,n.aj)(u,"PlayDataManager");B=!1;D=n.Ea.get(l.Q3);if(!D.yL || !D.wL){E=n.Ea.get(w.Yia)();D.yL=E.jc;D.wL=E.request;}u.Qe("pdctor");u.addEventListener(q.ma.ih,function(){d.nf.removeListener(d.Lo,y);});u.addEventListener(q.ma.HY,function(){var G;if(!f.config.bu && u.bf){G=u.G7.v0a();g(z).then(function(F){return F.rXa(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});u.addEventListener(q.ma.ih,function(){var G;if(!B){u.pgc();G=[(function(){return f.config.bu || !u.bf?Promise.resolve():new Promise(function(F){var I;z.info("Sending the expedited playdata");I=u.G7.v0a();u.bf.o3a(I).then(function(){z.info("Sent the expedited playdata");return g(z);}).then(function(L){return L?L.v_(I):Promise.resolve();}).then(function(){F(void 0);}).catch(function(L){z.error("Unable to send the expedited playdata",L);F();});});})(),(function(){return x().then(function(F){return F.n0(u.na);}).then(function(){z.info("Sent the playdata");}).catch(function(F){z.error("Unable to send the playdata",F);});})(),(function(){return new Promise(function(F){n.Ea.get(t.ao).flush(!1).catch(function(){z.error("Unable to send logblob");F(void 0);}).then(function(){F(void 0);});});})()];Promise.all(G).then(function(){u.Rba();}).catch(function(){u.Rba();});}});d.nf.addListener(d.Lo,y);return {};};b.mPa=function(){return new Promise(function(u){c({},function(x){u(x);});});};n.Ea.get(v.mj).register(r.$.UC,function(u){u(m.Zg);});},function(r,b,a){var k,m,f,d,l,n,h,p;function c(q){this.j=q;this.w$a=!1;this.log=(0,m.aj)(this.j,"Playback");this.NP=m.Ea.get(h.dT);(0,f.Ka)(k.config);k.config.bu || (this.XMb=m.Ea.get(d.WHa));}function g(q,t){var w;function v(u){return u && 0 < u.length && u[0].pJ;}w=m.Ea.get(h.dT);return q.qa && v(q.Pe)?w.release({qa:q.qa,Pe:q.Pe}).then(function(){}):t.qa && v(t.Pe)?w.release(t).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.dC=b.cHa=void 0;k=a(19);m=a(9);f=a(23);d=a(333);l=a(61);n=a(15);h=a(202);p=a(16);c.prototype.LI=function(q){var t;t=this;return new Promise(function(v,w){var u,x,y;u=l.jp.n0a(q.Dg);x=q.Nk.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,m.rA)(z.data)};});y=t.j.ITb(q.Nk[0].sessionId);t.NP.nx({Ug:y.Ug,Dg:n.is.oo(q.Dg)?q.Dg:u,t8:[y.om],Nk:x,qa:y.qa,Ao:q.Ao,Aj:y.fa.Aj}).then(function(z){t.j.Pe=z.Pe;v(z);t.WPb(y);}).catch(w);});};c.prototype.release=function(q){return g(this.j,q);};c.prototype.v0a=function(){var q;q=this.XMb.create();q.Pe=this.j.Pe;q.qa=this.j.qa;q.K=this.j.K;return q;};c.prototype.WPb=function(q){this.w$a || (this.w$a=!0,this.j.fireEvent(p.ma.HY,{K:q.K}));};b.cHa=c;b.dC=g;},function(r,b,a){var k,m,f,d,l,n,h,p,q,t,v,w;function c(u){u=Error.call(this,u);this.message=u.message;("stack" in u) && (this.stack=u.stack);this.name="CodecSwitchingError";}function g(u,x,y,z){var A,B;A=this;this.j=u;this.type=x;this.log=z;this.q5=new f.cc(!1);this.bH={data:[],state:"",operation:""};this.mimeType=this.r3a((this.type === w.u.J?this.j.Lh.value:this.j.Ec.value).streams);this.rl=new d.yk();this.Ila={Type:this.type};if(m.config.cF){B=!0;this.Pra=new f.cc(!1);}this.log.trace("Adding source buffer",this.Ila,{TypeId:this.mimeType});this.Dd=y.addSourceBuffer(this.mimeType);this.Dd.addEventListener("updatestart",function(){!1;A.bH.state="updatestart";});this.Dd.addEventListener("update",function(){!1;A.bH.state="update";});this.Dd.addEventListener("updateend",function(){var C;!1;A.q5.set(!1);A.YTa && A.YTa();A.bH.state="updateend";C=0;try{C=A.Dd.buffered.length;}catch(D){}B && C && (B=!1,A.Pra.set(!0),!1);});this.Dd.addEventListener("error",function(C){var D;!1;try{D=C.target.error && C.target.error.message;(C.message || D) && z.error("error event received on sourcebuffer",{mediaErrorMessage:C.message});}catch(E){}u.Md(n.$.Vtb,(0,k.G9)(A.type));});this.Dd.addEventListener("abort",function(){!1;});u.addEventListener(q.ma.closed,function(){A.Dd=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.Uob=b.mia=void 0;k=a(177);m=a(19);f=a(69);d=a(70);l=a(9);a(99);n=a(3);a(5);h=a(23);p=a(15);q=a(16);t=a(163);v=a(207);w=a(49);g.prototype.yi=function(){return this.q5.value;};g.prototype.updating=function(){return this.Dd?this.Dd.updating:!1;};g.prototype.$da=function(u){this.YTa=u;};g.prototype.Csa=function(){return this.bH;};g.prototype.buffered=function(){return this.Dd.buffered;};g.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};g.prototype.toJSON=function(){return {type:this.type};};g.prototype.w9=function(){var u,x,y,z,A,B,C;try{u=this.Dd.buffered;x=0;if(u){y=[];z=0;A=u.length;for(z=0;z < A;z++){B=u.start(z);C=u.end(z);x+=C - B;(0,h.Ka)(C > B);y.push(B + "-" + C);}}if(y)return {Buffered:x.toFixed(3),Ranges:y.join("|")};}catch(D){}};g.prototype.fYa=function(u,x){!1;try{(0,h.Ka)(this.Dd.buffered && 1 >= this.Dd.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.w9()));}catch(y){}(0,h.Ka)(!this.yi());this.pib("append",u);x=x && x.Wv / 1E3;(0,p.Oa)(x) && this.Dd.timestampOffset !== x && (!1,this.Dd.timestampOffset=x);this.Dd.appendBuffer(u);!1;this.q5.set(!0);};g.prototype.remove=function(u,x){(0,h.Ka)(!this.yi());try{this.pib("remove");!1;this.Dd.remove(u,x);this.q5.set(!0);}catch(y){this.log.error("SourceBuffer remove exception",y,this.Ila);}};g.prototype.pib=function(u,x){this.bH.data=x || [];this.bH.state="init";this.bH.operation=u;};g.prototype.VBa=function(u,x){this.rZb=Math.floor(u / x * 1E3);};g.prototype.gGb=function(u){var x;if(this.Dd){if((u=this.r3a([{type:this.NHb,af:u}]),u !== this.mimeType)){x=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + u);if(!this.Dd.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Dd.changeType(u);this.mimeType=u;}catch(y){throw (this.log.error("Error changing SourceBuffer type",y,this.Ila,{From:x,To:u}),new c(y.message));}}}else this.log.info("No SourceBuffer");};g.prototype.appendBuffer=function(u,x){!x || x.Fc?this.una(u,x):this.L6(u,x);return !0;};g.prototype.una=function(u,x){this.j.tf.una(this,u,x || ({}));};g.prototype.L6=function(u,x){u=this.IHb(u,x);!1;this.j.tf.L6(u);};g.prototype.IHb=function(u,x){var y;y=this.rZb || 0;return {RGb:function(){this.response=void 0;},$h:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:v.Dc.Xc.DONE,$B:x.da,By:x.da + x.duration,qn:x.duration,Wv:y,Pk:x.Pk,Y:x.Y,Pa:x.Pa,tc:+x.tc,location:x.location,KN:x.offset,IN:x.offset + x.ea - 1,bitrate:x.bitrate,response:u,w7a:u && 0 < u.byteLength,VE:!0,get Fc() {return !this.VE;},jhb:this.Ek - y || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.Y,isHeader:this.Fc,ptsStart:this.$B,ptsOffset:this.Wv,responseType:this.ymc,duration:this.qn,readystate:this.si};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};g.prototype.endOfStream=function(){var u;this.j.IH("EndOfStream");null === (u=this.j.tf) || void 0 === u?void 0:u.qZ(this.mediaType);};g.prototype.Uib=function(u){this.LAb=u;};g.prototype.addEventListener=function(u,x,y){this.rl.addListener(u,x,y);};g.prototype.removeEventListener=function(u,x){this.rl.removeListener(u,x);};g.prototype.r3a=function(u){var x;x=l.Ea.get(t.KT);return this.type === w.u.J?x.Q7(u):x.K7(u);};Ua.Object.defineProperties(g.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},Vib:{configurable:!0,enumerable:!0,get:function(){return this.LAb;}},NHb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.mia=g;ja(c,Error);b.Uob=c;},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.Z0a=b.Nwa=void 0;c=a(23);g=a(25);k=a(15);(function(){var f,d,l;function m(n){(0,c.Ka)(void 0 !== f[n]);return f[n];}f={'"':'""',"\r":"","\n":" "};d=/["\r\n]/g;l=/[", ]/;b.Z0a=function(n){return (0,k.vd)(n)?(0,k.Oa)(n)?n:(0,k.Cg)(n)?n.replace(d,m):(0,k.W8a)(n)?n:isNaN(n)?"NaN":"":"";};b.Nwa=function(n){var h,p;h=b.Z0a;p="";(0,g.ph)(n,function(q,t){q=h(q) + "=" + h(t);l.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ak=void 0;r=b.Ak || (b.Ak={});r[r.Pib=1]="sourceopen";r[r.hr=2]="currentTimeChanged";r[r.O_=3]="seeked";r[r.v$a=5]="licenseadded";r[r.Nib=6]="sourceBuffersAdded";r[r.cca=7]="onNeedKey";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Anb={Hmc:"adStart",mXa:"adProgress",Fmc:"adComplete"};b.CEa={u6:"adBreakComplete"};b.GEa="AdImpressionLoggerrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tfa="AdEventPboCommandSymbol";b.Sfa="AdBreakEventPboCommandSymbol";},function(r,b){function a(){var c;c=this;this.FP=!1;this.trace=[];this.eO=function(){c.k3a.Wl(function(){c.$D();});};}Object.defineProperty(b,"__esModule",{value:!0});b.yq=void 0;a.prototype.start=function(c){var g;g=this;this.j=c;this.ug=this.j.Go();this.FP || (this.ug.$m.addListener(this.$D),this.j.addEventListener("closing",function(){return g.unsubscribe();}),this.FP=!0);};a.prototype.unsubscribe=function(){this.ug.$m.removeListener(this.$D);this.FP=!1;this.trace=[];};b.yq=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lja="PlaygraphManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nja="PlaygraphVideoPlayerFactorySymbol";},function(r,b,a){var g,k;function c(m,f){var d;d=this;this.Ij=m;this.Fh=f;this.addEventListener=function(l,n,h){return d.Fh.addListener(l,d.t1a(l,n),h);};this.removeEventListener=function(l,n){return d.Fh.removeListener(l,d.t1a(l,n));};this.getReady=function(){return d.Fh.isReady();};this.getXid=function(){return d.Fb().ov();};this.getMovieId=function(){return d.Fb().j6a();};this.getPlaygraphId=function(){return d.Fh.KTb();};this.getElement=function(){return d.Fh.Ho();};this.isPlaying=function(){return d.Fb().Dr();};this.isPaused=function(){return d.Fb().qY();};this.isMuted=function(){return d.Fb().tva();};this.isReady=function(){return d.Fb().isReady();};this.isBackground=function(){return d.Fb().V8a();};this.setBackground=function(l){return d.Fb().GBa(l);};this.startInactivityMonitor=function(){return d.Fb().AR();};this.setTransitionTime=function(l){return d.Fb().WBa(l);};this.getDiagnostics=function(){return d.Fb().k5a();};this.getTextTrackList=function(l){return d.Fb().Nta(l);};this.getMaxRecommendedTextIndex=function(l){return d.Fb().$sa(l);};this.getTextTrack=function(){return d.Fb().Mta();};this.setTextTrack=function(l){return d.Fb().RBa(l);};this.getVolume=function(){return d.Fb().f7a();};this.isEnded=function(){return d.Fb().jva();};this.getBusy=function(){return d.Fb().yi();};this.getError=function(){return d.Fb().getError();};this.getCurrentTime=function(){return d.Fb().ZA();};this.getAdManager=function(){return d.Fb().Go();};this.getLivePlaybackManager=function(){var l;l=d.Fb().jv();(0,k.Ka)(l,"Unexpected call to getLivePlaybackManager()");if(l.Ya)return {seekToLiveEdge:function(){return l.ihb();},isAtLiveEdge:function(){return l.T8a();},getLiveEventState:function(n){return l.Ysa(n);},isLiveEventEnded:function(){return l.sva();}};};this.getBufferedTime=function(){return d.Fb().Q4a();};this.getSegmentTime=function(){return d.Fb().A9();};this.getDuration=function(){return d.Fb().Asa();};this.getVideoSize=function(){return d.Fb().e7a();};this.getAudioTrackList=function(){return d.Fb().H4a();};this.getMaxRecommendedAudioIndex=function(){return d.Fb().d6a();};this.getAudioTrack=function(){return d.Fb().G4a();};this.getTimedTextTrackList=function(l){return d.Fb().Nta(l);};this.getMaxRecommendedTimedTextIndex=function(l){return d.Fb().$sa(l);};this.getTimedTextTrack=function(){return d.Fb().Mta();};this.getAdditionalLogInfo=function(){return d.Fb().C4a();};this.getTrickPlayFrame=function(l){return d.Fb().b7a(l);};this.getSessionSummary=function(){return d.Fb().Dta();};this.getTimedTextSettings=function(){return d.Fb().LX();};this.setMuted=function(l){return d.Fb().Vhb(l);};this.setVolume=function(l){return d.Fb().kib(l);};this.getPlaybackRate=function(){return d.Fb().Ys();};this.setPlaybackRate=function(l){return d.Fb().Xhb(l);};this.setAudioTrack=function(l){return d.Fb().Fhb(l);};this.setTimedTextTrack=function(l){return d.Fb().RBa(l);};this.setTimedTextSettings=function(l){return d.Fb().rR(l);};this.prepare=function(){return d.Fb().ZJ();};this.load=function(){return d.Fb().load();};this.close=function(l){return d.jYa(d.Fh.close(),l);};this.play=function(){return d.Fb().play();};this.pause=function(){return d.Fb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(l,n){return d.jYa(d.Fb().zO(l),n);};this.induceError=function(l){return d.Fb().s8a(l);};this.loadCustomTimedTextTrack=function(l,n,h,p){return d.Fb().E$a(l,n,h,p);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return d.Fb().B9();};this.generateScreenshots=function(l){return d.Fb().x4a(l);};this.getCurrentSegmentId=function(){return d.Fh.g5a();};this.getPlaygraphMap=function(){return d.Fh.TI();};this.updatePlaygraphMap=function(l){return d.Fh.kw(l);};this.ira=new Map();this.log=(0,g.ck)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.w4=void 0;g=a(9);a(99);k=a(23);c.prototype.Fb=function(){return this.Fh.Fb();};c.prototype.t1a=function(m,f){var d;this.ira.has(m) || this.ira.set(m,new Map());d=this.ira.get(m);d.has(f) || d.set(f,this.sLb(m,f));return d.get(f);};c.prototype.sLb=function(m,f){var d;d=this;return function(l){return f(Object.assign({},l,{type:m,target:d}));};};c.prototype.jYa=function(m,f){return f?m.then(f,f):m;};b.w4=c;},function(r,b,a){b=a(128);r.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.ia:Date.now;},function(r){r.exports={fz:{Yja:0,gRa:1,am:2,name:["transient","semiTransient","permanent"]},bz:{WIa:0,fRa:1,e4:2,yT:3,zz:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},cmc:{Rlc:0,Rjc:1,fic:2,zz:100,name:["trailer","montage","content"]},Dw:{iLa:0,LQa:1,rvb:2,Tpb:3,zz:100,name:["left","right","up","down"]},bT:{Qob:0,e4:1,zjc:2,Uic:3,Ahc:4,yjc:5,Jnb:6,zz:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},DL:{yT:0,jHa:1,zz:100,name:["playFocused","detailsOpened"]}};},function(r,b,a){var c,g,k,m,f,d;c=a(600);g="function" === typeof Symbol && "symbol" === typeof Symbol("foo");k=Object.prototype.toString;m=Array.prototype.concat;f=Object.defineProperty;b=a(317)();d=f && b;r.exports=function(l,n){var h,p,t,v,w,u;h=2 < arguments.length?arguments[2]:{};p=c(n);g && (p=m.call(p,Object.getOwnPropertySymbols(n)));for(var q=0;q < p.length;q+=1){t=l;v=p[q];w=n[p[q]];u=h[p[q]];if(!((v in t)) || "function" === typeof u && "[object Function]" === k.call(u) && u())d?f(t,v,{configurable:!0,enumerable:!1,value:w,writable:!0}):t[v]=w;}};},function(r){var b;b=Object.prototype.toString;r.exports=function(a){var c,g;c=b.call(a);g="[object Arguments]" === c;g || (g="[object Array]" !== c && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return g;};},function(r,b,a){var g;function c(){if(g)try{return (g({},"a",{value:1}),!0);}catch(k){}return !1;}g=a(43)("%Object.defineProperty%",!0);c.uVb=function(){if(!c())return null;try{return 1 !== g([],"length",{value:1}).length;}catch(k){return !0;}};r.exports=c;},function(r,b,a){var c,g;c="undefined" !== typeof Symbol && Symbol;g=a(319);r.exports=function(){return "function" !== typeof c || "function" !== typeof Symbol || "symbol" !== typeof c("foo") || "symbol" !== typeof Symbol("bar")?!1:g();};},function(r){r.exports=function(){var b,a,c;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");c=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(c))return !1;b[a]=42;for(a in b){return !1;}if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;c=Object.getOwnPropertySymbols(b);return 1 !== c.length || c[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},function(r,b,a){var c,g,k,m,f,d;c=a(605);g=a(606);k=a(607);m=a(169);f=a(323);d=a(616);r.exports=function(l){l=k(l);return m(l) || 0 === l?0:f(l)?d(l) * g(c(l)):l;};},function(r){var a,c,g,k,m,f,d,l;function b(n){var h;try{h=a.call(n);return m.test(h);}catch(p){return !1;}}a=Function.prototype.toString;c="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof c && "function" === typeof Object.defineProperty)try{g=Object.defineProperty({},"length",{get:function(){throw k;}});k={};c(function(){throw 42;},null,g);}catch(n){n !== k && (c=null);}else c=null;m=/^\s*class\b/;f=Object.prototype.toString;d="function" === typeof Symbol && ! !Symbol.toStringTag;l="object" === typeof document && "undefined" === typeof document.all && void 0 !== document.all?document.all:{};r.exports=c?function(n){if(n === l)return !0;if(!n || "function" !== typeof n && "object" !== typeof n)return !1;if("function" === typeof n && !n.prototype)return !0;try{c(n,null,g);}catch(h){if(h !== k)return !1;}return !b(n);}:function(n){var h;if(n === l)return !0;if(!n || "function" !== typeof n && "object" !== typeof n)return !1;if("function" === typeof n && !n.prototype)return !0;if(d){try{if(b(n))h=!1;else (a.call(n),h=!0);}catch(p){h=!1;}return h;}if(b(n))return !1;n=f.call(n);return "[object Function]" === n || "[object GeneratorFunction]" === n;};},function(r,b,a){var c;c=a(319);r.exports=function(){return c() && ! !Symbol.toStringTag;};},function(r){var b;b=Number.isNaN || (function(a){return a !== a;});r.exports=Number.isFinite || (function(a){return "number" === typeof a && !b(a) && Infinity !== a && -Infinity !== a;});},function(r,b,a){r.exports=a(321);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);r=(function(){function g(){}g.prototype.d5a=function(k){var m;m=Reflect.getMetadata(c.Cia,k);k=Reflect.getMetadata(c.lSa,k);return {O_a:m,Gfc:k || ({})};};g.prototype.RTb=function(k){return Reflect.getMetadata(c.mSa,k) || [];};return g;})();b.oia=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);b.z9a=function(g){return g instanceof RangeError || g.message === c.Oub;};},function(r,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);g=a(41);k=a(66);m=a(94);r=(function(){function f(d){this.lwb=d;}f.prototype.Cec=function(){return this.lwb();};return f;})();b.Oha=r;b.l=function(f){return function(d,l,n){var h;if(void 0 === f)throw Error(c.pvb(d.name));h=new k.Metadata(g.$S,f);"number" === typeof n?m.RK(d,l,n,h):m.y0(d,l,h);};};},function(r,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);g=a(109);k=a(66);m=a(651);r=(function(){function f(d,l,n,h){this.id=g.id();this.type=d;this.sh=n;this.name=new m.qub(l || "");this.Hc=[];d=null;"string" === typeof h?d=new k.Metadata(c.YC,h):h instanceof k.Metadata && (d=h);null !== d && this.Hc.push(d);}f.prototype.D7a=function(d){for(var l=0,n=this.Hc;l < n.length;l++){if(n[l].key === d)return !0;}return !1;};f.prototype.isArray=function(){return this.D7a(c.yG);};f.prototype.b0b=function(d){return this.Ywa(c.yG)(d);};f.prototype.uva=function(){return this.D7a(c.YC);};f.prototype.Gva=function(){return this.Hc.some(function(d){return d.key !== c.$S && d.key !== c.yG && d.key !== c.A3 && d.key !== c.NT && d.key !== c.YC;});};f.prototype.o9a=function(){return this.Ywa(c.INa)(!0);};f.prototype.mTb=function(){return this.uva()?this.Hc.filter(function(d){return d.key === c.YC;})[0]:null;};f.prototype.WRb=function(){return this.Gva()?this.Hc.filter(function(d){return d.key !== c.$S && d.key !== c.yG && d.key !== c.A3 && d.key !== c.NT && d.key !== c.YC;}):null;};f.prototype.Ywa=function(d){var l;l=this;return function(n){var q;for(var h=0,p=l.Hc;h < p.length;h++){q=p[h];if(q.key === d && q.value === n)return !0;}return !1;};};return f;})();b.o4=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(215);g=a(216);r=(function(){function k(m){this.Mc=m;this.VT=new g.qga(this.Mc);this.xka=new c.L1(this.Mc);}k.prototype.when=function(m){return this.VT.when(m);};k.prototype.k1=function(){return this.VT.k1();};k.prototype.my=function(m){return this.xka.my(m);};return k;})();b.fG=r;},function(r,b,a){var k;function c(m){return function(f){function d(l){return null !== l && null !== l.target && l.target.Ywa(m)(f);}d.jbb=new k.Metadata(m,f);return d;};}function g(m,f){m=m.TB;return null !== m?f(m)?!0:g(m,f):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(41);k=a(66);b.Lkb=g;b.Qjb=c;a=c(r.YC);b.Tbb=a;b.Ukb=function(m){return function(f){var d;if(null !== f){d=f.HV[0];return "string" === typeof m?d.sh === m:m === f.HV[0].xn;}return !1;};};},function(r,b,a){var k;function c(m,f){this.Xg=f;this.AB=Math.floor(m);this.display=this.AB + " " + this.Xg.name;}function g(m,f,d){this.Xg=m;this.name=f;this.$q=d?d:this;(0,k.fq)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.pu=b.OT=void 0;k=a(54);g.prototype.RW=function(m){return this.Xg == m.Xg;};g.prototype.toJSON=function(){return this.name;};b.OT=g;c.prototype.ja=function(m){return this.Xg.RW(m)?this.AB:Math.floor(this.AB * this.Xg.Xg / m.Xg);};c.prototype.web=function(m){return this.Xg.RW(m)?this.AB:this.AB * this.Xg.Xg / m.Xg;};c.prototype.as=function(m){return new c(this.ja(m),m);};c.prototype.to=function(m){return new c(this.ja(m),m);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.AB,units:this.Xg.name};};c.prototype.add=function(m){return this.H_a(m);};c.prototype.Da=function(m){return this.H_a(m,function(f){return -f;});};c.prototype.scale=function(m){return new c(this.ja(this.Xg.$q) * m,this.Xg.$q);};c.prototype.lm=function(m){return this.ja(this.Xg.$q) - m.ja(this.Xg.$q);};c.prototype.RW=function(m){return 0 == this.lm(m);};c.prototype.J9a=function(){return 0 == this.AB;};c.prototype.vva=function(){return 0 > this.AB;};c.prototype.qYb=function(){return 0 < this.AB;};c.prototype.H_a=function(m,f){f=void 0 === f?function(d){return d;}:f;return new c(this.ja(this.Xg.$q) + f(m.ja(this.Xg.$q)),this.Xg.$q);};b.pu=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jPa="PlatformConfigOverridesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WHa="DrmDataFactorySymbol";},function(r,b,a){var g;function c(k,m,f,d,l){this.version=k;this.RJ=m;this.DCa=f;this.oq=d;this.iw=l;this.Xl=new g.LKa(k,m,f,d,l);this.dn=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Eha=void 0;g=a(682);c.prototype.load=function(k){var m;m=this;return this.Xl.load(k).then(function(){var f;m.dn=null !== (f=m.Xl.dn) && void 0 !== f?f:[];});};c.prototype.add=function(k){this.dn.push(k);return this.Xl.set(this.dn);};c.prototype.remove=function(k,m){k=this.U4a(this.RO(k,m));return 0 <= k?(this.dn.splice(k,1),this.Xl.set(this.dn)):Promise.resolve();};c.prototype.update=function(k,m){m=this.U4a(this.RO(k,m));return 0 <= m?(this.dn[m]=k,this.Xl.set(this.dn)):Promise.resolve();};c.prototype.RO=function(k,m){for(var f=0;f < this.dn.length;++f){if(m(this.dn[f],k))return this.dn[f];}};c.prototype.U4a=function(k){return k?this.dn.indexOf(k):-1;};b.Eha=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wTa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.$Ia=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.pPa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SG=void 0;r=b.SG || (b.SG={});r[r.Request=0]="Request";r[r.PQa=1]="Renewal";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.i4=void 0;a.UWb=function(c){return "ID" + (c + 1);};a.tjb=function(c){return Number(c.substr(2)) - 1;};b.i4=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.w3='video/mp4; codecs="avc1.640028"';b.v3='audio/mp4; codecs="mp4a.40.5"';b.Fic="DrmTraitsSymbol";},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u;function c(x,y,z,A,B,C){var D;D=this;this.Fa=y;this.RD=z;this.config=A;this.Gt=B;this.KB=C;this.keyStatuses=new p.cc({});this.rya=function(E){var G,F,I,L,M,K;try{F=D.Km.Ipa(E);I=F.xJ;L=F.messageType;M=F.sessionId;D.Zx=D.Zx || F.Zx;D.V_(M);D.log.trace("Received " + E.type + " event",{sessionId:M,messageType:L,keyIds:D.Zx});if(L === b.dia){if(D.config.xqa){D.log.trace("Disabling license renewal");return;}D.log.trace("Received a renewal request");D.Dg=m.Ni.Fq;D.Ml=v.eK;}D.Ml === v.Ch && D.Xq(f.iu.Ffb);D.Ml === v.eK && D.Xq(f.iu.Gfb);K={Nk:I,XZa:L,Dg:D.Dg};null === (G=D.Rcb) || void 0 === G?void 0:G.call(D,K);D.FY && (D.dua(I)?D.$E(new h.od(k.$.nIa)):(D.FY.resolve(K),D.FY=void 0));}catch(O){D.$E(O);}};this.pya=function(E){var G,F,I,L,M,H,J,R,P,T,V,S,ra,ua,Aa,Ha,N;F=E.target;I=F.keyStatuses;D.V_(F.sessionId);D.log.trace("Received event: " + E.type);try{M=null === (G=D.context) || void 0 === G?void 0:G.vaa;E=[];for(var K=ma(I),O=K.next();!O.done;O=K.next()){H=ma(O.value);J=H.next().value;R=H.next().value;P=D.RD.encode(new Uint8Array(J));E.push({bq:P,status:R,height:null === M || void 0 === M?void 0:M[P]});}E.sort(function(Q,U){return (Q.height || 0) - (U.height || 0);});T=E.map(function(Q){return Q.bq;});V=E.map(function(Q){return Q.height;});S=E.map(function(Q){return Q.status;});D.Rva=T + ", " + V + ", " + S;D.log.trace("KeyStatus: " + D.Rva);M={};for(var W=ma(I),ia=W.next();!ia.done;ia=W.next()){ra=ma(ia.value);ua=ra.next().value;Aa=ra.next().value;Ha=D.RD.encode(new Uint8Array(ua));N=w[Aa];M[Ha]=N.status;D.gJ(Ha,N.error) && (L=new l.Oh(N.error));}D.keyStatuses.set(M);}catch(Q){L=new l.Oh(k.$.Ptb);L.sW(Q);}L?D.qt?D.oaa(L):D.uY(L):(D.Km.C7() || D.L9a(),D.Dg !== m.Ni.lp || D.Km.Lna() || (D.config.xqa?D.log.trace("Disabling license renewal"):D.G8b()));};this.Dn=function(E){var G;G=D.Km.IA(E);D.log.error("Received event: " + E.type,G);D.$E(G);D.oaa(G);D.pr || D.qt || D.uY(G);};this.f3b=function(E){D.log.error("MediaKeySession closed unexpectedly: " + E);D.uY(new h.od(k.$.$ga,u[E]));};this.$E=function(E){var G;D.pr && D.close().then(function(){var F;D.log.trace("Issuing a generate challenge error");null === (F=D.pr) || void 0 === F?void 0:F.reject(E);D.pr=void 0;},function(F){var I;D.log.error("EmeSession closed with an error.",D.Km.IA(F));null === (I=D.pr) || void 0 === I?void 0:I.reject(E);D.pr=void 0;});null === (G=D.FY) || void 0 === G?void 0:G.reject(E);};this.MYb=function(){var E;null === (E=D.pr) || void 0 === E?void 0:E.resolve();D.pr=void 0;};this.oaa=function(E){D.log.error("Failed to add license",E);return D.close().then(function(){var G;D.log.trace("Issuing a license error");D.pr=void 0;null === (G=D.qt) || void 0 === G?void 0:G.reject(E);D.qt=void 0;},function(G){var F;D.log.error("EmeSession closed with an error.",D.Km.IA(G));D.Ml === v.eK && D.Xq(f.iu.DXa);D.pr=void 0;null === (F=D.qt) || void 0 === F?void 0:F.reject(E);D.qt=void 0;}).then(function(){throw E;});};this.L9a=function(){D.qt && (D.log.info("Successfully added license"),D.Ml === v.Ch?D.Xq(f.iu.xXa):D.Ml === v.eK && D.Xq(f.iu.CXa),D.qt.resolve(),D.qt=void 0);};this.uY=function(E){D.close().then(function(){var G;D.log.trace("Issuing a CDM error");D.pr=void 0;D.qt=void 0;null === (G=D.Ocb) || void 0 === G?void 0:G.call(D,E);},function(G){var F;D.log.error("EmeSession closed with an error.",D.Km.IA(G));D.pr=void 0;D.qt=void 0;null === (F=D.Ocb) || void 0 === F?void 0:F.call(D,E);});};this.Xq=function(E){D.wd.push({time:D.Fa.Rb(),cZ:E});};this.ggb=!1;this.log=x.hb("EmeSession");this.Ml=v.wec;this.ti=C.y0a();this.Km=C.x0a();this.wd=[];}Object.defineProperty(b,"__esModule",{value:!0});b.DIa=b.dia=b.eia=void 0;g=a(5);k=a(3);m=a(57);f=a(340);r=a(225);d=a(336);l=a(97);n=a(68);h=a(36);p=a(69);q=a(341);t=a(48);(function(x){x[x.wec=0]="unknown";x[x.create=1]="create";x[x.load=2]="load";x[x.Ch=3]="license";x[x.eK=4]="renewal";x[x.stop=5]="stop";x[x.closed=6]="closed";})(v || (v={}));b.eia="license-request";b.dia="license-renewal";w={usable:{status:r.Aw.Hlb},expired:{status:r.Aw.Ix,error:k.$.Gia},released:{status:r.Aw.released},"output-not-allowed":{status:r.Aw.gdb,error:k.$.aOa},"output-restricted":{status:r.Aw.gdb,error:k.$.Hia},"output-downscaled":{status:r.Aw.g4b},"status-pending":{status:r.Aw.Tbc},"internal-error":{status:r.Aw.xXb,error:k.$.Otb}};u={"internal-error":k.X.qqb,"closed-by-application":k.X.mqb,"release-acknowledged":k.X.uqb,"hardware-context-reset":k.X.Yga,"resource-evicted":k.X.wqb};c.prototype.yX=function(){return this.KB.waa;};c.prototype.O5a=function(){return this.Rva;};c.prototype.bB=function(){return this.sessionId;};c.prototype.close=function(){var x;x=this;this.Rcb=this.context=void 0;this.Ml=v.closed;this.wd=[];return this.ti.wYb()?(this.log.trace("Closing the session"),this.ti.Xfb(this.rya),this.ti.Ufb(this.pya),this.ti.Sfb(this.Dn),this.mediaKeys=void 0,this.Gt.Mt(this.config.aYa,this.ti.close()).then(function(){x.log.info("Closed the session");}).catch(function(y){x.log.error("Close failed",y);x.Km.IA(y).code=k.$.Rtb;throw y;})):Promise.resolve(void 0);};c.prototype.hv=function(){return this.KB.hv();};c.prototype.eua=function(){return void 0 !== this.hk;};c.prototype.createSession=function(x,y,z){var A;A=this;this.context=z;this.Dg=y;this.Ml=v.create;this.Xq(f.iu.u$a);return (x.x7a()?Promise.resolve():this.Gt.Mt(this.config.bYa,this.ti.createMediaKeys(this.KB)).then(function(B){A.log.trace("Created media keys");return A.iDb(B).then(function(){return x.yXa(B);}).catch(function(C){return Promise.reject(A.Kza(C,k.$.xqb));});})).then(function(){A.mediaKeys=x.mediaKeys;try{A.ti.createSession(A.mediaKeys,t.TEMPORARY);A.ti.zXa(A.rya);A.ti.vXa(A.pya);A.ti.sXa(A.Dn);A.ti.UBb(A.f3b);A.V_(A.ti.bB());}catch(B){return Promise.reject(A.Kza(B,k.$.nqb));}}).catch(function(B){return Promise.reject(A.Kza(B,k.$.OS));});};c.prototype.mac=function(x){this.pk=x;this.log.pXa("xid",x.qa);};c.prototype.XQb=function(x,y){var z;z=this;return this.generateRequest(x,y).then(function(){z.log.trace("Returning the challenge promise");return z.FY.promise;});};c.prototype.YQb=function(x,y){this.generateRequest(x,y);return this.pr.promise;};c.prototype.wXa=function(x){this.Pe=x.Pe;x=x.hk.map(function(y){return y.data;});this.dua(x)?(this.log.error("The license buffer is empty"),this.$E(new l.Oh(k.$.mIa,k.X.kIa))):(this.Ml === v.Ch && (this.Xq(f.iu.Efb),this.hk=x,this.q2a=this.Km.WO(this.Zx,x),this.MYb()),this.Ml === v.eK && (this.Xq(f.iu.Hfb),this.hk=x,this.q2a=this.Km.WO(this.Zx,x),this.yna()));};c.prototype.eCb=function(x){this.Ml === v.eK?(this.Xq(f.iu.Ifb),this.uY(x)):this.$E(x);};c.prototype.yna=function(){var x,y;x=this;if(!this.hk)return this.oaa(new l.Oh(k.$.mIa,k.X.pIa));this.qt=new q.GT();y=this.hk;this.hk=void 0;this.Gt.Mt(this.config.eYa,this.ti.update(y,this.Ml === v.Ch?d.SG.Request:d.SG.PQa,this.Zx)).then(function(){x.Km.C7() && x.L9a();}).catch(function(z){z=x.Km.IA(z);z.code=k.$.M3;z.message="Unable to update the EME";x.log.error(z.message,z);x.oaa(z);});return this.qt.promise;};c.prototype.fac=function(x){this.Rcb=x;};c.prototype.$$b=function(x){this.Ocb=x;};c.prototype.WO=function(){return this.q2a;};c.prototype.generateRequest=function(x,y){var z;z=this;this.Ml=v.Ch;this.log.trace("Generating a license challenge");this.pr=new q.GT();this.FY=new q.GT();return x?this.dua(x)?(x=new l.Oh(k.$.lIa,k.X.kIa),this.$E(x),Promise.reject(x)):this.Gt.Mt(this.config.J6,this.ti.generateRequest(this.Km.xX(),x,y)).then(function(){z.V_(z.ti.bB());}).catch(function(A){var B,C;B=new l.Oh(k.$.o2,A instanceof n.rs?k.X.PS:k.X.Mm);try{C=z.Km.IA(A);B.Yd=C.Yd;B.message="Unable to generate request.";B.sW(A);}catch(D){}z.log.error("Unable to generate a license request",B);z.$E(B);return Promise.reject(B);}):(x=new l.Oh(k.$.lIa,k.X.pIa),this.$E(x),Promise.reject(x));};c.prototype.iDb=function(x){return this.Gt.Mt(this.config.dYa,this.ti.setServerCertificate(x,this.Km.z9()));};c.prototype.V_=function(x){x && x !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + x),this.sessionId=x,this.log.pXa("sessionId",x));};c.prototype.G8b=function(){var x;x=this;this.ggb || (this.ggb=!0,this.log.info("Kicking off license renewal",{timeout:this.config.cF}),setTimeout(function(){x.dK();},this.config.cF.ja(g.sa)));};c.prototype.DYb=function(x){var y,z,A;return 1080 < (null !== (A=null === (z=null === (y=this.context) || void 0 === y?void 0:y.vaa) || void 0 === z?void 0:z[x]) && void 0 !== A?A:0);};c.prototype.gJ=function(x,y){return y === k.$.Hia?this.DYb(x)?this.config.jdb:this.config.hdb:! !y;};c.prototype.dK=function(){this.log.trace("Initiating a renewal request");this.Dg=m.Ni.Fq;this.Ml=v.eK;this.Km.Doa()?this.Km.$ua(this.ti):this.P7();};c.prototype.P7=function(){var x;x=this;this.ti.P7(this.mediaKeys,t.TEMPORARY,this.rya,this.pya,this.Dn).then(function(){x.log.debug("Creating session to renew license");x.V_(x.ti.bB());}).catch(function(){x.uY(new l.Oh(k.$.o2));});};c.prototype.dua=function(x){return 0 === x.length || x.reduce(function(y,z){return y || 0 === z.length;},!1);};c.prototype.Kza=function(x,y){var z,A;if((null === x || void 0 === x?0:x.code) && (null === x || void 0 === x?0:x.Kc))return x;A=(0,t.ota)(null === x || void 0 === x?void 0:x.message);return new l.Oh(y,x instanceof n.rs?k.X.PS:k.X.Mm,null === (z=null === A || void 0 === A?void 0:A.toString(16)) || void 0 === z?void 0:z.toUpperCase(),null === x || void 0 === x?void 0:x.message,x);};b.DIa=c;},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.r2a=b.iu=void 0;(function(c){c[c.u$a=0]="licenseStarted";c[c.Ffb=1]="receivedLicenseChallenge";c[c.Efb=2]="receivedLicense";c[c.Gfb=3]="receivedRenewalChallengeComplete";c[c.Hfb=4]="receivedRenewalLicenseComplete";c[c.Ifb=5]="receivedRenewalLicenseFailed";c[c.E7b=6]="receivedIndivChallengeComplete";c[c.F7b=7]="receivedIndivLicenseComplete";c[c.xXa=8]="addLicenseComplete";c[c.CXa=9]="addRenewalLicenseComplete";c[c.DXa=10]="addRenewalLicenseFailed";})(a=b.iu || (b.iu={}));b.r2a=function(c){switch(c){case a.u$a:return "lg";case a.Ffb:return "lc";case a.Efb:return "lr";case a.Gfb:return "renew_lc";case a.Hfb:return "renew_lr";case a.Ifb:return "renew_lr_failed";case a.E7b:return "ilc";case a.F7b:return "ilr";case a.xXa:return "ld";case a.CXa:return "renew_ld";case a.DXa:return "renew_ld_failed";default:return "unknown";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GT=void 0;b.GT=function(){var a;a=this;this.promise=new Promise(function(c,g){a.resolve=c;a.reject=g;});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LMa="MediaKeySystemAccessInternalFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tja="QueryStringDataProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tNa="NetworkMonitorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YHa="DrmProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CIa="EmeSessionFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QGa="ClockConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MNa="OneWayCounterFactorySymbol";},function(r,b,a){var g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.nga=void 0;r=a(0);a=a(1);g={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(m){for(var f=new Uint8Array(m.length / 2),d=0;d < f.length;d++){f[d]=this.wkb(m.substr(2 * d,2));}return f;};c.prototype.encode=function(m){var n;for(var f="",d=m.length,l=0;l < d;l++){n=m[l];f+=("0123456789ABCDEF")[n >>> 4] + ("0123456789ABCDEF")[n & 15];}return f;};c.prototype.EI=function(m,f){var d;d="";for(f<<=1;f--;){d=(("0123456789ABCDEF")[m & 15] || "0") + d;m>>>=4;}return d;};c.prototype.wkb=function(m){var f;f=m.length;if(7 < f)throw Error("hex to long");for(var d=0,l=0;l < f;l++){d=16 * d + g[m[l]];}return d;};k=c;k=r.__decorate([(0,a.aa)()],k);b.nga=k;},function(r,b,a){var g,k,m,f,d,l,n,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.oga=void 0;r=a(0);a=a(1);k=Array.prototype.slice;m=k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");k=k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");f={};d={};l={};n={};h=/\s+/g;[m,k].forEach(function(p){var t;for(var q=p.length;q--;){t=p[q];f[t]=q << 18;d[t]=q << 12;l[t]=q << 6;n[t]=q;}});c.prototype.encode=function(p){return g.Sqa(p,m,"=");};c.prototype.decode=function(p){return g.gqa(p);};c.gqa=function(p){var q,t,v;p=p.replace(h,"");q=p.length;t=p.charAt(q - 1);"=" !== t && "." !== t || q--;t=p.charAt(q - 1);"=" !== t && "." !== t || q--;t=3 * (q >> 2);v=0;switch(q % 4){case 2:v=1;break;case 3:v=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(t + v);for(var w=0,u=0,x;u < t;){x=f[p[w++]] + d[p[w++]] + l[p[w++]] + n[p[w++]];if(!(0 <= x && 16777215 >= x))throw Error("bad base64");q[u++]=x >>> 16;q[u++]=x >>> 8 & 255;q[u++]=x & 255;}if(0 < v && (x=f[p[w++]] + d[p[w++]],q[u++]=x >>> 16,1 < v && (x+=l[p[w++]],q[u++]=x >>> 8 & 255),!(0 <= x && 16776960 >= x && 0 === (x & (1 < v?255:65535)))))throw Error("bad base64");return q;};c.Sqa=function(p,q,t){for(var v="",w=0,u=p.length,x=u - 2,y;w < x;){y=(p[w++] << 16) + (p[w++] << 8) + p[w++];if(!(0 <= y && 16777215 >= y))throw Error("not bytes");v+=q[y >>> 18] + q[y >>> 12 & 63] + q[y >>> 6 & 63] + q[y & 63];}if(w == x){y=(p[w++] << 8) + p[w++];if(!(0 <= y && 65535 >= y))throw Error("not bytes");v+=q[y >>> 10] + q[y >>> 4 & 63] + q[y << 2 & 63] + t;}else if(w == u - 1){y=p[w++];if(!(0 <= y && 255 >= y))throw Error("not bytes");v+=q[y >>> 2] + q[y << 4 & 63] + t + t;}return v;};k=g=c;k=g=r.__decorate([(0,a.aa)()],k);b.oga=k;},function(r,b,a){var g,k;function c(){this.nr={};this.id="$es$" + g.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.yk=void 0;r=a(0);a=a(1);c.prototype.addListener=function(m,f,d){var l,n;l="$netflix$player$order" + this.id + "$" + m;if(this.nr){n=this.nr[m]?this.nr[m].slice():[];d && (f[l]=d);0 > n.indexOf(f) && (n.push(f),n.sort(function(h,p){return (h[l] || 0) - (p[l] || 0);}));this.nr[m]=n;}};c.prototype.removeListener=function(m,f){if(this.nr && this.nr[m]){for(var d=this.nr[m].slice(),l;0 <= (l=d.indexOf(f));){d.splice(l,1);}this.nr[m]=d;}};c.prototype.Uc=function(m,f,d){var l;if(this.nr){l=this.Jsa(m);for(m={mL:0};m.mL < l.length;(m={mL:m.mL},m.mL++)){d?(function(n){return function(){var h;h=l[n.mL];setTimeout(function(){h(f);},0);};})(m)():l[m.mL].call(this,f);}}};c.prototype.wi=function(){this.nr=void 0;};c.prototype.on=function(m,f,d){this.addListener(m,f,d);};c.prototype.Jsa=function(m){var f;return null !== (f=this.nr && (this.nr[m] || (this.nr[m]=[]))) && void 0 !== f?f:[];};k=g=c;k.counter=0;k=g=r.__decorate([(0,a.aa)()],k);b.yk=k;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fHa="CsvEncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rga="DecoderTimeoutPathologistSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ria=b.Isb=void 0;b.Isb=function(){};b.ria="MseConfigSymbol";},function(r,b,a){var g;function c(k){this.Xxb=void 0 === k?!1:k;this.Cf={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.pja=void 0;r=a(0);a=a(1);c.prototype.add=function(k,m){var f;m=void 0 === m?0:m;f=this.Cf[m];f?this.Xxb && -1 !== f.indexOf(k) || f.push(k):this.Cf[m]=[k];};c.prototype.remove=function(k,m){this.$z(k,void 0 === m?0:m);};c.prototype.removeAll=function(k){this.$z(k);};c.prototype.flatten=function(){var k;k=this;return Object.keys(this.Cf).sort().reduce(function(m,f){return m.concat(k.Cf[f]);},[]);};c.prototype.$z=function(k,m){Object.entries(this.Cf).forEach(function(f){var d,l;d=ma(f);f=d.next().value;d=d.next().value;if(void 0 === m || m === parseInt(f)){-1 < (l=d.indexOf(k)) && d.splice(l,1);}});};g=c;g=r.__decorate([(0,a.aa)()],g);b.pja=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XSa="UrlFactorySymbol";},function(r,b,a){var g,k,m;function c(f,d,l,n,h,p,q){this.debug=f;this.config=d;this.platform=l;this.fba=n;this.debug.assert(h && h != k.$.eo,"There should always be a specific error code");this.errorCode=h || k.$.eo;p && "object" === typeof p?(this.za=p.za || p.Kc,this.Rf=p.Rf || p.Yd,this.Zqa=p.Zqa || p.Bo,this.Qb=p.Qb || p.details,this.xW=p.Uk,this.F8=p.F8 || p.rqc || p.LB,this.uE=p.uE || p.data,p.$Y && (this.$Y=p.$Y),this.Dl=p.Dl,this.method=p.method,this.Eba=p.Eba,this.alert=p.alert,this.lna=p.lna,this.YI=p.YI,!this.Qb && this.YI && (this.Qb=JSON.stringify(this.YI)),this.debug.assert(!this.Dl || this.Dl == this.Rf)):(this.za=p,this.Rf=q);this.stack=[this.errorCode];this.za?this.stack.push(this.za):this.Rf && this.stack.push(k.X.eo);this.Rf && this.stack.push(this.Rf);this.n8=this.platform.Us + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.RPa=void 0;g=a(17);k=a(3);m=a(15);a(25);c.prototype.Zhb=function(f){this.w5b=f;};c.prototype.toString=function(){var f;f="[PlayerError #" + this.n8 + "]";this.Qb && (f+=" " + this.Qb);this.xW && (f+=" (CustomMessage: " + this.xW + ")");return f;};c.prototype.M0=function(){var f,d,l,n;this.xW && (l=["streaming_error"]);l || this.fba.hv() !== g.n2 || ("80080017" == this.Rf && (l=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Rf && (l=["pause_timeout"]));l || this.fba.hv() !== g.Xga || this.errorCode !== k.$.jIa && this.errorCode !== k.$.OS || (l=["no_cdm","platform_error","plugin_error"]);l || this.errorCode !== k.$.$ga || this.za !== k.X.Yga || (l=["pause_timeout"]);this.F8 === k.z3.dka && (this.Noa("2018") || this.Noa("2020")?l=["received_soad"]:this.Noa("5000") && (l=["should_reset_device"]));n=this.JRb();n && (l=[n],this.xW=void 0);if(!l)switch(this.errorCode){case k.$.L3:case k.$.p3:case k.$.onb:case k.$.Gia:this.w5b && (l=["pause_timeout"]);break;case k.$.FKa:case k.$.GKa:l=this.za?["platform_error"]:["multiple_tabs"];break;case k.$.Bha:case k.$.eOa:case k.$.Iia:case k.$.ZNa:l=["platform_error","plugin_error"];break;case k.$.zT:l=["no_cdm","platform_error","plugin_error"];break;case k.$.qIa:case k.$.qs:case k.$.M3:switch(this.Rf){case "FFFFD000":l=["device_needs_service","platform_error"];break;case "48444350":l=["unsupported_output","platform_error"];break;case "00000024":l=["private_mode"];}break;case k.$.aOa:case k.$.Hia:l=["unsupported_output"];}!l && (0,k.NIa)(this.za) && (l=this.za == k.X.XS?["geo"]:["internet_connection_problem"]);l || this.errorCode !== k.$.OS || this.za !== k.X.Mm || "S" !== this.platform.Us || (l=["private_mode"]);if(!l)switch(this.xjb(this.za)){case k.X.kka:l=["should_upgrade"];break;case k.X.UNa:l=["should_reset_device"];break;case k.X.TNa:l=["should_reload_device"];break;case k.X.SNa:l=["should_exit_device"];break;case k.X.Jsb:case k.X.gMa:l=["should_signout_and_signin"];break;case k.X.Ksb:l=["internet_connection_problem"];break;case k.X.kHa:l=["platform_error","plugin_error"];break;case k.X.tpb:case k.X.oKa:case k.X.pKa:l=["private_mode"];break;case k.X.bia:l=["should_reload_with_preferred_locales"];}l=l || [];l.push(this.platform.Us + this.errorCode);if(this.za)switch(this.xjb(this.za)){case k.X.VNa:l.push("incorrect_pin");break;default:l.push("" + this.za);}l={display:{code:this.n8,text:this.xW},messageIdList:l,alert:this.alert,alertTag:this.lna,preferredAudioLocale:null === (f=this.YI) || void 0 === f?void 0:f.Z7a,preferredTextLocale:null === (d=this.YI) || void 0 === d?void 0:d.$7a};this.config().TOb && (l.debugData=this.uE);return l;};c.prototype.xjb=function(f){var d;d=parseInt(f,10);return isNaN(d)?f:d;};c.prototype.Noa=function(f){return ((0,m.Oa)(this.Rf)?this.Rf.toString():(0,m.Cg)(this.Rf)?this.Rf:"").endsWith(f);};c.prototype.JRb=function(){if(this.errorCode === k.$.EL && (this.za === k.X.Dia || this.za === k.X.RNa))return this.KRb(this.za === k.X.Dia);};c.prototype.KRb=function(f){var d,l,n,h;n=this.config().browserInfo || ({});h=null === (d=n.os) || void 0 === d?void 0:d.name;d=((null === (l=n.os) || void 0 === l?void 0:l.version) || "").split(".");l=parseInt(d && d[0]);d=parseInt(d && d[1]);switch(h){case "windows":return 6 > l || 6 === l && 1 > d?f?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":f?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > l || 10 === l && 10 > d?f?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":f?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return f?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.RPa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lia="MediaElementHelpersSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QS="EventSourceFactorySymbol";},function(r,b,a){var g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.QS=b.RIa=void 0;r=a(0);g=a(351);a=a(1);c.prototype.create=function(){return new g.yk();};k=c;k=r.__decorate([(0,a.aa)()],k);b.RIa=k;b.QS="EventSourceFactorySymbol";},function(r,b,a){var g;function c(k,m,f,d,l,n){this.level=k;this.Op=m;this.timestamp=f;this.message=d;this.bd=l;this.index=void 0 === n?0:n;this.Xrb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.Uha=void 0;g=a(5);c.prototype.Oea=function(k,m){var f;f="" + this.message;this.bd.forEach(function(d){f+=d.YK(k,m);});return (this.timestamp.ja(g.sa) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Xrb[this.level] || this.level) + "|" + this.Op + "| " + f;};b.Uha=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fNa="MomentObserverFactory";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zRa="SegmentConfigFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BPa="PlaybackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kTa="VideoPlayerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HSa="TransitionLoggerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LHa="DiagnosticsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DOa="PboGenerateScreenshotsCommandSymbol";},function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(r,b,a){var c,g,k,m,f,d;b=a(53);c=a(371);g=a(760);k=a(369);m=a(234);f=a(765);d=a(374);a=b(c(["filter"],f,function(l,n){return k(n)?m(function(h,p){l(n[p]) && (h[p]=n[p]);return h;},{},d(n)):g(l,n);}));r.exports=a;},function(r,b,a){var c,g;c=a(372);g=a(759);r.exports=function(k,m,f){return function(){var d,l;if(0 === arguments.length)return f();d=Array.prototype.slice.call(arguments,0);l=d.pop();if(!c(l)){for(var n=0;n < k.length;){if("function" === typeof l[k[n]])return l[k[n]].apply(l,d);n+=1;}if(g(l))return m.apply(null,d)(l);}return f.apply(this,arguments);};};},function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(r){r.exports={oa:function(){return this.o1["@@transducer/init"]();},result:function(b){return this.o1["@@transducer/result"](b);}};},function(r,b,a){var c,g,k,m,f;b=a(126);c=a(233);g=a(766);k=!({toString:null}).propertyIsEnumerable("toString");m=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");f=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || f?function(d){var l,n,h,p;if(Object(d) !== d)return [];l=[];n=f && g(d);for(h in d){!c(h,d) || n && "length" === h || (l[l.length]=h);}if(k)for(n=m.length - 1;0 <= n;){h=m[n];if(p=c(h,d)){a:{for(p=0;p < l.length;){if(l[p] === h){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (l[l.length]=h);--n;}return l;}:function(d){return Object(d) !== d?[]:Object.keys(d);});r.exports=a;},function(r){r.exports=function(b,a){for(var c=0,g=a.length,k=Array(g);c < g;){k[c]=b(a[c]);c+=1;}return k;};},function(r,b,a){var c,g,k;c=a(235);g=a(126);b=a(53);k=a(769);a=b(function(m,f){return 1 === m?g(f):c(m,k(m,[],f));});r.exports=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JJa="HLSPlaylistBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UPa="PlayerPlaydataMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sja="StreamChangeDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jT="HLSLogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VJa="HeaderFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eKa="HttpDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZJa="HLSHeaderParserFactorySymbol";},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,g){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),g * a.byteLength / a.length);}:function(a,c,g){a.set(c,g);};r.exports={from:function(a,c,g,k){a=new a(c.length);for(var m="function" === typeof g,f=0;f < c.length;++f){a[f]=m?g.call(k,c[f],f,c):c[f];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);r=(function(g){function k(){var m;m=null !== g && g.apply(this,arguments) || this;m.DI=1536;return m;}c.__extends(k,g);k.ud=!0;return k;})(a(181).default);b.default=r;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.hf="ac-3";return k;})(r);b.Xmb=a;r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.hf="ec-3";return k;})(r);b.lqb=r;},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);g=a(103);r=a(24);k=g.uia;r=(function(m){function f(){return null !== m && m.apply(this,arguments) || this;}c.__extends(f,m);f.prototype.parse=function(){this.Gh();this.fileSize=this.O.Sl();this.W=this.O.Sl();this.duration=this.O.Sl(!1,!0);this.P2b=this.O.Sl();this.O.Sl();this.T2b=this.O.Sl();this.Z1b=this.O.ic();this.Q2b=this.O.Sl();this.hQb=this.O.ic();this.O.fda();this.Cm={moof:{offset:this.P2b},sidx:{offset:this.Q2b,size:this.hQb}};this.Cm[g.mNa]={offset:this.T2b,size:this.Z1b};this.O.offset - this.startOffset <= this.length - 24 && (this.S2b=this.O.Sl(),this.O1b=this.O.ic(),this.R2b=this.O.Sl(),this.N1b=this.O.ic(),this.Cm[g.C3]={offset:this.S2b,size:this.O1b},this.Cm[g.B3]={offset:this.R2b,size:this.N1b});return !0;};f.hf=k;f.ud=!1;return f;})(r.og);b.default=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);r=a(103);a=a(24);g=r.wia;a=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(){var f,n,h;this.Gh();1 <= this.version && this.O.fda();f=this.O.ic();this.Cm={};for(var d=this.startOffset + this.length,l=0;l < f;++l){n=this.O.aC();"uuid" === n && (n=this.O.fda());h=this.O.Sl();this.Cm[n]={offset:d,size:h};d+=h;}return !0;};m.hf=g;m.ud=!1;return m;})(a.og);b.default=a;},function(r,b,a){function c(){c=Object.assign || (function(F){for(var I,L=1,M=arguments.length;L < M;L++){I=arguments[L];for(var K in I){Object.prototype.hasOwnProperty.call(I,K) && (F[K]=I[K]);}}return F;});return c.apply(this,arguments);}function g(F,I){g=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(L,M){L.__proto__=M;}) || (function(L,M){for(var K in M){M.hasOwnProperty(K) && (L[K]=M[K]);}});return g(F,I);}function k(F,I){function L(){this.constructor=F;}g(F,I);F.prototype=null === I?Object.create(I):(L.prototype=I.prototype,new L());}function m(F,I){var L,M,K;L={};for(M in F){Object.prototype.hasOwnProperty.call(F,M) && 0 > I.indexOf(M) && (L[M]=F[M]);}if(null != F && "function" === typeof Object.getOwnPropertySymbols){K=0;for(M=Object.getOwnPropertySymbols(F);K < M.length;K++){0 > I.indexOf(M[K]) && Object.prototype.propertyIsEnumerable.call(F,M[K]) && (L[M[K]]=F[M[K]]);}}return L;}function f(F,I,L,M){var K,O,H;K=arguments.length;O=3 > K?I:null === M?M=Object.getOwnPropertyDescriptor(I,L):M;if("object" === typeof Reflect && "function" === typeof Reflect.Rp)O=Reflect.Rp(F,I,L,M);else for(var J=F.length - 1;0 <= J;J--){if(H=F[J])O=(3 > K?H(O):3 < K?H(I,L,O):H(I,L)) || O;}return (3 < K && O && Object.defineProperty(I,L,O),O);}function d(F,I){return function(L,M){I(L,M,F);};}function l(F,I){if("object" === typeof Reflect && "function" === typeof Reflect.Hc)return Reflect.Hc(F,I);}function n(F,I,L,M){function K(O){return O instanceof L?O:new L(function(H){H(O);});}return new (L || (L=Promise))(function(O,H){function J(T){try{P(M.next(T));}catch(V){H(V);}}function R(T){try{P(M["throw"](T));}catch(V){H(V);}}function P(T){T.done?O(T.value):K(T.value).then(J,R);}P((M=M.apply(F,I || [])).next());});}function h(F,I){var K,O,H,J,R;function L(P){return function(T){return M([P,T]);};}function M(P){if(O)throw new TypeError("Generator is already executing.");for(;K;){try{if((O=1,H && (J=P[0] & 2?H["return"]:P[0]?H["throw"] || ((J=H["return"]) && J.call(H),0):H.next) && !(J=J.call(H,P[1])).done))return J;if((H=0,J))P=[P[0] & 2,J.value];switch(P[0]){case 0:case 1:J=P;break;case 4:return (K.label++,{value:P[1],done:!1});case 5:K.label++;H=P[1];P=[0];continue;case 7:P=K.$k.pop();K.Kh.pop();continue;default:if(!(J=K.Kh,J=0 < J.length && J[J.length - 1]) && (6 === P[0] || 2 === P[0])){K=0;continue;}if(3 === P[0] && (!J || P[1] > J[0] && P[1] < J[3]))K.label=P[1];else if(6 === P[0] && K.label < J[1])(K.label=J[1],J=P);else if(J && K.label < J[2])(K.label=J[2],K.$k.push(P));else {J[2] && K.$k.pop();K.Kh.pop();continue;}}P=I.call(F,K);}catch(T){P=[6,T];H=0;}finally{O=J=0;}}if(P[0] & 5)throw P[1];return {value:P[0]?P[1]:void 0,done:!0};}K={label:0,kb:function(){if(J[0] & 1)throw J[1];return J[1];},Kh:[],$k:[]};return (R={next:L(0),"throw":L(1),"return":L(2)},"function" === typeof Symbol && (R[Symbol.iterator]=function(){return this;}),R);}function p(F,I,L,M){void 0 === M && (M=L);F[M]=I[L];}function q(F,I){for(var L in F){"default" === L || I.hasOwnProperty(L) || (I[L]=F[L]);}}function t(F){var I,L,M;I="function" === typeof Symbol && Symbol.iterator;L=I && F[I];M=0;if(L)return L.call(F);if(F && "number" === typeof F.length)return {next:function(){F && M >= F.length && (F=void 0);return {value:F && F[M++],done:!F};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function v(F,I){var L,M,K;L="function" === typeof Symbol && F[Symbol.iterator];if(!L)return F;F=L.call(F);K=[];try{for(;(void 0 === I || 0 < I--) && !(M=F.next()).done;){K.push(M.value);}}catch(H){var O;O={error:H};}finally{try{M && !M.done && (L=F["return"]) && L.call(F);}finally{if(O)throw O.error;}}return K;}function w(){for(var F=[],I=0;I < arguments.length;I++){F=F.concat(v(arguments[I]));}return F;}function u(){var M;for(var F=0,I=0,L=arguments.length;I < L;I++){F+=arguments[I].length;}F=Array(F);M=0;for(I=0;I < L;I++){for(var K=arguments[I],O=0,H=K.length;O < H;(O++,M++)){F[M]=K[O];}}return F;}function x(F){return this instanceof x?(this.Ty=F,this):new x(F);}function y(F,I,L){var R,P,T;function M(V){R[V] && (P[V]=function(S){return new Promise(function(W,ia){1 < T.push([V,S,W,ia]) || K(V,S);});});}function K(V,S){var W;try{W=R[V](S);W.value instanceof x?Promise.resolve(W.value.Ty).then(O,H):J(T[0][2],W);}catch(ia){J(T[0][3],ia);}}function O(V){K("next",V);}function H(V){K("throw",V);}function J(V,S){(V(S),T.shift(),T.length) && K(T[0][0],T[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");R=L.apply(F,I || []);T=[];return (P={},M("next"),M("throw"),M("return"),P[Symbol.asyncIterator]=function(){return this;},P);}function z(F){var L,M;function I(K,O){L[K]=F[K]?function(H){return (M=!M)?{value:x(F[K](H)),done:"return" === K}:O?O(H):H;}:O;}return (L={},I("next"),I("throw",function(K){throw K;}),I("return"),L[Symbol.iterator]=function(){return this;},L);}function A(F){var M,K;function I(O){K[O]=F[O] && (function(H){return new Promise(function(J,R){H=F[O](H);L(J,R,H.done,H.value);});});}function L(O,H,J,R){Promise.resolve(R).then(function(P){O({value:P,done:J});},H);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");M=F[Symbol.asyncIterator];return M?M.call(F):(F="function" === typeof t?t(F):F[Symbol.iterator](),K={},I("next"),I("throw"),I("return"),K[Symbol.asyncIterator]=function(){return this;},K);}function B(F,I){Object.defineProperty?Object.defineProperty(F,"raw",{value:I}):F.raw=I;return F;}function C(F){var I;if(F && F.__esModule)return F;I={};if(null != F)for(var L in F){Object.hasOwnProperty.call(F,L) && (I[L]=F[L]);}I.default=F;return I;}function D(F){return F && F.__esModule?F:{default:F};}function E(F,I){if(!I.has(F))throw new TypeError("attempted to get private field on non-instance");return I.get(F);}function G(F,I,L){if(!I.has(F))throw new TypeError("attempted to set private field on non-instance");I.set(F,L);return L;}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return f;});a.d(b,"__param",function(){return d;});a.d(b,"__metadata",function(){return l;});a.d(b,"__awaiter",function(){return n;});a.d(b,"__generator",function(){return h;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return t;});a.d(b,"__read",function(){return v;});a.d(b,"__spread",function(){return w;});a.d(b,"__spreadArrays",function(){return u;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return E;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(r,b){var a,c,g;Object.defineProperty(b,"__esModule",{value:!0});r={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,iea:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,iea:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,iea:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};g={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,iea:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.yV={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":g},reset:{"heaac-2-dash":r,"heaac-2hq-dash":r},"heaac-2-dash":r,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":g};},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);g=a(24);k=a(87);r=(function(m){function f(d,l,n,h,p){n=m.call(this,n,h,p) || this;n.MEb=d;n.DR=l;n.oe={};return n;}c.__extends(f,m);f.prototype.parse=function(d){var l,n,h,p,q,t;this.offset=0;l=[];for(d=d || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){n=this.offset;h=this.ic();if(0 === h)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=k.vM(this.ic());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.fda();}if(0 === l.length && this.DR.h4a(p,n,h))break;if(n + h > this.view.byteLength)break;q=this.MEb[p];t=void 0;if(q){if((t=new q(this,p,n,h,l[0]),(l[0] || this).kV(t),t.parse(d)))this.config.Oya && q.ud?l.unshift(t):this.offset=n + h;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=n + h;for(;l.length && this.offset > l[0].byteOffset + l[0].NJ - 8;){t=l.shift();if(!t.yI(d))return {done:!1,offset:this.offset,error:"finalize error in " + t.type + " box"};this.offset=t.byteOffset + t.NJ;}if(0 === l.length && this.DR.d2a(p,n,h,t))break;}return !this.DR.done && (d=this.DR.endOffset?this.DR.endOffset - this.view.byteLength:4096,0 < d)?{done:!1,offset:this.offset,Ubb:d}:{done:!0,offset:Math.min(this.DR.endOffset || Infinity,this.offset)};};f.prototype.kV=function(d){g.og.kV(this,d);};return f;})(a(824).wvb);b.rga=r;},function(r,b,a){var g;function c(k,m){k=m.indexOf(k);-1 !== k && m.splice(k,1);}Object.defineProperty(b,"__esModule",{value:!0});g=a(103);r=(function(){function k(m){this.endOffset=m;this.done=!1;}k.prototype.h4a=function(){return this.done;};k.prototype.d2a=function(m,f,d){return this.done=f + d >= this.endOffset;};return k;})();b.CHa=r;r=(function(){function k(m,f,d,l){void 0 === f && (f=[]);void 0 === d && (d=[]);void 0 === l && (l=!1);this.Zv=m;this.i8=f;this.Tjb=d;this.Fdb=l;this.done=!1;this.Cm={};}k.prototype.h4a=function(m,f,d){-1 !== k.OVb.indexOf(m) && (this.Cm[m]={offset:f,size:d});if(-1 !== this.Tjb.indexOf(m)){if((this.Cm[m]={offset:f,size:d},this.Fdb))this.endOffset=f + d;else return (this.endOffset=f,this.done=!0);}else this.Zv && -1 !== this.Zv.indexOf(m)?(m=1 < this.Zv.length?4096:0,this.endOffset=Math.max(f + d + m,this.endOffset || 0)):-1 !== this.i8.indexOf(m) && (m=this.Zv?4096:0,this.endOffset=Math.max(f + d + m,this.endOffset || 0));return this.done;};k.prototype.d2a=function(m,f,d,l){var n;n=this;if(-1 !== this.Tjb.indexOf(m))return this.done=!0;m === g.uia && this.bib(l.Cm);m === g.wia && this.bib(l.Cm);this.Zv && c(m,this.Zv);c(m,this.i8);return this.Zv && 0 === this.Zv.length && !this.i8.some(function(h){return n.Cm[h];})?this.done=!0:this.done;};k.prototype.bib=function(m){var f;f=this;this.Cm=m;this.endOffset=(this.Zv || []).concat(this.i8).reduce(function(d,l){return f.Cm[l]?(l=f.Cm[l],Math.max(l.offset + (l.size || 4096),d)):d;},this.endOffset || 0);};k.OVb=["moov","sidx"];return k;})();b.crb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LJa="HLSPlaylistTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JGa="CdnPartitionerSymbol";},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Sga=void 0;g=a(42);c.Ns=function(){var k;k={};return (k[g.ae.oG]="mp4a.40.2",k[g.ae.R2]="mp4a.40.2",k[g.ae.pG]="mp4a.40.2",k[g.ae.Iz]="mp4a.40.42",k[g.ae.JS]="ec-3",k[g.ae.U1]="ec-3",k[g.ae.KS]="ec-3",k);};b.Sga=c;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(835),b);r.__exportStar(a(836),b);r.__exportStar(a(837),b);r.__exportStar(a(838),b);r.__exportStar(a(839),b);r.__exportStar(a(396),b);r.__exportStar(a(840),b);r.__exportStar(a(841),b);r.__exportStar(a(842),b);r.__exportStar(a(843),b);r.__exportStar(a(844),b);r.__exportStar(a(845),b);r.__exportStar(a(849),b);r.__exportStar(a(250),b);r.__exportStar(a(850),b);r.__exportStar(a(76),b);r.__exportStar(a(851),b);r.__exportStar(a(852),b);r.__exportStar(a(853),b);r.__exportStar(a(854),b);r.__exportStar(a(855),b);r.__exportStar(a(856),b);r.__exportStar(a(857),b);r.__exportStar(a(858),b);r.__exportStar(a(859),b);r.__exportStar(a(860),b);r.__exportStar(a(861),b);r.__exportStar(a(862),b);r.__exportStar(a(863),b);r.__exportStar(a(864),b);r.__exportStar(a(865),b);r.__exportStar(a(866),b);r.__exportStar(a(867),b);r.__exportStar(a(868),b);r.__exportStar(a(869),b);r.__exportStar(a(878),b);r.__exportStar(a(881),b);r.__exportStar(a(882),b);r.__exportStar(a(883),b);r.__exportStar(a(884),b);r.__exportStar(a(885),b);r.__exportStar(a(886),b);},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Vc=b.$p=void 0;(function(c){c[c.bm=0]="STOPPED";c[c.Qd=1]="BUFFERING";c[c.Kg=2]="REBUFFERING";c[c.cm=3]="STREAMING";c[c.LT=4]="TRACK_SWITCH";})(a || (a={}));b.Vc=a;b.$p=function(c){return c === a.Qd || c === a.Kg || c === a.LT;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xna=void 0;b.xna=function(a,c,g){var k,m;k=!0;g.forEach(function(f){var d;if(k && a === f.profile){d=f.ranges;k=void 0 === d?c >= f.min && c <= f.max:d.some(function(l){return c >= l.min && c <= l.max;});!k && f.disallowed && f.disallowed.some(function(l){if(l.stream.bitrate === c)return (m=l.disallowedBy,!0);});}});return {inRange:k,m8:m};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.EG=void 0;b.EG={sn:function(a){return a;}};},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Pw=b.XL=void 0;c=a(398);(function(k){k[k.KQ=0]="primary";k[k.xI=1]="fallback";})(g=b.XL || (b.XL={}));r=(function(){function k(m,f){var d,l;void 0 === f && (f=!1);l=this;this.OFb=f;this.filters=(d={},d[g.KQ]=[],d[g.xI]=[],d);Array.isArray(m)?m.forEach(function(n){return l.and(n,g.KQ);}):this.and(m);}k.prototype.and=function(m,f){void 0 === f && (f=g.KQ);m !== c.EG && this.filters[f].push({filter:m,$_a:!0});return this;};k.prototype.or=function(m,f){void 0 === f && (f=g.KQ);this.filters[f].push({filter:m,$_a:!1});return this;};k.prototype.filter=function(m){var f;f=this;[g.KQ,g.xI].forEach(function(d){f.filters[d]=f.filters[d].filter(function(l){return m(d,l.filter);});});};k.prototype.sn=function(m,f,d,l){var n;n=this;return [g.KQ,g.xI].reduce(function(h,p){return n.filters[p].reduce(function(q,t){t.$_a?q=t.filter.sn(q,f,d,l):0 === q.length && (q=t.filter.sn(m,f,d,l));return q;},h);},m);};return k;})();b.Pw=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.nT=void 0;c=a(10);g=a(75);r=(function(){function k(m,f){this.console=m;this.config=f;this.UDa=!1;}k.prototype.sn=function(m,f,d,l){void 0 === d && (d=g.M.Ha);void 0 === l && (l=!1);c.N && this.console.trace("Filtering streams for fastplay",{UDa:this.UDa,ln:d.Z,ypc:l});if(this.UDa || d.Z >= this.config.i0b || !1 === l){f=m.filter(this.ZMb);if(f.length)return f;c.N && this.console.trace("No drm streams to return");}f=m.filter(this.YGb);if(f.length)return f;c.N && this.console.trace("No clear streams to return");return m;};k.prototype.ZMb=function(m){return m.yj;};k.prototype.YGb=function(m){return !m.yj;};return k;})();b.nT=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Az=b.wub=void 0;c=a(0);g=a(251);r=(function(){function k(m,f){this.Ra=m;this.hB=f?[f]:[];}Object.defineProperties(k.prototype,{value:{get:function(){return this.Ra;},enumerable:!1,configurable:!0}});k.prototype.addListener=function(m){-1 === this.hB.indexOf(m) && (this.hB=this.hB.slice(),this.hB.push(m));};k.prototype.removeListener=function(m){m=this.hB.indexOf(m);-1 !== m && (this.hB=this.hB.slice(),this.hB.splice(m,1));};return k;})();b.wub=r;r=(function(k){function m(f,d){return k.call(this,f,d) || this;}c.__extends(m,k);m.xgc=function(f,d,l){return new g.Aia(f,d,l,!1);};Object.defineProperties(m.prototype,{value:{get:function(){return this.Ra;},set:function(f){this.set(f);},enumerable:!1,configurable:!0}});m.prototype.set=function(f){var d;d=this.Ra;d !== f && (this.Ra=f,this.hB.forEach(function(l){return l({oldValue:d,newValue:f});}));};return m;})(r);b.Az=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BE=void 0;b.BE=function(a,c){var g;a=Math.abs(a);for(c=Math.abs(c);c;){g=c;c=a % c;a=g;}return a;};},function(r,b,a){var c,g,k,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.dLa=void 0;c=a(0);g=a(20);k=a(2);a(130);m=a(183);f=a(152);r=(function(d){function l(n,h,p){h=d.call(this,h,p) || this;h.a$b=n;h.reset();return h;}c.__extends(l,d);l.prototype.reset=function(){var n,h;if(this.Sc === m.co.Fda || this.Sc === m.co.pending)null === (h=null === (n=this.yM) || void 0 === n?void 0:n.return) || void 0 === h?void 0:h.call(n);this.Sc=m.co.pending;this.yM=this.a$b();this.Ola=f.Rh.bG(g.M.Ha);};l.prototype.ij=function(){this.reset();(0,k.assert)(this.Uq);this.Uq.Igb(this);};l.prototype.Lba=function(){return this.Ola;};l.prototype.Sf=function(){var n,h,p,q,t;t=null !== (h=null === (n=this.yM) || void 0 === n?void 0:n.next()) && void 0 !== h?h:{done:!0};t.done?(this.Ola=f.Rh.lEa,null === (q=(p=this.yM).return) || void 0 === q?void 0:q.call(p),this.yM=void 0):this.Ola=t.value;};l.prototype.xb=function(){var n,h;null === (h=null === (n=this.yM) || void 0 === n?void 0:n.return) || void 0 === h?void 0:h.call(n);this.yM=void 0;d.prototype.xb.call(this);};return l;})(m.Zja);b.dLa=r;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.MRa=void 0;c=a(0);g=a(183);k=a(152);r=(function(m){function f(d,l,n){n=m.call(this,n) || this;n.iBa=d;n.NN=l;return n;}c.__extends(f,m);f.prototype.Lba=function(){return this.Sc === g.co.pending?this.iBa:k.Rh.lEa;};f.prototype.Sf=function(){this.NN();};return f;})(g.Zja);b.MRa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zPa=void 0;c=a(0);r=(function(g){function k(m,f){m=g.call(this,m) || this;m.h3a=f;m.name="PlaybackError";return m;}c.__extends(k,g);k.pYb=function(m){return m && m.message && m.stack && m.h3a?"PlaybackError" === (null === m || void 0 === m?void 0:m.name):!1;};return k;})(Error);b.zPa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zq=b.sS=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.w_b=2]="lowCpuPlaybackStarting";})(b.sS || (b.sS={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.zq || (b.zq={}));},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pl=void 0;r=b.pl || (b.pl={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.cm=2]="STREAMING";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aM=void 0;r=(function(){function a(c){this.zWa=c;}Object.defineProperties(a.prototype,{yP:{get:function(){return this.Qxb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.zWa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Kgb:{get:function(){var c;c=this;return this.zWa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.Qxb=!0;};a.prototype.vZ=function(c,g){var k;k=this;this.result.then(function(m){k.yP?g && g(m):c(m);});return this;};return a;})();b.aM=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dFa=void 0;c=a(75);r=(function(){function g(k){this.xh=k;this.mY=this.jB=!1;}Object.defineProperties(g.prototype,{id:{get:function(){return this.xh.id;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{startTime:{get:function(){return c.M.Ja(this.xh.xa);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{endTime:{get:function(){return c.M.Ja(this.xh.wa);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{hV:{get:function(){return this.xh.hV;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Lea:{get:function(){return this.xh.Lea;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{yr:{get:function(){return this.xh.yr;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{vC:{get:function(){return this.xh.vC;},enumerable:!1,configurable:!0}});return g;})();b.dFa=r;},function(r){function b(){}function a(c){this.WWa=c;this.Iq=[];this.bh=null;}b.prototype.clear=function(){this.Cf=null;this.size=0;};b.prototype.find=function(c){var k;for(var g=this.Cf;null !== g;){k=this.ho(c,g.data);if(0 === k)return g.data;g=g.ai(0 < k);}return null;};b.prototype.lowerBound=function(c){var f;for(var g=this.Cf,k=this.iterator(),m=this.ho;null !== g;){f=m(c,g.data);if(0 === f)return (k.bh=g,k);k.Iq.push(g);g=g.ai(0 < f);}for(f=k.Iq.length - 1;0 <= f;--f){if((g=k.Iq[f],0 > m(c,g.data)))return (k.bh=g,k.Iq.length=f,k);}k.Iq.length=0;return k;};b.prototype.upperBound=function(c){for(var g=this.lowerBound(c),k=this.ho;null !== g.data() && 0 === k(g.data(),c);){g.next();}return g;};b.prototype.min=function(){var c;c=this.Cf;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.Cf;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.fg=function(c){for(var g=this.iterator(),k;null !== (k=g.next());){c(k);}};a.prototype.data=function(){return null !== this.bh?this.bh.data:null;};a.prototype.next=function(){var c;if(null === this.bh){c=this.WWa.Cf;null !== c && this.FVa(c);}else if(null === this.bh.right){do {if((c=this.bh,this.Iq.length))this.bh=this.Iq.pop();else {this.bh=null;break;}}while(this.bh.right === c);}else (this.Iq.push(this.bh),this.FVa(this.bh.right));return null !== this.bh?this.bh.data:null;};a.prototype.bK=function(){var c;if(null === this.bh){c=this.WWa.Cf;null !== c && this.AVa(c);}else if(null === this.bh.left){do {if((c=this.bh,this.Iq.length))this.bh=this.Iq.pop();else {this.bh=null;break;}}while(this.bh.left === c);}else (this.Iq.push(this.bh),this.AVa(this.bh.left));return null !== this.bh?this.bh.data:null;};a.prototype.FVa=function(c){for(;null !== c.left;){this.Iq.push(c);c=c.left;}this.bh=c;};a.prototype.AVa=function(c){for(;null !== c.right;){this.Iq.push(c);c=c.right;}this.bh=c;};r.exports=b;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nka=void 0;c=a(0).__importDefault(a(4));r=(function(){function g(k){this.iR=new Uint16Array(k.length);for(var m=0;m < k.length;++m){this.iR[m]=k.charCodeAt(m);}}g.prototype.encrypt=function(k){for(var m=this.iR.length,f="",d=0;d < k.length;++d){f+=String.fromCharCode(this.iR[d % m] ^ k.charCodeAt(d));}return encodeURIComponent(f);};g.prototype.decrypt=function(k,m){var f,d;void 0 === m && (m=!1);f=this.iR.length;d="";if(m)for((m=new Uint8Array(c.default.V7(k)),k=0);k < m.length;k++){d+=String.fromCharCode(this.iR[k % f] ^ m[k]);}else for((m=decodeURIComponent(k),k=0);k < m.length;k++){d+=String.fromCharCode(this.iR[k % f] ^ m.charCodeAt(k));}return d;};return g;})();b.nka=r;},function(r,b){function a(c){var g,k;g=Math.abs(c);k=1 / (1 + g / 2);g=k * Math.exp(-g * g - 1.26551223 + k * (1.00002368 + k * (.37409196 + k * (.09678418 + k * (-.18628806 + k * (.27886807 + k * (-1.13520398 + k * (1.48851587 + k * (-.82215223 + .17087277 * k)))))))));return 0 <= c?g:2 - g;}Object.defineProperties(b,{__esModule:{value:!0}});b.DOb=b.b8a=b.EO=void 0;b.EO=a;b.b8a=function(c){var g,k,f;if(2 <= c)return -100;if(0 >= c)return 100;g=1 > c?c:2 - c;k=Math.sqrt(-2 * Math.log(g / 2));k=-.70711 * ((2.30753 + .27061 * k) / (1 + k * (.99229 + .04481 * k)) - k);for(var m=0;2 > m;m++){f=a(k) - g;k+=f / (1.1283791670955126 * Math.exp(-(k * k)) - k * f);}return 1 > c?k:-k;};b.DOb=function(c){return 1 - a(c);};},function(r){function b(a){this.Kla=a;this.Og=[];this.As=!1;this.zH=void 0;this.Jk={};}b.prototype.x6=function(a){this.Og.length === this.Kla && this.Og.shift();Array.isArray(a)?this.Og=this.Og.concat(a):this.Og.push(a);this.As=!0;};b.prototype.bP=function(){return this.Og.length;};b.prototype.yoa=function(){var a;a=this.Og;return 0 < a.length?a.reduce(function(c,g){return c + g;},0) / this.Og.length:void 0;};b.prototype.u7=function(){var a,c;a=this.Og;if(0 < a.length){c=this.yoa();a=a.reduce(function(g,k){return g + k * k;},0) / a.length;return Math.sqrt(a - c * c);}};b.prototype.Ou=function(a){var c,g,k;if(this.As || void 0 === this.zH)(this.zH=this.Og.slice(0).sort(function(m,f){return m - f;}),this.Jk={},this.As=!1);if(void 0 === this.Jk[a]){c=this.zH;g=Math.floor(a / 100 * (c.length - 1) + 1) - 1;k=(a / 100 * (c.length - 1) + 1) % 1;this.Jk[a]=g === c.length - 1?c[g]:c[g] + k * (c[g + 1] - c[g]);}return this.Jk[a];};r.exports=b;},function(r,b,a){var m;function c(f){this.reset();this.lac(f);}function g(f){this.setInterval(f);this.reset();}function k(f){this.pD=new g(f);this.Pb=0;this.Yc=null;}m=a(11);c.prototype.lac=function(f){this.iM=Math.pow(.5,1 / f);this.nU=f;};c.prototype.reset=function(f){f && f.va && m.Oa(f.va)?f.ye && m.Oa(f.ye)?(this.Vw=this.Kxb,this.Jq=f.va,this.lD=f.ye + f.va * f.va):(this.Vw=this.Kxb,this.Jq=f.va,this.lD=f.va * f.va):this.lD=this.Jq=this.Vw=0;};c.prototype.add=function(f){var d;if(m.Oa(f)){this.Vw++;d=this.iM;this.Jq=d * this.Jq + (1 - d) * f;this.lD=d * this.lD + (1 - d) * f * f;}};c.prototype.uta=function(){var f,d,l;if(0 === this.Vw)return {va:0,ye:0};f=this.Jq;d=this.lD;l=1 - Math.pow(this.iM,this.Vw);f/=l;d/=l;l=f * f;return {va:f,ye:d > l?d - l:0};};c.prototype.get=function(){var f;f=this.uta();return {va:Math.floor(f.va),ye:Math.floor(f.ye)};};c.prototype.getState=function(){return 0 === this.Vw?null:{a:Number(this.Jq.toPrecision(6)),s:Number(this.lD.toPrecision(6)),n:this.Vw};};c.prototype.Jd=function(f){if(m.tb(f) || !m.has(f,"a") || !m.has(f,"s") || !m.isFinite(f.a) || !m.isFinite(f.s))return (this.lD=this.Jq=this.Vw=0,!1);this.Jq=f.a;this.lD=f.s;m.has(f,"n") && m.Oa(f.n)?this.Vw=f.n:this.Vw=16 * this.nU;return !0;};g.prototype.setInterval=function(f){this.nU=f;this.iM=-Math.log(.5) / f;};g.prototype.reset=function(f){this.yb=this.eh=null;f && m.isFinite(f.va)?this.Jq=f.va:this.Jq=0;};g.prototype.start=function(f){m.tb(this.eh) && (this.yb=this.eh=f);};g.prototype.add=function(f,d,l){var n,h,p;m.tb(this.eh) && (this.yb=this.eh=d);this.eh=Math.min(this.eh,d);d=Math.max(l - d,1);n=this.iM;h=Math.max(l,this.yb);p=h - this.yb;l=h - l;this.Jq=this.Jq * (0 < p?Math.exp(-n * p):1) + 8 * f / d * (1 - Math.exp(-n * d)) * (0 < l?Math.exp(-n * l):1);this.yb=h;};g.prototype.get=function(f){var d;f=Math.max(f,this.yb);d=this.Jq * Math.exp(-this.iM * (f - this.yb));f=1 - Math.exp(-this.iM * (f - this.eh));0 < f && (d/=f);return {va:Math.floor(d)};};g.prototype.toString=function(){return "ewmav(" + this.nU + ")";};k.prototype.setInterval=function(f){this.pD.setInterval(f);};k.prototype.reset=function(f){this.pD.reset(f);this.Pb=0;this.Yc=null;};k.prototype.start=function(f){!m.tb(this.Yc) && f > this.Yc && (this.Pb+=f - this.Yc,this.Yc=null);this.pD.start(f - this.Pb);};k.prototype.add=function(f,d,l){!m.tb(this.Yc) && l > this.Yc && (this.Pb+=d > this.Yc?d - this.Yc:0,this.Yc=null);this.pD.add(f,d - this.Pb,l - this.Pb);};k.prototype.stop=function(f){this.Yc=Math.max(m.tb(this.pD.yb)?0:this.pD.yb + this.Pb,m.tb(this.Yc)?f:Math.min(this.Yc,f));};k.prototype.get=function(f){return this.pD.get((m.tb(this.Yc)?f:this.Yc) - this.Pb);};k.prototype.toString=function(){return this.pD.toString();};r.exports={dqb:c,nic:g,bqb:k};},function(r,b,a){var g,k;function c(m,f,d,l){g.call(this,d,l);this.bx=new k(m);this.uyb=f;}g=a(153);k=a(414);c.prototype=Object.create(g.prototype);c.prototype.shift=function(){var m;m=this.qy(0);g.prototype.shift.call(this);null !== m && this.bx.x6(m);return m;};c.prototype.flush=function(){var m;m=this.get();this.bx.x6(m);g.prototype.reset.call(this);return m;};c.prototype.get=function(){var m;m=this.QI();return {sampleSize:this.bP(),uca:m,Txa:m.mk?(m.Ol - m.Nl) / m.mk:void 0};};c.prototype.bP=function(){return this.bx.bP();};c.prototype.QI=function(){return this.bx.bP() < this.uyb?{Nl:void 0,mk:void 0,Ol:void 0,sampleSize:void 0,Gj:void 0}:{Nl:this.bx.Ou(25),mk:this.bx.Ou(50),Ol:this.bx.Ou(75),sampleSize:this.bx.bP(),Gj:this.bx.Ou.bind(this.bx)};};c.prototype.toString=function(){return "biqr(" + this.hN + "," + this.Vd + "," + this.Lk + ")";};r.exports=c;},function(r,b,a){var g,k;function c(m){this.L={VY:m.maxc || 25,vpa:m.c || .5,Bgc:m.w || 15E3,sA:m.b || 5E3};g.call(this,this.L.Bgc,this.L.sA);this.TU();}g=a(153);k=a(186).TDigest;c.prototype=Object.create(g.prototype);c.prototype.shift=function(){var m;m=this.qy(0);g.prototype.shift.call(this);null !== m && (this.Df.push(m,1),this.As=!0);return m;};c.prototype.flush=function(){var m;m=this.get();this.Df.push(m,1);this.As=!0;g.prototype.reset.call(this);return m;};c.prototype.get=function(){return this.X6a();};c.prototype.cB=function(){var m;m=this.X6a();return {min:m.min,p10:m.kca,p25:m.Nl,p50:m.mk,p75:m.Ol,p90:m.lca,max:m.max,centroidSize:m.dGb,sampleSize:m.sampleSize,centroids:m.wj};};c.prototype.X6a=function(){var m;if(0 === this.Df.size())return null;m=this.Df.Gj([0,.1,.25,.5,.75,.9,1]);if(m[2] === m[4])return null;if(this.As || !this.qd)(this.As=!1,this.qd={min:m[0],kca:m[1],Nl:m[2],mk:m[3],Ol:m[4],lca:m[5],max:m[6],Gj:this.Df.Gj.bind(this.Df),dGb:this.Df.size(),sampleSize:this.Df.n,wj:this.MRb(),cB:this.cB.bind(this)});return this.qd;};c.prototype.MRb=function(){var m;if(0 === this.Df.size())return null;if(!this.As && this.qd)return this.qd.centroids;m=this.Df.Gj([.25,.75]);if(m[0] === m[1])return null;this.Df.size() > this.L.VY && this.Df.EA();m=this.Df.Vn(!1).map(function(f){return {mean:f.kg,n:f.n};});return JSON.stringify(m);};c.prototype.T6a=function(){return this.Df.summary();};c.prototype.size=function(){return this.Df.size();};c.prototype.toString=function(){return "btdtput(" + this.hN + "," + this.Vd + "," + this.Lk + "): " + this.Df.summary();};c.prototype.TU=function(){this.Df=new k(this.L.vpa,this.L.VY);};r.exports=c;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y;function c(z){this.config=z;this.Lwb=z.Qka;}g=a(419).Nia;k=a(934).TGa;b=a(415);m=b.dqb;f=b.bqb;d=a(256).cqb;l=a(257).Tga;n=a(257).DHa;h=a(256).zvb;p=a(416);q=a(417);t=a(420).qSa;v=a(935);w=a(936);u=a(258);x=a(937).VPa;y=a(938).XEa;c.prototype.constructor=c;c.prototype.create=function(z,A){var B,C,D,E;B=this.Lwb[z];C=A[z];D={};B && Object.keys(B).forEach(function(G){D[G]=B[G];});C && Object.keys(C).forEach(function(G){D[G]=C[G];});switch(D.type){case "slidingwindow":E=new g(this.config,new d(D.mw));break;case "discontiguous-ewma":E=new g(this.config,new f(D.mw));break;case "initial-discontiguous-ewma":E=new x(new f(D.mw),D.playerStates);break;case "wssl":E=new h(D.mw,D.max_n);break;case "iqr":E=new p(D.mx,D.mn,D.bw,D.iv);break;case "tdigest":E=new q(D);break;case "ci":E=new g(this.config,new y(D,new k(D)));break;case "discrete-ewma":E=new m(D.hl);break;case "tdigest-history":E=new t(D);break;case "iqr-history":E=new v(D);break;case "avtp":E=new u();break;case "entropy":E=new w(D);break;case "deliverytime":E=new g(this.config,new y(D,new l(D)));break;case "deliverytime-ci":E=new g(this.config,new y(D,new n(D)));}E && (E.type=D.type);return E;};r.exports=c;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Nia=void 0;new (a(4).default.Console)("ASEJS_PACING_FILTER","media|asejs");r=(function(){function c(g,k){this.config=g;this.filter=k;}c.prototype.vi=function(){return new c(this.config,this.filter);};c.prototype.Wac=function(g,k,m,f){var d,l,n;n=f.F_;if(!n || !n.iaa())return !0;switch(this.config.CWb){case "requested":return !1;case "requested-low":return (n=n.dBa(this.config.Nqa),n.xbb() > ((null === (d=f.lC) || void 0 === d?void 0:d.a_) || 0));case "inferred":n=n.dBa(this.config.Nqa);g=n.Zwa(g,k,m,this.config.JZ);if(!g)break;return n.xbb() > ((null === (l=f.lC) || void 0 === l?void 0:l.a_) || 0);case "inferred-strict":if((n=n.dBa(this.config.Nqa),n.Zwa(g,k,m,this.config.JZ)))return !1;}return !0;};c.prototype.add=function(g,k,m,f){this.Wac(g,k,m,f) && this.filter.add(g,k,m,f);};c.prototype.get=function(g){if(this.filter.get)return this.filter.get(g);};c.prototype.start=function(g){this.filter.start && this.filter.start(g);};c.prototype.stop=function(g){this.filter.stop && this.filter.stop(g);};c.prototype.flush=function(){this.filter.flush && this.filter.flush();};c.prototype.reset=function(){this.filter.reset && this.filter.reset();};return c;})();b.Nia=r;},function(r,b,a){var g,k;function c(m){this.L={VY:m.maxc || 25,vpa:m.c || .5,G7b:m.rc || "none",WI:m.hl || 7200};this.TU();this.Zzb=this.L.G7b;this.nU=this.L.WI;this.wka=Math.exp(Math.log(2) / this.nU);this.wka=Math.max(this.wka,1);this.U4=1;}g=a(11);k=a(186).TDigest;new (a(4).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var m;if(0 === this.Df.size())return null;m=this.Df.Gj([.25,.75]);if(m[0] === m[1])return null;this.Df.size() > this.L.VY && this.Df.EA();m=this.Df.Vn(!1).reduce((function(f,d){g.Oa(d.kg) && g.Oa(d.n) && f.push({mean:d.kg,n:d.n / this.U4});return f;}).bind(this),[]);return {tdigest:JSON.stringify(m)};};c.prototype.Jd=function(m){var f;if(g.tb(m) || !g.has(m,"tdigest") || !g.Cg(m.tdigest))return !1;try{f=JSON.parse(m.tdigest);}catch(d){return !1;}f.forEach(function(d){g.isFinite(d.n) || (d.n=1);});m=f.map(function(d){return {kg:d.mean,n:d.n};});this.U4=1;this.Df.Xza(m);void 0 === this.Df.Gj(0) && this.TU();};c.prototype.get=function(){var m,f;m=this.Df;f=m.Gj([0,.1,.25,.5,.75,.9,1]);return {min:f[0],kca:f[1],Nl:f[2],mk:f[3],Ol:f[4],lca:f[5],max:f[6],wj:m.Vn(!1)};};c.DTb=function(m){var f;f=new c({});g.tb(m) || g.ta(m) || !g.isArray(m.wj) || (f.Df.Xza(m.wj),void 0 === f.Df.Gj(0) && f.TU());m=f.Df.Gj([.25,.75]);return m[0] === m[1]?null:function(d){return f.Df.Gj(d);};};c.prototype.add=function(m){var f;f=1;"ewma" === this.Zzb && (this.U4=f=this.U4 * this.wka);this.Df.push(m,f);};c.prototype.toString=function(){return "TDigestHist(" + this.Df.summary() + ")";};c.prototype.TU=function(){this.Df=new k(this.L.vpa,this.L.VY);};r.exports={qSa:c};},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.k4=void 0;c=a(2);b.k4=(function(){function k(m,f,d){d.tI && (g=new (a(945).YRa)(m,f));}k.instance=function(){(0,c.assert)(g,"expected StaticMediaProvider to exist");return g;};return k;})();},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(259);g=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);return m;})(Error);b.assert=function(k,m){if(!k)throw new g(m || "Assertion failed");};},function(r,b,a){var c,g,k,m,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ja=b.yha=void 0;c=a(0);g=c.__importStar(a(11));k=c.__importDefault(a(4));m=a(978);f=a(979);d=(function(){return function(){this.g7=new f.CT(100);this.Hba=new f.CT(100);};})();r=(function(){function l(n,h,p){var q,t,v;this.L=h;this.H=p;this.S5=n;q=this.$M=this.mM=this.lM=0;t=0;v=0;this.S5.length >= this.L.tba && (this.S5.forEach(function(w){!(w=w.get().lQb) || g.ta(w.avtp) || g.ta(w.neuhd) || (q+=w.avtp,t+=1 * w.neuhd,v++);}),this.$M=v,this.lM=q / v,this.mM=t / v);}Object.defineProperties(l.prototype,{lEb:{get:function(){return this.lM;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{nEb:{get:function(){return this.mM;},enumerable:!1,configurable:!0}});l.prototype.faa=function(){return this.$M >= this.L.tba && this.lM >= this.L.baselineHighAndStableThreshold.bwThreshold && this.mM < this.L.baselineHighAndStableThreshold.nethreshold;};return l;})();b.yha=r;r=(function(l){function n(h,p,q){h=l.call(this,h,p,q) || this;h.mka=[];h.nPb={};h.Xjb=[];h.LA=new d();h.S5.length >= h.L.tba && (h.aXa("avtp",h.LA.g7),h.aXa("neuhd",h.LA.Hba));return h;}c.__extends(n,l);n.prototype.faa=function(){var h;this.CTb();h=new m.XLa(this.H,this.Xjb,this.AEb);h.uza(this.mka);h=h.QGb(this.L.w$.Wqc);return this.xfc && 1 === h && this.$M >= this.L.tba;};n.prototype.ZA=function(){var h,p,q,t;h={};p=k.default.time.now();q=new Date(p);t=q.getHours();h.currentMonoTime=p;h.currentTime=q.getTime();h.currentHour=t;return h;};n.prototype.l5a=function(h,p,q){h="avtp" === h?this.lM:this.mM;for(var t=p.u7(),v=0,w="skew" === q?3:4,u=0;u < p.Og.length;u++){g.ta(h) || g.ta(t) || (v+=Math.pow(p.Og[u] - h,w));}v/=p.Og.length;return !g.ta(t) && 0 < t?v / Math.pow(t,w) - 3 * ("skew" === q?0:1):NaN;};n.prototype.C5a=function(h,p,q){var t;t=0;"lte" === q?t=h.reduce(function(v,w){return w <= p?v + 1:v;},0) / (1 * h.length):"gte" === q && (t=h.reduce(function(v,w){return w >= p?v + 1:v;},0) / (1 * h.length));return t;};n.prototype.kTb=function(h){var p,q;p=h.Ou(25);q=h.Ou(50);h=h.Ou(75);return g.ta(p) || g.ta(q) || g.ta(h)?NaN:0 < q?(h - p) / q:NaN;};n.prototype.ERb=function(h,p){h="avtp" === h?this.lM:this.mM;p=p.u7();return !g.ta(p) && !g.ta(h) && (0 < p || 0 < h) && 0 < h?(h - p) / (h + p):NaN;};n.prototype.QI=function(h,p){h=h.Ou(p);return g.ta(h)?NaN:h;};n.prototype.normalize=function(h,p,q){return !isNaN(h) && 0 < q?(h - p) / q:NaN;};n.prototype.CTb=function(){var h,p,q,t,v,w,u,x,y,z,A,B;h=this;p=this.L.w$.bab.Mpc;q=this.L.w$.bab.Kpc;t=this.L.w$.bab.Lpc;x=[];B=0;this.xfc=!Object.keys(p).some(function(C){var D;A=NaN;if(!(p.hasOwnProperty(C) && q.hasOwnProperty(C) && t.hasOwnProperty(C) && !g.ta(h.LA) && h.LA.g7 && h.LA.Hba) || 1 > h.$M || "number" !== typeof p[C] || "number" !== typeof q[C] || "number" !== typeof t[C])return !0;v=p[C];w=q[C];u=t[C];x=C.split("_",2);y=x[0];z=x[1];switch(y){case "avtp":D=h.LA.g7;break;case "neuhd":D=h.LA.Hba;break;default:D=void 0;}if("avtp" === y || "neuhd" === y){if(D)switch(z){case "last":A=D.Og[h.$M - 1];break;case "mean":A="avtp" === y?h.lM:h.mM;break;case "niqr":A=h.kTb(D);break;case "skew":A=h.l5a(y,D,"skew");break;case "kurtosis":A=h.l5a(y,D,"kurtosis");break;case "std":A=D.u7();break;case "b":A=h.ERb(y,D);break;default:-1 !== C.search("[p][1-9]?[1-9]") && (A=h.QI(D,Number(C.split("_p",2)[1])));}}else switch(C){case "fracAbove20Mbps":D=h.LA.g7;A=g.ta(D)?NaN:h.C5a(D.Og,2E4,"gte");break;case "fracBelow20p":D=h.LA.Hba;A=g.ta(D)?NaN:h.C5a(D.Og,.15,"lte");break;case "hour_current":A=h.ZA().currentHour;break;case "session_ct":A=h.$M;break;case "intercept":(A=v,h.AEb=A);}A=h.normalize(A,w,u);if(isNaN(A))return !0;"intercept" !== C && (h.mka.push(A),h.Xjb.push(v),h.nPb[C]=B,B+=1);});};n.prototype.aXa=function(h,p){this.S5.forEach(function(q){q=q.get().lQb;!q || "avtp" !== h && "neuhd" !== h || g.ta(q[h]) || p.x6(Number(q[h]));});};return n;})(r);b.$Ja=r;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p;Object.defineProperties(b,{__esModule:{value:!0}});b.pL=void 0;c=a(0);g=a(76);k=a(425);m=a(20);f=a(2);d=a(8);l=a(426);n=a(263);h=a(428);p=a(429);r=(function(){function q(t,v,w){this.L=v;this.H=w;this.Pz=new d.JRa();this.D5=0;this.vm=t.vm;this.S=t.S;this.mediaType=t.mediaType;this.XF=t.XF;this.iA=t.iA;this.mediaType === g.u.J?(v=this.vm,w=c.__read(v.streams,1)[0],this.qAb=new h.hka({w:v.maxWidth,vr:v.maxHeight},{w:v.eza,vr:v.fza}),void 0 !== w.framerate_value && void 0 !== w.framerate_scale && (this.kla=n.dM.from({Mv:w.framerate_value,Uu:w.framerate_scale}),this.Jla=this.kla.ba()),void 0 !== v.kxa && void 0 !== v.jxa && (this.kyb=n.dM.from({Mv:v.kxa,Uu:v.jxa}))):this.mediaType === g.u.V && (this.mwb=this.vm.streams[0].channels,this.sAb=48E3);this.sb=(this.FM=this.Jla) && this.FM.W;this.ola=this.cWa=!1;this.pua=-Infinity;this.$$a=Infinity;t=q.Bwb(this,t.gg);v=t.maxBitrate;w=t.Rc;this.Mo=t.Mo;this.maxBitrate=v;this.Rc=w;this.OAb=w.reduce(function(u,x){u[x.Pa]=x;return u;},{});!1;}q.Bwb=function(t,v){var w,u,x,y,z,A,B;w=t.L;u=t.mediaType === g.u.J;x=!1;y=0;z=[];if(t.mediaType === g.u.V || t.mediaType === g.u.J){A=t.vm;B=A.streams.some(function(C){return C.yj;});A.streams.forEach(function(C,D){var E,G,F;E=C.bitrate;G=!0;if(u){F=C.yj;G=w.A8 && w.kfa?v?!0:F === B:v && !F || !v && (F || !B);x=x || F;}G && E > y && (y=E);C=new p.fga({ey:C,mg:D,track:t,Ar:G},w,t.H);z.push(C);});}else t.mediaType === g.u.Hb && (A=t.vm,A=new p.fga({ey:A.ttDownloadables["imsc1.1"],mg:0,track:t,Ar:!0,adc:A.downloadableIds["imsc1.1"]},w,t.H),z.push(A));return {Mo:x,maxBitrate:y,Rc:z};};Object.defineProperties(q.prototype,{Dba:{get:function(){return !this.ee && 0 === this.D5;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ee:{get:function(){var t;return this.mediaType === g.u.Hb?!0:this.Ya?!(null === (t=this.Pz.value) || void 0 === t || !t.ee):! !this.rq && ! !this.Pz.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Eza:{get:function(){return this.cWa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{K:{get:function(){return String(this.S.K);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{trackId:{get:function(){return this.mediaType === g.u.Hb?this.vm.id:this.vm.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xt:{get:function(){return this.Byb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ba:{get:function(){return this.FM;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{frameRate:{get:function(){return this.kla;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Waa:{get:function(){return this.kyb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ul:{get:function(){return this.qAb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{channels:{get:function(){return this.mwb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sampleRate:{get:function(){return this.sAb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{profile:{get:function(){return this.mediaType === g.u.Hb?this.vm.rawTrackType:this.vm.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{i0:{get:function(){return this.mediaType === g.u.Hb?this.vm.rawTrackType:this.vm.i0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{W:{get:function(){return this.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{DJ:{get:function(){return this.Ayb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{rq:{get:function(){return this.Zc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{cJ:{get:function(){return this.Pz.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{o9:{get:function(){return this.ba.W;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{n9:{get:function(){return this.ba.Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{da:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Rra:{get:function(){return this.Pz;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{XY:{get:function(){return this.Rc.some(function(t){var v;return 1 < ((null === (v=t.Sg) || void 0 === v?void 0:v.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ya:{get:function(){return this.S.Ya;},enumerable:!1,configurable:!0}});q.prototype.Sx=function(t){return this.eB()[t];};q.prototype.eB=function(){return this.OAb;};q.prototype.equals=function(t){return ! !t && this.K === t.K && this.mediaType === t.mediaType && this.trackId === t.trackId;};q.prototype.aca=function(){this.D5++;};q.prototype.$ba=function(){0 < this.D5 && this.D5--;};q.prototype.Zba=function(t,v,w,u,x,y){if(this.Ya || u && void 0 !== u.Qn && (this.ee || void 0 !== u.se && u.se.length)){if(t.yj || !t.track.Mo)this.cWa=!0;if(this.ee)!this.ola && !this.Ya && u.se && u.se.length > this.rq.length && (this.Zc=new k.aka(this.mediaType,this.ba,u,x),this.Pz.Egb(),this.pua=-Infinity,this.ola=!0);else {this.EWa(v);this.Byb=y;if(w=w || this.Jla)(this.DWa(w || this.Jla),void 0 === this.W && this.FWa(w.W));this.Ya || (this.Zc=new k.aka(this.mediaType,this.ba,u,x));if(t.yj || !t.track.Mo)this.ola=!0;}}else this.Ya || this.H && this.H.error("AseTrack.onHeaderReceived with missing fragments data");};q.prototype.k3b=function(t){void 0 === this.Pz.value && this.Pz.set(t);};q.prototype.VHb=function(t){this.ee || (this.FWa(t.W),this.EWa(t.DJ),this.DWa(t.ba),this.Zc=t.rq,t.Rra.value?this.Pz.set(t.Rra.value):this.Pz.Egb());};q.prototype.Do=function(t,v,w,u){(0,f.assert)(this.cJ);this.Ya && (v=Math.min(v,this.DE().Z));return (0,l.Do)(this.mediaType,t,this.cJ,v,w,u);};q.prototype.WA=function(t,v,w){(0,f.assert)(this.cJ);return (0,l.WA)(this.mediaType,t,this.cJ,v,w);};q.prototype.Io=function(){var t;if(this.mediaType === g.u.V){(0,f.assert)(this.mediaType === g.u.V);(0,f.assert)(void 0 !== this.channels);(0,f.assert)(void 0 !== this.sampleRate);t={channels:this.channels,profile:this.profile,i0:this.i0,bitrate:this.Rc[this.Rc.length - 1].bitrate,sampleRate:this.sampleRate,xt:this.xt};}else ((0,f.assert)(this.mediaType === g.u.J),(0,f.assert)(void 0 !== this.Waa),(0,f.assert)(void 0 !== this.Ul),t={P:this.S.P,Mo:this.Mo,profile:this.profile,o9:this.Waa.Mv,n9:this.Waa.Uu,i0:this.i0,Ul:this.Ul,maxWidth:this.Ul.Ul.w,maxHeight:this.Ul.Ul.vr,eza:this.Ul.wdb.w,fza:this.Ul.wdb.vr,xt:this.xt});return t;};q.prototype.toJSON=function(){return {movieId:this.K,mediaType:this.mediaType,trackId:this.trackId};};q.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};q.prototype.DE=function(){var t,v;(0,f.assert)(this.Ya,"Unexpected call to getLiveEdgeTimestamp. Not a live track.");v=(null !== (t=this.cJ) && void 0 !== t?t:this.Rc[0]).EE().ECa;return m.M.Ja(Math.max(0,v - this.L.B$a));};q.prototype.FWa=function(t){this.sb=t;};q.prototype.EWa=function(t){this.Ayb=t;};q.prototype.DWa=function(t){this.FM=t;this.mediaType === g.u.J && (this.kla=n.dM.HQb(t));};return q;})();b.pL=r;},function(r,b,a){var g,k,m,f;function c(d){return function(){for(var l=Array(this.length),n=0;n < this.length;++n){l[n]=d.call(this,n);}return l;};}Object.defineProperties(b,{__esModule:{value:!0}});b.nDb=b.cy=b.aka=b.FSa=void 0;r=a(0);g=a(2);r=r.__importDefault(a(4));k=a(20);m=new r.default.Console("FRAGMENTS","media|asejs");f=(function(){function d(l,n){this.Zc=l;this.ze=n;}Object.defineProperties(d.prototype,{index:{get:function(){return this.ze;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{pc:{get:function(){return new k.M(this.Za,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Fd:{get:function(){return new k.M(this.lb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Za:{get:function(){return this.Zc.V5 + this.Zc.FD[this.ze];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{lb:{get:function(){return this.Za + this.Zc.ws[this.ze];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Vu:{get:function(){return this.Zc.ws[this.ze];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ba:{get:function(){return this.Zc.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{W:{get:function(){return this.Zc.W;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{da:{get:function(){return Math.floor(1E3 * this.Za / this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ta:{get:function(){return Math.floor(1E3 * (this.Za + this.Vu) / this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.Ta - this.da;},enumerable:!1,configurable:!0}});d.prototype.toJSON=function(){return {startPts:1E3 * this.Za / this.ba.W,endPts:1E3 * this.lb / this.ba.W,duration:1E3 * this.Vu / this.ba.W,index:this.index};};return d;})();b.FSa=f;a=(function(){function d(l,n,h,p){this.mediaType=l;this.length=h.se.length;this.sb=h.W;this.ws=h.se;this.z6=p && p.GQ;this.MXa=p && p.fR;this.FM=n;this.CDa=this.DDa=this.wVa=void 0;this.V5=h.Qn;this.FD=new Uint32Array(this.length + 1);if(this.length){for(n=l=0;n < this.length;++n){this.FD[n]=l;l+=this.ws[n];}this.FD[n]=l;this.vka=Math.floor((this.Ta - this.da) / this.length);}}Object.defineProperties(d.prototype,{Qn:{get:function(){return this.$ib(0);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Vqa:{get:function(){return this.$ib(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{da:{get:function(){return this.kl(0);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ta:{get:function(){return this.kl(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{oh:{get:function(){return new k.M(this.Vqa,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{cxa:{get:function(){return this.wVa || this.jwb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ba:{get:function(){return this.FM;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{W:{get:function(){return this.sb;},enumerable:!1,configurable:!0}});d.prototype.$ib=function(l){return this.V5 + this.FD[l];};d.prototype.kl=function(l){return Math.floor(1E3 * (this.V5 + this.FD[l]) / this.W);};d.prototype.PW=function(l){return this.kl(l + 1);};d.prototype.se=function(l){return this.PW(l) - this.kl(l);};d.prototype.get=function(l){return new f(this,l);};d.prototype.Eo=function(l,n,h){if(0 === this.length || l < this.kl(0))return -1;l=Math.max(l,n || 0);for(var p=0,q=this.length - 1,t,v;q >= p;){if((t=p + (q - p >> 1),v=this.kl(t),l < v))q=t - 1;else if(l >= v + this.se(t))p=t + 1;else {for(;n && t < this.length && this.kl(t) < n;){++t;}return t < this.length?t:h?this.length - 1:-1;}}return h?this.length - 1:-1;};d.prototype.W8=function(l,n,h){l=this.Eo(l,n,h);return 0 <= l?this.get(l):void 0;};d.prototype.J7=function(l,n){var h,p;h=Math.floor(n * this.W / 1E3);n=Math.min(l + Math.ceil(n / this.vka),this.length);p=this.FD[n] - this.FD[l];if(p > h){for(;p >= h;){--n;p-=this.ws[n];}return n - l + 1;}for(;p < h && n <= this.length;){p+=this.ws[n];++n;}return n - l;};d.prototype.subarray=function(l,n){(0,g.assert)(void 0 === l || 0 <= l && l < this.length);(0,g.assert)(void 0 === n || n > l && n <= this.length);return new d(this.mediaType,this.ba,{W:this.W,Qn:this.V5 + this.FD[l],se:this.ws.subarray(l,n)},this.z6 && ({GQ:this.z6.subarray(l,n + 1),fR:this.MXa}));};d.prototype.forEach=function(l){for(var n=0;n < this.length;++n){l(this.get(n),n,this);}};d.prototype.map=function(l){for(var n=[],h=0;h < this.length;++h){n.push(l(this.get(h),h,this));}return n;};d.prototype.reduce=function(l,n){for(var h=0;h < this.length;++h){n=l(n,this.get(h),h,this);}return n;};d.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.vka};};d.prototype.dump=function(){var n;m.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.vka + "ms");for(var l=0;l < this.length;++l){n=this.get(l);m.trace(("TrackFragments: ").concat(l,": [").concat(n.da,"-").concat(n.Ta,"]"));}};d.prototype.jwb=function(){for(var l=0,n=0;n < this.length;n++){l=Math.max(this.ws[n],l);}return this.wVa=l;};return d;})();b.aka=a;b.cy=c;a.prototype.Zib=c(a.prototype.kl);c(a.prototype.PW);c(a.prototype.se);b.nDb=function(d){return ("[").concat(Array(d.length).map(function(l,n){return d[n].toString();}).join(","),"]");};},function(r,b,a){var c,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.X2a=b.WA=b.Do=b.H9=void 0;c=a(71);g=a(6);k=a(2);m=a(129);b.H9=function(f,d){return f.Eo(d,void 0,!0);};b.Do=function(f,d,l,n,h,p){var q,t,v,w;m.Zn.sr(f);if(l.Ya){q=l.EE();d=q.qea;h=q.Wu;q=d + Math.floor(n / h.Z);f === g.u.V && (q=Math.max(d,q - 1));f=h.MB(q - d);n=f.add(h);return new c.wk(l,{index:q,Za:f.Ca,lb:n.Ca,W:l.W,offset:0,ea:0});}(0,k.assert)(l.ha,"findFirstFragment called without stream fragments");t=l.ha;n=Math.max(l.ha.kl(0),n);f === g.u.V && !p && d.jm && !d.MH && l.wf && (n=Math.max(l.ha.kl(0),n + l.wf.Z));q=(0,b.H9)(t,n);v=l.Fl(q);if(v.Ta < n)return v;w=v.Ira(n);w?(0 < w.jj && v.kj({start:w.jj}),f !== g.u.V || d.aZ || (0 > w.Re && v.kj({start:w.jj}),w.Re < (d.jm && !d.MH && l.wf?Math.floor(l.wf.Z):0) && v.Gqa())):n >= v.Ta && q < t.length - 1 && (v=l.Fl(q + 1));f === g.u.J && h && v.Ta === h && q < t.length - 1 && (v=l.Fl(q + 1));f === g.u.V && !v.Ga && (d.K8a || d.kNb) && p && v.kj({});v.qR(n);return v;};b.WA=function(f,d,l,n,h,p){var q,t;if(l.Ya)return ((0,k.assert)(Infinity === n),new c.wk(l,{index:Infinity,Za:Infinity,lb:Infinity,W:l.W,offset:0,ea:0}));m.Zn.sr(f);q=l.ha;void 0 === n && (n=q.Ta);if(h && (h=h.KPb(l,n,f,d,p)))return h;h=q.ba;p=n?n + (0,b.X2a)(f,h,d.jK,d.hR):q.PW(q.length - 1);q=q.Eo(p,void 0,!0);h=l.Fl(q);0 === q || h.da !== n || f !== g.u.J && d.jK || (--q,h=l.Fl(q));p=f === g.u.J?p:n;if(p < h.Ta){t=h.Hra(p);t && 0 !== t.jj?h.kj({end:t.jj}):f === g.u.V && (t || p < h.da) && 0 !== q?h=l.Fl(q - 1):f !== g.u.J || (l.KXb || d.XDa) && !t || 0 === q || (h=l.Fl(q - 1));}f === g.u.V && !h.Ga && d.K8a && h.kj();h.qR(n);return h;};b.X2a=function(f,d,l,n){var h;return f === g.u.J || n?0:l?null !== (h=null === d || void 0 === d?void 0:d.Z) && void 0 !== h?h:0:d?-d.Z:0;};},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Mja=void 0;c=a(0);g=a(86);a(2);c.__importDefault(a(32));r=(function(){function k(m,f,d,l){this.se=m;this.W=d;this.length=Math.min(m.length,f.length);this.mo=f;this.pd=l;}Object.defineProperties(k.prototype,{ea:{get:function(){return void 0 !== this.pd?this.pd:this.pd=this.Cka();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sizes:{get:function(){return this.mo;},enumerable:!1,configurable:!0}});k.prototype.subarray=function(m,f){return new k(this.se.subarray(m,f),this.sizes.subarray(m,f),this.W);};k.prototype.concat=function(){var d,l;for(var m=[],f=0;f < arguments.length;f++){m[f]=arguments[f];}f=[this];m=f.concat.apply(f,c.__spreadArray([],c.__read(m),!1));f=m.reduce(function(n,h){return n + h.length;},0);d=new Uint32Array(f);l=new Uint32Array(f);f=m[0].W;m.reduce(function(n,h){g.TSa.set(d,h.se,n);g.TSa.set(l,h.sizes,n);return n + h.length;},0);return new k(d,l,f);};k.prototype.Cka=function(){for(var m=this.sizes,f=this.length,d=0,l=0;l < f;++l){d+=m[l];}return d;};k.prototype.e9a=function(m){return void 0 === this.iBb?!1:0 < this.iBb[m];};return k;})();b.Mja=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hka=void 0;c=a(402);b.hka=(function(){return function(g,k){var m;void 0 === k && (k={w:1,vr:1});this.Ul=g;this.wdb=k;m=g.w * k.w;g=g.vr * k.vr;k=(0,c.BE)(m,g);this.sx={w:m / k,vr:g / k};};})();},function(r,b,a){var c,g,k,m,f,d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fga=void 0;c=a(0);g=a(76);k=a(983);m=a(20);f=a(2);d=a(412);c.__importDefault(a(4));l=a(71);r=(function(){function n(h,p,q){var t,v,w;this.L=p;this.H=q;this.Kk=h.track;this.Y5=h.mg;this.ey=h.ey;this.Rxb=this.mediaType !== g.u.Hb?this.TP.yj:!1;this.UAb=h.adc;this.jH=this.Wa=void 0;p=h.Ar;this.Ar=void 0 === p?!0:p;this.m8=h.m8;this.EM=void 0;this.yVa=this.Mg=0;this.url=this.yK=this.Zb=this.Pt=this.uwa=this.location=this.Va=this.Jb=void 0;this.iB=!1;this.Lva=this.If=void 0;this.UTa=new Set();p=(h=this.L) && "object" === typeof h.Teb && h.Teb[this.profile];"object" === typeof p && (p=p[this.bitrate]) && (this.Uzb=new m.M(p.ticks,p.timescale));this.Hyb=0 <= (null === (t=h.aEb) || void 0 === t?void 0:t.indexOf(this.profile));if((null === (v=h.BQ) || void 0 === v?0:v.ioc) && this.mediaType === g.u.J && (t=this.ey,0 < (null === (w=t.Wr) || void 0 === w?void 0:w.length))){w=t.Wr.splice(0,t.Wr.length);t=new Uint8Array(w.length);for(v=0;v < w.length;v++){t[v]=w[v].eb;}this.Wr=t;}}Object.defineProperties(n.prototype,{ee:{get:function(){return this.Ya?! !this.jH:! !this.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{S8a:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{S:{get:function(){return this.Kk.S;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{P:{get:function(){return this.S.P;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{K:{get:function(){return this.Kk.K;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{mediaType:{get:function(){return this.Kk.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ba:{get:function(){return this.Kk.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{W:{get:function(){return this.Kk.W;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{DJ:{get:function(){return this.Kk.DJ;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{trackId:{get:function(){return this.Kk.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{track:{get:function(){return this.Kk;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{TP:{get:function(){if(this.mediaType !== g.u.Hb)return this.ey;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{mg:{get:function(){return this.Y5;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Pa:{get:function(){var h;return this.mediaType === g.u.Hb?null !== (h=this.UAb) && void 0 !== h?h:"":this.TP.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{id:{get:function(){return this.Pa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{yj:{get:function(){return this.Rxb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ya:{get:function(){return this.track.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bitrate:{get:function(){return this.mediaType === g.u.Hb?0:this.TP.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{eb:{get:function(){var h;if(this.H8)return this.H8;if(this.mediaType === g.u.J)return null !== (h=this.ey.vmaf) && void 0 !== h?h:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{p9b:{get:function(){if(this.mediaType === g.u.J)return this.ey.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{yda:{get:function(){if(this.mediaType === g.u.J)return this.ey.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{profile:{get:function(){return this.mediaType === g.u.Hb?"timedtext":this.TP.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{af:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ly:{get:function(){if(this.mediaType === g.u.J)return this.ey.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{wf:{get:function(){return this.Uzb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{GVb:{get:function(){return this.Hyb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ha:{get:function(){return this.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{hy:{get:function(){return this.Wa && this.Wa.hy;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{o9:{get:function(){return this.Kk.o9;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{n9:{get:function(){return this.Kk.n9;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{da:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{cv:{get:function(){return void 0 !== this.EM?this.EM:this.zYb();},set:function(h){this.EM=h;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{zv:{get:function(){return this.Ar && !this.iB;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Sg:{get:function(){return this.jH;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{KXb:{get:function(){(0,f.assert)(! !this.ha,"Initial header should have been received already");return this.S.Yx() && -1 < this.af.indexOf("h264mpl") && void 0 === this.ha.kna;},enumerable:!1,configurable:!0}});n.prototype.qr=function(){return this.S.qr(this.mediaType,this.Pa);};n.prototype.J9=function(){var h;h=this.qr();return h && h.stream.ha;};n.prototype.YF=function(h){return this.S.YF(this,h);};n.prototype.aca=function(){this.track.aca();};n.prototype.$ba=function(){this.track.$ba();};n.prototype.Zba=function(h,p,q,t,v,w,u,x){this.Ya || t && void 0 !== t.Qn && (this.track.ee || void 0 !== t.se && t.se.length) && void 0 !== t.offset && void 0 !== t.sizes && t.sizes.length?(!this.Ya && this.L.jm && this.wf && 0 === t.Qn && (t.Qn+=this.wf.ng(t.W).Ca),this.ee || (this.jH=h,this.track.Zba(this,p,q,t,w,x),this.Ya || (this.Wa=new k.dSa(this.Y5,this.track.rq,t,v,w,u,this.K)),this.track.k3b(this))):this.Ya || (t?this.H.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== t.Qn) + "," + this.track.ee + "," + this.track.Eza + "," + (void 0 !== t.se) + "," + !(!t.se || !t.se.length) + "," + (void 0 !== t.offset) + "," + (void 0 !== t.sizes) + "," + !(!t.sizes || !t.sizes.length)):this.H.error("AseStream.onHeaderReceived: fragmentsData was undefined."));};n.prototype.I7=function(h){this.ee || (this.track.VHb(h.track),this.Wa=h.ha,this.jH=h.Sg);};n.prototype.Fl=function(h){return new l.wk(this,this.ha.get(h));};n.prototype.w5a=function(h){var p;p=this.Fl(h.index);h.Ga && (p.kj(h.Ga),p.qR(h.uC));return p;};n.prototype.jlb=function(h,p){this.Mg=h;this.yVa=p;};n.prototype.ZGb=function(){this.Va=this.Jb=this.Zb=this.location=this.url=void 0;};n.prototype.Io=function(){return this.mediaType === g.u.V?this.nRb():this.TUb();};n.prototype.W9=function(h,p,q){var t,v,w,u;return this.Ya?(q=null === (t=q || this.url) || void 0 === t?void 0:t.split("?"),t=null !== (v=null === q || void 0 === q?void 0:q[0]) && void 0 !== v?v:"",v=null !== (w=null === q || void 0 === q?void 0:q[1]) && void 0 !== w?w:"",h?h=this.EE().kXb:((0,f.assert)(void 0 !== p,"liveSegmentId is required for live media requests"),h=this.EE().media.replace("$Number$",p.toString())),h=t + "/" + h + (v?"?" + v:""),(0,f.assert)((null === (u=this.S.fa.xx) || void 0 === u?void 0:u.zm) && -1 !== h.indexOf(("p=").concat(this.S.fa.xx.zm)),"Missing sidechannel param for clock sync."),h):q || this.url;};n.prototype.EE=function(){var h;(0,f.assert)(this.Ya && this.S.fa.xB,"liveMetadata missing from manifest");h=this.S.fa.xB;h=h.khb[h.m2a[this.Pa]];return c.__assign(c.__assign({},h),{ECa:this.S.xhb - new Date(h.SYa).getTime(),qea:Number(h.qea),t6b:new m.M(Number(h.s6b),h.W).ng(this.W),Wu:new m.M(h.duration,h.W).ng(this.W)});};n.prototype.A4b=function(h){var p,q,t,v;if(!h)return !1;h.split(";").some(function(w){if(0 === w.indexOf("sc="))return (q=w.slice(3),!0);});if(!q)return !1;(0,f.assert)(null === (p=this.S.fa.xx) || void 0 === p?void 0:p.zm,"Missing sidechannel pbcid for clock sync.");h=new d.nka(this.S.fa.xx.zm).decrypt(q,!0);try{t=JSON.parse(h);v=1E3 * Number(t.time);if(isNaN(v))return !1;this.S.xhb=v;return !0;}catch(w){return !1;}};n.prototype.Zeb=function(h){return !this.UTa.has(h);};n.prototype.SBb=function(h){this.H.trace("addBlockedLiveSegment: " + h);this.UTa.add(h);};n.prototype.toJSON=function(){return {movieId:this.K,mediaType:this.mediaType,streamId:this.Pa,bitrate:this.bitrate,streamIndex:this.mg,isAvailable:this.Ar,fittable:this.cv,vmaf:this.eb,resolutionWidth:this.p9b,resolutionHeight:this.yda};};n.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Pa + ":" + this.bitrate;};n.prototype.zYb=function(){var h,p,q,t,v,w,u;if(!this.ee)return !0;if(this.track.pua >= this.bitrate)return this.EM=!0;if(this.track.$$a <= this.bitrate)return this.EM=!1;(u=this.Ya?this.L.hba * this.bitrate * 8 * (this.L.jF + (null !== (p=null === (h=this.S) || void 0 === h?void 0:h.NF.Z) && void 0 !== p?p:0)) < this.Mg:this.Wa.tFb(this.L.jF,this.Mg,null !== (t=null === (q=this.S) || void 0 === q?void 0:q.NF.Z) && void 0 !== t?t:0,null !== (w=null === (v=this.S) || void 0 === v?void 0:v.NF.ea) && void 0 !== w?w:0,this.yVa))?this.track.Eza && !this.yj && this.track.Mo || (this.track.pua=this.bitrate):this.track.$$a=this.bitrate;return this.EM=u;};n.prototype.TUb=function(){return c.__assign(c.__assign({},this.track.Io()),{profile:this.af});};n.prototype.nRb=function(){return c.__assign(c.__assign({},this.track.Io()),{profile:this.af,bitrate:this.bitrate});};return n;})();b.fga=r;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.rja=void 0;c=a(2);g=a(431);k=a(4).default;new k.Console("ASEJS_PROBE_MANAGER","asejs");r=(function(){function m(f,d,l){this.AU=f;this.et=d;this.config=l;this.bv={};this.AF={};this.ix=!0;this.groupId=1;}m.prototype.Uca=function(f,d){var l,n,h,p,q,t,v,w,u,x;l=this;n=this.config;h=f.tc;p=f.stream;q=f.Zb.location;(0,c.assert)(p,"Failing url should have an associated stream");(0,c.assert)(q,"Failing url should have an associated location");t=[];v=p.Bj[0];w=!1;u=this.bv[h];x=k.time.ia();if(!u)u=this.rib(h,x,d,f);else if(u.An >= x - n.Iea)return;u.gC || (v && q.id === v.id && (f.isPrimary=!0),u.An=x,u.gC=!1,u.error=d,++u.count,p && p.urls && 0 !== p.urls.length && (p.urls.forEach(function(y){var z,A,B;z=y.Zb.id;A=z + "-" + h;B=l.AF[A];if(void 0 === B || void 0 === B.Tca)(B && B.qq && clearTimeout(B.qq),y=l.Npa(y.url,f,z),l.AF[A]={ga:!1,count:0,Tca:y.$h()},t.push(y.$h()),w=!0);-1 === u.EBa.indexOf(z) && u.EBa.push(z);}),0 < t.length && (n={ts:k.time.ia(),es:d.C6,fc:d.zg,fn:d.O8,nc:d.Bi,pb:t,gid:this.groupId},d.Vx && (n.hc=d.Vx),this.ay(n,"errpb")),w && this.groupId++));};m.prototype.Npa=function(f,d,l){var n,h;n=new g.K1(this);h="random=" + parseInt(("").concat(1E7 * Math.random()));n.Eya(f + (-1 !== f.indexOf("?")?"&":"?") + h,d,l);return n;};m.prototype.rib=function(f,d,l,n){var h;h=this.bv[f];n=n.Zb.location;h || (h=this.bv[f]={count:0,An:d,gC:!1,error:l,EBa:[],Jza:{},location:n,Y:l.Y,EOb:l});return h;};m.prototype.getState=function(f){return this.bv[f];};m.prototype.hpa=function(f){this.bv[f]=void 0;};m.prototype.ay=function(f,d){var l;if(this.ix){l={type:"logdata",target:"endplay",fields:{}};l.fields[d]={type:"array",value:f,adjust:["ts"]};this.AU.PB(l);}};m.prototype.Iza=function(f,d){var l,n,h,p,q,t,v,w,u,x,y,z;l=this;p=this.AU;q=this.config;t=d.tc;v=this.bv[t];if(v){w=f.url;u=this.AF[f.tc + "-" + t];if(u){x=v.error;u && u.qq && clearTimeout(u.qq);u.ga=!0;u.count=0;u.Tca=void 0;v.Jza[f.tc]=!0;u=this.bv[f.tc];if((null === u || void 0 === u?0:u.gC) && q.mA){p.Dgb(f.tc,u.error.WR[1]);if(this.ix){y={ts:k.time.ia(),id:f.requestId,servid:d.tc,gid:f.groupId?f.groupId:-1};this.ay(y,"errst");}this.bv[f.tc]=void 0;this.et();}if(w !== d.url){z=this.AF[t + "-" + t];z && z.ga || (t=null === u || void 0 === u?void 0:u.location,q=Math.min((null === (h=null === (n=null === t || void 0 === t?void 0:t.Jb) || void 0 === n?void 0:n.pP) || void 0 === h?void 0:h.va) || Math.random() * q.Uaa,q.Uaa),setTimeout(function(){var A;if(!(!1 !== v.gC || z && z.ga) && (v.gC=!0,p.Jt(x.WR[0],x.WR[1],d.url,x),l.ix)){A={ts:k.time.ia(),id:f.requestId,servid:d.tc,gid:f.groupId?f.groupId:-1};l.ay(A,"erep");}},q));}this.ix && (y={ts:k.time.ia(),id:f.requestId,result:1,servid:f.tc,gid:f.groupId?f.groupId:-1},this.ay(y,"pbres"));}}};m.prototype.Gza=function(f,d){var l,n,h,p,q,t,v,w,u,x,y,z,A;l=this;p=this.AU;q=this.config;t=d.tc;v=this.bv[t];w=f.tc;u=this.AF[w + "-" + t];if(u && v){x=0;u.ga=!1;u.Tca=void 0;v.Jza[w]=!1;y=v.EBa;if(q.mA && w === t && d.isPrimary){z=v.location;z=(null === (h=null === (n=null === z || void 0 === z?void 0:z.Jb) || void 0 === n?void 0:n.pP) || void 0 === h?void 0:h.va) || 300 * Math.random();n=Math.min(z * Math.pow(2,u.count),12E4);n+=Math.random() * (1E4 > n?100:1E4);u.qq=setTimeout(function(){var B;u.qq=void 0;B=l.Npa(f.url,d,w);B.cac(f.groupId);u.Tca=B.$h();},n);}++u.count;if(w === t && (x=0,y.forEach(function(B){!1 === v.Jza[B] && x++;}),y.length === x && v.count >= q.$aa)){A=v.error;v.gC=!0;q=d.stream;(0,c.assert)(q,"Probe failed url should have an associated stream");q.urls.forEach(function(B){p.Jt(A.WR[0],A.WR[1],B.url,A);l.ix && (B={ts:k.time.ia(),id:-1,servid:B.Zb.id},l.ay(B,"erep"));});}this.ix && (q={ts:k.time.ia(),id:f.requestId,result:0,servid:f.tc,gid:f.groupId?f.groupId:-1},this.ay(q,"pbres"));}};m.prototype.cfa=function(f){var d,l,n;if(f.url){l=this.AU;n=l.E$b(f.url);n || (n=null === (d=this.AU.N6a(f)[0]) || void 0 === d?void 0:d.id);(0,c.assert)(void 0 !== n,"Success url reported to probe manager should have an associated server");(f=this.bv[n]) && f.gC && this.config.mA && (l.Dgb(f.error.C6,!1),this.ix && (l={ts:k.time.ia(),id:-1,servid:n},this.ay(l,"errst")),this.hpa(n),(n=this.AF[n + "-" + n]) && n.qq && clearTimeout(n.qq));}};m.prototype.reset=function(){var f,d,l;f=this.AF;for(l in f){f.hasOwnProperty(l) && (d=f[l + "-" + l]) && d.qq && clearTimeout(d.qq);}this.AF={};this.bv={};};return m;})();b.rja=r;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.K1=void 0;c=a(0);g=a(14);k=c.__importDefault(a(4)).default.Lw;r=(function(m){function f(d){var l;l=m.call(this) || this;l.eWa=d;l.l5=d.groupId;l.Uj=new g.$f();l.Uj.on(l,k.Ve.xT,l.Tla);l.Uj.on(l,k.Ve.FG,l.EU);return l;}c.__extends(f,m);f.prototype.Eya=function(d,l,n){k.prototype.open.call(this,d,l,n);};f.prototype.cac=function(d){this.l5=d;};Object.defineProperties(f.prototype,{groupId:{get:function(){return this.l5;},enumerable:!1,configurable:!0}});f.prototype.rd=function(){this.Uj && this.Uj.clear();k.prototype.rd.call(this);};f.prototype.Tla=function(d){this.eWa.Iza(d.probed,d.affected);this.rd();};f.prototype.EU=function(d){this.eWa.Gza(d.probed,d.affected);this.rd();};return f;})(k);b.K1=r;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Zfa=void 0;c=a(0);g=a(86);r=a(14);k=c.__importDefault(a(4));m=a(8);f=a(35);d=a(2);l=a(6);n=a(189);h=a(433);a=a(434);p=k.default.MediaSource;a=(function(q){function t(v,w,u,x,y,z,A){w=q.call(this,v,x,y,w,A) || this;h.H1.u8a(w,v,x,A);w.Ht=u;w.track=u.track;w.Mx=! !x.Mx;w.lQ=! !x.lQ;w.oE=! !x.oE;w.U3b=x.ea;w.xR=! !x.xR;w.lH=(z?"(cache)":"") + w.Pa + " header";v=x.offset;x=x.ea;w.Mq && (v+=w.Mq.byteLength,x-=w.Mq.byteLength);w.jx(v,x);return w;}c.__extends(t,q);Object.defineProperties(t.prototype,{Fc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{qca:{get:function(){return this.Czb;},enumerable:!1,configurable:!0}});t.prototype.rd=function(){var v;if(!this.complete){v={type:"headerRequestCancelled",request:this};this.emit(v.type,v);}q.prototype.rd.call(this);};t.prototype.eX=function(v){this.stream.aca();q.prototype.eX.call(this,v);};t.prototype.NO=function(v,w,u){this.stream.$ba();q.prototype.NO.call(this,v,w,u);};t.prototype.Zk=function(v){v.response && this.HTa(v.response);(0,d.assert)(this.Mq);v.UQ();this.stream.$ba();this.zzb()?q.prototype.Zk.call(this,v):this.LTa?(this.jx(v.offset + v.ea,this.LTa),this.stream.aca(),q.prototype.Zk.call(this,v)):this.i9(this);};t.prototype.hca=function(v){v.response && this.HTa(v.response);q.prototype.hca.call(this,v);};t.prototype.jx=function(v,w){v=new n.oL(this.stream,this.track,this.lH + " (" + this.La.length + ")",{Fc:!0,offset:v,ea:w,lC:{df:l.Ia.Qh},location:this.location,tc:this.tc,responseType:0},this,this.Be,this.H);this.push(v);this.pd=this.La.reduce(function(u,x){return u + x.ea;},0);};t.prototype.zzb=function(){var v,w,u,x,y,z,A;x=this.Be;y=new g.Fw(t.C1b,this.stream,this.Mq,this.stream.Ya?["moov"]:["sidx"],x.t4b,{Irc:this.stream.track.Eza,Nya:void 0 === this.ba,Ikb:!p.fd || !p.fd.B_a,rDa:x.rDa,jm:x.jm,ZR:this.Be.ZR,Mgb:!0,mea:!p.fd || !p.fd.Pbb,xAa:this.Be.xAa});z=y.parse({ba:this.ba});this.Ffc=x.ZR && y.DVb;if(z.py){(0,d.assert)(z.Sg);this.jH=z.Sg;this.Czb=z.qca;this.sUa=! !z.oOb;void 0 === this.ba && void 0 === z.ba && this.H.error("No frame duration available for " + this.Pa);y=z.ba?new m.M(z.ba):this.ba;A=void 0;if(this.Hy.mediaType === l.u.J && (null === (v=x.BQ) || void 0 === v?0:v.enabled))if(null === (w=this.Hy.Wr) || void 0 === w?0:w.length)A=this.Hy.Wr;else if((v=this.Hy.ey.Wr,0 < (null === v || void 0 === v?void 0:v.length)))for((A=new Uint8Array(v.length),u=0);u < v.length;u++){A[u]=v[u].eb;}else if(null === (u=z.Zy) || void 0 === u?0:u.length)for((A=new Uint8Array(z.Zy.length),u=0);u < z.Zy.length;u++){A[u]=z.Zy[u];}this.stream.Zba(z.Sg,z.W,y,z.ha,z.jQ,z.Mk,A,z.trackId);this.Mq=void 0;}else this.LTa=z.ECb || 0;return ! !z.py;};t.prototype.HTa=function(v){this.Mq=this.Mq?(0,m.FA)(this.Mq,v):v;};t.C1b=new k.default.Console("MP4","media|asejs");return t;})(a.Wfa);b.Zfa=a;(0,f.Ue)(h.H1,a,!1,!1);(0,f.Ue)(r.EventEmitter,a);},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.H1=void 0;c=a(0);g=a(2);k=a(188);r=(function(m){function f(d,l,n){var h;h=m.call(this,d,l) || this;h.xR=!1;h.Mx=!1;h.lQ=!1;h.oE=!1;h.Ht=void 0;f.u8a(h,d,l,n);return h;}c.__extends(f,m);f.u8a=function(d,l,n,h){k.vw.oa(d,l,n);d.jH=n.Sg;d.Mq=n.Qya;d.sUa=n.pm;d.H=h;};Object.defineProperties(f.prototype,{Fc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Sg:{get:function(){return this.jH;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Qya:{get:function(){return this.Mq;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{pm:{get:function(){return this.sUa;},enumerable:!1,configurable:!0}});f.prototype.rd=function(){};f.prototype.QDa=function(){};f.prototype.MCb=function(d){(0,g.assert)(this.ed.Pa === d.Pa);!d.ee && this.ed.ee && d.I7(this.ed);!d.location && this.ed.location && (d.location=this.ed.location,d.Zb=this.ed.Zb,d.yK=this.ed.yK,d.url=this.ed.url,d.Jb=this.ed.Jb);this.ed=d;};f.prototype.toJSON=function(){return c.__assign(c.__assign({},m.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.ha});};return f;})(k.vw);b.H1=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Wfa=void 0;c=a(0);c.__importDefault(a(4));a(2);r=(function(g){function k(m,f,d,l,n){m=g.call(this,m,f,d,l,n) || this;m.FUa=!1;m.EUa=!1;m.lU=!1;m.La=[];m.Bp=!1;m.TVa=!1;m.cVa=!1;m.Ye=!1;m.Wm=!1;m.Qi=!1;m.eM=!1;m.LM=void 0;m.Yw=void 0;return m;}c.__extends(k,g);Object.defineProperties(k.prototype,{wva:{get:function(){return this.Bp && !this.lU;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.Ye;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{iAa:{get:function(){return this.Wm;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.Qi || (this.Qi=this.La.every(function(m){return m.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{aborted:{get:function(){return this.eM;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Hg:{get:function(){return this.La.reduce(function(m,f){return m + f.Hg;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bytesReceived:{get:function(){return this.La.reduce(function(m,f){return m + f.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ig:{get:function(){return this.LM || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{url:{get:function(){return this.La[0] && this.La[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{readyState:{get:function(){return this.si || this.La.reduce(function(m,f){return Math.min(m,f.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{status:{get:function(){return this.Yw && this.Yw.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{zg:{get:function(){return this.Yw && this.Yw.zg;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{KO:{get:function(){return this.Yw && this.Yw.KO;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Bi:{get:function(){return this.Yw && this.Yw.Bi;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{yv:{get:function(){return ! !this.La.length && this.La[0].yv;},enumerable:!1,configurable:!0}});k.prototype.push=function(m){this.cVa && m.oa(this.Ua);this.La.push(m);this.Bp && m.MJ();};k.prototype.oa=function(m){g.prototype.oa.call(this,m);this.La.forEach(function(f){return f.oa(m);});this.cVa=!0;};k.prototype.MJ=function(){this.TVa=!0;(this.Bp=this.La.every(function(m){return m.MJ();})) && this.eX(this);this.TVa=!1;return this.Bp;};k.prototype.rd=function(){7 !== this.readyState && 5 !== this.readyState && this.abort();this.La.forEach(function(m){return m.rd();});};k.prototype.Gea=function(m){this.si=this.Yw=void 0;return this.La.every(function(f){return 5 !== f.readyState && 7 !== f.readyState?f.Gea(m):!0;});};k.prototype.abort=function(){var m,f,d;m=this.active;f=this.aborted;this.si=7;this.eM=!0;this.Wm=this.Ye=!1;d=this.La.map(function(l){return l.abort();}).every(function(l){return l;});f || this.NO(this,m,this.wva);return d;};k.prototype.getResponseHeader=function(m,f){var d;d=null;this.La.some(function(l){return ! !(d=l.getResponseHeader(m,f));});return d;};k.prototype.getAllResponseHeaders=function(m){var f;void 0 === m && (m=!1);f=null;this.La.some(function(d){return ! !(f=d.getAllResponseHeaders(m));});return f;};k.prototype.ica=function(){};k.prototype.SB=function(m){this.Ye || (this.Ye=!0);this.FUa || (this.FUa=!0,this.Et=0,this.LM=this.Tv=m.ig,this.OO(this));};k.prototype.RB=function(m){this.Wm || (this.Wm=!0);this.EUa || (this.EUa=!0,this.LM=m.ig,this.AE(this));};k.prototype.JJ=function(m){this.LM=m.ig;this.CI(this);this.Et=this.bytesReceived;this.Tv=m.ig;};k.prototype.Zk=function(m){this.LM=m.ig;this.complete?(this.Qi=!0,this.si=5,this.Wm=this.Ye=!1,this.lU=!0,this.ev(this)):this.CI(this);this.Et=this.bytesReceived;this.Tv=m.ig;};k.prototype.FZ=function(m){this.LM=m.ig;this.Yw=m;this.si=6;this.i9(this);};k.prototype.EZ=function(){};k.prototype.$h=function(){return this.La[0].$h() + "-" + this.La[this.La.length - 1].$h();};k.prototype.toString=function(){return ("Compound[").concat(this.La.map(function(m){return m.toString();}).join(","),"]");};k.prototype.toJSON=function(){return {requests:this.La};};return k;})(a(190).dG);b.Wfa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Dra=void 0;b.Dra=function(a,c){for(var g,k,m=a.length - 1;0 <= m;--m){if((k=a[m],k.zv)){if(k.bitrate <= c)return m;g=m;}}return g;};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(989),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hta=b.UCb=void 0;b.UCb=function(a){return a.hR;};b.hta=function(a,c){return void 0 !== a.eQ?a.eQ:c && void 0 !== c.eQ?c.eQ:100;};},function(r,b,a){var k;function c(m,f){this.Ezb=m.BQ && m.BQ.enabled;this.Z5=void 0;this.ryb=f;this.nma=[];this.Hma=[];this.Xla=[];m=m.sWa || [];f=m.map(function(d){return d.Wnc;});f.unshift(0);this.Lzb=m;this.Mzb=f;this.ama=[];this.qd=[];}function g(m,f){var t,v,w,u;for(var d=[],l=[],n=0;n < m.length;n++){for(var h=m[n],p=[],q=0;q < h.length;q++){t=h[q] - (l[q] || 0);v=f && f[q];w=p;u=w.push;1 <= v && (v=Math.pow(10,v || 0),t=Math.round(t * v) / v);u.call(w,t);}d.push(p);l=h;}return d;}k=a(32).iJ;c.prototype.reset=function(m){this.Z5=void 0;this.nma=[];this.Hma=[];this.Xla=[];this.ama=[];m && (this.qd=[]);};c.prototype.add=function(m,f){var d,l,n,h;d=f.filter(function(p,q){return k(p) || q === m.Ie;});l=d.map(function(p){return p.bitrate;});f=f[m.Ie];d=d.indexOf(f);n=this.Z5;if(n && (n.length !== l.length || n.some(function(p,q){return p !== l[q];}))){h=this.f5a();h && (this.qd.push(h),this.reset(!1));}void 0 === n && (this.Z5=l);this.nma.push([d,m.Yt,m.Ic,m.moa,m.uZa,m.a_,m.H2b,m.df,m.sj,m.Pk,m.SF - m.Yt,m.A5b]);void 0 !== m.oy && this.Xla.push([m.Yt,m.oy.oC,m.oy.GA,m.oy.cC]);d=f && f.ha;this.Ezb && void 0 !== d && (n=d.Eo(m.Pk),-1 != n && (d=d.get(n),n=d.duration,f=d.eb || f.eb,void 0 !== f && this.Hma.push({da:d.da,duration:n,eb:f})));(f=m.X5b) && f.length && (f=f.slice(0),f.unshift(m.Yt),this.ama.push(f));};c.prototype.f5a=function(){var m,f;m=g(this.nma);if(0 !== m.length){m={dltype:this.ryb,bitrates:this.Z5,seltrace:m,vmaftrace:this.Hma,paceratetrace:g(this.Xla)};f=g(this.ama,this.Mzb);f && f.length && (m.predtrace={config:this.Lzb,data:f});return m;}};c.prototype.get=function(){var m,f;m=this.f5a();f=this.qd;m && f.push(m);if(0 !== f.length)return f;};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bHa=void 0;c=a(1004);r=(function(){function g(k){var F00;F00=2;for(;F00 !== 5;){switch(F00){case 2:var D4T="1SIYb";D4T+="ZrNJCp";D4T+="9";this.H=k;D4T;F00=5;break;case 3:this.H=k;"";F00=2;break;F00=5;break;}}}var E00;E00=2;for(;E00 !== 3;){switch(E00){case 2:g.prototype.Uvb=function(k,m){var G00,f;G00=2;for(;G00 !== 14;){switch(G00){case 2:m=(0,c.h0a)(m,k);f=k.steeringAdditionalInfo;G00=5;break;case 5:G00=f && f.streamingClientConfig && Object.keys(f.streamingClientConfig).length?4:3;break;case 3:k=k.cdnResponseData;G00=9;break;case 4:var T4T="a";T4T+="pplying ";T4T+="manif";T4T+="est based streamingClientConfig";return (k=f.streamingClientConfig,this.H.trace(T4T + JSON.stringify(k)),this.UVa(m,k));break;case 9:G00=!k?8:7;break;case 8:return m;break;case 7:var O4T="using sab cell >= 100, pip";O4T+="elineEnable";O4T+="d: ";var N4T="u";N4T+="sing";N4T+=" sab";N4T+=" cell >=";N4T+=" 200, pipelineEnabled: ";var F4T=", allowS";F4T+="w";F4T+="itchba";F4T+="ck";var R4T=", probeDetailDenomi";R4T+="na";R4T+="to";R4T+="r: ";var l4T="using sab cell ";l4T+=">= 300,";l4T+=" probeServerWhenError: ";var s4T=", a";s4T+="llowSwi";s4T+="tch";s4T+="back";var m4T=", probeDetai";m4T+="lDenominato";m4T+="r: ";var n4T="using ";n4T+="sab cell >= 400, probeServerWhenErr";n4T+="or: ";(k=k.sessionABTestCell) && (k=k.split(".")) && 1 < k.length && (k=parseInt(k[1].replace(/cell/i,""),10),400 <= k?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!0})):(m.Uv=!0,m.MQ=1,m.mA=!0),this.H.trace(n4T + m.Uv + m4T + m.MQ + s4T + m.mA)):300 <= k?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!1})):(m.Uv=!0,m.MQ=1,m.mA=!1),this.H.trace(l4T + m.Uv + R4T + m.MQ + F4T + m.mA)):200 <= k?(m.set?m.set({pipelineEnabled:!1}):m.Hj=!1,this.H.trace(N4T + m.Hj)):100 <= k && (m.set?(m.set({pipelineEnabled:!0}),m.set({maxParallelConnections:1}),m.set({maxActiveRequestsPerSession:m.Raa}),m.set({maxPendingBufferLen:m.Lab})):(m.Hj=!0,m.VP=1,m.gy=m.Raa,m.Zaa=m.Lab),this.H.trace(O4T + m.Hj)));return m;break;}}};g.prototype.Vvb=function(k,m){var H00;H00=2;for(;H00 !== 9;){switch(H00){case 2:H00=!m.Gpa || k === this.Yxb?1:5;break;case 1:return m;break;case 6:return m;break;H00=5;break;case 5:this.Yxb=k;for(var f in m.Gpa){new RegExp(f).test(k) && (m=this.UVa(m,m.Gpa[f]));}return m;break;}}};g.prototype.UVa=function(k,m){var I00,f,d,l;I00=2;for(;I00 !== 4;){switch(I00){case 2:for(d in m){if(m.hasOwnProperty(d)){var S4T="I";S4T+="n";S4T+="valid ke";S4T+="y";l=m[d];k.set?0 === k.set((f={},f[d]=l,f)) && this.H.trace(S4T + d):k[d]=l;}}return k;break;}}};return g;break;}}})();b.bHa=r;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.kLa=b.d4=void 0;c=a(0);g=a(14);k=c.__importStar(a(11));m=c.__importDefault(a(90));f=a(6);d=a(265);l=a(20);r=a(35);n=c.__importDefault(a(4));h=a(1009);p=a(441);(function(t){t[t.xQb=0]="forwards";t[t.Rna=1]="backwards";t[t.pQ=2]="none";})(q=b.d4 || (b.d4={}));a=(function(t){function v(w,u,x,y,z,A,B,C,D,E,G,F,I,L,M,K){var O,H,J;O=this;O=t.call(this,void 0,u,y,D.S,w,D,void 0,E,I,l.M.Ja(G),B.Tf.bind(B),F,K,void 0,new g.EventEmitter(),void 0) || this;O.zb=w;O.qj=x;O.Nc=z;O.Wka=A;O.T=B;O.aN=C;O.gj=F;O.mX=L;O.Th=M;O.pj=K;O.active=!1;O.SUa=[];O.cma=0;null === (H=O.S) || void 0 === H?void 0:H.nAa(O);O.children=Object.create(null);O.Py=[];O.Ee=void 0;void 0 === I && (I=l.M.Ja(D.da));J=[O.L.FYa,O.L.FCa];E.forEach(function(R){var P;P=R.mediaType;R=new p.Qha(w,O.qj,O.H,O,R,I.Z,J[P],u,O.Wka,O.Th,null === F || void 0 === F?void 0:F.fb(P));O.$e.Q$b(P,R);});O.gx=O.$e.Sca;return O;}c.__extends(v,t);Object.defineProperties(v.prototype,{K:{get:function(){return this.S.K;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Kn:{get:function(){var w,u,x,y;return [null !== (u=null === (w=this.fb(0)) || void 0 === w?void 0:w.Kn) && void 0 !== u?u:0,null !== (y=null === (x=this.fb(1)) || void 0 === x?void 0:x.Kn) && void 0 !== y?y:0];},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{uo:{get:function(){var w,u,x,y;return [null !== (u=null === (w=this.fb(0)) || void 0 === w?void 0:w.uo) && void 0 !== u?u:{Z:0,ea:0},null !== (y=null === (x=this.fb(1)) || void 0 === x?void 0:x.uo) && void 0 !== y?y:{Z:0,ea:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Sda:{get:function(){return this.G.da;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{nza:{get:function(){return this.Sda + this.cg;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Pc:{get:function(){return this.G.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Lf:{get:function(){return this.Pc + this.cg;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{wc:{get:function(){return this.S.wc;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{weight:{get:function(){return this.G.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{G:{get:function(){return this.Fp;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ql:{get:function(){return this.$e;},enumerable:!1,configurable:!0}});v.prototype.Wd=function(){var w;this.Pf || (this.active=!1,this.gj && (delete this.gj.children[this.G.id],this.gj=void 0),k.fg(this.children,function(u){u && u.gj && (u.gj=void 0);}),this.children=Object.create(null),this.qM=void 0,t.prototype.Wd.call(this),null === (w=this.S) || void 0 === w?void 0:w.GDa(this),this.$e.clear());};v.prototype.LAa=function(w,u){void 0 === u && (u=q.Rna);this.Ql.forEach(function(x){(k.ta(w) || x.mediaType === w) && x.reset();});switch(u){case q.Rna:this.gj && this.gj.LAa(w,u);break;case q.xQb:this.children && k.fg(this.children,function(x){x && x.LAa(w,u);});}};v.prototype.xP=function(w){var u,x,y;if(!this.active)return !1;u=this.gj;if(u){x=u.fb(w);y=x.Ua.Odb;if(0 !== y && (u.BN(w),y=x.Ua.Odb,0 !== y))return !1;}return !0;};v.prototype.ue=function(w){return this.Ql.get(w);};v.prototype.FVb=function(){return this.Ql.every(function(w){return 0 === w.hC;});};v.prototype.toJSON=function(){return c.__assign(c.__assign({},t.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.zd,playerEndPts:this.Lf,pipelines:this.Ql,previousBranch:this.gj});};v.prototype.jib=function(w,u){this.S.GDa(this);this.S=this.G.S=w;this.NBa(this.S);this.S.nAa(this);this.Ql.forEach(function(x){var y;y=u[x.mediaType];y && x.$_(y);});};v.prototype.JTb=function(w){return this.pj[w];};v.prototype.fb=function(w){return this.Ql.get(w);};v.prototype.aUb=function(w){return this.fb(w).hC;};v.prototype.Whb=function(w,u){var x,y,z,A,B;x=void 0;y=this;z=this.G;w=this.t7(z.da,this.S,w,this.K === (w?w.K:this.Nc.gd.K));A=w.OQ;B=w.XA;void 0 === x && (x=[f.u.V,f.u.J]);0 === B.length || x.forEach(function(C){var D,E;D=y.fb(C);u && (D.sd=B[C]);E=y.YW(z.Ta);D.cea(E[C]);});return A;};v.prototype.Lx=function(w,u){if(u=this.fb(u))return u.Ua.Lx(w);};v.prototype.BN=function(w){void 0 === w?this.Ql.forEach(function(u){u.BN();}):this.fb(w).BN();};v.prototype.l_=function(w,u,x){(w=this.fb(w)) && w.Ua.l_(u,x);};v.prototype.V9=function(w,u){(u=this.fb(u)) && u.Ua.V9(w);};v.prototype.V_b=function(w){this.SUa[w]=!0;};v.prototype.pGb=function(){var w;w=this;return [f.u.V,f.u.J].every(function(u){return !w.wc(u) || w.SUa[u];});};v.prototype.kGb=function(w,u,x,y){var z,A,B,C,D,E,G,F,I;z=this.L;A=this.zb;B=this.T.getState();C=B === f.Ia.Qd || B === f.Ia.Kg;if(!C && void 0 === x)return {wg:!0};if(B === f.Ia.Kg && n.default.time.ia() < this.cma + z.Exa)return {wg:!1};D=this.fb(f.u.V);E=this.fb(f.u.J);G=this.Nc.wx(this,f.u.V);F=this.Nc.wx(this,f.u.J);I=(0,d.Hca)(B);G=!D || D.c_a(I,this.T.Tf(),u,G,this.T.Ys(),y);F=!E || E.c_a(I,this.T.Tf(),w,F,this.T.Ys(),y);void 0 !== x && G && (x=x.trackId,w=this.S.getTrackById(x),this.awb(x,w.XF),A.OH=void 0);if(G && F)return (this.aN(),this.LV=n.default.time.ia(),B === f.Ia.Kg && (this.cma=n.default.time.ia()),{wg:!0,Lu:E?E.RH:D.RH});G=this.Ah(f.u.V);F=this.Ah(f.u.J);if(C){A=!E || F > z.Dj;if((!D || G > z.Dj) && A && (D=this.mX(),D >= z.XB))return (this.$b("buffering longer than limit: " + D + " >= " + z.XB + ", audio buffer: " + G + " ms, video buffer: " + F + " ms"),this.aN(),this.LV=n.default.time.ia(),B === f.Ia.Kg && (this.cma=n.default.time.ia()),{wg:!0,Lu:"prebufferTimeLimit"});this.qj.Myb();}return {wg:!1};};v.prototype.Roa=function(w,u){var x,y,z,A,B,C;x=this.L;y=this.fb(f.u.V);z=this.fb(f.u.J);u?(u=this.Ah(f.u.V,w),w=this.Ah(f.u.J,w)):(u=this.Nc.wx(this,f.u.V,w),w=this.Nc.wx(this,f.u.J,w));A=x.Dj;B=!this.wc(f.u.V) || y.Mi && 0 === y.Ua.rF && 0 === y.Ua.$t;y=!this.wc(f.u.J) || z.Mi && 0 === z.Ua.rF && 0 === z.Ua.$t;C=B && y;x=!B && u < x.Dj;if(!C && (x || !y && w < A))return !1;if(z && z.wg || !this.wc(f.u.J))return !0;if(C)if(this.zb.F5 && 0 === u && 0 === w)this.$b("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};v.prototype.Zda=function(w,u){var x,y;x=this;y=this.L;this.Ql.forEach(function(z){z.seeking=void 0;});w && y.Zi && this.Ql.forEach(function(z){var A;if(z){A=x.Nc.VH(x,z.mediaType);z="bufferingComplete: , mediaType: " + z.mediaType + ", bufferLevelBytes: " + z.uo.ea + ", completedMs: " + z.VN + ", completedBytes: " + A + ", partials: " + z.Ua.rF + ", streamingPts: " + z.Ic + ", completeStreamingPts: " + z.fr + ", fragments: " + JSON.stringify(z.Ua.ha) + ", toAppend: " + u(z.mediaType);x.qj.Cn(z);}});};v.prototype.Ny=function(w,u,x){var y,z,A;y=this;z=n.default.time.ia();A={};k.fg(this.children,function(B){var C,D,E,G;if(B){if(B.Ee){B.Ee.WMb=z - B.Ee.N$;B.Ee.N$=void 0;C=B.Ee.weight;}else C=y.Nc.L6a(y.G.id,B.G.id);D=B.YA();E=y.fb(f.u.V) && 0 === D.Bs;G=y.fb(f.u.J) && 0 === D.hp;A[B.G.id]={weight:C,Ks:D,UX:!E && !G};}});x={Ur:z,He:w,mqa:x,oea:this.G.id,Ee:A};w || (w=u.Tf(),x.yR=w - (this.G.da + this.cg),x.yR=Math.max(0,x.yR),x.h8=0,x.startTime=z);this.Py.unshift(x);return x;};v.prototype.wHb=function(w){var u,x;u=this.Py[0];u.He && (u.yR=this.Pc - this.G.da,u.yR=Math.max(0,u.yR));u.Gkb={};x=w.YA();(0,m.default)(x,u.Gkb);u.UX=w.uo.every(function(y){return 0 < y.Z;});this.Py=[];return u;};v.prototype.Pn=function(w){var u;u=this.G;w-=this.cg;if(u.da < w && w < u.Ta)this.Py.shift();else if(u=this.Py[0])u.Pn=!0;};v.prototype.t7=function(w,u,x,y){var z,A,B,C;z=this;void 0 === u && (u=this.S);A=!1;if(x){A=!0;B=x.fb(f.u.J).ve;x=x.fb(f.u.V).ve;if(!B || !x)return {OQ:[],XA:[]};B=B.Ta;y || (B=void 0);}C=this.H3a(w,B,A,u);u.Sb === this.Nc.SKb && [f.u.J,f.u.V].forEach(function(D){var E;E=z.fb(D);E && (E.sd=C[D]);});return {OQ:C.map(function(D){return D.da;}),XA:C};};v.prototype.H3a=function(w,u,x,y){var z;z=this;void 0 === y && (y=this.S);return this.cXa(y)?[f.u.J,f.u.V].map(function(A){var B;if(!z.wc(A))return {};B=y.cj[A];A=z.fb(A).Do(B.stream,w,u,x);w=A.da;return A;}).reverse():[];};v.prototype.YW=function(w,u){var x;x=this;void 0 === u && (u=this.S);return this.cXa(u)?[f.u.J,f.u.V].map(function(y){var z;if(!x.wc(y))return {};z=u.cj[y].stream;y=x.fb(y).WA(z,w);w=x.L.Jh?new l.M(y.lb,z.ba.W).Z:y.Ta;return y;}).reverse():[];};v.prototype.Qec=function(w,u){var x;x=this.G.Ta;x && x < u && (w=this.YW(x));u=this.ue(f.u.J);x=this.ue(f.u.V);u && u.cea(w[f.u.J]);x && x.cea(w[f.u.V]);};v.prototype.cXa=function(w){var u;u=w.cj;if(!u)return !1;w=u[f.u.J];w=!this.wc(f.u.J) || w && w.stream.ee;u=u[f.u.V];u=!this.wc(f.u.V) || u && u.stream.ee;return w && u?!0:!1;};v.prototype.awb=function(w,u){this.qj.Kyb(w,u);};return v;})(h.pLa);b.kLa=a;(0,r.Ue)(g.EventEmitter,a);},function(r,b,a){var c,g,k,m,f,d,l,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Qha=void 0;c=a(0);r=a(442);g=c.__importDefault(a(28)).default.Sd;k=a(426);m=a(6);f=c.__importDefault(a(4));d=a(195);l=a(2);n=a(20);h=a(1043);a=(function(p){function q(t,v,w,u,x,y,z,A,B,C,D){w=p.call(this,u,A,w,u,u,x,n.M.Ja(y),z,!1,function(){return null === D || void 0 === D?void 0:D.we;}) || this;w.zb=t;w.qj=v;w.mh=B;w.Th=C;w.joa=0;w.zE=[];w.Jz=!1;w.Ep.Ilb=!1;w.jU=new h.lLa(u,w.Th,A,w.H,w.mediaType,w.qj,w.Ua,w.zb);w.pZb=f.default.time.ia();w.gZb=void 0;w.wJ=A.Uua;w.Feb=f.default.time.ia();v=(0,d.$O)(A);t=v.$Z;v=v.YJ;w.W5b=w.mediaType === m.u.V?t:v;w.$_(x);return w;}c.__extends(q,p);Object.defineProperties(q.prototype,{Ds:{get:function(){return this.Ua.Ds;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{VN:{get:function(){return this.Ua.VN;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{dE:{get:function(){return this.Ua.dE;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{hC:{get:function(){return this.Ua.hC;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Mi:{get:function(){return this.jU.Mi;},set:function(t){this.jU.Mi=t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ks:{get:function(){return this.jU.ks;},set:function(t){this.jU.ks=t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Eaa:{get:function(){return this.Ud;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{R_:{get:function(){return this.Oj.R_;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{lUb:{get:function(){return this.zb.ima;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wg:{get:function(){return this.Jz;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{RH:{get:function(){return this.XTa;},enumerable:!1,configurable:!0}});q.prototype.reset=function(){this.seeking=void 0;this.connected=this.Mi=!1;this.Ep.reset();};q.prototype.Wd=function(){this.reset();p.prototype.Wd.call(this);};q.prototype.WA=function(t,v){return (0,k.WA)(this.Kk.mediaType,this.L,t,v,this.Jh,this.zb.I0b);};q.prototype.Do=function(t,v,w,u){return (0,k.Do)(this.Kk.mediaType,this.L,t,v,w,u);};q.prototype.Pn=function(){this.wJ=this.L.Uua;};q.prototype.BN=function(){this.Ua.Yea();};q.prototype.$_=function(t){var v,w;v=this.zb;w=this.mediaType;(0,l.assert)(t.mediaType === w);(0,l.assert)(t.S === this.ab.S);this.Kk=t;this.ab.S.PDa(w,t.Rc);v.Axb(this,t.vm);this.uFb(t.Rc);this.we.$_(t);this.ab.S.dpa();this.Mi=!1;};q.prototype.Bra=function(t){var v;v=this.ab.S.cj[this.mediaType];if(v && v.stream.ee && (t=v.stream.ha.Eo(t),-1 !== t))return t;};q.prototype.pR=function(t,v){var w,u,x;if(this.sd && this.sd.da === t){v=this.sd.index;w=t;}else {u=this.ab.S;x=u.cj[this.mediaType];if(!x || !x.stream.ee){this.QJ=t;this.T4b=v;return;}w=x.stream.ha;this.sd=this.Do(x.stream,t,void 0,v);if(void 0 === this.sd){if((v=w.length - 1,w=w.kl(v),this.$b("setStreamingPts out of range of fragments, pts:",t,"last startPts:",w,"fragment index:",v,"fastplay:",u.Kf.gg),u.Kf.gg)){this.QJ=t;return;}}else (v=this.sd.index,w=this.sd.da);}this.ym=v;this.YU=w;this.QJ=void 0;};q.prototype.Ufc=function(t){var v,w;v=this.Kk.Sx(t);w="verifying streamId: " + t + " stream's track: " + (v?v.Pa:"unknown") + " currentTrack: " + this.Kk.trackId;return v?!0:(this.qj.Cn(w),this.qj.Cn("unknown streamId: " + t),!1);};q.prototype.uFb=function(t){this.$Vb=t.reduce(function(v,w){return w.zv && w.bitrate > v.bitrate?w:v;},t[0]);};q.prototype.cea=function(t){this.ve=t;};q.prototype.J_b=function(t,v,w,u,x){this.Pkb(t,v,u,x);w && ++this.joa;this.zb.ul();};q.prototype.SB=function(t){t.Ta && t.da && (this.wJ-=t.Ta - t.da);p.prototype.SB.call(this,t);};q.prototype.Zk=function(t){this.o7a(t);this.ev(t);};q.prototype.Uec=function(t){var v;v=f.default.time.ia();this.wJ+=t * (v - this.Feb);this.Feb=v;};q.prototype.n9b=function(){this.wJ=this.L.Uua;};q.prototype.RN=function(t){this.Ua.Moa();this.Jh || this.jU.RN(t,this.Pc);};q.prototype.o7a=function(t){var v,w,u;w=this.Eaa;u=this.zb;this.mh.MWa() || (this.qj.izb(t.mediaType,t.S.Sb,t.stream.track.iA,this.fr,this.Y),null === (v=this.Jh) || void 0 === v?void 0:v.RWb(t),v=w.T.Tf() || 0,u.Nb.Lz() || (w=w.fb(g.J)) && !w.wg && w.p$ && u.Nb.Hta(w),this.RN(v),this.zb.m7a(t),this.mh.P4(this) && this.mh.ul());};q.prototype.Dya=function(t){this.zb.i$(t);};q.prototype.c_a=function(t,v,w,u,x,y){var z,A;z=this.L;A=z.Dj;if(w >= z.Dj && (z.tda && (A=w + 1E3),z.uda && !this.connected))return !1;if(this.Jh)return this.Jh.zA();w=this.Mi && 0 === this.Ua.Pya && 0 === this.Ua.$t;return !w && u < A?!1:w?y && 0 === u?(this.$b("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.zGb(t,v,x);};q.prototype.jac=function(t){this.YU=t;};q.prototype.Zda=function(t){this.Jz=!0;this.XTa=t;};q.prototype.bpa=function(){this.Jz=!1;this.XTa=void 0;};q.prototype.zGb=function(t,v,w){if(this.wg || this.mediaType === m.u.V)return !0;if(void 0 === this.sm)return !1;v=this.lxb(v,t);this.track.S.Il.T0(this.track.S.P,this.track.Rc);this.Oj.vza([this.sm],!1,(0,m.Gca)(t),v,this.W5b);t=this.Oj.zA(v,t,w,this.sm,this.ab.S.mr);t.complete?this.Zda(t.reason):(this.bpa(),this.eF=t.eF,this.progress=t.progress);return this.wg;};q.prototype.lxb=function(t,v){var w,u,x,y,z;y=f.default.Wp()[this.mediaType];z=this.Ua.V9();t={Ls:y,da:null !== (w=z.zd) && void 0 !== w?w:0,Qc:t,Ic:null !== (u=z.FQ || t) && void 0 !== u?u:0,$j:null !== (x=z.XV || t) && void 0 !== x?x:0,Hg:z.Hg,Fj:z.Fj,Yo:z.Yo,k4a:z.ha.length,ha:z.ha};"number" !== typeof t.da?(t.da=0,t.Ic=0):v === m.Vc.Qd && t.Qc !== t.da && (t.Qc=t.da);return t;};return q;})(r.Uia);b.Qha=a;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z;Object.defineProperties(b,{__esModule:{value:!0}});b.Uia=void 0;c=a(0);g=a(14);k=a(1010);m=a(89);f=a(1011);d=a(6);l=a(1013);n=a(1020);h=a(193);p=a(268);q=a(8);t=a(2);v=a(20);w=c.__importDefault(a(4));r=a(77);u=a(35);x=a(445);y=a(118);z=a(131);a=(function(A){function B(C,D,E,G,F,I,L,M,K,O,H,J,R){var P;P=A.call(this,C) || this;P.L=D;P.Ud=F;P.Kk=I;P.Mxb=L;P.fx=J;P.vp=R;P.events=new g.EventEmitter();P.connected=!1;P.cua=!1;P.Sm=!1;P.Lxb=0;P.UWa=0;P.yU="LIVE";P.l9=new f.zNa(P.mediaType,D,E,P);C="[" + P.mediaType + "]";P.H=(0,q.Ai)(w.default,E,C);P.Gk=P.H.error.bind(P.H);P.$b=P.H.warn.bind(P.H);P.Vj=P.H.trace.bind(P.H);P.YU=L.Z;"string" === typeof M || void 0 === M?(E=P.mediaType === d.u.V && D.w8 || P.mediaType === d.u.J && D.x8,P.xma=new p.Tja(M,D,new h.l4(O),E)):P.xma=M;P.gm=new k.hPa(P,G,P.L,P.H,P.mediaType);P.Ep=new l.$Qa(P,D,P.H,P.gm,P.Ud,P.mediaType,P.fx,function(){return P.Kj;});D.Jh && (P.Jh=new n.TRa(D.Jh,P.H));K && (P.Se=null !== H && void 0 !== H?H:(0,x.Os)(P.mediaType,P.track.S,P.L,P.H,P.gm.wQb.bind(P.gm),P.gm.vQb.bind(P.gm),function(){}),P.Se.on("created",function(){return P.events.emit("requestQueueCreated");}));return P;}c.__extends(B,A);Object.defineProperties(B.prototype,{mediaType:{get:function(){return this.Kk.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{track:{get:function(){return this.Kk;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{ab:{get:function(){return this.Ud;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Y:{get:function(){return this.Ud.G.id;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Ua:{get:function(){return this.Ep;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Rc:{get:function(){return this.Kk.Rc;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{uo:{get:function(){return this.Ep.uo;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Kn:{get:function(){return this.Ep.Kn;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Ic:{get:function(){return this.YU;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{sea:{get:function(){var C;return null !== (C=this.jd) && void 0 !== C?C:this.jt;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{WV:{get:function(){var C;return null !== (C=this.Ua.WV) && void 0 !== C?C:this.sea;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Pma:{get:function(){return this.Ua.WV;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{fr:{get:function(){return this.Ua.fr;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{tpa:{get:function(){return this.Ua.tpa;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{eZb:{get:function(){var C;C=this.Ua.d$a;return null === C || void 0 === C?void 0:C.Fd;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Av:{get:function(){return ! !this.ve && (this.ym > this.ve.index || this.YU >= this.ve.Pc);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{uj:{get:function(){return this.Av && 0 === this.Ep.rF;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{ZCb:{get:function(){return ! !this.Ua.d$a;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Ds:{get:function(){return this.Ua.Ds;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{uq:{get:function(){return this.Oc?v.M.max(this.Oc.Da(this.sC),v.M.Ha):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{zI:{get:function(){return this.ab.zI;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{a1a:{get:function(){return this.Ua.ha.Wu;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Oj:{get:function(){return this.xma;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{we:{get:function(){return this.Oj.we;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{sm:{get:function(){return this.Oj.we.sm;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{W:{get:function(){var C,D;return null !== (D=null === (C=this.sd) || void 0 === C?void 0:C.W) && void 0 !== D?D:1;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Za:{get:function(){var C;return null === (C=this.sd) || void 0 === C?void 0:C.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{lb:{get:function(){var C;return null === (C=this.ve) || void 0 === C?void 0:C.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Kj:{get:function(){return this.ab.Ld.ng(this.W).Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{p$:{get:function(){return this.Ua.p$;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Oy:{get:function(){return this.Ua.Oy;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{vCa:{get:function(){return this.Ua.vCa;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{jt:{get:function(){return this.Mxb.add(this.ab.Ld);},enumerable:!1,configurable:!0}});B.prototype.eV=function(){var C;C=this;this.Ep.eV(void 0,function(D){var E;E=D[0];D=E.Nd;E=E.index;E < C.ym && C.BK(D,E);});};B.prototype.reset=function(){this.Ua.reset();this.sd && this.BK(this.sd.Nd,this.sd.index);this.Se && this.ab.S.jN(this.mediaType,this.Se);};B.prototype.Wd=function(){var C;this.Sm=!0;this.Ep.Wd();null === (C=this.xma) || void 0 === C?void 0:C.we.xb();this.Se && (this.ab.S.jN(this.mediaType,this.Se),y.ip.instance.jO(this.Se),this.Se.removeAllListeners(),this.Se=void 0);};B.prototype.toJSON=function(){return {started:this.Oy,startOfSequence:this.vCa,segmentId:this.Y,requestedBufferLevel:this.Kn,viewableId:this.Ud.S.P,hasFragments:this.p$};};B.prototype.$l=function(){return this.Ua.$l();};B.prototype.BK=function(C,D){this.YU=C;this.ym=D;};B.prototype.Rx=function(){return this.Ua.Rx();};B.prototype.sE=function(){this.Ua.close();};B.prototype.eE=function(C){return (C=this.Ua.Lx(C.Z))?C.complete:!1;};Object.defineProperties(B.prototype,{ei:{get:function(){return this.Ud.ei;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{sC:{get:function(){var C,D,E,G;return null !== (G=null !== (C=this.Ua.sC) && void 0 !== C?C:null === (E=null === (D=this.sd) || void 0 === D?void 0:D.pc) || void 0 === E?void 0:E.add(this.ab.Ld)) && void 0 !== G?G:this.jt;},enumerable:!1,configurable:!0}});B.prototype.Qkb=function(C,D,E){var G;(0,t.assert)(this.Se);(0,t.assert)(!this.Sm,"pipeline.tryIssueRequest on disabled pipeline");if(!C.ee)return (C=C.YF(this.Se))?{zj:C,reason:"success"}:{zj:C,reason:"pipelineTryIssueHeaderRequest"};if(C.Ya)return ((0,t.assert)(this.track.Ya,"Unexpected live stream."),this.lec(C,this.Se,E));G=C.J9();(0,t.assert)(G,("initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:").concat(C.ee,", headerFragments:").concat(G));return this.Pkb(C,G,this.Se,D,E);};B.prototype.S$=function(C,D){C && (this.sd=C);D && (this.ve=D);(0,t.assert)(this.sd);(0,t.assert)(this.ve);(0,t.assert)(void 0 === this.ym);this.BK(this.sd.Nd,this.sd.index);};B.prototype.truncate=function(C){var D;D=this;(0,t.assert)(this.sd,"expected first fragment to exist on updateStreaming");this.ve=C;this.Av && (C=c.__read(this.Ep.wBb(C),2),this.BK(C[0],C[1]),this.mt() && (this.Ua.Ehb(),this.Ua.Moa(),Promise.resolve(function(){D.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:D.mediaType});})));};B.prototype.XE=function(){return this.mt()?!1:this.Bh()?!0:this.track.Dba;};B.prototype.Bh=function(){return void 0 !== this.sd && void 0 !== this.ve;};B.prototype.mt=function(){return this.Sm || this.Av;};B.prototype.q9a=function(){var C,D,E;E=this.L.Hj;if(null === (C=this.Se) || void 0 === C?0:C.track)E=null === (D=this.Se) || void 0 === D?void 0:D.track.Hj;return E;};Object.defineProperties(B.prototype,{Deb:{get:function(){var C;C=!0;this.L.uda && (C=this.connected);this.L.tda && (C=C && this.cua);return C;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{i4b:{get:function(){return void 0 !== this.Jh;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{kdb:{get:function(){var C;return (null === (C=this.Jh) || void 0 === C?0:C.zA())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});B.prototype.Zk=function(C){this.gm.o2b(C);"oncomplete" === this.L.r8a && (this.cua=!0);this.ev(C);};B.prototype.SB=function(C){C.Fc || this.gm.ycb(C.stream,C.da,C.Nd);this.gm.k2b(this.Y,C.stream,C.Fc);this.OO(C);};B.prototype.RB=function(C){C.B6 || (this.connected=!0);"onfirstbyte" === this.L.r8a && (this.cua=!0);this.AE(C);};B.prototype.E5a=function(C){var D,E;D=this.Ua.ha;if(0 === D.length)return {ha:[],rca:0,Fj:0,Yo:0};E=D.LO(C.Z);0 > E && (E=void 0 === D.da || C.Z <= D.da?0:D.length);return {ha:D.q$b(E),rca:Math.max(0,D.S_a - E),Fj:D.Fj,Yo:D.Yo};};B.prototype.DE=function(){return this.track.DE();};B.prototype.W5a=function(){var C,D,E,G,F;if(this.track.Ya){C=this.sC;E=(this.sm?this.sm:this.Rc[0]).EE().ECa;G=1E3 * this.Ud.S.Il.VZb;if(this.jVa){F=w.default.time.ia() - this.jVa;C=E - C.Z;F > this.L.SZb && (C > G && "LIVE" === this.yU?this.yU=D="DVR":C <= G && "DVR" === this.yU && (this.yU=D="LIVE"));}else E - C.Z > G && (this.yU=D="DVR",this.jVa=w.default.time.ia());return D;}};B.prototype.Sec=function(C){var D;D=this.Rc.indexOf(C.Hy);-1 === D?this.Gk("reissueLiveRequest: stream not found in stream list, falling back to first stream"):(C.Hy=this.Rc[Math.max(D - 1,0)],this.$l());};B.prototype.Pkb=function(C,D,E,G,F){var I,L,M,K,O,H,J,R,P,T;J=this.Ud;R=J.S;P=this.mediaType;T=this.ym;if(T >= D.length)return (this.$b("makeRequest nextFragmentIndex:",T,"past fragments length:",D.length),{zj:!1,reason:"insufficientFragments"});if(!this.sd || !this.ve)return (this.$b("makeRequest delayed, first or last fragment not set","first:",! !this.sd,"last:",! !this.ve),{zj:!1,reason:"noFirstOrLastFragment"});D=P === d.u.V && ! !this.L.kC && (null === (I=this.ab.G.G) || void 0 === I?void 0:I.Zu) && this.sd.qn < this.L.kC && void 0 !== this.sd.Ga;I=P === d.u.V && ! !this.L.kC && (null === (L=this.ab.G.G) || void 0 === L?void 0:L.$u) && this.ve.qn < this.L.kC && void 0 !== this.ve.Ga;L=this.l9.D5a(C,T,D,I);if(P === d.u.V && this.L.kC){if(null === (M=this.ab.G.G) || void 0 === M?0:M.Zu)L.Vs?L.Mhb():L.index === this.sd.index + 1 && this.sd.qn < this.L.kC && void 0 !== this.sd.Ga && L.Mhb(this.sd.Ga.end - this.sd.Ga.start);if(null === (K=this.ab.G.G) || void 0 === K?0:K.$u)L.Po?L.Nhb():L.index === this.ve.index - 1 && this.ve.qn < this.L.kC && void 0 !== this.ve.Ga && L.Nhb(this.ve.Ga.end - this.ve.Ga.start);}if(this.vp && !this.vp.sGb(this.mediaType,L.ea))return {zj:!1,reason:this.mediaType === d.u.J?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};this.Vva=L.region;L.lC=F;null === (O=this.Jh) || void 0 === O?void 0:O.TWb(L,C);L.Po && P === d.u.J && this.gm.Qla(J.G,L.Ta);this.L.WP && (L.WP=this.L.WP);void 0 !== C && (L.location=C.location,L.tc=C.Zb,L.DBa=C.Pt);(F=J.S.fea) && "OPEN_CONNECT_APPLIANCE" === C.Qt && (P=P === d.u.V && this.L.w8 || P === d.u.J && this.L.x8,M=this.L.ZNb && this.mediaType === d.u.J && this.L.Hj,L.F_=P?G:void 0,L.gea=F.Qu({VD:J.Ah(this.mediaType),Mba:this.L.UNb?this.L.Mba:void 0,qkb:String(w.default.time.ia()),dW:P?G:void 0,$na:M?{start:L.offset,size:L.ea}:void 0}));w.default.time.ia();E=this.Ua.K0a(L,E,C);if(!E.MJ()){this.$b("MediaRequest.open error: " + E.zg + " native: " + E.Bi);if(7 === E.readyState)return {zj:!1,reason:"requestAborted"};this.$b("makeRequest caught:",E.zg);R.Yf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {zj:!1,reason:"openAseMediaRequest"};}null === (H=this.Jh) || void 0 === H?void 0:H.sOb(E,L,C);this.gm.p2b(E);this.BK(E.Pc,L.mQ);this.mt() && (this.Ua.Ehb(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));return {zj:!0,reason:"success"};};B.prototype.lec=function(C,D,E){var G,F,I,L,M,K;G=this.Ud.S;F=this.ym;I=C.EE();L=I.ECa;M=I.Wu;K=M.MB(F - I.qea);I=K.add(M);0 === this.UWa && (this.UWa=w.default.time.ia(),this.Lxb=I.Z);if(I.add(M).Z > L)return {zj:!1,reason:"exceedsLiveEdge"};C=this.Ua.K0a({cq:F,index:F,Za:K.Ca,lb:I.Ca,W:C.W,offset:0,ea:0,lC:E},D,C);if(!C.MJ()){this.$b("MediaRequest.open error: " + C.zg + " native: " + C.Bi);if(7 === C.readyState)return {zj:!1,reason:"requestAborted"};this.$b("makeRequest caught:",C.zg);G.Yf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {zj:!1,reason:"openAseMediaRequest"};}this.BK(I.Z,this.ym + 1);return {zj:!0,reason:"success"};};return B=c.__decorate([z.FI],B);})(m.uw);b.Uia=a;(0,u.Ue)(r.cz,a);(0,u.Ue)(r.gu,a);},function(r,b,a){var c,g,k,m,f,d,l,n,h,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Kqa=b.ot=b.Mn=void 0;r=a(0);g=r.__importStar(a(11));k=a(22);m=a(71);f=r.__importDefault(a(28));d=r.__importDefault(a(32));l=r.__importDefault(a(1028));n=a(6);h=d.default.assert;p=d.default.rp;b.Mn=(c=(function(){var J00;J00=2;function t(w,u,x){var L00;L00=2;for(;L00 !== 4;){switch(L00){case 2:w=new p();w.Ih=x[0];return w;break;}}}function v(w,u,x){var M00,y;M00=2;for(;M00 !== 3;){switch(M00){case 1:return w.ybb;break;case 2:M00=!x.Va?1:5;break;case 5:y=(x.odc || x.Va) / x.Va;return 1 >= y?w.Sab:Math.min(Math.max((w.mbc * Math.min(8 * u / x.bitrate,w.Dv) - w.by) / (y - 1),w.ybb),w.Sab);break;case 7:return w.ybb;break;M00=5;break;}}}for(;J00 !== 5;){switch(J00){case 2:var Y4T="1SIYbZ";Y4T+="rN";Y4T+="JCp9";Y4T;return {ot:q,Mn:function(w,u,x,y,z,A,B){var N00,P,T,V,S,W,C,D,E,G,F,I,L,M,K,O,H,J,R;N00=2;for(;N00 !== 16;){switch(N00){case 8:M > J && R <= w.g0b && (J+=(1 - Math.min(R / (w.x$ + w.Oaa),1)) * (M - J));N00=6;break;case 14:return t.call(this,u,w,x,z);break;case 13:z.ha && z.ha.length || (z.GCa=!0);(T=m.wk.N0a(u.buffer.ha),V=u.buffer.Ls - T.ea);N00=11;break;case 11:K=(w.mCa || B) && M >= w.nEa?x.length:y + 2;N00=10;break;case 6:N00=K === f.default.S2.qvb || !z.Va?14:13;break;case 10:(S=(function(ia){var O00,P00;O00=2;for(;O00 !== 4;){switch(O00){case 3:O00=5;break;case 5:return x.slice(0,ia).map(function(ra,ua){var R00;R00=2;for(;R00 !== 1;){switch(R00){case 2:return ua < y?[w.nua,w.Iwa]:ua === y?[w.x$,w.Oaa]:[w.oua,w.Jwa];break;}}});break;case 2:var w4T="var";w4T+="ia";w4T+="ble";P00=w.kCa;O00=P00 === w4T?1:3;break;case 13:O00=7;break;O00=5;break;case 1:return x.slice(0,ia).map(function(ra){var Q00;Q00=2;for(;Q00 !== 1;){switch(Q00){case 4:return [v(w,u.buffer.Ls,ra),9];break;Q00=1;break;case 2:return [v(w,u.buffer.Ls,ra),0];break;}}});break;}}})(K),W=x.slice(0,K).map(function(ia,ra){var S00,ua;S00=2;for(;S00 !== 5;){switch(S00){case 2:a000.G4T(3);ua=a000.K4T(y,ra);return function(){var T00,Aa,Ha,N,Q,U,Z,qa;T00=2;for(;T00 !== 5;){switch(T00){case 2:a:{Aa=x[Math.max(a000.i4T(ra,1,a000.j4T(0)),0)];Ha=S[ra][1];N=u.playbackRate;Q=ia.ha?ia.ha.J7(L,S[ra][0]):0;U=Aa.ha?Aa.ha.J7(L + Q,Ha):0;Ha=ia.Va || 0;Z=ia.ha && ia.ha.length;qa=B?w.hPb:Z?w.P8:w.iPb;qa=ua?w.vra:qa;if(P && !P.Q8 && P.Va >= Ha && P.bitrate <= ia.bitrate){Aa=!1;}else {ua || Z || (ia.GCa=!0);if(!ua || !Z)if(Z && !w.p0){if(Ha >= Math.max(ia.hy * N,ia.bitrate * N * qa) && ia.cv){Aa=!0;break a;}}else if(Ha >= ia.bitrate * N * qa){Aa=!0;break a;}N=!w.Dpa || ia === D || ia.Zb === D.Zb && A?0:(N=ia.Jb) && N.el && N.el.va?N.el.va + w.Apa * (N.el.ye?Math.sqrt(N.el.ye):0):0;(Aa=q(w,x,ia,Aa,T,G + N - E,H,I - E,F - E,L,T.length,O,V,Q,U,J,u.DW,u.playbackRate,! !u.V$a)) && Aa.result && (C.Jpc=Aa.NY);P={Q8:Aa && Aa.result,Va:Ha,bitrate:ia.bitrate};Aa=Aa && Aa.result;}}return Aa;break;}}};break;}}}));N00=20;break;case 2:var r4T="n";r4T+="u";r4T+="mb";r4T+="e";r4T+="r";var X4T="nu";X4T+="m";X4T+="be";X4T+="r";var p4T="invali";p4T+="d";p4T+=" player fra";p4T+="gmentIn";p4T+="dex";var I4T="M";I4T+="ust have at least one se";I4T+="lected stream";h(!g.ta(y),I4T);void 0 === u.te && (u.te=0);h(g.Oa(u.te),p4T);h(X4T === typeof u.buffer.Ls);h(r4T === typeof u.DW);(C=new p(),D=z=x[y],E=u.buffer.da,G=u.buffer.Qc,F=u.buffer.Ic,I=u.buffer.$j,L=u.te,M=I - G,K=this.we.g$a || f.default.S2.Qh,O=u.state === n.Ia.Wc || u.state === n.Ia.Oi?u.buffer.Fj:0,H=w.aba,J=w.by?w.by:1E3,R=z.S.duration);N00=8;break;case 20:h(W.length === S.length);W[y]()?y + 1 < x.length && M > w.zB && (void 0 === this.zaa || this.gwa && this.gwa > this.zaa || F - this.zaa > w.Jaa && M > w.Lwa) && (z=(0,k.Ana)(x.slice(y + 1,K),function(ia,ra){var U00;U00=2;for(;U00 !== 1;){switch(U00){case 4:return W[y % 8 - ra]();break;U00=1;break;case 2:return W[y + 1 + ra]();break;}}})):z.ha && z.ha.length && (z=(0,k.Ana)(x.slice(0,y),function(ia,ra){var V00;V00=2;for(;V00 !== 1;){switch(V00){case 2:return W[ra]();break;}}}),M=x[0],z && z.mg < M.mg || !z) && (z=M);C.Ih=z || D;return C;break;}}},Kqa:v};break;}}function q(w,u,x,y,z,A,B,C,D,E,G,F,I,L,M,K,O,H,J){var K00,R,P,T;K00=2;for(;K00 !== 15;){switch(K00){case 8:K00=!u || u < x.bitrate * H * w.mua || !P?7:6;break;case 11:K00=0 < J?10:20;break;case 6:T || (y=x);R=[];K00=13;break;case 10:(P=Math.min(J,x.ha.length - E),R.push(x.ha.GK.subarray(E,E + P)),J-=P,E+=P,E >= x.ha.length && (E=0));K00=11;break;case 13:K00=J?12:16;break;case 12:J=L;K00=11;break;case 2:var C4T="Second str";C4T+="eam un";C4T+="de";C4T+="f";C4T+="ined";var Q4T="Fi";Q4T+="r";Q4T+="st str";Q4T+="eam ";Q4T+="undefined";h(x,Q4T);h(y,C4T);u=x.Va;(R=C - A,P=x.ha && x.ha.length,T=y.ha && y.ha.length);K00=3;break;case 20:J=M;K00=19;break;case 17:return 0 < L || 0 < M?(0,l.default)({ha:z.concat(R),blocks:G + L + M,Qc:A,$j:C,rbc:B,Fj:F,Ic:D,te:G,bQb:G + L,DW:O,t4a:I,Va:u / H,oba:K,jF:w.jF,HYb:w.p0,DNb:!1}):u > x.hy?{result:!0,NY:0,cv:!0}:{result:!1,NY:0,cv:!0};break;case 3:h(z.length === G);w.Mwa && (K=Math.min(K,R));K00=8;break;case 19:K00=0 < J?18:17;break;case 7:return !1;break;case 18:(P=Math.min(J,y.ha.length - E),R.push(y.ha.GK.subarray(E,E + P)),J-=P,E+=P,E >= y.ha.length && (E=0));K00=19;break;case 16:(L=Math.max(0,Math.min(L,x.ha.length - E)),M=Math.max(0,Math.min(M,y.ha.length - E - L)),0 < L && R.push(x.ha.GK.subarray(E,E + L)),0 < M && R.push(y.ha.GK.subarray(E + L,E + L + M)));K00=17;break;}}}})(),c.Mn);b.ot=c.ot;b.Kqa=c.Kqa;},function(r,b,a){var k,m,f,d,l,n;function c(h,p,q,t){d(!k.ta(t),"Must have at least one selected stream");return new n(t);}function g(h,p,q,t){d(!k.ta(t),"Must have at least one selected stream");return new n(t);}k=a(11);b=a(32);m=b.console;f=b.debug;d=b.assert;l=b.iJ;n=b.rp;r.exports={STARTING:function(h,p,q){var v,w,u,x;function t(y,z){var A,B,C,D;A=y.id;B=y.bitrate;C=y.Va || 0;D=! !C;f && m.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)");if(!y.zv)return (f && !y.Ar && m.log("  Not available"),f && y.iB && m.log("  Failed"),!1);if(B > h.TY)return (f && m.log("  Above maxInitAudioBitrate (" + h.TY + " Kbps)"),!1);if(!(B * h.uba / 8 < p.buffer.Ls))return (f && m.log("  audio buffer too small to handle this stream"),!1);if(D){f && m.log("  Have throughput history = " + D + " : available throughput = " + C + " Kbps");if(B * p.playbackRate < C / w)return (f && m.log(" +FEASIBLE: bitrate less than available throughput"),!0);f && m.log(" bitrate requires more than available throughput");return !1;}y=h.hZ;p.nva && (y=Math.max(y,h.fZ));if(B <= y)return (f && m.log("  Bitrate is less than max of minInitAudioBitrate (" + h.hZ + " Kbps) " + (p.nva?" and also minHCInitAudioBitrate (" + h.fZ + " Kbps)":"")),f && m.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);f && m.log("  No throughput history");return !1;}v=new n();w=h.Pmc || 1;for(u=q.length - 1;0 <= u;--u){x=q[u];if(t(x,u)){v.Ie=u;break;}l(x) && (v.Ie=u);}return v;},BUFFERING:c,REBUFFERING:c,PLAYING:g,PAUSED:g};},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Os=void 0;c=a(10);g=a(118);k=a(2);b.Os=function(m,f,d,l,n,h,p){var q;c.N && l.trace("AsePlaygraph.createRequestQueue()");q=g.ip.instance.Os(m,f.K,!0,!1,{Gx:d.Gx},d);q.ej.on(q,"networkfailing",function(){var t;c.N && l.trace("requestQueue OnNetworkFailing: ",q);q.N8 && ((0,k.assert)(q.VW),null === (t=f.mr) || void 0 === t?void 0:t.Jt(void 0,q.VW,void 0,q.zg,q.Bi));f.$l();});q.ej.on(q,"error",function(){p(q.zg,q.Bi);});q.on("transportreport",n);q.on("mediaRequestComplete",h);q.oa();return q;};},function(r,b,a){var c,g,k,m,f,d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kia=void 0;c=a(0);r=c.__importDefault(a(104));g=c.__importDefault(a(4));a=a(160);k=r.default.x7;m=r.default.OGb;f=r.default.gra;d=r.default.GOb;l=r.default.Z9b;new g.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(n){var W00;W00=2;function h(p,q){var X00,t;X00=2;for(;X00 !== 13;){switch(X00){case 7:var h4T="1SIYbZrN";h4T+="J";h4T+="Cp9";p.Ju.niqrfilter && p.Ju.niqrcurve && (t.fcb=p.Ju.niqrfilter,t.$1b=m(p.Ju.niqrcurve,1,0,4));h4T;return t;break;case 2:t=n.call(this,p,q) || this;t.YJ=function(v,w,u,x){var Y00,y,z,A;Y00=2;for(;Y00 !== 12;){switch(Y00){case 2:Y00=1;break;case 1:x=null !== x && void 0 !== x?x:t.UP;A=t.Jo(v,u);Y00=4;break;case 4:u=t.aCa(u)?A:(null === (y=v[t.filter]) || void 0 === y?void 0:y.va) || A;y=Math.pow(Math.max(1 - u / t.uEb,0),t.rEb);u=w.$j - w.Qc;t.lbc?(w=f(t.d1a,u,1),u=f(t.c1a,u,1),w=w * y + u * (1 - y)):w=f(l(t.d1a,t.c1a,y),u,1);Y00=7;break;case 7:v=t.fcb && (null === (z=v[t.fcb]) || void 0 === z?void 0:z.Txa);void 0 !== v && (z=d(t.$1b,v),w=Math.min(w * z,1));a000.j4T(4);z=t.U1a(a000.K4T(1,A,w),x);return {lower:z,upper:z * t.config.TDa};break;}}};Array.isArray(p.Ju.curves) && (t.d1a=m(p.Ju.curves[0],0,0,1),t.c1a=m(p.Ju.curves[1],0,0,1));t.uEb=k(p.Ju.threshold || 6E3,1,1E5);t.rEb=k(p.Ju.gamma || 1,.1,10);t.filter=p.Ju.filter;t.lbc=! !p.Ju.simpleScaling;X00=7;break;}}}for(;W00 !== 5;){switch(W00){case 3:c.__extends(h,n);return h;break;W00=5;break;case 2:c.__extends(h,n);return h;break;}}})(a.LC);b.kia=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.wna=b.$Z=b.j3a=void 0;c=a(0).__importDefault(a(104)).default.gra;b.j3a=function(g,k,m){var f,d,l;f=0;if(m){g.some(function(n){var h;h=n.b;n=n.m;if(k <= h)return (f=l && h !== d?l + (n - l) / (h - d) * (k - d):n,!0);d=h;f=l=n;return !1;});}else g.some(function(n){f=n.m;return k <= n.b;});return f;};b.$Z=function(g,k,m){var f;k=(null === (f=k.Va) || void 0 === f?void 0:f.va) || 0;return g.WYa?(g=c(g.VYa,m.$j - m.Qc,1),k * (1 - g)):k * g.C0 / 100;};b.wna=function(g,k){return g < 2 * k?g / 2:g - k;};},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t;Object.defineProperties(b,{__esModule:{value:!0}});b.dga=void 0;c=a(0);r=a(14);g=a(10);k=c.__importDefault(a(4));m=a(8);f=a(1045);d=a(130);l=a(1046);n=a(20);h=a(1049);p=a(1050);q=a(1051);t=a(2);a=(function(v){function w(){var u;u=null !== v && v.apply(this,arguments) || this;u.tWa=0;u.lma=0;u.Q4=0;u.Jka=0;return u;}c.__extends(w,v);w.prototype.EAa=function(u){var x,y;v.prototype.EAa.call(this,u);this.tWa++;this.lma++;this.VWa=k.default.time.ia();this.DM || (this.DM={Pc:u.Pc,Nd:u.Nd,index:u.index},this.i5 || (this.i5=this.DM));x=this.v5;y=!1;x && 100 > Math.abs(x.Lf - u.zd) && (this.Q4+=u.Lf - x.Lf,this.Jka++,y=!0);y || (this.Q4=u.qn,this.Jka=1);this.v5=u;};w.prototype.stop=function(){v.prototype.stop.call(this);this.lma=0;this.DM=void 0;};w.prototype.N5a=function(){var u,x,y,z;u=this.Bu;x=u.hW;if(x){z=x.fb(this.dh);z && z.Ua && (y=z.Ua.tta());return {RM:y,currentBranch:{sId:x.G && x.G.id,cancelled:x.Pf},currentReceivedCount:u && u.QKb,totalReceivedCount:this.tWa,currentState:u && u.b1a || "Uninitialized",lastRequestPushed:this.v5 && ({contentEndPts:this.v5.Pc,fragmentIndex:this.v5.index}),tslp:this.VWa && k.default.time.ia() - this.VWa,cpts:this.Q4,crq:this.Jka,rslp:this.lma,firstRequestSSPushed:this.DM && ({contentStartPts:this.DM.Nd,fragmentIndex:this.DM.index}),firstRequestPushed:this.i5 && ({contentStartPts:this.i5.Nd,fragmentIndex:this.i5.index})};}};return w;})((function(v){function w(u,x,y,z,A,B,C,D,E,G,F){var I;I=v.call(this) || this;I.qg=u;I.dh=x;I.L=z;I.H=A;I.T=B;I.VZ=C;I.Fi=D;I.fp=E;I.tD=new m.Az(!1);I.rD=new m.Az(n.M.Ja(-Infinity));I.H=(0,m.Ai)(k.default,I.H,("AsePlayerBuffer [").concat(x,"]:"));I.Bu=new f.$Fa(I.H,y,x);I.resume();B && C && D && (F?(I.IQ=F,F.tx(B,D,I.qg)):I.B0a(),u=new h.TIa(null === B || void 0 === B?void 0:B.Fi,n.M.Ja(I.L.iZ),A),I.Bu.fna(u),I.L.hYa && (B=new p.kOa(null === B || void 0 === B?void 0:B.Fi,I.L.hYa,n.M.Ja(I.L.eDb),A),I.Bu.fna(B)),G && (I.vAb=new q.tRa(G,A),I.Bu.fna(I.vAb)));I.qg.on("requestAppended",function(L){I.tD.set(!0);L.request.Oc && I.rD.set(L.request.Oc);I.emit("requestAppended");});return I;}c.__extends(w,v);Object.defineProperties(w.prototype,{Fv:{get:function(){return this.tD;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{c$a:{get:function(){return this.rD;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{HXb:{get:function(){return this.Bu.fk;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{fCa:{get:function(){return this.qg.endOfStream;},enumerable:!1,configurable:!0}});w.prototype.B0a=function(){(0,t.assert)(this.T && this.VZ && this.Fi,"Player should be defined");this.IQ=new l.BQa(this.dh,this.H,this.T,this.qg,this.T.events,this.VZ,this.Fi,this.fp);};Object.defineProperties(w.prototype,{mediaType:{get:function(){return this.dh;},enumerable:!1,configurable:!0}});w.prototype.N5a=function(){};w.prototype.resume=function(){g.N && this.H.trace("resume");this.sCa();};w.prototype.Z8a=function(u){return this.qg.Xsa() > u;};Object.defineProperties(w.prototype,{LDb:{get:function(){return this.kM;},enumerable:!1,configurable:!0}});w.prototype.hbc=function(){this.qg.qZ(!0);};w.prototype.reset=function(u){var x;void 0 === u && (u=!1);g.N && this.H.trace("reset");this.stop();this.qg.reset(u);this.tD.set(!1);this.rD.set(n.M.Ja(-Infinity));u || (this.kM=void 0,null === (x=this.IQ) || void 0 === x?void 0:x.reset());};w.prototype.ij=function(u){void 0 === u && (u=!1);g.N && this.H.trace("restart");this.reset(u);this.sCa(!0);};w.prototype.stop=function(){g.N && this.H.trace("stop");this.Bu.fjb();};w.prototype.close=function(){var u;g.N && this.H.trace("start");null === (u=this.IQ) || void 0 === u?void 0:u.close();};w.prototype.xb=function(){this.stop();this.close();};w.prototype.wZ=function(){this.L.e9 && this.qg.b4a();this.qg.qI();};w.prototype.MF=function(u){this.qg.MF(u);};w.prototype.cQb=function(u){this.qg.tcb(u,!0);};w.prototype.Wh=function(u){var x;return !(null === (x=this.IQ) || void 0 === x || !x.Wh(u));};w.prototype.sCa=function(u){if(!this.Bu.fk || u)(this.Bu.x9b(),d.AsyncIterator.OYb(this.Bu,this.saa.bind(this)));};w.prototype.saa=function(u){u.done || this.EAa(u.value);};w.prototype.EAa=function(u){var x,y;g.N && this.H.trace(("requestReceived: ").concat(null === (x=this.Bu.hW) || void 0 === x?void 0:x.G.id) + (" ").concat(u.toString(),", edit: ").concat(JSON.stringify(u.Ga)));this.qg.endOfStream?g.N && this.H.error("Buffer manager has declared EOS, ignoring request",u.toString()):(this.kM?(this.kM.hZb=u.Pc,this.kM.jZb=u.Lf,this.kM.j$a=u.Oc):this.kM={woc:u.Nd,xoc:u.zd,hZb:u.Pc,jZb:u.Lf,j$a:u.Oc},u.Vs && u.stream.track.Mo && (null === (y=this.T) || void 0 === y || !y.Br(u.S.P)) && this.emit("drmNeeded",{P:u.S.P,ty:u.jd}),this.qg.KDb(u));};return w;})(r.EventEmitter));b.dga=a;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.tga=void 0;r=a(0);c=r.__importStar(a(11));g=r.__importDefault(a(90));k=r.__importDefault(a(4));m=a(1052);f=a(6);d=a(192);l=a(8);n=a(2);h=a(20);p=a(397);q=a(440);a=(function(){function t(v,w,u,x,y,z,A,B,C,D){this.zb=v;this.qj=w;this.H=u;this.aN=x;this.L=A;this.Wka=B;this.ZVa=C;this.mX=D;this.$b=this.H.warn.bind(this.H);this.Vj=this.H.trace.bind(this.H);this.rg=this.H.log.bind(this.H);this.ri=[];this.Uh={};y.qo?((0,n.assert)(!y.kq),this.zka=!0,this.Azb(y,y.qo,z)):(this.xp=this.Mz(y.kq || "",y,0,void 0,void 0,{},!0),this.xp.Ll=!0,this.xp.Ta=Infinity,this.e6=[this.xp]);this.Ud=this.S4(this.xp,void 0,z);this.Ud.active=!0;v=(0,l.Ai)(k.default,this.H,"BranchQueue::");this.Tj=new d.eG(v);this.Tj.enqueue(this.Ud);this.dma=this.vU=void 0;}t.isa=function(v){return "m" + v;};Object.defineProperties(t.prototype,{Yx:{get:function(){return ! !this.zka;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Wk:{get:function(){return this.Ud.Pf;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{fe:{get:function(){return this.xp;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Yh:{get:function(){return this.Ud.G.id;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{SKb:{get:function(){return this.Ud.S.Sb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{gd:{get:function(){return this.Ud;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{bb:{get:function(){return this.ri;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{cg:{get:function(){return this.Ud.cg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Th:{get:function(){return this.zb.Th;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Gi:{get:function(){return this.vU?this.vU:this.bb[0];},enumerable:!1,configurable:!0}});t.prototype.xb=function(){this.ri.forEach(function(v){v.Wd();});this.ri=[];this.Tj.clear();};t.prototype.De=function(v){return this.Uh[v];};t.prototype.M6a=function(){return this.Tj.getIterator();};t.prototype.L6a=function(v,w){var u;u=this.Uh[v];if(u)return (v=u.mm[w]) && v.weight;this.$b("getSegmentWeight, unknown segment:",v);};t.prototype.hUb=function(v){var w;w=this.Uh[v];if(w)return w.da;this.$b("getSegmentStartPts, unknown segment:",v);};t.prototype.gUb=function(v){var w;w=this.Uh[v];if(!w)this.$b("getSegmentDuration, unknown segment:",v);else if(c.Oa(w.Ta) && isFinite(w.Ta) && c.Oa(w.da) && isFinite(w.da))return w.Ta - w.da;};t.prototype.mda=function(v){var w;w=-1;this.ri.some(function(u,x){return u === v?(w=x,!0):!1;});-1 !== w?this.ri.splice(w,1):this.$b("Unable to find branch:",v,"in branches array");};t.prototype.VH=function(v,w){var u;u=0;this.jxb(v).forEach(function(x){(x=x.ue(w)) && (u+=x.dE);});return u;};t.prototype.wx=function(v,w,u){var x;if(!v.wc(w))return 0;x=v.fb(w);for(x=u?x.Ic:x.fr;void 0 === x;){if(!v.gj)return 0;v=v.gj;x=v.fb(w);x=u?x.Ic:x.fr;}v=this.ZVa.Tf();return Math.max(x - v,0);};t.prototype.Ara=function(v){return this.ri.filter(function(w){if(w.S.Sb === v)return !0;});};t.prototype.GPb=function(v,w){return this.xUa(v,!1,w);};t.prototype.FPb=function(v,w){return this.xUa(v,!0,w);};t.prototype.I8b=function(v,w,u){c.fg(this.ri,function(x){x.S === v && x.jib(w,u);});c.fg(this.Uh,function(x){x.S === v && (x.S=w);});};t.prototype.Cgb=function(){var v;v=this;c.fg(this.ri,function(w){var u;u=v.zb.Zh(w.S.Sb);w.wq(h.M.Ja(u.dy));});};t.prototype.dw=function(v){var w;w=this;c.fg(this.ri,function(u){u.fb(f.u.J).track.Rc.forEach(function(x){var y;y=(0,p.xna)(x.af,x.bitrate,v,w.H);(0,g.default)(y,x);});});};t.prototype.Lx=function(v,w,u,x){var y;for(;w;){y=w.Lx(v,u);if(y)return y;if(x)break;w=w.gj;}};t.prototype.i1a=function(v){var w,u;w=this;void 0 === v && (v=!1);u=this.ri;v && (u=u.filter(function(x){return x !== w.Ud;}));u.forEach(function(x){x.active=!1;w.Tj.remove(x);});v || this.Tj.clear();return u;};t.prototype.d7b=function(){var v;for(;0 < this.ri.length;){v=this.ri[0];v.fb(f.u.V);v.fb(f.u.J);if(!v.active)break;if(v === this.Ud)break;if(!v.FVb())break;v.Wd();this.ri.shift();}};t.prototype.l_=function(v,w,u,x,y){if(u > x){for(u-=x;v;){v.l_(w,u,y);v=v.gj;}return u;}};t.prototype.gab=function(v,w){for(var u={XV:null,FQ:null,zd:null,Fj:0,Yo:0,Hg:0,ha:[]};v;){v.V9(u,w);v=v.gj;}return u;};t.prototype.gHb=function(v){var w,u,x;w=this.Ud;if(w.W$a)u=w.W$a;else {x=this.Ud.cg;u=this.S4(w.G,w);f.ag.forEach(function(y){var z;z=u.ue(y);z && (z.pR(0),y=w.ue(y),z.cea(y.ve));});u.wq(h.M.Ja(x + v));w.W$a=u;}this.fM(u,w);};t.prototype.qCb=function(v,w,u){var x,y;(0,n.assert)(!v.Yx());if(!this.zka){this.zka=!0;this.vU=this.Gi;x=this.xp.id || t.isa(0);this.xp.id=x;this.Uh[x]=this.xp;this.xp.Ta=this.zb.ISb().Q5a();this.xp.yF=!0;}y=void 0 !== v.kq?v.kq:t.isa(v.Sb);v=this.Mz(y,v,w,u,void 0,{},!0);v.yF=!0;this.e6.forEach(function(z){z.mm={};z.mm[y]={weight:100};z.pW=y;z.ew=!1;});this.e6=[v];};t.prototype.zx=function(v,w){var u,x,y,z;u=this.Gi;x=u.Ny(w,this.zb.T);y=u.G;z=u.children[v];if(w){if(!y.mm[v])return (this.Ud.$b("chooseNextSegment, invalid destination:",v,"for current segment:",y.id),!1);if(u.Bl)return u.Bl === v;u.Bl=v;z && u.h9 && this.fM(z,u);return !0;}if(void 0 !== u.Bl)return !1;if(!z)return (x.Wbb=!0,!1);x.Wbb=!z.Roa();this.zb.uWa(void 0,q.d4.pQ);u.h9=void 0;u.Bl=v;this.fM(z,u);u.sE();this.zb.L5();return !0;};t.prototype.dWb=function(v,w){var u,x,y,z;u=this;z=v.G;w && !v.Bl && (v.Bl=z.pW,v.Ny(!0,this.zb.T,!0));v.children=Object.create(null);c.fg(z.mm,function(A,B){v.Bl && B !== v.Bl || (x=u.Uh[B],y=u.Cwb(x,v),v.children[B]=y);});v.Bl && (w=v.children[v.Bl]) && this.fM(w,v);v.h9=!0;};t.prototype.Ldc=function(){var v;v=0;c.fg(this.ri,function(w){f.ag.forEach(function(u){w.wc(u) && (u=w.ue(u),v+=u.Ua.sj);});});return v;};t.prototype.Mcc=function(v,w){var u,x,y;u=this;x=this.hxb(v,w);if(x){if(x !== this.Ud.G){this.i1a();y=this.S4(x,this.Ud,v);y.gj=void 0;y.Whb(void 0,!0);this.Ivb(this.Ud);this.fM(y,this.Ud);}else this.i1a(!0).forEach(function(z){z.Wd();u.mda(z);u.Tj.remove(z);});x === this.Gi.G && (this.Gi.Py.shift(),y && (y.Py=this.Gi.Py,y.Bl=this.Gi.Bl));this.qj.C5(x,this.Ud.cg);this.Ud.h9=void 0;}else this.$b("findSegment no segment for manifestIndex:",w);};t.prototype.fab=function(v,w){var u;u=v.G;w || (w=u.pW);0;v.Bl || (v.Bl=w,v.Ny(!0,this.zb.T,!0));(w=v.children[v.Bl]) && this.fM(w,v);};t.prototype.W$b=function(v){this.Ud !== v && (this.Ud=v);};t.prototype.lw=function(v,w){var u,x,y,z,A;u=this;if(this.Yx){x=this.L;y=this.Gi;z=y.G;A=(0,l.m$b)(z.id);!y.Bl && !z.ew && y.Pc - w <= x.fQ && (this.$b(A + "updatePts making fork decision at playerPts:",v,"contentPts:",w),this.fab(y));}f.ag.forEach(function(B){u.Ud.wc(B) && u.Th[B].lw();});};t.prototype.q2b=function(v,w){var u,x;if(this.Yx){u=this.vU;if(!(this.L.DWb && v && this.dma && v.da === this.dma || (v=v.Ua.ab,u && v.G.id === u.G.id))){x=null === u || void 0 === u?void 0:u.ue(f.u.J);x=null === x || void 0 === x?void 0:x.ve;this.dma=null === x || void 0 === x?void 0:x.da;this.vU=v;this.ewb(u);u=u && u.wHb(v);this.qj.ezb(v.G,w,u);}}};t.prototype.Nba=function(v,w,u){w.Ll || (w.da=this.m6a(v,w.da,!0),u || (w.Ta=this.m6a(v,w.Ta,!1)),w.Ll=!0,!1);};t.prototype.bfa=function(v,w){var u;0;u=this.Uh[v];u?c.fg(u.mm,function(x,y){x.weight=w[y] || 0;}):this.$b("updateChoiceMapEntry, unknown segment:",v);};t.prototype.m6a=function(v,w,u){v=u?v.H3a(w):v.YW(w);if(!v.length)return w;w=v[f.u.J];return u?w.da:w.Ta;};t.prototype.fVa=function(v,w,u){var x;x=w?u.Pc:u.Lf;return (w?u.Sda:u.nza) <= v && v < x;};t.prototype.xUa=function(v,w,u){var A;for(var x=this.zb,y=this.Ud;y;){if((!c.Oa(u) || x.kva(u,y.S.Sb)) && this.fVa(v,w,y))return y;y=y.gj;}if(w){y=Object.keys(this.Ud.children);for(var z=0;z < y.length;z++){A=this.Ud.children[y[z]];if((!c.Oa(u) || x.kva(u,A.S.Sb)) && this.fVa(v,w,A))return A;}}};t.prototype.Cwb=function(v,w){var u,x;u=this.S4(v,w);x=u.Whb(w,this.L.jAa);f.ag.forEach(function(y){var z,A,B;if(u.wc(y)){z=u.ue(y);A=w.ue(y);B=x[y];y === f.u.J && u.wq(h.M.Ja(A.Ic + w.cg - B));z.pR(B);}});this.qj.C5(v,u.cg);return u;};t.prototype.Ivb=function(v){for(var w=[v.G.id];v.gj;){v=v.gj;w.unshift(v.G.id);}this.qka(v);};t.prototype.qka=function(v){var w,u;w=this;u=v.G;c.fg(v.children,function(x){x && w.qka(x);});this.Tj.remove(v);v.Wd();this.mda(v);this.qj.Rla(u);};t.prototype.fM=function(v,w){var u,x,y,z;u=this;x=w.G;w.S !== v.S && this.zb.uVa(v.S.Sb);v.active=!0;this.Tj.enqueue(v);v.BN();y=k.default.time.ia();z={};c.fg(w.children,function(A){var B,C;if(A){if(A.Ee){B=A.ue(f.u.V);C=A.ue(f.u.J);A.Ee.VD=[B?B.uo.Z:0,C?C.uo.Z:0];A.Ee.WMb=y - A.Ee.N$;A.Ee.N$=void 0;z[A.G.id]=A.Ee;}A.G.id !== v.G.id && u.qka(A);}});w.children=Object.create(null);w.children[v.G.id]=v;w.qM=void 0;this.W$b(v);this.qj.czb(v.G,z);1 < Object.keys(x.mm).length && v.Roa();};t.prototype.ewb=function(v){var w,u;if(v){w=k.default.time.ia();u=v.Py[0];u && void 0 === u.h8?u.h8=w - u.Ur:u || (this.$b("missing metrics for branch:",v.G.id),u={oea:v.G.id,He:!0,h8:0,Ee:{}},v.Py.unshift(u));void 0 === u.startTime && (u.startTime=w);}};t.prototype.hxb=function(v,w){var x,y,z,A;(0,n.assert)(0 <= v);for(var u in this.Uh){x=this.Uh[u];if(this.zb.kva(x.S.Sb,w)){if(x.da <= v && (Infinity === x.Ta || void 0 === x.Ta || v < x.Ta))return x;y=Math.min(Math.abs(v - x.da),Math.abs(v - x.Ta));if(c.ta(z) || y < z)(z=y,A=x);}}return A;};t.prototype.Mz=function(v,w,u,x,y,z,A,B,C){w=new m.xRa(v,w,u,x,y,z,A,B,void 0,C);return this.Uh[v]=w;};t.prototype.Azb=function(v,w,u){var x,y,z;x=this;this.xp=void 0;this.e6=[];y=null;z=null;c.fg(w.segments,function(A,B){var C,D,E,G,F;C=A.startTimeMs;D=A.endTimeMs;E={};c.fg(A.next,function(I,L){E[L]={weight:I.weight || 0,Wdc:I.transitionHint || A.transitionHint,hoc:"number" === typeof I.earliestSkipRequestOffset?I.earliestSkipRequestOffset:A.earliestSkipRequestOffset};});G=A.defaultNext;c.ta(G) && (G=Object.keys(E)[0]);F=c.ta(G);G=x.Mz(B,v,C,D,G,E,F,A.exitZones,A.transitionHint);C <= u && (u < D || c.ta(D))?x.xp=G:C > u && (!y || C < z) && (y=B,z=C);F && x.e6.push(G);});this.xp || (this.xp=y?this.Uh[y]:this.Uh[w.initialSegment]);};t.prototype.S4=function(v,w,u){var x,y,z,A;x=v.S;y=this.zb.Zh(x.Sb);z=y.dy;A=[];[f.u.V,f.u.J].forEach(function(B){x.wc(B) && A.push(y.gv(B));});v=new q.kLa(this.zb,this.L,this.qj,this.H,this,this.Wka,this.ZVa,this.aN,v,A,z,w,u?h.M.Ja(u):void 0,this.mX,this.zb.Th,this.zb.ex);this.Kvb(v);this.ri.push(v);return v;};t.prototype.Kvb=function(v){var u;function w(x){u.zb.emit(x.type,x);}u=this;v.addListener("locationSelected",w);v.addListener("logdata",w);v.addListener("serverSwitch",w);v.addListener("streamSelected",w);v.addListener("lastSegmentPts",w);v.addListener("managerdebugevent",w);v.addListener("requestCreated",function(x){x=x.request;u.zb.pma(x.mediaType,x.da);});};t.prototype.jxb=function(v){for(var w=[v];v.gj;){v=v.gj;w.push(v);}return w;};return t;})();b.tga=a;},function(r,b,a){var m,f,d,l;function c(n,h,p){this.xF=h;this.km=p;this.qC=this.dY=this.Vya=this.Ldb=this.Kdb=this.rQ=this.Rc=this.s5b=this.km=this.Rn=this.Ic=this.da=this.cu=this.hp=this.ha=this.G8a=this.DV=void 0;}function g(n,h,p){this.Ta=h;this.v9a=p;this.oYa=this.wmb=this.Bs=this.hp=this.uJ=this.Hx=void 0;}function k(n,h,p,q,t,v,w){var u;u=new c(p,h,n.km);n.forEach(function(x){var y,z;y=x.buffer;z=y.ha;x.mediaType === f.Sd.V?u.DV=z.length?z[0].bitrate:void 0:x.mediaType === f.Sd.J && (u.G8a=z.length?z[0].bitrate:void 0,u.ha=z,u.hp=y.$j - y.Qc,u.cu=y.Hg,u.da=y.Qc,u.Ic=y.Ic,u.Rn=x.te,u.km=x.km,u.s5b=h - x.km,u.Rc=x.Rc,u.rQ=z.filter(function(A){return u.da <= A.By;}).length);});this.tk=u;this.Xu=void 0;this.o1a=q;this.Iy=t;this.lZa=v;this.gAa=this.gda=this.$cb=this.xC=this.uN=this.D3a=this.Uy=this.Rc=this.Xu=void 0;this.RCb=w;this.sza={};}m=a(0);f=a(28).default;d=a(32).assert;l=a(6).Ia;c.prototype.constructor=c;g.prototype.constructor=g;k.prototype.constructor=k;k.prototype.yI=function(n,h){var p,q,t,v,w,u,x,y,z,A,B,C,D,I,L,M,K,O,H;p=this.tk;q=[];t=n[f.Sd.J];v=n[f.Sd.V];if(void 0 === t || void 0 === v)return !1;w=t.buffer;u=v.buffer;x=p.Rc.filter(function(J){return J.J9();});if(void 0 === w || void 0 === u || void 0 === x || 0 === x.length)return !1;y=new g(h?l[h]:"maxbitratechanged",t.Qc,h === l.Kg);z=0;A=0;B=0;C=0;D=p.da;n=n[f.Sd.J].Qc;for(var E=p.ha,G=p.rQ,F=0;F < G;F++){I=E[F];L=I.offset;M=I.offset + I.ea - 1;K=I.qn;O=I.$B;H=O + K;I && O <= n && H > D && (K=I.qn,O=Math.min(K,Math.min(n,H) - Math.max(O,D) + 1),C+=O,z+=O / K * (M - L + 1),A+=I.bitrate * O,B+=I.eb * O);}p.Kdb=z;p.Ldb=C;p.Vya=0 < C?A / C:0;p.P4b=0 < C?B / C:0;p.dY || (p.dY=0,x.some(function(J,R){if(J.bitrate === p.G8a)return (p.dY=R,!0);}));x.forEach(function(J){var R,T;J=J.J9();R=[];p.qC || (p.qC=J.Eo(p.da,void 0,!0));y.Hx || (y.Hx=J.Eo(y.Ta,void 0,!0),y.uJ=J.length - 1);p.Rn !== p.qC + p.rQ && (p.Rn=p.qC + p.rQ);G=Math.min(y.uJ,y.Hx + 1);for(var P=p.qC;P <= G;P++){T=J.get(P);R[P]=T;}q.push(R);});h === l.Kg && (y.hp=w.$j - w.Qc,y.Bs=u.$j - u.Qc,y.wmb=t.Bfb,y.oYa=v.Bfb);this.Xu=y;this.Rc=x;this.Uy=q;return this.D3a=!0;};k.prototype.cB=function(){var n,h,p,q,t,v,w,u,x,y,z,D,E,G,F,I,K,O;if(this.ik)return this.ik;p=this.xC;q=this.tk;t=this.Xu;v=this.Rc;w=this.$cb;u=this.RCb;d(void 0 !== p,"throughput object must be defined before retrieving the logdata from PlaySegment");if(p.trace && 0 === p.trace.length || void 0 === p.timestamp){if(t.v9a)(x=!1,y=!0);else t.Hx - q.qC + 1 <= q.rQ?y=x=!0:(x=!0,y=!1);z=!0;}if(w)for(var A=w.T$,B=w.HO,C=0;C < u.length;C++){D=u[C];(p=w[D]) && p.Uxa && (y=!0);}t={bst:q.km,pst:q.xF,s:q.qC,e:t.Hx,prebuf:q.rQ,brsi:q.Rn,pbdlbytes:q.Kdb,pbdur:q.Ldb,pbtwbr:q.Vya,pbvmaf:q.P4b};this.Iy && (t.fragmentsPrebuffered=q.ha);z && (t.nt=z);y && (t.nd=y);A && (t.invalid=A);B && (t.exception=B);this.gAa && (t.rr=this.gAa);this.gda && (t.ra=this.gda);if(!y && !A && !B && (this.o1a || this.Iy)){t.bitrate=v.map(function(H){return H.bitrate;});p=this.xC;D=p.trace;E=[];F=0;D.forEach(function(H){H=Number(H).toFixed(0);E.push(H - F);F=H;});t.tput={ts:p.timestamp,trace:E,bkms:p.sA};}if(y || z || A || B)t.feasible=x;else for((t.sols={},t.elapsed=w.pNb,C=0);C < u.length;C++){D=u[C];p=w[D];y={};if(p && p.Zr){y.algelapsed=p.QCb;y.maxHeapTotal=p.DB;y.f=p && p.ot || !1;y.dltwbr=p.Y1a;y.dlvmaf=p.a2a;y.dlvdur=p.$1a;y.dlvbytes=p.Z1a;y.dlabytes=p.W1a;if(this.o1a || this.Iy){G=p.Zr.filter(function(H){return H;}).map(function(H){return H.Ie;});F=0;I=[];G.forEach(function(H){I.push(H - F);F=H;});y.strmsel=I;}if(this.Iy){z=[];x=this.tk.Rn;try{for(var L=(n=void 0,m.__values(G)),M=L.next();!M.done;M=L.next()){K=M.value;O=this.Uy[K][x];O.mg=K;z.push(O);x++;}}catch(H){n={error:H};}finally{try{M && !M.done && (h=L.return) && h.call(L);}finally{if(n)throw n.error;}}y.fragsel=z;y.streamList=this.Rc;y.pause_dlnd_sec=p.Zr.filter(function(H){return H;}).map(function(H){return H.Sya;});y.buffer_sec=p.Zr.filter(function(H){return H;}).map(function(H){return H.hoa;});y.buffer_kb=p.Zr.filter(function(H){return H;}).map(function(H){return H.goa;});y.buffer_frags=p.Zr.filter(function(H){return H;}).map(function(H){return H.qZa;});y.elapsed_secs=p.Zr.filter(function(H){return H;}).map(function(H){return H.y2a;});y.throughput=p.Zr.filter(function(H){return H;}).map(function(H){return H.Va;});}}t.sols[D]=y;}return this.ik=t;};k.prototype.RPb=function(n){var q;if(void 0 !== this.sza[n])return this.sza[n];for(var h=this.Uy[this.tk.dY],p=0;p < h.length;p++){q=h[p];if(q && q.da <= n && q.da + q.duration > n)return this.sza[n]=q;}throw Error("findPlayingFragment: missing");};r.exports=k;},function(r,b,a){var k,m;function c(f,d,l){this.ea=f;this.Ln=d;this.quality=l;}function g(f,d){this.Qwa=d;void 0 === d && (this.Qwa=!0);this.hn=f;this.Wvb();}k=a(0);m=a(2).assert;c.prototype.constructor=c;c.prototype.fB=function(){return 8 * this.ea / 1E3 / this.Ln;};g.prototype.constructor=g;g.prototype.vi=function(f,d,l,n,h){void 0 === d && (d=0);void 0 === l && (l=f.kP());void 0 === n && (n=0);void 0 === h && (h=f.hn.length);for(var p=[],q,t=n;t < h;t++){n=[];for(var v=d;v < l;v++){q=f.hn[t][v];n.push(q);}p.push(n);}return new g(p,f.Qwa);};g.prototype.Wvb=function(){var f,d,h;d=this.hn[0].length;try{for(var l=k.__values(this.hn.slice(1)),n=l.next();!n.done;n=l.next()){h=n.value;m(h.length === d,"expect chunk.length === n but got " + h.length + " and " + d);}}catch(q){var p;p={error:q};}finally{try{n && !n.done && (f=l.return) && f.call(l);}finally{if(p)throw p.error;}}this.Qwa && this.Xvb();this.Yvb();};g.prototype.kP=function(){return this.hn[0].length;};g.prototype.Xvb=function(){for(var f=0;f < this.hn.length - 1;f++){for(var d=0;d < this.kP();d++){m(this.hn[f][d].ea <= this.hn[f + 1][d].ea,"Chunk size for epoch " + d + " is not monotonic");}}};g.prototype.Yvb=function(){for(var f=0;f < this.hn.length - 1;f++){for(var d=0;d < this.kP();d++){m(1E-8 > Math.abs(this.hn[f][d].Ln - this.hn[f + 1][d].Ln),"Chunk duration for epoch " + d + " is not consistent");}}};g.prototype.ZUb=function(){var f;f=[];this.hn[0].forEach(function(d){f.push(d.Ln);});return f;};r.exports={Sob:c,Tob:g};},function(r,b,a){var m;function c(){}function g(f,d,l){void 0 === l && (l=!1);m(f.length === d.length,"bitrates_kbps and durations_sec must be of the same length.");m(1E-8 < k(f),"bitrate zero, won't be able to send anything.");this.TD=f;this.s2a=d;this.repeat=l;this.nn=this.Qp=0;}function k(f){return f.reduce(function(d,l){return d + l;},0);}m=a(2).assert;c.prototype=Error();g.prototype.constructor=g;g.prototype.vi=function(){var f;f=new g(this.TD,this.s2a,this.repeat);f.Qp=this.Qp;f.nn=this.nn;return f;};g.prototype.Vta=function(){return this.TD[this.Qp % this.TD.length];};g.prototype.KE=function(){return this.s2a[this.Qp % this.TD.length];};g.prototype.TMb=function(f){m(0 < f,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.Qp && this.Qp < this.TD.length))throw new c();m(this.nn < this.KE(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var d;;){d=this.KE() - this.nn;d=f < d?f:d;f-=d;this.nn+=d;if(this.nn < this.KE())break;this.nn-=this.KE();this.Qp+=1;if(!this.repeat && this.Qp >= this.TD.length){if(0 < f)throw new c();break;}}};g.prototype.Idb=function(f){this.TMb(f);};g.prototype.UMb=function(f){m(0 < f,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.Qp && this.Qp < this.TD.length))throw new c();m(this.nn < this.KE(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var d,l=0;;){d=this.KE() - this.nn;d=f < d * this.Vta()?f / this.Vta():d;f-=this.Vta() * d;l+=d;this.nn+=d;if(this.nn < this.KE())return l;this.nn-=this.KE();this.Qp+=1;if(!this.repeat && this.Qp >= this.TD.length){if(0 < f)throw new c();return l;}}};r.exports={mvb:g,nvb:c};},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u;Object.defineProperties(b,{__esModule:{value:!0}});b.bvb=b.nia=b.dvb=b.XRa=void 0;r=a(0);c=r.__importStar(a(11));g=r.__importDefault(a(4));k=r.__importDefault(a(32)).default.iJ;m=r.__importStar(a(8)).Ai;f=r.__importDefault(a(450));d=a(435);l=a(76);n=a(6);h=a(22);p=a(2);q=a(116);t=a(265);a=(function(){function x(y,z,A,B,C,D,E,G,F,I,L){var M;M=this;this.H=y;this.Sh=z;this.L=A;this.wc=B;this.T=C;this.nR=D;this.yc=E;this.Gb=G;this.mh=F;this.k7=I;this.uH=L;this.X5=[];this.vma=[];this.EVa=[];this.QTa=void 0;[l.u.V,l.u.J].forEach(function(K){M.wc(K) && (M.X5[K]=new u(M.H,K),M.vma[K]=new v(K),M.EVa[K]=new w(K));});this.hmb=new q.cM(this.H);this.eS=(0,q.gI)(this.L,this.hmb);this.Jna=(0,q.fI)();this.cH=void 0;}Object.defineProperties(x.prototype,{Vg:{get:function(){return this.X5;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{rC:{get:function(){return this.vma;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{jy:{get:function(){return this.EVa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{OH:{get:function(){return this.QTa;},set:function(y){this.QTa=y;},enumerable:!1,configurable:!0}});x.prototype.dw=function(y,z){this.hmb.dw(y,z);};x.prototype.Pwa=function(y){var z,A,B,C,D,E;z=this.L;A=y.mediaType;B=g.default.Wp()[A];C=z.ufc?A === l.u.V?z.uV:z.$0:A === l.u.J?z.uV:z.$0;D=this.T.getState();E=this.T.Tf();z=y.Ua.ab;A=this.k7.gab(z,A);B={Ls:B,da:A.zd,Qc:E,Ic:A.FQ || E,$j:A.XV || E,Hg:A.Hg,Fj:A.Fj,Yo:A.Yo,k4a:A.ha.length,ha:[]};C={state:D,Dr:this.T.Dr(),te:y.ym,buffer:B,DW:C,V$a:! !this.nR.Naa,tO:! !this.nR.Kt,sj:this.yc && this.yc.sj,hda:y.lUb,playbackRate:this.T.Ys()};void 0 === C.te && (C.te=y.Bra(B.Ic));C.LV=z.LV;B.ha=A.ha;c.Oa(B.da)?y.seeking && B.Qc != B.da && (B.Qc=B.da):(B.da=0,B.Ic=0);this.Sh.tGb(C);this.Sh.pCb(C);return C;};x.prototype.Qoa=function(y,z,A){var G,F;y=this.X5[y];for(var B=y.maxBitrate,C="manifest",D=0,E=z.length - 1;0 <= E;E--){G=z[E];F=G.bitrate;if(k(G)){D=Math.max(D,F);break;}else this.L.p0 && !G.cv?C="bc":G.Ar?G.iB && (C="hf"):C="av";}if(void 0 === B || D !== B)(y.maxBitrate=D,this.Gb.l2b(B,D,C,A));};x.prototype.jUb=function(y){return this.Hta(y).mg;};x.prototype.Hta=function(y){var z,A,B,C,D,E,G,F,I,L,M,K,O,H,J,R,P,T,V;z=this.L;A=y.mediaType;B=A == l.u.J;C=0;D=this.X5[A];E=this.vma[A];if(!D.Se)return {mg:void 0};G=this.Pwa(y);F=y.we;I=F.sm;L=y.Eaa.S;M=y.track.Rc;if(!L.Il.T0(L.P,M))return (y.Gk("location selector did not find any urls"),{mg:void 0});K=(0,t.Hca)(G.state);O=B?this.eS:this.Jna;try{H=O.sn(M,K);}catch(S){this.H.error("StreamFilters: filterStreams: " + S);H=[M[0]];}0 === H.length && (this.H.error("StreamFilters: empty list"),H=[M[0]]);if(this.uH.Ss && (y.zE.length !== H.length || 0 < (0,h.Gu)(y.zE,H).length || 0 < (0,h.Gu)(H,y.zE).length)){try{this.cH && this.DPb();}catch(S){this.Gb.Ro("Hindsight: Error when handling maxbitrate chagned: " + S);}y.zE=H;}K=I?I.mg:D.Ura;try{if(I && (C=I.bitrate,I && F.track && !I.track.equals(F.track))){J=(0,d.Dra)(H,C) || 0;R=H[J];if(I.bitrate !== R.bitrate || A === l.u.J)G.state=n.Ia.Qh;I=R;K=M.indexOf(R);}}catch(S){this.H.error("StreamFilters: track change: " + S);}if(!B && (C=z.IR,!(C && 0 < C.length) && K && M[K] && I && I.location === M[K].location))return {mg:K};I=this.Sh;try{P=I.$O(A);T=B?I.kX():I.OX();V=y.Oj.uBa(G,H,T,P,D.Se.config.zt,L.mr);if(!V)return (y.Gk("stream selector did not find a stream"),{mg:void 0});}catch(S){this.H.error("StreamFilters: stream selector: " + S);V={Ie:0};}V.Ie=M.indexOf(H[V.Ie]);this.nR.Kt && this.nR.Kt.uCb(y.mediaType,V,M);B && this.Qoa(A,H,y.Ic);G=V.Ie;H=M[G];P=H.bitrate;G != K && (B && z.vO && this.mh.GTa(y,P),B?I.EK(P):I.mC(P));c.Oa(D.Ura) || (D.Ura=G);y.wg || (V.wg?((0,p.assert)(void 0 !== V.l7),y.Zda(V.l7),E.Lu=V.l7):(y.eF=V.eF,y.kK=V.kK,y.progress=V.progress));this.Lz();if(B)if(V.PA)L.oR(V.PA);else if(!L.o$() && !z.Jib)for(y=0;y < M.length;++y){if((z=M[y],z.zv && !L.qr(A,z.Pa))){L.oR([z.Pa]);break;}}V.JYa && this.Gb.s2b(V.JYa);return {Pa:H.Pa,mg:G,oy:V.oy};};x.prototype.Lz=function(){var y,z,A,B,C,D;A=this.Vg[l.u.V];B=this.Vg[l.u.J];C=this.rC[l.u.J];D=this.rC[l.u.V];A=this.k7.gd.kGb(null !== (y=null === B || void 0 === B?void 0:B.Rv) && void 0 !== y?y:0,null !== (z=null === A || void 0 === A?void 0:A.Rv) && void 0 !== z?z:0,this.OH,this.nR.XZ);A.Lu && (this.nR.Xn && C?C.Lu=A.Lu:D && (D.Lu=A.Lu));return A.wg;};x.prototype.yra=function(y,z){var A,B,C,D;A=this;if(this.cH){B=this.cH;C=this.T.Tf();D=[];z && (C=z.Ta);l.ag.forEach(function(E){var G,F;G=A.k7.gd.ue(E);if(G){F=A.Pwa(G);F.mediaType=E;F.Qc=C;y === n.Ia.Kg && (F.Bfb=G.Ua.rna(C));D[E]=F;}});B.D3a || B.yI(D,y) || this.JAa();return B;}};x.prototype.DPb=function(){var y,z;y=this.cH;z=this.L;y && (this.yra(void 0),y && !y.uN && this.Sh.Yza.dra(y));this.E0a(z);};x.prototype.JAa=function(){this.cH=void 0;};x.prototype.Yec=function(y){var z,A,B;z=y.oldValue;y=y.newValue;A=this.cH;B=this.L;y === n.Ia.Wc && z !== n.Ia.Wc?(A && this.H.warn("override an existing play segment!"),this.E0a(B,z,!0)):y !== n.Ia.Wc && z === n.Ia.Wc && A && (this.yra(y),A && !A.uN && this.Sh.Yza.dra(A),this.JAa());};x.prototype.E0a=function(y,z,A){var B,C,D;B=this;C=[];l.ag.forEach(function(E){var G,F,I;G=B.k7.gd.ue(E);if(G){F=B.Pwa(G);if(A){I=B.Vg[E];I.oCa?(F.km=I.oCa,I.oCa=void 0):F.km=I.km;}else F.km=g.default.time.ia();F.Rc=G.zE;F.mediaType=E;C[E]=F;}});D=g.default.Wp();D={Emc:D[l.u.V],fmb:D[l.u.J],Wpc:y.Oab,Dv:y.Dv};this.cH=new f.default(C,g.default.time.ia(),z,this.uH.KW,y.Iy,D,y.y$);};return x;})();b.XRa=a;v=(function(){function x(y){this.mediaType=y;this.NV=this.Nx=this.oB=this.Lu=this.pB=void 0;}x.prototype.bfc=function(y,z,A){this.pB=y?y:this.pB;this.Lu=this.Lu;this.oB=z?z:this.oB;this.Nx=A?A:this.Nx;};return x;})();b.dvb=v;w=(function(){return function(x){this.mediaType=x;this.awa=this.hwa=this.cwa=this.oJ=void 0;};})();b.nia=w;u=(function(){return function(x,y){this.mediaType=y;this.H=m(g.default,x,"[" + y + "]");this.Gk=this.H.error.bind(this.H);this.$b=this.H.warn.bind(this.H);this.Vj=this.H.trace.bind(this.H);this.rg=this.H.log.bind(this.H);this.H.debug.bind(this.H);this.Ura=this.km=this.Ip=this.Se=void 0;this.YZ=this.Rv=0;this.j1=!1;this.maxBitrate=void 0;};})();b.bvb=u;},function(r,b,a){var q,t,v,w,u,x,y,z,A,B,C,D,E;function c(){}function g(G,F){var I,L,M,K;I=q.md(F)?F:c;this.L=G || ({});(function(O,H,J){this.Ik[O].Ze[H]=J;}).bind(this);(function(O,H){return this.Ik[O].Ze?this.Ik[O].Ze[H]:void 0;}).bind(this);this.on=this.addEventListener=D.addEventListener;this.removeEventListener=D.removeEventListener;this.emit=this.gb=G.loc?D.gb:c;L=w.QJb(G);M=this.L.dailyDiskCacheWriteLimit;if(L){this.Xw=L;K=n(G.dqc || E,w.eSb());this.gA=function(O){return q.ta(K) || null === K || void 0 === this.Ik[O]?!1:!q.ta(K[O]);};K?(this.Ik={},F=t.Promise.all(Object.keys(K).map(function(O){return new t.Promise(function(H,J){var R;R=K[O];R.Rlb=G.Rlb;new u(O,L,R,function(P,T){P?J(P):H(T);},M);});})).then((function(O){O.map((function(H){var J;J=H.dx;this.Ik[J]=H;K[J].DQb=K[J].Ls - H.fA;this.Ik[J].on(u.Ve.REPLACE,(function(R){R=R || ({});R.partition=J;R.type="save";this.gb("mediacache",R);}).bind(this));this.Ik[J].on(u.Ve.uTa,(function(R){R=R || ({});R.partition=J;R.type="save";this.gb("mediacache",R);}).bind(this));this.Ik[J].on(u.Ve.Nf,(function(R){R=R || ({});R.partition=J;R.type=u.Ve.Nf;this.gb("mediacache-error",R);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(O){d(L,t.storage.uT,Object.keys(K));return O;}).bind(this)).then((function(O){Object.keys(O.Ik).map(function(H){O.Ik[H].Ksa().map(function(J){O.delete(H,J);});});O.wv=!0;I(null,O);}).bind(this)).catch((function(O){v.error("Failed to initialize media cache ",O);this.dJ=B.lHa;I(this.dJ,this);}).bind(this)),C.Ay(F)):(this.dJ=B.Jrb,I(this.dJ,this));}else (this.dJ=B.lHa,I(this.dJ,this));}function k(G,F,I,L,M,K){var O;O=K?"mediacache-error":"mediacache";F={partition:I,type:F,resource:L,time:t.time.now()};K && (F.error=K);M && (q.Oa(M.duration) && (F.duration=M.duration),q.Oa(M.vA) && (F.bytesRead=M.vA));try{G.gb(O,F);}catch(H){v.warn("caught exception while emitting basic event",H);}}function m(G,F,I,L,M){var K;K=M?"mediacache-error":"mediacache";F={partition:I,type:F,resources:L,time:t.time.now()};M && (F.error=M);try{G.gb(K,F);}catch(O){v.warn("caught exception while emitting basic event",O);}}function f(G){return !x.CP(G) && !z.bYb(G);}function d(G,F,I){G.query(F,"",function(L,M){L || Object.keys(M).filter(function(K){return 0 > I.indexOf(K.slice(0,K.indexOf(".")));}).map(function(K){G.remove(F,K,c);});});}function l(G,F,I){var M,K;function L(O){G.delete(M,function(H){H?I(H):(delete G.Ze[K],H=Object.keys(O.resourceIndex),H=t.Promise.all(H.map(function(J){return new t.Promise(function(R,P){G.delete(J,function(T){T?P(T):R(J);});});})).then(function(){I();},function(J){I(J);}),C.Ay(H));});}if(x.CP(F))(M=F,K=x.M8(F));else (M=x.Lpa(F),K=F);(F=G.Ze[K])?L(F):G.read(M,function(O,H){O?I(O):L(H);});}function n(G,F){var I,L,M;I={};L=G.partitions.reduce(function(K,O){return K + O.capacity;},0);M=F / L;G.partitions.map(function(K){var O;O=K.key;I[O]={};I[O].Ls=Math.floor(M * K.capacity);I[O].VKb=K.dailyWriteFactor || 1;I[O].Gqc=K.owner;I[O].KOb=K.evictionPolicy;});return I;}function h(G,F,I){if(I)return z.zMb(G,F).reduce(function(L,M){Object.keys(M).map(function(K){L[K]=M[K];});return L;},{});I={};I[G]=F;return I;}function p(G,F,I,L,M,K,O,H,J,R,P){return function(T,V){T?q.isArray(T)?(V=T.map(function(S){return S.error;}),V.some(function(S){return S.code === B.qL.code;}) && !V.some(function(S){return S.code === B.z4.code;})?P(R,T,function(){J.save(F,I,L,M,K,O);}):(R.delete(H),delete R.Ze[I],K({error:T[0].error,Nv:T[0].Nv,type:T[0].type,QXa:T}))):K({error:T,Nv:F,type:"save"}):(T=V.items.filter(function(S){return 0 <= Object.keys(G).indexOf(S.key);}).reduce(function(S,W){return S + W.qaa;},0),R.Ze[I].eib(T),T={DQb:V.Fo,Inc:V.dO,xl:0,items:V},0 < V.xl && (T.xl=V.xl),0 < V.duration && (T.duration=V.duration),K(null,T));};}q=a(11);t=a(133);v=new t.Console("MEDIACACHE","media|asejs");w=a(1066);u=a(1067);x=a(455);y=a(134);z=a(1074);A=a(1075);B=a(271);C=a(272);D=a(456).EventEmitter;E={Lqc:[]};g.prototype.n_=function(G,F,I){var L;L=q.md(I)?I:c;this.gA(G)?this.Ik[G].query(F,function(M,K){M?(v.error("Failed to query resources",M),L([])):L(K.filter(f));}):L([]);};g.prototype.read=function(G,F,I){var L,M,K,O;L=q.md(I)?I:c;if(this.gA(G)){M=this.Ik[G];K=M.Ze[F];if(!x.CP(F) && this.L.F0b){O=(function(H){M.dda(Object.keys(H),(function(J,R,P){J?L(B.UL.fs("Failed to read " + F,J)):(k(this,"read",G,F,P),L(null,z.wXb(R)));}).bind(this),H);}).bind(this);K?O(K.resourceIndex):this.v7b(G,F,function(H,J){H?L(B.UL.fs("Failed to read " + F,H)):O(J.resourceIndex);});}else M.read(F,(function(H,J,R){H?L(B.UL.fs("Failed to read " + F,H)):(K && K.convertToBinaryData && (J=A.RHb(J)),k(this,"read",G,F,R),L(null,J));}).bind(this));}else L(B.VC);};g.prototype.dda=function(G,F,I){var L,M;L=q.md(I)?I:c;if(this.gA(G)){M={};F=t.Promise.all(F.map((function(K){return new t.Promise((function(O,H){this.read(G,K,function(J,R){J?(R={},R[K]=J,H(R)):(M[K]=R,O());});}).bind(this));}).bind(this))).then(function(){L(null,M);},function(K){L(K);});C.Ay(F);}else L(B.VC);};g.prototype.Zgb=function(G,F,I){var L;L=q.md(I)?I:c;this.gA(G)?"[object Object]" !== Object.prototype.toString.call(F)?L(B.y4.fs("items must be a map of keys to objects")):(I=new t.Promise((function(M){var K,O;K=this.Ik[G].Ksa();O=Object.keys(F);(K=K.filter(function(H){return -1 === O.indexOf(H);})) && 0 < K.length?this.H1a(G,K,function(){M();}):M();}).bind(this)).then((function(){return t.Promise.all(Object.keys(F).map((function(M){return new t.Promise((function(K,O){this.save(G,M,F[M].Vr,F[M].Hc,function(H,J){H?(v.error("Received an error saving",M,H),O(H)):K(J);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(M){var K,O,H;try{K=Number.MAX_VALUE;O=Number.MAX_VALUE;H=M.reduce(function(J,R){R.Fo && R.Fo < K && (K=R.Fo);R.dO && R.dO < O && (O=R.dO);K < Number.MAX_VALUE && (J.freeSize=K);O < Number.MAX_VALUE && (J.dailyBytesRemaining=O);q.Oa(R.xl) && (J.bytesWritten+=R.xl);q.Oa(R.duration) && (J.duration+=R.duration);return J;},{partition:G,type:"saveMultiple",keys:Object.keys(F),time:t.time.now(),bytesWritten:0,duration:0});this.gb("mediacache",H);L(null,H);}catch(J){L(err);}}).bind(this),(function(M){q.isArray(M.QXa)?M.QXa.forEach((function(K){this.gb("mediacache-error",{partition:G,type:"saveMultiple",error:K.error,resources:K.resources});}).bind(this)):this.gb("mediacache-error",{partition:G,type:"saveMultiple",error:M});L(M);}).bind(this)),C.Ay(I)):(q.md(I)?I:c)(B.VC);};g.prototype.save=function(G,F,I,L,M,K){var O,H,J,R,P,T,V,S,W;O=q.md(M)?M:c;if(this.gA(G)){H=this.Ik[G];J=x.Lpa(F);M=H.Ksa();M=M.filter(function(ia){return ia !== F;});if(q.ta(L) || q.tb(L) || !q.Oa(L.lifespan))O(B.ksb);else {R=h(F,I,this.L.F0b);P=H.Ze[F] || ({});T=P.resourceIndex;T && Object.keys(T).map(function(ia){q.ta(R[ia]) && H.delete(ia);});L.convertToBinaryData && (I=A.SHb(R),R=h(F,I,!1));T=t.time.now();V={};V.partition=G;V.resourceIndex=Object.keys(R).reduce(function(ia,ra){ia[ra]=y.Sta(R[ra]);return ia;},{});V.creationTime=P.creationTime || T;V.lastRefresh=T;V.lifespan=L.lifespan;V.lastMetadataUpdate=T;V.size=P.size;V.convertToBinaryData=L.convertToBinaryData;S=(function(ia,ra,ua){ia.SLb((function(Aa,Ha){Aa && v.error("Evicting","Failed to delete some orphaned records",Aa);Ha.lAa?ua():(Aa=ia.pSb())?this.delete(ia.dx,Aa,(function(N){N?(K || (q.isArray(ra)?ra.forEach((function(Q){m(this,"save",ia.lTb,Q.resources,Q.error);}).bind(this)):k(this,"save",ia.dx,F,void 0,ra)),O(ra)):ua();}).bind(this)):O(B.qL);}).bind(this));}).bind(this);W=(function(){var ia,ra,ua;ia=this.Ik;ra=0;ua=t.time.now();if(!q.ta(ia))for(var Aa in ia){ra+=ia[Aa].FRb(ua);}return ra;}).bind(this);this.H1a(G,M,(function(){H.replace(J,V,(function(ia,ra){ra?(H.Ze[F]=x.fsa(V),H.K8b(R,p(R,G,F,I,L,O,K,J,this,H,S),K,W)):ia.code === B.qL.code?S(H,ia,(function(){this.save(G,F,I,L,O,K);}).bind(this)):O(ia);}).bind(this),K,W);}).bind(this));}}else O(B.VC);};g.prototype.delete=function(G,F,I){var L;L=q.md(I)?I:c;this.gA(G)?l(this.Ik[G],F,(function(M){k(this,"delete",G,F,void 0,M);L(M);}).bind(this)):L(B.VC);};g.prototype.H1a=function(G,F,I){var L,M;L=q.md(I)?I:c;if(this.gA(G)){M=this.Ik[G];I=t.Promise.all(F.map((function(K){return new t.Promise((function(O){l(M,K,(function(H){O({ga:q.ta(H),error:H,Vr:K});}).bind(this));}).bind(this));}).bind(this))).then((function(K){var P,T;for(var O=[],H=[],J=[],R=0;R < K.length;R++){P=K[R];P.ga?O.push(P.Vr):P.error && H.push(P);}0 < O.length && m(this,"delete",G,O);if(0 < H.length){J=H.map(function(V){return V.Vr;});K=C.i7a(H);T=K[0];K.forEach((function(V){v.error("Failed to delete resources ",V.error,V.resources);m(this,"delete",G,V.resources,V.error);}).bind(this));}K={};K.hrc=O;0 < J.length && (K.irc=J);T?L(T,K):L(void 0,K);}).bind(this),(function(K){m(this,"delete",G,F,K);L(K);}).bind(this));C.Ay(I);}else L(B.VC);};g.prototype.clear=function(G,F){var I;I=q.md(F)?F:c;this.gA(G)?this.Ik[G].clear(function(L){I(L.filter(f));}):I(B.VC);};g.prototype.v7b=function(G,F,I){var L,M;L=q.md(I)?I:c;if(this.gA(G)){M=this.Ik[G];M.read(x.Lpa(F),function(K,O){var H;if(K)L(B.lsb);else {H=x.fsa(O) || ({});M.r6a(Object.keys(H.OAa),function(J){H.size=J;(J=M.Ze[F]) && (H.lastMetadataUpdate && J.lastMetadataUpdate && J.lastMetadataUpdate <= H.lastMetadataUpdate?M.Ze[F]=H:J.lastMetadataUpdate && (J.lastMetadataUpdate > H.lastMetadataUpdate || q.ta(H.lastMetadataUpdate)) && (H=J));L(null,H);});}});}else L(B.VC);};g.prototype.constructor=g;r.exports=g;},function(r,b,a){var m,f;function c(d,l,n,h,p,q){return new k(d,l,n,h,p,q);}function g(d){return d && 0 <= d.indexOf(".__metadata__");}function k(d,l,n,h,p,q){this.partition=d;this.lifespan=n;this.resourceIndex=l;this.size=h;this.creationTime=p;this.lastRefresh=q;return this.ykb();}m=a(11);f=a(133);a(134);new f.Console("MEDIACACHE","media|asejs");k.prototype.refresh=function(){this.lastRefresh=f.time.now();return this.ykb();};k.prototype.eib=function(d){this.size=d;};k.prototype.W_a=function(){var d;d=f.time.now();return (this.lastRefresh + 1E3 * this.lifespan - d) / 1E3;};k.prototype.ykb=function(){this.lastMetadataUpdate=f.time.now();return this;};k.prototype.constructor=k;r.exports={create:c,fsa:function(d){var l;l=d;"string" === typeof d && (l=JSON.parse(d));if(l && l.partition && !m.ta(l.lifespan) && l.resourceIndex && l.creationTime && l.lastRefresh)return (d=c(l.partition,l.resourceIndex,l.lifespan,-1,l.creationTime,l.lastRefresh),l.lastMetadataUpdate && (d.lastMetadataUpdate=l.lastMetadataUpdate),!m.ta(l.size) && 0 <= l.size && d.eib(l.size),d.W_a(),d.convertToBinaryData=l.convertToBinaryData,d);},Lpa:function(d){return d + ".__metadata__";},M8:function(d){return g(d)?d.slice(0,d.length - 13):d;},CP:g};},function(r,b,a){r.exports={EventEmitter:a(1070),$f:a(1071)};},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.ZO=void 0;c=a(0).__importDefault(a(4));g=a(1079);b.ZO=function(){var m;if(!k){m=new c.default.Console("ASEJS","media|asejs");k=new g.VEa(m);}return k;};},function(r,b,a){var p,q,t;function c(v){return v.Vt - v.Ps;}function g(v,w){return Math.exp(-(Math.log(2) / v) * w);}function k(v,w){v=Math.log(2) * w / v;return (1 - Math.exp(-v)) / v;}function m(v,w){var u,x,y,z,A;u=w.Cza;x=w.Bza;y=w.e_;if(0 === w.ei.length)return {A6:!1};z=w.ei[0];w=z.He;A=z.PE;z=z.duration;if(!A || 1 === y)return {A6:!1};(0,q.assert)(z,"duration should be defined when immediate probability is included in probabilities array");(0,q.assert)(0 < y,"presenting segment seamless probability cannot be zero");x-=z;if(u < x)return {A6:!1};x=u - x;u=y + x / z * (1 - y);z-=x;A=A * (1 - u) / (1 - y);v=w * u / y * g(v,z) + A * k(v,z);(0,q.assert)(1 >= v);return {A6:!0,KCb:v};}function f(v){var w,u,x,y,z;w=v.qn;u=v.pjb;x=v.jC;y=v.Vt;z=v.Ps;v=v.U3a;(0,q.assert)(void 0 !== u);(0,q.assert)(void 0 !== w);x=1 - x;y-=z;v?(z=u - v - y,w-=v,0 >= z?v=Math.max(0,(u - v) / w):(u=w - z,v=0 < u?y / u:0,x*=0 < u?u / w:1)):(z=u - y,0 >= z?v=u / w:(u=w - z,v=0 < u?y / u:0,x*=0 < u?u / w:1));(0,q.assert)(0 <= v);(0,q.assert)(1 >= v);(0,q.assert)(0 <= x);(0,q.assert)(1 >= x);return 1 - v * x;}function d(v,w){v=Math.log(2) / v.Cfb;return l(w) * Math.exp(-v * c(w));}function l(v){var w;return (null !== (w=v.UI) && void 0 !== w?w:1) * v.ei.reduce(function(u,x){var y;y=x.PE;return u * (x.He + (void 0 === y?0:y));},1);}function n(v){var w,u,x,y;if(0 === v.ei.length)return 0;u=0;if(1 > v.e_){u=v.Cza;x=v.Bza;y=null !== (w=v.ei[0].duration) && void 0 !== w?w:0;u=Math.max(0,Math.min(y,u - (x - y)));}return v.ei.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - u;}function h(v){return v.ei.filter(function(w){return !w.PE;}).reduce(function(w,u){return w * u.He;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Boa=b.NZa=b.DFb=b.MZa=b.HFb=void 0;p=a(6);q=a(2);t=a(10);b.HFb=c;b.MZa=function(v,w,u){var x,y,z,A,B,C,D,E;if(!v.y8 || (0,p.$p)(w.xg))return d(v,w);y=v.Cfb;v=c(w);z=n(w);A=h(w);B=m(y,w);C=B.A6;B=B.KCb;B=void 0 === B?1:B;D=1 > w.jC?f(w):1;E=(null !== (x=w.UI) && void 0 !== x?x:1) * A * g(y,v - z) * B * D * w.ei.filter(function(G,F){return G.PE && (0 < F || !C);}).reduce(function(G,F){var I,L;I=F.PE;L=F.duration;L=void 0 === L?0:L;I=void 0 === I?0:I;F=F.He * g(y,L) + I * k(y,L);return G * F;},1);t.N && (null === u || void 0 === u?void 0:u.log(("{").concat(w.groupId,"} [").concat(w.mediaType,"] calculateStreamablePriority: ") + ("sp: ").concat(w.jC,", ") + ("pssp: ").concat(w.e_,", ") + ("streamingDuration: ").concat(w.pjb,", ") + ("duration: ").concat(w.qn,", ") + ("seamlessProbability: ").concat(A,", ") + ("distance: ").concat(v,", immediateDistance: ").concat(z,", ") + ("risk:").concat(g(y,v - z),", ") + ("adjustedFirstTerm: ").concat(B,", streamingAdjustment: ").concat(D,", ") + ("probabilities: ").concat(JSON.stringify(w.ei)," => ").concat(E)));return E;};b.DFb=d;b.NZa=l;b.Boa=h;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rT=void 0;c=a(6);r=(function(){function g(){this[c.u.V]=0;this[c.u.J]=0;this[c.u.Hb]=0;}Object.defineProperties(g.prototype,{total:{get:function(){return this[c.u.V] + this[c.u.J] + this[c.u.Hb];},enumerable:!1,configurable:!0}});g.prototype.add=function(k){this[c.u.V]+=Math.max(k[c.u.V] || 0,0);this[c.u.J]+=Math.max(k[c.u.J] || 0,0);this[c.u.Hb]+=Math.max(k[c.u.Hb] || 0,0);};g.prototype.Zma=function(k,m){this[k]+=Math.max(m || 0,0);};return g;})();b.rT=r;c.u.V;c.u.J;c.u.Hb;},function(r,b,a){var g,k,m,f;function c(){return g.__awaiter(this,void 0,void 0,function(){var d;return g.__generator(this,function(l){switch(l.label){case 0:return [4,Promise.resolve().then(function(){return g.__importStar(a(457));})];case 1:return (d=l.kb().ZO,[2,d()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.EX=void 0;g=a(0);k=a(1092);m=g.__importDefault(a(4));b.EX=function(d){var l;l=new m.default.Console("ASEJS","media|asejs");f || (f=new k.uQa(function(){return c();},d,l));return f;};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.assert=b.AssertionError=void 0;c=a(0);g=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);return m;})(Error);b.AssertionError=g;b.assert=function(k,m){if(!k)throw new g(m || "Assertion failed");};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.V8=b.SPb=b.Era=void 0;c=a(275);b.Era=function(g,k){var m;m=void 0;return Object.keys(g.R).some(function(f){var d;return null === (d=(m=g.R[f]).next) || void 0 === d?void 0:d[k];})?m:void 0;};b.SPb=function(g,k){return c.$c(Object.keys(g.R),function(m){var f;return null === (f=g.R[m].next) || void 0 === f?void 0:f[k];});};b.V8=function(g,k){return Object.keys(g.R).filter(function(m){var f;return null === (f=g.R[m].next) || void 0 === f?void 0:f[k];});};},function(r,b,a){var g,k,m,f,d,l,n,h;function c(p){return p === f.u.J?0:p === f.u.V?1:p === f.u.Hb?2:3;}Object.defineProperties(b,{__esModule:{value:!0}});b.sga=b.MC=b.Hsb=b.ZF=void 0;g=a(0);k=a(14);m=a(10);f=a(6);d=g.__importDefault(a(4));l=a(8);n=a(2);b.ZF=function(p,q){p=c(p.mediaType);q=c(q.mediaType);return p - q;};b.Hsb={ZF:b.ZF};(function(p){p[p.FS=0]="CREATED";p[p.xS=1]="CANCELLED";})(h=b.MC || (b.MC={}));r=(function(){function p(q,t,v,w,u){this.Fp=q;this.LUa=t;this.Kq=v;this.yn=w;this.Sc=h.FS;this.eN=[];this.events=new k.EventEmitter();q=q.id && q.id.length?"{" + q.id + "}":"";this.console=(0,l.Ai)(d.default,u,q);}Object.defineProperties(p.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Pf:{get:function(){return this.Sc === h.xS;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{G:{get:function(){return this.Fp;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{xe:{get:function(){return this.eN;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{parent:{get:function(){var q;return null === (q=this.LUa) || void 0 === q?void 0:q.call(this,this);},enumerable:!1,configurable:!0}});p.prototype.oa=function(){return g.__awaiter(this,void 0,void 0,function(){var q,t,v;v=this;return g.__generator(this,function(){if(q=this.parent)(q.Oc && (t=q.Oc.Da(this.yn),this.wq(t,"init from parent")),q.hS.then(function(){var w;if(!v.Pf){w=v.parent;(0,n.assert)(w,"Parent is undefined after parent normalization");w.Oc && (w=w.Oc.Da(v.yn),v.wq(w,"parent normalization"));}}));return [2];});});};p.prototype.wq=function(q,t){void 0 === t && (t="unknown");m.N && this.console.log(("AseBranch adjusting branchOffset to ").concat(q.Z) + (" from ").concat(this.Kq.Z,".  ").concat(t));this.Kq=q;};p.prototype.Wd=function(){this.LUa=void 0;};p.prototype.r$=function(q){return this.xe.some(function(t){return t.mediaType === q;});};return p;})();b.sga=r;},function(r,b,a){var k,m,f,d;function c(l,n,h,p,q){var t,v;h=null !== (t=n.sd) && void 0 !== t?t:n.track.Do(l,h.Z,void 0,q);l=null !== (v=n.ve) && void 0 !== v?v:n.track.WA(l,null === p || void 0 === p?void 0:p.Z,n.Jh);return [!n.Bh(),h,l];}function g(l,n){var C,D;for(var h=[],p=0,q=l[p],t=null === q || void 0 === q?void 0:q[0],v=null === q || void 0 === q?void 0:q[1],w=n.ve.index,u=n.track.rq,x=0,y=n.sd.pc,z=n.sd.Fd.Z > q[0],A=z,B=n.sd.index;B <= w;++B){C=!1;if(q){D=u.get(B);z && (D.pc.Z >= v?(z=!1,++p >= l.length?v=t=q=void 0:(q=l[p],t=null === q || void 0 === q?void 0:q[0],v=null === q || void 0 === q?void 0:q[1])):A?A=!1:(h.push(new f.c4(x,y,D.pc)),y=D.pc,C=!0));!z && q && D.Fd.Z > t && (z=!0,C=D.pc,(D=n.track.cJ.Fl(B).O3a(t)) && 0 !== D.jj && (C=d.M.Ja(D.Re)),h.push(new f.c4(x,y,C)),y=C,C=!0);}C && ++x;}h.push(new f.c4(x,y,n.ve.Fd));return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.Z_b=b.tab=b.ocb=b.mcb=b.wAa=void 0;k=a(0);m=a(6);f=a(465);d=a(8);b.wAa=function(l,n,h){var p,q,t;t=n.get(m.u.V);n=n.get(m.u.J);n=null === n || void 0 === n?void 0:n.track.WA(l,null === h || void 0 === h?void 0:h.Z,n.Jh);return [null === t || void 0 === t?void 0:t.track.WA(l,null !== (q=null === (p=null === n || void 0 === n?void 0:n.Fd) || void 0 === p?void 0:p.Z) && void 0 !== q?q:null === h || void 0 === h?void 0:h.Z,t.Jh),n];};b.mcb=function(l,n,h,p,q){var t,v,w,u;t=n.get(m.u.V);n=n.get(m.u.J);v=k.__read(n?c(l,n,h,p,q):[!1],3);w=v[0];u=v[1];v=v[2];p=k.__read(t?c(l,t,w && void 0 !== (null === u || void 0 === u?void 0:u.da)?d.M.Ja(u.da):h,void 0 !== (null === v || void 0 === v?void 0:v.Ta)?d.M.Ja(null === v || void 0 === v?void 0:v.Ta):p,q):[!1],3);l=p[0];h=p[1];p=p[2];l && (null === t || void 0 === t?void 0:t.S$(h,p));w && (null === n || void 0 === n?void 0:n.S$(u,v));return [l,w];};b.ocb=function(l,n,h){return n.track.Do(l,h.Z,void 0,!0).pc;};b.tab=function(l,n,h){var p;p=n.G;if(!p.Vp || 0 === p.Vp.length)return [];l=p.Vp.map(function(q){return [p.xa + q[0],p.xa + q[1]];});return g(l,h.Sca);};b.Z_b=g;},function(r,b,a){var g,k,m;function c(f){return "immediate" === f;}Object.defineProperties(b,{__esModule:{value:!0}});b.lQa=b.c4=b.g9a=void 0;g=a(0);k=a(8);m=a(2);b.g9a=c;r=(function(){function f(d,l,n){this.region=d;this.pc=l;this.Fd=n;}f.prototype.toJSON=function(){return {region:this.region,da:this.pc.XJ,Ta:this.Fd.XJ};};return f;})();b.c4=r;r=(function(){function f(d,l,n){var h,p,q;h=this;this.id=d;this.G=l;this.KVa=!1;this.hP=function(t){var v,w,u,x;return (null === (v=h.Fy) || void 0 === v?0:v.length)?"immediate":null !== (x=null === (u=null === (w=h.G.next) || void 0 === w?void 0:w[t]) || void 0 === u?void 0:u.Je) && void 0 !== x?x:h.Je;};this.XU=new k.M(l.xa,1E3);this.hU=void 0 !== l.wa && null !== l.wa?new k.M(l.wa,1E3):k.M.vv;this.ZAb=null !== (q=null !== (p=l.Je) && void 0 !== p?p:n) && void 0 !== q?q:"lazy";this.E8a();(0,m.assert)(this.XU.lessThan(this.hU),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(f.prototype,{P:{get:function(){return this.G.P;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ll:{get:function(){return this.KVa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ff:{get:function(){return this.XU;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{oh:{get:function(){return this.hU;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{duration:{get:function(){return this.hU.Da(this.XU);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{da:{get:function(){return this.XU.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ta:{get:function(){return this.hU.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{yF:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ew:{get:function(){return this.OB.length?!this.G.Ub && 0 === this.oQ.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{hYb:{get:function(){return !this.G.type || "content" === this.G.type;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Y1b:{get:function(){return this.uD;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{OB:{get:function(){var d,l;return Object.keys(null !== (l=null === (d=this.G) || void 0 === d?void 0:d.next) && void 0 !== l?l:{});},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{oQ:{get:function(){var d;d=this;return this.OB.filter(function(l){return ! !d.uD[l];});},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{QCa:{get:function(){var d;return null !== (d=this.NWa) && void 0 !== d?d:this.NWa=this.IFb();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Dea:{get:function(){var d;return null !== (d=this.OWa) && void 0 !== d?d:this.OWa=this.JFb();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{jC:{get:function(){return this.G.weight?this.G.weight / (this.G.weight + this.Dea):1;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Je:{get:function(){var d;return (null === (d=this.Fy) || void 0 === d?0:d.length)?"immediate":this.ZAb;},enumerable:!1,configurable:!0}});f.prototype.normalize=function(d,l,n){this.XU=d;this.hU=l;this.Fy=n;this.KVa=!0;this.Dmb();};f.prototype.i5a=function(){var d;return this.oQ.length?null !== (d=this.oQ.map(this.hP).reduce(function(l,n){return l === n?n:void 0;})) && void 0 !== d?d:this.Je:this.Je;};f.prototype.vk=function(d){this.E8a(d);};f.prototype.yFb=function(d){var l,n;if(this.QCa){l=(this.uD[d] || 0) / this.QCa;if(void 0 === this.G.weight || 0 === this.Dea)return {He:l};n=this.jC;return 1 !== n && c(this.hP(d)) && this.uD[d]?{He:n * l,PE:this.uD[d] / this.Dea * (1 - n)}:{He:n * l};}return {He:(null === (l=this.G.next) || void 0 === l?0:l[d])?1 / this.OB.length:0};};f.prototype.EVb=function(d){return -1 < this.OB.indexOf(d);};f.prototype.oDb=function(){return this.Ll?g.__assign(g.__assign({},this.G),{xa:this.ff.Z,wa:this.oh.Z}):this.G;};f.prototype.E8a=function(d){var l;if(void 0 === this.G.next)this.uD={};else {l=this.G.next;this.uD=Object.keys(l).reduce(function(n,h){var p;p=d?d[h] || 0:l[h].weight;void 0 !== p && null !== p && 0 <= p && (n[h]=p);return n;},{});}this.Dmb();};f.prototype.IFb=function(){var d;d=this;return this.oQ.reduce(function(l,n){return l + d.uD[n];},0);};f.prototype.JFb=function(){var d;d=this;return this.oQ.filter(function(l){return c(d.hP(l));}).reduce(function(l,n){return l + d.uD[n];},0);};f.prototype.Dmb=function(){this.OWa=this.NWa=void 0;};return f;})();b.lQa=r;},function(r,b,a){var c,g,k,m,f,d,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.ija=void 0;c=a(0);g=a(14);k=a(8);m=a(2);f=a(6);r=a(135);d=c.__importDefault(a(4));l=a(10);n=r.uy.jqa;a=(function(){function h(){this.zQ=[];this.tD=new k.Az(!1);this.rD=new k.Az(k.M.Ja(-Infinity));this.events=new g.EventEmitter();this.H=new d.default.Console("ASEJS","media|asejs");}Object.defineProperties(h.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Fi:{get:function(){return this.fx;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Zva:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{fp:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{YB:{get:function(){return {};},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{playbackRate:{get:function(){return this.Ys();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{iYa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Fv:{get:function(){return this.tD;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{c$a:{get:function(){return this.rD;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Uf:{get:function(){return this.qv;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{jf:{get:function(){return this.II();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{yh:{get:function(){var p,q;p=this.jf;q=this.Fn(p,!1);l.N && (0,m.assert)(q,("Could not find current branch for ").concat(p.Z));return q;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{iXb:{get:function(){return this.bb[0];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Fr:{get:function(){return this.qv?this.bb[this.bb.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Gi:{get:function(){var p,q;p=this.jf;q=this.lX(p);(0,m.assert)(q,("Could not find presenting branch for ").concat(p.Z));return q;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qv:{get:function(){return 0 < this.bb.length;},enumerable:!1,configurable:!0}});h.prototype.bea=function(){};h.prototype.Khb=function(){};h.prototype.Wh=function(){return !1;};h.prototype.s$=function(){return 0 < this.bb.length;};h.prototype.wn=function(){(0,m.assert)(0 < this.bb.length,"Could not find presenting branch. Player has no branches.");return this.Gi;};h.prototype.r7a=function(p){return -1 !== this.bb.indexOf(p);};h.prototype.X6=function(){return void 0 !== this.Ma?!1:!0;};h.prototype.wQ=function(){};h.prototype.xb=function(){};h.prototype.gB=function(p){var q,t,v;q=this.bb.filter(function(w){return w.G.id === p.Y;});if(0 !== q.length){t=this.II();v=new k.M(Infinity,1);q.forEach(function(w){w=w.Mr.add(p.offset);t.lO(w).lessThan(t.lO(v)) && (v=w);});return v;}};h.prototype.SX=function(p){var q,t,v,w,u,x,y,z,A,B;return c.__generator(this,function(C){switch(C.label){case 0:q=this.bb.filter(function(D){return D.G.id === p.Y;});if(0 === q.length)return [2,void 0];t=this.II();C.label=1;case 1:(C.Kh.push([1,6,7,8]),v=c.__values(q),w=v.next(),C.label=2);case 2:if(w.done)return [3,5];u=w.value;x=u.Mr.add(p.offset);y=t.lO(x);return [4,{ty:x,lO:y}];case 3:(C.kb(),C.label=4);case 4:return (w=v.next(),[3,2]);case 5:return [3,8];case 6:return (z=C.kb(),A={error:z},[3,8]);case 7:try{w && !w.done && (B=v.return) && B.call(v);}finally{if(A)throw A.error;}return [7];case 8:return [2];}});};h.prototype.Fn=function(p,q){var t,v,w;void 0 === q && (q=!1);t=this.lX(p,q);if(t){v=t.G;q=v.id;w=v.duration;p=k.M.min(p.Da(v.ff.add(t.Ld)),w || k.M.vv);return {Y:q,offset:p};}};h.prototype.T9=function(){};h.prototype.reset=function(){this.aE();};h.prototype.H_=function(){};h.prototype.pause=function(p){void 0 === p && (p=f.ag);this.zQ=null === p || void 0 === p?void 0:p.reduce(function(q,t){-1 === q.indexOf(t) && q.push(t);return q;},this.zQ);};h.prototype.resume=function(p){var q;q=this;void 0 === p && (p=f.ag);p.forEach(function(t){t=q.zQ.indexOf(t);-1 !== t && q.zQ.splice(t,1);});};h.prototype.pDa=function(p){var q;(0,m.assert)(this.Ma);(0,m.assert)(p !== this);this.LK();q=p.X6(this.Ma,this);q && (this.Xca(),p.pause(this.zQ),p.Xqa.apply(p,c.__spreadArray([],c.__read(this.bb),!1)),this.rqa(this.Ma));return q;};h.prototype.II=function(){return this.M5a();};h.prototype.M5a=function(){var p,q;l.N && (0,m.assert)(this.qv,"Attempted to get initial time before any branches were queued");q=c.__read(this.bb,1)[0];l.N && (0,m.assert)(q);return null !== (p=q.jd) && void 0 !== p?p:q.jt;};h.prototype.Ys=function(){return 1;};h.prototype.zX=function(){};h.prototype.lX=function(p,q){var t;void 0 === q && (q=!1);if(this.qv){t=this.M5a();return p.lessThan(t)?this.bb[0]:(0,k.Jra)(this.bb,p) || (q?this.Fr:void 0);}};h.prototype.SRb=function(){var p,q,w,u,x,y,z,A;q={};try{for(var t=c.__values(this.bb),v=t.next();!v.done;v=t.next()){w=v.value;u=void 0;x=void 0;y=w.YA();for(u in y){z=u;A=y[z];A && (q[z]=(null !== (x=q[z]) && void 0 !== x?x:0) + A);}if(!w.uj)break;}}catch(C){var B;B={error:C};}finally{try{v && !v.done && (p=t.return) && p.call(t);}finally{if(B)throw B.error;}}return q;};c.__decorate([n.return.ci(),n.return.Tba],h.prototype,"Zva",null);c.__decorate([n.return.ci()],h.prototype,"yh",null);c.__decorate([n.return.boa(),n.return.Sn],h.prototype,"wn",null);c.__decorate([c.__param(0,n.ci())],h.prototype,"gB",null);c.__decorate([c.__param(0,n.ci())],h.prototype,"SX",null);c.__decorate([n.return.ci()],h.prototype,"Fn",null);return h;})();b.ija=a;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Eda=void 0;c=a(0);g=a(2);k=a(198);b.Eda=function(m,f,d,l,n,h){var p,q;void 0 === n && (n=k.Ew.zW);p=m();if(l && p){q=l.pna;m=l.Sn;l=l.rules.map(function(t){return ["function" === typeof t.Vl?t.Vl(d):d[t.Vl],t.config];});q || (0,g.assert)(f,"Param is null");h && l.push([{map:h,ZD:function(){return !0;}},void 0]);h=l.filter(function(t){t=c.__read(t,2);return t[0].ZD(f,p,t[1]);});m && (0,g.assert)(h.length,("No rules matched for ").concat(f));if(h.length)return h.reduce(function(t,v){v=c.__read(v,2);return v[0].map(t,n,p,v[1]);},f);}return f;};},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.N4a=b.s6a=b.wsa=b.ZQa=void 0;c=a(0);g=a(10);k=a(55);r=(function(){function m(f){this.Kb=f;}Object.defineProperties(m.prototype,{re:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Lv:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return g.N;},enumerable:!1,configurable:!0}});m.prototype.Vk=function(f){var d,l,p;f=f.dj;if(f === k.yf.Ts || f === k.yf.Zt)if(f=this.Kb.qsa()){l={};try{for(var n=c.__values(f.t5b),h=n.next();!h.done;h=n.next()){p=h.value;l[p.mediaType]=this.S_b(p);}}catch(t){var q;q={error:t};}finally{try{h && !h.done && (d=n.return) && d.call(n);}finally{if(q)throw q.error;}}return {branchQueue:(0,b.N4a)(f.o7b),playerIterator:l,driftStats:this.Kb.mEa};}};m.prototype.S_b=function(f){return null === f || void 0 === f?void 0:f.N5a();};return m;})();b.ZQa=r;b.wsa=function(m){var f,d;if(m){f=m.G;d={};m.rm().forEach(function(l){d[l.mediaType]=(0,b.s6a)(l);});return {sId:null === f || void 0 === f?void 0:f.id,cancelled:m.Pf,RM:d};}return m;};b.s6a=function(m){var f,d,l;if(m && m.Ua)return c.__assign(c.__assign({},m.Ua.tta()),{unsentRequests:m.Ua.$t,lastFragmentContentEndPts:null === (f=m.ve) || void 0 === f?void 0:f.Pc,trackAttributes:null === (d=m.track) || void 0 === d?void 0:d.Io(),bitrate:null === (l=m.ve) || void 0 === l?void 0:l.bitrate});};b.N4a=function(m){return m.map(function(f){return (0,b.wsa)(f);});};},function(r,b,a){var c,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.bBa=b.Zoa=b.Fn=b.g7a=b.dmb=void 0;c=a(8);g=a(2);k=a(10);b.dmb=function(f,d){f=f.R[d.Y];if(void 0 === f)return {GP:!1,reason:("Segment ").concat(d.Y," was not found")};if(0 > d.offset.Z)return {GP:!1,reason:("Offset ").concat(d.offset.Z," was negative")};if(void 0 === f.wa || null === f.wa || Infinity === f.wa)return {GP:!0};f=f.wa - f.xa;return d.offset.Z >= f?{GP:!1,reason:("Offset ").concat(d.offset.Z," was greater than segment duration ").concat(f)}:{GP:!0};};m=c.M.Ja(100);b.g7a=function(f,d){if(f === d)return !0;if(f && d && f.Y === d.Y){if(f.offset === d.offset)return !0;f=c.M.abs(f.offset.Da(d.offset));if(m.greaterThan(f))return !0;}return !1;};b.Fn=function(f,d,l){var n,h,p,q;p=d.Ma;d=d.jXb;void 0 === l && (l={});q=p.ka;p=p.navigator;q=p.De(null !== (n=null === d || void 0 === d?void 0:d.id) && void 0 !== n?n:q.fe);n=null !== (h=null === d || void 0 === d?void 0:d.n$b) && void 0 !== h?h:q.ff;if(n.greaterThan(f))return l.vbc?{offset:f.Da(n),Y:q.id}:void 0;d=p.U9a(q);for(p=d.next();!p.done;){h=p.value;p=h.oh.Da(h.ff);q=n;n=q.add(p);if(n.greaterThan(f))return (f=f.Da(q),k.N && (0,g.assert)(f.zi(c.M.Ha) && f.lessThan(p)),{Y:h.id,offset:f});p=d.next();if(p.done && l.wbc)return {Y:h.id,offset:f.Da(q)};}};b.Zoa=function(f,d){d=d.R[f.Y];return f.offset.lessThan(c.M.Ha)?{y7:c.M.Ha,Sp:f.offset}:d.wa && (d=c.M.Ja(d.wa - d.xa),d.isFinite() && f.offset.greaterThan(d))?{y7:d,Sp:f.offset.Da(d)}:{y7:f.offset,Sp:c.M.Ha};};b.bBa=function(f,d){f=f.R[d.Y];if(void 0 !== f)return null === f.wa || void 0 === f.wa?{Y:d.Y,offset:c.M.max(c.M.Ha,d.offset)}:{Y:d.Y,offset:c.M.max(c.M.Ha,c.M.min(d.offset,c.M.Ja(f.wa - f.xa)))};};},function(r,b,a){var g,k,m,f;function c(d){return 0 === d.length || void 0 === d[0].parent && d.every(function(l,n){return 0 === n || (0,f.Kp)(d,function(h){return h.value === l.parent;}) < n;});}Object.defineProperties(b,{__esModule:{value:!0}});b.Heb=b.cka=void 0;a(0);g=a(10);k=a(471);m=a(2);f=a(22);r=(function(){function d(){this.U=new k.uja();}Object.defineProperties(d.prototype,{empty:{get:function(){return !this.iC;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{root:{get:function(){var l;return null === (l=this.iC) || void 0 === l?void 0:l.value;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{values:{get:function(){var l;l=[];this.BI(function(n){return ! !l.push(n);});return l;},enumerable:!1,configurable:!0}});d.prototype.has=function(l){return ! !this.U.get(l);};d.prototype.parent=function(l){var n;l=this.U.get(l);g.N && (0,m.assert)(l,"Attempted to find the parent of a node not in the tree");return null === (n=null === l || void 0 === l?void 0:l.parent) || void 0 === n?void 0:n.value;};d.prototype.children=function(l){l=this.U.get(l);g.N && (0,m.assert)(l,"Attempted to find the children of a node not in the tree");return (null === l || void 0 === l?0:l.children)?l.children.map(function(n){return n.value;}):[];};d.prototype.bua=function(l){l=this.U.get(l);g.N && (0,m.assert)(l,"Attempted to find the children of a node not in the tree");return void 0 !== (null === l || void 0 === l?void 0:l.children) && 0 < l.children.length;};d.prototype.add=function(l,n){var h;g.N && (0,m.assert)(!this.U.get(l),"Attempted to add a value to tree that is already present");h={value:l};void 0 === this.iC?(g.N && (0,m.assert)(void 0 === n,"a parent cannot be specified when the tree is empty"),this.iC=h):(g.N && (0,m.assert)(void 0 !== n,"a parent must be specified when the tree is non-empty"),n=this.U.get(n),g.N && (0,m.assert)(n,"Parent value does not exist in tree"),this.CYa(h,n));this.U.set(l,h);return this;};d.prototype.remove=function(l){l=this.U.get(l);g.N && (0,m.assert)(l,"Attempted to remove a node not in the tree");this.removeNode(l);return this;};d.prototype.removeNode=function(l){var n;n=this;this.Wra(function(h){return n.U.delete(h);},l.value);void 0 === l.parent?this.iC=void 0:this.detach(l);};d.prototype.move=function(l,n){l=this.U.get(l);n=this.U.get(n);g.N && (0,m.assert)(l,"cannot move a value that is not in the tree");g.N && (0,m.assert)(n,"cannot move a value to a parent value not in the tree");g.N && (0,m.assert)(null === l || void 0 === l?void 0:l.parent,"cannot move the root node");g.N && (0,m.assert)(!this.GXb(l,n),"cannot move a node below itself or one of its decendants");l.parent !== n && (this.detach(l),this.CYa(l,n));return this;};d.prototype.L8b=function(l){var n,h;n=this;l=this.U.get(l);g.N && (0,m.assert)(l,"cannot replant at a value that is not in the tree");h=[];this.detach(l);this.Wra(function(p){n.U.delete(p);h.unshift(p);return !0;});this.iC=l;};d.prototype.clear=function(){this.iC && this.remove(this.iC.value);return this;};d.prototype.a4a=function(l,n){var h,p;h=this;l=this.U.get(l);g.N && (0,m.assert)(l,"cannot iterate children of a value not in the tree");null === (p=l.children) || void 0 === p?void 0:p.forEach(function(q){return n(q.value,h);});};d.prototype.BI=function(l,n,h){var p;p=this;void 0 === h && (h=0);g.N && (0,m.assert)(!this.empty || void 0 === n,"cannot iterate from a value on an empty tree");this.empty || (n=null !== n && void 0 !== n?n:this.iC.value,l(n,this,h) && this.a4a(n,function(q){return p.BI(l,q,h + 1);}));};d.prototype.Wra=function(l,n){var h;h=this;g.N && (0,m.assert)(!this.empty || void 0 === n,"cannot iterate from a value on an empty tree");this.empty || (n=null !== n && void 0 !== n?n:this.iC.value,this.a4a(n,function(p){return h.Wra(l,p);}),l(n,this));};d.prototype.C7b=function(l){var n,h,p;n=this;g.N && (0,m.assert)(c(l),"entries must be in topological order");if(0 === l.length){h=this.values;p=[];this.clear();}else (p=l.filter(function(q){return n.has(q.value) && q.parent !== n.parent(q.value);}),h=this.values.filter(function(q){return -1 === (0,f.Kp)(l,function(t){return t.value === q;});}),this.clear(),l.forEach(function(q){return n.add(q.value,q.parent);}));return {VQ:h,igb:p};};d.prototype.CYa=function(l,n){var h;l.parent=n;(null !== (h=n.children) && void 0 !== h?h:n.children=[]).push(l);};d.prototype.detach=function(l){var n;g.N && (0,m.assert)(l.parent,"cannot detach the root");g.N && (0,m.assert)(void 0 !== l.parent.children,"logic error: parent node does not have children");n=l.parent.children.indexOf(l);(0,m.assert)(0 <= n,"logic error: node does not appear in the children of its parent");l.parent.children.splice(n,1);l.parent=void 0;};d.prototype.GXb=function(l,n){for(;void 0 !== n;){if(n === l)return !0;n=n.parent;}return !1;};return d;})();b.cka=r;b.Heb=function(d,l){var n;n="";d.BI(function(h,p,q){n+=("").concat(Array(q + 1).join("-")).concat(l(h),"\n");return !0;});return n;};},function(r,b){var g,k,m;function a(f){return void 0 !== (null === f || void 0 === f?void 0:f.DTa);}function c(f){return (a(f)?f:Object.defineProperties(f,{DTa:{value:{},configurable:!1,enumerable:!1}})).DTa;}Object.defineProperties(b,{__esModule:{value:!0}});b.uja=void 0;k=null !== (g=Number.MAX_SAFE_INTEGER) && void 0 !== g?g:1E9;m=Date.now() % k;r=(function(){function f(){this.id=m=(m + 1) % k;}f.prototype.get=function(d){return a(d)?c(d)[this.id]:void 0;};f.prototype.set=function(d,l){c(d)[this.id]=l;return this;};f.prototype.has=function(d){return a(d) && void 0 !== c(d)[this.id];};f.prototype.delete=function(d){if(!this.has(d))return !1;c(d)[this.id]=void 0;return !0;};return f;})();b.uja=r;},function(r,b,a){var c,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.yia=void 0;c=a(0);g=a(14);k=a(10);m=a(2);r=(function(){function f(){this.events=new g.EventEmitter();}f.prototype.oa=function(d){var l;l=this;this.Ma=d;this.Ma.events.on("segmentNormalized",function(){l.jda();});this.jda();};Object.defineProperties(f.prototype,{pZ:{get:function(){return this.Iyb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{FDa:{get:function(){(0,m.assert)(this.Ma,"Must be initialized");return this.Ma.ka;},enumerable:!1,configurable:!0}});f.prototype.jda=function(){var d,l,n;d=this;if(this.Ma){l={};n=this.Ma.ka;this.Iyb=c.__assign(c.__assign({},n),{R:new Proxy(n.R,{get:function(h,p){var q;if(l[p])return l[p];h=n.R[p];if(!h)return h;q=d.LTb(p);q?(q=q.oDb(),l[p]=c.__assign(c.__assign(c.__assign({},q),h),{xa:q.xa,wa:q.wa})):l[p]=n.R[p];return l[p];}})});this.events.emit("updated");}};f.prototype.LTb=function(d){var l;k.N && (0,m.assert)(this.Ma,"Must be initialized");l=this.Ma.navigator;return l.B7a(d)?l.De(d):void 0;};return f;})();b.yia=r;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p;Object.defineProperties(b,{__esModule:{value:!0}});b.jha=void 0;c=a(0);g=a(38);k=a(20);m=c.__importDefault(a(4));f=a(72);d=a(469);l=a(2);n=a(1151);h=a(10);p=a(474);r=(function(){function q(t,v,w,u){var y,z;function x(A,B){return A.Y === B.Y && A.offset.equal(B.offset);}y=this;this.Wz=t;this.M4=v;this.config=w;this.console=new m.default.Console("GRAPHLOCATIONSERVICE");this.ji=new f.Qw({Vo:this,source:(u || "") + "GraphLocation",console:this.console});(0,p.oAa)(this,"d",new p.$ha(w,x));(0,p.oAa)(this,"u",new p.$ha(w,x));"temp" !== u && (null === (z=this.M4.events) || void 0 === z?void 0:z.on("updated",function(){(0,p.V4a)(y).forEach(function(A){return A.clear();});}));}Object.defineProperties(q.prototype,{parent:{get:function(){return this.Wz();},enumerable:!1,configurable:!0}});q.prototype.bmb=function(t,v){return new q(function(){return t;},{pZ:v,FDa:v},this.config,"temp");};q.prototype.QA=function(t){var v,w,u;h.N && this.console.trace("downConverting",t);v=this.parent;w=this.M4;u=w.pZ;if(v === w.FDa)return t;if(u.R[t.Y])return (v.R[t.Y] || h.N && this.console.warn("Received a down converted position unexpectedly",t,Error().stack),t);w=(0,d.Zoa)(t,v);t=(0,g.cmb)(v,u,{offset:w.y7.Z,G:t.Y});t={offset:w.Sp.add(k.M.Ja(t.offset)),Y:t.G};h.N && this.console.trace("downConverting ret:",t);return t;};q.prototype.vq=function(t){var v,w,u;h.N && this.console.trace("upConverting",t);v=this.parent;w=this.M4;u=w.pZ;if(v === w.FDa)return t;if(v.R[t.Y])return (u.R[t.Y] || h.N && this.console.warn("Received a up converted position unexpectedly",t,Error().stack),t);w=(0,d.Zoa)(t,u);t=(0,g.J_a)(v,u,{offset:w.y7.Z,G:t.Y});t={offset:w.Sp.add(k.M.Ja(t.offset)),Y:t.G};h.N && this.console.trace("upConverting ret:",t);return t;};q.prototype.SSb=function(t){var v;v=(0,g.b5a)(this.parent,this.M4.pZ,{G:t.Y,offset:t.offset.Z});v=(0,n.h$a)(v);(0,l.assert)(v,("Could not find any segments in the path of ").concat(t));return v;};c.__decorate([(0,f.kc)({methodName:"downConvertPosition",Cl:!0,Es:!0,return:!0}),(0,p.voa)("d")],q.prototype,"QA",null);c.__decorate([(0,f.kc)({methodName:"upConvertPosition",Cl:!0,Es:!0,return:!0}),(0,p.voa)("u")],q.prototype,"vq",null);return q;})();b.jha=r;},function(r,b,a){var c,g,k,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.S4a=b.V4a=b.oAa=b.voa=b.$ha=void 0;c=a(0);g=c.__importDefault(a(4));k=a(2);m=a(8);r=(function(){function d(l,n,h){void 0 === h && (h={});this.config=l;this.BOb=n;this.qd=[];this.uoa=new m.OG();this.BZa=new m.OG();this.options=c.__assign({gq:10},h);}Object.defineProperties(d.prototype,{isEnabled:{get:function(){return this.config.ANb;},enumerable:!1,configurable:!0}});d.prototype.P9=function(l,n){var h;if(!this.isEnabled)return n();h=this.lRb(l);if(h)return h.value;n=n();this.No(l,n);return n;};d.prototype.findIndex=function(l){var n,h,p,q;n=Infinity;h=Infinity;if(this.options.gV || this.options.TQ){p=g.default.time.ia();this.options.TQ && (n=p - this.options.TQ);this.options.gV && (h=p - this.options.gV);}for(p=0;p < this.qd.length;p++){q=this.qd[p];if(this.options.TQ && q.o$a < n){this.qd.splice(p,this.qd.length - p);break;}if(this.options.gV && q.zl < h)(this.qd.splice(p,1),p--);else if(this.BOb(q.key,l))return p;}return -1;};d.prototype.lRb=function(l){var n;l=this.findIndex(l);if(-1 !== l){n=this.qd[l];this.qd.splice(l,1);this.qd.unshift(n);this.options.TQ && (n.o$a=g.default.time.ia());this.BZa.push(l);this.uoa.push(1);return n;}this.uoa.push(0);};d.prototype.No=function(l,n){this.qd.unshift({key:l,value:n});if(this.options.TQ || this.options.gV)(l=g.default.time.ia(),this.options.TQ && (this.qd[0].o$a=l),this.options.gV && (this.qd[0].zl=l));this.oGb();};d.prototype.oGb=function(){this.qd.length > this.options.gq && this.qd.pop();};d.prototype.clear=function(){this.qd=[];};return d;})();b.$ha=r;f=new WeakMap();b.voa=function(d){void 0 === d && (d="default");return function(l,n,h){var p;p=h.value;h.value=function(q){var t,v,w;t=this;w=null === (v=f.get(this)) || void 0 === v?void 0:v[d];(0,k.assert)(w,"lruCache not defined");return w.P9(q,function(){return p.call(t,q);});};};};b.oAa=function(d,l,n){f.has(d) || f.set(d,{});f.get(d)[l]=n;};b.V4a=function(d){var l;if(!f.has(d))return [];l=f.get(d);return Object.keys(l).map(function(n){return l[n];});};b.S4a=function(d){return f.has(d)?f.get(d):{};};},function(r,b,a){var c,g,k,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.wya=b.ZGa=void 0;c=a(0);g=a(38);k=a(1152);m=a(72);f=a(2);r=(function(d){function l(n,h,p,q){void 0 === q && (q="CphAsePlaygraph");q=d.call(this,n,h,p,q,!0) || this;q.In=n;q.Zcb=h;q.Sgb=p;n.Bc.Pg(new k.$Ga(q));return q;}c.__extends(l,d);l.prototype.BF=function(n){var h,p;h=d.prototype.BF.call(this,n);if(h){p=n.fa.vo;p && !this.O4 && (this.Lka.Eu({applyingContentPlaygraph:!0}),this.O4=p,this.Exb=this.MHb(n.fa),this.s_());}return h;};Object.defineProperties(l.prototype,{y7a:{get:function(){return this.Exb;},enumerable:!1,configurable:!0}});l.prototype.hE=function(n){if(this.O4)return (n=c.__assign(c.__assign({},n),{R:c.__assign({},n.R)}),(0,g.txa)(n,this.O4.ka));};l.prototype.MHb=function(n){var h,p;h=n.Iu;p=n.ME;return !(!h || !h.some(function(q){return q.ME !== p;}));};Object.defineProperties(l.prototype,{vo:{get:function(){var n;return null === (n=this.O4) || void 0 === n?void 0:n.ka;},enumerable:!1,configurable:!0}});c.__decorate([(0,m.kc)({methodName:"processViewableResponse"})],l.prototype,"BF",null);return l;})(a(476).kja);b.ZGa=r;b.wya=function(d){var l;l=[];return {Lt:function(n,h){var p,q,t,v,w,u,x;t=n.P;v=n.B_;w=d();if(w.Nna && w.Nna !== t){u=null === (p=null === v || void 0 === v?void 0:v.wl) || void 0 === p?void 0:p.Oe;p=null === (q=null === v || void 0 === v?void 0:v.wl) || void 0 === q?void 0:q.Eh;q=w.Oe;v=w.Nna;(0,f.assert)(v,"did not receive parent viewable id");v={wl:{Oe:null !== u && void 0 !== u?u:q,Eh:null !== p && void 0 !== p?p:v}};}w.Bc.console.trace("In wrapped request viewable",t,v);x=h(c.__assign(c.__assign({},n),{B_:v}));l.forEach(function(y){return y({P:t,aG:x.aG});});return x;},yjb:function(n){l.push(n);}};};},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.kja=void 0;c=a(0);g=a(273);k=a(72);m=a(22);f=a(2);d=a(10);l=a(471);n=a(20);h=a(1153);p=a(477);q=a(1154);r=(function(){function t(v,w,u,x,y){var z;void 0 === x && (x="CphAsePlaygraph");void 0 === y && (y=!0);z=this;this.In=v;this.Zcb=w;this.Sgb=u;this.Odc=x;this.Hxb=new l.uja();y && this.oa();this.Zcb(function(A){var B;B=A.aG;return c.__awaiter(z,void 0,void 0,function(){var C;return c.__generator(this,function(D){switch(D.label){case 0:return [4,B];case 1:return (C=D.kb(),this.BF(C),[2]);}});});});}Object.defineProperties(t.prototype,{Bc:{get:function(){return this.In.Bc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Zj:{get:function(){return this.Bc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ka:{get:function(){return this.ko;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{bi:{get:function(){return this.In.bi;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{H:{get:function(){return this.Bc.console;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{L:{get:function(){return this.Bc.config;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{y7a:{get:function(){return !1;},enumerable:!1,configurable:!0}});t.prototype.oa=function(){var v,w,u;v=this;w=this.In;this.Lka=new k.Qw({gq:10,Vo:this,source:this.Odc,console:this.H});this.events=(0,p.Kpa)(function(){return w;},w.Bc.events,this.Sgb,q.jeb);this.ko=w.Bc.ka;u=w.bi;w.Bc.Pg(new g.Gz(this.Lka));w.Bc.Pg(new g.Gz(w.bi.ji));w.Bc.Pg(new h.zGa(("").concat(w.r$a,"::gls"),u));w.Bc.events.on("playgraphUpdating",function(){v.In.ava.jda();});};t.prototype.tx=function(v){var w,u,x;x=null !== (w=this.T) && void 0 !== w?w:this.Bc.T;this.T=v;v.MBa && v.MBa(this.In);(w=this.In.Bc.tx(null !== (u=v.gY) && void 0 !== u?u:v))?(this.T=v,x !== v && x.gpa && x.gpa()):this.T=x;return w;};t.prototype.s_=function(v,w,u,x){if(v=this.hE(null !== v && void 0 !== v?v:this.ko))return this.r3b(v,this.y7a,w,u,x);};t.prototype.r3b=function(v,w,u,x,y){var z,A,B,C,D,E;z=this.In.Fg;A=z.T;B=z.ka;if(u=u?u:z.Xp && A.Uf?A.yh:z.ft?z.Mj:void 0){C=this.Bc.ka.R[u.Y];C && C.uc && (u=this.bi.vq(u));}z.config.ogc && w && A.MF(!0);w=z.S5a();d.N && this.H.log(("onNewInnerPlaygraph: outer: ").concat(JSON.stringify(B)));d.N && this.H.log(("onNewInnerPlaygraph: combined: ").concat(JSON.stringify(v)));this.Hxb.set(v,!0);B=this.Bc.kw(v);try{if(!B.ga || u && !A.Uf && !z.ft)if(((0,f.assert)(!A.Ba.fk,"Player is not paused"),z.Wd(!0),B=this.Bc.kw(v),u)){D=this.bi.QA(u);E=v.R[D.Y];"padding" === (null === E || void 0 === E?void 0:E.type) && (D={Y:E.Ub,offset:n.M.Ha});this.Bc.Oda(D,x,y);A.resume();}return B;}finally{w.release();}};t.prototype.kw=function(v){var u,x,y;function w(){u.ko=v;}u=this;y=null !== (x=this.hE(v)) && void 0 !== x?x:v;try{return (this.Bc.events.xza("playgraphUpdating",w),this.Bc.kw(y));}finally{this.Bc.events.removeListener("playgraphUpdating",w);}};Object.defineProperties(t.prototype,{Oe:{get:function(){return this.RTa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Nna:{get:function(){var v,w,u,x;v=this;u=Object.keys(this.Bc.ka.R);if(u=(0,m.$c)(u,function(y){return ! !v.Bc.ka.R[y].uc;})){u=this.Bc.ka.R[u].uc;x=this.ka.R[u];return null !== (w=null === x || void 0 === x?void 0:x.P) && void 0 !== w?w:Number(u.split(":")[0]);}},enumerable:!1,configurable:!0}});t.prototype.BF=function(v){var w,u,x,y;u=v.fa;x=u.Oe;u=u.vo;y=null !== (w=this.L.nra) && void 0 !== w?w:[];if(u && y.some(function(z){return z == v.K;}))return (w=("").concat(v.K," was excluded from content playgraph"),this.Lka.Eu(w),d.N && this.H.trace(w),!1);x && !this.RTa && (this.RTa=x);return !0;};t.prototype.Wd=function(v){this.Bc.Wd(v);};c.__decorate([(0,k.kc)({methodName:"attachPlayer"})],t.prototype,"tx",null);c.__decorate([(0,k.kc)({methodName:"reevaluateInnerPlaygraph"})],t.prototype,"s_",null);c.__decorate([(0,k.kc)({methodName:"processViewableResponse"})],t.prototype,"BF",null);c.__decorate([(0,k.kc)({methodName:"cancelStreaming"})],t.prototype,"Wd",null);return t;})();b.kja=r;},function(r,b,a){var g,k,m,f;function c(d,l){return l && !Array.isArray(l) && -1 === l.l3a.indexOf(d)?l.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.Kpa=void 0;g=a(0);r=a(14);k=a(198);m=a(467);f=(function(d){function l(n,h){var p;p=d.call(this) || this;p.Q_b=n;p.H8a=h;p.dla={};return p;}g.__extends(l,d);l.prototype.emit=function(n){for(var h=[],p=1;p < arguments.length;p++){h[p - 1]=arguments[p];}return d.prototype.emit.call(this,n,this.Q_b(n,h[0]));};l.prototype.subscribe=function(n){var h,p;h=this;if(!this.listeners(n).length){p=function(){for(var q=[],t=0;t < arguments.length;t++){q[t]=arguments[t];}return h.emit.apply(h,g.__spreadArray([n],g.__read(q),!1));};this.dla[n]=p;this.H8a.addListener(n,p);}};l.prototype.addListener=function(n,h){this.subscribe(n);d.prototype.addListener.call(this,n,h);return this;};l.prototype.removeListener=function(n,h){d.prototype.removeListener.call(this,n,h);h=this.dla[n];!this.listeners(n).length && h && (this.H8a.removeListener(n,h),this.dla[n]=void 0);return this;};l.prototype.on=function(n,h){this.addListener(n,h);return this;};l.prototype.ly=function(n,h){this.removeListener(n,h);return this;};l.prototype.once=function(n,h){var q;function p(){for(var t=[],v=0;v < arguments.length;v++){t[v]=arguments[v];}q.removeListener(n,p);h.apply(void 0,g.__spreadArray([],g.__read(t),!1));}q=this;this.addListener(n,p);return this;};l.prototype.b_=function(n,h){this.subscribe(n);d.prototype.b_.call(this,n,h);return this;};l.prototype.xza=function(n,h){var q;function p(){for(var t=[],v=0;v < arguments.length;v++){t[v]=arguments[v];}q.removeListener(n,p);h.apply(void 0,g.__spreadArray([],g.__read(t),!1));}q=this;this.b_(n,p);return this;};return l;})(r.EventEmitter);b.Kpa=function(d,l,n,h){return new f(function(p,q){var t,v;v=c(p,h["*"]);p=null !== (t=h[p]) && void 0 !== t?t:[];t=v.concat(p).filter(function(w){return "object" === typeof w;});v=g.__read(p.filter(function(w){return "function" === typeof w;}),1)[0];return t.length?(0,m.Eda)(d,q,n,{rules:t,Sn:!1,pna:!0},k.Ew.HDa,v):q;},l);};},function(r,b,a){var g,k;function c(m){var f;f=(/^.+:ad\-(\d+)\-(\d+)$/).exec(m);if(f)return {Rma:parseInt(f[2]),im:parseInt(f[1]),pY:!1};if(m=(/^.+:pad((end)|(start))-(\d+)$/).exec(m))return {im:parseInt(m[4]),pY:!0,udb:m[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.e5a=b.iX=b.PEa=void 0;g=a(8);k=a(253);r=(function(){function m(f,d,l){this.Ti=f;this.ow=d;this.fh=l;}m.prototype.gRb=function(f){var d,l,n,h,p,q,t,v,w;n=c(null === f || void 0 === f?void 0:f.Y);h=this.Ti.ka;p=this.ow().ka;t=h.R[f.Y];v=t;w=[f.Y];for(p=p.R[v.uc].P;v && v.uc === t.uc && v.P !== p;){w.push(v.Ub);v=h.R[v.Ub];}w.pop();h=null !== (q=w.pop()) && void 0 !== q?q:f.Y;q=c(h);f=this.Ti.ka.R[f.Y];h=this.Ti.ka.R[h];f=(null !== (d=f.wa) && void 0 !== d?d:Infinity) - f.xa;d=(null !== (l=h.wa) && void 0 !== l?l:Infinity) - h.xa;return {start:(null === n || void 0 === n?0:n.pY)?new k.aga(k.J1.start,f):void 0,end:(null === q || void 0 === q?0:q.pY)?new k.aga(k.J1.end,d):void 0};};Object.defineProperties(m.prototype,{Or:{get:function(){var f,d,l,n,h,p,q,t,v;if(this.Ti.T.Uf){d=this.Ti.T.yh;l=c(d.Y);if(l){n=null === (f=this.ow().bi) || void 0 === f?void 0:f.vq(d);f=this.ow().ka.R[n.Y];f=this.fh.tg[f.P][l.im];n=this.gRb(d);n=new k.eFa(f,n.start,n.end);h=this.Ti.ka;p=this.ow().ka;q=h.R[d.Y];t=q;v=-d.offset.Z;for(p=p.R[t.uc].P;t && t.uc === q.uc && t.P !== p;){v+=t.wa - t.xa;t=h.R[t.Ub];}h=g.M.Ja(v);q=h.Da(n.OW.duration);l.pY && ("end" === l.udb?q=g.M.Ha:(t=n.rea.duration.Da(d.offset),q=q.Da(t)));n={Wq:n,progress:{HBb:f.duration.Da(q),IBb:1 - Math.max(0,q.Z) / f.duration.Z,JBb:n.duration.Da(h),KBb:1 - Math.max(0,h.Z) / n.duration.Z},position:d,index:l.im};h=this.Ti.ka.R[d.Y];h=h.wa - h.xa;d=d.offset.Z / h;l.pY?n.nca={r4b:d,oca:l.udb,mca:g.M.Ja(h)}:n.Cs={xh:f.Ui[l.Rma],mXa:d,index:l.Rma};return n;}}},enumerable:!1,configurable:!0}});m.prototype.iX=function(f){return c(f);};return m;})();b.PEa=r;b.iX=c;b.e5a=function(m){if(m=(/^.+-(\d+)$/).exec(m))return {g0a:parseInt(m[1])};};},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Fpa=void 0;c=a(135);g=a(1174);b.Fpa=function(k,m){var f;k=m(k);f=new g.SPa(k,c.uy.TAa.eR);return c.uy.Qza(k,f,function(){return f.In;});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mjc="LogblobBuilderSymbol";b.gT="HLSLogblobBuilderFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vSa="ThroughputTrackerConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ySa="ThroughputTrackerSymbol";b.wSa="ThroughputTrackerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VIa="ExtraPlatformInfoProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EGa="CapabilityDetectorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GFa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(r,b,a){var g,k,m,f,d,l;function c(n,h,p){p=k.jG.call(this,n,h,g.u.Audio,p) || this;p.config=n;p.iq=h;p.type=g.ww.hz;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.j2=void 0;g=a(26);k=a(487);m=a(123);r=a(125);f=a(394);d=a(281);l=new r.PG().format;ja(c,k.jG);c.prototype.q0=function(){var n;n=l(c.$ea,m.Rd.Yob);return Promise.resolve(this.config().wO && this.iq.isTypeSupported(n));};c.prototype.Ns=function(){return f.Sga.Ns();};c.prototype.C6a=function(){return this.config().NH;};c.prototype.XW=function(n){return this.config().j4b?Promise.resolve(new d.S3(n,n.map(function(){return {supported:!0};}))):k.jG.prototype.XW.call(this,n);};b.j2=c;c.$ea="audio/mp4;codecs={0};";},function(r,b,a){var g,k,m,f,d;function c(l,n,h,p){this.config=l;this.iq=n;this.mediaType=h;this.HB=p;this.qxa={};this.qxa[g.u.Audio]="audio";this.qxa[g.u.gTa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.jG=void 0;g=a(26);r=a(125);k=a(172);m=a(13);f=a(281);d=new r.PG().format;c.prototype.V6a=function(l){return this.kMb(this.QTb(this.C6a(),l));};c.prototype.WH=function(l){return this.iq.isTypeSupported(l);};c.prototype.XRb=function(){return [k.Mf.Ifa,k.Mf.Wqb,k.Mf.mG,k.Mf.nG];};c.prototype.oXb=function(){this.Pr=[];this.zy=[];this.config().l4b && this.zy.push(k.Mf.Iz);this.config().pdb && this.zy.push(k.Mf.HJa);this.config().odb && this.zy.push(k.Mf.GJa);this.config().ndb && this.zy.push(k.Mf.zw);this.config().mdb && this.zy.push(k.Mf.IC);this.config().qdb && this.zy.push(k.Mf.jD);this.config().ldb && this.zy.push(k.Mf.ol);this.zy=this.zy.concat(this.XRb());!this.config().iOb && this.Pr.push(k.Mf.Iz);!this.config().G2a && this.Pr.push(k.Mf.Zob);!this.config().F2a && this.Pr.push(k.Mf.$ob);!this.config().wO && this.Pr.push(k.Mf.apb);!this.config().VNb && this.Pr.push(/prk$/);this.config().ndb || this.config().HNb || this.Pr.push(k.Mf.zw);this.config().pdb || this.config().KNb || this.Pr.push(k.Mf.HJa);this.config().odb || this.config().Qqa || this.Pr.push(k.Mf.GJa);this.config().mdb || this.config().uO || this.Pr.push(k.Mf.IC);this.config().qdb || this.config().eOb || this.Pr.push(k.Mf.jD);this.config().ldb || this.config().yNb || this.Pr.push(k.Mf.ol);!this.config().cOb && this.Pr.push(k.Mf.bM);};c.prototype.QTb=function(l,n){var h;h=m.Xe.hardwareConcurrency && m.Xe.hardwareConcurrency;return l.filter(function(p){return void 0 !== p.minimumCores && h < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === n || void 0 === n?void 0:n.he) || !p.restrictToUILabels.includes(n.he))?!1:!0;}).map(function(p){return p.name;});};c.prototype.XW=function(l){var n,h;n=this;h=l.map(function(p){for(var q=ma(n.zy),t=q.next();!t.done;t=q.next()){if(t.value.test(p))return Promise.resolve({supported:!0});}q=ma(n.Pr);for(t=q.next();!t.done;t=q.next()){if(t.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});}return n.WW(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(h).then(function(p){return new f.S3(l,p);});};c.prototype.WW=function(l){var n;n=this;return this.Cva(l).then(function(h){return h.supported?n.config().SNb?n.HB.WW(l):n.xra(l):h;});};c.prototype.xra=function(l){var n;l=this.i_[l];n="";return l?(Array.isArray(l) && (n=1 < l.length?" " + l[1]:"",l=l[0]),l=d("{0}/mp4;codecs={1};{2}",this.qxa[this.mediaType],l,n),this.WH(l)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.kMb=function(l){this.oXb();return this.XW(l);};c.prototype.Cva=function(){return Promise.resolve({supported:!0});};Ua.Object.defineProperties(c.prototype,{i_:{configurable:!0,enumerable:!0,get:function(){this.fWa || (this.fWa=this.Ns());return this.fWa;}}});b.jG=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zMa="MediaCapabilitiesDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DMa="MediaCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CMa="MediaCapabilitiesLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AQa="PresentationAPISymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.r3="IndexedDBConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BLa="LocalStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ma="MemoryStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VFa="BookmarkSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TFa="BookmarkConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SFa="BookmarkConfigParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mGa="CDMAttestedDescriptorProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pMa="ManifestProviderConfigSymbol";},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Vja=void 0;g=a(13);c.B6a=function(){var k;k=g.Iw && g.Iw.height;return k?1080 <= k?1080:720:720;};b.Vja=c;},function(r,b,a){var g;function c(k){this.log=k;}Object.defineProperty(b,"__esModule",{value:!0});b.qT=void 0;g=a(502);c.prototype.Fkb=function(k,m){var f,d;f=this;if(!k)return (this.log.warn("There are no media streams for " + m.type + " track - " + m.trackId),[]);d=k.map(function(l){var n,h,p,q,t,v,w,u;u=new g.MediaStream(m,m.type,l.zo,l.bitrate,l.eb,l.size,f.hSb(l.urls),l.fE,l.s4a / l.r4a,l.yj,l.Pj);u.Cac(l.xgb,l.IAa,l.Vdb,l.Udb);u.S$b(null !== (n=l.OKb) && void 0 !== n?n:void 0,null !== (h=l.PKb) && void 0 !== h?h:void 0,null !== (p=l.NKb) && void 0 !== p?p:void 0,null !== (q=l.MKb) && void 0 !== q?q:void 0,null !== (t=l.Vdb) && void 0 !== t?t:void 0,null !== (v=l.Udb) && void 0 !== v?v:void 0);m.om && (u.om=m.om);l.pI && (u.pI=null !== (w=l.pI) && void 0 !== w?w:void 0);l.fE && (u.af=l.fE);return u;});d.sort(function(l,n){return l.bitrate - n.bitrate;});d.forEach(function(l,n){l.lower=d[n - 1];l.epc=d[n + 1];});return d;};c.prototype.hSb=function(k){return k.reduce(function(m,f){m[f.Qf]=f.url;return m;},{});};b.qT=c;},function(r,b,a){var g,k,m;function c(f,d,l,n,h,p,q,t,v,w,u){this.track=f;this.type=d;this.Vb=l;this.bitrate=n;this.eb=h;this.size=p;this.BW=q;this.af=t;this.framerate=v;this.yj=w;this.Pj=u;this.Dh={Type:d,Bitrate:n,DownloadableId:l};}Object.defineProperty(b,"__esModule",{value:!0});b.Rob=b.MediaStream=void 0;g=a(17);k=a(15);m=a(91);c.prototype.toJSON=function(){return this.Dh;};c.prototype.Cac=function(f,d,l,n){(0,k.vd)(f) && (0,k.vd)(d) && (this.width=f,this.height=d,(0,k.Oa)(l) && (0,k.Oa)(n) && (this.width=Math.round(l / n * f)),this.Dh.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.S$b=function(f,d,l,n,h,p){(0,k.vd)(f) && (0,k.vd)(d) && (0,k.vd)(l) && (0,k.vd)(n) && (this.Tpa=f,this.Y0a=d,this.X0a=l,this.W0a=n);(0,k.vd)(h) && (0,k.vd)(p) && (this.Wdb=h,this.Xdb=p);};b.MediaStream=c;b.Rob=function(f,d,l,n,h){if(f == g.u3 || f === m.oj.audio)return d;if(f == g.lT || f === m.oj.video)return l;if(f == m.oj.Nea)return n;if(f == m.oj.uDa)return h;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WPa="PlayerTextTrackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KSa="TrickPlayFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tMa="ManifestVerifyErrorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JOa="PboLinksManagerSymbol";b.HOa="PboLinksManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lMa="ManifestEnricherSymbol";},function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sia="MslReadyNotifierSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GHa="DeviceIdGeneratorSymbol";},function(r,b){function a(c,g,k){if(null != k){if(0 < k(c,g))throw a.J0a(c,g);}else if(c.lm && 0 < c.lm(g))throw a.J0a(c,g);this.start=c;this.end=g;}Object.defineProperty(b,"__esModule",{value:!0});b.xja=void 0;a.J0a=function(c,g){return new RangeError("end [" + g + "] must be >= start [" + c + "]");};b.xja=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JHa="DeviceProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tOa="PboBindDeviceCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ULa="LogblobSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bNa="MessageQueueSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LOa="PboLogblobCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dTa="UuidProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aFa="AppLogSinkSymbol";},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D,E;function c(G,F,I,L,M,K,O,H,J,R,P,T,V,S,W,ia,ra,ua,Aa,Ha){var N;N=this;this.j=G;this.Aa=F;this.ckb=I;this.Eg=L;this.mxa=M;this.sra=K;this.Ke=O;this.q8=H;this.pf=J;this.config=R;this.Bd=P;this.Ba=T;this.Fa=V;this.Jr=S;this.yB=W;this.Jj=ia;this.fv=ra;this.yJ=ua;this.Gc=Aa;this.ZP=Ha;this.F0=[];this.xxa=this.UE=this.z_=0;this.nO=[];this.ena=!1;this.OF=function(Q){var U,Z,qa,Fa,Oa,Ra;Z={};try{Z={playdelaysdk:(0,n.Ag)(N.j.OV()),applicationPlaydelay:(0,n.Ag)(N.j.woa()),playdelay:(0,n.Ag)(N.j.zoa()),trackid:N.j.ml,bookmark:(0,n.Ag)(N.j.cr || 0),pbnum:N.j.index,endianness:(0,m.u5a)()};N.config().fOb && (Z.transitiontime=N.j.Wn,Z.uiplaystarttime=N.j.ib.XR,Z.playbackrequestedat=N.j.Ij.ja(h.sa),Z.clockgettime=N.getTime(),Z.clockgetpreciseepoch=N.Ba.Hf.ja(h.sa),Z.clockgetpreciseappepoch=N.Fa.vB.ja(h.sa),Z.absolutestarttime=N.j.GI(),Z.relativetime=N.j.E6a());N.r9(Z,"startplay");}catch(Pa){N.log.error("error in startplay log fields",Pa);}N.j.Vi && (Z.blocked=N.j.Vi);N.Gc.j8a(Z);(0,x.Oa)(N.j.hZa) && (Z.bookmarkact=(0,n.Ag)(N.j.hZa));qa=N.j.wd.at && N.j.wd.ats?N.j.wd.at - N.j.wd.ats:void 0;qa && (Z.nccpat=qa);(qa=N.j.wd.lr && N.j.wd.lc?N.j.wd.lr - N.j.wd.lc:void 0) && (Z.nccplt=qa);(qa=N.j.wd.lc && N.j.wd.lg?N.j.wd.lc - N.j.wd.lg:void 0) && (Z.lct=qa);(qa=N.RA()) && (Z.downloadables=qa);mb._cad_global.device && (0,x.vd)(mb._cad_global.device.G8) && (Z.esnSource=mb._cad_global.device.G8);(0,n.Fe)(Z,N.Jr,{prefix:"pi_"});N.j.Np && N.j.Np.initBitrate && (Z.initvbitrate=N.j.Np.initBitrate);N.j.Np && N.j.Np.selector && (Z.selector=N.j.Np.selector);Z.fullDlreports=N.Mlb;if(N.j.state.value >= u.dc.Le)try{Fa=N.j.Pu();if(Fa){N.maxBitrate=(0,m.qS)(Fa.map(function(Pa){return Pa.bitrate;}));N.Pab=(0,m.qS)(Fa.map(function(Pa){return Pa.height;}));Oa=0 < Fa.length?(0,C.j7a)(function(Pa,Va){return Pa.height === Va.height;},Fa).map(function(Pa){return (0,y.axa)(Pa,function(Va){return Va.bitrate;});}):void 0;Z.maxbitrate=N.maxBitrate;Z.maxresheight=N.Pab;}}catch(Pa){N.log.error("Exception computing max bitrate",Pa);}try{Ra=(0,m.SI)();Ra && (Z.pdltime=Ra);}catch(Pa){}try{(0,n.Fe)(Z,N.j.wd,{prefix:"sm_"});(0,n.Fe)(Z,N.j.d$(),{prefix:"vd_"});}catch(Pa){}Q && N.j.Vv && (Z.pssh=N.j.Vv);N.n8a(N.j,Z);Z.avtp=N.UK.Jo().eDa;(null === (U=N.j.nb) || void 0 === U?0:U.qD) && N.G$(Z);if(N.j.Tb.value)try{Z.ttTrackFields=N.j.Tb.value.Dh;}catch(Pa){}N.Gc.g8a(Z,N.j.Ec.value,N.Aa);N.Gc.tP(Z,!0,N.j.Lh.value,N.Aa);N.j.fa && (Z.packageId=N.j.fa.$a.Wo);N.j.fa && N.j.fa.$a.qo && (Z.hasChoiceMap=!0);N.aZb(Oa);N.$Yb();Q && (N.Kua(Z),N.Mua(Z));N.i8a(N.j,Z);N.aJ(N.j,Z);N.bJ(N.j,Z);N.QE(N.j,Z,N.ena);N.cY(N.j,Z);N.JWb(N.j,Z);N.Lua(Z);N.Oua(Z);N.Gc.sP(Z);N.h8a(Z);N.Gc.I$(Z,N.Aa);N.Nua(Z);N.Jc(z.dd.OF,Q,E.We | E.qu | E.nj | E.ru | E.iG | E.O1 | E.lG | E.Aq,Z);};this.dR=function(Q,U,Z){U={playdelay:(0,n.Ag)(Q),reason:Z,intrplayseq:N.UE - 1,skipped:U};"repos" === Z && (U.prstate=!0 === N.j.paused.value?"paused":"playing");N.bJ(N.j,U);N.Jc(z.dd.dR,!1,E.We | E.qu | E.nj,U);"rebuffer" !== Z && "force_rebuffer" !== Z || N.j.Am.bCb(Number((0,n.Ag)(Q)));};this.SN=function(Q,U,Z,qa){Q={moff:(0,n.tn)(Z),moffms:(0,n.Ag)(Z),vbitrate:U.bitrate,vbitrateold:Q.bitrate,vdlid:U.Vb,vdlidold:Q.Vb,vheight:U.height,vheightold:Q.height,vwidth:U.width,vwidthold:Q.width,bw:qa};N.bJ(N.j,Q);N.QE(N.j,Q);N.Jc(z.dd.SN,!1,E.nj,Q);};this.vAa=function(Q,U,Z){Q={moff:(0,n.tn)(Z),moffms:(0,n.Ag)(Z),vdlidold:Q.Vb,vbitrateold:Q.bitrate};N.bJ(N.j,Q);N.QE(N.j,Q);N.Gc.xr(Q,U,N.j.Xf.value && N.j.Xf.value.stream);N.Jc(z.dd.fgb,!1,E.nj,Q);};this.hza=function(){var Q,U;Q={waittime:(0,n.Ag)(N.j.E6a()),abortedevent:"startplay",trackid:N.j.ml,prstate:N.dB(),paustate:N.j.paused.value};N.r9(Q,"endplay");N.fv.MW && (Q.eventlist_version=1,Q.eventlist=N.yJ.u6a(N.j));N.j.Np && N.j.Np.initBitrate && (Q.initvbitrate=N.j.Np.initBitrate);try{U=(0,m.SI)();U && (Q.pdltime=U);(0,n.Fe)(Q,N.j.wd,{prefix:"sm_"});}catch(Z){}N.Hua(Q,!0);N.Gc.I$(Q,N.Aa);N.Gc.tP(Q,!1,N.j.Lh.value,N.Aa);N.Kua(Q);N.Gc.xr(Q,N.j.xf.value,N.j.Vh.value);N.n8a(N.j,Q);N.aJ(N.j,Q);N.cY(N.j,Q);N.Nua(Q);N.Mua(Q);N.Jc(z.dd.Cca,!1,E.We | E.nj | E.iG | E.ru | E.Aq,Q);};this.gza=function(Q,U){Q={waittime:(0,n.Ag)(Q),abortedevent:"resumeplay",resumeplayreason:U};N.j.Np && N.j.Np.initBitrate && (Q.initvbitrate=N.j.Np.initBitrate);N.Gc.xr(Q,N.j.xf.value,N.j.Vh.value);N.cY(N.j,Q);N.Jc(z.dd.Cca,!1,E.We | E.nj | E.Aq,Q);};this.yCa=function(Q,U,Z){Q={newstate:U?"Paused":"Playing",oldstate:Q?"Paused":"Playing",reason:Z};N.bJ(N.j,Q);N.QE(N.j,Q);N.Gc.xr(Q,N.j.Ge.value && N.j.Ge.value.stream,N.j.Xf.value && N.j.Xf.value.stream);N.Jc(z.dd.cjb,!1,E.We | E.nj,Q);};this.dva=function(Q,U,Z){var qa,Fa;Q=(0,n.Fe)({vdlid:N.j.xf.value.Vb,playingms:Q,pausedms:U,intrplayseq:N.UE++,prstate:N.dB(),paustate:N.j.paused.value},Z);N.r9(Q,"intrplay");U=N.j.Ac[D.u.J].value;Z=N.j.Ac[D.u.V].value;Q.cdnid=Q.vcdnid=U && U.id;Q.acdnid=Z && Z.id;Q.locid=N.wY && N.wY.vwa;Q.loclv=N.wY && N.wY.O$a;Q.avtp=N.UK.Jo().eDa;Q.mediabuffered=null === (qa=N.j.tf) || void 0 === qa?void 0:qa.v9();if(null === (Fa=N.j.nb) || void 0 === Fa?0:Fa.qD)(N.Hua(Q,!0),N.G$(Q),N.l8a(Q));try{(0,n.Fe)(Q,N.j.d$(),{prefix:"vd_"});}catch(Oa){}N.bJ(N.j,Q);N.QE(N.j,Q);N.Gc.xr(Q,N.j.Ge.value && N.j.Ge.value.stream,N.j.Xf.value && N.j.Xf.value.stream);N.Jc(z.dd.dva,!1,E.We | E.nj,Q);};this.YQ=function(Q,U,Z){Q={moffold:(0,n.tn)(Q),reposseq:N.z_++,prstate:N.dB(),paustate:N.j.paused.value};N.QE(N.j,Q);N.Gc.xr(Q,Z && Z.stream,U && U.stream);N.Jc(z.dd.YQ,!1,E.We | E.nj,Q);};this.Kna=function(){var Q,U,Z,qa;U=N.j.Ec.value;Z=N.j.Vh.value.Vb;U=U?{trackId:U.trackId,bcp47:U.Ef,downloadableId:Z,rank:U.ec,chan:U.channels}:{};Z=N.tB;qa=null === (Q=N.Sva) || void 0 === Q?void 0:Q.Vb;Q=Z?{trackId:Z.trackId,bcp47:Z.Ef,downloadableId:qa,rank:Z.ec,chan:Z.channels}:{};N.Jc(z.dd.IYa,!1,E.We | E.nj,{switchdelay:(0,n.Ag)(N.getTime() - N.Tva),track:U,oldtrack:Q});};this.h0=function(Q){N.Jc(z.dd.Qib,!1,E.We | E.nj,{speedold:Math.floor(1E3 * Q.oldValue),speed:Math.floor(1E3 * Q.newValue)});};this.LR=function(){N.Jc(z.dd.xdc,!1,E.We | E.nj,{track:N.j.Tb.value.Dh});};this.wC=function(Q){var U,Z;U=N.j.Tb.value;if(Q.newValue || U && U.Cr() && !U.aq()){Z=(Q=null !== (Z=Q.newValue) && void 0 !== Z?Z:U)?{trackId:Q.trackId,bcp47:Q.Ef,downloadableId:Q.Vb,rank:Q.ec,isImageBased:Q.Hl}:{};Q=(Q=N.fwa)?{trackId:Q.trackId,bcp47:Q.Ef,downloadableId:Q.Vb,rank:Q.ec,isImageBased:Q.Hl}:{};Z={switchdelay:(0,n.Ag)(N.getTime() - N.ewa),track:Z,oldtrack:Q};N.Gc.xr(Z,N.j.Ge.value && N.j.Ge.value.stream,N.j.Xf.value && N.j.Xf.value.stream);N.Jc(z.dd.okb,!1,E.We | E.nj,Z);}};this.ar=function(Q){N.Jc(z.dd.GEb,!1,E.We | E.nj,Q.newValue);};this.aGb=function(Q,U){var Z,qa;Z=U.serverid;qa={locid:U.location,loclv:U.locationlv,selocaid:Z,selcdnid:Z,selocaname:U.servername};qa.mediatype=U.mediatype;qa.selreason=U.selreason || "unknown";qa.seldetail=U.seldetail;qa.cdnbwdata=JSON.stringify([{id:Z}]);Q && (qa.oldlocid=Q.vwa,qa.oldloclv=Q.O$a,qa.oldocaid=Q.H$b,qa.oldocaname=Q.yK);N.Jc(z.dd.VZa,!1,E.O1,qa);};this.V1a=function(){var Q,U,Z;if(N.j.Rg)try{Q=!1;N.Mlb || (Q=!0,N.nO=N.nO.filter(function(qa){return !qa.ga;}));if(0 < N.nO.length){U=N.q8.construct(N.nO,N.j.Ij.ja(h.sa));N.nO=[];U.erroronly=Q;Z={};(0,n.ph)(U,function(qa,Fa){Z[qa]=JSON.stringify(Fa);});N.Jc(z.dd.EMb,!1,E.nj,Z);}}catch(qa){N.log.error("Exception in dlreport.",qa);}};this.dB=function(){var Q;Q=N.j.Eb.value;return Q === u.qb.Wc?"playing":Q === u.qb.Oi?"paused":Q === u.qb.js?"ended":"waiting";};this.hF=function(){var Q,U,Z;if(N.j.state.value == u.dc.Le){Z=N.SZ();N.config().CAa && (Z.avtp=N.UK.Jo().eDa,(null === (Q=N.j.nb) || void 0 === Q?0:Q.qD) && N.G$(Z));Z.mediabuffered=null === (U=N.j.tf) || void 0 === U?void 0:U.v9();Z.midplayseq=N.xxa++;Z.prstate=N.dB();Z.paustate=N.j.paused.value;N.config().C$b && N.Ajb("midplay");N.config().Dt && N.Pua(Z);N.Lua(Z);N.Oua(Z);N.Gc.sP(Z);N.Jc(z.dd.hF,!1,E.We | E.nj | E.iG | E.ru,Z);}};this.Ajb=function(Q){var U,Z;U={};U.trigger=Q;try{Z=N.j.pta();U.subtitleqoescore=N.j.ep.AUb(Z);U.metrics=JSON.stringify(N.j.ep.Kta(Z));}catch(qa){N.log.error("error getting subtitle qoe data",qa);}N.Jc(z.dd.ycc,!1,E.We | E.iG | E.qu,U);};this.transition=function(Q){N.QE(N.j,Q);N.cY(N.j,Q);N.Jc(z.dd.transition,!1,0,Q);};this.pBa=function(Q,U){N.Jc(z.dd.pBa,U,0,Q);};this.uI=function(Q){var U,Z,qa,Fa,Oa,Ra,Pa;Z=N.SZ();N.r9(Z,"endplay");Z.prstate=N.dB();Z.paustate=N.j.paused.value;Z.muted=N.j.muted.value;N.j.yC && "downloaded" === N.j.yC.dP() && (Z.trickplay_ms=N.j.P0.offset,Z.trickplay_res=N.j.P0.wgb);N.config().Vlb && (Z.rtinfo=N.j.cUb());N.config().CAa && (null === (U=N.j.nb) || void 0 === U?0:U.qD) && N.G$(Z);Z.endreason=Q?"error":N.j.Eb.value === u.qb.js?"ended":"stopped";(U=N.Jr) && (0,n.Fe)(Z,U,{prefix:"pi_"});try{(0,n.Fe)(Z,N.j.wd,{prefix:"sm_"});}catch(Ab){}N.j.Gua && (Z.inactivityTime=N.j.Gua);N.Hua(Z,Q);N.l8a(Z);if(N.j.n7){U=N.j.n7;qa=N.config().KV;Fa=N.j.loadTime;Oa={iv:qa,seg:[]};Ra=function(Ab,tb,Db){return 0 === tb || void 0 === Db[tb - 1]?Ab:Ab - Db[tb - 1];};Pa=U.wV.map(Ra);Ra=U.c1.map(Ra);for(var Va,bb=0;bb < Pa.length;bb++){if(Pa[bb] || Ra[bb])Va?(Va.ams.push(Pa[bb]),Va.vms.push(Ra[bb])):Va={ams:[U.wV[bb]],vms:[U.c1[bb]],soffms:U.startTime + bb * qa - Fa};bb !== Pa.length - 1 && Pa[bb] && Ra[bb] || !Va || (Oa.seg.push(Va),Va=void 0);}Z.bt=JSON.stringify(Oa);}Q && (N.Kua(Z),N.Mua(Z));N.Ajb("endplay");N.config().Dt && N.Pua(Z);N.Gc.tP(Z,!1,N.j.Lh.value,N.Aa);N.i8a(N.j,Z);N.aJ(N.j,Z);N.bJ(N.j,Z);N.QE(N.j,Z,N.ena);N.cY(N.j,Z);N.Lua(Z);N.Oua(Z);N.Gc.sP(Z);N.KWb(Z);N.h8a(Z);N.MWb(Z);N.LWb(Z);N.OWb(Z);N.Nua(Z);N.PWb(Z);N.Jc(z.dd.uI,Q,E.We | E.qu | E.nj | E.iG | E.ru | E.lG | E.Aq,Z);};this.LMb=function(Q){N.nO.push(N.q8.THb(Q.response));};this.Aqa=function(Q){var U,Z,qa,Fa,Oa,Ra;Q=Q.response;U=Q.request;Z=Q.request.IB;qa=U.track;if(qa){Fa=!Q.ga && Q.za != p.X.SC;Oa=qa.type;Ra=Q.wm;if(Fa || N.Aa.Awa){Z={dltype:Oa,url1:U.url,url2:Q.url || "",cdnid:U.Ac && U.Ac.id,tresp:(0,n.Ag)(Ra.hj - Ra.Ur),brecv:(0,n.e4a)(Ra.aW),trecv:(0,n.Ag)(Ra.mq - Ra.hj),sbr:Z && Z.bitrate};Q.It && (Z.range=Q.It);switch(Oa){case f.oj.audio:Z.adlid=U.stream.Vb;break;case f.oj.video:Z.vdlid=U.stream.Vb;break;case f.oj.Nea:Z.ttdlid=qa.Vb;}(U=(0,A.kta)(Q.za)) && (Z.nwerr=U);Q.Dl && (Z.httperr=Q.Dl);N.Jc(z.dd.Aqa,Fa,E.nj,Z);}}};this.Vi=function(){N.Jc(z.dd.eZa,!1,E.We | E.iG | E.Aq,{});};this.nHb=function(Q){var U,Z;U=Q.response.wm;Q=(0,h.xc)(U.hj);Z=(0,h.xc)(U.mq);U=(0,q.ea)(U.aW || 0);U.J9a() || U.vva() || (Q=new t.xja(Q,Z),N.UK.VBb(new v.OHa(Q,U)));};this.sca=function(Q){var U,Z,qa;qa=Q.newValue;Q.Qk && Q.Qk.Pba && qa && (null === (U=Q.Qk) || void 0 === U || !U.reason) || qa == N.mJ || (N.yCa(N.mJ,qa,null === (Z=Q.Qk) || void 0 === Z?void 0:Z.reason),N.mJ=qa);};this.tA=function(Q){function U(Z){var qa;if(N.j.ac && N.j.ac.sourceBuffers){qa=N.j.ac.sourceBuffers.filter(function(Fa){return Fa.type === Z;}).pop();if(qa)return {busy:qa.yi(),updating:qa.updating(),ranges:qa.w9()};}}Q={cause:Q.cause};Q.cause && Q.cause === k.Zia && (Q.mediaTime=N.j.mediaTime.value,Q.buf_audio=U(g.u3),Q.buf_video=U(g.lT));N.dva(N.F0[u.qb.Wc] || 0,N.F0[u.qb.Oi] || 0,Q);};this.Bkb=function(Q){var U;Q=Q.oldValue;U=N.getTime();Q === u.qb.pg?N.F0=[]:N.F0[Q]=(N.F0[Q] || 0) + (U - N.lZb);N.lZb=U;};this.cn=function(Q){N.Tva=N.getTime();N.tB=Q.oldValue;};this.Hm=function(Q){N.ewa=N.getTime();N.fwa=Q.oldValue;};this.zV=function(Q){N.Sva=Q.oldValue;};this.KY=function(Q){function U(Z,qa){var Fa;if(!Z || Z.vwa !== qa.location){Fa={vwa:qa.location,O$a:qa.locationlv,H$b:qa.serverid,yK:qa.servername};N.aGb(Z,qa);return Fa;}}if("audio" === Q.mediatype){if(Q=U(N.fZb,Q))N.fZb=Q;}else if(Q=U(N.wY,Q))N.wY=Q;};this.U_=function(Q){var U,Z;U=Q.mediatype;Z=Q.reason;"video" === U?"serverswitchaway" === Z?(N.uk.summary.xmb++,N.uk.Caa=N.Ba.Hf.ja(h.sa)):"serverswitchback" === Z && (N.uk.summary.ymb++,N.uk.Caa && (N.uk.summary.zmb.push(N.Ba.Hf.ja(h.sa) - N.uk.Caa),N.uk.Caa=void 0)):"audio" === U && ("serverswitchaway" === Z?(N.uk.summary.tYa++,N.uk.xaa=N.Ba.Hf.ja(h.sa)):"serverswitchback" === Z && (N.uk.summary.uYa++,N.uk.xaa && (N.uk.summary.vYa.push(N.Ba.Hf.ja(h.sa) - N.uk.xaa),N.uk.xaa=void 0)));N.Jc(z.dd.J$b,!1,E.We | E.nj,{mediatype:Q.mediatype,server:Q.server,selreason:Q.reason,location:Q.location,bitrate:Q.bitrate,confidence:Q.confidence,throughput:Q.throughput,oldserver:Q.oldserver});};this.xN=function(Q){N.Jc(z.dd.uDb,!1,E.nj,{strmsel:Q.strmsel});};this.GR=function(Q){Q=Object.assign({},Q);Q.details && (Q.details=JSON.stringify(Q.details));N.Jc(z.dd.xcc,!0,E.We | E.qu | E.O1,Q);};this.ena=ia.aEa || ia.lfa || ia.c4a;this.UK=I();this.log=(0,d.aj)(G,"LogblobBuilder");this.mJ=G.paused.value;this.qa=this.Aa.qa;this.uk={summary:{xmb:0,ymb:0,zmb:[],tYa:0,uYa:0,vYa:[]},Caa:void 0,xaa:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.hT=void 0;g=a(17);k=a(62);m=a(40);f=a(91);d=a(9);l=a(23);n=a(25);h=a(5);p=a(3);q=a(52);t=a(511);v=a(1260);w=a(13);u=a(16);x=a(15);y=a(1261);z=a(278);A=a(201);B=a(138);C=a(101);D=a(49);c.prototype.n8a=function(G,F){var I,L,M,K,O,H,J,R,P,T,V,S,W,ia,ra,ua,Aa;if(this.config().Dt)try{I={};L=this.Bd.getStats(void 0,void 0,G.K);M=G.GI();K=L.TK.xHb || [];I.attempts=L.Nca || 0;I.num_completed_tasks=K.length;O=this.Ke.wPb;H={};J=B.ql.HR;R=B.ql.av;P=B.ql.Eoa;L.qm && (H.scheduled=L.qm - M);T=G.fa;T && (0,x.Oa)(T.iK) && (H.preauthsent=T.iK - G.loadTime,H.preauthreceived=T.$Q - G.loadTime);V=K.filter(function(Ha){return "manifest" === Ha.type;});I.mf_succ=V.filter(O("status",J)).length;I.mf_fail=V.filter(O("status",R)).length;S=G.wd;(0,x.vd)(S.lg) && 0 > S.lg && G.loadTime && (H.ldlsent=S.lc,H.ldlreceived=S.lr);W=K.filter(function(Ha){return "ldl" === Ha.type;});I.ldl_succ=W.filter(O("status",J)).length;I.ldl_fail=W.filter(O("status",R)).length;L=!0;M=[];"notcached" === G.UH && (L=!1,M.push("Missing cached manifest"));this.config().LW || (L=!1,M.push("LDL prefetch disabled"));ia=W.filter(O("status",P)).length;this.config().LW && 0 === ia && (!H.ldlreceived || 0 <= H.ldlreceived) && (L=!1,M.push("LDL received after start"));if(this.config().O2a)if(F.isPrefetchItem){ra=F.prefetchedAudioMs / F.bcABufferLevelMs;if(1 > F.prefetchedVideoMs / F.bcVBufferLevelMs || 1 > ra)(L=!1,M.push("Insufficient media fetched"));}else (L=!1,M.push("aseStats not initialized"));ua=K.filter(function(Ha){return "getHeaders" === Ha.type;});I.header_succ=ua.filter(O("status",J)).length;I.header_fail=ua.filter(O("status",R)).length;Aa=K.filter(function(Ha){return "getMedia" === Ha.type;});I.media_succ=Aa.filter(O("status",J)).length;I.media_fail=Aa.filter(O("status",R)).length;I.hm_succ=I.header_succ + I.media_succ;I.hm_fail=I.header_fail + I.media_fail;(0,n.Fe)(F,I,{prefix:"pr_"});this.fv.MW && (F.eventlist_version=1,F.eventlist=this.yJ.u6a(G));(F.prefetchCompleted=L) || (F.prefetchFailed=M,(0,n.Fe)(F,H,{prefix:"pe_"}));this.Pua(F);}catch(Ha){this.log.warn("error in collecting video prepare data",Ha);}};c.prototype.iUb=function(G,F){if(G=G.nX())if(F=G[F])return F.xa;};c.prototype.i8a=function(G,F){G.ib.di && (F.isBranching=!0);};c.prototype.aJ=function(G,F){var I,L;L=(null === (I=G.fa) || void 0 === I?void 0:I.rva) || "videopreparer" === G.TH;F.cachedManifest=G.UH;F.cachedLicense=G.TH;F.usedldl=this.config().LW?L.toString():"not_capable";};c.prototype.bJ=function(G,F){var I,L;if(this.config().NWb){I=G.qta();L=G.na.fa;I && L && (F.segment=I,L=G.GE(),F.segmenttime=L,G=this.iUb(G,I),null !== L && void 0 !== G && (F.segmentoffset=L - G));}};c.prototype.QE=function(G,F,I){F.pxid=G.Jca;(void 0 === I?0:I) && (F.playgraph_trace=G.neb);};c.prototype.cY=function(G,F){F.hasContentPlaygraph=G.m$();};c.prototype.JWb=function(G,F){var I,L;if(G.m$()){I=G.iE;L=G.fa.$a.vo.ka;F.auxViewables=Object.keys(L.R).map(function(M){return L.R[M].P;}).filter(function(M,K,O){return M !== I && O.indexOf(M) === K;});}};c.prototype.l8a=function(G){var F,I;F=this.j.fpc;I=F && F.erc;F && F.qWb && (G.htwbr=F.qWb,G.pbtwbr=F.Vya,G.hptwbr=F.ipc);F && F.I9b && (G.rr=F.I9b,G.ra=F.$qc);F && I && 0 < (I.length || 0) && (G.qe=JSON.stringify(I));};c.prototype.Kua=function(G){var F,I,L;try{F=this.Ke.createElement("canvas");I=F.getContext("webgl") || F.getContext("experimental-webgl");if(I){L=I.getExtension("WEBGL_debug_renderer_info");L && (G.WebGLRenderer=I.getParameter(L.UNMASKED_RENDERER_WEBGL),G.WebGLVendor=I.getParameter(L.UNMASKED_VENDOR_WEBGL));}}catch(M){}};c.prototype.OWb=function(G){G.switchAwaySummary={vsa:this.uk.summary.xmb,vsb:this.uk.summary.ymb,vsbt:this.uk.summary.zmb,asa:this.uk.summary.tYa,asb:this.uk.summary.uYa,asbt:this.uk.summary.vYa};};c.prototype.dxb=function(G){var F;F=[];return G?Object.keys(G).map(function(I){return +I;}):F;};c.prototype.RA=function(){var G,F;G=this;if(this.j.Wy && this.j.vj){F=[];this.j.Wy.concat(this.j.vj).forEach(function(I){I.streams.forEach(function(L){F.push({dlid:L.Vb,type:L.type,bitrate:L.bitrate,vmaf:L.eb,cdn_ids:G.dxb(L.BW)});});});return JSON.stringify(F);}};c.prototype.$Fb=function(){var F,I,L;function G(M,K){var O,H,J;O=M.cdnId + "$" + M.correlationId;H=L[O];H || (H={cdnid:M.cdnId,pbcid:M.correlationId,dls:[]},L[O]=H,I.push(H));(0,l.fO)(M.bitrate);(0,l.fO)(M.duration);O={bitrate:M.bitrate,tm:(0,w.mp)(M.duration)};J=M.vmaf;J && ((0,l.fO)(M.vmaf),O.vf=J);O[K]=(0,n.nk)(M.downloadableId);H.dls.push(O);}F=this.j.Am.rRb();I=[];L={};F.audio.forEach(function(M){G(M,"adlid");});F.video.forEach(function(M){G(M,"dlid");});return JSON.stringify(I);};c.prototype.SZ=function(){var G,F,I,L,M,K,O,H,J,R,P,T,V;G=this.j.Am;F={totaltime:(0,n.tn)(G.$s("content")),totalcontenttime:(0,n.tn)(G.MX("content")),totaladtime:(0,n.tn)(G.$s("ads")),totalothertime:(0,n.tn)(G.$s("other")),cdndldist:this.$Fb(),reposcount:this.z_,intrplaycount:this.UE};try{I={numskip:0,numlowqual:0};L=this.j.tf;M=L.aB();(0,x.Oa)(M) && (F.totfr=M,I.numren=M);M=L.JI();(0,x.Oa)(M) && (F.totdfr=M,I.numrendrop=M);M=L.qX();(0,x.Oa)(M) && (F.totcfr=M,I.numrenerr=M);F.playqualvideo=JSON.stringify(I);K=this.j.xf.value;K && (F.videofr=K.framerate.toFixed(3));O=G.ssa();O && (F.abrdel=O);H=G.t$() && G.K4a();H && (F.tw_vmaf=H);J=G.I4a();J && (0,n.Fe)(F,J);F.rbfrs=this.UE;F.maxbitrate=this.maxBitrate;F.maxresheight=this.Pab;R=this.j.IE();for(G=0;G < R.length;G++){P=R[G];T=this.Aa.bQ.nC(P);if(T){(0,l.Ka)(V);F.maxbitrate=V?V.bitrate:0;F.maxresheight=V?V.height:0;F.bitratefilters=T.join("|");break;}V=P;}this.j.yC && (F.trickplay=this.j.yC.dP());null !== this.j.ep.TYa && (F.avg_subt_delay=this.j.ep.TYa);}catch(S){this.log.error("Exception reading some of the endplay fields",S);}(0,n.Fe)(F,this.j.d$(),{prefix:"vd_"});return F;};c.prototype.getTime=function(){return this.Fa.Rb().ja(h.sa);};c.prototype.Cta=function(){return this.getTime() - this.Aa.Ij.ja(h.sa);};c.prototype.Pua=function(G){var F;try{F=this.Bd.getStats();G.pr_cache_size=JSON.stringify(F.cache);G.pr_stats=JSON.stringify(F.SQb);}catch(I){}};c.prototype.Lua=function(G){this.log.debug("httpstats",this.pf.bc);(0,n.Fe)(G,this.pf.bc,{prefix:"http_"});};c.prototype.Hua=function(G,F){var I,L,M;I=this.config().l1a && !(this.qa % this.config().l1a);L=this.j.nb;M=null === L || void 0 === L?void 0:L.Ri;I && M && (G.ASEstats=JSON.stringify(L.cva(F)));};c.prototype.G$=function(G){Object.assign(G,this.j.nb.yc.GUb());};c.prototype.Oua=function(G){var F;try{F=w.Hw.memory;(0,x.H9a)(F) && (G.totalJSHeapSize=F.totalJSHeapSize,G.usedJSHeapSize=F.usedJSHeapSize,G.jsHeapSizeLimit=F.jsHeapSizeLimit);}catch(I){}};c.prototype.h8a=function(G){var F;try{if(this.config().QV){F=this.j.zRb();G.battery=F;this.log.trace("batterystatuses",F);}}catch(I){}};c.prototype.KWb=function(G){this.j.Y7 && (G.dqec=this.j.Y7);};c.prototype.Nua=function(G){var F,I,L;(null === (F=this.j.bf) || void 0 === F?0:F.yX)?G.keysys=this.j.bf.yX():(null === (L=null === (I=this.j.bf) || void 0 === I?void 0:I.mediaKeys) || void 0 === L?0:L.keySystem)?G.keysys=this.j.bf.mediaKeys.keySystem:this.ZP.$9a && (G.keysys=this.ZP.$9a);};c.prototype.Mua=function(G){var F;if(null === (F=this.j.bf) || void 0 === F?0:F.O5a)G.keystatus=this.j.bf.Rva;};c.prototype.LWb=function(G){this.rra && (G.externaldisplay=this.rra.IO);};c.prototype.MWb=function(G){var F,I;if(this.eEa){F=this.eEa.map(function(L){return L.fd;}).filter(function(L){return void 0 !== L;});I=(0,y.axa)(F,function(L){return L.height;});I && (G.media_capabilities_smooth=I.smooth,G.media_capabilities_efficient=I.powerEfficient,G.media_capabilities_bitrate=I.bitrate,G.media_capabilities_height=I.height,G.media_capabilities_width=I.width);G.media_capabilities=F.map(function(L){return {smooth:L.smooth,efficient:L.powerEfficient,bitrate:L.bitrate,height:L.height,width:L.width};});}};c.prototype.PWb=function(G){G.didHydrateTracks=this.j.l8;};c.prototype.$Yb=function(){void 0 === this.rra && (this.rra=this.sra.oPb());};c.prototype.aZb=function(G){var F;F=this;void 0 === this.eEa && void 0 !== G && (this.eEa=G.map(function(I){return F.mxa.wra(I);}));};c.prototype.r9=function(G,F){(F=this.j.cB(F)) && Object.entries(F).forEach(function(I){var L;L=ma(I);I=L.next().value;L=L.next().value;G[I]=L;});};c.prototype.Jc=function(G,F,I,L){var M,K;K=F?"error":"info";F && this.j.$i && (0,p.cha)(this.j.$i.errorCode,this.j.$i.za,this.Cta(),null === (M=this.j.tf) || void 0 === M?void 0:M.aB()) && (K="info");this.Tma(L,this.j,F,I);G=this.yB.Qu(G,K,L,this.Aa);this.Eg.Jc(G);};c.prototype.H$=function(G,F){var I,L;L=null === (I=F.nb) || void 0 === I?void 0:I.RKb;(I=L && (null === L || void 0 === L?void 0:L.P) !== F.iE) && !G.auxMid && (G.auxMid=L.P);I && !G.auxPlaybackcontextid && (G.auxPlaybackcontextid=F.vn(L.P).Ug);};c.prototype.Tma=function(G,F,I,L){var M,K,O,H,J;this.Gc.H$(G,F);this.H$(G,F);L & E.We && ((0,l.Ka)(!G || void 0 === G.moff),this.Gc.m8a(G,F,F.m$()));L & E.qu && this.Gc.o8a(G,F);L & E.nj && (null === (M=F.nb) || void 0 === M?0:M.Ri) && (G.abuflbytes=null !== (K=G.abuflbytes) && void 0 !== K?K:F.Fna(),G.abuflmsec=null !== (O=G.abuflmsec) && void 0 !== O?O:F.tV(),G.vbuflbytes=null !== (H=G.vbuflbytes) && void 0 !== H?H:F.dEa(),G.vbuflmsec=null !== (J=G.vbuflmsec) && void 0 !== J?J:F.Z0());L & E.ru && this.Gc.p8a(G,F.Zo);L & E.iG && (M=w.Xe.hardwareConcurrency,0 <= M && (G.numcores=M),M=this.Aa.Iqa) && (K=M.tsa(),G.droppedFrames=JSON.stringify(K),M=M.QI(this.config().fNb),(0,n.ph)(M,function(R,P){G["droppedFramesP" + R]=JSON.stringify(P);}));if(L & E.O1)try{F.Rg && (G.cdninfo=JSON.stringify(F.Rg.map(function(R){return {id:R.id,nm:R.name,rk:R.ec,wt:R.location.weight,lv:R.location.level};})));}catch(R){}I && L & E.lG && ((0,l.Ka)(F.$i),this.Gc.k8a(G,F,F.$i));L & E.Aq && this.Gc.Jua(G);};Ua.Object.defineProperties(c.prototype,{Mlb:{configurable:!0,enumerable:!0,get:function(){return this.j.Gx || this.j.tO;}}});b.hT=c;(function(G){G[G.We=1]="MOFF";G[G.qu=2]="PRESENTEDSTREAMS";G[G.nj=4]="BUFFER";G[G.ru=8]="SCREEN";G[G.iG=16]="CPU";G[G.O1=32]="CDN";G[G.lG=64]="FATALERROR";G[G.Aq=128]="BROWSERINFO";})(E || (E={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QHa="DownloadReportBuilderSymbol";},function(r,b,a){var g,k,m,f,d,l,n,h,p;function c(q){this.config=q;}Object.defineProperty(b,"__esModule",{value:!0});b.PHa=void 0;r=a(0);g=a(201);k=a(91);m=a(25);f=a(3);d=a(23);l=a(13);n=a(15);h=a(1);a=a(12);c.prototype.construct=function(q,t){var v,w,u;v=this;w={};q.forEach(function(x){var y;y=x.url;w[y] || (w[y]=[]);w[y].push(x);});u=[];(0,m.ph)(w,function(x,y){u.push(v.QUb(y,t));});return {urls:u};};c.prototype.QUb=function(q,t){var v,w,u,x;v=this;w=q[0];u={url:w.url,bitrate:w.bitrate,cdnid:(0,n.ek)(w.Ac)?w.Ac.id:w.Ac,dltype:w.GMb,id:w.Vb};x={};q.forEach(function(y){var z;z=v.UXb(y)?"fail":"success";x[z] || (x[z]=[]);x[z].push(y);});(0,m.ph)(x,function(y,z){"fail" === y?u.failures=v.rSb(z,t):"success" === y && (u.downloads=v.jSb(z,t));});return u;};c.prototype.jSb=function(q,t){var v,w,u;v=this;w={};q.forEach(function(x){var y;y=x.bHb;w[y] || (w[y]=[]);w[y].push(x);});u=[];(0,m.ph)(w,function(x,y){var z;z=[];y.forEach(function(A){z.push(A);v.EXb(A) && (u.push(v.m5a(z,t,x)),z=[]);});0 < z.length && u.push(v.m5a(z,t,x));});return u;};c.prototype.m5a=function(q,t,v){var w,u,x,y,A;w=q.sort(function(B,C){return B.wm.hj < C.wm.hj?-1:B.wm.hj > C.wm.hj?1:0;});u=w[0].wm;x=u.Ur;y=u.hj;u=u.mq;for(var z=1;z < q.length;z++){A=q[z].wm;A.Ur < x && (x=A.Ur);A.hj < y && (y=A.hj);A.mq > u && (u=A.mq);}z=this.UTb(w);A=w[w.length - 1];return {time:x - t,tcpid:v?parseInt(v):-1,tresp:y - x,first:z,ranges:this.VTb(w,z),dur:u - y,trace:this.HE(q),status:this.dP(A)};};c.prototype.UTb=function(q){var t;t=0;q.forEach(function(v){v.It && (t=(0,l.uz)(t,v.It[0]));});return t;};c.prototype.VTb=function(q,t){var v;v=[];q.forEach(function(w){w.It?v.push([w.It[0] - t,w.It[1] - t]):v.push([0,-1]);});return v;};c.prototype.HE=function(q){var t,v;t=[];q.forEach(function(w){var u;w=w.wm;if(v){u=w.Ur - v.mq;0 < u && t.push([u,-2]);u=(0,l.ou)(v.mq,w.Ur);u=w.hj - u;0 < u && t.push([u,-3]);}t.push([w.mq - w.hj,w.aW || 0]);v=w;});return t;};c.prototype.EXb=function(q){if(q.za === f.X.SC || q.za === f.X.qG)return !0;};c.prototype.dP=function(q){if(q.ga)return "complete";if(q.za === f.X.SC)return "abort";if(q.za === f.X.qG)return "stall";(0,d.Ka)(!1,"download status should never be: other");return "other";};c.prototype.rSb=function(q,t){var v,w;v=this;w=[];q.forEach(function(u){var x;x=u.wm;u={time:x.hj - t,tresp:x.hj - x.Ur,dur:x.mq - x.hj,range:u.It,reason:v.XTb(u),httpcode:u.Dl,nwerr:(0,g.kta)(u.za)};w.push(u);});return w;};c.prototype.XTb=function(q){return q.Dl || q.za === f.X.WS?"http":q.za === f.X.YS?"timeout":"network";};c.prototype.UXb=function(q){return q.ga || void 0 === q.ga || q.za === f.X.SC || q.za === f.X.qG?!1:!0;};c.prototype.THb=function(q){var t,v,w,u,x,y;t=q.request;v=t.stream;w=t.track;u=t.url;x=this.gSb(w,u);switch(x){case k.oj.audio:case k.oj.video:y=t.stream.Vb;break;case k.oj.Nea:case k.oj.uDa:y=w.Vb;}q={bitrate:v && v.bitrate,GMb:x,Vb:y,wm:q.wm,Ac:t.Ac,url:u,Rf:q.Rf,Dl:q.Dl,za:q.za,ga:q.ga,bHb:this.ZOb(q)};void 0 !== t.offset && void 0 != t.length && (q.It=[t.offset,t.offset + t.length - 1]);return q;};c.prototype.gSb=function(q,t){if(q)return q.type;if(0 <= t.indexOf("netflix.com")){if(0 <= t.indexOf("nccp"))return "nccp";if(0 <= t.indexOf("api"))return "api";}return "other";};c.prototype.ZOb=function(q){if(q.headers && (q=q.headers["x-tcp-info"]))return (q=q.split(";").filter(function(t){return 0 == t.indexOf("port=");}).map(function(t){return t.split("=")[1];})[0])?(0,m.nk)(q):q;};p=c;p=r.__decorate([(0,h.aa)(),r.__param(0,(0,h.l)(a.Lc))],p);b.PHa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jT="LogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CTa="XhrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wNa="NetworkMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vNa="NetworkMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dJa="FtlDataParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hKa="HttpRequesterSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pOa="PboAcquireLicenseCommandSymbol";},function(r,b,a){var f,d,l,n,h,p;function c(q){var t;q=new l.MS(q);if(1481462272 != q.Sr())throw Error("Invalid header");t={XMR:{Version:q.Sr(),RightsID:q.Dy(16)}};g(q,t.XMR,q.buffer.length);return t;}function g(q,t,v){var w,u,x,y,z;for(;q.position < v;){w=q.gi();u=q.Sr();u-=8;switch(w){case 1:x="OuterContainer";break;case 2:x="GlobalPolicy";break;case 3:x="MinimumEnvironment";break;case 4:x="PlaybackPolicy";break;case 5:x="OutputProtection";break;case 6:x="UplinkKID";break;case 7:x="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:x="AnalogVideoOutputConfiguration";break;case 9:x="KeyMaterial";break;case 10:x="ContentKey";break;case 11:x="Signature";break;case 12:x="DeviceIdentification";break;case 13:x="Settings";break;case 18:x="ExpirationRestriction";break;case 42:x="ECCKey";break;case 48:x="ExpirationAfterFirstPlayRestriction";break;case 50:x="PlayReadyRevocationInformationVersion";break;case 51:x="EmbeddedLicenseSettings";break;case 52:x="SecurityLevel";break;case 54:x="PlayEnabler";break;case 57:x="PlayEnablerType";break;case 85:x="RealTimeExpirationRestriction";break;default:x="Other";}y={Type:k(w)};z=t[x];z?(0,p.isArray)(z)?z.push(y):(t[x]=[],t[x].push(z),t[x].push(y)):t[x]=y;switch(w){case 1:case 2:case 4:case 7:case 9:case 54:g(q,y,q.position + u);break;case 5:y.Reserved1=q.gi();y.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.gi();y.MinimumAnalogVideoOutputProtectionLevel=q.gi();y.Reserved2=q.gi();y.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.gi();break;case 10:y.Reserved=q.Dy(16);y.SymmetricCipherType=q.gi();y.AsymmetricCipherType=q.gi();u=q.gi();y.EncryptedKeyLength=u;w=q.Dy(u);y.EncryptedKeyData=10 >= u?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 11:y.SignatureType=q.Dy(2);u=q.gi();w=q.Dy(u);y.SignatureData=10 >= u?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 13:y.Reserved=q.gi();break;case 18:y.BeginDate=q.Sr();y.EndDate=q.Sr();break;case 42:y.CurveType=q.Dy(2);u=q.gi();w=q.Dy(u);y.Key=10 >= u?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 48:y.ExpireAfterFirstPlay=q.Sr();break;case 50:y.Sequence=q.Sr();break;case 51:y.LicenseProcessingIndicator=q.gi();break;case 52:y.MinimumSecurityLevel=q.gi();break;case 57:y.PlayEnablerType=m(q.Dy(16));break;case 85:break;default:y.OtherData=q.Dy(u);}}}function k(q){return "0x" + q.toString(16);}function m(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.kLb=b.lLb=b.jLb=b.iLb=b.hLb=void 0;f=a(17);d=a(9);l=a(171);n=a(203);h=a(530);p=a(15);b.hLb=function(q,t,v){switch(t){case f.n2:q && (q=(0,d.XYa)(q),(0,h.Omb)(q,function(w){w.ga && (w=w.object) && (w=(0,n.j5a)(w,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (w=(0,n.Edb)(w)) && (w=(0,d.Hs)(w)) && (w=c(w)) && v(w);}));}};b.iLb=c;b.jLb=g;b.lLb=k;b.kLb=m;},function(r,b,a){var c,g,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.Omb=void 0;c=a(9);g=a(3);k=a(531);m=a(532);f=a(58);b.Omb=function(d,l){var n,h;try{h=(0,k.Pmb)(d);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,f.yg)(function(){if(h && h.documentElement)try{n=(0,m.Qmb)(h);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,f.yg)(function(){n?l({ga:!0,object:n}):l({ga:!1,za:g.X.Iqb});});});};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Pmb=void 0;c=a(9);g=a(15);b.Pmb=function(k){var m,f;if((0,g.HP)(k)){m=new DOMParser().parseFromString(k,"text/xml");f=m.getElementsByTagName("parsererror");if(f && f[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(f[0]),xmlData:k.slice(0,300),fileSize:k.length});}catch(d){}throw Error("xml parser error");}return m;}throw Error("bad xml text");};},function(r,b,a){var g;function c(k){var m,f,d,l,n,h,p;f={};f[g.tEa]=k.localName;d={};f[g.p1]=d;l=[];f[g.Lmb]=l;n=k.attributes;h=n.length;for(m=0;m < h;m++){p=n[m];d[p.localName]=p.value;}k=k.childNodes;h=k.length;d={};for(m=0;m < h;m++){switch((n=k[m],n.nodeType)){case b.Tmb:n=c(n);p=n[g.tEa];n[g.Mmb]=f;l.push(n);f[p]?d[p][g.Nmb]=n:f[p]=n;d[p]=n;break;case b.Umb:case b.Rmb:(n=n.text || n.nodeValue,l.push(n),f[g.az] || (f[g.az]=n));}}return f;}Object.defineProperty(b,"__esModule",{value:!0});b.Smb=b.Rmb=b.Umb=b.Pgc=b.Tmb=b.Qgc=b.Qmb=void 0;g=a(203);b.Qmb=function(k){return c(k.nodeType == b.Smb?k.documentElement:k);};b.Qgc=c;b.Tmb=1;b.Pgc=2;b.Umb=3;b.Rmb=4;b.Smb=9;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cPa="PboReleaseLicenseCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FOa="PboLicenseRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vOa="PboCachedPlaydataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LPa="PlaydataConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oia={vY:"keepAlive",splice:"splice"};b.BOa="PboEventSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WOa="PboPlaydataPlaybackMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dIa="DxDisplaySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gIa="DxManagerSymbol";b.fIa="DxManagerProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ILa="LogDisplayConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zTa="WindowUtilsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oPa="PlayPredictionDeserializerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xQa="PreparerManifestFetcherSymbol";b.wQa="PreparerLicenseFetcherSymbol";b.vQa="PreparerLegacyLicenseFetcherSymbol";},function(r,b,a){var g,k,m,f;function c(d){this.Gn=d;}Object.defineProperty(b,"__esModule",{value:!0});b.mja=b.kQa=void 0;r=a(0);g=a(19);k=a(1);m=a(120);f=a(38);c.prototype.pab=function(d){var l,n;l=this;if(d.ie.key.ka)return Promise.resolve(d.ie.key.ka);n=d.ie.key.P;return d.ie.th.Xs(n).du.then(function(h){h=h.fa;return h.qo?(0,f.w7)(h.qo,{config:g.config}):(0,f.kea)(n,l.Gn.Ws(n));});};a=c;a=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(m.RL))],a);b.kQa=a;b.mja="PlaygraphResolverSymbol";},function(r,b){function a(c){this.Dx=void 0 === c?function(){}:c;this.Yy=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.ika=void 0;a.prototype.store=function(c,g){var k,d;k=this.generateKey(c);this.Yy.has(k) && this.aya(this.Yy.get(k),!0);if(!c.Eh)for(var m=ma(this.Yy),f=m.next();!f.done;f=m.next()){d=ma(f.value);f=d.next().value;d=d.next().value;f.includes(":" + c.P + ":") && (this.aya(d,!0),this.Yy.delete(f));}this.Yy.set(k,g);};a.prototype.Xs=function(c,g){var k,m,f;f=null === (k=null === g || void 0 === g?void 0:g.wl) || void 0 === k?void 0:k.Oe;k=null === (m=null === g || void 0 === g?void 0:g.wl) || void 0 === m?void 0:m.Eh;m={P:c,Eh:k,Oe:f};this.has(m) || this.Dx(c,g);return this.get(m);};a.prototype.has=function(c){c=this.generateKey(c);return this.Yy.has(c) && !this.Yy.get(c).Ix;};a.prototype.clear=function(){var c;c=this;this.Yy.forEach(function(g){c.aya(g,!1);});this.Yy.clear();};a.prototype.get=function(c){return this.Yy.get(this.generateKey(c));};a.prototype.generateKey=function(c){var g,k;g=c.Oe;k=c.Eh;return c.P.toString() + (k?":" + k:"") + (g?":" + g:"");};a.prototype.aya=function(c,g){var k;null === (k=c.events) || void 0 === k?void 0:k.emit("viewableEvicted",{type:"viewableEvicted"});c.SCa=g;};b.ika=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JMa="MediaHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PNa="OpenConnectSideChannelSymbol";b.TMa="MediaRequestDownloaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RMa="MediaRequestConstructorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zOa="PboDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JSa="TransportFactorySymbol";b.kNa="MslTransportSymbol";b.SRa="SslTransportSymbol";},function(r,b,a){var l,n;function c(h){return !(!h || !h.sF && !h.pboc || !h.code && !h.code);}function g(h){return !(!h || !h.Kc);}function k(h){return ! !(h instanceof Error);}function m(h){switch(h){case "ACCOUNT_ON_HOLD":return n.X.htb;case "STREAM_QUOTA_EXCEEDED":return n.X.qtb;case "INSUFFICICENT_MATURITY":return n.X.vtb;case "TITLE_OUT_OF_WINDOW":return n.X.Ctb;case "CHOICE_MAP_ERROR":return n.X.ptb;case "BadRequest":return n.X.xtb;case "Invalid_SemVer_Format":return n.X.wtb;case "RESTRICTED_TO_TESTERS":return n.X.Atb;case "AGE_VERIFICATION_REQUIRED":return n.X.ntb;case "BLACKLISTED_IP":return n.X.otb;case "DEVICE_EOL_WARNING":return n.X.Dia;case "DEVICE_EOL_FINAL":return n.X.RNa;case "INCORRECT_PIN":return n.X.VNa;case "MOBILE_ONLY":return n.X.ztb;case "MDX_CONTROLLER_CTICKET_INVALID":return n.X.ytb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return n.X.Dtb;case "RESET_DEVICE":return n.X.UNa;case "RELOAD_DEVICE":return n.X.TNa;case "EXIT_DEVICE":return n.X.SNa;case "FREE_PREVIEW_ENDED":return n.X.utb;case "STREAMING_LOCATION_DISALLOWED":return n.X.Btb;case "EXTRA_MEMBER_STREAM_HOLD":return n.X.ttb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return n.X.stb;case "ADS_UNAVAILABLE_VIEWABLE":return n.X.itb;case "ADS_UNSUPPORTED_DEVICE":return n.X.ltb;case "ADS_UNSUPPORTED_CLIENT_APP_VERSION":return n.X.jtb;case "ADS_UNSUPPORTED_COUNTRY":return n.X.ktb;case "ADS_VPN_USE_DETECTED":return n.X.mtb;default:return n.X.jJa;}}function f(h,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new l.od(h,m(p.code),"BadRequest" === p.code?n.n3.Znb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag);}function d(h,p){return new l.od(h,p.Kc,p.Yd,void 0,p.LB,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.yZa=b.zZa=b.GQb=b.LQb=b.un=b.KQb=b.mY=b.NXb=b.p9a=void 0;l=a(36);n=a(3);b.p9a=c;b.NXb=g;b.mY=k;b.KQb=m;b.un=function(h,p){return g(p)?d(h,p):c(p)?f(h,p):k(p)?l.od.esa(h,p):new l.od(h,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.LQb=f;b.GQb=d;b.zZa=function(h,p,q,t,v){var w,u,x,y;w=p.zhb[q];if(void 0 === w)throw {sF:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};u=w.version;if(void 0 === u)throw {sF:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};x=w.service;if(void 0 === x)throw {sF:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};y=w.orgOverride;if(void 0 === y && (y=p.organization,void 0 === y))throw {sF:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return w.isPlayApiDirect?h.FTb(t) + "/" + y + "/" + x + "/" + u:h.tTb(t) + "/" + y + "/" + x + "/" + u + "/" + (void 0 === v?"router":v);};b.yZa=function(h,p){var q;q={"Content-Type":"text/plain"};p=p();h.KXa && p && (q["X-Esn"]=p.El);return q;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ePa="PboRequestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OSa="TrickPlayManagerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hq=void 0;r=b.Hq || (b.Hq={});r[r.F3=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.uG=2]="LOADED";r[r.cT=3]="LOAD_FAILED";r[r.QNa=4]="PARSE_FAILED";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NFa="BandwidthMeterFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DPa="PlaybackInfoPanelFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XQa="RepositionTraceSymbol";b.VQa="RepositionTraceFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KEa="AdManagerFactorySymbol";},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D,E,G,F,I,L,M,K,O,H,J,R,P,T,V,S,W,ia,ra,ua,Aa,Ha;function c(N,Q,U,Z,qa,Fa,Oa,Ra,Pa,Va,bb,Ab,tb,Db,Na,Xa,Wa,fb,kb,vb,Jb,Ob,Sb,Eb,Ib,Rb,tc,bd,Rd,Ef,Ff,Gf,Hf,Sd){var wb,If;function $e(rb){rb.newValue && rb.newValue.stream && (wb.Ge.removeListener($e),wb.R$=rb.newValue.stream.bitrate);}function af(rb){rb.newValue !== P.qb.pg && rb.newValue !== P.qb.Oi && (wb.Eb.removeListener(af),wb.rB=wb.Ba.xK,wb.Lb.Uc(P.ma.Ov));}function bf(rb){rb.newValue !== P.qb.pg && (wb.Eb.removeListener(bf),wb.Bm=!0,wb.TZ=wb.Ba.Hf.ja(D.sa),wb.Lb.Uc(P.ma.Bm));}wb=this;this.ub=qa;this.nl=Fa;this.lB=Oa;this.Fa=Pa;this.OD=Va;this.Ba=bb;this.RY=Ab;this.Swa=Na;this.QP=Xa;this.Bd=Wa;this.Ei=fb;this.Jj=kb;this.EN=vb;this.UZ=Jb;this.kk=Ob;this.tDa=Sb;this.Eg=Eb;this.Ke=Ib;this.iza=Rb;this.En=tc;this.lgb=bd;this.Bna=Rd;this.yJ=Ef;this.Tya=Ff;this.Sma=Gf;this.wN=Hf;this.neb=[];this.Lr=new Map();this.Ec=new q.cc(null);this.Lh=new q.cc(null);this.Tb=new q.cc(null);this.tj=new q.cc(null);this.fw=new q.cc(void 0);this.xf=new q.cc(null);this.Vh=new q.cc(null);this.mediaTime=new q.cc(void 0);this.playbackRate=new ra.HPa(1,t.config.fxa);this.hlb=function(rb){return wb.Ec.set(rb.newValue);};this.kfc=function(rb){return wb.Lh.set(rb.newValue);};this.ifc=function(rb){return wb.Tb.set(rb.newValue);};this.Dec=function(rb){return wb.tj.set(rb.newValue);};this.hfc=function(rb){return wb.fw.set(rb.newValue);};this.jfc=function(rb){return wb.xf.set(rb.newValue);};this.Fec=function(rb){return wb.Vh.set(rb.newValue);};this.$ec=function(rb){return wb.Ge.set(rb.newValue);};this.Zec=function(rb){return wb.Xf.set(rb.newValue);};this.Wec=function(rb){return wb.mediaTime.set(rb.newValue);};this.ffa=function(rb){return wb.playbackRate.set(rb.newValue);};this.ik={};this.PAa=this.kDa=0;this.Lb=new v.yk();this.rfa={};this.l0=this.feb=this.Bm=!1;this.$F=new q.cc(void 0);this.state=new q.cc(P.dc.ML);this.qk=new q.cc(!1);this.paused=new q.cc(!1);this.muted=new q.cc(!1);this.volume=new q.cc(t.config.CLb / 100);this.Eb=new q.cc(P.qb.pg);this.xg=new q.cc(P.Zf.Qd);this.Gs=new q.cc(P.Zf.Qd);this.Un=new q.cc(P.Zf.Qd);this.Xf=new q.cc(null);this.Ge=new q.cc(null);this.poa=new q.cc(null);this.B$=(0,h.fKa)(this);this.Ac=[new q.cc(null),new q.cc(null)];this.Wna={};this.tO=!1;this.Va=this.el=-1;this.zta=function(rb,Ub){var Ic;rb=void 0 === rb?null:rb;return (0,M.Oa)(rb)?Ub && !wb.dk(Ub).fa?rb:(null === (Ic=wb.nb) || void 0 === Ic?0:Ic.Ri)?wb.nb.HA(rb):rb:null;};this.Ncb=function(){wb.rCa();};this.iE=N;this.addEventListener=this.Lb.addListener;this.removeEventListener=this.Lb.removeListener;this.fireEvent=this.Lb.Uc;this.bna({P:N,Y:Z,ib:U || ({})},t.config.Dt?this.Bd.ov(N):void 0,Q);this.log=(0,C.aj)(this);this.Q1a=Ra(this);this.sEb=tb(this);this.Zo=(0,J.createElement)("DIV",p.wja,void 0,{id:this.K});this.bXb();this.kd=this.log.N7("Playback");(0,m.lPa)(this);x.cD.Jbb=this;x.cD.Sra || (x.cD.Sra=this);this.kd.info("Playback created",this.Dh);this.Awa?this.kd.info("Playback selected for trace playback info logging"):this.kd.trace("Playback not selected for trace playback info logging");t.config.Dt && (this.Bd.oVb(this.K),this.addEventListener(P.ma.Ov,function(){wb.Bd.pVb(wb.K);wb.Tb.addListener(function(){wb.Bd.p7a();});wb.Ec.addListener(function(){wb.Bd.p7a();});}),this.addEventListener(P.ma.ih,function(){wb.Bd.nVb(wb.K);}));this.state.addListener(function(rb){wb.kd.info("Playback state changed",{From:rb.oldValue,To:rb.newValue});(0,G.Ka)(rb.newValue > rb.oldValue);});u.nf.addListener(u.Lo,this.Ncb,p.K3);If=Db((0,D.Hh)(1));this.mediaTime.addListener(function(){wb.YPb();If.Wl(function(){return wb.Q3a();});});this.Eb.addListener(function(rb){wb.kd.info("PresentingState changed",{From:rb.oldValue,To:rb.newValue,MediaTime:(0,F.Rj)(wb.mediaTime.value)},wb.Gv());});this.Eb.addListener(function(){wb.qk.set(wb.Eb.value === P.qb.Wc);});this.xg.addListener(function(rb){wb.kd.info("BufferingState changed",{From:rb.oldValue,To:rb.newValue,MediaTime:(0,F.Rj)(wb.mediaTime.value)},wb.Gv());});this.Gs.addListener(function(rb){wb.kd.info("AV BufferingState changed",{From:rb.oldValue,To:rb.newValue,MediaTime:(0,F.Rj)(wb.mediaTime.value)},wb.Gv());});this.Un.addListener(function(rb){wb.kd.info("Text BufferingState changed",{From:rb.oldValue,To:rb.newValue,MediaTime:(0,F.Rj)(wb.mediaTime.value)},wb.Gv());});this.Ec.addListener(function(rb){(0,G.Ka)(rb.newValue && rb.newValue.bj);wb.kd.info("AudioTrack changed",rb.newValue && ({ToBcp47:rb.newValue.Ef,To:rb.newValue.trackId}),rb.oldValue && ({FromBcp47:rb.oldValue.Ef,From:rb.oldValue.trackId}),{MediaTime:(0,F.Rj)(wb.mediaTime.value)});});this.Tb.addListener(function(rb){(0,G.Ka)(!rb.newValue || rb.newValue.bj);wb.kd.info("TimedTextTrack changed",rb.newValue?{ToBcp47:rb.newValue.Ef,To:rb.newValue.trackId}:{To:"none"},rb.oldValue?{FromBcp47:rb.oldValue.Ef,From:rb.oldValue.trackId}:{From:"none"},{MediaTime:(0,F.Rj)(wb.mediaTime.value)});});this.Eb.addListener(bf,p.OL);this.Eb.addListener(af);this.addEventListener(P.ma.Ov,function(){wb.l0=!0;wb.Wib=wb.OV();wb.Qe("start");});this.Ge.addListener($e);(0,B.xPa)(this);x.pp.push(this);t.config.w_ && (this.yca=this.iza(this),this.Bca=new z.JPa(this));x.cja.forEach(function(rb){rb(wb);});this.lCb=function(){wb.addEventListener(P.ma.hK,function(rb){var Ub;rb=rb.cause;rb !== P.Me.Bw && rb !== P.Me.WL && (null === (Ub=wb.nb) || void 0 === Ub?void 0:Ub.stop());});wb.addEventListener(P.ma.cl,function(rb){var Ub,Ic,cf,Jf,Ac,Td,Kf,Ud,df,Lf;wb.lgb.cl(rb);cf=rb.cause;Jf=rb.skip;Ac=rb.Jba;Td=rb.kya;Kf=rb.K;Ud=rb.Pk;wb.na.Am.dya(Td,Ac);if(cf !== P.Me.WL && cf !== P.Me.Bw)if(Jf){if(null !== (Ub=wb.nb) && void 0 !== Ub && Ub.Wh(Ac)){wb.kd.trace("Repositioned. Skipping from " + Td + " to " + Ac);rb=function(Vb){wb.log.error("streamingSession.skipped threw an exception",Vb);Vb=T.od.esa(E.$.fnb,Vb);wb.Ft(Vb.code,Vb);};try{wb.nb.Pn(Ac).then(function(Vb){var Jc;Vb.yP || (null === (Jc=wb.nb) || void 0 === Jc?void 0:Jc.play());}).catch(rb);}catch(Vb){rb(Vb);}}else wb.log.error("can skip returned false");}else {wb.kd.trace("Repositioned. Seeking from " + Td + " to " + Ac);try{df=wb.ub.S9(wb.na);Lf=Object.keys(df.R).find(function(Vb){var Jc;Vb=df.R[Vb];return Vb.P === Kf && Vb.xa <= Ud && (null !== (Jc=Vb.wa) && void 0 !== Jc?Jc:Infinity) > Ud;});null === (Ic=wb.nb) || void 0 === Ic?void 0:Ic.rK(Ud,Lf);}catch(Vb){wb.log.error("streamingSession.seekByContentPts threw an exception",Vb);Ac=T.od.esa(E.$.dnb,Vb);wb.Ft(Ac.code,Ac);}}});};this.playbackRate.addListener(function(){var rb,Ub;if(null === (rb=wb.nb) || void 0 === rb?0:rb.Ri)null === (Ub=wb.nb) || void 0 === Ub?void 0:Ub.deb();});this.addEventListener(P.ma.tA,function(rb){var Ub;rb.cause == x.$ia && (wb.xg.set(P.Zf.Qd),null === (Ub=wb.nb) || void 0 === Ub?void 0:Ub.Zt(wb.tf.r5a()));});Sd && (this.na.fa=Sd,this.kk.o0(N,Sd));}Object.defineProperty(b,"__esModule",{value:!0});b.CPa=void 0;g=a(0);k=a(300);m=a(302);f=a(167);d=a(565);l=a(1335);n=a(1336);h=a(568);p=a(17);q=a(69);t=a(19);v=a(70);w=a(569);u=a(64);x=a(62);y=a(139);z=a(571);A=a(1339);B=a(575);C=a(9);D=a(5);E=a(3);G=a(23);F=a(93);I=a(25);L=a(58);M=a(15);K=a(576);O=a(101);H=a(306);J=a(40);R=a(100);P=a(16);T=a(36);V=a(303);S=a(578);W=a(127);ia=a(1344);ra=a(1345);ua=a(38);Aa=a(60);Ha=a(49);c.prototype.Qe=function(N,Q){var U;Q=void 0 === Q?this.iE:Q;null === (U=this.Lr.get(Q)) || void 0 === U?void 0:U.Qe(N);};c.prototype.mB=function(N){this.na.mB(N);};c.prototype.m$=function(){var N;return !(null === (N=this.fa) || void 0 === N || !N.$a.vo);};c.prototype.j$=function(){var N,Q,U;return !(null === (U=null === (Q=null === (N=this.fa) || void 0 === N?void 0:N.$a.qN) || void 0 === Q?void 0:Q.tg.length) || void 0 === U || !U);};c.prototype.bXb=function(){var N;N=this;this.Ec.addListener(function(Q){return N.na.Ec.set(Q.newValue);});this.Lh.addListener(function(Q){return N.na.Lh.set(Q.newValue);});this.Tb.addListener(function(Q){return N.na.Tb.set(Q.newValue);});this.tj.addListener(function(Q){return N.na.tj.set(Q.newValue);});this.fw.addListener(function(Q){return N.na.fw.set(Q.newValue);});this.xf.addListener(function(Q){return N.na.xf.set(Q.newValue);});this.Vh.addListener(function(Q){return N.na.Vh.set(Q.newValue);});this.Ge.addListener(function(Q){return N.na.Ge.set(Q.newValue);});this.Xf.addListener(function(Q){return N.na.Xf.set(Q.newValue);});this.Ac[Ha.u.V].addListener(function(Q){return N.na.Ac[Ha.u.V].set(Q.newValue);});this.Ac[Ha.u.J].addListener(function(Q){return N.na.Ac[Ha.u.J].set(Q.newValue);});this.mediaTime.addListener(function(Q){return N.na.mediaTime.set(Q.newValue);});this.playbackRate.addListener(function(Q){return N.na.playbackRate.set(Q.newValue);});this.Ogb();};c.prototype.Ogb=function(){var N;N=this;this.na !== this.sBa && (this.na.mediaTime.set(this.mediaTime.value),this.na.playbackRate.set(this.playbackRate.value),this.ds(function(Q){return Q.Ec;},this.hlb),this.ds(function(Q){return Q.Lh;},this.kfc),this.ds(function(Q){return Q.fw;},this.hfc),this.ds(function(Q){return Q.Tb;},this.ifc),this.ds(function(Q){return Q.tj;},this.Dec),this.ds(function(Q){return Q.xf;},this.jfc),this.ds(function(Q){return Q.Vh;},this.Fec),this.ds(function(Q){return Q.Xf;},this.Zec),this.ds(function(Q){return Q.Ge;},this.$ec),this.ds(function(Q){return Q.Ac[Ha.u.V];},function(Q){return N.Ac[Ha.u.V].set(Q.newValue);}),this.ds(function(Q){return Q.Ac[Ha.u.J];},function(Q){return N.Ac[Ha.u.J].set(Q.newValue);}),this.ds(function(Q){return Q.mediaTime;},this.Wec),this.ds(function(Q){return Q.playbackRate;},this.ffa),this.Tb.set(this.na.Tb.value),this.Ec.set(this.na.Ec.value,{WXa:!0}),this.Lh.set(this.na.Lh.value),this.tj.set(this.na.tj.value),this.fw.set(this.na.fw.value),this.xf.set(this.na.xf.value),this.Vh.set(this.na.Vh.value),this.sBa=this.na);};c.prototype.ds=function(N,Q){this.sBa && N(this.sBa).removeListener(Q);N(this.na).addListener(Q);};c.prototype.RFb=function(){var N;return !(null === (N=this.ug) || void 0 === N?0:N.$m.value);};c.prototype.load=function(N){var Q,U;Q=this;this.load=function(){};this.reb=N;if(this.state.value == P.dc.ML){this.kd.info("Playback loading",this);this.i2b();this.Qe("asl_load_start");U=this.OD;N=U.startTime;U=U.endTime;(0,M.vd)(N)?(0,M.vd)(U)?this.Qe("asl_ended"):this.Qe("asl_in_progress"):this.Qe("asl_not_started");this.OD.IY(function(Z){Q.Qe("asl_load_complete");Z.ga?Q.LJb():Q.Ft(Z.errorCode || E.$.Aha,Z);});}};c.prototype.P5b=function(){!1;try{this.state.value === P.dc.LOADING && (this.Alb(),this.cr=this.EN.JCb({cL:(0,D.xc)(this.da),K:this.K,xca:this.Bx,ib:this.ib,qF:this.ib.di?t.config.Fya:t.config.qF}).ja(D.sa),this.Gr.Ya && (this.cr=this.Gr.D4a(this.cr)),this.zna(),this.KKb());}catch(N){this.Ft(E.$.zrb,{za:E.X.Mm,Qb:(0,I.cf)(N)});}};c.prototype.Alb=function(){var N,Q,U;U={width:1,height:1};this.IE({Klb:!0}).forEach(function(Z){U.width * U.height < Z.width * Z.height && (U={width:Z.width,height:Z.height});});U.height === (null === (N=this.$F.value) || void 0 === N?void 0:N.height) && U.width === (null === (Q=this.$F.value) || void 0 === Q?void 0:Q.width) || this.$F.set(U);};c.prototype.ny=function(){var N,Q;!1;Q=this.ub.S9(this);this.G0a(Q);null === (N=this.nb) || void 0 === N?void 0:N.kw(Q);};c.prototype.IJ=function(N){var Q,U;!1;(0,G.Ka)(this.nb,"ASE should be initialized");U=this.ub.CX(N);U?N === this.ub.Yh?this.nb.zx(U,!0,!0) || this.RX(U,{}):null === (Q=this.nb) || void 0 === Q?void 0:Q.jl(N,U,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.RX=function(N,Q,U){var Z,qa,Fa,Oa,Ra;Z=this;U=void 0 === U?!0:U;!1;Oa=this.ub.De(N);if(this.Jj.lfa && this.ub.na.P === Oa.P)return Promise.resolve(this.tf.seek(Oa.xa,P.Me.eD,void 0));Oa=this.nl.jP(Oa.P);Q=(0,O.kba)(Oa.Db,Q);if(null === (qa=this.nb) || void 0 === qa || !qa.Ri)throw (!1,Error("No streaming session"));!1;this.IH("Transition " + this.ub.Yh + "->" + N);Ra=this.dk(N);Ra.Wn=this.Fa.Rb().ja(D.sa);Ra.ib=Q;return "seamless" !== (null !== (Fa=this.ub.De(N).Je) && void 0 !== Fa?Fa:"seamless") || U?(this.nb.DX(N).o7?this.aVb(N,Ra.K):this.N_(N,Ra.K)).then(function(){Z.sQb(Ra.K);}):Promise.resolve();};c.prototype.N_=function(N,Q){var U;U=this.ub.Rl.R[N].xa;!1;this.IH("NO DATA " + N + ", SEEKING " + U + ", viewableId: " + Q);return Promise.resolve(this.tf.seek(U,P.Me.eD,N,!0));};c.prototype.aVb=function(N,Q){var U,Z,qa,Fa,Oa;U=this;!1;Z=this.nb;if(null === Z || void 0 === Z || !Z.Ri)throw Error("No streaming session");qa=new Promise(function(Ra){function Pa(){!1;Z.removeEventListener("stop",Pa);Ra();}Z.addEventListener("stop",Pa);});Fa=!1;Oa=new Promise(function(Ra){function Pa(bb){!1;U.removeEventListener(P.ma.cl,Pa);Fa=bb.skip;Ra();}function Va(){!1;U.removeEventListener(P.ma.hK,Va);Z.stop();}U.addEventListener(P.ma.hK,Va);U.addEventListener(P.ma.cl,Pa);});qa=Promise.all([qa,Oa]).then(function(){var Ra;Ra=!1;Fa && (Ra=Z.zx(N,!1,!0));if(!Ra)return (U.IH("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),U.N_(N,Q));});Oa=Z.cW(N,this.ub.Rl.R[N].xa);!1;this.tf.seek(Oa,P.Me.WL,N,!0);return qa;};c.prototype.bna=function(N,Q,U){var Z,qa,Fa,Oa,Ra,Pa,Va;Q=void 0 === Q?this.lB.JA():Q;U=void 0 === U?this.Fa.Rb():U;Fa=! !t.config.gmb && !(Q % t.config.gmb);Oa=N.P;Ra=N.Y;Pa=N.ib;N=N.Wi;if(this.Lr.has(Oa))Q=this.Lr.get(Oa);else {Q=this.UZ(x.cD.index++,Oa,Ra,Pa,Q,U,Fa,this.na,this.zta,N,this);this.Lr.set(Oa,Q);1 < this.Lr.size && (Q.PP=this.QP.create(this,Q,!1));Q.bQ=new y.WMa(this,Q);Va=null === N || void 0 === N?void 0:N.Oe;(U=null === (qa=null === (Z=this.na.fa) || void 0 === Z?void 0:Z.Iu) || void 0 === qa?void 0:qa.find(function(bb){return bb.$a.K === Oa && (void 0 === Va || bb.$a.Oe === Va);})) && this.Wca(U,Q);1 < this.Lr.size && this.kk.k$(Q.K) && this.$ca(Q);}};c.prototype.F0a=function(N,Q,U){var Z,qa,Fa,Oa,Ra,Pa,Va,bb;Z=this;!1;Pa={kaa:!0,di:!1,XR:Date.now()};(0,G.Ka)(Q.wl,"Auxiliary viewable config request options must have auxiliary options");Va=Q.wl;Q=Va.Oe;Va=Va.Eh;bb=null === (qa=this.vn(Va).fa) || void 0 === qa?void 0:qa.$a;qa={Oe:Q,Hya:this.Ug,Eh:Va,KZ:bb};(0,G.Ka)(null === (Fa=this.nb) || void 0 === Fa?void 0:Fa.Zj,"If we have auxiliary viewables combined playgraph must exist");Fa=Object.keys(null === (Ra=null === (Oa=this.nb) || void 0 === Oa?void 0:Oa.Zj) || void 0 === Ra?void 0:Ra.R).find(function(Ab){var tb,Db;return (null === (Db=null === (tb=Z.nb) || void 0 === tb?void 0:tb.Zj) || void 0 === Db?void 0:Db.R[Ab].P) === N;});(0,G.Ka)(! !Fa,"Segment for the auxiliary viewable should exist in the combined playgraph");this.bna({Wi:qa,ib:Pa,Y:Fa,P:N},U);};c.prototype.gua=function(N){return ! !this.Lr.has(N);};c.prototype.LVb=function(N){try{return (this.dk(N),!0);}catch(Q){return !1;}};c.prototype.vn=function(N){if(N === ua.op)return this.na;if(!this.Lr.has(N))throw Error("Playback segment not found: " + N);return this.Lr.get(N);};c.prototype.dk=function(N){var U,Z,qa,Fa,Oa,Ra;function Q(Pa){for(var Va=ma(U.TJ),bb=Va.next();!bb.done;bb=Va.next()){if((bb=bb.value,bb.Y === Pa))return bb;}}U=this;Ra=Q(N);return Ra?Ra:(null === (qa=null === (Z=this.nb) || void 0 === Z?void 0:Z.Zj) || void 0 === qa?0:qa.R[N]) && (Z=null === (Fa=this.nb) || void 0 === Fa?void 0:Fa.Zj.R[N].uc) && this.ub.Ky(Z)?(Fa=this.ub.De(Z).P,N=null === (Oa=this.nb) || void 0 === Oa?void 0:Oa.Zj.R[N].P,Fa === N && (Ra=Q(Z)),null !== Ra && void 0 !== Ra?Ra:this.vn(N)):this.na;};c.prototype.ITb=function(N){for(var Q,U,Z=ma(this.TJ),qa=Z.next();!qa.done;qa=Z.next()){if((qa=qa.value,(null === (U=null === (Q=qa.bf) || void 0 === Q?void 0:Q.Ib) || void 0 === U?void 0:U.sessionId) === N))return qa;}return this.na;};c.prototype.$ca=function(N){var Q,U;Q=this;!1;U=N.K;this.nl.bac(U);return this.T_(N).then(function(Z){Q.Wca(Z,N);Z=N.jJ?Q.ac.um.mgb(N):Promise.resolve();Q.a6b(N);return Z.then(function(){return Q.nl.Jhb(U);});}).catch(function(Z){Q.log.error("queueManifest failed",Z);Q.nl.aac(U,Z);throw Q.Ei(Z.code,Z);});};c.prototype.tRb=function(){if((0,M.Oa)(this.wd.ats) && (0,M.Oa)(this.wd.at))return this.wd.at - this.wd.ats;};c.prototype.P4a=function(){var N,Q;N=this.Z0();Q=this.tV();return Math.min(N,Q);};c.prototype.AR=function(){this.background || (this.kd.info("Starting inactivity monitor for movie " + this.K),new w.NKa(this));};c.prototype.close=function(N){N && (this.state.value == P.dc.CLOSED?N():this.addEventListener(P.ma.closed,function(){N();}));this.rCa();};c.prototype.Md=function(N,Q,U){N=this.Ei(N,Q,U);this.$H(N,void 0);};c.prototype.$H=function(N,Q){var U,Z,qa,Fa;U=this;!1;N.Zhb(this.Bm);if(this.state.value == P.dc.ML)this.$i || (this.$i=N,this.load());else {Q && (this.state.value == P.dc.CLOSED?Q():this.addEventListener(P.ma.closed,function(){Q();}));Z=function(){U.rCa(N);};qa=t.config.E1a && N && t.config.E1a[N.errorCode];Fa=-1;(0,M.HP)(qa) && (Fa=(0,I.nk)(qa));this.kd.error("Fatal playback error",{Error:"" + N,HandleDelay:"" + qa});0 <= Fa?setTimeout(Z,Fa):Z();}};c.prototype.IH=function(N){var Q;Q=void 0 === Q?this.Y:Q;N=this.Fa.Rb().ja(D.sa) + "-" + Q + "-" + N;!1;this.neb.push(N);};c.prototype.kQb=function(){this.Q3a();};c.prototype.qta=function(){var N;if(null === (N=this.nb) || void 0 === N?0:N.Ri)if((N=this.nb.wn().id,void 0 !== N))return N;return null;};c.prototype.GE=function(){var N,Q;Q=null === (N=this.nb) || void 0 === N?void 0:N.Ri;return void 0 === this.na.bW || Q?this.zta(this.mediaTime.value):this.na.bW;};c.prototype.pta=function(){var N;N=this.zta(this.tf.r5a());return null === N?null:Math.min(this.Bx.ja(D.sa),Math.max(0,N));};c.prototype.nX=function(){var N,Q;return null === (Q=null === (N=this.fa) || void 0 === N?void 0:N.$a.qo) || void 0 === Q?void 0:Q.R;};c.prototype.efa=function(N){!1;this.ib=(0,O.kba)(this.ib,N);this.zna();};c.prototype.Uta=function(N){return (null === N || void 0 === N?0:N.P)?N.P:(null === N || void 0 === N?0:N.Klb) && this.aI?this.aI.P === ua.op?(N=this.aI.Ub) && this.nb && this.nb.Zj?this.nb.Zj.R[N].P:this.K:this.aI.P:this.K;};c.prototype.oRb=function(){var N;N=this.vn(this.Uta(void 0)).Ec;return N.value?N.value.streams:[];};c.prototype.IE=function(N){return (N=this.vn(this.Uta(N)).Lh) && N.value?N.value.streams:[];};c.prototype.t7a=function(N){for(var Q=ma(this.TJ),U=Q.next();!U.done;U=Q.next()){if(U=(U=U.value.Rg) && U.find(function(Z){return Z.id === N;}))return U;}!1;};c.prototype.a6b=function(N){N=void 0 === N?this.na:N;!1;N.Tb.value?this.ep.Y5b(N.Tb.value):Promise.resolve();};c.prototype.q7a=function(N){for(var Q=ma(this.TJ),U=Q.next();!U.done;U=Q.next()){U=ma(U.value.vj);for(var Z=U.next();!Z.done;Z=U.next()){if(Z=Z.value.streams.find(function(qa){return qa.Vb === N;}))return Z;}}!1;};c.prototype.E7a=function(N){for(var Q=ma(this.TJ),U=Q.next();!U.done;U=Q.next()){U=ma(U.value.Wy);for(var Z=U.next();!Z.done;Z=U.next()){if(Z=(Z=Z.value) && Z.streams.find(function(qa){return qa.Vb === N;}))return Z;}}!1;};c.prototype.JVb=function(N){for(var Q=ma(this.TJ),U=Q.next();!U.done;U=Q.next()){if(U.value.Ug === N)return !0;}return !1;};c.prototype.Pu=function(){var N,Q,U;return null !== (U=null === (Q=null === (N=this.Bca) || void 0 === N?void 0:N.fW) || void 0 === Q?void 0:Q.call(N)) && void 0 !== U?U:this.VJb().zE;};c.prototype.iib=function(N){var Q,U;null !== (Q=this.nb) && void 0 !== Q && Q.Ri && this.Lr.has(N) && ((null === (U=this.Bca) || void 0 === U?0:U.fW)?this.Bca.flb():(Q=this.Spa(N),this.nb.dw(Q,N)));};c.prototype.CYb=function(){return "trailer" === this.he;};c.prototype.JXb=function(){return ! !this.he && 0 <= this.he.indexOf("billboard");};c.prototype.JYb=function(){return ! !this.he && 0 <= this.he.indexOf("video-merch");};c.prototype.iYb=function(){return ! !this.he && 0 <= this.he.indexOf("mini-modal");};c.prototype.EP=function(){return this.CYb() || this.JXb() || this.JYb() || this.iYb();};c.prototype.B9=function(){var N,Q,U;Q={Klb:!0};if((null === (N=this.vn(this.Uta(Q)).fa) || void 0 === N || !N.$a.fva) && this.Wy){this.IE(Q).forEach(function(Z){var qa,Fa;if((0,M.Oa)(Z.Tpa) && (0,M.Oa)(Z.Y0a) && (0,M.Oa)(Z.X0a) && (0,M.Oa)(Z.W0a) && (0 < Z.Tpa || 0 < Z.Y0a)){qa=1;Fa=1;(0,M.Oa)(Z.Wdb) && (0,M.Oa)(Z.Xdb) && (qa=Z.Wdb,Fa=Z.Xdb);qa=Z.W0a * Fa / (Z.X0a * qa);U=(0,M.Oa)(U)?0 < Z.Tpa?Math.max(U,qa):Math.min(U,qa):qa;}});return U;}};c.prototype.cUb=function(){return {tr:this.kDa,rt:this.PAa};};c.prototype.cB=function(N){return this.ik[N];};c.prototype.woa=function(){return this.Wn?this.Fa.Rb().ja(D.sa) - this.Wn:this.Ba.Hf.ja(D.sa) - this.GI();};c.prototype.OV=function(){var N;if(this.Wn)return this.Fa.Rb().ja(D.sa) - this.Wn;N=this.Fa.vB;return this.TZ - (this.Ij.ja(D.sa) + N.ja(D.sa));};c.prototype.zoa=function(){return this.Wn?this.Fa.Rb().ja(D.sa) - this.Wn:this.TZ - this.GI();};c.prototype.zRb=function(){var N,Q;N=this.loadTime;Q={};(0,I.ph)(this.Wna,function(U,Z){Q[U]=Z.map(function(qa){return qa - N;});});return d.vx?{level:d.vx.T5a(),charging:d.vx.xsa(),statuses:Q}:null;};c.prototype.d$=function(){this.P3a();return this.rfa;};c.prototype.GI=function(){var N;N=this.ib.XR;N=(0,M.Oa)(N)?N:this.Ij.ja(D.sa) + this.Fa.vB.ja(D.sa);(0,G.Ka)((0,M.YE)(N));return N;};c.prototype.E6a=function(){return this.Fa.Rb().ja(D.sa) - this.Ij.ja(D.sa);};c.prototype.pgc=function(){this.cbc=!0;};c.prototype.Rba=function(){this.Pfb();};c.prototype.Z0=function(){var N;N=this.T6();return N && N.vbuflmsec || 0;};c.prototype.tV=function(){var N;N=this.T6();return N && N.abuflmsec || 0;};c.prototype.dEa=function(){var N;N=this.T6();return N && N.vbuflbytes || 0;};c.prototype.Fna=function(){var N;N=this.T6();return N && N.abuflbytes || 0;};c.prototype.T_=function(N,Q,U){var Z,qa,Fa,Oa;Z=this;N=void 0 === N?this.na:N;U=void 0 === U?!0:U;!1;qa=! !Q;Fa=!qa && N !== this.na;Oa=t.config.Yca.enabled?R.bo.pub:Fa?R.bo.GG:this.EP()?R.bo.h4:R.bo.Fq;qa=this.EP() || qa || Fa?void 0:this.ac.um.L9(Fa);return this.kk.NI({qa:N.qa,ib:N.ib,P:N.K,dv:Oa,Dg:qa,Sea:Q,Wi:N.Wi},N.Wi?!1:U).then(function(Ra){Ra.qva && Z.fireEvent(P.ma.HY,{K:N.K});return Ra;});};c.prototype.Wca=function(N,Q,U){var Z,qa,Fa;Q=void 0 === Q?this.na:Q;U=void 0 === U?!1:U;!1;if(Q.ib.di && !N.$a.qo)this.Md(E.$.Snb);else {Z=this.RY.create(this);qa=! !(Q.Wi && Q.Wi.Oe && Q.Wi.KZ);if(U){Fa=Z.tWb(Q.fa,Q.Tc,N);N=Fa.fa;Fa=Fa.Tc;}else (N=qa?Z.T9b(N,null === (Fa=Q.Wi) || void 0 === Fa?void 0:Fa.KZ):N,Fa=Z.Ddb(N));Q.fa=N;Q.Tc=Fa;U || (Q.Lh.set(Fa.f8),Q.Ec.set(Fa.oW),Q.Tb.set(Fa.qW));}};c.prototype.sQb=function(N){var Q;Q=void 0 === Q?!1:Q;!1;this.tK({P:N,gJ:Q});};c.prototype.u7a=function(N,Q){if(!this.Jj.aEa)return !0;N=this.Ct.ja(D.sa) - N;return 0 > N || N > Q;};c.prototype.y9b=function(){!1;this.tf.seek(this.GE() || 0,P.Me.r2);};c.prototype.Y7a=function(N,Q){var U,Z;U=this;!1;Z=this.na;Z.l8=!0;return this.T_(Z,{Hya:Z.Ug,h9b:N,k9b:Q},!1).then(function(qa){var Fa;U.Wca(qa,Z,!0);U.kk.o0(Z.K,Z.fa);return null === (Fa=U.nb) || void 0 === Fa?void 0:Fa.fL(U.meb);}).then(function(){var qa,Fa;qa=Z.vj.find(function(Oa){return Oa.trackId === N;});Fa=Z.Ii.find(function(Oa){return Oa.trackId === Q;});if(!(qa && qa.bj && Fa && Fa.bj))throw Error("Track hydration failed: requiredAudioTrackId=" + N + " requiredTextTrackId=" + Q);U.fireEvent(P.ma.Dkb);return {Ec:qa,B0:Fa};});};c.prototype.Go=function(){return this.ug;};c.prototype.tK=function(N){var Q,U,Z;Q=N.P;U=N.gJ;N=N.aI;!1;N !== this.aI && (this.aI=N,this.Alb());if(this.JQ){if(Q === this.iE){this.JQ=Q;return;}N=this.vn(Q);Z=N.fa;Z && (0,M.vd)(Z.iK) && (0,M.vd)(Z.$Q) && N.mB({pr_ats:Z.iK,pr_at:Z.$Q});this.fireEvent(P.ma.Rwa,{K:this.iE});this.iE=Q;this.zna();U || this.Ogb();this.rB=this.Ba.xK;this.na.Wn || (this.na.Wn=this.Fa.Rb().ja(D.sa));}("boolean" === typeof this.ib.yO?this.ib.yO:t.config.yO) && !U && this.tDa.yO(this);U={K:Q,gJ:U,JQ:this.JQ};this.JQ=Q;this.fireEvent(P.ma.rJ,U);};c.prototype.LJb=function(){!1;try{this.ac=new l.GMa(this);this.G7=new V.cHa(this);this.PP=this.QP.create(this,this.na,!0);t.config.VFb && new S.SIa(this,this.Eg,this.log);t.config.QV && this.QV(this);this.Pfc();}catch(N){this.Ft(E.$.yrb,{za:E.X.Mm,Qb:(0,I.cf)(N)});}};c.prototype.Pfc=function(){!1;this.$i?this.$H(this.$i):(0,M.Ava)(this.K)?this.yGb():this.Ft(E.$.vrb,{Qb:"" + this.K});};c.prototype.yGb=function(){var N;!1;N=k.MK.Chb;N?N.ga?this.lpa():this.Ft(E.$.GKa,N):((0,G.Ka)(!t.config.C8),this.Lma());};c.prototype.lpa=function(){var N;N=this;!this.background && t.config.lpa?(0,x.bja)(function(){N.Lma();},this):this.Lma();};c.prototype.Lma=function(){var N;N=this;!1;this.state.value == P.dc.LOADING && (t.config.Wqa && !this.EP()?k.MK.nx(x.wPa,function(Q){Q.ga?(N.Kaa=Q.Kaa,N.LYa()):N.Ft(E.$.FKa);},!0):this.LYa());};c.prototype.LYa=function(){var N,Q,U;N=this;if(this.state.value == P.dc.LOADING){this.log.info("Authorizing",this);Q=this.Fa.Rb().ja(D.sa);this.Qe("ats");(0,G.fO)(this.K);(0,G.fO)(this.ml);U=this.Q6b.bind(this,Q);Promise.all([this.fa,t.config.Dt && this.kk.k$(this.K)?this.kk.x9(this.K).catch(function(){}):void 0]).then(function(Z){var qa,Fa;qa=ma(Z);Z=qa.next().value;qa=qa.next().value;Z && qa?Fa=qa.$a.expiration > Z.$a.expiration?qa:Z:Z?Fa=Z:qa && (Fa=qa);Fa && 18E5 > Fa.$a.expiration - (0,Aa.A7)() && (Fa=void 0);return Fa?(N.UH=Fa === Z?"ui":"videopreparer",Fa):N.T_();}).then(function(Z){try{N.Wca(Z);U(p.Zg);N.feb || (N.feb=!0,N.Tya.Tt(N));}catch(qa){N.log.error("Exception processing authorization response",qa);U({ga:!1,za:E.X.aub});}}).catch(U);}};c.prototype.Q6b=function(N,Q){var U,Z;U=this;!1;if(this.state.value == P.dc.LOADING){this.Qe("at");Z=this.fa;this.mB({pr_ats:Z && (0,M.vd)(Z.iK)?Z.iK:N,pr_at:Z && (0,M.vd)(Z.$Q)?Z.$Q:this.Fa.Rb().ja(D.sa)});Q.ga?0 < this.Tc.Rg.length && this.Tc.oW && this.Tc.f8 && this.Tc.qW?this.reb?(this.log.info("Processing post-authorize",this),this.reb(this,function(qa){qa.ga?U.klb():U.Ft(E.$.Crb,qa);})):this.klb():this.Ft(E.$.ZLa,this.Swa(this.Tc)):this.Ft(E.$.HL,Q);}};c.prototype.klb=function(){var N,Q;g.__awaiter(this,void 0,void 0,function Z(){var qa;qa=this;return Ga(Z,function(Fa){!1;if(qa.state.value != P.dc.LOADING)return Fa.return();(null === (N=qa.na.fa) || void 0 === N?0:N.$a.qo) && qa.ub.reset((0,ua.w7)(null === (Q=qa.na.fa) || void 0 === Q?void 0:Q.$a.qo,{config:t.config}));qa.nb=qa.Bna(qa.ub,qa);qa.nb.Fac({Yq:f.Yq,config:t.config,Ke:qa.Ke,kd:qa.kd,Gv:qa.Gv.bind(qa),ck:C.ck,W_:qa.W_.bind(qa),tK:qa.tK.bind(qa)});qa.P5b();Fa.nF=0;});});};c.prototype.KKb=function(){var N,Q,U,Z,qa,Fa,Oa;N=this;!1;try{if(this.state.value === P.dc.LOADING){this.ac.open();Q=new Promise(function(Ra){N.ac.addEventListener(H.Ak.Pib,Ra);});this.tf=new K.PMa(this);U=this.Tc.oW.Ji === W.Gq.NONE;Z={d1:this.Tc.oW.Cr || U};qa={qa:this.qa,zm:this.eg,Gx:this.Gx};try{if(this.state.value !== P.dc.LOADING)return;Fa=this.nb;Fa.S$({flags:Z,$0a:qa,Y:this.meb,Spa:this.Spa.bind(this)});Oa=this.ub.S9(this);this.G0a(Oa);Fa.kw(Oa);this.lCb();Fa.EEb({ik:this.ik,loadTime:this.loadTime});this.ug=this.Sma(Fa,this);this.ug.$m.addListener(function(Ra){Ra.newValue?(N.ep.XVb(),t.config.Dt && N.Bd.l7a()):N.ep.ebc();});this.ug.addEventListener(P.B1.u6,function(){N.Bd.l7a();});}catch(Ra){throw (this.log.error("Failed to initialize ASE streaming",{error:Ra,startPts:this.da,flags:Z}),Ra);}Q.then(function(){var Ra;N.state.value !== P.dc.CLOSING && N.state.value !== P.dc.CLOSED && (null === (Ra=N.nb) || void 0 === Ra?void 0:Ra.open());});this.mediaTime.set(this.da);this.ep=new n.BSa(this);if("boolean" === typeof this.ib.pda?this.ib.pda:t.config.pda)this.G0=new A.CSa(this);this.AR();x.dja.forEach(function(Ra){Ra(N);});this.h2b();}}catch(Ra){this.Ft(E.$.Arb,{za:E.X.Mm,Qb:(0,I.cf)(Ra)});}};c.prototype.i2b=function(){(0,G.Ka)(this.state.value == P.dc.ML);this.loadTime=this.Fa.Rb().ja(D.sa);this.state.set(P.dc.LOADING);};c.prototype.Ft=function(N,Q){this.done || (this.done=!0,Q instanceof T.od?this.Md(Q.code,Q):this.Md(N,Q));};c.prototype.QV=function(N){var U,Z;function Q(){var qa,Fa;qa=d.vx.xsa() + "";Fa=N.Wna[qa];Fa || (Fa=N.Wna[qa]=[]);Fa.push(U.Fa.Rb().ja(D.sa));U.log.trace("charging change event",{level:d.vx.T5a(),charging:d.vx.xsa()});}U=this;Z=d.vx.zob;d.vx.addEventListener(Z,Q);N.addEventListener(P.ma.ih,function(){d.vx.removeEventListener(Z,Q);});};c.prototype.rCa=function(N){var Q,U;Q=this;if(this.state.value == P.dc.ML || this.state.value == P.dc.LOADING || this.state.value == P.dc.Le){this.kd.info("Playback closing",this,N?{ErrorCode:N.n8}:void 0);this.IH("Closing");u.nf.removeListener(u.Lo,this.Ncb);this.$i=N;this.na.bW=this.GE();this.P3a();(null === (U=this.nb) || void 0 === U?0:U.Ri) && this.nb.flush();try{this.Lb.Uc(P.ma.ih,{movieId:this.iE});}catch(Z){this.kd.error("Unable to fire playback closing event",Z);}this.state.set(P.dc.CLOSING);this.cnb();this.cbc || (0,L.yg)(function(){return Q.Pfb();});}};c.prototype.YPb=function(){this.Lb.Uc(P.ma.dlb);};c.prototype.Q3a=function(){var N;N=this.mediaTime.value;this.qZb != N && (!1,this.qZb=N,this.Lb.Uc(P.ma.cDa));};c.prototype.Pfb=function(){var N,Q;N=this;(0,G.Ka)(this.state.value == P.dc.CLOSING);Q=this.Kaa;this.Kaa=void 0;Q?k.MK.release(Q,function(U){(0,G.Ka)(U.ga);N.spa();}):this.spa();};c.prototype.cnb=function(){var N;null === (N=this.nb) || void 0 === N?void 0:N.rd();delete this.nb;};c.prototype.spa=function(){var N;this.spa=p.Jw;(0,G.Ka)(this.state.value == P.dc.CLOSING);N=x.pp.indexOf(this);(0,G.Ka)(0 <= N);x.pp.splice(N,1);this.state.set(P.dc.CLOSED);this.Lb.Uc(P.ma.closed,void 0,!0);this.Lb.wi();delete this.bf;this.na.Rba();};c.prototype.zna=function(){this.ib.playbackState && ("number" === typeof this.ib.playbackState.volume && this.volume.set((0,F.bD)(this.ib.playbackState.volume,0,1)),"boolean" === typeof this.ib.playbackState.muted && this.muted.set(this.ib.playbackState.muted),"number" === typeof this.ib.playbackState.playbackRate && this.playbackRate.set(this.ib.playbackState.playbackRate));};c.prototype.P3a=function(){this.Lb.Uc(P.ma.xib,{rfa:this.rfa});};c.prototype.W_=function(N,Q,U){Q=this.t7a(Q);N=this.dk(N);Q && N.Ac[U].set(Q);};c.prototype.Gv=function(){return {AudioBufferLength:this.tV(),VideoBufferLength:this.Z0()};};c.prototype.T6=function(){var N;if(null === (N=this.nb) || void 0 === N?0:N.Ri)return this.nb.cva(!1);};c.prototype.h2b=function(){this.state.value == P.dc.LOADING && this.state.set(P.dc.Le);};c.prototype.VJb=function(){var N,Q,U;N=void 0 === N?this.K:N;Q=this.IE({P:N});U=this.vn(N);return (0,ia.Pu)(Q,function(Z){return U.bQ.nC(Z);});};c.prototype.Spa=function(N){var Q,U;N=void 0 === N?this.K:N;Q=this.IE({P:N});U=this.vn(N);return (0,ia.d7a)(Q,function(Z){return U.bQ.nC(Z);});};c.prototype.G0a=function(N){var Q;Q=this;Object.keys(N.R).filter(function(U){return !Q.Lr.has(N.R[U].P);}).forEach(function(U){var Z,qa,Fa;qa=N.R[U];Fa=qa.P;qa=Object.assign(null !== (Z=Q.nl.jP(Fa).Db) && void 0 !== Z?Z:{},{da:qa.xa,Ta:qa.wa,di:!1,XR:Date.now(),kaa:!0});Q.bna({P:Fa,Y:U,ib:qa});});};Ua.Object.defineProperties(c.prototype,{TJ:{configurable:!0,enumerable:!0,get:function(){return this.Lr.values();}},na:{configurable:!0,enumerable:!0,get:function(){return this.Lr.get(this.iE);}},da:{configurable:!0,enumerable:!0,get:function(){var N,Q;return void 0 !== this.cr?this.cr:null !== (Q=null === (N=this.TJ.next()) || void 0 === N?void 0:N.value.ib.da) && void 0 !== Q?Q:0;}},Tc:{configurable:!0,enumerable:!0,get:function(){return this.na.Tc;},set:function(N){this.na.Tc=N;}},f9:{configurable:!0,enumerable:!0,get:function(){return this.na.ib.f9;}},g9:{configurable:!0,enumerable:!0,get:function(){return this.na.ib.g9;}},index:{configurable:!0,enumerable:!0,get:function(){return this.na.index;}},Y:{configurable:!0,enumerable:!0,get:function(){return this.na.Y;}},meb:{configurable:!0,enumerable:!0,get:function(){return this.ub.bEa?this.ub.Yh:this.na.Y;}},bf:{configurable:!0,enumerable:!0,get:function(){return this.na.bf;},set:function(N){this.na.bf=N;}},Wn:{configurable:!0,enumerable:!0,get:function(){return this.na.Wn;},set:function(N){this.na.Wn=N;}},UH:{configurable:!0,enumerable:!0,get:function(){return this.na.UH;},set:function(N){this.na.UH=N;}},TH:{configurable:!0,enumerable:!0,get:function(){return this.na.TH;},set:function(N){this.na.TH=N;}},R$:{configurable:!0,enumerable:!0,get:function(){return this.na.R$;},set:function(N){this.na.R$=N;}},fa:{configurable:!0,enumerable:!0,get:function(){return this.na.fa;},set:function(N){this.na.fa=N;}},cr:{configurable:!0,enumerable:!0,get:function(){return this.na.cr;},set:function(N){this.na.cr=N;}},w0:{configurable:!0,enumerable:!0,get:function(){return this.na.w0;},set:function(N){this.na.w0=N;}},ib:{configurable:!0,enumerable:!0,get:function(){return this.na.ib;},set:function(N){this.na.ib=N;}},PP:{configurable:!0,enumerable:!0,get:function(){return this.na.PP;},set:function(N){this.na.PP=N;}},Am:{configurable:!0,enumerable:!0,get:function(){return this.na.Am;}},K:{configurable:!0,enumerable:!0,get:function(){return this.na.K;}},he:{configurable:!0,enumerable:!0,get:function(){return this.na.he;}},vj:{configurable:!0,enumerable:!0,get:function(){return this.na.vj;}},Wy:{configurable:!0,enumerable:!0,get:function(){return this.na.Wy;}},zC:{configurable:!0,enumerable:!0,get:function(){return this.na.zC;}},Ii:{configurable:!0,enumerable:!0,get:function(){return this.na.Ii;}},Ug:{configurable:!0,enumerable:!0,get:function(){return this.na.Ug;}},jJ:{configurable:!0,enumerable:!0,get:function(){return this.na.jJ;}},Vv:{configurable:!0,enumerable:!0,get:function(){return this.na.Vv;}},om:{configurable:!0,enumerable:!0,get:function(){return this.na.om;}},Rg:{configurable:!0,enumerable:!0,get:function(){return this.na.Rg;}},Bx:{configurable:!0,enumerable:!0,get:function(){return this.na.Bx;},set:function(N){this.na.Bx=N;}},qa:{configurable:!0,enumerable:!0,get:function(){return this.na.qa;}},ml:{configurable:!0,enumerable:!0,get:function(){return this.na.ml;}},Ij:{configurable:!0,enumerable:!0,get:function(){return this.na.Ij;}},rB:{configurable:!0,enumerable:!0,get:function(){return this.na.rB;},set:function(N){this.na.rB=N;}},eg:{configurable:!0,enumerable:!0,get:function(){return this.na.eg;}},zK:{configurable:!0,enumerable:!0,get:function(){return this.na.zK;}},background:{configurable:!0,enumerable:!0,get:function(){return this.na.background;},set:function(N){this.na.background=N;}},S7:{configurable:!0,enumerable:!0,get:function(){return this.na.S7;}},wd:{configurable:!0,enumerable:!0,get:function(){return this.na.wd;}},ar:{configurable:!0,enumerable:!0,get:function(){return this.na.ar;}},Iqa:{configurable:!0,enumerable:!0,get:function(){return this.na.Iqa;}},bQ:{configurable:!0,enumerable:!0,get:function(){return this.na.bQ;}},Gx:{configurable:!0,enumerable:!0,get:function(){return 0 !== t.config.r8 && 0 === this.na.qa % t.config.r8;}},l8:{configurable:!0,enumerable:!0,get:function(){return this.na.l8;}},Gr:{configurable:!0,enumerable:!0,get:function(){return this.na.Gr;}},UKb:{configurable:!0,enumerable:!0,get:function(){return this.muted.value?0:Math.round(100 * this.volume.value) / 100;}},Dh:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.K,TrackingId:this.ml,Xid:this.qa};}},Jca:{configurable:!0,enumerable:!0,get:function(){return this.ub.Jca;}}});b.CPa=c;},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.jjb=void 0;c=a(17);g=a(9);k=a(3);a(25);b.jjb=function(m){var f;(0,g.ck)("Storage");f={};m({ga:!0,storage:{load:function(d,l){var n;if(f.hasOwnProperty(d)){n=f[d];!1;l({ga:!0,data:n,vea:d});}else (!1,l({za:k.X.hD}));},save:function(d,l,n,h){n && f.hasOwnProperty(d)?h({ga:!1}):(f[d]=l,!1,h && h({ga:!0,vea:d}));},remove:function(d,l){delete f[d];!1;l && l(c.Zg);}}});};},function(r,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.hjb=void 0;c=a(9);g=a(96);k=a(30);m=a(563);b.hjb=function(f){c.Ea.get(g.JC).create().then(function(d){f({ga:!0,storage:new m.Rha(d,c.Ea.get(k.oi))});}).catch(function(d){f(d);});};},function(r,b){function a(c,g){this.rx=c;this.Ke=g;}Object.defineProperty(b,"__esModule",{value:!0});b.Rha=void 0;a.prototype.load=function(c,g){var k;k=this;this.rx.load(c).then(function(m){g && g(a.Cjb(m));}).catch(function(m){g && g(k.bra(c,m));});};a.prototype.save=function(c,g,k,m){var f;f=this;this.rx.save(c,g,k).then(function(){m && m(a.Cjb({key:c,value:g}));}).catch(function(d){m && m(f.bra(c,d));});};a.prototype.remove=function(c,g){var k;k=this;this.rx.remove(c).then(function(){g && g({ga:!0,vea:c});}).catch(function(m){g && g(k.bra(c,m));});};a.Cjb=function(c){return {ga:!0,data:c.value,vea:c.key};};a.prototype.bra=function(c,g){return {ga:!1,vea:c,za:g.za,Qb:g.cause?this.Ke.cf(g.cause):void 0};};b.Rha=a;},function(r,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.ijb=void 0;c=a(563);g=a(9);k=a(493);m=a(30);b.ijb=function(f){f({ga:!0,storage:new c.Rha(g.Ea.get(k.BLa),g.Ea.get(m.oi))});};},function(r,b,a){var c,g,k,m,f,d,l,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.vx=void 0;c=a(17);g=a(19);r=a(3);k=a(9);m=a(13);f=a(34);d=a(15);l=a(68);n=a(5);a=k.Ea.get(f.mj);h=k.Ea.get(l.MG);a.register(r.$.rKa,function(p){var w,u;function q(){p(c.Zg);q=c.Jw;}function t(x){if(!(x instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(y){if(!(0,d.md)(x[y]))throw y + " is not a function";});}function v(){return Promise.resolve().then(function(){var x;x=m.Xe.getBattery();if(!(0,d.md)(x.then))throw "getBattery did not return a promise";return x;});}w=(0,k.ck)("BatteryManager");b.vx={zob:"chargingchange",T5a:function(){return u?u.level:null;},xsa:function(){return u?u.charging:null;},addEventListener:function(x,y){u && u.addEventListener(x,y);},removeEventListener:function(x,y){u && u.removeEventListener(x,y);}};g.config.QV && (0,d.md)(m.Xe.getBattery)?h.Mt((0,n.xc)(g.config.yRb),v()).then(function(x){t(x);u=x;}).catch(function(x){w.error("getBattery failed",x);}).then(q):q();});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tLa="LicenseBrokerFactorySymbol";},function(r,b){function a(c,g){var k;k=this;this.g6a=c;this.Lcb=g;this.iDa=!1;this.vQ=function(){k.qq=void 0;k.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.DSa=void 0;a.prototype.update=function(c){var g,k,m,f,d;m=this.g6a();if(this.Dlb !== m){f=null === (k=null === (g=this.K_b) || void 0 === g?void 0:g.UO(m)) || void 0 === k?void 0:k[0];if(f && ("startTime" in f))if(f.startTime <= m && m <= f.endTime){d=f;this.qlb(f.endTime - m);}else this.qlb(f.startTime - m);this.Dlb=m;this.Oma !== d && (this.Oma=d,!c && this.Lcb && this.Lcb());}};a.prototype.start=function(){this.iDa=!0;this.update();};a.prototype.Thb=function(c){this.K_b=c;this.Oma=this.Dlb=void 0;c || this.stop();};a.prototype.stop=function(){this.iDa=!1;this.Ut();};a.prototype.cRb=function(){this.update(!0);return this.Oma;};a.prototype.qlb=function(c){this.Ut();this.iDa && 0 < c && (this.qq=setTimeout(this.vQ,c + a.Lsb));};a.prototype.Ut=function(){this.qq && (clearTimeout(this.qq),this.qq=void 0);};b.DSa=a;a.Lsb=10;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.fKa=void 0;c=a(16);g=a(106);b.fKa=function(k){function m(f){k.fireEvent(c.ma.nE,{response:f,K:k.na.K});}return {download:function(f,d){f.j=k;f=g.pf.download(f,d);f.v6(m);return f;}};};},function(r,b,a){var c,g,k,m,f,d,l,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.NKa=void 0;c=a(19);g=a(60);k=a(3);m=a(570);f=a(13);d=a(15);l=a(16);n=a(9);h=a(227);b.NKa=function(p){var t,v,w,u;function q(){p.state.value !== l.dc.Le || p.Eb.value !== l.qb.Oi && p.Eb.value !== l.qb.js?v.Ut():v.vI();}t=c.config.K4b;if(!p.EP() && t){v=n.Ea.get(h.p4)(t,function(){p.fireEvent(l.ma.rP,k.$.L3);});p.Eb.addListener(q);p.state.addListener(q);if(c.config.Fua){w=(0,g.ro)();u=new m.OQa(c.config.Fua,function(){var x,y;x=(0,g.ro)();y=x - w;y > t && (p.fireEvent(l.ma.rP,k.$.p3),u.u_a());y > 2 * c.config.Fua && (p.Gua=(0,f.ou)(y,p.Gua || 0));w=x;});u.zac();}p.addEventListener(l.ma.ih,function(){v.Ut();(0,d.vd)(u) && u.u_a();});}};},function(r,b){function a(c,g){this.hDa=c;this.Tx=g;}Object.defineProperty(b,"__esModule",{value:!0});b.OQa=void 0;a.prototype.zac=function(){this.j6 || (this.j6=setInterval(this.Tx,this.hDa));};a.prototype.u_a=function(){this.j6 && (clearInterval(this.j6),this.j6=void 0);};b.OQa=a;},function(r,b,a){var g,k,m,f,d,l,n;function c(h){var p,q,t,v;p=this;this.j=h;this.fW=void 0;this.Yka=(0,k.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.Kka=(0,k.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.Bka=(0,k.createElement)("DIV","width:100%;text-align:center");this.Zvb=this.Mka("Audio Bitrate");this.Fma=this.Mka("Video Bitrate");this.Eka=this.Mka("CDN");this.GU={};this.PX=m.Ea.get(f.kp);this.Yka.appendChild(this.Kka);this.Kka.appendChild(this.Bka);q=(0,k.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.Tvb.bind(this),!1);this.Bka.appendChild(q);q=(0,k.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.nAb.bind(this),!1);this.Bka.appendChild(q);t=this.yzb.bind(this);g.nf.addListener(g.LE,t);h.addEventListener(l.ma.rJ,function(){p.GU={};});h.addEventListener(l.ma.ih,function(){g.nf.removeListener(g.LE,t);});v=this.bAb.bind(this);h.Ac.forEach(function(w){w.addListener(v);});h.Ec.addListener(v);h.Lh.addListener(v);}Object.defineProperty(b,"__esModule",{value:!0});b.JPa=void 0;g=a(64);k=a(40);m=a(9);f=a(39);d=a(204);l=a(16);n=a(49);c.prototype.show=function(){this.cV || (this.rWa(),document.body.appendChild(this.Yka),this.cV=!0);};c.prototype.Ux=function(){this.cV && (document.body.removeChild(this.Yka),this.cV=!1);};c.prototype.toggle=function(){this.cV?this.Ux():this.show();};c.prototype.flb=function(){var q,t,v,w;function h(u,x,y){var z,A,B;A=[];x.filter(function(C){return C.af === u;}).forEach(function(C){0 <= y.indexOf(C)?(void 0 === B?B=C.bitrate:z=C.bitrate,void 0 === z && (z=C.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function p(u,x,y){var z;z=[];x.filter(function(A){return A.af === u;}).forEach(function(A){-1 === y.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}t=this.j.Pu();v=this.j.IE().sort(function(u,x){return u.bitrate - x.bitrate;});w=v.reduce(function(u,x){0 > u.indexOf(x.af) && u.push(x.af);return u;},[]).map(function(u){return {profile:u,ranges:h(u,v,t),disallowed:p(u,v,t)};});!1;null === (q=this.j.nb) || void 0 === q?void 0:q.dw(w,this.j.K);};c.prototype.Tvb=function(){var q,t;this.GU={};for(var h=this.Fma.options,p=h.length;p--;){q=h[p];q.selected && (this.GU[q.value]=1);}this.fW=this.vwb.bind(this);this.flb();if(h=this.j.Rg){t=this.Eka.value;h=h.filter(function(v){return v.id == t;})[0];p=this.j.Ac[n.u.J].value;h && h != p && (h.VZa={testreason:"streammanager",selreason:"userselection"},this.j.Ac[n.u.J].set(h));}this.Ux();};c.prototype.nAb=function(){this.fW=void 0;this.j.iib(this.j.K);this.Ux();};c.prototype.vwb=function(){var h;h=this;return this.j.IE().filter(function(p){return h.GU[p.bitrate];});};c.prototype.rWa=function(){var h,p,q,t;h=this;p=this.j.Ec.value;q=this.j.Lh.value;t=this.j.Rg;p && (t=t.slice(),t.sort(function(v,w){return v.ec - w.ec;}),this.qma(this.Zvb,p.streams.map(function(v){return {value:v.bitrate,caption:v.bitrate,selected:v == h.j.Vh.value};})));q && (this.qma(this.Fma,q.streams.map(function(v){var w,u;w=h.j.bQ.nC(v);v=v.bitrate;u="" + v;w && (u+=" (" + w.join("|") + ")");return {value:v,caption:u,selected:h.fW?h.GU[v]:!w};})),this.Fma.removeAttribute("disabled"));t && (this.qma(this.Eka,t.map(function(v){return {value:v.id,caption:"[" + v.id + "] " + v.name,selected:v == h.j.Ac[n.u.J].value};})),this.Eka.removeAttribute("disabled"));};c.prototype.bAb=function(){this.cV && this.rWa();};c.prototype.Mka=function(h){var p,q;p=(0,k.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");h=(0,k.createElement)("DIV",void 0,h);q=(0,k.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(h);p.appendChild(q);this.Kka.appendChild(p);return q;};c.prototype.qma=function(h,p){h.innerHTML="";p.forEach(function(q){var t;t={title:q.caption};q.selected && (t.selected="selected");t=(0,k.createElement)("option",void 0,q.caption,t);t.value=q.value;h.appendChild(t);});};c.prototype.yzb=function(h){h.ctrlKey && h.altKey && h.shiftKey && h.keyCode == d.WC.zub && this.PX.Hva && this.toggle();};b.JPa=c;},function(r,b,a){var g,k,m,f,d;function c(l,n){this.c9=l;this.sI={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,g.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.Lhb(n);this.Vra=this.B5a(this.c9);}Object.defineProperty(b,"__esModule",{value:!0});b.ASa=void 0;g=a(40);k=a(573);m=a(574);f=a(13);d=a(25);c.prototype.Ho=function(){return this.element;};c.prototype.M$b=function(l){this.sx=l;};c.prototype.Y$b=function(l){this.entry=l;this.XQ();};c.prototype.eac=function(l){this.Lhb(l);this.XQ();};c.prototype.XQ=function(){var l,n,h,p,q,t,v,w,u,x,y,A,B,C;l=this;n=this.Ho();h=n.parentElement;p=h && h.clientWidth || 0;q=h && h.clientHeight || 0;t=h=0;v={width:p,height:q};if(0 < p && 0 < q && this.entry){this.sx && (v=(0,g.b9)(p,q,this.sx),h=Math.round((p - v.width) / 2),t=Math.round((q - v.height) / 2));u=this.FFb(v);x=(0,g.b9)(u.width,u.height,this.sx);u=(w=this.entry.blocks) && w.map(function(D){var E;E=(0,m.Yqa)(D,x,l.c9,l.Vra);D=(0,m.b3a)(D) + ";position:absolute";return (0,g.createElement)("div",D,E,c.Fga);});}Object.assign(this.sI,{left:h + "px",right:h + "px",top:t + "px",bottom:t + "px"});n.style.display="none";n.style.direction=this.sI.direction;n.innerHTML="";if(u && u.length){p=v.width;h=v.height;y=v;this.IV && (y=this.zBb(v,this.IV,q,t));this.sI.margin=this.ut?this.s7(v,"top") + "px " + this.s7(v,"right") + "px " + this.s7(v,"bottom") + "px " + this.s7(v,"left") + "px ":void 0;u.forEach(function(D){return n.appendChild(D);});q=(0,g.eW)(this.sI);n.style.cssText=q + ";visibility:hidden;z-index:-1";t=[];for(var z=u.length - 1;0 <= z;z--){A=u[z];B=w[z];C=this.kcb(A,B,p,h);C.width > p && (A.innerHTML=(0,m.Yqa)(B,v,this.c9,this.Vra,p / C.width),C=this.kcb(A,B,p,h));t[z]=C;}t=(0,k.Ykb)(t,y);if(z=w && w[0] && w[0].textNodes && w[0].textNodes[0] && w[0].textNodes[0].style)(y=z.windowColor,z=z.windowOpacity,y && 0 < z && (A=Math.round(h / 50),v=(0,m.d3a)(w,t,A,y,v),v=(0,g.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,v,c.Fga),n.insertBefore(v,n.firstChild)));n.style.display="none";for(v=t.length - 1;0 <= v;v--){z=t[v];y=u[v].style;A=w[v].region;z=(0,m.c3a)(A,z,p,h,0);Object.assign(y,z);}n.style.cssText=q;}};c.prototype.SBa=function(l){this.IV=l;this.XQ();};c.prototype.Ota=function(){return this.IV;};c.prototype.TBa=function(l){this.ut=l;this.XQ();};c.prototype.Pta=function(){return this.ut;};c.prototype.Qta=function(){return "block" === this.sI.display;};c.prototype.UBa=function(l){var n;n=l?"block":"none";this.element.style.display=n;this.sI.display=n;l && this.XQ();};c.prototype.Lec=function(l){this.c9=l;this.Vra=this.B5a(l);};c.prototype.B5a=function(l){var n,h;n=this;h={};(0,d.ph)(l,function(p,q){h[p]=n.E0b(q);});return h;};c.prototype.Lhb=function(l){this.sI.direction="boolean" === typeof l?l?"ltr":"rtl":"inherit";};c.prototype.s7=function(l,n){if(this.ut){if("left" === n || "right" === n)return l.width * (this.ut[n] || 0);if("top" === n || "bottom" === n)return l.height * (this.ut[n] || 0);}return 0;};c.prototype.FFb=function(l){return this.ut?{height:l.height * (1 - (this.ut.top || 0) - (this.ut.bottom || 0)),width:l.width * (1 - (this.ut.left || 0) - (this.ut.right || 0))}:l;};c.prototype.E0b=function(l){var n;l="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + l + ";";l=(0,g.createElement)("DIV",l,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.Fga);f.Ph.body.appendChild(l);n={fontSize:1E3,height:l.clientHeight,width:l.clientWidth / 52,lineHeight:l.clientHeight / 1E3};f.Ph.body.removeChild(l);return n;};c.prototype.kcb=function(l,n,h,p){var q,t,v,w,u;q=n.region;t=(q.marginTop || 0) * p;v=(q.marginBottom || 0) * p;w=(q.marginLeft || 0) * h;u=(q.marginRight || 0) * h;n=l.clientWidth || 1;l=l.clientHeight || 1;switch(q.verticalAlignment){case "top":p=t;break;case "center":p=(t + p - v - l) / 2;break;default:p=p - v - l;}switch(q.horizontalAlignment){case "left":h=w;break;case "right":h=h - u - n;break;default:h=(w + h - u - n) / 2;}return {top:p,left:h,width:n,height:l};};c.prototype.zBb=function(l,n,h,p){return {height:h - Math.max(p,n.bottom || 0) - Math.max(p,n.top || 0),width:l.width};};b.ASa=c;c.Fga={"class":"player-timedtext-text-container"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ykb=void 0;c=a(13);b.Ykb=function(g,k){function m(l,n,h){var v,u,x,y,z;if(l && 1 < l.length){for(var p=[],q=[],t=0;t < l.length;t++){p[t]=0;q[t]=0;}v=!1;for(t=0;t < l.length;t++){for(var w=t + 1;w < l.length;w++){u=l[t];x=l[w];if(0 > u.width || 0 > x.width || x.left > u.left + u.width || x.left + x.width < u.left || x.top > u.top + u.height?0:x.top + x.height >= u.top){y=(0,c.ou)(u.left,x.left);z=(0,c.ou)(u.top,x.top);y={width:(0,c.ou)((0,c.uz)(u.left + u.width,x.left + x.width) - y,0),height:(0,c.ou)((0,c.uz)(u.top + u.height,x.top + x.height) - z,0),x:y,y:z};}else y=void 0;if(y && 1 < y.width && 1 < y.height)if((z=y.width <= y.height,u=f(l[t]),x=f(l[w]),z && n || !z && !n))(y=(0,c.ou)(y.width / 2,.25),u.x <= x.x?(q[t]-=y,q[w]+=y):(q[w]-=y,q[t]+=y));else if(z && !n || !z && n)(u=(0,c.ou)(y.height / 2,.25),p[t]-=u,p[w]+=u);}}for(t=0;t < l.length;t++){if(-.25 > q[t] && 0 <= l[t].left + q[t] || .25 < q[t] && l[t].left + l[t].width + q[t] <= h.width)(l[t].left+=q[t],v=!0);if(-.25 > p[t] && 0 <= l[t].top + p[t] || .25 < p[t] && l[t].top + l[t].height + p[t] <= h.height)(l[t].top+=p[t],v=!0);}return v;}}function f(l){return {x:l.left + l.width / 2,y:l.top + l.height / 2};}g=g.map(function(l){return {top:l.top,left:l.left,width:l.width,height:l.height};});(function(l,n){l.forEach(function(h){0 > h.left && h.left + h.width < n.width?h.left+=(0,c.uz)(-h.left,n.width - (h.left + h.width)):h.left + h.width > n.width && 0 < h.left && (h.left-=(0,c.uz)(h.left + h.width - n.width,h.left));0 > h.top && h.top + h.height < n.height?h.top+=(0,c.uz)(-h.top,n.height - (h.top + h.height)):h.top + h.height > n.height && 0 < h.top && (h.top-=(0,c.uz)(h.top + h.height - n.height,h.top));});})(g,k);for(var d=0;50 > d && m(g,!0,k);d++){;}for(d=0;50 > d && m(g,!1,k);d++){;}return g;};},function(r,b,a){var d,l,n;function c(h,p,q,t,v){var w;w={};"right" == h.horizontalAlignment?w.right=100 * (q - p.left - p.width - v) / q + "%":w.left=100 * (p.left - v) / q + "%";"bottom" == h.verticalAlignment?w.bottom=100 * (t - p.top - p.height - v) / t + "%":w.top=100 * (p.top - v) / t + "%";return w;}function g(h,p){var q;if(h && p){40 === p.x && 19 === p.y?q=4 / 3 / (40 / 19):52 === p.x && 19 === p.y && (q=16 / 9 / (52 / 19));if(q)return h.width / h.fontSize / q;}}function k(h,p,q,t,v){var w,u;w=h.style;u=(0,l.uua)(h.text);for(h=h.lineBreaks;h--;){u="<br />" + u;}return m(u,w,p,q,t,v);}function m(h,p,q,t,v,w){var u;u=p.characterStyle;v=v[u];u=0 <= u.indexOf("MONOSPACE")?g(v,p.cellResolution) || v.lineHeight:v.lineHeight;t=p.characterSize * t.height / (u || 1);t=0 < w?(0,n.JL)(t * w):(0,n.mp)(t);w={"font-size":t + "px","line-height":"normal","font-weight":"normal"};p.characterItalic && (w["font-style"]="italic");p.characterUnderline && (w["text-decoration"]="underline");p.characterColor && (w.color=p.characterColor);p.backgroundColor && 0 !== p.backgroundOpacity && (w["background-color"]=f(p.backgroundColor,p.backgroundOpacity));t=p.characterEdgeColor || "#000000";switch(p.characterEdgeAttributes){case "DROP_SHADOW":w["text-shadow"]=t + " 0px 0px 7px";break;case "UNIFORM":w["text-shadow"]="-1px 0px " + t + ",0px 1px " + t + ",1px 0px " + t + ",0px -1px " + t;break;case "RAISED":w["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":w["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}w=(0,d.eW)(w);(q=q[p.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (w+=";" + q);p=p.characterOpacity;0 < p && 1 > p && (h='<span style="opacity:' + p + '">' + h + "</span>");return '<span style="' + w + '">' + h + "</span>";}function f(h,p){h=h.substring(1);h=parseInt(h,16);return "rgba(" + (h >> 16 & 255) + "," + (h >> 8 & 255) + "," + (h & 255) + "," + (void 0 !== p?p:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.b3a=b.wOb=b.uOb=b.xOb=b.vOb=b.c3a=b.d3a=b.Yqa=void 0;d=a(40);l=a(25);n=a(13);b.Yqa=function(h,p,q,t,v){var w;w="";h.textNodes.forEach(function(u){w+=k(u,q,p,t,v);});h.region && h.region.multiRowAlignment && (w='<span style="display:inline-block;text-align:' + h.region.multiRowAlignment + '">' + w + "</span>");return w;};b.d3a=function(h,p,q,t,v){var w,u,y,z,A;w="";u=v.width;v=v.height;for(var x=p.length;x--;){y=p[x];z=h[x];z=z && z.region;A="position:absolute;background:" + t + ";width:" + (0,n.mp)(y.width + 2 * q) + "px;height:" + (0,n.mp)(y.height + 2 * q) + "px;";y=c(z,y,u,v,q);(0,l.ph)(y,function(B,C){A+=B + ":" + C + ";";});w+='<div style="' + A + '"></div>';}return w;};b.c3a=c;b.vOb=g;b.xOb=k;b.uOb=m;b.wOb=f;b.b3a=function(h){var p;p={display:"block","white-space":"nowrap"};switch(h.region.horizontalAlignment){case "left":p["text-align"]="left";break;case "right":p["text-align"]="right";break;default:p["text-align"]="center";}return (0,d.eW)(p);};},function(r,b,a){var c,g,k,m,f,d,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.xPa=void 0;c=a(17);g=a(19);k=a(60);m=a(93);f=a(13);d=a(58);l=a(15);n=a(16);b.xPa=function(h){var v,w,u,x,y,z;function p(){return h.state.value === n.dc.LOADING || h.state.value === n.dc.Le && h.Eb.value === n.qb.pg;}function q(){p()?z || (z=setInterval(t,100)):z && (clearInterval(z),z=void 0,(0,d.yg)(t));}function t(){var A,B,C,D,E,G,F,I;A=(0,k.ro)();B=v.value;C=B?B.progress:0;D=h.state.value == n.dc.LOADING || p() && A - w > g.config.eFb;if(D && h.state.value == n.dc.Le){if(h.xg.value === n.Zf.jRa)(E=C,G=!0);else {F=A;u=u || A;x=x || u + g.config.e1b + 1;(0,l.Oa)(F) && (F=(0,f.ou)(F,x),E=(0,f.mp)(1E3 * (0,m.bD)((A - u) / (F - u),0,.99)) / 1E3);}if(E < C)if(C - E < g.config.$6b / 100)(E=C,y=void 0);else if(y){if(A - y > g.config.Z6b){I=!0;y=void 0;}else E=C;}else (y=A,E=C);}else y=x=u=void 0;A=D?{St:G,progress:E,a7b:I}:null;(!A || !v || !B || (0,l.Oa)(A.progress) && !(0,l.Oa)(B.progress) || (0,l.Oa)(A.progress) && (0,l.Oa)(B.progress) && .01 < (0,f.x3)(A.progress - B.progress) || A.St !== B.St) && v.set(A);}v=h.poa;w=0;h.state.addListener(function(){q();t();},c.K3);h.Eb.addListener(function(A){if(A.oldValue !== n.qb.pg || A.newValue !== n.qb.pg)w=(0,k.ro)();q();});h.xg.addListener(function(){q();});h.Gs.addListener(function(){q();});h.Un.addListener(function(){q();});z || (z=setInterval(t,100));};},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D,E,G,F,I,L,M,K;function c(O){var H;H=this;this.j=O;this.ac=this.j.ac;this.log=(0,n.aj)(this.j,"MediaPresenterASE");this.Gba=this.X7=0;this.ca=this.ac.ca;this.VB=new K.hTa(this.ca,this.j);this.Oib=this.Zdb=this.Qdb=this.maa=this.jza=!1;this.Gaa=new Set();this.Pcc=n.Ea.get(B.YL)((0,A.xc)(y.f4));this.wN=void 0;this.Fm=n.Ea.get(D.uRa)(this.j);this.Vy={};this.dbb={};this.QX={};this.qh=new G.xMa(this.j,this.Fm);this.Ncc=function(){var J,R,P;H.j.w0=(0,l.ro)();if(!H.Wk() && H.wv){J=H.ac.K6a();J || (H.V4b(),H.qh.Okb(H.mediaTime));H.j.paused.value || !H.qh.hqa(H.mediaTime) || !H.loa() || J || H.Fm.jaa?H.UAa():H.jza || H.VAa();H.U4b();if(!H.ac.K6a() && !H.maa){J=H.ac.ZA(!0);R=H.j.Eb.value;P=H.yHb();R !== P && !1;P === u.qb.js?(H.mediaTime=H.j.Ct.ja(A.sa),H.UAa()):P !== u.qb.pg && H.Xec(J);H.ulb();H.qh.Ooa(H.mediaTime);H.j.Eb.set(P);P !== u.qb.pg || R !== u.qb.Wc && R !== u.qb.Oi || H.B3b();}}};this.Gm=(0,E.Web)(this.Ncc);this.mediaTime=O.da;this.j.Vi=!1;this.ac.addEventListener(z.Ak.Nib,function(){H.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");H.Oib=!0;try{H.oa();}catch(J){H.log.error("Exception while initializing",J);H.Md(h.$.Itb);}});this.ac.addEventListener(z.Ak.v$a,function(J){J=J.P;H.Oib?H.Qcb(J):H.Gaa.add(J);});}Object.defineProperty(b,"__esModule",{value:!0});b.PMa=void 0;g=a(17);k=a(19);m=a(62);f=a(64);d=a(40);l=a(60);n=a(9);a(99);h=a(3);p=a(353);q=a(23);t=a(93);v=a(25);w=a(58);u=a(16);x=a(15);y=a(177);z=a(306);A=a(5);B=a(113);C=a(227);D=a(577);E=a(1340);G=a(1341);F=a(86);I=a(225);L=a(13);M=a(49);K=a(1343);c.prototype.iac=function(O){this.VB.paused?(this.log.trace("setMediaTime",O),this.mediaTime=O):this.log.error("Unexpected setMediaTime while not paused, ignoring");};c.prototype.r5a=function(){return this.ac.ZA(!1);};c.prototype.D9=function(){return this.ac.D9();};c.prototype.aB=function(){return this.ac.aB();};c.prototype.JI=function(){return this.ac.JI();};c.prototype.qX=function(){return this.ac.qX();};c.prototype.oa=function(){var O;O=this;this.log.trace("Video element initializing");this.ac.sourceBuffers.forEach(function(H){return O.qh.uac(H);});this.dXb(this.j.jJ);};c.prototype.dXb=function(O){var H,J;H=this;O?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.K}),null === (J=this.j.nb) || void 0 === J?void 0:J.qI(this.j.K));0 < this.Gaa.size && setTimeout(function(){H.log.trace("Notifying about licenses that were added before source buffers created");Array.from(H.Gaa).forEach(function(R){H.Gaa.delete(R);H.Qcb(R);});},0);this.log.trace("Waiting for loadedmetadata");(0,d.FXa)(this.ca,"loadedmetadata",function(){H.log.trace("Video element event: loadedmetadata");H.j.Qe("md");});f.nf.addListener(f.Lo,this.QX[f.Lo]=function(){return H.close();},g.OL);this.j.addEventListener(u.ma.ih,function(){return H.close();},g.OL);this.j.addEventListener(u.ma.Wgb,function(){return H.VAa();});this.j.addEventListener(u.ma.rJ,function(){return H.n3b();});this.j.paused.addListener(function(){return H.Gm();});this.j.muted.addListener(function(){return H.RDa();});this.j.volume.addListener(function(){return H.RDa();});this.j.playbackRate.addListener(function(){return H.ffa();});this.j.Gs.addListener(function(){return H.Gm();});this.j.Un.addListener(function(){return H.Gm();});this.RDa();this.ffa();this.qh.$da(function(){return H.eba();});this.eba();this.hec();};c.prototype.Qcb=function(O){var H;this.j.Qe("ld",O);null === (H=this.j.nb) || void 0 === H?void 0:H.qI(O);this.j.fireEvent(u.ma.s$a);};c.prototype.L6=function(O){var H;H=this;!1;this.qh.dDb(O);this.fGb(O).then(function(){H.eba();H.j.fireEvent(u.ma.dba);}).catch(function(J){H.Md(h.$.Mtb,{Qb:(0,v.cf)(J)});});};c.prototype.una=function(O,H,J){J=void 0 === J?{}:J;H=this.lNb(O,H);this.qh.cDb(O,H,J);this.eba();this.Qdb || O.type !== M.u.J || (this.Fm.jaa || this.seek(this.j.da,u.Me.Bw),this.Qdb=!0);};c.prototype.hec=function(){var O;O=this;this.ac.addEventListener(z.Ak.O_,this.Vy[z.Ak.O_]=function(){return O.F3b();});this.ac.addEventListener(z.Ak.hr,this.Vy[z.Ak.hr]=function(){return O.Xba();});this.ca.addEventListener("ended",this.Vy.ended=function(){return O.h3b();});this.ca.addEventListener("play",this.Vy.play=function(){return O.tya();});this.ca.addEventListener("pause",this.Vy.pause=function(){return O.sya();});this.ca.addEventListener("playing",this.Vy.playing=function(){return O.uya();});this.wv=!0;this.qh.Okb(this.mediaTime);this.log.trace("Video element initialization complete");this.j.Qe("vi");k.config.F1a?setTimeout(function(){O.jya=!0;O.Gm();},k.config.F1a):this.jya=!0;this.Ibc();(0,w.yg)(function(){return O.Gm();});};c.prototype.Ibc=function(){var J;function O(){var R;J.j.Eb.value !== u.qb.Wc || 0 !== (null === (R=J.j.tf) || void 0 === R?void 0:R.D9()) || L.Ph.hidden?(J.jcb.Ut(),R="stopTimer"):(J.jcb.vI(),R="ensureTimer");J.log.trace("No render timer update: " + R,{presentingState:u.qb[J.j.Eb.value],hidden:L.Ph.hidden});}function H(R){var P,T;R=void 0 === R?!0:R;P=J.j.nb;T=(null === P || void 0 === P?void 0:P.Ri) && P.eua();J.j.Eb.value == u.qb.pg && J.j.state.value == u.dc.Le && J.j.Gs.value == u.Zf.Le && J.j.Un.value == u.Zf.Le && !J.j.Vi && T?(R && J.Z7.Ut(),J.Z7.vI(),P="ensureTimer"):(J.Z7.Ut(),P="stopTimer");J.log.trace("Timer update: " + P,{presentingState:u.qb[J.j.Eb.value],playbackState:u.dc[J.j.state.value],avBufferingState:u.Zf[J.j.Gs.value],textBufferingState:u.Zf[J.j.Un.value],autoplayWasBlocked:J.j.Vi,hasLicense:T,restartTimer:R});}J=this;k.config.r1a && ((0,q.Ka)(!this.Z7),this.Z7=n.Ea.get(C.p4)(k.config.r1a,function(){var R;R=n.Ea.get(p.Rga).P1a(J.j);J.Md(R.code,R);}),this.j.Eb.addListener(function(){return H();}),this.j.Gs.addListener(function(){return H();}),this.j.Un.addListener(function(){return H();}),this.j.state.addListener(function(){return H();}),this.j.addEventListener(u.ma.s$a,function(){return H();}),this.j.addEventListener(u.ma.Vi,function(){return H();}),this.j.addEventListener(u.ma.Mna,function(){return H();}),this.j.addEventListener(u.ma.hK,function(){return H(!0);}),H());k.config.icb && (this.jcb=n.Ea.get(C.p4)(k.config.icb,function(){var R;0 === (null === (R=J.j.tf) || void 0 === R?void 0:R.aB()) && (R=n.Ea.get(p.Rga).P1a(J.j),J.Md(R.code,R));J.j.Eb.removeListener(O);f.nf.removeListener(f.dt,J.QX[f.dt]);}),this.j.Eb.addListener(O),f.nf.addListener(f.dt,this.QX[f.dt]=O),O());};c.prototype.lNb=function(O,H){var J;J=this.j.bf;(J=(0,I.iva)(J)?J.WO():void 0) && O.type === M.u.J && ((O=new F.Lha(this.log,{mediaType:M.u.J,url:"http://some-url"},H).Ga(J))?H=O:!1);return H;};c.prototype.eba=function(){this.wv && this.Gm();this.qh.d_a();};c.prototype.Rbc=function(){!1;this.j.Eb.set(u.qb.pg);this.maa=!0;this.Gm();};c.prototype.vHb=function(){var O;O=this;this.maa && (!1,this.maa=!1,(0,w.yg)(function(){return O.t2b();}));};c.prototype.v9=function(){return this.qh.v9();};c.prototype.t2b=function(){var O,H;O=this.j.GE() || 0;if(this.j.ib.di){if(k.config.QEb){O=O - (this.ac.oBa + 1) - k.config.nBa;H=this.j.nb.wn().Nd;O=Math.max(O,H);}}else (O-=k.config.h$b,O=Math.max(O,this.Fm.$va));this.seek(O,u.Me.n4);};c.prototype.qZ=function(O){var H;H=this;this.qh.wac(O);(0,w.yg)(function(){return H.Gm();});};c.prototype.KSb=function(){return {X7:this.X7,Gba:this.Gba};};c.prototype.fGb=function(O){var H;H=this.ac && this.ac.f6a();(0,q.Ka)(this.j.Ct,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.Ct && H && Infinity !== O.jhb && (O=O.jhb + O.Wv,O > this.j.Ct.web(A.sa) && (this.j.Ct=(0,A.xc)(O)));return Promise.resolve();};c.prototype.U4b=function(){var O;O=this;this.Fm.tca && (!1,this.loa() && this.qh.hqa(this.mediaTime) && (this.ac.seek(this.mediaTime),this.Fm.tca=!1,(0,w.yg)(function(){return O.Gm();})));};c.prototype.Xec=function(O){var H;if(O < this.mediaTime){H=this.mediaTime - O;k.config.W4b && O && H > y.f4 && (O={ElementTime:(0,t.Rj)(O),MediaTime:(0,t.Rj)(this.mediaTime)},H > y.KQa?this.Md(h.$.Wtb,{Qb:Object.assign({Trace:this.ac.HE()},O)}):this.log.warn("VIDEO.currentTime became smaller",O));}else this.mediaTime=(0,t.bD)(O,0,this.j.Ct.ja(A.sa));};c.prototype.loa=function(){return this.j.Gs.value === u.Zf.Le && this.j.Un.value === u.Zf.Le;};c.prototype.yHb=function(){var O,H,J;O=this;H=this.j.Eb.value;J=H;this.Fm.jaa?J=u.qb.pg:this.ca && this.ca.ended?H === u.qb.Wc && (J=u.qb.js):this.loa() && this.qh.hqa(this.mediaTime)?this.ac.mMb()?J=this.VB.paused?u.qb.Oi:u.qb.Wc:this.Pcc.Wl(function(){return O.Occ();}):J=this.j.Ct?this.j.u7a(this.mediaTime,this.qh.W7())?u.qb.pg:u.qb.js:u.qb.pg;return J;};c.prototype.B3b=function(){var O;if(this.j.Eb.value === u.qb.pg){O=this.qh.Adc() > this.qh.W7();this.j.Un.value !== u.Zf.Le?this.j.tj.value?(this.j.fireEvent(u.ma.tA,{cause:m.uPa}),this.log.warn("rebuffer due to timed text",this.j.tj.value.Dh)):this.j.fireEvent(u.ma.LR):O?(this.X7++,this.j.fireEvent(u.ma.tA,{cause:m.Zia})):(this.Gba++,this.j.fireEvent(u.ma.tA,{cause:m.$ia}));}};c.prototype.Occ=function(){this.Wk() || (k.config.x2b && this.qh.w2b(),this.Gm());};c.prototype.F3b=function(){this.Gm();};c.prototype.Xba=function(){this.Gm();this.j.fireEvent(u.ma.hr);};c.prototype.h3b=function(){this.log.trace("Video element event: ended");this.Gm();};c.prototype.tya=function(){this.log.trace("Video element event: play");this.Gm();};c.prototype.sya=function(){this.log.trace("Video element event: pause");this.VB.sya();this.Gm();};c.prototype.uya=function(){this.log.trace("Video element event: playing");this.VB.tya();this.Gm();};c.prototype.RDa=function(){this.Wk() || (this.ca && this.ca.volume !== this.j.volume.value && (this.ca.volume=this.j.volume.value),this.ca && this.ca.muted !== this.j.muted.value && (this.ca.muted=this.j.muted.value));};c.prototype.ffa=function(){!this.Wk() && this.ca && (this.ca.playbackRate=this.j.playbackRate.value);};c.prototype.VAa=function(){var O;O=this;!this.Wk() && (0,x.vd)(this.ca) && !this.ca.ended && this.jya && this.VB.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.VB.play()).then(function(){O.closed || (O.jza=!1,O.ca.style.display=null,O.j.Vi=!1,O.j.fireEvent(u.ma.Mna));}).catch(function(H){"NotAllowedError" === H.name?(O.log.warn("Playback is blocked by the browser settings",H),O.j.Vi=!0,O.closed || (O.jza=!0,O.ca.style.display="none",O.j.fireEvent(u.ma.Vi,{player:{play:function(){return O.VAa();}}}))):O.closed || O.Zdb || (O.Zdb=!0,O.log.error("Play promise rejected",H));}));};c.prototype.n3b=function(){this.Fm.$va=this.j.GE() || 0;};c.prototype.UAa=function(){this.Wk() || !(0,x.vd)(this.ca) || this.ca.ended || !this.jya || this.VB.paused || (this.log.trace("Calling pause on element"),this.VB.pause());};c.prototype.ulb=function(O){this.j.mediaTime.set(this.mediaTime);O && this.j.kQb();};c.prototype.seek=function(O,H,J,R){var P,T;J=void 0 === J?this.j.Y:J;R=void 0 === R?!1:R;T=null === (P=this.j.nb) || void 0 === P?void 0:P.Ri;!this.Wk() && T && (this.j.fireEvent(u.ma.hK,{cause:H}),this.Fm.PZ={time:O,cause:H,Y:J,qQb:R},this.j.Eb.set(u.qb.pg),this.Gm());};c.prototype.V4b=function(){var O,H,J,R,P,T,V,S;if(this.Fm.PZ){O=this.Fm.PZ;H=O.time;J=O.cause;R=O.Y;P=O.qQb;if(!this.qh.yi() || J === u.Me.Bw){O=this.j.dk(R).K;T=this.qh.yi()?void 0:this.qh.DRb();T=this.Fm.nTb(H,J,R,P,T);R=T.Jba;P=T.Pk;V=T.x5b;T=T.Wh;this.qh.Ooa(this.mediaTime);S=this.mediaTime;H=(0,t.Rj)(H);this.j.IH("SEEKING: Requested: (" + O + ":" + J + ":" + H + ") - Actual: (contentPts: " + P + ",playerPts: " + (V + ", newMediaTime: " + R + ")"));this.log.info("Seeking",{Requested:H,Actual:(0,t.Rj)(R),Cause:J,Skip:T});J === u.Me.Bw || T || (this.qh.zgb(),this.qh.qac());this.mediaTime=R;this.Fm.$va=P;H=this.j.Xf.value;V=this.j.Ge.value;this.j.Xf.set(null);this.j.Ge.set(null);this.ulb(!0);this.Fm.PZ=void 0;this.Fm.tca=!0;this.j.fireEvent(u.ma.cl,{kya:S,Jba:R,Pk:P,cause:J,skip:T,Xf:H,Ge:V,K:O});T && this.qh.skip(R);}}};c.prototype.Md=function(O,H,J){this.closed || this.j.Md(O,H,J);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.qh.close();this.ac.removeEventListener(z.Ak.O_,this.dbb[z.Ak.O_]);this.ac.removeEventListener(z.Ak.hr,this.dbb[z.Ak.hr]);this.ca.removeEventListener("ended",this.Vy.ended);this.ca.removeEventListener("play",this.Vy.play);this.ca.removeEventListener("pause",this.Vy.pause);this.ca.removeEventListener("playing",this.Vy.playing);this.VB.close();f.nf.removeListener(f.Lo,this.QX[f.Lo]);f.nf.removeListener(f.dt,this.QX[f.dt]);this.closed=!0;try{this.ca.volume=0;this.ca.muted=!0;this.UAa();this.ac.close();}catch(O){}this.ca=void 0;this.qh.zgb();}};c.prototype.Wk=function(){return this.closed?!0:(0,x.vd)(this.ca)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.PMa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uRa="SeekManagerFactorySymbol";},function(r,b,a){var c,g,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.SIa=void 0;c=a(19);g=a(64);k=a(25);m=a(3);f=a(16);b.SIa=function(d,l,n){function h(q){var t,v;t=q.error || q;v=(0,k.cf)(t);n.error("uncaught exception",t,v);(t=(t=t && t.stack) && c.config.$kb && c.config.vec?0 <= t.indexOf(c.config.$kb):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),d.Md(m.$.VSa));}function p(){g.nf.removeListener(g.f$,h);d.removeEventListener(f.ma.ih,p);d.removeEventListener(f.ma.Ov,p);}try{g.nf.addListener(g.f$,h);d.addEventListener(f.ma.ih,p);c.config.EWb && d.addEventListener(f.ma.Ov,p);}catch(q){n.error("exception in exception handler ",q);}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hja="PlayedSegmentsTrackerFactorySymbol";},function(r,b,a){var c,g,k,m,f,d;Object.defineProperty(b,"__esModule",{value:!0});b.dab=void 0;c=a(19);g=a(17);k=a(60);r=a(3);m=a(13);f=a(15);d=a(9);a=a(34);d.Ea.get(a.mj).register(r.$.vKa,function(l){var p,q,t,v,w;function n(){return (0,m.JL)((0,k.ro)() / t);}function h(){var u;u=n();if(u != w){for(var x=(0,m.uz)(u - w,30);x--;){v.push(0);}(x=(0,m.ou)(v.length - 31,0)) && v.splice(0,x);w=u;}v[v.length - 1]++;}p=c.config.A_b;q=-6 / (p - 2 - 2);t=g.lu;v=[];w=n();(0,f.Ava)(p) && (setInterval(h,1E3 / p),b.dab={DSb:function(){var y;for(var u=[],x=v.length - 1;x--;){y=v[x];u.unshift(0 >= y?9:1 >= y?8:y >= p - 1?0:(0,m.mp)((y - 2) * q + 7));}return u;}});l(g.Zg);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eja="PlaybackMilestoneStoreSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NOa="PboManifestRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rOa="PboBindCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Daa=void 0;b.Daa=function(a,c,g){var k;if(g.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");k=g.get;g.get=function(){var m,f;m=k.apply(this,arguments);f={enumerable:g.enumerable,value:m};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,f):Object.defineProperty(this,c,f);return m;};};},function(r,b,a){var g,k,m,f,d;function c(l,n){this.ac=l;this.j=n;this.DY=[];}Object.defineProperty(b,"__esModule",{value:!0});b.wS=void 0;r=a(0);g=a(3);k=a(1);m=a(15);f=a(25);d=a(9);c.prototype.Y8=function(l){this.DY.forEach(function(n){return n(l);});};c.prototype.Md=function(l,n,h){this.j.Md(l,n,h);};c.prototype.dCb=function(l){-1 === this.DY.indexOf(l) && this.DY.push(l);};c.prototype.y8b=function(l){l=this.DY.indexOf(l);0 <= l && this.DY.splice(l,1);};c.prototype.c7a=function(l){var n,h;n={};(0,m.vd)(l.code)?n.za=(0,g.PIa)(l.code):n.za=g.X.Mm;try{h=l.message.match(/\((\d*)\)/)[1];n.Rf=(0,d.Vna)(h,4);}catch(p){}n.Qb=(0,f.cf)(l);return n;};a=c;a=r.__decorate([(0,k.aa)()],a);b.wS=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iQa="PlaygraphPlaybackStrategyFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mQa="PlaygraphStateFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qLa="LegacyPostPlayShimFactorySymbol";},function(r,b,a){var g;function c(k,m,f,d,l){var n;n=this;this.ub=k;this.nl=m;this.aw=f;this.Lb=d;this.Gn=l;this.Oca=new Map();this.Hac();this.Lb.addListener(g.Na.loaded,function(){return n.Ceb();});}Object.defineProperty(b,"__esModule",{value:!0});b.CG=void 0;g=a(16);c.prototype.JXa=function(k){var m,f;m=this;f=Object.keys(this.ub.Rl.R).find(function(d){return m.ub.Rl.R[d].P === k.K;});k.id || (k.id=null !== f && void 0 !== f?f:this.Gn.Ws(k.K));f || (this.ub.Rl=this.Gn.fDb(this.ub.Rl,k));f=this.$J(k.id);k.jk && this.ub.cfc(k.id,k.jk);return f;};c.prototype.Skb=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.Xta=function(k,m){var f;f=this;m=void 0 === m?{}:m;return this.aw.transition(k,m).then(function(){f.ub.Yh=k;});};c.prototype.close=function(k){return this.aw.close(k);};c.prototype.isReady=function(){return this.aw.WTb();};c.prototype.Ho=function(){return this.aw.Ho();};c.prototype.RI=function(){return this.aw.RI();};c.prototype.$J=function(k){this.Oca.has(k) || this.Oca.set(k,this.aw.vg(this.dFb(k)));return this.Oca.get(k);};c.prototype.Hac=function(){var k;k=this;this.aw.addListener(g.KG.Q_,function(){return k.Lb.Uc(g.KG.Q_);});Object.values(g.Na).forEach(function(m){k.aw.addListener(m,function(f){return k.Lb.Uc(m,f);});});};c.prototype.ny=function(){this.Ceb();};c.prototype.xya=function(k){this.aw.afc({id:k,K:this.ub.De(k).P,jk:this.ub.oUb(k)});};c.prototype.IJ=function(){};c.prototype.Ceb=function(){var k,m;if(this.isReady()){k=this.ub.Yh;m=this.ub.CX(k);m && !this.Oca.has(m) && (this.xya(k),this.$J(m));}};c.prototype.dFb=function(k){var m,f,d,l;f=this.ub.De(k);d=this.nl.jP(f.P);l=null === d || void 0 === d?void 0:d.Db;d=null === d || void 0 === d?void 0:d.fa;return {id:k,K:f.P,da:f.xa,jk:null !== (m=null === l || void 0 === l?void 0:l.jk) && void 0 !== m?m:f.wa,Db:l,fa:d};};b.CG=c;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.fja=void 0;a.prototype.Twa=function(c){c=void 0 === c?{}:c;return {ml:c.trackingId,d7:c.authParams,Nn:c.sessionParams,he:c.uiLabel,nfa:c.uxLabels,yqa:c.disableTrackStickiness,XR:c.uiPlayStartTime,f9:c.forceAudioTrackId,g9:c.forceTimedTextTrackId,di:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,yO:c.enableTrickPlay,lua:c.heartbeatCooldown,kaa:c.isPlaygraph,Iaa:c.loadImmediately || !1,Sdb:c.pin,ZZ:c.preciseSeeking,da:c.startPts,Ta:c.endPts,jk:c.logicalEnd,pda:c.renderTimedText,p3a:c.extraManifestParams,Ena:c.assetId,SDb:c.audioLanguages,bdc:c.textLanguages,jmb:c.videoLanguage,Wo:c.packageId,L1a:c.desiredDownloadables,FAa:c.requestReference,CCb:c.additionalAudioAssets,GCb:c.additionalTextAssets};};b.fja=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iJa=void 0;b.iJa=function(a){var k,m,f,d;function c(){if(f)for(var l;l=k.pop();){l(d);}}function g(l){f=!0;d=l;c();}k=[];return function(l){k.push(l);m || (m=!0,a(g));c();};};},function(r,b,a){var g,k,m,f;function c(d){var l;(0,g.ck)("MediaSourceASE").trace("Inside MediaSourceASE");l=d.bta();this.readyState=f.Xc.CLOSED;this.sourceBuffers=l.sourceBuffers;this.addSourceBuffer=function(n){return l.addSourceBuffer(n);};this.y6=function(n){return l.y6(n);};this.removeSourceBuffer=function(n){return l.removeSourceBuffer(n);};this.Qs=function(n){return l.Qs(n);};this.duration=void 0;this.readyState=f.Xc.OPEN;this.fd=k.Ea.get(m.oi).BJ(f.fd,{});}Object.defineProperty(b,"__esModule",{value:!0});b.UMa=void 0;g=a(9);k=a(9);m=a(30);Object.defineProperty(c.prototype,"duration",{get:function(){return this.Ek;},set:function(d){var l;this.Ek=d || Infinity;l=Math.floor(1E3 * d) || Infinity;this.sourceBuffers.forEach(function(n){n.Ek=l;});}});f={Xc:{CLOSED:0,OPEN:1,js:2,name:["CLOSED","OPEN","ENDED"]},fd:{B_a:!0,Pbb:!0}};b.UMa=Object.assign(c,f);},function(r,b,a){var l,n,h,p,q,t,v,w;function c(u){return u.split(",").reduce(function(x,y){var z;z=y.split("=");y=z[0];z=z.slice(1).join("=");y && y.length && (x[y]=z || !0);return x;},{});}function g(u){return u && "object" === typeof u?JSON.stringify(u):"string" === typeof u?'"' + u + '"':"" + u;}function k(u,x,y){var z;if("string" === typeof u)return k.call(this,c(u),x,y);z=0;Object.keys(u).forEach(function(A){var B,C,D;B=q[A];C=u[A];if(B){if(D=t[A] || w[typeof l[B]])try{C=D(C);}catch(E){y && y.error("Failed to convert value '" + C + "' for config '" + A + "' : " + E.toString());return;}D=p[B];this[B]=C;p[B] !== D && (y && y.debug("Config changed for '" + A + "' from " + g(D) + " (" + typeof D + ") to " + g(C) + " (" + typeof C + ")"),++z);}else x?(B=(B=v[A])?B.filter(function(E){return E[0] !== this;},this):[],B.push([this,C]),v[A]=B):y && y.error("Attempt to change undeclared config option '" + A + "'");},this);z && p.emit("changed");return z;}function m(){return Object.keys(q).reduce(function(u,x){var y,z;y=q[x];z=u[y];z?(z.push(x),u[y]=z.sort(function(A,B){return B.length - A.length;})):u[y]=[x];return u;},{});}function f(u,x){return u.hasOwnProperty(x)?g(u[x]):void 0;}function d(u,x){return "undefined" === typeof u?x:u;}b=a(90);a=a(1439).EventEmitter;l={};n=Object.create(l);h=Object.create(n);p=Object.create(h);q={};t={};v={};p.declare=function(u){Object.keys(u).forEach(function(x){var y,z,A,B;y=u[x];z=y[0];A=y[1];B=y[2];if(l.hasOwnProperty(x))throw Error("The local configuraion key '" + x + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(C){var D;if(q.hasOwnProperty(C))throw Error("The configuration value '" + C + "' has been declared more than once");l.hasOwnProperty(x) || ("function" === typeof A && (A=A()),l[x]=A);q[C]=x;"function" === typeof B && (t[C]=B);if(D=v[C])(D.forEach(function(E){var G,F;G=E[0];F={};F[C]=E[1];k.call(G,F,!1);}),delete v[C]);});});return p;};w={object:function(u){return "object" == typeof u?u:JSON.parse("" + u);},"boolean":function(u){return "boolean" == typeof u?u:!("0" === "" + u || "false" === ("" + u).toLowerCase());},number:function(u){if("number" == typeof u)return u;u=parseFloat("" + u);if(isNaN(u))throw Error("parseFloat returned NaN");return u;}};p.set=k.bind(n);p.HZ=k.bind(h);p.dump=function(u,x){var z,A,B,C;function y(){C && u && u.log("===========================================");}z=Object.keys(v).sort();A={};B=m();x=d(x,!0);Object.keys(q).sort().forEach(function(D){var E,G,F;D=q[D];if(!A[D]){A[D]=!0;E=f(n,D);G=f(h,D);if(x || "undefined" !== typeof E || "undefined" !== typeof G){F=B[D].join(",");F+=" = " + g(p[D]) + " (" + typeof p[D] + ") [";F+=d(G,"<unset>") + ",";F+=d(E,"<unset>") + ",";F+=f(l,D) + "]";C || (C=!0,u && u.log("Current config values"),y());u && u.log(F);}}});(x || z.length) && u && u.log("<undeclared> :",z);y();};p.vi=function(u){var x,y;x={};y={};Object.keys(q).forEach(function(z){z=q[z];y[z] || (y[z]=!0,x[z]=p[z]);});u && k.call(x,u);return x;};p.Rdb=function(){var u;u=m();return Object.getOwnPropertyNames(n).reduce(function(x,y){x[u[y][0]]=n[y];return x;},{});};p.reset=function(){Object.keys(n).forEach(function(u){delete n[u];});};p.Kd={};b(a,p);r.exports=Object.freeze(p);},function(r,b,a){var g;function c(k){for(var m="",f=0;f < k.length;f++){m+=k[f].P + "|";}return m;}g=a(314);r.exports={assert:function(k,m){if(!k)throw Error("PlayPredictionModel assertion failed" + (m?" : " + m:""));},qpc:function(k,m,f){Array.prototype.splice.apply(k,[m,0].concat(f));},TRb:function(k){for(var m=[],f=0;f < k.length;f++){if(k[f].context === g.bT.Qob){m=k[f].list;break;}}return m;},ARb:function(k){for(var m=[],f=0;f < k.length;f++){if(k[f].context === g.bT.Jnb){m=k[f].list;break;}}return m;},iMb:function(k,m){for(var f=0,d,l,n,h=0,p=k.length - 1;h < p;h++){d=c(k[h].list || []);n=!1;for(var q=0,t=m.length;q < t;q++){if((l=c(m[q].list || []),l == d)){n=!0;break;}}if(!1 === n){f=h;break;}}return f;},M2b:function(k,m,f){for(var d=[],l,n=0;n < Math.min(m,k.length);n++){l=k[n].list || [];d=d.concat(l.slice(0,f));}return d;},L2b:function(k,m){for(var f=[],d,l=0;l < k.length && (d=k[l].list || [],d=d.slice(0,Math.min(d.length,m)),m-=d.length,f=f.concat(d),0 !== m);l++){;}return f;},K2b:function(k,m,f){var d;m < k.length && 0 <= m && (k=k[m].list || [],f < k.length && (d=k[f]));return d;},L3a:function(k){for(var m={},f=k.length,d,l=0;l < f;l++){d=k[l].list || [];for(var n=0;n < d.length;n++){if(d[n].property === g.DL.yT || d[n].property === g.DL.jHa){m.fl=l;m.jn=n;break;}}}void 0 === m.fl && void 0 === m.jn && (m.fl=0,m.jn=0);return m;}};},function(r,b,a){var m;function c(f,d,l,n,h,p,q){this.Y0=n;this.Vmb=f;this.gcb=d;this.Hxa=l;this.LYb=p;this.IF=q;this.split=h;}function g(){this.U={};this.U["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.U["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.U["3"]=new c("7","8","7","10","1.5",0,0);this.U["7"]=new c("15","16","15","9","4.5",0,0);this.U["15"]=new c("31","32","31","2","5.5",0,0);this.U["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.U["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.U["123"]=new c("123","124","123","0","0",1,.207298);this.U["124"]=new c("123","124","123","0","0",1,.49076);this.U["64"]=new c("125","126","125","4","40.5",0,0);this.U["125"]=new c("125","126","125","0","0",1,-.00157835);this.U["126"]=new c("125","126","125","0","0",1,.934205);this.U["32"]=new c("65","66","65","135","5.5",0,0);this.U["65"]=new c("127","128","128","4","1272.5",0,0);this.U["127"]=new c("127","128","128","0","0",1,-.510333);this.U["128"]=new c("127","128","128","0","0",1,.18363);this.U["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.U["129"]=new c("129","130","129","0","0",1,-.0464542);this.U["130"]=new c("129","130","129","0","0",1,.458833);this.U["16"]=new c("33","34","34","10","2.00001",0,0);this.U["33"]=new c("67","68","67","0","29.5",0,0);this.U["67"]=new c("131","132","131","2","39.5",0,0);this.U["131"]=new c("131","132","131","0","0",1,-.37577);this.U["132"]=new c("131","132","131","0","0",1,.512087);this.U["68"]=new c("133","134","134","140","1.5",0,0);this.U["133"]=new c("133","134","134","0","0",1,.321272);this.U["134"]=new c("133","134","134","0","0",1,-.675396);this.U["34"]=new c("69","70","70","2","24.5",0,0);this.U["69"]=new c("135","136","136","9","28.5",0,0);this.U["135"]=new c("135","136","136","0","0",1,-.0573845);this.U["136"]=new c("135","136","136","0","0",1,-.507455);this.U["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.U["137"]=new c("137","138","137","0","0",1,-.503909);this.U["138"]=new c("137","138","137","0","0",1,.450886);this.U["8"]=new c("17","18","17","4","44189.5",0,0);this.U["17"]=new c("35","36","35","2","21.5",0,0);this.U["35"]=new c("71","72","72","0","19.5",0,0);this.U["71"]=new c("139","140","140","9","2.5",0,0);this.U["139"]=new c("139","140","140","0","0",1,.00403497);this.U["140"]=new c("139","140","140","0","0",1,-.312656);this.U["72"]=new c("141","142","141","135","96",0,0);this.U["141"]=new c("141","142","141","0","0",1,-.465786);this.U["142"]=new c("141","142","141","0","0",1,.159633);this.U["36"]=new c("73","74","73","130","89.5",0,0);this.U["73"]=new c("143","144","144","10","4.5",0,0);this.U["143"]=new c("143","144","144","0","0",1,-.76265);this.U["144"]=new c("143","144","144","0","0",1,-.580804);this.U["74"]=new c("145","146","146","10","16.5",0,0);this.U["145"]=new c("145","146","146","0","0",1,.296357);this.U["146"]=new c("145","146","146","0","0",1,-.691659);this.U["18"]=new c("37","38","38","9","1.5",0,0);this.U["37"]=new c("37","38","38","0","0",1,.993951);this.U["38"]=new c("75","76","75","0","19",0,0);this.U["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.U["147"]=new c("147","148","147","0","0",1,-.346535);this.U["148"]=new c("147","148","147","0","0",1,-.995745);this.U["76"]=new c("147","148","147","0","0",1,-.99978);this.U["4"]=new c("9","10","9","5","4.5",0,0);this.U["9"]=new c("19","20","19","2","4.5",0,0);this.U["19"]=new c("39","40","39","140","7.5",0,0);this.U["39"]=new c("77","78","78","134","6.5",0,0);this.U["77"]=new c("149","150","150","7","11.5",0,0);this.U["149"]=new c("149","150","150","0","0",1,.729843);this.U["150"]=new c("149","150","150","0","0",1,.383857);this.U["78"]=new c("151","152","151","133","4.5",0,0);this.U["151"]=new c("151","152","151","0","0",1,.39017);this.U["152"]=new c("151","152","151","0","0",1,.0434342);this.U["40"]=new c("79","80","79","133","3.5",0,0);this.U["79"]=new c("153","154","154","8","4.5",0,0);this.U["153"]=new c("153","154","154","0","0",1,-.99536);this.U["154"]=new c("153","154","154","0","0",1,-.00943396);this.U["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.U["155"]=new c("155","156","155","0","0",1,.266272);this.U["156"]=new c("155","156","155","0","0",1,.959904);this.U["20"]=new c("41","42","42","10","65.5",0,0);this.U["41"]=new c("81","82","82","7","10.5",0,0);this.U["81"]=new c("157","158","158","2","37.5",0,0);this.U["157"]=new c("157","158","158","0","0",1,-.701873);this.U["158"]=new c("157","158","158","0","0",1,.224649);this.U["82"]=new c("159","160","159","133","9.5",0,0);this.U["159"]=new c("159","160","159","0","0",1,.0955181);this.U["160"]=new c("159","160","159","0","0",1,-.58962);this.U["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.U["83"]=new c("161","162","161","135","31",0,0);this.U["161"]=new c("161","162","161","0","0",1,-.229692);this.U["162"]=new c("161","162","161","0","0",1,.88595);this.U["84"]=new c("163","164","164","1","13.5",0,0);this.U["163"]=new c("163","164","164","0","0",1,-.992157);this.U["164"]=new c("163","164","164","0","0",1,.922159);this.U["10"]=new c("21","22","22","4","486",0,0);this.U["21"]=new c("43","44","44","133","4.5",0,0);this.U["43"]=new c("85","86","86","10","4.5",0,0);this.U["85"]=new c("165","166","166","4","158.5",0,0);this.U["165"]=new c("165","166","166","0","0",1,-.127778);this.U["166"]=new c("165","166","166","0","0",1,.955189);this.U["86"]=new c("165","166","166","0","0",1,-.994012);this.U["44"]=new c("87","88","88","1","3.5",0,0);this.U["87"]=new c("167","168","168","135","7",0,0);this.U["167"]=new c("167","168","168","0","0",1,-.997015);this.U["168"]=new c("167","168","168","0","0",1,.400821);this.U["88"]=new c("169","170","169","130","36",0,0);this.U["169"]=new c("169","170","169","0","0",1,-.898638);this.U["170"]=new c("169","170","169","0","0",1,.56129);this.U["22"]=new c("45","46","45","9","2.5",0,0);this.U["45"]=new c("89","90","90","9","1.5",0,0);this.U["89"]=new c("171","172","171","10","10.5",0,0);this.U["171"]=new c("171","172","171","0","0",1,.573986);this.U["172"]=new c("171","172","171","0","0",1,-.627266);this.U["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.U["173"]=new c("173","174","173","0","0",1,.925273);this.U["174"]=new c("173","174","173","0","0",1,-.994805);this.U["46"]=new c("91","92","91","136","5.5",0,0);this.U["91"]=new c("175","176","175","10","10.5",0,0);this.U["175"]=new c("175","176","175","0","0",1,.548352);this.U["176"]=new c("175","176","175","0","0",1,-.879195);this.U["92"]=new c("177","178","178","8","14.5",0,0);this.U["177"]=new c("177","178","178","0","0",1,.457305);this.U["178"]=new c("177","178","178","0","0",1,-.998992);this.U["2"]=new c("5","6","5","10","2.5",0,0);this.U["5"]=new c("11","12","11","9","4.5",0,0);this.U["11"]=new c("23","24","24","10","4.00001",0,0);this.U["23"]=new c("47","48","48","133","5.5",0,0);this.U["47"]=new c("93","94","93","3","13.5",0,0);this.U["93"]=new c("179","180","179","138","15.5",0,0);this.U["179"]=new c("179","180","179","0","0",1,.658398);this.U["180"]=new c("179","180","179","0","0",1,-.927007);this.U["94"]=new c("181","182","182","3","15.5",0,0);this.U["181"]=new c("181","182","182","0","0",1,-.111351);this.U["182"]=new c("181","182","182","0","0",1,-.99827);this.U["48"]=new c("95","96","95","7","167",0,0);this.U["95"]=new c("183","184","183","132","36.5",0,0);this.U["183"]=new c("183","184","183","0","0",1,.895161);this.U["184"]=new c("183","184","183","0","0",1,-.765217);this.U["96"]=new c("185","186","186","137","6.00001",0,0);this.U["185"]=new c("185","186","186","0","0",1,-.851095);this.U["186"]=new c("185","186","186","0","0",1,.674286);this.U["24"]=new c("49","50","49","137","5.5",0,0);this.U["49"]=new c("97","98","97","5","23.5",0,0);this.U["97"]=new c("187","188","187","3","28.5",0,0);this.U["187"]=new c("187","188","187","0","0",1,.951654);this.U["188"]=new c("187","188","187","0","0",1,-.993808);this.U["98"]=new c("187","188","187","0","0",1,-.99705);this.U["50"]=new c("187","188","187","0","0",1,-.997525);this.U["12"]=new c("25","26","25","8","8.5",0,0);this.U["25"]=new c("51","52","52","10","4.00001",0,0);this.U["51"]=new c("99","100","100","133","5.5",0,0);this.U["99"]=new c("189","190","190","7","40.5",0,0);this.U["189"]=new c("189","190","190","0","0",1,.151839);this.U["190"]=new c("189","190","190","0","0",1,-.855517);this.U["100"]=new c("191","192","192","133","14.5",0,0);this.U["191"]=new c("191","192","192","0","0",1,.86223);this.U["192"]=new c("191","192","192","0","0",1,.544394);this.U["52"]=new c("101","102","101","135","47.5",0,0);this.U["101"]=new c("193","194","194","4","24.5",0,0);this.U["193"]=new c("193","194","194","0","0",1,.946185);this.U["194"]=new c("193","194","194","0","0",1,.811859);this.U["102"]=new c("193","194","194","0","0",1,-.991561);this.U["26"]=new c("53","54","54","132","6.5",0,0);this.U["53"]=new c("103","104","103","131","85",0,0);this.U["103"]=new c("195","196","196","134","16.5",0,0);this.U["195"]=new c("195","196","196","0","0",1,.0473538);this.U["196"]=new c("195","196","196","0","0",1,-.999401);this.U["104"]=new c("197","198","198","8","15.5",0,0);this.U["197"]=new c("197","198","198","0","0",1,.816129);this.U["198"]=new c("197","198","198","0","0",1,-.99322);this.U["54"]=new c("105","106","105","133","3.5",0,0);this.U["105"]=new c("105","106","105","0","0",1,-.998783);this.U["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.U["199"]=new c("199","200","199","0","0",1,.528588);this.U["200"]=new c("199","200","199","0","0",1,-.998599);this.U["6"]=new c("13","14","14","10","7.5",0,0);this.U["13"]=new c("27","28","28","133","7.5",0,0);this.U["27"]=new c("55","56","56","10","4.5",0,0);this.U["55"]=new c("107","108","107","3","3.5",0,0);this.U["107"]=new c("201","202","201","4","17.5",0,0);this.U["201"]=new c("201","202","201","0","0",1,-.379512);this.U["202"]=new c("201","202","201","0","0",1,.15165);this.U["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.U["203"]=new c("203","204","203","0","0",1,-.884606);this.U["204"]=new c("203","204","203","0","0",1,.265406);this.U["56"]=new c("109","110","109","136","6.5",0,0);this.U["109"]=new c("205","206","205","4","157.5",0,0);this.U["205"]=new c("205","206","205","0","0",1,-.0142737);this.U["206"]=new c("205","206","205","0","0",1,.691279);this.U["110"]=new c("205","206","205","0","0",1,-.998086);this.U["28"]=new c("57","58","58","138","11.5",0,0);this.U["57"]=new c("111","112","112","2","6.5",0,0);this.U["111"]=new c("207","208","208","7","67.5",0,0);this.U["207"]=new c("207","208","208","0","0",1,.763925);this.U["208"]=new c("207","208","208","0","0",1,-.309645);this.U["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.U["209"]=new c("209","210","209","0","0",1,-.306635);this.U["210"]=new c("209","210","209","0","0",1,.556696);this.U["58"]=new c("113","114","113","138","50.5",0,0);this.U["113"]=new c("211","212","212","8","25.5",0,0);this.U["211"]=new c("211","212","212","0","0",1,.508234);this.U["212"]=new c("211","212","212","0","0",1,.793551);this.U["114"]=new c("211","212","212","0","0",1,-.998438);this.U["14"]=new c("29","30","29","134","27.5",0,0);this.U["29"]=new c("59","60","60","7","17.5",0,0);this.U["59"]=new c("115","116","115","135","5.5",0,0);this.U["115"]=new c("213","214","214","137","5.5",0,0);this.U["213"]=new c("213","214","214","0","0",1,.401747);this.U["214"]=new c("213","214","214","0","0",1,.0367503);this.U["116"]=new c("215","216","216","8","5.5",0,0);this.U["215"]=new c("215","216","216","0","0",1,-.0241984);this.U["216"]=new c("215","216","216","0","0",1,-.999046);this.U["60"]=new c("117","118","117","0","12.5",0,0);this.U["117"]=new c("217","218","218","132","5.5",0,0);this.U["217"]=new c("217","218","218","0","0",1,-.997294);this.U["218"]=new c("217","218","218","0","0",1,.210398);this.U["118"]=new c("219","220","219","137","1.5",0,0);this.U["219"]=new c("219","220","219","0","0",1,-.55763);this.U["220"]=new c("219","220","219","0","0",1,.074493);this.U["30"]=new c("61","62","62","133","42.5",0,0);this.U["61"]=new c("119","120","119","135","5.5",0,0);this.U["119"]=new c("221","222","222","4","473.5",0,0);this.U["221"]=new c("221","222","222","0","0",1,-.920213);this.U["222"]=new c("221","222","222","0","0",1,-.17615);this.U["120"]=new c("223","224","224","5","144",0,0);this.U["223"]=new c("223","224","224","0","0",1,-.954295);this.U["224"]=new c("223","224","224","0","0",1,-.382538);this.U["62"]=new c("121","122","121","133","50",0,0);this.U["121"]=new c("225","226","226","10","18.5",0,0);this.U["225"]=new c("225","226","226","0","0",1,-.0731343);this.U["226"]=new c("225","226","226","0","0",1,.755454);this.U["122"]=new c("227","228","228","0","30",0,0);this.U["227"]=new c("227","228","228","0","0",1,.25);this.U["228"]=new c("227","228","228","0","0",1,-.997101);}function k(f,d,l,n,h,p){this.Dda=h;this.B7=p;}b=a(593);m=a(313);a={};a.NDb=new (function(){this.ixb=m();this.Ra=0;this.update=function(){this.Ra=m() - this.ixb;};this.type="num";})();a.BZb=new (function(){this.type="cat";})();a.CZb=new (function(){this.type="cat";})();a.EZb=new (function(){this.type="cat";})();a.FZb=new (function(){this.type="cat";})();a.DZb=new (function(){this.type="cat";})();a.GZb=new (function(){this.type="cat";})();a.HZb=new (function(){this.type="cat";})();a.IZb=new (function(){this.type="cat";})();a.JZb=new (function(){this.type="cat";})();a.KZb=new (function(){this.type="cat";})();a.LZb=new (function(){this.type="cat";})();a.MZb=new (function(){this.type="cat";})();a.OZb=new (function(){this.type="cat";})();a.PZb=new (function(){this.type="cat";})();a.QZb=new (function(){this.type="cat";})();a.NZb=new (function(){this.type="cat";})();a.yEb=new (function(){this.update=function(f){for(var d in f.Ob){if("becauseYouAdded" === f.Ob[d].context){this.Ra=Math.max(f.Ob[d].list.length,this.Ra);break;}}};this.type="num";this.Ra=0;})();a.zEb=new (function(){this.update=function(f){for(var d in f.Ob){if("becauseYouLiked" === f.Ob[d].context){this.Ra=Math.max(f.Ob[d].list.length,this.Ra);break;}}};this.type="num";this.Ra=0;})();a.CEb=new (function(){this.update=function(f){for(var d in f.Ob){if("billboard" === f.Ob[d].context){this.Ra=Math.max(f.Ob[d].list.length,this.Ra);break;}}};this.type="num";this.Ra=0;})();a.QHb=new (function(){this.update=function(f){for(var d in f.Ob){if("continueWatching" === f.Ob[d].context){this.Ra=Math.max(f.Ob[d].list.length,this.Ra);break;}}};this.type="num";this.Ra=0;})();a.BEb=new (function(){this.update=function(f){for(var d in f.Ob){if("bigRow" === f.Ob[d].context){this.Ra=Math.max(f.Ob[d].list.length,this.Ra);break;}}};this.type="num";this.Ra=0;})();a.$Qb=new (function(){this.update=function(f){for(var d in f.Ob){if("genre" === f.Ob[d].context){this.Ra=Math.max(f.Ob[d].list.length,this.Ra);break;}}};this.type="num";this.Ra=0;})();a.P1b=new (function(){this.update=function(f){for(var d in f.Ob){if("netflixOriginals" === f.Ob[d].context){this.Ra=Math.max(f.Ob[d].list.length,this.Ra);break;}}};this.type="num";this.Ra=0;})();a.S1b=new (function(){this.update=function(f){for(var d in f.Ob){if("newRelease" === f.Ob[d].context){this.Ra=Math.max(f.Ob[d].list.length,this.Ra);break;}}};this.type="num";this.Ra=0;})();a.N5b=new (function(){this.update=function(f){for(var d in f.Ob){if("popularTitles" === f.Ob[d].context){this.Ra=Math.max(f.Ob[d].list.length,this.Ra);break;}}};this.type="num";this.Ra=0;})();a.Ht=new (function(){this.update=function(f){for(var d in f.Ob){if("queue" === f.Ob[d].context){this.Ra=Math.max(f.Ob[d].list.length,this.Ra);break;}}};this.type="num";this.Ra=0;})();a.H7b=new (function(){this.update=function(f){for(var d in f.Ob){if("recentlyAdded" === f.Ob[d].context){this.Ra=Math.max(f.Ob[d].list.length,this.Ra);break;}}};this.type="num";this.Ra=0;})();a.kbc=new (function(){this.update=function(f){for(var d in f.Ob){if("similars" === f.Ob[d].context){this.Ra=Math.max(f.Ob[d].list.length,this.Ra);break;}}};this.type="num";this.Ra=0;})();a.Zdc=new (function(){this.update=function(f){for(var d in f.Ob){if("trendingNow" === f.Ob[d].context){this.Ra=Math.max(f.Ob[d].list.length,this.Ra);break;}}};this.type="num";this.Ra=0;})();a.tec=new (function(){this.update=function(f){for(var d in f.Ob){if("ultraHD" === f.Ob[d].context){this.Ra=Math.max(f.Ob[d].list.length,this.Ra);break;}}};this.type="num";this.Ra=0;})();a.vgc=new (function(){this.update=function(f){for(var d in f.Ob){if("watchAgain" === f.Ob[d].context){this.Ra=Math.max(f.Ob[d].list.length,this.Ra);break;}}};this.type="num";this.Ra=0;})();a.Kdc=new (function(){this.update=function(f){for(var d in f.Ob){if("topTen" === f.Ob[d].context){this.Ra=Math.max(f.Ob[d].list.length,this.Ra);break;}}};this.type="num";this.Ra=0;})();a.$Hb=new (function(){this.type="cat";})();a.aIb=new (function(){this.type="cat";})();a.bIb=new (function(){this.type="cat";})();a.cIb=new (function(){this.type="cat";})();a.dIb=new (function(){this.type="cat";})();a.eIb=new (function(){this.type="cat";})();a.fIb=new (function(){this.type="cat";})();a.gIb=new (function(){this.type="cat";})();a.hIb=new (function(){this.type="cat";})();a.iIb=new (function(){this.type="cat";})();a.jIb=new (function(){this.type="cat";})();a.kIb=new (function(){this.type="cat";})();a.lIb=new (function(){this.type="cat";})();a.mIb=new (function(){this.type="cat";})();a.nIb=new (function(){this.type="cat";})();a.oIb=new (function(){this.type="cat";})();a.pIb=new (function(){this.type="cat";})();a.qIb=new (function(){this.type="cat";})();a.rIb=new (function(){this.type="cat";})();a.sIb=new (function(){this.type="cat";})();a.tIb=new (function(){this.type="cat";})();a.uIb=new (function(){this.type="cat";})();a.vIb=new (function(){this.type="cat";})();a.wIb=new (function(){this.type="cat";})();a.xIb=new (function(){this.type="cat";})();a.yIb=new (function(){this.type="cat";})();a.zIb=new (function(){this.type="cat";})();a.AIb=new (function(){this.type="cat";})();a.BIb=new (function(){this.type="cat";})();a.CIb=new (function(){this.type="cat";})();a.DIb=new (function(){this.type="cat";})();a.EIb=new (function(){this.type="cat";})();a.FIb=new (function(){this.type="cat";})();a.GIb=new (function(){this.type="cat";})();a.HIb=new (function(){this.type="cat";})();a.IIb=new (function(){this.type="cat";})();a.JIb=new (function(){this.type="cat";})();a.KIb=new (function(){this.type="cat";})();a.LIb=new (function(){this.type="cat";})();a.MIb=new (function(){this.type="cat";})();a.NIb=new (function(){this.type="cat";})();a.OIb=new (function(){this.type="cat";})();a.PIb=new (function(){this.type="cat";})();a.QIb=new (function(){this.type="cat";})();a.RIb=new (function(){this.type="cat";})();a.SIb=new (function(){this.type="cat";})();a.TIb=new (function(){this.type="cat";})();a.UIb=new (function(){this.type="cat";})();a.VIb=new (function(){this.type="cat";})();a.WIb=new (function(){this.type="cat";})();a.XIb=new (function(){this.type="cat";})();a.YIb=new (function(){this.type="cat";})();a.ZIb=new (function(){this.type="cat";})();a.$Ib=new (function(){this.type="cat";})();a.aJb=new (function(){this.type="cat";})();a.bJb=new (function(){this.type="cat";})();a.cJb=new (function(){this.type="cat";})();a.dJb=new (function(){this.type="cat";})();a.eJb=new (function(){this.type="cat";})();a.fJb=new (function(){this.type="cat";})();a.gJb=new (function(){this.type="cat";})();a.hJb=new (function(){this.type="cat";})();a.iJb=new (function(){this.type="cat";})();a.jJb=new (function(){this.type="cat";})();a.kJb=new (function(){this.type="cat";})();a.lJb=new (function(){this.type="cat";})();a.mJb=new (function(){this.type="cat";})();a.nJb=new (function(){this.type="cat";})();a.oJb=new (function(){this.type="cat";})();a.pJb=new (function(){this.type="cat";})();a.qJb=new (function(){this.type="cat";})();a.rJb=new (function(){this.type="cat";})();a.sJb=new (function(){this.type="cat";})();a.tJb=new (function(){this.type="cat";})();a.uJb=new (function(){this.type="cat";})();a.vJb=new (function(){this.type="cat";})();a.wJb=new (function(){this.type="cat";})();a.xJb=new (function(){this.type="cat";})();a.yJb=new (function(){this.type="cat";})();a.K7b=new (function(){this.type="cat";})();a.L7b=new (function(){this.type="cat";})();a.M7b=new (function(){this.type="cat";})();a.N7b=new (function(){this.type="cat";})();a.O7b=new (function(){this.type="cat";})();a.P7b=new (function(){this.type="cat";})();a.Q7b=new (function(){this.type="cat";})();a.R7b=new (function(){this.type="cat";})();a.S7b=new (function(){this.type="cat";})();a.T7b=new (function(){this.type="cat";})();a.U7b=new (function(){this.type="cat";})();a.V7b=new (function(){this.type="cat";})();a.W7b=new (function(){this.type="cat";})();a.X7b=new (function(){this.type="cat";})();a.Y7b=new (function(){this.type="cat";})();a.Z7b=new (function(){this.type="cat";})();a.$7b=new (function(){this.type="cat";})();a.a8b=new (function(){this.type="cat";})();a.b8b=new (function(){this.type="cat";})();a.c8b=new (function(){this.type="cat";})();a.d8b=new (function(){this.type="cat";})();a.e8b=new (function(){this.type="cat";})();a.f8b=new (function(){this.type="cat";})();a.zcc=new (function(){this.update=function(f){"down" === f.direction && this.Ra++;};this.type="num";this.Ra=0;})();a.Bcc=new (function(){this.update=function(f){"right" === f.direction && this.Ra++;};this.type="num";this.Ra=0;})();a.Acc=new (function(){this.update=function(f){"left" === f.direction && this.Ra++;};this.type="num";this.Ra=0;})();a.Ccc=new (function(){this.update=function(f){"up" === f.direction && this.Ra++;};this.type="num";this.Ra=0;})();a.y0b=new (function(){this.Ra=0;this.update=function(f){this.Ra=Math.max(this.Ra,f.rowIndex);};this.type="num";})();a.z0b=new (function(){this.Ra=0;this.update=function(f){this.Ra=Math.max(this.Ra,f.E_a);};this.type="num";})();a.C0b=new (function(){this.aH=this.Ra=0;this.update=function(f){this.aH++;this.Ra=1 * (this.Ra + f.rowIndex) / this.aH;};this.type="num";})();a.D0b=new (function(){this.aH=this.Ra=0;this.update=function(f){this.aH++;return this.Ra=1 * (this.Ra + f.E_a) / this.aH;};this.type="num";})();a.u6b=new (function(){this.type="num";})();a.v6b=new (function(){this.type="num";})();g.prototype.IF=function(f){return this.BWa(this.U["0"].chb(f),f);};g.prototype.BWa=function(f,d){return "string" == typeof f?this.BWa(this.U[f].chb(d),d):f;};c.prototype.chb=function(f){switch(this.LYb){case 0:switch(f.features[this.Y0].type){case "cat":return null === f.features[this.Y0].value?this.gcb:"missing" == f.features[this.Y0].value?this.Hxa:this.Vmb;case "num":return null === f.features[this.Y0].value?this.Hxa:f.features[this.Y0].value < this.split?this.Vmb:this.gcb;default:return this.Hxa;}case 1:return this.IF;default:return this.IF;}};b.declare({jZ:["modelSelector","modelone"],mHb:["colEpisodeList",5],eWb:["holdDuration",15E3],Pgb:["rowFirst",2],D_a:["colFirst",5],Qgb:["rowScroll",2],F_a:["colScroll",6],H9b:["rowScrollHorizontal",6],f$b:["searchTop",3],f1a:["cwFirst",2],XX:["horizontalItemsFocusedMode",3],NYb:["itemsPerRank",1],o0b:["maxNumberPayloadsStored",10],Kab:["maxNumberTitlesScheduled",5],koc:["enableDetailedLogging",!0],mrc:["rowStep",20],ync:["colStep",15],Iqc:["pageRows",100],Hqc:["pageColumns",75],Xwa:["maskParamsList",new (function(){var f,d;this.Xwa=[];this.Cm={};this.Dda=20;this.B7=15;for(f=0;100 > f;f++){for(d=0;75 > d;d++){(Math.floor(f / this.Dda) + "_" + Math.floor(d / this.B7) in this.Cm) || (this.Cm[Math.floor(f / this.Dda) + "_" + Math.floor(d / this.B7)]=1,this.Xwa.push(new k("grid",10,5,5,Math.floor(f / this.Dda),Math.floor(d / this.B7))));}}})().Xwa],U:["nodes",new g().U],mapping:["mapping",{z0b:"0",D0b:"1",y0b:"2",C0b:"3",NDb:"4",Ccc:"5",Acc:"6",Bcc:"7",zcc:"8",v6b:"9",u6b:"10",BZb:"11",CZb:"12",EZb:"13",FZb:"14",DZb:"15",GZb:"16",HZb:"17",IZb:"18",JZb:"19",KZb:"20",LZb:"21",MZb:"22",NZb:"23",OZb:"24",PZb:"25",QZb:"26",K7b:"27",L7b:"28",M7b:"29",N7b:"30",O7b:"31",P7b:"32",Q7b:"33",R7b:"34",S7b:"35",T7b:"36",U7b:"37",V7b:"38",W7b:"39",X7b:"40",Y7b:"41",Z7b:"42",$7b:"43",a8b:"44",b8b:"45",c8b:"46",d8b:"47",e8b:"48",f8b:"49",$Hb:"50",aIb:"51",bIb:"52",cIb:"53",dIb:"54",eIb:"55",fIb:"56",gIb:"57",hIb:"58",iIb:"59",jIb:"60",kIb:"61",lIb:"62",mIb:"63",nIb:"64",oIb:"65",pIb:"66",qIb:"67",rIb:"68",sIb:"69",tIb:"70",uIb:"71",vIb:"72",wIb:"73",xIb:"74",yIb:"75",zIb:"76",AIb:"77",BIb:"78",CIb:"79",DIb:"80",EIb:"81",FIb:"82",GIb:"83",HIb:"84",IIb:"85",JIb:"86",KIb:"87",LIb:"88",MIb:"89",NIb:"90",OIb:"91",PIb:"92",QIb:"93",RIb:"94",SIb:"95",TIb:"96",UIb:"97",VIb:"98",WIb:"99",XIb:"100",YIb:"101",ZIb:"102",$Ib:"103",aJb:"104",bJb:"105",cJb:"106",dJb:"107",eJb:"108",fJb:"109",gJb:"110",hJb:"111",iJb:"112",jJb:"113",kJb:"114",lJb:"115",mJb:"116",nJb:"117",oJb:"118",pJb:"119",qJb:"120",rJb:"121",sJb:"122",tJb:"123",uJb:"124",vJb:"125",wJb:"126",xJb:"127",yJb:"128",vgc:"129",H7b:"130",kbc:"131",Ht:"132",QHb:"133",$Qb:"134",Zdc:"135",Kdc:"136",CEb:"137",S1b:"138",tec:"139",N5b:"140",yEb:"141",BEb:"142",zEb:"143",P1b:"144"}],features:["features",a],umc:["_modelName","tree"],pmc:["_format","xgboost"],tmc:["_itemsToKeep",5],smc:["_itemsThreshold",null],gnc:["cacheLimit",20]});r.exports={config:b,Qpc:k,Hnc:c};},function(r,b,a){r.exports=a(597);},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(598);a(599)();a(624)();mb._cad_global={};mb.DEBUG=!1;a(17);a(13);a(15);a(25);a(40);a(93);a(1425);a(591);a(58);a(60);a(23);a(70);a(64);a(1426);a(305);a(357);a(1427);a(570);a(1428);a(567);a(574);a(572);a(573);a(561);a(562);a(564);a(301);a(300);a(1429);a(19);a(580);a(1430);a(208);a(106);a(568);a(203);a(531);a(532);a(530);a(1431);a(1432);a(529);a(1433);a(521);a(303);a(519);a(302);a(560);a(1434);a(304);a(576);a(206);a(592);a(167);a(1435);a(139);a(1442);a(1443);a(1445);a(1447);a(575);a(62);a(571);a(502);a(569);a(578);a(1448);a(312);a(140);a(1449);a(1450);a(1451);a(1453);a(1454);a(565);},function(r,b,a){(function(c){var g;(function(k){var G,F,I,L,M,K,O,H,J;function m(R,P,T){var V;V=J.get(R);if(!V){if(!T)return;V=new O();J.set(R,V);}R=V.get(P);if(!R){if(!T)return;R=new O();V.set(P,R);}return R;}function f(R,P,T){if(d(R,P,T))return !0;P=u(P);return null !== P?f(R,P,T):!1;}function d(R,P,T){P=m(P,T,!1);return void 0 !== P && ! !P.has(R);}function l(R,P,T){if(d(R,P,T))return n(R,P,T);P=u(P);return null !== P?l(R,P,T):void 0;}function n(R,P,T){P=m(P,T,!1);return void 0 === P?void 0:P.get(R);}function h(R,P){var T,S;T=p(R,P);R=u(R);if(null === R)return T;P=h(R,P);if(0 >= P.length)return T;if(0 >= T.length)return P;R=new H();for(var V=0;V < T.length;V++){S=T[V];R.add(S);}for(T=0;T < P.length;T++){S=P[T];R.add(S);}return z(R);}function p(R,P){var T;R=m(R,P,!1);T=[];R && y(R,function(V,S){return T.push(S);});return T;}function q(R){return void 0 === R;}function t(R){return Array.isArray?Array.isArray(R):R instanceof Array || "[object Array]" === Object.prototype.toString.call(R);}function v(R){return "object" === typeof R?null !== R:"function" === typeof R;}function w(R){return "symbol" === typeof R?R:String(R);}function u(R){var P,T;P=Object.getPrototypeOf(R);if("function" !== typeof R || R === K || P !== K)return P;T=R.prototype;T=T && Object.getPrototypeOf(T);if(null == T || T === Object.prototype)return P;T=T.constructor;return "function" !== typeof T || T === R?P:T;}function x(R){R=R.next();return R.done?void 0:R;}function y(R,P,T){var V,S,W;V=R.entries;if("function" === typeof V){V=V.call(R);try{for(;S=x(V);){W=S.value;P.call(T,W[1],W[0],R);}}finally{S && (R=V["return"]) && R.call(V);}}else (V=R.forEach,"function" === typeof V && V.call(R,P,T));}function z(R){var P;P=[];y(R,function(T,V){P.push(V);});return P;}function A(R,P,T){var V;V=0;return {next:function(){var S;if((R || P) && V < (R || P).length){S=V++;switch(T){case "key":return {value:R[S],done:!1};case "value":return {value:P[S],done:!1};case "key+value":return {value:[R[S],P[S]],done:!1};}}P=R=void 0;return {value:void 0,done:!0};},"throw":function(S){if(R || P)P=R=void 0;throw S;},"return":function(S){if(R || P)P=R=void 0;return {value:S,done:!0};}};}function B(){var R;R={};return (function(){function P(){this.Bf=[];this.bg=[];this.Tw=R;this.uu=-2;}Object.defineProperty(P.prototype,"size",{get:function(){return this.Bf.length;},enumerable:!0,configurable:!0});P.prototype.has=function(T){return 0 <= this.Oz(T,!1);};P.prototype.get=function(T){T=this.Oz(T,!1);return 0 <= T?this.bg[T]:void 0;};P.prototype.set=function(T,V){T=this.Oz(T,!0);this.bg[T]=V;return this;};P.prototype.delete=function(T){var V;V=this.Oz(T,!1);if(0 <= V){T=this.Bf.length;for(V+=1;V < T;V++){this.Bf[V - 1]=this.Bf[V];this.bg[V - 1]=this.bg[V];}this.Bf.length--;this.bg.length--;this.Tw=R;this.uu=-2;return !0;}return !1;};P.prototype.clear=function(){this.Bf.length=0;this.bg.length=0;this.Tw=R;this.uu=-2;};P.prototype.keys=function(){return A(this.Bf,void 0,"key");};P.prototype.values=function(){return A(void 0,this.bg,"value");};P.prototype.entries=function(){return A(this.Bf,this.bg,"key+value");};P.prototype.Oz=function(T,V){var S;if(this.Tw === T)return this.uu;S=this.Bf.indexOf(T);0 > S && V && (S=this.Bf.length,this.Bf.push(T),this.bg.push(void 0));return (this.Tw=T,this.uu=S);};return P;})();}function C(){return (function(){function R(){this.vh=new O();}Object.defineProperty(R.prototype,"size",{get:function(){return this.vh.size;},enumerable:!0,configurable:!0});R.prototype.has=function(P){return this.vh.has(P);};R.prototype.add=function(P){return (this.vh.set(P,P),this);};R.prototype.delete=function(P){return this.vh.delete(P);};R.prototype.clear=function(){this.vh.clear();};R.prototype.keys=function(){return this.vh.keys();};R.prototype.values=function(){return this.vh.values();};R.prototype.entries=function(){return this.vh.entries();};return R;})();}function D(){var V,S;function R(W,ia){for(var ra=0;ra < ia;++ra){W[ra]=255 * Math.random() | 0;}return W;}function P(){var W,ua;do {W="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):R(new Uint8Array(16),16):R(Array(16),16);W[6]=W[6] & 79 | 64;W[8]=W[8] & 191 | 128;for(var ia="",ra=0;16 > ra;++ra){ua=W[ra];if(4 === ra || 6 === ra || 8 === ra)ia+="-";16 > ua && (ia+="0");ia+=ua.toString(16).toLowerCase();}W="@@WeakMap@@" + ia;}while(M.has(V,W));V[W]=!0;return W;}function T(W,ia){if(!G.call(W,S)){if(!ia)return;Object.defineProperty(W,S,{value:L()});}return W[S];}V=L();S=P();return (function(){function W(){this.Au=P();}W.prototype.has=function(ia){ia=T(ia,!1);return void 0 !== ia?M.has(ia,this.Au):!1;};W.prototype.get=function(ia){ia=T(ia,!1);return void 0 !== ia?M.get(ia,this.Au):void 0;};W.prototype.set=function(ia,ra){T(ia,!0)[this.Au]=ra;return this;};W.prototype.delete=function(ia){ia=T(ia,!1);return void 0 !== ia?delete ia[this.Au]:!1;};W.prototype.clear=function(){this.Au=P();};return W;})();}function E(R){R.lmc=1;delete R.mmc;return R;}G=Object.prototype.hasOwnProperty;F="function" === typeof Object.create;I=(function(){var P;function R(){}P={};R.prototype=P;return new R().__proto__ === P;})();L=F?function(){return E(Object.create(null));}:I?function(){return E({__proto__:null});}:function(){return E({});};(function(R){var P;P=!F && !I;R.has=P?function(T,V){return G.call(T,V);}:function(T,V){return (V in T);};R.get=P?function(T,V){return G.call(T,V)?T[V]:void 0;}:function(T,V){return T[V];};})(M || (M={}));K=Object.getPrototypeOf(Function);O="function" === typeof Map?Map:B();H="function" === typeof Set?Set:C();J=new ("function" === typeof WeakMap?WeakMap:D())();k.Rp=function(R,P,T,V){var W;if(q(V)){if(q(T)){if(!t(R))throw new TypeError();if("function" !== typeof P)throw new TypeError();for(T=R.length - 1;0 <= T;--T){if((V=(0,R[T])(P),!q(V))){if("function" !== typeof V)throw new TypeError();P=V;}}return P;}if(!t(R))throw new TypeError();if(!v(P))throw new TypeError();T=w(T);for(V=R.length - 1;0 <= V;--V){(0,R[V])(P,T);}}else {if(!t(R))throw new TypeError();if(!v(P))throw new TypeError();if(q(T))throw new TypeError();if(!v(V))throw new TypeError();T=w(T);for(var S=R.length - 1;0 <= S;--S){W=(0,R[S])(P,T,V);if(!q(W)){if(!v(W))throw new TypeError();V=W;}}return V;}};k.Hc=function(R,P){return function(T,V){if(q(V)){if("function" !== typeof T)throw new TypeError();m(T,void 0,!0).set(R,P);}else {if(!v(T))throw new TypeError();V=w(V);m(T,V,!0).set(R,P);}};};k.g8=function(R,P,T,V){if(!v(T))throw new TypeError();q(V) || (V=w(V));m(T,V,!0).set(R,P);};k.CVb=function(R,P){var T;if(!v(P))throw new TypeError();q(T) || (T=w(T));return f(R,P,T);};k.fua=function(R,P){var T;if(!v(P))throw new TypeError();q(T) || (T=w(T));return d(R,P,T);};k.getMetadata=function(R,P,T){if(!v(P))throw new TypeError();q(T) || (T=w(T));return l(R,P,T);};k.q6a=function(R,P,T){if(!v(P))throw new TypeError();q(T) || (T=w(T));return n(R,P,T);};k.Ooc=function(R,P){if(!v(R))throw new TypeError();q(P) || (P=w(P));return h(R,P);};k.Qoc=function(R,P){if(!v(R))throw new TypeError();q(P) || (P=w(P));return p(R,P);};k.Unc=function(R,P,T){var V;if(!v(P))throw new TypeError();q(T) || (T=w(T));V=m(P,T,!1);if(q(V) || !V.delete(R))return !1;if(0 < V.size)return !0;R=J.get(P);R.delete(T);if(0 < R.size)return !0;J.delete(P);return !0;};(function(R){if("undefined" !== typeof R.Reflect){if(R.Reflect !== k)for(var P in k){G.call(k,P) && (R.Reflect[P]=k[P]);}}else R.Reflect=k;})("undefined" !== typeof mb?mb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof c?c:Function("return this;")());})(g || (g={}));}).call(this,a(209));},function(r,b,a){var c,g;c=a(315);g=a(603);r.exports=function(){var k;k=g();c(Array.prototype,{includes:k},{includes:function(){return Array.prototype.includes !== k;}});return k;};},function(r,b,a){var c,g,k,m,f;c=Array.prototype.slice;g=a(316);k=Object.keys;m=k?function(d){return k(d);}:a(601);f=Object.keys;m.Grc=function(){Object.keys?(function(){var d;d=Object.keys(arguments);return d && d.length === arguments.length;})(1,2) || (Object.keys=function(d){return g(d)?f(c.call(d)):f(d);}):Object.keys=m;return Object.keys || m;};r.exports=m;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p;if(!Object.keys){c=Object.prototype.hasOwnProperty;g=Object.prototype.toString;k=a(316);b=Object.prototype.propertyIsEnumerable;m=!b.call({toString:null},"toString");f=b.call(function(){},"prototype");d=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");l=function(q){var t;t=q.constructor;return t && t.prototype === q;};n={Rgc:!0,Sgc:!0,Tgc:!0,Ugc:!0,Vgc:!0,Wgc:!0,Xgc:!0,Ygc:!0,Zgc:!0,$gc:!0,ahc:!0,bhc:!0,chc:!0,dhc:!0,ehc:!0,fhc:!0,ghc:!0,hhc:!0,ihc:!0,jhc:!0,khc:!0,lhc:!0,mhc:!0};h=(function(){if("undefined" === typeof mb)return !1;for(var q in mb){try{if(!n["$" + q] && c.call(mb,q) && null !== mb[q] && "object" === typeof mb[q])try{l(mb[q]);}catch(t){return !0;}}catch(t){return !0;}}return !1;})();p=function(q){var t,v,w,u,x,z;t=null !== q && "object" === typeof q;v="[object Function]" === g.call(q);w=k(q);u=t && "[object String]" === g.call(q);x=[];if(!t && !v && !w)throw new TypeError("Object.keys called on a non-object");t=f && v;if(u && 0 < q.length && !c.call(q,0))for(u=0;u < q.length;++u){x.push(String(u));}if(w && 0 < q.length)for(w=0;w < q.length;++w){x.push(String(w));}else for(var y in q){t && "prototype" === y || !c.call(q,y) || x.push(String(y));}if(m){if("undefined" !== typeof mb && h)try{z=l(q);}catch(A){z=!1;}else z=l(q);for(w=0;w < d.length;++w){z && "constructor" === d[w] || !c.call(q,d[w]) || x.push(d[w]);}}return x;};}r.exports=p;},function(r){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;r.exports=function(c){var g;g=this;if("function" !== typeof g || "[object Function]" !== a.call(g))throw new TypeError("Function.prototype.bind called on incompatible " + g);for(var k=b.call(arguments,1),m,f=Math.max(0,g.length - k.length),d=[],l=0;l < f;l++){d.push("$" + l);}m=Function("binder","return function (" + d.join(",") + "){ return binder.apply(this,arguments); }")(function(){var n;if(this instanceof m){n=g.apply(this,k.concat(b.call(arguments)));return Object(n) === n?n:this;}return g.apply(c,k.concat(b.call(arguments)));});g.prototype && (f=function(){},f.prototype=g.prototype,m.prototype=new f(),f.prototype=null);return m;};},function(r,b,a){var c;c=a(604);r.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:c;};},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q;c=a(320);g=a(617);k=a(619);m=a(622);f=a(169);d=a(323);b=a(43);l=a(141);n=a(623);h=l("String.prototype.charAt");p=b("%Array.prototype.indexOf%");q=b("%Math.max%");r.exports=function(t){var v,w,u;v=1 < arguments.length?c(arguments[1]):0;if(p && !f(t) && d(v) && "undefined" !== typeof t)return -1 < p.apply(this,arguments);w=k(this);u=g(w.length);if(0 === u)return !1;for(v=0 <= v?v:q(0,u + v);v < u;){if(m(t,n(w)?h(w,v):w[v]))return !0;v+=1;}return !1;};},function(r,b,a){var c;c=a(43)("%Math.abs%");r.exports=function(g){return c(g);};},function(r){var b;b=Math.floor;r.exports=function(a){return b(a);};},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w;c=a(43);g=c("%TypeError%");k=c("%Number%");b=c("%RegExp%");m=c("%parseInt%");c=a(141);f=a(609);d=a(610);l=c("String.prototype.slice");n=f(/^0b[01]+$/i);h=f(/^0o[0-7]+$/i);p=f(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");q=f(b);t=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g;v=c("String.prototype.replace");w=a(611);r.exports=function y(x){var z;x=d(x)?x:w(x,k);if("symbol" === typeof x)throw new g("Cannot convert a Symbol value to a number");if("bigint" === typeof x)throw new g("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof x){if(n(x))return y(m(l(x,2),2));if(h(x))return y(m(l(x,2),8));if(q(x) || p(x))return NaN;z=v(x,t,"");if(z !== x)return y(z);}return k(x);};},function(r,b,a){var g,k,m,f,d,l,n;function c(){return f(g,k,arguments);}g=a(210);b=a(43);k=b("%Function.prototype.apply%");m=b("%Function.prototype.call%");f=b("%Reflect.apply%",!0) || g.call(m,k);d=b("%Object.getOwnPropertyDescriptor%",!0);l=b("%Object.defineProperty%",!0);n=b("%Math.max%");if(l)try{l({},"a",{value:1});}catch(h){l=null;}r.exports=function(h){var p;p=f(g,m,arguments);d && l && d(p,"length").configurable && l(p,"length",{value:1 + n(0,h.length - (arguments.length - 1))});return p;};l?l(r.exports,"apply",{value:c}):r.exports.apply=c;},function(r,b,a){var c;c=a(141)("RegExp.prototype.exec");r.exports=function(g){return function(k){return null !== c(g,k);};};},function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},function(r,b,a){var c;c=a(612);r.exports=function(g){return 1 < arguments.length?c(g,arguments[1]):c(g);};},function(r,b,a){var c,g,k,m,f;c="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;g=a(613);k=a(321);m=a(614);f=a(615);r.exports=function(d){var l,n,h;if(g(d))return d;l="default";1 < arguments.length && (arguments[1] === String?l="string":arguments[1] === Number && (l="number"));if(c)if(Symbol.toPrimitive){n=Symbol.toPrimitive;h=d[n];if(null !== h && "undefined" !== typeof h){if(!k(h))throw new TypeError(h + " returned for property " + n + " of object " + d + " is not a function");n=h;}else n=void 0;}else f(d) && (n=Symbol.prototype.valueOf);if("undefined" !== typeof n){l=n.call(d,l);if(g(l))return l;throw new TypeError("unable to convert exotic object to primitive");}"default" === l && (m(d) || f(d)) && (l="string");a:{l="default" === l?"number":l;if("undefined" === typeof d || null === d)throw new TypeError("Cannot call method on " + d);if("string" !== typeof l || "number" !== l && "string" !== l)throw new TypeError('hint must be "string" or "number"');l="string" === l?["toString","valueOf"]:["valueOf","toString"];for(n=0;n < l.length;++n){if((h=d[l[n]],k(h) && (h=h.call(d),g(h))))break a;}throw new TypeError("No default value");}return h;};},function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},function(r,b,a){var c,g,k;c=Date.prototype.getDay;g=Object.prototype.toString;k=a(322)();r.exports=function(m){if("object" !== typeof m || null === m)m=!1;else if(k)try{c.call(m);m=!0;}catch(f){m=!1;}else m="[object Date]" === g.call(m);return m;};},function(r,b,a){var c,g,k;c=Object.prototype.toString;if(a(318)()){g=Symbol.prototype.toString;k=/^Symbol\(.*\)$/;r.exports=function(m){if("symbol" === typeof m)return !0;if("[object Symbol]" !== c.call(m))return !1;try{return "symbol" !== typeof m.valueOf()?!1:k.test(g.call(m));}catch(f){return !1;}};}else r.exports=function(){return !1;};},function(r){r.exports=function(b){return 0 <= b?1:-1;};},function(r,b,a){var c,g;c=a(618);g=a(320);r.exports=function(k){k=g(k);return 0 >= k?0:k > c?c:k;};},function(r,b,a){a=a(43);b=a("%Math%");a=a("%Number%");r.exports=a.MAX_SAFE_INTEGER || b.pow(2,53) - 1;},function(r,b,a){var c,g;c=a(43)("%Object%");g=a(620);r.exports=function(k){g(k);return c(k);};},function(r,b,a){r.exports=a(621);},function(r,b,a){var c;c=a(43)("%TypeError%");r.exports=function(g,k){if(null == g)throw new c(k || "Cannot call method on " + g);return g;};},function(r,b,a){var c;c=a(169);r.exports=function(g,k){return g === k || c(g) && c(k);};},function(r,b,a){var c,g,k;c=String.prototype.valueOf;g=Object.prototype.toString;k=a(322)();r.exports=function(m){if("string" === typeof m)m=!0;else if("object" !== typeof m)m=!1;else if(k)try{c.call(m);m=!0;}catch(f){m=!1;}else m="[object String]" === g.call(m);return m;};},function(r,b,a){var c,g,k;c=a(211);g=a(625);k=a(315);r.exports=function(){var m;c();m=g();k(Promise.prototype,{"finally":m},{"finally":function(){return Promise.prototype["finally"] !== m;}});return m;};},function(r,b,a){var c,g;c=a(211);g=a(626);r.exports=function(){c();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:g;};},function(r,b,a){var f,d,l,n;function c(h){var p,q,t;if("Object" !== l(this))throw new TypeError("receiver is not an Object");p=d(this,n);q=h;t=h;f(h) && (q=k(p,h),t=g(p,h));return this.then(q,t);}function g(h,p){return function(q){var t;t=p();return m(h,t).then(function(){throw q;});};}function k(h,p){return function(q){var t;t=p();return m(h,t).then(function(){return q;});};}function m(h,p){return new h(function(q){q(p);});}a(211)();f=a(324);d=a(627);l=a(108);n=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(c,"name")) && b.configurable && Object.defineProperty(c,"name",{configurable:!0,value:"finally"});r.exports=c;},function(r,b,a){var c,g,k,m;b=a(43);c=b("%Symbol.species%",!0);g=b("%TypeError%");k=a(628);m=a(108);r.exports=function(f,d){if("Object" !== m(f))throw new g("Assertion failed: Type(O) is not Object");f=f.constructor;if("undefined" === typeof f)return d;if("Object" !== m(f))throw new g("O.constructor is not an Object");f=c?f[c]:void 0;if(null == f)return d;if(k(f))return f;throw new g("no constructor found");};},function(r,b,a){var c,g,k;c=a(629)("%Reflect.construct%",!0);b=a(630);try{b({},"",{"[[Get]]":function(){}});}catch(m){b=null;}if(b && c){g={};k={};b(k,"length",{"[[Get]]":function(){throw g;},"[[Enumerable]]":!0});r.exports=function(m){try{c(m,k);}catch(f){return f === g;}};}else r.exports=function(m){return "function" === typeof m && ! !m.prototype;};},function(r,b,a){r.exports=a(43);},function(r,b,a){var c,g,k,m,f,d,l,n,h,p;c=a(43)("%TypeError%");g=a(631);k=a(632);m=a(634);f=a(638);d=a(639);l=a(640);n=a(641);h=a(642);p=a(108);r.exports=function(q,t,v){if("Object" !== p(q))throw new c("Assertion failed: Type(O) is not Object");if(!l(t))throw new c("Assertion failed: IsPropertyKey(P) is not true");v=g({SSa:p,aLa:d,$Ka:f},v)?v:h(v);if(!g({SSa:p,aLa:d,$Ka:f},v))throw new c("Assertion failed: Desc is not a valid Property Descriptor");return k(d,n,m,q,t,v);};},function(r,b,a){var c,g;b=a(43);c=a(107);g=b("%TypeError%");r.exports=function(k,m){var f,d;if("Object" !== k.SSa(m))return !1;f={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(d in m){if(c(m,d) && !f[d])return !1;}if(k.aLa(m) && k.$Ka(m))throw new g("Property Descriptors may not be both accessor and data descriptors");return !0;};},function(r,b,a){var c,g,k,m,f;b=a(317);c=a(43);g=b() && c("%Object.defineProperty%",!0);k=b.uVb();m=k && a(633);f=a(141)("Object.prototype.propertyIsEnumerable");r.exports=function(d,l,n,h,p,q){if(!g){if(!d(q) || !q["[[Configurable]]"] || !q["[[Writable]]"] || (p in h) && f(h,p) !== ! !q["[[Enumerable]]"])return !1;d=q["[[Value]]"];h[p]=d;return l(h[p],d);}if(k && "length" === p && ("[[Value]]" in q) && m(h) && h.length !== q["[[Value]]"])return (h.length=q["[[Value]]"],h.length === q["[[Value]]"]);g(h,p,n(q));return !0;};},function(r,b,a){var c;b=a(43)("%Array%");c=!b.isArray && a(141)("Object.prototype.toString");r.exports=b.isArray || (function(g){return "[object Array]" === c(g);});},function(r,b,a){var c,g,k;c=a(212);g=a(636);k=a(108);r.exports=function(m){"undefined" !== typeof m && c(k,"Property Descriptor","Desc",m);return g(m);};},function(r,b,a){var c;c=a(107);r.exports=function(g){return c(g,"[[StartIndex]]") && c(g,"[[EndIndex]]") && 0 <= g["[[StartIndex]]"] && g["[[EndIndex]]"] >= g["[[StartIndex]]"] && String(parseInt(g["[[StartIndex]]"],10)) === String(g["[[StartIndex]]"]) && String(parseInt(g["[[EndIndex]]"],10)) === String(g["[[EndIndex]]"]);};},function(r){r.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=! !b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=! !b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=! !b["[[Configurable]]"]);return a;};},function(r){r.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},function(r,b,a){var c,g,k;c=a(107);g=a(212);k=a(108);r.exports=function(m){if("undefined" === typeof m)return !1;g(k,"Property Descriptor","Desc",m);return c(m,"[[Get]]") || c(m,"[[Set]]")?!0:!1;};},function(r,b,a){var c,g,k;c=a(107);g=a(212);k=a(108);r.exports=function(m){if("undefined" === typeof m)return !1;g(k,"Property Descriptor","Desc",m);return c(m,"[[Value]]") || c(m,"[[Writable]]")?!0:!1;};},function(r){r.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},function(r,b,a){var c;c=a(169);r.exports=function(g,k){return g === k?0 === g?1 / g === 1 / k:!0:c(g) && c(k);};},function(r,b,a){var c,g,k,m,f;c=a(107);g=a(43)("%TypeError%");k=a(108);m=a(643);f=a(324);r.exports=function(d){var l,n;if("Object" !== k(d))throw new g("ToPropertyDescriptor requires an object");l={};c(d,"enumerable") && (l["[[Enumerable]]"]=m(d.enumerable));c(d,"configurable") && (l["[[Configurable]]"]=m(d.configurable));c(d,"value") && (l["[[Value]]"]=d.value);c(d,"writable") && (l["[[Writable]]"]=m(d.writable));if(c(d,"get")){n=d.get;if("undefined" !== typeof n && !f(n))throw new g("getter must be a function");l["[[Get]]"]=n;}if(c(d,"set")){d=d.set;if("undefined" !== typeof d && !f(d))throw new g("setter must be a function");l["[[Set]]"]=d;}if((c(l,"[[Get]]") || c(l,"[[Set]]")) && (c(l,"[[Value]]") || c(l,"[[Writable]]")))throw new g("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return l;};},function(r){r.exports=function(b){return ! !b;};},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v;c=this && this.__awaiter || (function(w,u,x,y){return new (x || (x=Promise))(function(z,A){function B(E){try{D(y.next(E));}catch(G){A(G);}}function C(E){try{D(y["throw"](E));}catch(G){A(G);}}function D(E){E.done?z(E.value):new x(function(G){G(E.value);}).then(B,C);}D((y=y.apply(w,u || [])).next());});});g=this && this.__generator || (function(w,u){var z,A,B,C,D;function x(E){return function(G){return y([E,G]);};}function y(E){if(A)throw new TypeError("Generator is already executing.");for(;z;){try{if((A=1,B && (C=B[E[0] & 2?"return":E[0]?"throw":"next"]) && !(C=C.call(B,E[1])).done))return C;if((B=0,C))E=[0,C.value];switch(E[0]){case 0:case 1:C=E;break;case 4:return (z.label++,{value:E[1],done:!1});case 5:z.label++;B=E[1];E=[0];continue;case 7:E=z.$k.pop();z.Kh.pop();continue;default:if(!(C=z.Kh,C=0 < C.length && C[C.length - 1]) && (6 === E[0] || 2 === E[0])){z=0;continue;}if(3 === E[0] && (!C || E[1] > C[0] && E[1] < C[3]))z.label=E[1];else if(6 === E[0] && z.label < C[1])(z.label=C[1],C=E);else if(C && z.label < C[2])(z.label=C[2],z.$k.push(E));else {C[2] && z.$k.pop();z.Kh.pop();continue;}}E=u.call(w,z);}catch(G){E=[6,G];B=0;}finally{A=C=0;}}if(E[0] & 5)throw E[1];return {value:E[0]?E[1]:void 0,done:!0};}z={label:0,kb:function(){if(C[0] & 1)throw C[1];return C[1];},Kh:[],$k:[]};return (D={next:x(0),"throw":x(1),"return":x(2)},"function" === typeof Symbol && (D[Symbol.iterator]=function(){return this;}),D);});Object.defineProperty(b,"__esModule",{value:!0});k=a(645);m=a(56);f=a(78);a(41);d=a(325);l=a(646);n=a(653);h=a(655);p=a(109);q=a(142);t=a(658);v=a(659);r=(function(){function w(u){u=u || ({});if("object" !== typeof u)throw Error("" + m.Pob);if(void 0 === u.jI)u.jI=f.hu.r4;else if(u.jI !== f.hu.Nja && u.jI !== f.hu.r4 && u.jI !== f.hu.Request)throw Error("" + m.Nob);if(void 0 === u.EV)u.EV=!1;else if("boolean" !== typeof u.EV)throw Error("" + m.Mob);if(void 0 === u.HK)u.HK=!1;else if("boolean" !== typeof u.HK)throw Error("" + m.Oob);this.options={EV:u.EV,jI:u.jI,HK:u.HK};this.id=p.id();this.YG=new v.dsb();this.HWa=[];this.parent=this.A5=null;this.syb=new d.oia();}w.prototype.load=function(){var z,A;for(var u=[],x=0;x < arguments.length;x++){u[x]=arguments[x];}x=this.HUa();for(var y=0;y < u.length;y++){z=u[y];A=x(z.id);z.pAa(A.$Ya,A.Xkb,A.K9a,A.zfb);}};w.prototype.IY=function(){for(var u=[],x=0;x < arguments.length;x++){u[x]=arguments[x];}c(this,void 0,void 0,function(){var y,z,A,B,C;return g(this,function(D){switch(D.label){case 0:(y=this.HUa(),z=0,A=u,D.label=1);case 1:if(!(z < A.length))return [3,4];B=A[z];C=y(B.id);return [4,B.pAa(C.$Ya,C.Xkb,C.K9a,C.zfb)];case 2:(D.kb(),D.label=3);case 3:return (z++,[3,1]);case 4:return [2];}});});};w.prototype.bind=function(u){var x;x=new k.aob(u,this.options.jI || f.hu.r4);this.YG.add(u,x);return new h.cob(x);};w.prototype.D7b=function(u){this.Wkb(u);return this.bind(u);};w.prototype.Wkb=function(u){try{this.YG.remove(u);}catch(x){throw Error(m.wob + " " + q.cP(u));}};w.prototype.X8a=function(u){var x;x=this.YG.v7a(u);!x && this.parent && (x=this.parent.X8a(u));return x;};w.prototype.pCa=function(){this.HWa.push(t.Wob.of(this.YG.clone(),this.A5));};w.prototype.restore=function(){var u;u=this.HWa.pop();if(void 0 === u)throw Error(m.Ssb);this.YG=u.HV;this.A5=u.$0b;};w.prototype.HJb=function(){var u;u=new w(this.options);u.parent=this;return u;};w.prototype.get=function(u){return this.GUa(!1,!1,f.Fz.gka,u);};w.prototype.getAll=function(u){return this.GUa(!0,!0,f.Fz.gka,u);};w.prototype.resolve=function(u){var x;x=this.HJb();x.bind(u).ukb();return x.get(u);};w.prototype.HUa=function(){var A;function u(B){return function(C){C=A.D7b.bind(A)(C);C.Mc.z1b=B;return C;};}function x(){return function(B){return A.X8a.bind(A)(B);};}function y(){return function(B){A.Wkb.bind(A)(B);};}function z(B){return function(C){C=A.bind.bind(A)(C);C.Mc.z1b=B;return C;};}A=this;return function(B){return {$Ya:z(B),K9a:x(B),zfb:u(B),Xkb:y(B)};};};w.prototype.GUa=function(u,x,y,z){var A;A=null;u={oEb:u,PHb:function(B){return B;},jYb:x,key:void 0,sh:z,Wcc:y,value:void 0};if(this.A5){if((A=this.A5(u),void 0 === A || null === A))throw Error(m.Irb);}else A=this.Izb()(u);return A;};w.prototype.Izb=function(){var u;u=this;return function(x){var y;y=l.DQ(u.syb,u,x.jYb,x.Wcc,x.sh,x.key,x.value,x.oEb);y=x.PHb(y);return n.resolve(y);};};return w;})();b.T1=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(78);g=a(109);r=(function(){function k(m,f){this.id=g.id();this.Nma=!1;this.sh=m;this.scope=f;this.type=c.xk.Urb;this.dI=function(){return !0;};this.qO=this.my=this.ZB=this.JO=this.cache=this.xn=null;}k.prototype.clone=function(){var m;m=new k(this.sh,this.scope);m.Nma=!1;m.xn=this.xn;m.qO=this.qO;m.scope=this.scope;m.type=this.type;m.JO=this.JO;m.ZB=this.ZB;m.dI=this.dI;m.my=this.my;m.cache=this.cache;return m;};return k;})();b.aob=r;},function(r,b,a){var f,d,l,n,h,p,q,t,v,w,u,x;function c(y,z,A,B,C){var D,E;D=m(A.wb,C.sh);E=[];D.length === f.pga.xNa && A.wb.options.EV && "function" === typeof C.sh && y.d5a(C.sh).O_a && (A.wb.bind(C.sh).ukb(),D=m(A.wb,C.sh));E=z?D:D.filter(function(G){var F;F=new u.Request(G.sh,A,B,G,C);return G.dI(F);});g(C.sh,E,C,A.wb);return E;}function g(y,z,A,B){switch(z.length){case f.pga.xNa:if(A.o9a())return z;y=p.cP(y);z=d.Qsb;z+=p.AZb(y,A);z+=p.A$a(B,y,m);throw Error(z);case f.pga.ftb:if(!A.isArray())return z;default:if(A.isArray())return z;y=p.cP(y);z=d.Zmb + " " + y;z+=p.A$a(B,y,m);throw Error(z);}}function k(y,z,A,B,C,D){var E;if(null === C){z=c(y,z,B,null,D);E=new u.Request(A,B,null,z,D);A=new v.fub(B,E);B.kCb(A);}else (z=c(y,z,B,C,D),E=C.oXa(D.sh,z,D));z.forEach(function(G){var F,I,L;F=null;if(D.isArray())F=E.oXa(G.sh,G,D);else {if(G.cache)return;F=E;}if(G.type === l.xk.Instance && null !== G.xn){I=w.ZRb(y,G.xn);if(!B.wb.options.HK){L=w.wRb(y,G.xn);if(I.length < L)throw (G=d.anb(w.getFunctionName(G.xn)),Error(G));}I.forEach(function(M){k(y,!1,M.sh,B,F,M);});}});}function m(y,z){var A,B;A=[];B=y.YG;B.v7a(z)?A=B.get(z):null !== y.parent && (A=m(y.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});f=a(647);d=a(56);l=a(78);n=a(41);h=a(326);p=a(142);q=a(648);t=a(66);v=a(649);w=a(650);u=a(652);x=a(328);b.Hoc=function(y){return y.YG;};b.DQ=function(y,z,A,B,C,D,E,G){void 0 === G && (G=!1);z=new q.aHa(z);A=new t.Metadata(A?n.yG:n.$S,C);B=new x.o4(B,"",C,A);void 0 !== D && (D=new t.Metadata(D,E),B.Hc.push(D));try{return (k(y,G,C,z,null,B),z);}catch(F){throw (h.z9a(F) && z.DQ && p.KGb(z.DQ.SAa),F);}};b.Dnc=function(y,z,A,B){A=new x.o4(l.Fz.gka,"",z,new t.Metadata(A,B));y=new q.aHa(y);return new u.Request(z,y,null,[],A);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pga={$jc:2,xNa:0,ftb:1};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(109);r=(function(){function g(k){this.id=c.id();this.wb=k;}g.prototype.kCb=function(k){this.DQ=k;};return g;})();b.aHa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fub=(function(){return function(a,c){this.xQ=a;this.SAa=c;};})();},function(r,b,a){var f,d,l,n,h,p;function c(q,t,v,w){var u,x,y,z,B,C,D,E,G,F,I,L;u=q.d5a(v);x=u.O_a;if(void 0 === x)throw Error(d.nsb + " " + t + ".");u=u.Gfc;y=Object.keys(u);z=0 === v.length && 0 < y.length?y.length:v.length;y=[];for(var A=0;A < z;A++){B=A;C=w;D=t;E=x;G=u[B.toString()] || [];F=m(G);I=!0 !== F.gp;E=E[B];L=F.l || F.EJ;E=L?L:E;E instanceof f.Oha && (E=E.Cec());if(I){I=E === Function;I=E === Object || I || void 0 === E;if(!C && I)throw Error(d.osb + " argument " + B + " in class " + D + ".");B=new p.o4(l.Fz.YGa,F.z0,E);B.Hc=G;G=B;}else G=null;null !== G && y.push(G);}q=g(q,v);return y.concat(q);}function g(q,t){var y,z,A;for(var v=q.RTb(t),w=[],u=0,x=Object.keys(v);u < x.length;u++){y=x[u];z=v[y];A=m(v[y]);y=new p.o4(l.Fz.MGa,A.z0 || y,A.l || A.EJ);y.Hc=z;w.push(y);}t=Object.getPrototypeOf(t.prototype).constructor;t !== Object && (q=g(q,t),w=w.concat(q));return w;}function k(q,t){var v,w;t=Object.getPrototypeOf(t.prototype).constructor;if(t !== Object){v=h.getFunctionName(t);v=c(q,v,t,!0);w=v.map(function(u){return u.Hc.filter(function(x){return x.key === n.NT;});});w=[].concat.apply([],w).length;v=v.length - w;return 0 < v?v:k(q,t);}return 0;}function m(q){var t;t={};q.forEach(function(v){t[v.key.toString()]=v.value;});return {l:t[n.$S],EJ:t[n.yG],z0:t[n.A3],gp:t[n.NT]};}Object.defineProperty(b,"__esModule",{value:!0});f=a(327);d=a(56);l=a(78);n=a(41);h=a(142);b.getFunctionName=h.getFunctionName;p=a(328);b.ZRb=function(q,t){var v;v=h.getFunctionName(t);return c(q,v,t,!1);};b.wRb=k;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.ER=c;}a.prototype.startsWith=function(c){return 0 === this.ER.indexOf(c);};a.prototype.endsWith=function(c){var g;g=c.split("").reverse().join("");c=this.ER.split("").reverse().join("");return this.startsWith.call({ER:c},g);};a.prototype.contains=function(c){return -1 !== this.ER.indexOf(c);};a.prototype.equals=function(c){return this.ER === c;};a.prototype.value=function(){return this.ER;};return a;})();b.qub=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(109);r=(function(){function g(k,m,f,d,l){this.id=c.id();this.sh=k;this.xQ=m;this.TB=f;this.target=l;this.Voa=[];this.HV=Array.isArray(d)?d:[d];this.c9b=null === f?new Map():null;}g.prototype.oXa=function(k,m,f){k=new g(k,this.xQ,this,m,f);this.Voa.push(k);return k;};return g;})();b.Request=r;},function(r,b,a){var k,m,f,d,l;function c(n){return function(h){var p,q,t,v,w;p=h.HV;q=h.Voa;t=h.target && h.target.isArray();v=!h.TB || !h.TB.target || !h.target || !h.TB.target.b0b(h.target.sh);if(t && v)return q.map(function(u){return c(n)(u);});t=null;if(!h.target.o9a() || 0 !== p.length){w=p[0];p=w.scope === m.hu.Nja;v=w.scope === m.hu.Request;if(p && w.Nma)return w.cache;if(v && null !== n && n.has(w.id))return n.get(w.id);if(w.type === m.xk.WGa)t=w.cache;else if(w.type === m.xk.Function)t=w.cache;else if(w.type === m.xk.XGa)t=w.xn;else if(w.type === m.xk.hIa && null !== w.qO)t=g("toDynamicValue",w.sh,function(){return w.qO(h.xQ);});else if(w.type === m.xk.hha && null !== w.JO)t=g("toFactory",w.sh,function(){return w.JO(h.xQ);});else if(w.type === m.xk.FQa && null !== w.ZB)t=g("toProvider",w.sh,function(){return w.ZB(h.xQ);});else if(w.type === m.xk.Instance && null !== w.xn)t=l.q9b(w.xn,q,c(n));else throw (q=d.cP(h.sh),Error(k.Erb + " " + q));"function" === typeof w.my && (t=w.my(h.xQ,t));p && (w.cache=t,w.Nma=!0);v && null !== n && !n.has(w.id) && n.set(w.id,t);return t;}};}function g(n,h,p){try{return p();}catch(q){if(f.z9a(q))throw Error(k.Bob(n,h.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});k=a(56);m=a(78);f=a(326);d=a(142);l=a(654);b.resolve=function(n){return c(n.DQ.SAa.c9b)(n.DQ.SAa);};},function(r,b,a){var k,m,f;function c(d,l,n){var h;l=l.filter(function(p){return null !== p.target && p.target.type === m.Fz.MGa;});h=l.map(n);l.forEach(function(p,q){p=p.target.name.value();d[p]=h[q];});return d;}function g(d,l){var n;if(Reflect.CVb(f.AT,d)){n=Reflect.getMetadata(f.AT,d);try{l[n.value]();}catch(h){throw Error(k.Ztb(d.name,h.message));}}}Object.defineProperty(b,"__esModule",{value:!0});k=a(56);m=a(78);f=a(41);b.q9b=function(d,l,n){var h;h=null;0 < l.length?(h=l.filter(function(p){return null !== p.target && p.target.type === m.Fz.YGa;}).map(n),h=new (d.bind.apply(d,[void 0].concat(h)))(),h=c(h,l,n)):h=new d();g(d,h);return h;};},function(r,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);g=a(78);k=a(656);m=a(329);r=(function(){function f(d){this.Mc=d;}f.prototype.to=function(d){this.Mc.type=g.xk.Instance;this.Mc.xn=d;return new k.PFa(this.Mc);};f.prototype.ukb=function(){if("function" !== typeof this.Mc.sh)throw Error("" + c.Krb);this.to(this.Mc.sh);};f.prototype.Im=function(d){this.Mc.type=g.xk.WGa;this.Mc.cache=d;this.Mc.qO=null;this.Mc.xn=null;new m.fG(this.Mc);};f.prototype.UF=function(d){this.Mc.type=g.xk.hIa;this.Mc.cache=null;this.Mc.qO=d;this.Mc.xn=null;return new k.PFa(this.Mc);};f.prototype.Edc=function(d){this.Mc.type=g.xk.XGa;this.Mc.xn=d;new m.fG(this.Mc);};f.prototype.Te=function(d){this.Mc.type=g.xk.hha;this.Mc.JO=d;new m.fG(this.Mc);};f.prototype.Fdc=function(d){if("function" !== typeof d)throw Error(c.Hrb);this.Im(d);this.Mc.type=g.xk.Function;};f.prototype.skb=function(d){this.Mc.type=g.xk.hha;this.Mc.JO=function(l){return function(){return l.wb.get(d);};};new m.fG(this.Mc);};f.prototype.L0=function(d){this.Mc.type=g.xk.FQa;this.Mc.ZB=d;new m.fG(this.Mc);};f.prototype.Hdc=function(d){this.UF(function(l){return l.wb.get(d);});};return f;})();b.cob=r;},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(657);g=a(215);k=a(216);r=(function(){function m(f){this.Mc=f;this.VT=new k.qga(this.Mc);this.xka=new g.L1(this.Mc);this.STa=new c.bob(f);}m.prototype.la=function(){return this.STa.la();};m.prototype.Eua=function(){return this.STa.Eua();};m.prototype.when=function(f){return this.VT.when(f);};m.prototype.k1=function(){return this.VT.k1();};m.prototype.my=function(f){return this.xka.my(f);};return m;})();b.PFa=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(78);g=a(329);r=(function(){function k(m){this.Mc=m;}k.prototype.la=function(){this.Mc.scope=c.hu.Nja;return new g.fG(this.Mc);};k.prototype.Eua=function(){this.Mc.scope=c.hu.r4;return new g.fG(this.Mc);};return k;})();b.bob=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wob=(function(){function a(){}a.of=function(c,g){var k;k=new a();k.HV=c;k.$0b=g;return k;};return a;})();},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);r=(function(){function g(){this.vh=new Map();}g.prototype.add=function(k,m){var f;if(null === k || void 0 === k)throw Error(c.vT);if(null === m || void 0 === m)throw Error(c.vT);f=this.vh.get(k);void 0 !== f?(f.push(m),this.vh.set(k,f)):this.vh.set(k,[m]);};g.prototype.get=function(k){if(null === k || void 0 === k)throw Error(c.vT);k=this.vh.get(k);if(void 0 !== k)return k;throw Error(c.eLa);};g.prototype.remove=function(k){if(null === k || void 0 === k)throw Error(c.vT);if(!this.vh.delete(k))throw Error(c.eLa);};g.prototype.v7a=function(k){if(null === k || void 0 === k)throw Error(c.vT);return this.vh.has(k);};g.prototype.clone=function(){var k;k=new g();this.vh.forEach(function(m,f){m.forEach(function(d){return k.add(f,d.clone());});});return k;};return g;})();b.dsb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(109);b.Cd=(function(){return function(g){this.id=c.id();this.pAa=g;};})();b.BFa=(function(){return function(g){this.id=c.id();this.pAa=g;};})();},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);g=a(41);b.aa=function(){return function(k){var m;if(Reflect.fua(g.Cia,k))throw Error(c.Vpb);m=Reflect.getMetadata(g.spb,k) || [];Reflect.g8(g.Cia,m,k);return k;};};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(66);g=a(94);b.Pjb=function(k,m){return function(f,d,l){var n;n=new c.Metadata(k,m);"number" === typeof l?g.RK(f,d,l,n):g.y0(f,d,n);};};},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);g=a(66);k=a(94);b.Sbb=function(m){return function(f,d,l){var n;n=new g.Metadata(c.YC,m);"number" === typeof l?k.RK(f,d,l,n):k.y0(f,d,n);};};},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);g=a(66);k=a(94);b.optional=function(){return function(m,f,d){var l;l=new g.Metadata(c.INa,!0);"number" === typeof d?k.RK(m,f,d,l):k.y0(m,f,l);};};},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);g=a(66);k=a(94);b.gp=function(){return function(m,f,d){var l;l=new g.Metadata(c.NT,!0);k.RK(m,f,d,l);};};},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);g=a(66);k=a(94);b.EJ=function(m){return function(f,d,l){var n;n=new g.Metadata(c.yG,m);"number" === typeof l?k.RK(f,d,l,n):k.y0(f,d,n);};};},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);g=a(66);k=a(94);b.z0=function(m){return function(f,d,l){var n;n=new g.Metadata(c.A3,m);k.RK(f,d,l,n);};};},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);g=a(41);k=a(66);b.teb=function(){return function(m,f){f=new k.Metadata(g.AT,f);if(Reflect.fua(g.AT,m.constructor))throw Error(c.Csb);Reflect.g8(g.AT,f,m.constructor);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Obb=function(a){return function(c){return function(){for(var g=[],k=0;k < arguments.length;k++){g[k]=arguments[k];}return g.forEach(function(m){return a.bind(m).Hdc(c);});};};};},function(r,b,a){var f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C;function c(){}function g(D){this.pe=D;}function k(D){var E;E=n.Xia.call(this) || this;D.AP?Object.assign(E,(0,x.L5a)(D)):D.daa?Object.assign(E,(0,u.x5a)(D)):D.xva?Object.assign(E,(0,w.n6a)()):D.sB || D.lY?Object.assign(E,(0,v.o5a)()):D.sY?Object.assign(E,(0,x.G6a)(D)):Object.assign(E,(0,t.Z4a)(D));return E;}function m(D){this.data=D.daa?(0,u.z5a)(D):D.xva?(0,w.p6a)(D):D.sB || D.lY?(0,v.q5a)(D):D.sY?(0,x.I6a)(D):(0,t.a5a)(D);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.tob=b.sob=b.rob=b.qob=void 0;r=a(0);f=a(1);d=a(47);l=a(110);n=a(671);h=a(170);p=a(332);q=a(217);t=a(672);v=a(673);w=a(674);u=a(675);x=a(676);y=a(677);z=a(678);Ua.Object.defineProperties(m.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},Bba:{configurable:!0,enumerable:!0,get:function(){return this.data.Bba;}},Us:{configurable:!0,enumerable:!0,get:function(){return this.data.Us;}},Tp:{configurable:!0,enumerable:!0,get:function(){return this.data.Tp;}},PO:{configurable:!0,enumerable:!0,get:function(){return this.data.PO;}},kE:{configurable:!0,enumerable:!0,get:function(){return this.data.kE;}},tqa:{configurable:!0,enumerable:!0,get:function(){return this.data.tqa;}},y1a:{configurable:!0,enumerable:!0,get:function(){return this.data.y1a;}},Bwa:{configurable:!0,enumerable:!0,get:function(){return this.data.Bwa;}},tW:{configurable:!0,enumerable:!0,get:function(){return this.data.tW;}},amb:{configurable:!0,enumerable:!0,get:function(){return this.data.amb;}},E6:{configurable:!0,enumerable:!0,get:function(){return this.data.E6;}}});A=m;A=r.__decorate([(0,f.aa)(),r.__param(0,(0,f.l)(h.hG))],A);b.qob=A;ja(k,n.Xia);B=k;B=r.__decorate([(0,f.aa)(),r.__param(0,(0,f.l)(h.hG))],B);b.rob=B;g.prototype.apply=function(){this.pe.daa?Object.assign(this,(0,u.y5a)(this.pe)):this.pe.xva?Object.assign(this,(0,w.o6a)(this.pe)):this.pe.sB || this.pe.lY?Object.assign(this,(0,v.p5a)(this.pe)):this.pe.sY?Object.assign(this,(0,x.H6a)(this.pe)):Object.assign(this,(0,t.$4a)(this.pe));return this;};C=g;C=r.__decorate([(0,f.aa)(),r.__param(0,(0,f.l)(h.hG))],C);b.sob=C;c=r.__decorate([(0,f.aa)()],c);b.tob=c;b.platform=new f.Cd(function(D){D(d.Eq).to(A).la();D(l.HG).to(B).la();D(p.jPa).to(C).la();D(d.Q3).to(c).la();D(q.Yia).Te(function(E){return function(){var G;G=E.wb.get(h.hG);return G.sB || G.lY?{jc:function(F,I,L){return new z.lka(F,I,L);},request:y.ATa}:G.sY?{jc:function(F,I,L){return new (a(679))(F,I,L);},request:a(680)}:{};};});});},function(r,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Xia=void 0;c=a(5);g=a(52);k=a(42);m={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.Xia=function(){this.ABa=!0;this.NH=[];this.Yn=[];this.uO=!1;this.gw=[k.Pm.Gga,k.Pm.Kub,k.Pm.LL,k.Pm.nKa];this.zn=void 0;this.Wqa=!0;this.C8=!1;this.Q6=(0,g.ea)(288E4);this.U6=(0,g.ea)(335544320);this.CB=(0,c.xc)(15E3);this.k0b=(0,g.ea)(6291456);this.OP=1E3;this.Coa=!0;this.Mea=m;this.MR=(0,g.ea)(0);this.qP=("ro zh-Hans zh-Hant ko vi ar he hi th en es").split(" ");this.Faa=["th"];this.Qea=(0,c.xc)(0);this.$X=!0;this.jfa=!1;this.xO=this.pxa=this.p9=!0;this.gL=this.qE=this.Ax=!1;this.eI=["start"];};},function(r,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.$4a=b.Z4a=b.a5a=void 0;c=a(26);g=a(42);k=a(121);m=a(143);b.a5a=function(f){return Object.assign(Object.assign({},(0,m.TO)()),{Us:f.D9a?"T":f.kY?"C":"M",Tp:f.D9a?"NFCDTS-01-":f.ZE?"NFCDCH-02-":f.BP?"NFCDCH-MC-":f.kY?"NFCDCH-01-":f.V$?"NFCDCH-AP-":f.jY?"NFCDCH-AT-":f.AP?"NFCDCH-PH-":"NFCDCH-LX-",kE:f.kY?"chromeos-cadmium":"chrome-cadmium"});};b.Z4a=function(f){var d,l;d=(0,m.SO)();l=Object.assign(Object.assign({},d),{uO:!0,Ax:!0,qE:!0,gL:!0});f.ZE && (l.Yn=[].concat(ha(d.Yn),ha((0,k.Xo)([g.I.GC,g.I.HC],{minimumCores:5}))));f.BP && (l.Yn=[].concat(ha(d.Yn),ha((0,k.Xo)([g.I.GC,g.I.HC],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));f.kY && (l.Yn=(0,k.Xo)([].concat(ha(g.Td.P1),ha(g.Td.t1),ha(g.Td.s1),ha(g.Td.Jfa),ha(g.Td.zga),ha(g.Td.Aga),ha(g.Td.yga),ha(g.Td.wga),ha(g.Td.xga),ha(g.Td.vga))));return l;};b.$4a=function(f){var d;d={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Rm.rL,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1};80 <= f.dr && (d=Object.assign(Object.assign({},d),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));f.jY && (d=Object.assign(Object.assign({},d),{enableFullHdForWidevineL1:!0}));f.kY && (d=Object.assign(Object.assign({},d),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,enableFullHdForWidevineL1:!0}),89 <= f.dr && (d=Object.assign(Object.assign({},d),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));102 <= f.dr && f.ZE && (d=Object.assign(Object.assign({},d),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0}));f.ZE && 99 <= f.dr && (d=Object.assign(Object.assign({},d),{enableAV1:!0}));return d;};},function(r,b,a){var g,k,m,f,d,l;function c(){var n,h,p;p=null === (n=mb.MSMediaKeys) || void 0 === n?void 0:n.isTypeSupported(k.Bb.je,d.Rd.zxa);n=p || (null === (h=mb.MSMediaKeys) || void 0 === h?void 0:h.isTypeSupported(k.Bb.IG,d.Rd.zxa));return {s9a:p,r9a:n};}Object.defineProperty(b,"__esModule",{value:!0});b.p5a=b.kSb=b.o5a=b.q5a=void 0;g=a(26);k=a(95);m=a(42);f=a(143);d=a(123);l=a(121);b.q5a=function(n){return Object.assign(Object.assign({},(0,f.TO)()),{Us:n.sB?"D":"H",Tp:n.sB?n.BP?"NFCDIE-04-":n.eYb?"NFCDIE-LX-":n.V$?"NFCDIE-AP-":n.jY?"NFCDIE-AT-":n.AP?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",kE:"edge-cadmium",E6:!1});};b.o5a=function(){var n,h,p;n=Object.assign(Object.assign({},(0,f.SO)()),{NH:(0,l.Xo)([m.ae.oG,m.ae.pG,m.ae.JS,m.ae.KS]),Yn:(0,l.Xo)([].concat(ha(m.Td.P1),ha(m.Td.t1),ha(m.Td.s1),ha(m.Td.Jfa),ha(m.Td.zga),ha(m.Td.Aga),ha(m.Td.yga),ha(m.Td.wga),ha(m.Td.xga),ha(m.Td.vga),ha(m.Td.nGa),ha(m.Td.oGa),ha(m.Td.yob))),zn:void 0,$X:!1});h=c();p=h.s9a;h.r9a || (n.Ax=!0,n.qE=!0,n.gL=!0);n.eI=p?[]:["start"];return n;};b.kSb=c;b.p5a=function(n){var h,p,q,t,v,w,u;h=n.lY;p=n.sB;q=n.ZE;t=c();v=t.r9a;w=t.s9a;t={nudgeSourceBuffer:!0,audioCapabilityDetectorType:g.ww.wz,videoCapabilityDetectorType:g.Rm.wz,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:w?!1:!0,enableAdPlaygraphs:w?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0};w={prepareCadmium:!0,enableLdlPrefetch:!v || w,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};u={audioCapabilityDetectorType:g.ww.hz,videoCapabilityDetectorType:g.Rm.rL,microsoftScreenSizeFilterEnabled:!1,keySystemList:[k.Bb.vTa],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,l.Xo)([m.ae.oG,m.ae.pG]),videoProfiles:(0,l.Xo)([m.I.mG,m.I.nG,m.I.v2,m.I.x2,m.I.w2,m.I.y2]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};h && (14 <= n.dr && (t=Object.assign(Object.assign(Object.assign({},t),w),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= n.dr && (t=Object.assign(Object.assign({},t),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= n.dr && (t=Object.assign(Object.assign({},t),{microsoftHwdrmRequiresHevc:!1})),17 <= n.dr && (t=Object.assign(Object.assign({},t),{enableDDPlusAtmos:!0})));p && (t=Object.assign(Object.assign(Object.assign({},t),w),{useEncryptedEvent:!1}),q && (t=Object.assign(Object.assign({},t),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),v?(t=Object.assign(Object.assign({},t),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[k.Bb.qPa,k.Bb.rPa]}),94 === n.dr && (t=Object.assign(Object.assign({},t),{enableHWDRM:!1})),102 <= n.dr && (t=Object.assign(Object.assign({},t),{useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0}))):t=Object.assign(Object.assign({},t),u));return t;};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.o6a=b.n6a=b.p6a=void 0;c=a(26);g=a(143);b.p6a=function(k){return Object.assign(Object.assign({},(0,g.TO)()),{Us:"O",Tp:k.V$?"NFCDOP-AP-":k.jY?"NFCDOP-AT-":k.AP?"NFCDOP-PH-":"NFCDOP-01-",kE:"opera-cadmium"});};b.n6a=function(){return Object.assign(Object.assign({},(0,g.SO)()),{uO:!0,Ax:!0,qE:!0,gL:!0});};b.o6a=function(k){var m;m={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Rm.rL,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0};67 <= k.dr && (m=Object.assign(Object.assign({},m),{enableVP9:!0}));return m;};},function(r,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.y5a=b.x5a=b.z5a=void 0;c=a(26);g=a(42);k=a(121);m=a(143);b.z5a=function(f){return Object.assign(Object.assign({},(0,m.TO)()),{Us:"F",Tp:f.BP?"NFCDFF-MC-":f.ZE?"NFCDFF-02-":f.V$?"NFCDFF-AP-":f.jY?"NFCDFF-AT-":f.AP?"NFCDFF-PH-":"NFCDFF-LX-",kE:"firefox-cadmium"});};b.x5a=function(f){var d,l;d=(0,m.SO)();l=Object.assign(Object.assign({},d),{uO:!0,Ax:!0,qE:!0,gL:!0});f.ZE && (l.Yn=[].concat(ha(d.Yn),ha((0,k.Xo)([g.I.GC,g.I.HC],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));f.BP && (l.Yn=[].concat(ha(d.Yn),ha((0,k.Xo)([g.I.GC,g.I.HC],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return l;};b.y5a=function(f){var d;d={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:c.Rm.rL,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(f.ZE || f.BP) && 95 <= f.dr && (d=Object.assign(Object.assign({},d),{enableAV1:!0}));return d;};},function(r,b,a){var g,k,m,f,d,l;function c(n){var h;h=Object.assign(Object.assign({},(0,l.SO)()),{NH:(0,d.Xo)([f.ae.oG,f.ae.pG,f.ae.Iz]),Yn:(0,d.Xo)([].concat(ha(f.Td.P1),ha(f.Td.t1),ha(f.Td.s1),ha(f.Td.zga),ha(f.Td.Aga),ha(f.Td.yga),ha(f.Td.wga),ha(f.Td.xga),ha(f.Td.vga),ha(f.Td.nGa),ha(f.Td.oGa))),zn:m.Bb.Lqb,CB:(0,g.xc)(7E3),eI:[]});(0,l.Y$)(n,14) && (h.eI=["start"]);return h;}Object.defineProperty(b,"__esModule",{value:!0});b.H6a=b.G6a=b.L5a=b.I6a=void 0;g=a(5);k=a(26);m=a(95);f=a(42);d=a(121);l=a(143);b.I6a=function(n){return Object.assign(Object.assign({},(0,l.TO)()),{Us:"S",Tp:n.AP?"NFCDSF-PH-":"NFCDSF-01-",kE:"safari-cadmium"});};b.L5a=function(n){return Object.assign(Object.assign({},c(n)),{jfa:!0,xO:!1,gw:[f.Pm.x4]});};b.G6a=c;b.H6a=function(n){var h;h={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:k.Rm.hz,enableSeamless:!0,enableCombinedPlaygraphs:!1,enableAdPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(0,l.Y$)(n,14) && (h=Object.assign(Object.assign({},h),{enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,l.oY)(n,10,12,2) && (h=Object.assign(Object.assign({},h),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,l.oY)(n,10,13,6) && (h=Object.assign(Object.assign({},h),{enableLdlPrefetch:!0}));(0,l.oY)(n,10,15,5) && (h=Object.assign(Object.assign({},h),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,l.oY)(n,10,15,6) && (h=Object.assign(Object.assign({},h),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));(0,l.Y$)(n,9) && (h=Object.assign(Object.assign({},h),{maxDecoderBufferMilliseconds:31E3}));return h;};},function(r,b,a){var g;function c(k,m,f,d){this.log=k;this.LI=m;this.dC=f;this.context=d;}Object.defineProperty(b,"__esModule",{value:!0});b.ATa=void 0;g=a(3);c.prototype.Ch=function(k){var m;m=this;(this.context.Vf || this.context.Gl) && this.log.trace("Requesting license",{drmType:k.Ao});return this.LI(k).catch(function(f){m.log.error("Unable to get the Playready license",f);if(m.context.vsc)throw f;throw {ga:!1,code:g.$.EL,Kc:f.Kc,Yd:f.Yd,Bo:f.Bo,Uk:f.message || f.Uk,uE:f.data,message:"Unable to send the Playready license request. " + (f.message || f.Uk)};});};c.prototype.release=function(k){var m;m=this;this.log.trace("Requesting stop data");return this.dC(k).catch(function(f){m.log.error("Unable to release the PlayReady license ",{code:f.code,subCode:f.Kc,extCode:f.Yd,edgeCode:f.Bo,message:f.message || f.Uk});throw {ga:!1,code:g.$.vja,Kc:f.Kc,Yd:f.Yd,Bo:f.Bo,Uk:f.message || f.Uk,message:"Unable to release the PlayReady license. " + (f.message || f.Uk)};});};b.ATa=c;mb._cad_global.WindowsDrmRequests=c;},function(r,b,a){var c,g,k,m,f,d,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.lka=void 0;c=a(3);g=a(214);k=a(218);m=a(30);f=a(80);d=a(31);l=a(26);n=a(61);(function(){var z;function h(A,B,C){var D;D=this;this.log=A;this.So=B || y.bind(this);this.context=C;this.NZ=this.challenge=this.keySystem=this.keySessionId=this.Ib=this.mediaKeys=void 0;this.wd={};this.owa=this.CCa=!1;this.xZ=v.bind(this);this.NZ=void 0;this.kEa=new Promise(function(E,G){D.MAa=E;D.qAa=G;});this.kEa.catch(function(E){D.log.error("wait for license rejected",E);});g.qc.get(l.iz).E9().then(function(E){(D.context.Vf || D.context.Gl) && D.log.debug("DRIVERINFO: ",E);}).catch(function(E){D.log.error("DRIVERINFO",E);});this.Dn=function(E,G){D.qAa(E,G);D.context.onerror(E,G);};this.qya=function(){D.MAa();};if(!(this instanceof h))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return g.qc.get(d.Li);}function q(){return g.qc.get(m.oi);}function t(A){var B,C;B=g.qc.get(k.Uja);C="";A.forEach(function(D){C+="<KeyID>" + D + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + C + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.sjb(A));(this.context.Vf || this.context.Gl) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:p().encode(B)});return B;}function v(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.Ib.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.Jg.qs,z.iD.ju,B);this.Ib=void 0;}function w(A,B,C){var E,G,F;for(var D=2;D < arguments.length;++D){;}D="";G=A.length;for(E=0;E < G;E++){F=A[E];0 < F && (D+=String.fromCharCode(F));}G="\\s*(.*)\\s*";for(E=arguments.length - 1;0 < E;E--){F=arguments[E];if(0 > D.search(F))return;F="(?:[^:].*:|)" + F;G="[\\s\\S]*<" + F + "[^>]*>" + G + "</" + F + ">[\\s\\S]*";}if(D=D.match(new RegExp(G)))return D[1];}function u(A,B,C,D){var E,G;E=A.target && A.target.sessionId;G=p().decode(w(A.message,"PlayReadyKeyMessage","Challenge"));C.state=12;C.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:E});(C.context.Vf || C.context.Gl || C.context.DC) && C.log.debug("LICENSE: License challenge",p().encode(G));C.keySessionId=E;A={Dg:B,messageType:"license-request",Ao:(/clearkey/i).test(C.keySystem)?"clearkey":"playready",Nk:[{data:G,sessionId:E}]};12 === C.state && (C.So("lc"),G={data:G,Ao:(/clearkey/i).test(C.keySystem)?"clearkey":"playready"},C.context.SJ || (C.NZ=G));C.context.Em.Ch(A).then(function(F){if(12 === C.state && (C.So("lr"),C.qya(),!C.context.SJ))(C.OZ=F.hk[0].data,C.state=13,D({ga:!0,state:C.state}));else if(C.Ib)return x(C,F.hk[0].data,C.Ib).then(function(){C.state=30;D({ga:!0,state:C.state});});}).catch(function(F){D(q().BJ(F,{state:C.state}));});}function x(A,B,C){A.aaa() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:C.sessionId,license:p().encode(B)});return new Promise(function(D,E){try{A.Ib.update(B);D(void 0);A.aaa() && A.log.trace("LICENSE: Update succeeded",{sessionId:C.sessionId});}catch(G){E({ga:!1,code:z.Jg.M3,message:"Unable to update the EME.",Qb:q().cf(G)});}});}function y(A){this.context.Ba && (this.wd[A]=this.context.Ba.getTime(),this.log.trace("Milestone: " + A + ", " + this.wd[A]));}z={Jg:c.$,iD:c.X};h.prototype.yX=function(){return this.keySystem;};h.prototype.vlb=function(A,B){A.log && (this.log=A.log);A.So && (this.So=A.So);B.Em && (this.context.Em=B.Em);B.onerror && (this.context.onerror=B.onerror);};h.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):g.qc.get(l.iz).KI()).then(function(C){B.So("lg");B.log.trace("Creating the media keys",{keySystem:C});B.keySystem=C;if(B.context.j_)C=Promise.reject({ga:!1,code:z.Jg.OS,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new mb.MSMediaKeys(C);}catch(D){C=Promise.reject({ga:!1,code:z.Jg.ZNa,message:"create MSMediaKeys(" + C + ") failed",Qb:q().cf(D)});break a;}try{B.context.ca && B.context.ca.msSetMediaKeys(B.mediaKeys);}catch(D){C=Promise.reject({ga:!1,code:z.Jg.PL,message:"set MSMediaKeys failed",Qb:q().cf(D)});break a;}C=Promise.resolve({ga:!0,mediaKeys:B.mediaKeys});}return C;});};h.prototype.close=function(){this.mediaKeys=void 0;this.context.ca=void 0;if(this.Ib){this.log.info("Closing the session",{sessionId:this.Ib.sessionId});this.Ib.removeEventListener("mskeyerror",this.xZ);try{this.Ib.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.Ib=void 0;}};h.prototype.Ch=function(A,B,C){var D;if(1 < B.length)return Promise.reject({code:z.Jg.cOa});if(0 === B.length)return Promise.reject({code:z.Jg.bOa});B=B[0];D=this;D.context.Vf && D.log.trace("LICENSE: Setting license");return D.context.j_?Promise.reject({ga:!1,code:z.Jg.oIa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(E,G){var F,I,L,M,K,O,H;try{I=function(J){D.Ib && (D.Ib.removeEventListener("mskeymessage",M),D.Ib.removeEventListener("mskeyadded",K),D.Ib.removeEventListener("mskeyerror",O),D.Ib.addEventListener("mskeyerror",D.xZ));J.state=11;J.ga?E(J):(D.close(),G(J));};L=function(J){var R,P;R=[];P=Array.prototype.map.call(J,function(V){return V?String.fromCharCode(V):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(P)R.push(P[1]);else {J=w(J,"KIDS");P=/VALUE="(.+?)">/g;for(var T=P.exec(J);null != T;){R.push(T[1]);T=P.exec(J);}}return R;};M=function(J){F && clearTimeout(F);u(J,A,D,I);};K=function(J){(D.context.Vf || D.context.Gl) && D.log.trace("LICENSE: Received " + J.type + " event",{keySystem:J.target.keySystem,sessionId:J.target.sessionId});I({ga:!0});};O=function(J){var R,P;F && clearTimeout(F);if(J.target && J.target.error)(R=J.target.error.systemCode,P=J.target.error.code);R={code:z.Jg.qs,Kc:z.iD.ju,Yd:R?g.qc.get(f.dz).EI(R,4):P,details:q().cf(J),cause:J.target && J.target.error,Hea:R,I8:P};D.log.error("LICENSE: Received " + J.type + " event",{sessionId:D.Ib && D.Ib.sessionId,keySystem:J.target.keySystem,systemCode:R.Hea,code:R.I8});D.So("le");D.Dn && D.Dn(z.Jg.qs,R);I({ga:!1,code:z.Jg.qs,Kc:z.iD.ju,Yd:R.Yd,message:"Received a key error.",Qb:R.details,cause:R.cause});};D.log.trace("LICENSE: Executing prefix based EME");(D.context.Vf || D.context.Gl) && D.log.debug("LICENSE: PSSH",p().encode(B));D.Zx || (D.Zx=L(B));if(C){H=t.call(D,D.Zx);D.Ib=D.mediaKeys.createSession("video/mp4",new Uint8Array(0),H);}else D.Ib=D.mediaKeys.createSession("video/mp4",B,null);(D.context.Vf || D.context.Gl) && D.log.debug("LICENSE: Created the media keys sessions",{keySystem:D.Ib.keySystem,sessionId:D.Ib.sessionId});D.Ib.addEventListener("mskeymessage",M);D.Ib.addEventListener("mskeyadded",K);D.Ib.addEventListener("mskeyerror",O);D.context.lwa && (F=setTimeout(function(){I({ga:!1,code:z.Jg.zT,Kc:z.iD.yqb});},D.context.lwa));}catch(J){G({code:z.Jg.zT,Kc:z.iD.Mm});}});})();};h.prototype.dK=function(){var A;(this.context.Vf || this.context.Gl) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.Ch(n.jp.Nha.Fq,A,!0);};h.prototype.M6=function(A){this.OZ || this.log.error("pending license must exist at this point");this.context.SJ=!0;try{A && (this.context.ca=A,this.context.ca.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({ga:!1,code:z.Jg.PL,message:"setMediaKeys failed",Qb:q().cf(B)});}return x(this,this.OZ,this.Ib);};h.prototype.o3a=function(A){var B,C;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));C={qa:A.qa,Pe:A.Pe};return new Promise(function(D,E){(function(){B.context.Em.release.call(B.context.Em,C).then(function(){var G;B.log.trace("successfully released the license",JSON.stringify(A));G={ga:!0};B.close();G.ga?D(G):E(G);}).catch(function(G){B.log.error("Unable to release the license",{sessionId:B.keySessionId,code:G.code,subCode:G.Kc,extCode:G.Yd,edgeCode:G.Bo,message:G.Uk});B.close();G.ga?D(G):E(G);});})();});};h.prototype.aaa=function(){return this.context.Vf || this.context.Gl;};b.lka=h;mb._cad_global.WindowsEmeSession=b.lka;})();},function(r,b,a){var u,x,y,z,A,B,C,D,E,G,F,I;function c(L,M,K){var O;O=this;this.log=L;this.So=M || w.bind(this);this.context=K;this.NZ=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.wd={};this.iq=void 0;this.url="";this.owa=this.CCa=!1;this.xZ=n.bind(this);this.Zo=this.NZ=void 0;this.kEa=new Promise(function(H,J){O.MAa=H;O.qAa=J;});this.Dn=function(H,J){O.qAa(H,J);O.context.onerror(H,J);};this.qya=function(){O.MAa();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function g(){return u.Ea.get(A.tu);}function k(){return u.Ea.get(z.Li);}function m(){return u.Ea.get(x.oi);}function f(L){return (/com.apple.fps/).test(L) && !(/com.apple.fps.2_0/).test(L);}function d(L){var M;L=(function(K){var H,J;function O(R,P,T,V){var S,W;S=new Uint8Array("piff" == P?88:72);W=new G.MS(S);W.FC(12);W.EC("frma");W.EC(R);W.FC(20);W.EC("schm");W.n1(0);W.n1(0);W.EC(P);W.FC(T);"piff" == P?(W.FC(56),W.EC("schi"),W.FC(48),W.EC("uuid"),W.m1([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(W.FC(40),W.EC("schi"),W.FC(32),W.EC("tenc"));W.n1(0);W.n1(0);W.FC(264);W.m1(V);return S;}H=O("avc1","piff",65537,K);H=g().decode(k().encode(H));K=O("avc1",F.yw,65536,K);K=g().decode(k().encode(K));J=new Uint8Array(7 + H.length + 8 + K.length + 5);J.set([91,10,32,32,32,32,34],0);J.set(H,7);J.set([34,44,10,32,32,32,32,34],7 + H.length);J.set(K,7 + H.length + 8);J.set([34,10,32,32,93],7 + H.length + 8 + K.length);return J;})(L);M=new Uint8Array(13 + L.length + 2);M.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);M.set(L,13);M.set([10,125],13 + L.length);return M;}function l(L){var M;L=L.subarray(14,30);L=String.fromCharCode.apply(null,L);L=k().decode(L);L=L.subarray(4);M=new Uint8Array(16);M.set(L);return M;}function n(L){var M;M=h(L);this.log.error("LICENSE Error: Received event: " + L.type,{sessionId:this.Ib?this.Ib.sessionId:void 0,keySystem:L.target.keySystem,systemCode:M.Hea,code:M.I8});this.Dn && this.Dn(I.Jg.qs,M);this.Ib=void 0;}function h(L){var M,K;if(L.target.error)(M=L.target.error.systemCode,K=L.target.error.code);return {code:I.Jg.qs,Kc:I.iD.ju,Yd:M?u.Ea.get(y.dz).EI(M,4):K,details:m().cf(L),cause:L.target.error,Hea:M,I8:K};}function p(L,M,K,O){var H,J,R;H=L.target.sessionId;J=L.message;R=m().cE(J,g().decode("certificate"));K.owa=M === E.jp.Nha.lp;K.state=R?2:12;K.log.trace("LICENSE: Received event: " + L.type,{keySystem:L.target.keySystem,sessionId:H});(K.context.Vf || K.context.Gl || K.context.DC) && K.log.debug("LICENSE: License challenge",k().encode(J));K.keySessionId=H;L={bq:K.bq,Dg:M,messageType:"license-request",Ao:(/clearkey/i).test(K.keySystem)?"clearkey":"fps",Nk:[{data:J,sessionId:H}]};12 === K.state && (K.So("lc"),J={data:J,Ao:(/clearkey/i).test(K.keySystem)?"clearkey":"fps"},K.context.SJ || (K.NZ=J));K.context.Em.Ch(L).then(function(P){if(12 === K.state && (K.So("lr"),K.qya(),!K.context.SJ))(K.OZ=P.hk[0].data,K.state=13,O({ga:!0,state:K.state}));else if(K.Ib)return (P=v(K,R,P.hk[0].data,K.Ib),2 === K.state?P:P.then(function(){K.state=30;O({ga:!0,state:K.state});}));}).catch(function(P){O(m().BJ(P,{state:K.state}));});}function q(L,M,K){M.log.trace("LICENSE: Received event: " + L.type,{keySystem:L.target.keySystem,sessionId:L.target.sessionId});K({ga:!0});}function t(L,M,K){var O;O=h(L);M.Dn && M.Dn(I.Jg.qs,O);M.log.error("LICENSE Error: Received event: " + L.type,{sessionId:M.Ib?M.Ib.sessionId:void 0,keySystem:L.target.keySystem,systemCode:O.Hea,code:O.I8});K({ga:!1,code:I.Jg.qs,Kc:I.iD.ju,Yd:O.Yd,message:"Received a key error.",Qb:O.details,cause:O.cause});}function v(L,M,K,O){O={sessionId:O.sessionId};L.aaa() && (O.license=k().encode(K));L.log.trace("calling keysession update",O);return new Promise(function(H,J){function R(){L.Ib.removeEventListener("webkitkeyadded",R);H(void 0);}try{M || L.Ib.addEventListener("webkitkeyadded",R);L.Ib.update(K);M && H(void 0);}catch(P){J({ga:!1,code:I.Jg.M3,message:"Unable to update the EME.",e:P});}});}function w(L){this.wd[L]=u.Ea.get(B.cd).Rb().ja(C.sa);this.log.trace("Milestone: " + L + ", " + this.wd[L]);}Object.defineProperty(b,"__esModule",{value:!0});u=a(9);b=a(3);x=a(30);y=a(80);z=a(31);A=a(74);B=a(18);C=a(5);D=a(13);E=a(61);G=a(171);F=a(48);I={Jg:b.$,iD:b.X};c.prototype.yX=function(){return this.keySystem;};c.prototype.vlb=function(L,M){L.log && (this.log=L.log);L.So && (this.So=L.So);M.Em && (this.context.Em=M.Em);M.onerror && (this.context.onerror=M.onerror);};c.prototype.create=function(L){var M;M=this;M.So("lg");M.log.trace("CREATE: Creating the media keys",{keySystem:L});M.keySystem=L;return M.context.j_?Promise.reject({ga:!1,code:I.Jg.OS,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function K(){var O,H;O=m().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");H=O.lastChild;M.Zo=O;M.context.ca=D.Ph.createElement("VIDEO");H?M.Zo.insertBefore(M.context.ca,H):M.Zo.appendChild(M.context.ca);}return new Promise(function(O,H){function J(R){(M.context.Vf || M.context.Gl || M.context.DC) && M.log.trace("CREATE: Received event: " + R.type,{readyState:R.target.readyState,duration:R.target.duration});try{M.mediaKeys=new mb.WebKitMediaKeys(L);M.context.ca.webkitSetMediaKeys(M.mediaKeys);O({ga:!0,mediaKeys:M.mediaKeys});}catch(P){M.log.error("CREATE: Exception on webkitSetMediaKeys",P);H({ga:!1,code:I.Jg.zT,Qb:m().cf(P)});}}if(f(M.keySystem))try{M.mediaKeys=new mb.WebKitMediaKeys(L);M.context.ca && (M.log.trace("LICENSE: calling setmediakeys on video element"),M.context.ca.webkitSetMediaKeys(M.mediaKeys));O({ga:!0,mediaKeys:M.mediaKeys});}catch(R){H({ga:!1,code:I.Jg.zT,Qb:m().cf(R)});}else (M.mediaKeys=new mb.WebKitMediaKeys(L),M.context.ca?(M.log.trace("LICENSE: calling setmediakeys on video element"),M.context.ca.webkitSetMediaKeys(M.mediaKeys)):(K(),M.iq=new D.ZC(),M.iq.addEventListener("sourceopen",J),M.url=URL.createObjectURL(M.iq),M.context.ca.src=M.url),O({ga:!0,mediaKeys:M.mediaKeys}));});})();};c.prototype.close=function(){this.Ib && (this.log.info("Closing the session",{sessionId:this.Ib.sessionId}),this.Ib.removeEventListener("webkitkeyerror",this.xZ),this.Ib.close(),this.Ib=void 0);};c.prototype.Ch=function(L,M){var K;if(1 < M.length)return Promise.reject({code:I.Jg.cOa});if(0 === M.length)return Promise.reject({code:I.Jg.bOa});M=M[0];K=this;K.context.Vf && K.log.trace("LICENSE: Setting license",{initData:k().encode(M)});return K.context.j_?Promise.reject({ga:!1,code:I.Jg.oIa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(O,H){var R,P,T;function J(V){K.Ib && (K.Ib.removeEventListener("webkitkeymessage",R),K.Ib.removeEventListener("webkitkeyadded",P),K.Ib.removeEventListener("webkitkeyerror",T),K.Ib.addEventListener("webkitkeyerror",K.xZ));V.ga?O(V):(K.close(),H(V));}R=function(V){p(V,L,K,J);};P=function(V){q(V,K,J);};T=function(V){t(V,K,J);};f(K.keySystem) && (K.bq=l(M),M=d(K.bq));K.log.trace("LICENSE: Executing prefix based EME");K.context.Vf | K.context.Gl && K.log.debug("LICENSE: PSSH",k().encode(M));K.Ib=K.mediaKeys.createSession("video/mp4",M,null);(K.context.Vf || K.context.Gl) && K.log.debug("LICENSE: Created the media keys sessions",{keySystem:K.Ib.keySystem,sessionId:K.Ib.sessionId});K.Ib.addEventListener("webkitkeymessage",R);K.Ib.addEventListener("webkitkeyadded",P);K.Ib.addEventListener("webkitkeyerror",T);});})();};c.prototype.dK=function(){var L;L=this;return L.CCa?Promise.resolve({ga:!0}):new Promise(function(M,K){var H,J,R;function O(P){L.Ib && (L.Ib.removeEventListener("webkitkeymessage",H),L.Ib.removeEventListener("webkitkeyadded",J),L.Ib.removeEventListener("webkitkeyerror",R));P.ga?M(P):(K(P),L.close());}H=function(P){p(P,E.jp.Nha.Fq,L,O);};J=function(P){q(P,L,O);M({ga:!0});};R=function(P){t(P,L,O);};L.owa=!1;L.Ib.addEventListener("webkitkeymessage",H);L.Ib.addEventListener("webkitkeyadded",J);L.Ib.addEventListener("webkitkeyerror",R);L.Ib.update(g().decode("renew"));});};c.prototype.M6=function(L){this.OZ || this.log.error("pending license must exist at this point");this.context.SJ=!0;try{L && (this.context.ca=L,this.log.trace("calling setmediakeys on video element"),this.context.ca.webkitSetMediaKeys(this.mediaKeys));}catch(M){return new Promise(function(K,O){O({ga:!1,code:I.Jg.PL,message:"setMediaKeys failed",Qb:m().cf(M)});});}return v(this,!1,this.OZ,this.Ib);};c.prototype.o3a=function(L){var M,K;M=this;M.log.trace("Releasing the license of the current session",JSON.stringify(L));M.CCa=!0;K={qa:L.qa,Pe:L.Pe};return new Promise(function(O,H){(function(){M.context.Em.release.call(M.context.Em,K).then(function(){var J;M.log.trace("successfully released the license",JSON.stringify(L));J={ga:!0};J.ga?O(J):(M.close(),H(J));}).catch(function(J){M.log.error("RELEASE: Unable to get the release the license",{sessionId:M.Ib?M.Ib.sessionId:void 0,code:J.code,subCode:J.Kc,extCode:J.Yd,edgeCode:J.Bo,message:J.Uk});J.ga?O(J):(M.close(),H(J));});})();});};c.prototype.aaa=function(){return this.context.Vf || this.context.Gl;};r.exports=c;},function(r,b,a){var g,k,m,f,d,l;function c(n,h,p,q){this.log=n;this.LI=h;this.dC=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});g=a(3);k=a(9);m=a(30);f=a(74);d=a(31);l=a(48);c.prototype.Ch=function(n){var h,p;h=this;(this.context.Vf || this.context.Gl) && this.log.debug("Requesting a license",n);if(k.Ea.get(m.oi).cE(k.Ea.get(f.tu).decode("certificate"),n.Nk[0].data)){h.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({hk:[{sessionId:n.Nk[0].sessionId,data:k.Ea.get(d.Li).decode(l.q2)}]});}else p=k.Ea.get(m.oi).cE(k.Ea.get(f.tu).decode("content"),n.Nk[0].data)?Promise.resolve({hk:[{sessionId:n.Nk[0].sessionId,data:n.bq}]}):(function(){h.log.trace("Requesting license",{drmType:n.Ao});return h.LI(n).catch(function(q){h.log.error("Unable to get the Fairplay license",q);throw {code:g.$.EL,Kc:q.Kc,Yd:q.Yd,Bo:q.Bo,Uk:q.message || q.Uk,uE:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.Uk),cause:q};});})();return p;};c.prototype.release=function(n){var h;h=this;this.log.trace("Requesting stop data");return this.dC(n).catch(function(p){h.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.Kc,extCode:p.Yd,edgeCode:p.Bo,message:p.message || p.Uk});throw {ga:!1,code:g.$.vja,Kc:p.Kc,Yd:p.Yd,Bo:p.Bo,Uk:p.message || p.Uk,message:"Unable to release the FairPlay license. " + (p.message || p.Uk),cause:p};});};r.exports=c;},function(r,b,a){var m,f,d,l,n,h,p,q;function c(t,v,w){var u;u=this;this.is=t;this.oq=v;this.config=w;this.iw=function(){return {version:u.version,drmData:u.u8.map(function(x){return x.iw();})};};this.gsa=function(x){var y;u.is.oo(x) && (x=g(x));1 === x.version && (x=k(u.is,x));y={version:2,data:[]};if(2 === x.version){y.version=x.version;try{y.data=x.drmData.map(function(z){return new q.l2(z);});}catch(z){throw new n.od(d.$.CL,d.X.NC,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!x.version || !u.is.no(x.version))throw new n.od(d.$.CL,d.X.NC,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== x.version)throw new n.od(d.$.CL,d.X.iGa,void 0,void 0,void 0,"Version number is not supported. Version: " + x.version);}return y;};this.Xl=new h.Eha(2,this.config.EW,this.is.oo(this.config.EW),this.oq,this.iw);}function g(t){t=JSON.parse(t);t={xid:t.xid,movieId:t.movieId,keySessionIds:t.keySessionIds,licenseContextId:t.licenseContextId};if(!t.licenseContextId || !t.xid || !t.movieId)throw new n.od(d.$.CL,d.X.NC);return {version:1,drmData:[t]};}function k(t,v){if(t.MD(v.drmData))return {version:2,drmData:v.drmData.map(function(w){var u;u=w.keySessionIds;return new q.l2({keySessionData:(u && 0 < u.length?u:[void 0]).map(function(x){return {id:x,licenseContextId:w.licenseContextId,licenseId:void 0};}),xid:w.xid,movieId:w.movieId}).iw();})};throw new n.od(d.$.CL,d.X.NC);}Object.defineProperty(b,"__esModule",{value:!0});b.BGa=void 0;r=a(0);m=a(1);f=a(67);d=a(3);l=a(27);n=a(36);h=a(334);p=a(96);q=a(220);c.prototype.rfb=function(){return this.Obc();};c.prototype.rXa=function(t){return this.Xl.add(t);};c.prototype.v_=function(t){return this.Xl.remove(t,function(v,w){return v.qa === w.qa;});};c.prototype.toString=function(){return JSON.stringify(this.iw(),null,"  ");};c.prototype.Obc=function(){var t;t=this;this.vfb || (this.vfb=new Promise(function(v,w){t.Xl.load(t.gsa).then(function(){v();}).catch(function(u){u.za && u.cause?w(new n.od(d.$.CL,u.za,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,u)):w(u);});}));return this.vfb;};Ua.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Xl.version;}},u8:{configurable:!0,enumerable:!0,get:function(){return this.Xl.dn;}}});a=c;a=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(l.Yg)),r.__param(1,(0,m.l)(p.JC)),r.__param(2,(0,m.l)(f.ku))],a);b.BGa=a;},function(r,b,a){var g,k;function c(m,f,d,l,n){this.version=m;this.RJ=f;this.DCa=d;this.oq=l;this.iw=n;}Object.defineProperty(b,"__esModule",{value:!0});b.LKa=void 0;g=a(3);k=a(36);c.prototype.load=function(m){return this.WZb(m);};c.prototype.set=function(m){this.dn=m;return this.Z4b();};c.prototype.WZb=function(m){var f;f=this;this.F$a || (this.F$a=new Promise(function(d,l){function n(h){f.PLb().then(function(){l(h);}).catch(function(){l(h);});}f.Gta().then(function(h){f.storage=h;return f.storage.load(f.RJ);}).then(function(h){var p;h=h.value;try{p=m(h);f.version=p.version;f.dn=p.data;d();}catch(q){n(q);}}).catch(function(h){h.za !== g.X.hD?l(h):d();});}));return this.F$a;};c.prototype.Z4b=function(){var m,f,d,l,n;m=this;if(!this.DCa)return Promise.resolve();if(this.wea){l=new Promise(function(h,p){f=h;d=p;});n=function(){m.wea=l;m.ljb().then(function(){f();}).catch(function(h){d(h);});};this.wea.then(n).catch(n);return l;}return this.wea=this.ljb();};c.prototype.ljb=function(){var m,f;m=this;f=this.iw();return new Promise(function(d,l){m.Gta().then(function(n){return n.save(m.RJ,f,!1);}).then(function(){d();}).catch(function(n){l(c.Ddc(g.$.Ftb,n));});});};c.prototype.PLb=function(){var m;m=this;return this.DCa?new Promise(function(f,d){m.Gta().then(function(l){return l.remove(m.RJ);}).then(function(){f();}).catch(function(l){d(l);});}):Promise.resolve();};c.prototype.Gta=function(){return this.storage?Promise.resolve(this.storage):this.oq.create();};c.Ddc=function(m,f){var d;if(f.za && f.cause)return new k.od(m,f.za,void 0,void 0,void 0,void 0,void 0,f.cause);if(void 0 !== f.Kc){d=f.message?f.message + " ":"";f.code=m;f.message="" === d?void 0:d;return f;}return f instanceof Error?new k.od(m,g.X.Mm,void 0,void 0,void 0,void 0,f.stack,f):new k.od(m,g.X.eo,void 0,void 0,void 0,void 0,void 0,f);};b.LKa=c;},function(r,b,a){var c,g,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.Xeb=void 0;c=a(3);g=a(97);k=a(124);m=a(219);b.Xeb=function(d){m.rO.parent=d.wb;return function(){f || (f=new Promise(function(l,n){try{l(m.rO.get(k.$Ha));}catch(h){n(new g.Oh(c.$.wrb,c.X.Grb,void 0,"Unable to extract the DRM services from the dependency injector",h));}}));return f;};};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.OMa=void 0;a.prototype.x7a=function(){return void 0 !== this.mediaKeys;};a.prototype.yXa=function(c){this.mediaKeys=c;};a.prototype.z8b=function(){this.x7a() && (this.mediaKeys=void 0);};b.OMa=a;},function(r,b,a){var g,k,m,f,d,l,n,h;function c(p,q,t,v,w){this.rI=p;this.vc=q;this.$P=v;this.hq=w;this.log=t.hb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.CGa=void 0;r=a(0);g=a(1);k=a(124);m=a(31);f=a(7);d=a(144);l=a(98);n=a(122);h=a(335);c.prototype.Bta=function(p){var q;q=this;return Promise.all([this.rI(),this.Qsa()]).then(function(t){var v;v=ma(t);t=v.next().value;v=v.next().value;return t.UQb({type:p,initData:v,Z$:!1},q.$P());}).then(function(t){var v;v=ma(t);t=v.next().value;v=v.next().value;v=q.vc.encode(v.data[0]);q.log.trace("Challenge generated",v);return {jc:t,Joa:v};});};c.prototype.Qsa=function(){var p;p=this;return this.hq.CE().then(function(q){return q.hv();}).then(function(q){switch(q){case n.Lm.yE:return h.$Ia;case n.Lm.WB:return h.pPa;default:return h.wTa;}}).then(function(q){return q.map(p.vc.decode);});};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.m2)),r.__param(1,(0,g.l)(m.Li)),r.__param(2,(0,g.l)(f.mb)),r.__param(3,(0,g.l)(d.oT)),r.__param(4,(0,g.l)(l.vz))],a);b.CGa=a;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t;function c(v,w,u,x,y,z){this.Ke=v;this.ki=w;this.vc=u;this.is=x;this.lZ=y;this.Sk=z;}Object.defineProperty(b,"__esModule",{value:!0});b.zIa=void 0;r=a(0);g=a(1);k=a(31);m=a(27);f=a(37);d=a(74);l=a(30);n=a(122);h=a(67);p=a(687);q=a(689);t=a(223);c.prototype.create=function(v){switch(v){case n.Lm.WB:return new q.qQa(this.lZ,this.is,this.vc,this.Ke,this.Sk,this.ki);case n.Lm.yE:return new p.ZIa(this.lZ,this.is,this.vc,this.Ke,this.Sk,this.ki);default:return new t.Mw(this.lZ,this.is,this.vc,this.Ke,this.Sk,this.ki);}};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(l.oi)),r.__param(1,(0,g.l)(d.tu)),r.__param(2,(0,g.l)(k.Li)),r.__param(3,(0,g.l)(m.Yg)),r.__param(4,(0,g.l)(f.NL)),r.__param(5,(0,g.l)(h.ku))],a);b.zIa=a;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t;function c(v,w,u,x,y,z){v=k.Mw.call(this,v,w,u,x,y,z) || this;v.vc=u;v.Ki=x;v.Sk=y;v.ki=z;v.P7a=new m.YIa(v.vc,v.Ki,v.ki);return v;}Object.defineProperty(b,"__esModule",{value:!0});b.ZIa=void 0;r=a(0);g=a(1);k=a(223);m=a(688);f=a(37);d=a(27);l=a(31);n=a(30);h=a(67);p=a(74);q=a(336);t=a(337);ja(c,k.Mw);c.prototype.generateRequest=function(v,w,u){var x,y,z;x=this;try{y=w.map(function(A){return x.P7a.PSb(A);});this.t8a=y.map(function(A){return x.vc.encode(A);});z=this.P7a.JHb(y,u);return k.Mw.prototype.generateRequest.call(this,v,[z],!1);}catch(A){return Promise.reject(A);}};c.prototype.update=function(v,w,u){var x,y,z,A,B;x=this;if(u)try{y=this.ki.encode(v[0]);z=JSON.parse(y).RESPONSES.map(function(C){var D;D=t.i4.tjb(C.ID);return {keyID:w === q.SG.PQa?x.t8a[x.t8a.length - 1]:u[D],payload:C.PAYLOAD};});if(w === q.SG.Request){A=z.map(function(C){return C.keyID;});u.forEach(function(C){-1 === A.indexOf(C) && z.push({keyID:C,error:1});});}B=JSON.stringify(z);v=[this.ki.decode(B)];}catch(C){return Promise.reject(C);}return k.Mw.prototype.update.call(this,v,w);};c.prototype.dK=function(){return k.Mw.prototype.update.call(this,[this.ki.decode("renew")],q.SG.Request);};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(f.NL)),r.__param(1,(0,g.l)(d.Yg)),r.__param(2,(0,g.l)(l.Li)),r.__param(3,(0,g.l)(n.oi)),r.__param(4,(0,g.l)(h.ku)),r.__param(5,(0,g.l)(p.tu))],a);b.ZIa=a;},function(r,b){function a(c,g,k){var m;m=this;this.vc=c;this.Ki=g;this.ki=k;this.PSb=function(f){var d;f=f.subarray(14,30);f=String.fromCharCode.apply(null,f);f=m.vc.decode(f);f=f.subarray(4);d=new Uint8Array(16);d.set(f);return d;};this.bJa={yw:1667591779,xob:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.YIa=void 0;a.prototype.JHb=function(c,g){g=g?this.bJa.xob:this.bJa.yw;c=c.map(function(k){return {Apc:"",ZYb:k,Ena:k,Ebc:k,Vfc:[1]};});return this.E_b(g,c);};a.prototype.D_b=function(c){var g;g=new Uint8Array(4);new DataView(g.buffer).setUint32(0,c);return this.Owa("fpsi",[g]);};a.prototype.C_b=function(c,g,k,m){c=[this.Owa("fkri",[c])];g.byteLength && c.push(this.OY("fkai",[g]));k.byteLength && c.push(this.OY("fkcx",[k]));m.length && c.push(this.OY("fkvl",[new Uint8Array(new Uint32Array(m).buffer)]));return this.OY("fpsk",c);};a.prototype.E_b=function(c,g){var k,f;k=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.D_b(c)];for(var m in g){f=g[m];c.push(this.C_b(f.ZYb,f.Ena,f.Ebc,f.Vfc));}g=this.OY("fpsd",c);m=new Uint8Array(4);new DataView(m.buffer).setUint32(0,g.byteLength);return this.Owa("pssh",[k,m,g]);};a.prototype.Owa=function(c,g){var k,m,f;k=0;for(f in g){k+=g[f].byteLength;}k=new Uint8Array(12 + k);m=new DataView(k.buffer);f=0;m.setUint32(f,k.byteLength);f+=4;k.set(this.ki.decode(c),f);f+=4;m.setUint32(f,0);f+=4;for(var d in g){c=g[d];k.set(c,f);f+=c.byteLength;}return k;};a.prototype.OY=function(c,g){var k,m;k=0;for(m in g){k+=g[m].byteLength;}k=new Uint8Array(8 + k);m=0;new DataView(k.buffer).setUint32(m,k.byteLength);m+=4;k.set(this.ki.decode(c),m);m+=4;for(var f in g){c=g[f];k.set(c,m);m+=c.byteLength;}return k;};b.YIa=a;},function(r,b,a){var g,k,m,f;function c(){return k.Mw.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.qQa=void 0;r=a(0);g=a(1);k=a(223);m=a(97);f=a(3);ja(c,k.Mw);c.prototype.P7=function(d,l,n,h,p){this.Xfb(n);this.Ufb(h);this.Sfb(p);this.oVa=this.zb;this.zb=d.createSession(l);this.zXa(n);this.vXa(h);this.sXa(p);return this.generateRequest(this.initDataType,this.initData,!1);};c.prototype.close=function(){var l;function d(n){return n && n.sessionId?n.close():Promise.resolve();}l=this;this.mpa=void 0;return this.zb?Promise.all([d(this.zb),d(this.oVa)]).then(function(){}).finally(function(){l.zb=void 0;l.oVa=void 0;}):Promise.reject(new m.Oh(f.$.iIa,f.X.xL,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(d,l,n){this.initDataType=d;this.initData=l;return k.Mw.prototype.generateRequest.call(this,d,l,n);};a=c;a=r.__decorate([(0,g.aa)()],a);b.qQa=a;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t;function c(v,w,u,x,y,z){this.ki=v;this.Yj=w;this.vc=u;this.config=x;this.Sk=y;this.Di=z;}Object.defineProperty(b,"__esModule",{value:!0});b.aIa=void 0;r=a(0);g=a(1);k=a(80);m=a(31);f=a(74);d=a(12);l=a(81);n=a(122);h=a(67);p=a(691);q=a(692);t=a(693);c.prototype.create=function(v){switch(v){case n.Lm.WB:return new q.yIa(this.Yj,this.vc);case n.Lm.yE:return new t.pRa(this.Yj,this.vc,this.ki,this.Di);default:return new p.KGa(this.Yj,this.vc,this.Sk,this.config);}};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(f.tu)),r.__param(1,(0,g.l)(k.dz)),r.__param(2,(0,g.l)(m.Li)),r.__param(3,(0,g.l)(d.Lc)),r.__param(4,(0,g.l)(h.ku)),r.__param(5,(0,g.l)(l.Bz))],a);b.aIa=a;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t;function c(v,w,u,x){this.Yj=v;this.vc=w;this.Sk=u;this.config=x;}Object.defineProperty(b,"__esModule",{value:!0});b.KGa=void 0;r=a(0);g=a(1);k=a(3);m=a(80);f=a(31);d=a(338);l=a(97);n=a(68);h=a(67);p=a(12);q=a(36);t=a(48);c.prototype.C7=function(){return !1;};c.prototype.Lna=function(){return !0;};c.prototype.Doa=function(){return !0;};c.prototype.xX=function(){return t.yw;};c.prototype.z9=function(){return this.Sk.BBa?this.vc.decode(this.Sk.BBa):this.vc.decode(t.tTa);};c.prototype.wta=function(){var v;v=this;return [t.TC,t.Hja,t.Gja].map(function(w){return {initDataTypes:[v.xX()],persistentState:"required",videoCapabilities:[{contentType:d.w3,robustness:w}]};});};c.prototype.$ua=function(){Promise.reject(new q.od(k.$.Zga));};c.prototype.Ipa=function(v){var w;return {type:v.type,sessionId:null === (w=v.target) || void 0 === w?void 0:w.sessionId,xJ:[new Uint8Array(v.message)],messageType:v.messageType};};c.prototype.IA=function(v){var w,u,x;w=new l.Oh(k.$.qs);u=null === v || void 0 === v?void 0:v.code;null != u && void 0 !== u?(u=parseInt(u,10),w.Kc=1 <= u && 9 >= u?k.X.ju + u:k.X.ju):w.Kc=v instanceof n.rs?k.X.PS:k.X.Mm;try{x=v.message.match(/\((\d*)\)/)[1];w.Yd=this.Yj.EI(x,4);}catch(y){}w.sW(v);return w;};c.prototype.WO=function(){};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.dz)),r.__param(1,(0,g.l)(f.Li)),r.__param(2,(0,g.l)(h.ku)),r.__param(3,(0,g.l)(p.Lc))],a);b.KGa=a;},function(r,b,a){var g,k,m,f,d,l,n,h,p;function c(q,t){this.Yj=q;this.vc=t;}Object.defineProperty(b,"__esModule",{value:!0});b.yIa=void 0;r=a(0);g=a(1);k=a(3);m=a(80);f=a(31);d=a(338);l=a(97);n=a(68);h=a(36);p=a(48);c.prototype.C7=function(){return !0;};c.prototype.Lna=function(){return !1;};c.prototype.Doa=function(){return !1;};c.prototype.xX=function(){return p.yw;};c.prototype.z9=function(){};c.prototype.wta=function(){return [{initDataTypes:[this.xX()],audioCapabilities:[{contentType:d.v3}],videoCapabilities:[{contentType:d.w3}],sessionTypes:[p.TEMPORARY]}];};c.prototype.$ua=function(){Promise.reject(new h.od(k.$.Zga));};c.prototype.Ipa=function(q){var t;t=new Uint8Array(q.message);t=this.tra(t,"PlayReadyKeyMessage","Challenge");t=this.vc.decode(t);return {type:q.type,sessionId:q.target.sessionId,xJ:[t],messageType:q.messageType};};c.prototype.IA=function(q){var t,v,w;t=new l.Oh(k.$.qs);v=q.code;null != v && void 0 !== v?(v=parseInt(v,10),t.Kc=1 <= v && 9 >= v?k.X.ju + v:k.X.ju):t.Kc=q instanceof n.rs?k.X.PS:k.X.Mm;try{w=(/\((\d+)\)/).exec(q.message);t.Yd=this.Yj.EI(Number(w && w[1]),4);}catch(u){}t.sW(q);return t;};c.prototype.tra=function(q,t){var w,u,x;for(var v=1;v < arguments.length;++v){;}for(v=1;v < arguments.length;v++){;}v="";u=q.length;for(w=0;w < u;w++){x=q[w];0 < x && (v+=String.fromCharCode(x));}u="\\s*(.*)\\s*";for(w=arguments.length - 1;0 < w;w--){x=arguments[w];if(0 > v.search(x))return "";x="(?:[^:].*:|)" + x;u="[\\s\\S]*<" + x + "[^>]*>" + u + "</" + x + ">[\\s\\S]*";}return (v=v.match(new RegExp(u)))?v[1]:"";};c.prototype.WO=function(){};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.dz)),r.__param(1,(0,g.l)(f.Li))],a);b.yIa=a;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v;function c(w,u,x,y){this.Yj=w;this.vc=u;this.ki=x;this.Di=y;}Object.defineProperty(b,"__esModule",{value:!0});b.pRa=void 0;r=a(0);g=a(1);k=a(3);m=a(80);f=a(74);d=a(97);l=a(68);n=a(31);h=a(48);p=a(339);q=a(36);t=a(81);v=a(337);c.prototype.C7=function(){return !1;};c.prototype.Lna=function(){return !1;};c.prototype.Doa=function(){return !0;};c.prototype.xX=function(){return h.yw;};c.prototype.z9=function(){return this.vc.decode(h.q2);};c.prototype.wta=function(){return [{initDataTypes:[h.yw],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E"}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2"}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:[h.TEMPORARY]}];};c.prototype.$ua=function(w){w.dK();};c.prototype.Ipa=function(w){var u,x;u=[];if(w.messageType === p.eia || w.messageType === p.dia){if(w.messageType === p.eia){x=this.ki.encode(new Uint8Array(w.message));u=JSON.parse(x);x=u.map(function(y){return y.keyID;});u=u.map(function(y){return y.payload;});}else u=[this.vc.encode(new Uint8Array(w.message))];if(0 === u.length || !u.every(function(y){return y && y.length;}))throw new q.od(k.$.nIa);u=this.Cdc(u);u=this.ki.decode(JSON.stringify(u));}else u=new Uint8Array(w.message);return {type:w.type,sessionId:w.target.sessionId,xJ:[u],messageType:w.messageType,Zx:x};};c.prototype.IA=function(w){var u,x,y,z;x=null === (u=w.target) || void 0 === u?void 0:u.error;if(x)(y=x.systemCode,z=x.code);u=new d.Oh(k.$.qs,w instanceof l.rs?k.X.PS:k.X.ju,y?this.Yj.EI(y,4):z,"",x);u.sW(w);return u;};c.prototype.Cdc=function(w){w=w.map(function(u,x){return {ID:v.i4.UWb(x),PAYLOAD:u};});return {VERSION:this.Di.Ax?3:1,CHALLENGES:w};};c.prototype.WO=function(w,u){var x,y;x=this;if(u && this.Di.Ax)try{y=this.ki.encode(u[0]);return JSON.parse(y).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=v.i4.tjb(z.ID);z=x.vc.decode(z.DHB).subarray(4,12);A=x.vc.decode(w[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new d.Oh(k.$.Ntb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.dz)),r.__param(1,(0,g.l)(n.Li)),r.__param(2,(0,g.l)(f.tu)),r.__param(3,(0,g.l)(t.Bz))],a);b.pRa=a;},function(r,b,a){var g,k,m,f;function c(d,l){this.GW=d;this.IW=l;}Object.defineProperty(b,"__esModule",{value:!0});b.KMa=void 0;r=a(0);g=a(1);k=a(224);m=a(222);f=a(695);c.prototype.create=function(d,l){return new f.MMa(this.GW,this.IW,d,l);};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.Wga)),r.__param(1,(0,g.l)(m.aha))],a);b.KMa=a;},function(r,b,a){var g,k;function c(m,f,d,l){this.GW=m;this.IW=f;this.KB=d;this.Ao=l;}Object.defineProperty(b,"__esModule",{value:!0});b.MMa=void 0;g=a(95);k=a(48);c.prototype.createMediaKeys=function(){return this.KB.createMediaKeys();};c.prototype.getConfiguration=function(){return this.KB.getConfiguration();};c.prototype.hv=function(){return g.Bb.tX(this.KB.keySystem);};c.prototype.y0a=function(){return this.IW.create(this.Ao);};c.prototype.x0a=function(){return this.GW.create(this.Ao);};Ua.Object.defineProperties(c.prototype,{keySystem:{configurable:!0,enumerable:!0,get:function(){return this.KB.keySystem;}},waa:{configurable:!0,enumerable:!0,get:function(){var m,f;m=this.keySystem;f=(0,k.M9)(this.KB);f && (m+="." + f);return m;}}});b.MMa=c;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(1);c=a(12);g=a(697);k=a(33);m=a(39);f=a(698);d=a(344);l=a(700);n=a(174);h=a(701);p=a(67);q=a(702);b.config=new r.Cd(function(t){t(c.Lc).Te(function(){return function(){return mb._cad_global.config;};});t(k.Ega).to(g.VGa).la();t(k.Qm).to(g.eTa).la();t(k.aT).to(g.UKa).la();t(m.kp).to(f.lJa).la();t(d.tNa).to(l.sNa).la();t(n.fJa).to(h.eJa).la();t(p.ku).to(q.AIa).la();});},function(r,b,a){var m,f,d,l,n;function c(){this.MA={};this.Ngb=0;}function g(h,p,q,t,v){this.debug=h;this.nB=p;this.sZ=q;this.jg=t;this.Zca=v;}function k(h,p,q){this.nB=h;this.sZ=p;this.Zca=q;}Object.defineProperty(b,"__esModule",{value:!0});b.UKa=b.eTa=b.VGa=void 0;r=a(0);m=a(1);f=a(111);d=a(7);l=a(145);n=a(343);a=a(33);k=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(a.aT)),r.__param(1,(0,m.l)(l.m4)),r.__param(2,(0,m.l)(n.tja))],k);b.VGa=k;g=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(f.gz)),r.__param(1,(0,m.l)(a.aT)),r.__param(2,(0,m.l)(l.m4)),r.__param(3,(0,m.l)(d.mb)),r.__param(4,(0,m.l)(n.tja))],g);b.eTa=g;c.prototype.P0b=function(h){this.MA=Object.assign({},this.MA,h);this.Ngb++;};Ua.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.MA;}},Cda:{configurable:!0,enumerable:!0,get:function(){return this.Ngb;}}});a=c;a=r.__decorate([(0,m.aa)()],a);b.UKa=a;},function(r,b,a){var g,k,m,f,d,l,n,h;function c(p,q,t){p=f.zf.call(this,p,void 0 === t?"GeneralConfigImpl":t) || this;p.zh=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.lJa=b.DO=void 0;r=a(0);g=a(5);k=a(1);m=a(44);f=a(45);d=a(39);l=a(33);a=a(110);n={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.DO=function(p,q){return p.sfb(n[q] || q,d.mz);};ja(c,f.zf);Ua.Object.defineProperties(c.prototype,{DO:{configurable:!0,enumerable:!0,get:function(){return d.mz.oub;}},kjb:{configurable:!0,enumerable:!0,get:function(){return (0,g.Hh)(8);}},VI:{configurable:!0,enumerable:!0,get:function(){return "";}},ON:{configurable:!0,enumerable:!0,get:function(){return "";}},Q0:{configurable:!0,enumerable:!0,get:function(){return "";}},N6:{configurable:!0,enumerable:!0,get:function(){return !0;}},$X:{configurable:!0,enumerable:!0,get:function(){return this.zh.$X;}},NOb:{configurable:!0,enumerable:!0,get:function(){return !1;}},pe:{configurable:!0,enumerable:!0,get:function(){return {};}},Hva:{configurable:!0,enumerable:!0,get:function(){return !1;}},au:{configurable:!0,enumerable:!0,get:function(){return !1;}},MW:{configurable:!0,enumerable:!0,get:function(){return !0;}},QF:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},UA:{configurable:!0,enumerable:!0,get:function(){return 0 <= [d.mz.rSa,d.mz.YKa].indexOf(this.DO);}}});h=c;r.__decorate([m.config(b.DO,"environment")],h.prototype,"DO",null);r.__decorate([m.config(m.Kl,"storageTimeout")],h.prototype,"kjb",null);r.__decorate([m.config(m.string,"groupName")],h.prototype,"VI",null);r.__decorate([m.config(m.string,"canaryGroupName",!0)],h.prototype,"ON",null);r.__decorate([m.config(m.string,"uiGroupName")],h.prototype,"Q0",null);r.__decorate([m.config(m.Ed,"applyIndexedDbOpenWorkaround")],h.prototype,"N6",null);r.__decorate([m.config(m.Ed,"ignoreIdbOpenError")],h.prototype,"$X",null);r.__decorate([m.config(m.Ed,"executeStorageMigration")],h.prototype,"NOb",null);r.__decorate([m.config(m.object(),"browserInfo")],h.prototype,"pe",null);r.__decorate([m.config(m.Ed,"isTestAccount")],h.prototype,"Hva",null);r.__decorate([m.config(m.Ed,"useRangeHeader")],h.prototype,"au",null);r.__decorate([m.config(m.Ed,"enableMilestoneEventList")],h.prototype,"MW",null);r.__decorate([m.config(m.object,"storageRules")],h.prototype,"QF",null);h=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(l.Qm)),r.__param(1,(0,k.l)(a.HG)),r.__param(2,(0,k.l)(l.S1)),r.__param(2,(0,k.optional)())],h);b.lJa=h;},function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Bia=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.Bia=a;},function(r,b,a){var g,k,m,f;function c(d,l){return m.zf.call(this,d,void 0 === l?"NetworkMonitorConfigImpl":l) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sNa=void 0;r=a(0);g=a(1);k=a(44);m=a(45);a=a(33);ja(c,m.zf);Ua.Object.defineProperties(c.prototype,{Qlb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=c;r.__decorate([k.config(k.Ed,"useNetworkMonitor")],f.prototype,"Qlb",null);f=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Qm)),r.__param(1,(0,g.l)(a.S1)),r.__param(1,(0,g.optional)())],f);b.sNa=f;},function(r,b,a){var g,k,m,f,d,l,n,h;function c(p,q,t,v){p=f.zf.call(this,p,"FtlProbeConfigImpl") || this;p.ti=q;p.Ba=t;p.zh=v;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.eJa=void 0;r=a(0);g=a(29);k=a(1);m=a(5);f=a(45);d=a(175);l=a(44);n=a(33);a=a(110);ja(c,f.zf);Ua.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return this.zh.p9;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.hsa + (-1 === this.hsa.indexOf("?")?"?":"&") + "monotonic=" + this.Ba.Ibb + "&device=web";}},Tib:{configurable:!0,enumerable:!0,get:function(){return m.Ha;}},$ra:{configurable:!0,enumerable:!0,get:function(){return "";}},hsa:{configurable:!0,enumerable:!0,get:function(){return this.ti.endpoint + "/ftl/probe" + (this.$ra?"?force=" + this.$ra:"");}}});h=c;r.__decorate([l.config(l.Ed,"ftlEnabled")],h.prototype,"enabled",null);r.__decorate([l.config(l.Kl,"ftlStartDelay")],h.prototype,"Tib",null);r.__decorate([l.config(l.string,"ftlEndpointForceParam")],h.prototype,"$ra",null);r.__decorate([l.config(l.url,"ftlEndpoint")],h.prototype,"hsa",null);h=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(n.Qm)),r.__param(1,(0,k.l)(d.D1)),r.__param(2,(0,k.l)(g.Nh)),r.__param(3,(0,k.l)(a.HG))],h);b.eJa=h;},function(r,b,a){var g,k,m,f,d,l;function c(n,h,p){n=k.zf.call(this,n,void 0 === p?"EmeConfigImpl":p) || this;n.pe=h;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.AIa=void 0;r=a(0);g=a(1);k=a(45);m=a(33);f=a(5);d=a(44);a=a(170);ja(c,k.zf);Ua.Object.defineProperties(c.prototype,{D8a:{configurable:!0,enumerable:!0,get:function(){return this.pe.$8a || this.pe.daa || this.pe.sY?!0:!1;}},cF:{configurable:!0,enumerable:!0,get:function(){return (0,f.Hh)(5);}},bza:{configurable:!0,enumerable:!0,get:function(){return (0,f.Hh)(10);}},EW:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},dX:{configurable:!0,enumerable:!0,get:function(){return !1;}},xqa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Dt:{configurable:!0,enumerable:!0,get:function(){return !0;}},aYa:{configurable:!0,enumerable:!0,get:function(){return (0,f.Hh)(30);}},bYa:{configurable:!0,enumerable:!0,get:function(){return (0,f.Hh)(30);}},dYa:{configurable:!0,enumerable:!0,get:function(){return (0,f.Hh)(30);}},J6:{configurable:!0,enumerable:!0,get:function(){return (0,f.Hh)(30);}},eYa:{configurable:!0,enumerable:!0,get:function(){return (0,f.Hh)(30);}},BBa:{configurable:!0,enumerable:!0,get:function(){return "";}},hdb:{configurable:!0,enumerable:!0,get:function(){return this.pe.sB?!1:!0;}},jdb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});l=c;r.__decorate([d.config(d.Ed,"initializeKeySystemAtStartup")],l.prototype,"D8a",null);r.__decorate([d.config(d.Kl,"licenseRenewalRequestDelay")],l.prototype,"cF",null);r.__decorate([d.config(d.Kl,"persistedReleaseDelay")],l.prototype,"bza",null);r.__decorate([d.config(d.string,"drmPersistKey")],l.prototype,"EW",null);r.__decorate([d.config(d.Ed,"forceLimitedDurationLicense")],l.prototype,"dX",null);r.__decorate([d.config(d.Ed,"disableLicenseRenewal")],l.prototype,"xqa",null);r.__decorate([d.config(d.Ed,"prepareCadmium")],l.prototype,"Dt",null);r.__decorate([d.config(d.Kl,"apiCloseTimeout")],l.prototype,"aYa",null);r.__decorate([d.config(d.Kl,"apiCreateMediaKeysTimeout")],l.prototype,"bYa",null);r.__decorate([d.config(d.Kl,"apiSetServerCertificateTimeout")],l.prototype,"dYa",null);r.__decorate([d.config(d.Kl,"apiGenerateRequestTimeout")],l.prototype,"J6",null);r.__decorate([d.config(d.Kl,"apiUpdateTimeout")],l.prototype,"eYa",null);r.__decorate([d.config(d.string,"serverCertificate")],l.prototype,"BBa",null);r.__decorate([d.config(d.Ed,"outputRestrictedIsFatal")],l.prototype,"hdb",null);r.__decorate([d.config(d.Ed,"outputRestrictedIsFatalForUhd")],l.prototype,"jdb",null);l=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.Qm)),r.__param(1,(0,g.l)(a.hG)),r.__param(2,(0,g.l)(m.S1)),r.__param(2,(0,g.optional)())],l);b.AIa=l;},function(r,b,a){var c,g,k,m,f,d;Object.defineProperty(b,"__esModule",{value:!0});b.A2a=void 0;r=a(1);c=a(124);g=a(704);k=a(98);m=a(705);f=a(346);d=a(706);b.A2a=new r.Cd(function(l){l(c.$Ha).to(g.ZHa).la();l(k.vz).to(m.NMa).la();l(f.CIa).to(d.BIa);});},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w;function c(u,x,y,z,A,B,C,D,E){var G;G=this;this.Cc=x;this.ZB=y;this.config=z;this.fv=A;this.qNb=B;this.MN=C;this.$P=D;this.En=E;this.qcc=function(F,I){var L;G.En.mark(w.Qa.t2,F.pk.qa,"generate-challenge");L=!1;I.fac(function(M){L || (L=!0,G.En.mark(w.Qa.s2,F.pk.qa,"generate-challenge"));G.LI(F,I,M).then(function(K){I.wXa(K);G.kFb(I);}).catch(function(K){return I.eCb(K);});});};this.log=u.hb("DrmServices");this.fv().bu && this.MN.rfb().then(function(){G.n8b();}).catch(function(F){G.log.error("Unable to load the persisted DRM data",F);});this.config.D8a && this.gE(D(),l.Ni.Fq).then(function(F){return F.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.ZHa=void 0;r=a(0);g=a(1);k=a(7);m=a(46);f=a(345);d=a(82);l=a(57);n=a(67);h=a(221);p=a(220);q=a(346);t=a(12);v=a(144);w=a(61);c.prototype.UQb=function(u,x){return this.gE(x,u.type,u.context).then(function(y){return y.XQb(u.initData,u.Z$).then(function(z){return [y,{Ao:y.hv(),data:z.Nk}];});});};c.prototype.Ch=function(u,x){var y;y=this;this.log.info("Requesting challenges",this.U5a(u,u.type));return this.gE(x,u.type,u.context).then(function(z){y.Fbb(u,z);return z.YQb(u.initData,u.Z$).then(function(){return z;});});};c.prototype.Fbb=function(u,x){x.mac(u.pk);this.qcc(u,x);};c.prototype.release=function(u,x){var y;y=this;this.log.info("Releasing server license",this.P6a(u));return this.YTb(u).then(function(){var z;z=Object.assign({active:!1,Pe:[]},u.pk);y.MN.v_(z);x.z8b();return u;});};c.prototype.U5a=function(u,x){return {movieId:u.pk.K,xid:u.pk.qa,type:(0,l.mwa)(x)};};c.prototype.P6a=function(u){return {movieId:u.pk?u.pk.K:void 0,xid:u.pk?u.pk.qa:void 0,keySessionId:u.bB()};};c.prototype.LI=function(u,x,y){this.log.info("Sending license request",this.U5a(u,y.Dg));return this.ZB.Ch({qa:u.pk.qa,Ug:u.pk.Ug,t8:[u.pk.om],Nk:[{sessionId:x.bB() || "session",data:y.Nk}],Dg:y.Dg,Ao:x.hv(),XZa:y.XZa,Aj:u.pk.Aj});};c.prototype.YTb=function(u){this.log.info("Sending release request",this.P6a(u));return this.ZB.release({qa:u.pk.qa,Pe:u.Pe});};c.prototype.gE=function(u,x,y){return this.qNb.create().then(function(z){return z.createSession(u,x,y).then(function(){return z;});});};c.prototype.m8b=function(u){var x;x=this;return this.ZB.release({qa:u.qa,Pe:u.Pe}).catch(function(y){x.log.error("Unable to send release data to the server",y);});};c.prototype.n8b=function(){var u;u=this;this.Cc.Lj(this.config.bza,function(){u.log.trace("Removing cached sessions",{"count:":u.MN.u8.length});u.MN.u8.filter(function(x){return !x.active;}).reduce(function(x,y){return x.then(function(){return u.m8b(y);}).then(function(){return u.MN.v_(y);});},Promise.resolve(void 0));});};c.prototype.kFb=function(u){var x;if(u.bB() && u.pk){x=new p.l2();x.Pe=u.Pe;x.qa=u.pk.qa;x.K=u.pk.K;this.MN.rXa(x);}};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.mb)),r.__param(1,(0,g.l)(m.Sj)),r.__param(2,(0,g.l)(f.YHa)),r.__param(3,(0,g.l)(n.ku)),r.__param(4,(0,g.l)(t.Lc)),r.__param(5,(0,g.l)(q.CIa)),r.__param(6,(0,g.l)(h.Dga)),r.__param(7,(0,g.l)(v.oT)),r.__param(8,(0,g.l)(d.sT))],a);b.ZHa=a;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u;function c(x,y,z,A,B,C){this.tt=x;this.vc=y;this.config=z;this.v1b=A;this.GW=B;this.IW=C;this.log=this.tt.hb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.NMa=void 0;r=a(0);g=a(1);k=a(3);m=a(7);f=a(97);d=a(122);l=a(31);n=a(12);h=a(95);p=a(48);q=a(335);t=a(54);v=a(342);w=a(224);a=a(222);c.prototype.CE=function(){this.promise || (this.promise=this.K9b());return this.promise;};c.prototype.cKb=function(x,y){var z;z=this;return new Promise(function(A,B){var C;C=h.Bb.tX(x);z.IW.create(C).W8b(x,[y]).then(function(D){z.log.trace("Created the media keys system access",{keySystem:x,supportedconfig:D.getConfiguration?JSON.stringify(D.getConfiguration()):void 0});D=z.v1b.create(D,C);z.waa=D.waa;A(D);}).catch(function(D){z.log.warn("Unable to create the media key system access object",{keySystem:x,error:D.message});B(new f.Oh(k.$.jIa,k.X.Mm,void 0,"Unable to create media keys system access. " + D.message,D));});});};c.prototype.lSb=function(){var x;x=this.config().a$a || [this.config().zn];if(1 < x.length)return (x=x.map(function(y){return h.Bb.Hsa(h.Bb.tX(y));}),1 === new Set(x).size?Promise.resolve(x[0]):this.CE().then(function(y){return y.hv();}).then(function(y){return h.Bb.Hsa(y);}));x=h.Bb.tX(x[0]);return Promise.resolve(h.Bb.Hsa(x));};c.prototype.cEa=function(x){var y,z,A,B;y=this;z=x.hv();A=x.y0a();B=x.x0a();return x.createMediaKeys().then(function(C){A.createSession(C,p.TEMPORARY);return A.setServerCertificate(C,B.z9());}).then(function(){return A.generateRequest(p.yw,y.Qsa(z),!1);}).then(function(){return A.close();}).then(function(){return x;}).catch(function(C){y.log.error("validateKeySystemAccess failed",C);return Promise.reject(C);});};c.prototype.Qsa=function(x){switch(x){case d.Lm.yE:x=q.$Ia;break;case d.Lm.WB:x=q.pPa;break;default:x=q.wTa;}return x.map(this.vc.decode);};c.prototype.K9b=function(){var y,z,A,B;function x(C){var D,E,G,F;D=C.config;C=h.Bb.drb.includes(C.keySystem) || p.jKa.includes(null !== (F=null === (G=null === (E=D.videoCapabilities) || void 0 === E?void 0:E[0]) || void 0 === G?void 0:G.robustness) && void 0 !== F?F:"");return y.config().K2a || !C;}y=this;try{z=(this.config().a$a || [this.config().zn]).map(function(C){var D;D=h.Bb.tX(C);return y.GW.create(D).wta().map(function(E){return {keySystem:C,config:E};});});A=(0,t.flatten)(z).filter(x);B=A.map(function(C,D){var E,G;E=C.keySystem;G=C.config;return function(){var F,I;F=D === A.length - 1;I=y.config().cEa && !F;return y.cKb(E,G).then(function(L){return I?y.cEa(L):Promise.resolve(L);});};});return this.L9b(B);}catch(C){return Promise.reject(C);}};c.prototype.L9b=function(x){return x.reduce(function(y,z){return y.then(function(A){return Promise.resolve(A);}).catch(function(){return z();});},Promise.reject(Error("keySystem missing")));};Ua.Object.defineProperties(c.prototype,{$9a:{configurable:!0,enumerable:!0,get:function(){return this.waa;}}});u=c;u=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.mb)),r.__param(1,(0,g.l)(l.Li)),r.__param(2,(0,g.l)(n.Lc)),r.__param(3,(0,g.l)(v.LMa)),r.__param(4,(0,g.l)(w.Wga)),r.__param(5,(0,g.l)(a.aha))],u);b.NMa=u;},function(r,b,a){var g,k,m,f,d,l,n,h;function c(p,q,t,v,w,u){this.tt=p;this.Fa=q;this.vc=t;this.config=v;this.Gt=w;this.hq=u;}Object.defineProperty(b,"__esModule",{value:!0});b.BIa=void 0;r=a(0);g=a(1);k=a(7);m=a(18);f=a(31);d=a(67);l=a(68);n=a(339);a=a(98);c.prototype.create=function(){var p;p=this;return this.hq.CE().then(function(q){return new n.DIa(p.tt,p.Fa,p.vc,p.config,p.Gt,q);});};h=c;h=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.mb)),r.__param(1,(0,g.l)(m.cd)),r.__param(2,(0,g.l)(f.Li)),r.__param(3,(0,g.l)(d.ku)),r.__param(4,(0,g.l)(l.MG)),r.__param(5,(0,g.l)(a.vz))],h);b.BIa=h;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D,E,G,F,I,L,M,K,O,H,J,R;Object.defineProperty(b,"__esModule",{value:!0});b.D$a=void 0;c=a(708);g=a(733);k=a(742);m=a(745);f=a(751);d=a(784);l=a(1185);n=a(1188);h=a(1200);p=a(1209);q=a(1213);t=a(1215);v=a(1244);w=a(1246);u=a(1250);x=a(1265);y=a(1273);z=a(1279);A=a(1282);B=a(1289);C=a(219);D=a(1295);E=a(1302);G=a(1316);F=a(1322);I=a(1324);L=a(1331);M=a(1374);K=a(1396);O=a(1400);H=a(1404);J=a(1418);R=a(1421);b.D$a=function(P){P.load(c.DA,l.UK,g.T$a,n.yo,k.Ebb,m.R,f.lmb,d.U7a,h.storage,p.EN,q.DZa,t.nab,v.lF,w.Rk,u.S$a,x.Xbb,y.u4a,z.Yeb,A.VJ,B.t2a,C.z2a,D.Ke,E.Bd,G.nb,F.Nbb,I.Mdb,L.j,M.K_a,K.transports,O.um,H.Fh,J.BYa,R.fa);};},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D,E,G,F,I,L,M,K,O,H,J,R,P,T,V,S,W,ia,ra,ua,Aa,Ha,N,Q,U,Z,qa,Fa,Oa,Ra,Pa,Va,bb,Ab,tb,Db,Na,Xa,Wa,fb,kb,vb,Jb,Ob,Sb;Object.defineProperty(b,"__esModule",{value:!0});b.DA=void 0;r=a(1);c=a(37);g=a(29);k=a(46);m=a(83);f=a(146);d=a(709);l=a(710);n=a(711);h=a(712);p=a(74);q=a(80);t=a(31);v=a(30);w=a(27);u=a(112);x=a(68);y=a(348);z=a(713);A=a(349);B=a(350);C=a(714);D=a(715);E=a(213);G=a(351);F=a(716);I=a(218);L=a(125);M=a(717);K=a(18);O=a(352);H=a(718);J=a(719);R=a(111);P=a(720);T=a(7);V=a(347);S=a(721);W=a(82);ia=a(722);ra=a(353);ua=a(723);Aa=a(724);Ha=a(113);N=a(13);Q=a(725);U=a(355);Z=a(356);qa=a(726);Fa=a(357);Oa=a(12);Ra=a(47);Pa=a(147);Va=a(358);bb=a(170);Ab=a(727);tb=a(359);Db=a(360);Na=a(227);Xa=a(728);Wa=a(176);fb=a(729);kb=a(228);vb=a(730);Jb=a(731);Ob=a(226);Sb=a(732);b.DA=new r.Cd(function(Eb){Eb(c.P3).UF(function(){return {};}).la();Eb(c.tG).Im(JSON);Eb(c.xTa).Im(mb);Eb(f.kSa).Im(Math);Eb(c.DLa).Im(N.D3);Eb(c.Tia).Im(N.Hw);Eb(c.$Sa).Im(N.DG);Eb(c.sHa).Im(Date);Eb(c.NL).Im(N.Xe);Eb(c.Fsb).Im(N.ZC);Eb(V.QGa).to(S.PGa).la();Eb(K.cd).to(M.cFa).la();Eb(g.Nh).to(h.RGa).la();Eb(k.Sj).to(d.qRa).la();Eb(m.pz).to(l.KKa).la();Eb(x.MG).to(D.EQa).la();Eb(f.a4).to(n.MQa).la();Eb(Va.lia).to(Jb.FMa).la();Eb(R.gz).to(J.xHa).la();Eb(R.vHa).to(P.uHa).la();Eb(p.tu).to(z.aTa).la();Eb(q.dz).to(A.nga).la();Eb(t.Li).to(B.oga).la();Eb(v.oi).to(C.bTa).la();Eb(w.Yg).Im(E.sG);Eb(tb.QS).to(Db.RIa).la();Eb(u.fha).to(G.yk).Eua();Eb(u.i2).to(G.yk).la();Eb(u.KHa).to(G.yk).la();Eb(u.iha).to(G.yk).la();Eb(I.Uja).to(L.PG).la();Eb(O.fHa).to(H.eHa).la();Eb(W.$L).to(ia.$ja).la();Eb(W.sT).to(ia.$ja).la();Eb("Factory<LoggerFactory>").skb(T.mb);Eb(ra.Rga).to(ua.zHa).la();Eb(Ha.YL).Te(function(Ib){return function(Rb){return new Aa.tSa(Ib.wb.get(K.cd),Ib.wb.get(k.Sj),Rb);};});Eb(Wa.h2).Te(function(Ib){return function(Rb){return new fb.tHa(Ib.wb.get(k.Sj),Rb);};});Eb(Q.qja).Edc(U.pja);Eb(Q.mub).Te(function(Ib){var Rb;Rb=Ib.wb.get(Q.qja);return function(){return new Rb(!1);};});Eb(Q.nub).Te(function(Ib){var Rb;Rb=Ib.wb.get(Q.qja);return function(){return new Rb(!0);};});Eb(Z.XSa).Te(function(){return function(Ib){return new qa.YSa(Ib);};});Eb(Pa.DT).Te(function(Ib){return function(Rb,tc,bd){return new Fa.RPa(Ib.wb.get(R.gz),Ib.wb.get(Oa.Lc),Ib.wb.get(Ra.Eq),Ib.wb.get(Va.lia),Rb,tc,bd);};});Eb(y.MNa).Te(function(){return function(Ib){return new F.NNa(Ib);};});Eb(bb.hG).to(Ab.cGa);Eb(Ob.eka).to(Sb.ZSa).la();Eb(Na.p4).Te(function(Ib){return function(Rb,tc){return new Xa.ESa(Ib.wb.get(k.Sj),Rb,tc);};});Eb(kb.KIa).to(vb.JIa).la();});},function(r,b,a){var k,m,f,d;function c(l){this.OR=l;(0,m.fq)(this,"timers");}function g(l,n){this.OR=l;this.TFb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.qRa=void 0;r=a(0);k=a(1);m=a(54);f=a(37);d=a(5);g.prototype.cancel=function(){this.TFb(this.OR);};c.prototype.Wl=function(l){return this.Lj(d.Ha,l);};c.prototype.Lj=function(l,n){var h;h=this.OR.setTimeout(n,l.ja(d.sa));return new g(this.OR,function(p){p.clearTimeout(h);});};c.prototype.M_=function(l,n){var h;h=this.OR.setInterval(n,l.ja(d.sa));return new g(this.OR,function(p){p.clearInterval(h);});};a=c;a=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(f.xTa))],a);b.qRa=a;},function(r,b,a){var g,k,m,f,d;function c(l,n){this.Ba=l;this.random=n;}Object.defineProperty(b,"__esModule",{value:!0});b.KKa=void 0;r=a(0);k=a(1);m=a(5);f=a(29);a=a(146);c.prototype.JA=function(){return this.Ba.Hf.ja(m.qp) * g.wGa + Math.floor(this.random.random() * g.wGa);};d=g=c;d.wGa=1E8;d=g=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(f.Nh)),r.__param(1,(0,k.l)(a.a4))],d);b.KKa=d;},function(r,b,a){var g,k;function c(m){this.Rcc=m;}Object.defineProperty(b,"__esModule",{value:!0});b.MQa=void 0;r=a(0);g=a(1);a=a(146);c.prototype.random=function(){return this.Rcc.random();};c.prototype.jfb=function(m,f){if("number" !== typeof m)(f=m.end,m=m.start);else if("undefined" === typeof f)throw Error("max must be provided for randomInteger API");return Math.round(m + this.random() * (f - m));};k=c;k=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.kSa))],k);b.MQa=k;},function(r,b,a){var g,k,m,f,d,l,n;function c(h,p,q,t){var v;v=this;this.config=h;this.XKb=p;this.Lb=q;this.performance=t;this.H3b=function(w){v.CBa=w.Da(v.Hf);};(0,g.fq)(this,"date");(0,g.fq)(this,"performance");this.$Cb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.CBa=k.Ha;this.Lb.addListener(n.Gha.yhb,this.H3b);}Object.defineProperty(b,"__esModule",{value:!0});b.RGa=void 0;r=a(0);g=a(54);k=a(5);m=a(1);f=a(37);d=a(347);l=a(112);n=a(16);c.prototype.ICb=function(h){return h.add(this.CBa);};Ua.Object.defineProperties(c.prototype,{Hf:{configurable:!0,enumerable:!0,get:function(){return this.Ibb?(0,k.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,k.xc)(this.XKb.now());}},xK:{configurable:!0,enumerable:!0,get:function(){return this.Hf.add(this.CBa);}},Ibb:{configurable:!0,enumerable:!0,get:function(){return this.config.Tlb && this.$Cb;}}});a=c;a=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(d.QGa)),r.__param(1,(0,m.l)(f.sHa)),r.__param(2,(0,m.l)(l.iha)),r.__param(3,(0,m.l)(f.Tia)),r.__param(3,(0,m.optional)())],a);b.RGa=a;},function(r,b,a){var g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.aTa=void 0;r=a(0);a=a(1);c.prototype.encode=function(m){return g.Sqa(m);};c.prototype.decode=function(m){return g.gqa(m);};c.Sqa=function(m){if(!m)throw new TypeError("Invalid byte array");for(var f=0,d,l=m.length,n="";f < l;){d=m[f++];if(!(0 <= d && 255 >= d))throw Error("bad utf8");if(d & 128)if(192 === (d & 224))d=((d & 31) << 6) + (m[f++] & 63);else if(224 === (d & 240))d=((d & 15) << 12) + ((m[f++] & 63) << 6) + (m[f++] & 63);else throw Error("unsupported utf8 character");n+=String.fromCharCode(d);}return n;};c.gqa=function(m){var f,d,l,n,h;f=m.length;d=0;n=0;if(!(0 <= f))throw Error("bad string");for(l=f;l--;){h=m.charCodeAt(l);128 > h?d++:d=2048 > h?d + 2:d + 3;}d=new Uint8Array(d);for(l=0;l < f;l++){h=m.charCodeAt(l);128 > h?d[n++]=h:(2048 > h?d[n++]=192 | h >>> 6:(d[n++]=224 | h >>> 12,d[n++]=128 | h >>> 6 & 63),d[n++]=128 | h & 63);}return d;};k=g=c;k=g=r.__decorate([(0,a.aa)()],k);b.aTa=k;},function(r,b,a){var g,k,m,f;function c(d,l){this.is=d;this.Yj=l;}Object.defineProperty(b,"__esModule",{value:!0});b.bTa=void 0;r=a(0);g=a(1);a(3);k=a(27);m=a(80);f=a(13);c.prototype.BJ=function(d,l,n){var h,p,q,t;h=this;if(l)if(n){p=n.PY;q=n.prefix;t=n.gca;this.tE(l,function(v,w){if(!t || h.is.kh(w))d[(q || "") + (p?v.toLowerCase():v)]=w;});}else this.tE(l,function(v,w){d[v]=w;});return d;};c.prototype.tE=function(d,l){for(var n in d){d.hasOwnProperty(n) && l(n,d[n]);}};c.prototype.cE=function(d,l){if(d.length == l.length){for(var n=d.length;n--;){if(d[n] != l[n])return !1;}return !0;}return !1;};c.prototype.d0a=function(d,l){if(d.length != l.length)return !1;d.sort();l.sort();for(var n=d.length;n--;){if(d[n] !== l[n])return !1;}return !0;};c.prototype.cf=function(d){var l,n,h;if(d){l=d.stack;n=d.number;h=d.message;h || (h="" + d);l?(d="" + l,0 !== d.indexOf(h) && (d=h + "\n" + d)):d=h;n && (d+="\nnumber:" + n);return d;}};c.prototype.getFunctionName=function(d){return (d=(/function (.{1,})\(/).exec(d.toString())) && 1 < d.length?d[1]:"";};c.prototype.zsa=function(d){return this.getFunctionName(d.constructor);};c.prototype.iya=function(d){var l,n;l=this;n="";this.is.MD(d) || this.is.YXa(d)?n=Array.prototype.reduce.call(d,function(h,p){return h + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.Du(d)?n=d:this.tE(d,function(h,p){n+=(n?", ":"") + "{" + h + ": " + (l.is.s6(p)?l.getFunctionName(p) || "function":p) + "}";});return "[" + this.zsa(d) + " " + n + "]";};c.prototype.createElement=function(d,l,n,h){var p;p=f.Ph.createElement(d);l && (p.style.cssText=l);n && (p.innerHTML=n);h && this.tE(h,function(q,t){p.setAttribute(q,t);});return p;};c.prototype.wPb=function(d,l){return function(n){return n[d] === l;};};c.prototype.LZ=function(d){var l;l={};(d || "").split("&").forEach(function(n){var h,p;n=n.trim();h=n.indexOf("=");if(0 <= h){p=decodeURIComponent(n.substr(0,h)).toLowerCase();l[p]=decodeURIComponent(n.substr(h + 1));}else l[n.toLowerCase()]=void 0;});return l;};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.Yg)),r.__param(1,(0,g.l)(m.dz))],a);b.bTa=a;},function(r,b,a){var g,k,m;function c(f){this.Cc=f;}Object.defineProperty(b,"__esModule",{value:!0});b.EQa=void 0;r=a(0);g=a(1);k=a(46);m=a(68);c.prototype.Mt=function(f,d){var l;l=this;return new Promise(function(n,h){var p;p=l.Cc.Lj(f,function(){h(new m.rs(f));});d.then(function(q){n(q);p.cancel();}).catch(function(q){h(q);p.cancel();});});};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.Sj))],a);b.EQa=a;},function(r,b,a){var g;function c(k){this.dRb=k;this.n$=!1;this.D$=this.Ig=this.JR=0;this.aY=!1;this.E$=0;}Object.defineProperty(b,"__esModule",{value:!0});b.NNa=void 0;g=a(15);c.prototype.cna=function(k){k < this.JR && (this.Ig+=this.JR);this.JR=k;this.n$=!0;};c.prototype.URb=function(){if(this.n$)return this.aY?this.E$ - this.D$:this.Ig + this.JR - this.D$;};c.prototype.refresh=function(){var k;k=this.dRb();(0,g.Oa)(k) && this.cna(k);};c.prototype.Gbc=function(){this.aY || (this.n$ && (this.E$=this.Ig + this.JR),this.aY=!0);};c.prototype.Wbc=function(){this.aY && (this.n$ && (this.D$+=this.Ig + this.JR - this.E$),this.E$=0,this.aY=!1);};b.NNa=c;},function(r,b,a){var g,k,m,f;function c(d,l){this.Ba=d;this.q9=this.Ba.Hf.ja(m.sa) - 1;this.o_b=this.Aaa=0;this.id="" + l.JA();}Object.defineProperty(b,"__esModule",{value:!0});b.cFa=void 0;r=a(0);g=a(1);k=a(29);m=a(5);a=a(83);c.prototype.Rb=function(){var d,l;d=this.Ba.Hf.ja(m.sa) - this.q9;if(d < this.Aaa){l=this.Aaa + 1;this.q9-=l - d;d=l;}this.Aaa=d;return (0,m.xc)(this.Aaa);};c.prototype.ZSb=function(){return this.o_b++;};Ua.Object.defineProperties(c.prototype,{vB:{configurable:!0,enumerable:!0,get:function(){return (0,m.xc)(this.q9);}}});f=c;f=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.Nh)),r.__param(1,(0,g.l)(a.pz))],f);b.cFa=f;},function(r,b,a){var g,k,m,f;function c(d,l){this.is=d;this.Ke=l;}Object.defineProperty(b,"__esModule",{value:!0});b.eHa=void 0;r=a(0);k=a(1);m=a(27);a=a(30);c.prototype.encode=function(d){var l,n;l=this;n="";this.Ke.tE(d,function(h,p){h=l.V2a(h) + "=" + l.V2a(p);n=n?n + ("," + h):h;});return n;};c.prototype.V2a=function(d){return this.is.lI(d)?this.is.no(d)?"" + d:this.is.Du(d)?(d=d.replace(g.mAa,this.Uwa.bind(this)),!g.p7b.test(d) && g.L1b.test(d) && (d='"' + d + '"'),d):this.is.q6(d)?"" + d:this.is.Ima(d)?"NaN":"":"";};c.prototype.Uwa=function(d){return g.map[d];};f=g=c;f.map={'"':'""',"\r":"","\n":" "};f.mAa=/(?!^.+)["\r\n](?=.+$)/g;f.p7b=/["].*["]/g;f.L1b=/[", ]/;f=g=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(m.Yg)),r.__param(1,(0,k.l)(a.oi))],f);b.eHa=f;},function(r,b,a){var g,k,m,f;function c(d,l,n){this.config=d;this.Cb=l;this.ya=n.hb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.xHa=void 0;r=a(0);g=a(1);k=a(27);m=a(111);a=a(7);c.prototype.assert=function(){};c.prototype.xDb=function(d,l){this.assert(this.Cb.lI(d),l);};c.prototype.yDb=function(d,l){this.assert(this.Cb.kh(d),l);};c.prototype.V6=function(d,l){this.assert(this.Cb.Du(d),l);};c.prototype.EDb=function(d,l){this.assert(this.Cb.oo(d),l);};c.prototype.CDb=function(d,l){this.assert(this.Cb.Du(d) || null === d || void 0 === d,l);};c.prototype.Dna=function(d,l){this.assert(this.Cb.no(d),l);};c.prototype.ADb=function(d,l){this.assert(this.Cb.qna(d),l);};c.prototype.DDb=function(d,l){this.assert(this.Cb.pV(d),l);};c.prototype.BDb=function(d,l){this.assert(this.Cb.dV(d),l);};c.prototype.wDb=function(d,l){this.assert(this.Cb.q6(d),l);};c.prototype.zDb=function(d,l){this.assert(this.Cb.s6(d),l);};c.prototype.BXb=function(){this.assert(!1,"invalid operation, this method should not be called");};f=c;f=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.vHa)),r.__param(1,(0,g.l)(k.Yg)),r.__param(2,(0,g.l)(a.mb))],f);b.xHa=f;},function(r,b,a){var g,k,m,f;function c(d){d=k.vS.call(this,d,"DebugConfigImpl") || this;d.Jnc=function(){debugger;};return d;}Object.defineProperty(b,"__esModule",{value:!0});b.uHa=void 0;r=a(0);g=a(44);k=a(45);m=a(1);a=a(33);ja(c,k.vS);Ua.Object.defineProperties(c.prototype,{REb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});f=c;r.__decorate([g.config(g.Ed,"breakOnError")],f.prototype,"REb",null);f=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(a.Ega))],f);b.uHa=f;},function(r,b,a){var g,k,m,f;function c(d){return k.vS.call(this,d,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.PGa=void 0;r=a(0);g=a(44);k=a(45);m=a(1);a=a(33);ja(c,k.vS);Ua.Object.defineProperties(c.prototype,{Tlb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});f=c;r.__decorate([g.config(g.Ed,"usePerformanceApi")],f.prototype,"Tlb",null);f=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(a.Ega))],f);b.PGa=f;},function(r,b,a){var g,k,m,f;function c(d,l){this.Fa=d;this.entries=new Set();this.ya=l.hb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.$ja=void 0;r=a(0);g=a(1);k=a(18);m=a(5);a=a(7);c.prototype.mark=function(d,l,n){d={name:d,Wt:this.Fa.Rb()};l && (d.qa=l);n && (d.eg=n);this.entries.add(d);return d;};c.prototype.Zsa=function(){var d;d=[];this.entries.forEach(function(l){return d.push(l);});return d;};c.prototype.a6a=function(d){return this.Zsa().filter(function(l){return l.qa === d;});};c.prototype.cTb=function(){var d;d={};try{d=this.Zsa().filter(function(l){return !l.qa;}).reduce(function(l,n){l[n.name]=n.Wt.ja(m.sa);return l;},{});}catch(l){this.ya.error(" getMapOfCommonMarks exception",l);}return d;};c.prototype.Wfb=function(d){var l;l=this;this.Zsa().forEach(function(n){n.qa === d && l.entries.delete(n);});};f=c;f=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.cd)),r.__param(1,(0,g.l)(a.mb))],f);b.$ja=f;},function(r,b,a){var g,k,m,f,d,l,n,h,p;function c(q,t){this.Fa=q;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.zHa=void 0;r=a(0);k=a(1);m=a(18);f=a(36);d=a(3);l=a(16);n=a(5);h=a(13);a=a(354);c.prototype.P1a=function(q){var t,v,w,u,x,y,z,A,B,C;t=this;u=q.mediaTime.value;x=q.Gs.value;y=q.Eb.value;z=q.state.value;A={segmentId:q.qta(),mediaTime:u,segmentTime:q.GE(),bufferingState:g.$Eb[x],presentingState:g.w6b[y],playbackState:g.q5b[z],mseBuffersBusy:this.pUb(q),intBuffersBusy:this.JSb(q),tabVisible:this.Scc(),decodedFrameCount:this.rLb(q),videoElementInDom:this.dgc(q),lastVideoSync:this.Fa.Rb().Da((0,n.xc)(q.w0)).ja(n.sa)};B=y === l.qb.pg?q.ib.di?this.config.bdb:this.config.adb:this.config.Bbb;if(x !== l.Zf.Le){if((x=d.X.bpb,this.jZa(A.mseBuffersBusy,A.intBuffersBusy)))C=g.MFa;}else (y !== l.qb.Wc?x=d.X.dpb:(x=d.X.cpb,(y=q.tf) && 0 === y.D9() && (C=g.Evb)),(y=q.tf) && y.ac.sourceBuffers.forEach(function(D){var E,G;E=g.Wf[D.mediaType];A[E + "Ranges"]=D.w9();try{G=D.buffered();}catch(F){G=void 0;}G && 0 !== G.length?(D=1E3 * G.end(0) - u,A[E + "Undecoded"]=D,1 < G.length && (C=g.Unb),u < 1E3 * G.start(0) || u > 1E3 * G.end(0)?C=g.Vnb:D < B.ja(n.sa)?C=g.Wnb:t.jZa(A.mseBuffersBusy,A.intBuffersBusy) && (C=g.MFa)):(A[E + "Undecoded"]=0,C=g.Tnb);}));y=q.lgb.T6a();z=u === (null === (v=y.repositionTrace) || void 0 === v?void 0:v[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (w=q.nb) || void 0 === w?void 0:w.nDa;Object.assign(A,y);q="";try{q=JSON.stringify(A);}catch(D){q="Cannot stringify details: " + D;}return new f.od(d.$.$Na,x,C,void 0,void 0,void 0,q,void 0);};c.prototype.pUb=function(q){var t;if(q.ac){t={};q.ac.sourceBuffers.forEach(function(v){t[0 === v.type?"audio":"video"]={updating:v.updating()};});return t;}};c.prototype.JSb=function(q){var t;if(q.ac){t={};q.ac.sourceBuffers.forEach(function(v){t[0 === v.type?"audio":"video"]={updating:v.yi()};});return t;}};c.prototype.Scc=function(){return !h.Ph.hidden;};c.prototype.rLb=function(q){return (q=q.tf) && (q=q.ac.ca) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.dgc=function(q){if(q=q.tf)if(q=q.ac.ca)return h.Ph.body.contains(q);return !1;};c.prototype.jZa=function(q,t){var v,w,u,x;return !((null === (v=q.audio) || void 0 === v?void 0:v.updating) === (null === (w=t.audio) || void 0 === w?void 0:w.updating) && (null === (u=q.video) || void 0 === u?void 0:u.updating) === (null === (x=t.video) || void 0 === x?void 0:x.updating));};p=g=c;p.Tnb="1";p.Unb="2";p.Vnb="3";p.MFa="4";p.Wnb="5";p.Evb="6";p.Wf=["Audio","Video"];p.$Eb=["","NORMAL","BUFFERING","STALLED"];p.w6b=["","WAITING","PLAYING ","PAUSED","ENDED"];p.q5b=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=g=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(m.cd)),r.__param(1,(0,k.l)(a.ria))],p);b.zHa=p;},function(r,b,a){var g,k,m,f;function c(d,l,n){var h;h=this;this.Qg=d;this.Cc=l;this.H7=n;this.vQ=function(p){h.sk=void 0;h.jec(p || h.H7);};this.e$a=(0,m.xc)(-this.H7.ja(m.sa));}Object.defineProperty(b,"__esModule",{value:!0});b.tSa=void 0;r=a(0);g=a(1);k=a(18);m=a(5);a=a(46);c.prototype.Wl=function(d){this.hBa=d;this.sk=this.sk || this.yg(this.vQ);};c.prototype.wi=function(){this.sk && this.sk.cancel();this.sk=void 0;};c.prototype.jec=function(d){var l,n;l=this.Qg.Rb();if(this.hBa){n=d.Da(l.Da(this.e$a));0 >= n.lm(m.Ha)?(d=this.hBa,this.hBa=void 0,this.e$a=l,d()):this.sk=this.sk || this.Cc.Lj(n,this.vQ.bind(this,d));}};c.prototype.yg=function(d){return this.Cc.Lj(m.Ha,d);};f=c;f=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.cd)),r.__param(1,(0,g.l)(a.Sj))],f);b.tSa=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qja="PrioritizedSetOfListsSymbol";b.mub="PrioritizedSetOfListsFactorySymbol";b.nub="PrioritizedSetOfSetsFactorySymbol";},function(r,b){function a(){this.searchParams={};}function c(g){this.$q=g;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.YSa=void 0;c.prototype.toString=function(){return this.href;};Ua.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.$q + this.searchParams.toString();}}});b.YSa=c;a.prototype.get=function(g){return this.searchParams[g];};a.prototype.set=function(g,k){this.searchParams[g]=k;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(g,k,m){var f;f=ma(k);k=f.next().value;f=f.next().value;return "" + g + (0 == m?"?":"&") + k + "=" + f;},"");};},function(r,b,a){var g,k,m,f,d,l;function c(n,h,p){this.userAgentData=p;this.pe=this.YOb(n,h.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.fTa=b.cGa=void 0;r=a(0);g=a(1);k=a(12);m=a(33);f=a(37);a=a(226);c.prototype.c$=function(n,h){var p;if(h=this.SUb(h))switch(n){case l.BB:p=0 < h.length?Number(h[0]):0;break;case l.gQ:p=1 < h.length?Number(h[1]):0;break;case l.yQ:p=2 < h.length?Number(h[2]):0;break;case l.Cda:p=3 < h.length?Number(h[3]):0;}return void 0 === p || isNaN(p)?0:p;};c.prototype.SUb=function(n){return null === n || void 0 === n?void 0:n.split(".");};c.prototype.fJ=function(n){return this.pe.name === n;};c.prototype.hJ=function(n){return this.pe.jca.name === n;};c.prototype.ZXb=function(n){return this.pe.tVb === n;};c.prototype.YOb=function(n,h){return Object.assign(Object.assign({tVb:this.$Ob(n,h)},this.XOb(n,h)),{jca:this.aPb(n,h)});};c.prototype.$Ob=function(n,h){return h && h.hardware?h.hardware:(/Mobile|iPhone/).test(n)?k.m3.phone:(/Android/).test(n)?k.m3.Tcc:k.m3.AHb;};c.prototype.XOb=function(n,h){return h && h.name && h.version?{name:h.name,version:h.version}:(/OPR/).test(n)?{name:k.$n.opera,version:""}:(/Tesla/).test(n)?{name:k.$n.Ujb,version:""}:(h=n.match(/Edge\/(\d*)\./))?{name:k.$n.jr,version:h[1]}:(h=n.match(/Edg\/(\d*)\./))?{name:k.$n.v2a,version:h[1]}:(h=n.match(/Chrome\/(\d*)\./))?{name:k.$n.Xoa,version:h[1]}:(h=n.match(/Firefox\/(\d*)\./))?{name:k.$n.T3a,version:h[1]}:(n=n.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:k.$n.Ugb,version:n[1]}:{name:k.$n.Xoa,version:""};};c.prototype.aPb=function(n,h){return h && h.os && h.os.name && h.os.version?{name:h.os.name,version:h.os.version}:(/CrOS/).test(n)?{name:k.np.m_a,version:""}:(h=n.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:k.np.cab,version:h[1] + "." + h[2] + "." + h[3]}:(/Windows NT/).test(n)?{name:k.np.pEa,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(n) || (/Android.*Chrome\/[.0-9]* /).test(n)?{name:k.np.H6,version:""}:(/Linux/).test(n)?{name:k.np.z$a,version:""}:(/iPhone/).test(n)?{name:k.np.R8a,version:""}:{name:k.np.pEa,version:""};};Ua.Object.defineProperties(c.prototype,{$8a:{configurable:!0,enumerable:!0,get:function(){return this.fJ(k.$n.Xoa);}},lY:{configurable:!0,enumerable:!0,get:function(){return this.fJ(k.$n.jr);}},sB:{configurable:!0,enumerable:!0,get:function(){return this.fJ(k.$n.v2a);}},daa:{configurable:!0,enumerable:!0,get:function(){return this.fJ(k.$n.T3a);}},xva:{configurable:!0,enumerable:!0,get:function(){return this.fJ(k.$n.opera);}},sY:{configurable:!0,enumerable:!0,get:function(){return this.fJ(k.$n.Ugb);}},D9a:{configurable:!0,enumerable:!0,get:function(){return this.fJ(k.$n.Ujb);}},jY:{configurable:!0,enumerable:!0,get:function(){return this.hJ(k.np.H6);}},AP:{configurable:!0,enumerable:!0,get:function(){return this.hJ(k.np.R8a);}},V$:{configurable:!0,enumerable:!0,get:function(){return this.hJ(k.np.H6) && this.ZXb(k.m3.phone);}},kY:{configurable:!0,enumerable:!0,get:function(){return this.hJ(k.np.m_a);}},eYb:{configurable:!0,enumerable:!0,get:function(){return this.hJ(k.np.z$a);}},BP:{configurable:!0,enumerable:!0,get:function(){return this.hJ(k.np.cab);}},ZE:{configurable:!0,enumerable:!0,get:function(){return this.hJ(k.np.pEa);}},dr:{configurable:!0,enumerable:!0,get:function(){return this.c$(l.BB,this.pe.version);}},b4b:{configurable:!0,enumerable:!0,get:function(){return this.c$(l.BB,this.pe.jca.version);}},c4b:{configurable:!0,enumerable:!0,get:function(){return this.c$(l.gQ,this.pe.jca.version);}},d4b:{configurable:!0,enumerable:!0,get:function(){return this.c$(l.yQ,this.pe.jca.version);}}});d=c;d=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(f.$Sa)),r.__param(1,(0,g.l)(m.aT)),r.__param(2,(0,g.l)(a.eka))],d);b.cGa=d;(function(n){n[n.BB=0]="major";n[n.gQ=1]="minor";n[n.yQ=2]="patch";n[n.Cda=3]="revision";})(l=b.fTa || (b.fTa={}));},function(r,b,a){var g,k,m;function c(f,d,l){this.Cc=f;this.hDa=d;this.Tx=l;}Object.defineProperty(b,"__esModule",{value:!0});b.ESa=void 0;r=a(0);g=a(46);k=a(1);m=a(5);c.prototype.vI=function(){this.sk || (this.sk=this.Cc.Lj((0,m.xc)(this.hDa),this.Tx));};c.prototype.Ut=function(){this.sk && this.sk.cancel();this.sk=void 0;};a=c;a=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(g.Sj))],a);b.ESa=a;},function(r,b,a){var g,k;function c(m,f){this.Cc=m;this.H7=f;}Object.defineProperty(b,"__esModule",{value:!0});b.tHa=void 0;r=a(0);g=a(1);a=a(46);c.prototype.Wl=function(m){this.wi();this.sk=this.Cc.Lj(this.H7,m);};c.prototype.wi=function(){this.sk && this.sk.cancel();this.sk=void 0;};k=c;k=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Sj))],k);b.tHa=k;},function(r,b,a){var g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.JIa=void 0;r=a(0);g=a(1);k=a(228);c.prototype.BO=function(m,f){var d;d=this;m && Object.entries(f).forEach(function(l){var n,h,p;n=ma(l);l=n.next().value;n=n.next().value;if(d.PXb(n)){h=ma(n);n=h.next().value;p=h.next().value;h=m[n];Array.isArray(h)?(d.nqa(m,l,n),h.forEach(function(q){d.BO(q,p);})):n === k.Ck?Object.values(m).forEach(function(q){d.BO(q,p);}):(d.nqa(m,l,n),"object" === typeof h && d.BO(h,p));}else d.nqa(m,l,n);});};c.prototype.PXb=function(m){return Array.isArray(m);};c.prototype.nqa=function(m,f,d){m.hasOwnProperty(f) || f === d || Object.defineProperty(m,f,{get:function(){return m[d];},set:function(l){return m[d]=l;},enumerable:!0});};a=c;a=r.__decorate([(0,g.aa)()],a);b.JIa=a;},function(r,b,a){var g,k,m;function c(f){this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.FMa=void 0;r=a(0);g=a(12);k=a(17);a=a(1);c.prototype.hv=function(){return this.OXb()?k.bIa:(/widevine/i).test(this.config().zn)?k.Xga:(/fps/i).test(this.config().zn)?"fairplay":k.n2;};c.prototype.OXb=function(){return (/clearkey/i).test(this.config().zn);};m=c;m=r.__decorate([(0,a.aa)(),r.__param(0,(0,a.l)(g.Lc))],m);b.FMa=m;},function(r,b,a){var g,k,m,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ZSa=void 0;r=a(0);m=a(1);a=a(13);null === (k=null === (g=null === a.Xe || void 0 === a.Xe?void 0:a.Xe.userAgentData) || void 0 === g?void 0:g.getHighEntropyValues) || void 0 === k?void 0:k.call(g,["platformVersion"]).then(function(d){f=(d=d.platformVersion)?d:"undefined";}).catch(function(){f="exception";});Ua.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return f;}}});g=c;g=r.__decorate([(0,m.aa)()],g);b.ZSa=g;},function(r,b,a){var c,g,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.T$a=void 0;c=a(734);g=a(735);r=a(1);k=a(114);m=a(7);f=a(740);b.T$a=new r.Cd(function(d){d(m.mb).to(g.VLa).la();d(k.GL).to(c.WLa).la();d(m.Vha).to(f.KLa).la();});},function(r,b,a){var g;function c(){this.Dib={};this.cp=[];}Object.defineProperty(b,"__esModule",{value:!0});b.WLa=void 0;r=a(0);a=a(1);c.prototype.lda=function(k,m){m && (this.Dib[k]=m,this.cp=Object.values(this.Dib));};g=c;g=r.__decorate([(0,a.aa)()],g);b.WLa=g;},function(r,b,a){var g,k,m,f,d,l,n;function c(h,p,q){this.Fa=h;this.cp=p;this.xwa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.VLa=void 0;r=a(0);g=a(229);k=a(1);m=a(737);f=a(18);d=a(114);l=a(7);n=a(738);c.prototype.hb=function(h,p,q,t,v){q=void 0 === q?this.cp:q;return p?new m.FPa(this.Fa,this.xwa,q,p,h):v?new n.pFa(this.Fa,this.xwa,q,h,t || "",v):new g.FL(this.Fa,this.xwa,q,h);};a=c;a=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(f.cd)),r.__param(1,(0,k.l)(d.GL)),r.__param(2,(0,k.l)(l.Vha))],a);b.VLa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wZa=void 0;b.wZa=function(a,c){var k;a=a.WSb();for(var g=0;g < c.length;++g){k=c[g];void 0 != k && null != k && (k.Dh && (k=k.Dh),k.constructor === Uint8Array?a.xCb(k):"MediaRequest" === k.constructor.name?a.gCb(k):"string" === typeof k?a.vCb(k):"function" === typeof k?a.aCb(k):k instanceof Error?a.YBb(k):k instanceof Object?a.hCb(k):a.yCb(k));}return a.Yi();};},function(r,b,a){var g,k,m;function c(f,d,l,n,h){f=m.FL.call(this,f,d,l,h) || this;f.j=n;(0,g.fq)(f,"playback");return f;}Object.defineProperty(b,"__esModule",{value:!0});b.FPa=void 0;g=a(54);k=a(361);m=a(229);ja(c,m.FL);c.prototype.N7=function(f){return new c(this.Fa,this.p7,this.cp,this.j,f);};c.prototype.JD=function(f,d,l){f=new k.Uha(f,this.Op,this.Fa.Rb(),d,l,this.j.index);d=ma(this.cp.cp);for(l=d.next();!l.done;l=d.next()){l=l.value;l(f,this.j);}};b.FPa=c;},function(r,b,a){var g,k;function c(m,f,d,l,n,h){m=g.FL.call(this,m,f,d,l) || this;m.groups=n;Array.isArray(h)?m.prefix=h:h && "string" === typeof h && (m.prefix=[],m.prefix.push(h));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.pFa=void 0;g=a(229);k=a(739);ja(c,g.FL);c.prototype.JD=function(m,f,d){m=new k.oFa(m,this.Op,this.Fa.Rb(),f,d,this.prefix);f=ma(this.cp.cp);for(d=f.next();!d.done;d=f.next()){d=d.value;d(m);}};c.prototype.N7=function(m){return new c(this.Fa,this.p7,this.cp,m,this.groups,this.prefix);};b.pFa=c;},function(r,b,a){var g,k;function c(m,f,d,l,n,h,p){this.level=m;this.Op=f;this.timestamp=d;this.message=l;this.bd=n;this.prefix=h;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.oFa=void 0;g=a(5);k={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.Oea=function(m,f){m=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (f?"":" " + this.mcc(! !m));return (this.timestamp.ja(g.sa) / 1E3).toFixed(3) + "|" + this.index + "|" + (k[this.level] || this.level) + "|" + this.Op + "| " + m;};c.prototype.mcc=function(m){var n;for(var f=this.bd.length,d="",l=0;l < f;++l){n=this.bd[l].Xv;l && d.length && (d+=" ");if("object" === typeof n){if(null === n)d+="null";else if(n instanceof Error)d+=this.lcc(n,m);else try{d+=JSON.stringify(n);}catch(h){d+=this.kcc(n);}}else d+=n;}return d;};c.prototype.lcc=function(m,f){return m.toString() + (m.stack && !f?"\n" + m.stack:"") + "\n";};c.prototype.kcc=function(m){var f;f=[];return JSON.stringify(m,function(d,l){if("object" === typeof l && null !== l){if(-1 !== f.indexOf(l))return "<cycle>";f.push(l);}return l;});};b.oFa=c;},function(r,b,a){var g,k,m,f;function c(d,l){this.vc=d;this.Ke=l;}Object.defineProperty(b,"__esModule",{value:!0});b.KLa=void 0;r=a(0);g=a(1);k=a(741);m=a(31);a=a(30);c.prototype.WSb=function(){return new k.LLa(this.vc,this.Ke);};f=c;f=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.Li)),r.__param(1,(0,g.l)(a.oi))],f);b.KLa=f;},function(r,b,a){var p,q,t;function c(v,w){this.vc=v;this.Ke=w;this.bd=[];}function g(v){return h.call(this,v,function(w){return {Details:w};}) || this;}function k(v){return h.call(this,v,function(w){return JSON.parse(w.toJSON());}) || this;}function m(v,w){w=h.call(this,w,function(u){return {Base64:v.encode(u)};}) || this;w.vc=v;return w;}function f(v,w){w=h.call(this,w,function(u){return u();}) || this;w.Ke=v;return w;}function d(v){return h.call(this,v,function(w){return {Exception:w.message || "" + w,StackTrace:w.stack || "nostack"};}) || this;}function l(v,w,u){w=h.call(this,w,u) || this;w.Ke=v;return w;}function n(v){return h.call(this,v,function(w){return {Details:w};}) || this;}function h(v,w){this.Xv=v;this.value=w?w(v):v;}Object.defineProperty(b,"__esModule",{value:!0});b.LLa=void 0;r=a(0);p=a(1);q=a(30);a=a(31);h.prototype.RW=function(v){return this.Xv === v;};ja(n,h);n.prototype.YK=function(v,w){return w?"":"\r\n" + this.Xv;};ja(l,h);l.prototype.YK=function(){var v;v="";this.Ke.tE(this.value,function(w,u){try{v+=", " + w + ": " + u;}catch(x){try{v+=", " + w + ": " + JSON.stringify(u);}catch(y){v+=", error stringifying " + w;}}});return v.replace(/[\r\n]+ */g," ");};ja(d,h);d.prototype.YK=function(v){var w;w="\r\n" + this.Xv.message;v || (w+="\r\n" + this.Xv.stack);return w;};ja(f,h);f.prototype.YK=function(){var v;v="";this.Ke.tE(this.value,function(w,u){v+=", " + w + ": " + u;});return v.replace(/[\r\n]+ */g," ");};ja(m,h);m.prototype.YK=function(v,w){return this.Xv && !w?"\r\n" + this.vc.encode(this.Xv):"";};ja(k,h);k.prototype.YK=function(){return this.Xv?this.Xv.toJSON():"";};ja(g,h);g.prototype.YK=function(){return ", " + (this.Xv.toString?"" + this.Xv.toString():"");};c.prototype.vCb=function(v){this.bd.push(new n(v));};c.prototype.hCb=function(v){this.bd.push(new l(this.Ke,v));};c.prototype.YBb=function(v){this.bd.push(new d(v));};c.prototype.aCb=function(v){this.bd.push(new f(this.Ke,v));};c.prototype.xCb=function(v){this.bd.push(new m(this.vc,v));};c.prototype.gCb=function(v){this.bd.push(new k(v));};c.prototype.yCb=function(v){this.bd.push(new g(v));};c.prototype.Yi=function(){return this.bd;};t=c;t=r.__decorate([(0,p.aa)(),r.__param(0,(0,p.l)(a.Li)),r.__param(1,(0,p.l)(q.oi))],t);b.LLa=t;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Ebb=void 0;r=a(1);c=a(362);g=a(743);b.Ebb=new r.Cd(function(k){k(c.fNa).to(g.eNa).la();});},function(r,b,a){var g,k,m;function c(f){this.Cc=f;}Object.defineProperty(b,"__esModule",{value:!0});b.eNa=void 0;r=a(0);g=a(1);k=a(744);a=a(46);c.prototype.C0a=function(f,d){return new k.gNa(this.Cc,f,d);};m=c;m=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Sj))],m);b.eNa=m;},function(r,b){function a(c,g,k){this.Cc=c;this.config=g;this.getTime=k;}Object.defineProperty(b,"__esModule",{value:!0});b.gNa=void 0;a.prototype.observe=function(c,g){var k;k=this;this.cancel();this.sk=this.Cc.M_(this.config.A6a(),function(){k.getTime() >= c && (k.cancel(),g());});};a.prototype.cancel=function(){this.sk && (this.sk.cancel(),this.sk=void 0);};b.gNa=a;},function(r,b,a){var c,g,k,m,f,d;Object.defineProperty(b,"__esModule",{value:!0});b.R=void 0;r=a(1);c=a(230);g=a(363);k=a(746);m=a(749);f=a(366);d=a(750);b.R=new r.Cd(function(l){l(c.Kja).to(k.DRa).la();l(g.zRa).to(m.yRa).la();l(f.HSa).to(d.GSa).la();});},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w;function c(u,x,y,z,A,B,C,D,E,G){this.Fa=u;this.jg=x;this.hQ=y;this.gEa=z;this.RZ=A;this.Cc=B;this.wN=C;this.Ei=D;this.kra=E;this.Ki=G;}Object.defineProperty(b,"__esModule",{value:!0});b.DRa=void 0;r=a(0);g=a(1);k=a(18);m=a(7);f=a(362);d=a(147);l=a(364);n=a(365);h=a(747);p=a(748);q=a(99);t=a(46);v=a(360);a=a(30);c.prototype.gKb=function(u,x,y){return new h.ERa(this.Fa,this.jg,this.hQ,this.gEa,x,u,this.Ei,this.RZ,this.Ki,this.kra,y);};c.prototype.CJb=function(u,x){return new p.bGa(this.jg,u,x,this.hQ,this.Cc,this.wN);};w=c;w=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.cd)),r.__param(1,(0,g.l)(m.mb)),r.__param(2,(0,g.l)(f.fNa)),r.__param(3,(0,g.l)(n.kTa)),r.__param(4,(0,g.l)(l.BPa)),r.__param(5,(0,g.l)(t.Sj)),r.__param(6,(0,g.l)(q.rS)),r.__param(7,(0,g.l)(d.DT)),r.__param(8,(0,g.l)(v.QS)),r.__param(9,(0,g.l)(a.oi))],w);b.DRa=w;},function(r,b,a){var f,d,l;function c(n,h,p,q,t,v,w,u,x,y,z){var A;A=this;this.Fa=n;this.hQ=p;this.lza=q;this.config=t;this.ub=v;this.Ei=w;this.RZ=u;this.Ki=x;this.nl=z;this.IOb=Object.values(f.Na).map(function(B){return {event:B,Tx:function(C){return A.Lb.Uc(B,C);}};});this.Lb=y.create();this.DF=[];this.log=h.hb("SegmentManager");this.AI=!0;this.Zo=this.Ki.createElement("div",l.wja);}function g(n,h,p,q,t,v,w,u,x,y,z){var A;A=this;this.log=n;this.config=h;this.J2b=p;this.lza=q;this.Ei=t;this.RZ=v;this.aw=w;this.G=u;this.Zo=x;this.ub=y;this.nl=z;this.PN=function(){A.oF && (A.oF.cancel(),A.oF=void 0);};this.Zta=function(B){A.log.trace("Received the transition event",{movieId:B.K});A.A7b();};this.qwa=function(){};this.log.debug("Constructing session data",k(u));this.zdc=new Promise(function(B){A.A7b=B;});}function k(n){return {movieId:n.K};}function m(n){return JSON.stringify({movieId:n.K,startPts:n.da,logicalEnd:n.jk,params:n.Db?{trackingId:n.Db.ml,authParams:n.Db.d7,sessionParams:n.Db.Nn,disableTrackStickiness:n.Db.yqa,uiPlayStartTime:n.Db.XR,loadImmediately:n.Db.Iaa,playbackState:n.Db.playbackState?{currentTime:n.Db.playbackState.currentTime,volume:n.Db.playbackState.volume,muted:n.Db.playbackState.muted,playbackRate:n.Db.playbackState.playbackRate}:void 0,pin:n.Db.Sdb,heartbeatCooldown:n.Db.lua,uiLabel:n.Db.he,uxLabels:n.Db.nfa}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.ERa=void 0;f=a(16);d=a(5);l=a(17);g.prototype.load=function(n){var h,p;h=this;this.log.trace("Loading new segment",k(this.G));this.T=this.lza.YN(this.config,this.RZ,this.Ei,this.G,this.ub,this.nl);this.T.addEventListener(f.Na.rP,function(q){h.log.trace("Segment is inactive",k(h.G));h.aw.close(h.Ei(q.errorCode));});this.T.addEventListener(f.Na.closed,this.PN);if(n)(this.log.debug("Pausing background segment",k(this.G)),this.T.addEventListener(f.Na.Eva,this.Zta),this.T.pause());else {this.Zo.appendChild(this.T.Ho());p=function(q){h.Zta(q);h.T.removeEventListener(f.Na.loaded,p);};this.T.addEventListener(f.Na.loaded,p);}};g.prototype.observe=function(){var n,h,p;n=this;this.log.trace("Observing segment",m(this.G));if(this.oF)this.log.trace("Segment is currently observing",k(this.G));else if(this.G.Db && this.G.Db.Iaa)this.qwa(this);else {h=this.J2b.C0a(this.config,function(){var q;if(n.T){q=n.T.Zs();if(q)return q;}return 0;});p=this.vFb(this.G);this.log.trace("Adding a moment to watch",{time:p});h.observe(p,function(){n.log.trace("Segment has reached its loading point",k(n.G));n.qwa(n);n.PN();});}};g.prototype.close=function(n){this.log.info("Closing segment",{segment:m(this.G),error:n});return this.T?(this.T.removeEventListener(f.Na.Eva,this.Zta),this.T.close(n)):Promise.resolve();};g.prototype.K3b=function(n){this.qwa=n;};g.prototype.vFb=function(n){var h,p;h=n.jk;n=n.Db?n.Db.Iaa:!1;p=0;h && !n && (p=h - this.config.Y5a(),p < this.config.$5a() && (n=h - this.config.$5a(),p=h - n / 2));return p;};c.prototype.WTb=function(){return this.Xh && this.Xh.T?this.Xh.T.isReady():!1;};c.prototype.Ho=function(){return this.Zo;};c.prototype.RI=function(){if(!this.Xh || !this.Xh.T)throw Error("Player not ready");return this.Xh.T;};c.prototype.afc=function(n){var h,p;p=this.Gra(n);p?this.wlb(p,n):this.ub.De(n.id) || this.log.error("Tried to update a non-existent segment",{segment:m(n),currentMovieId:this.Xh.G.K,queuedMovieIds:this.DF.map(function(q){return q.G.K;}),xid:null === (h=this.Xh.T) || void 0 === h?void 0:h.ov()});};c.prototype.vg=function(n){var h;this.log.info("Adding segment",m(n));if(this.AI){this.log.trace("First segment, loading",k(n));h=this.G$a(n);this.AI=!1;}else (this.log.trace("Subsequent segment, caching",k(n)),(h=this.Gra(n))?this.wlb(h,n):(h=this.createSession(n),this.DF.push(h),this.Xh.observe()));return h?h.zdc:null;};c.prototype.transition=function(n,h){var p,q,t;q=this.GJ;t=null === q || void 0 === q?void 0:q.T;if(q && t)return (this.GJ=void 0,this.log.info("Transitioning segment",m(q.G)),t.WBa(this.Fa.Rb().ja(d.sa)),this.Hkb(q,h));h=null === q || void 0 === q?void 0:q.G;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Xh.G.K,xid:null === (p=this.Xh.T) || void 0 === p?void 0:p.ov(),nextSegmentId:n,currentSegment:m(this.Xh.G),nextSegment:h?m(h):void 0,queuedMovieIds:this.DF.map(function(v){return v.G.K;})});return Promise.reject();};c.prototype.close=function(n){var h;h=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(k(this.Xh.G)),nextSession:this.GJ?JSON.stringify(k(this.GJ.G)):void 0});n=[this.Xh.close(n)];this.GJ && n.push(this.GJ.close());return Promise.all(n).then(function(){h.GJ=void 0;h.DF=[];h.AI=!0;});};c.prototype.addListener=function(n,h,p){this.Lb.addListener(n,h,p);};c.prototype.removeListener=function(n,h){this.Lb.removeListener(n,h);};c.prototype.wlb=function(n,h){this.m4b(n.G,h);this.log.trace("Overwrote existing segment data",m(n.G));};c.prototype.G$a=function(n){var h,p;h=this;this.log.info("Loading the next episode",k(n));if(this.Xh){this.config.usa()[n.K]=n.da;p=this.Gra(n);}else p=this.createSession(n);if(p)return (this.log.trace("Found the next session",k(n)),p.K3b(function(q){h.gkb(q);}),this.Xh?(this.log.trace("Subsequent playback, caching player and pausing",k(n)),this.GJ=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",k(n)),p.load(!1),this.Hkb(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",k(n));};c.prototype.Hkb=function(n,h){var p,q,t,v,w;h=void 0 === h?{}:h;v=n.T?null === (p=n.T) || void 0 === p?void 0:p.getError():"missing player";if(v)return (null === (q=n.T) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Xh.G.K,mid:n.G.K,error:v,xid:null === (t=n.T) || void 0 === t?void 0:t.ov()}),Promise.reject());this.log.trace("Playing episode",k(n.G));p=this.Xh;this.Xh=n;n=this.Xh.T;n.GBa(!1);this.kL(n,p?p.T:void 0);if(p && p.T){w=p.T.Ho();q=n.Ho();w.style.display="none";p=p.close();this.Zo.appendChild(q);p.then(function(){w.parentElement && w.parentElement.removeChild(w);});q.style.display="block";n.efa(h);n.AR();n.play();}return Promise.resolve();};c.prototype.gkb=function(n){var h,p,q,t,v;if(this.DF.length && n.T){h=n.T.Zs();p=this.DF[0];q=this.Xh.G.jk;t=this.Xh.G.Db?this.Xh.G.Db.Iaa:!1;if(q || t){t?v=0:q && (v=q - this.config.Y5a());null !== h && h >= v && (this.log.info("Got a time change, loading the next player",k(p.G)),this.G$a(p.G),this.DF.splice(0,1),this.gkb(n));}}};c.prototype.Gra=function(n){return this.Xh.G.K === n.K?this.Xh:this.DF.find(function(h){return h.G.K === n.K;});};c.prototype.m4b=function(n,h){n.da=h.da || n.da;n.jk=h.jk || n.jk;n.Db=h.Db || n.Db;n.fa=h.fa || n.fa;};c.prototype.createSession=function(n){return new g(this.log,this.config,this.hQ,this.lza,this.Ei,this.RZ,this,n,this.Zo,this.ub,this.nl);};c.prototype.kL=function(n,h){this.IOb.forEach(function(p){h && h.removeEventListener(p.event,p.Tx);n.addEventListener(p.event,p.Tx);});this.Lb.Uc(f.KG.Q_);};b.ERa=c;},function(r,b,a){var m,f,d,l,n;function c(h,p,q,t,v,w){var u;u=this;this.T=p;this.j=q;this.hQ=t;this.Cc=v;this.wN=w;this.PN=function(){u.oF && (u.oF.cancel(),u.oF=void 0);};this.log=h.hb("SegmentManager",this.j);this.R=new Map();this.j.ib.di && (this.j.addEventListener(d.ma.sK,function(x){return u.pF(x);}),this.j.addEventListener(d.ma.closed,this.PN));}function g(h,p){this.id=h;this.Woa=p;}function k(h,p,q,t){return f.od.call(this,h,q,void 0,void 0,void 0,p,void 0,t) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bGa=void 0;m=a(3);f=a(36);d=a(16);l=a(5);n=a(19);ja(k,f.od);k.prototype.toString=function(){return this.code + "-" + this.Kc + " : " + this.message + "\n" + JSON.stringify(this.data);};g.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.xa,contentEndPts:this.wa};};Ua.Object.defineProperties(g.prototype,{xa:{configurable:!0,enumerable:!0,get:function(){return this.Woa.startTimeMs;}},wa:{configurable:!0,enumerable:!0,get:function(){return this.Woa.endTimeMs;}},OB:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.Woa.next);}}});c.prototype.pF=function(h){var p;p=this;!1;h=h.position.segmentId;0 === this.R.size && Object.entries(this.j.nX()).forEach(function(q){var t;t=ma(q);q=t.next().value;t=t.next().value;p.R.set(q,new g(q,t));});this.na=this.R.get(h);};c.prototype.play=function(h){this.PQ && (this.PQ=void 0);this.PN();this.log.trace("Playing segment",h);return this.m9a(h)?this.m5b(h):this.QZ(h);};c.prototype.Ht=function(h){this.log.trace("Queueing segment",h);return this.m9a(h)?this.m7b(h):this.n7b(h);};c.prototype.vk=function(h,p){var q,t;q=this;t=this.j.nb;if(null === t || void 0 === t || !t.Ri)return Promise.reject(this.getError(m.$.LFa,"ASE session manager is not yet initialized",m.X.mga,{segmentId:h,updates:p}));this.log.trace("Updating next segment weights",h,p);return new Promise(function(v,w){try{t.bfa(h,p);q.j.fireEvent(d.ma.MDa,{Y:h,mfc:p});v();}catch(u){w(q.getError(m.$.LFa,"updateNextSegmentWeights threw an exception",m.X.Rnb,{segmentId:h,updates:p,error:u}));}});};c.prototype.m9a=function(h){return this.na?void 0 !== this.j.nX()[this.na.id].next[h]:!1;};c.prototype.sta=function(){var h;h=this.j.nb;if(null === h || void 0 === h?0:h.Ri)return h.wn().Lf;};c.prototype.OTb=function(){var h;h=this.j.nb;if(null === h || void 0 === h?0:h.Ri)return h.wn().id;};c.prototype.NRb=function(h){var p;p=this.j.nb;if(null === p || void 0 === p?0:p.Ri)return (h=p.ysa(h)) && h.cg;};c.prototype.m5b=function(h){var p,q;p=this;q=this.j.nb;return null !== q && void 0 !== q && q.Ri?this.na && 1 === this.na.OB.length?this.QZ(h):this.j.tf?void 0 === this.NRb(h)?(this.log.error("playNextSegment: branchOffset missing",{segment:h}),this.QZ(h)):new Promise(function(t,v){var z,A,B,C,D,E;function w(){!B && A && z && (E.cancel(),B=!0,p.log.trace("Telling ASE to choose the next segment",{id:h,stopped:A,repositioned:z,completed:B}),q.zx(h,!1,!0)?(t(),B=!0):(B=!0,p.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:h}),p.QZ(h).then(t).catch(v)));}function u(){z=!0;p.log.trace("Player is repositioned",{id:h,stopped:A,repositioned:z,completed:B});p.j.removeEventListener(d.ma.cl,u);w();}function x(){p.j.removeEventListener(d.ma.hK,x);q.stop();}function y(){A=!0;p.log.trace("ASE is stopped",{id:h,stopped:A,repositioned:z,completed:B});q.removeEventListener("stop",y);w();}z=!1;A=!1;B=!1;C=p.R.get(h);D=p.sta();if(void 0 === D)return (p.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:h}),p.QZ(h));p.log.trace("Seeking to next segment",JSON.stringify({segmentId:h,seekTo:D,currentSegment:p.na,nextSegment:C},null,"  "));p.j.fireEvent(d.ma.Kba,{Yh:p.na && p.na.id,nQ:h});q.addEventListener("stop",y);p.j.addEventListener(d.ma.hK,x);p.j.addEventListener(d.ma.cl,u);E=p.Cc.Lj((0,l.Hh)(10),function(){B=!0;E.cancel();v(p.getError(m.$.tS,"Timed out waiting for the player to be repositioned and ASE to be stopped",m.X.Nnb,{id:h,stopped:A,repositioned:z,completed:B}));});p.T.seek(D,d.Me.WL);}):(this.log.warn("MediaPresenter is not initialized",h),Promise.reject(this.getError(m.$.tS,"MediaPresenter is not initialized",m.X.Onb,{id:h}))):Promise.reject(this.getError(m.$.tS,"ASE session manager is not yet initialized",m.X.mga,{id:h}));};c.prototype.QZ=function(h){var p;p=this.R.get(h);return p?this.N_(p,m.$.tS):Promise.reject(this.getError(m.$.tS,"Unable to find the separated segment",m.X.KFa,{id:h}));};c.prototype.m7b=function(h){var p;p=this.j.nb;if(null === p || void 0 === p || !p.Ri)return Promise.reject(this.getError(m.$.uS,"ASE session manager is not yet initialized",m.X.mga,{id:h}));this.j.fireEvent(d.ma.Kba,{Yh:this.na && this.na.id,nQ:h});if(p.zx(h,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:h});return this.G1a(h);};c.prototype.n7b=function(h){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:h,mid:this.j.K,srcsegment:this.OTb()});return this.G1a(h);};c.prototype.G1a=function(h){var p,q;p=this;if(this.PQ)return Promise.reject(this.getError(m.$.uS,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",m.X.Qnb,{currentSegment:this.na?this.na.id:void 0,queuedSegment:this.PQ.id,failedSegment:h}));if(!this.na)return Promise.reject(this.getError(m.$.uS,"Unable to queue segment for delayed seek because there is no currently playing segment",m.X.Mnb,{nextSegmentid:h}));q=this.R.get(h);if(!q)return Promise.reject(this.getError(m.$.uS,"Unable to find the separated segment",m.X.KFa,{nextSegmentid:h,currentSegmentId:this.na.id}));this.PQ={id:h,promise:new Promise(function(t,v){var w;p.oF=p.hQ.C0a({A6a:function(){return (0,l.xc)(100);}},function(){return p.T.Zs() || 0;});w=p.sta() - n.config.Cbb;p.log.trace("Adding moment for queued segment for delayed seek",{segment:h,pts:w});p.oF.observe(w,function(){p.log.trace("Moment has arrived, seek to segment",{segment:h,currentSegment:p.na.id,playerEndPts:p.sta(),pts:w});p.PQ=void 0;p.PN();p.N_(q,m.$.uS).then(t).catch(v);});})};this.PQ.promise.catch(function(t){p.j.Md(t.code,t);});return Promise.resolve();};c.prototype.N_=function(h,p){var q;q=this;return new Promise(function(t,v){var w;try{w=h.xa;!1;q.T.seek(w,d.Me.eD);t();}catch(u){v(q.getError(p,"Seek threw an exception",m.X.Pnb,{id:h.id,error:u}));}});};c.prototype.getError=function(h,p,q,t){this.log.warn(p,t);return new k(h,p,q,t);};b.bGa=c;},function(r,b,a){var k,m;function c(){}function g(f,d,l,n,h){this.debug=f;this.version=d;this.UYb=l;this.j5b=n;this.config=h;}Object.defineProperty(b,"__esModule",{value:!0});b.yRa=void 0;r=a(0);k=a(1);m=a(5);g.prototype.ySb=function(){return this.config().VI;};g.prototype.usa=function(){return this.config().fZa;};g.prototype.A6a=function(){return (0,m.xc)(this.config().L5b);};g.prototype.Y5a=function(){return this.config().b_b;};g.prototype.$5a=function(){return this.config().U_b;};c.prototype.HI=function(f,d,l,n,h){return new g(f,d,l,n,h);};a=c;a=r.__decorate([(0,k.aa)()],a);b.yRa=a;},function(r,b,a){var g,k;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.GSa=void 0;r=a(0);g=a(1);a=a(12);c.prototype.V6b=function(m,f,d,l){this.config().D$b && (m=m.metrics,void 0 !== m && m.segment !== m.srcsegment && f.PP.rb.transition({isBranching:l || void 0,isPlaygraph:!l || void 0,mid:f.K,xid:f.qa,srcxid:d.qa,srcmid:d.K,segment:m.segment,srcsegment:m.srcsegment,srcsegmentduration:m.srcsegmentduration,srcoffset:m.srcoffset,srcvbitrate:m.srcvbitrate,srcvmaf:m.srcvmaf,destvbitrate:m.destvbitrate,destvmaf:m.destvmaf,auxMid:m.auxMid,auxMidType:m.auxMidType,auxSrcmid:m.auxSrcmid,auxSrcmidType:m.auxSrcmidType,seamlessRequested:m.seamlessRequested,transitionType:m.transitionType,transitionTypeAtRequest:m.transitionTypeAtRequest,nextExitPositionAtRequest:m.nextExitPositionAtRequest,delayToTransition:m.delayToTransition,durationOfTransition:m.durationOfTransition,atRequest:m.atRequest,atTransition:m.atTransition,discard:m.discard}));};k=c;k=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Lc))],k);b.GSa=k;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.lmb=void 0;r=a(1);c=a(365);g=a(752);b.lmb=new r.Cd(function(k){k(c.kTa).to(g.jTa).la();});},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D,E,G,F,I,L;function c(M){this.qc=M;}Object.defineProperty(b,"__esModule",{value:!0});b.jTa=void 0;r=a(0);g=a(1);k=a(79);m=a(30);f=a(27);d=a(7);l=a(112);n=a(230);h=a(367);p=a(753);q=a(232);t=a(85);v=a(368);w=a(754);u=a(236);x=a(83);y=a(18);z=a(115);A=a(237);B=a(377);C=a(12);D=a(378);E=a(379);G=a(29);F=a(238);I=a(380);L=a(34);c.prototype.YN=function(M,K,O,H,J,R){return this.qc.get(C.Lc)().jfa?new w.lTa(this.qc.get(d.mb),this.qc.get(u.gja),this.qc.get(x.pz),this.qc.get(y.cd),this.qc.get(z.zG),this.qc.get(l.fha),this.qc.get(A.jia),this.qc.get(B.JJa),this.qc.get(D.UPa),this.qc.get(E.Sja),this.qc.get(E.Sja),this.qc.get(G.Nh),this.qc.get(I.jT),this.qc.get(F.tha),this.qc.get(L.mj),H,O):new p.ZKa(this.qc.get(m.oi),this.qc.get(f.Yg),this.qc.get(d.mb),this.qc.get(l.fha),this.qc.get(n.Kja),this.qc.get(q.Ria),this.qc.get(t.eha),this.qc.get(v.DOa),this.qc.get(h.LHa),M,K,O,H,J,R);};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.WKa))],a);b.jTa=a;},function(r,b,a){var g,k,m,f,d,l,n;function c(h,p,q,t,v,w,u,x,y,z,A,B,C,D,E){var G;G=this;this.Ke=h;this.Cb=p;this.Lb=t;this.Qv=w;this.VV=u;this.y4a=x;this.config=z;this.Ei=B;this.G=C;this.j=A.create(C.K,C.Ij,y,D,E,C.Db,C.id,C.fa);this.j.background=!0;this.log=q.hb("VideoPlayer",this.j);this.Pdb=[];this.ended=!1;this.kL();this.j.state.addListener(function(F){F.newValue === k.dc.Le && G.Ab(k.Na.Eva,{movieId:C.K});});this.j.ib.di && (this.FN=v.CJb(this,this.j),this.j.addEventListener(k.ma.sK,function(F){F=F.position.segmentId;G.oZb !== F && (G.oZb=F,G.Ab(k.Na.p$b,{segmentId:F}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.ZKa=void 0;g=a(3);k=a(16);m=a(5);f=a(13);d=a(85);l=a(25);n=a(231);c.prototype.isReady=function(){return this.j.state.value === k.dc.Le;};c.prototype.j6a=function(){return this.j.K;};c.prototype.ov=function(){return this.j.qa;};c.prototype.Ho=function(){return this.j.Zo;};c.prototype.Dr=function(){return this.j.qk.value;};c.prototype.qY=function(){return this.j.paused.value;};c.prototype.jva=function(){return this.ended;};c.prototype.yi=function(){var h;h=this.j.poa.value;return h?{networkStalled:! !h.St,stalled:! !h.St,progress:h.progress,progressRollback:! !h.a7b}:null;};c.prototype.getError=function(){var h;h=this.j.$i;return h?h.M0():null;};c.prototype.Go=function(){return this.j.Go();};c.prototype.jv=function(){return this.j.Gr;};c.prototype.ZA=function(){var h;return this.jv().Ya?null !== (h=this.jv().jRb()) && void 0 !== h?h:null:this.Zs();};c.prototype.Zs=function(){return this.j.mediaTime.value;};c.prototype.Q4a=function(){var h;h=(this.A9() || 0) + this.j.P4a();return Math.min(h,this.Asa());};c.prototype.A9=function(){return this.j.GE();};c.prototype.Asa=function(){return this.jv().Ya?this.jv().iRb():this.j.Bx.ja(m.sa);};c.prototype.e7a=function(){var h;h=this.j.$F.value;return h?{width:h.width,height:h.height}:null;};c.prototype.B9=function(){return this.j.B9();};c.prototype.x4a=function(h){var p,q;return (null === (p=this.j.fa) || void 0 === p?0:p.Aj.XO("generateScreenshots"))?this.y4a.Up(this.log,this.j.fa.Aj,h):(p=null === (q=this.j.ib) || void 0 === q?void 0:q.Wo)?this.y4a.Sf(this.log,Object.assign({packageId:p},h)):Promise.reject("Unknown packageId");};c.prototype.k5a=function(){return this.bSb(this.j.Q1a);};c.prototype.H4a=function(){var h;h=this;return this.j.vj.map(function(p){return h.ur(p);});};c.prototype.d6a=function(){var h;return this.AX(this.j.vj,null === (h=this.j.fa) || void 0 === h?void 0:h.$a.Mab);};c.prototype.Nta=function(h){var p;p=this;return this.IX(h).map(function(q){return p.ur(q);});};c.prototype.$sa=function(h){var p;return this.AX(this.IX(h),null === (p=this.j.fa) || void 0 === p?void 0:p.$a.Nab);};c.prototype.tva=function(){return this.j.muted.value;};c.prototype.f7a=function(){return this.j.volume.value;};c.prototype.G4a=function(){var h,p;p=(null === (h=this.ry) || void 0 === h?void 0:h.Ec) || this.j.Ec.value;return p && this.ur(p);};c.prototype.Mta=function(){var h,p;p=(null === (h=this.ry) || void 0 === h?void 0:h.B0) || this.j.Tb.value;return p && this.ur(p);};c.prototype.V8a=function(){return ! !this.j.background;};c.prototype.Vhb=function(h){this.j.muted.set(! !h);};c.prototype.kib=function(h){this.j.volume.set(this.C2b(h));};c.prototype.Xhb=function(h){this.j.playbackRate.set(h);};c.prototype.Ys=function(){return this.j.playbackRate.value;};c.prototype.Fhb=function(h){var p,q,t,v,w;p=this;t=this.ZW(h);if(t){if(t.bj)return (this.j.Ec.set(t),Promise.resolve());v=(h=(null === (q=this.ry) || void 0 === q?void 0:q.B0) || this.j.Tb.value) && this.E9a(t,h)?h:t.Ii[0];q=t.trackId;w=v.trackId;this.ry={Ec:t,B0:v};this.Ab(k.Na.cn);this.Ab(k.Na.hw);v !== h && this.Ab(k.Na.Hm);return this.j.Y7a(q,w).then(function(u){u=u.Ec;p.ry=void 0;p.j.Ec.set(u);}).catch(function(u){p.ry=void 0;u=p.Ke.cf(u);p.log.error(u);p.close(p.Ei(g.$.HL,{za:g.X.bia,Qb:u,YI:{uWb:t.trackId,Z7a:t.Ef,vWb:v.trackId,$7a:v.Ef}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.RBa=function(h){var p,q,t,v;p=this;t=(null === (q=this.ry) || void 0 === q?void 0:q.Ec) || this.j.Ec.value;if(null !== t){v=t.Ii;q={};for(var w=0;w < v.length;(q={fu:q.fu},w++)){q.fu=v[w];if(!h && null === q.fu)return (this.j.Tb.set(null),Promise.resolve());if(this.ur(q.fu) === h){if(q.fu.bj)return (this.log.info("Setting Timed Text, profile: " + q.fu.profile),this.j.Tb.set(q.fu),Promise.resolve());h=t.trackId;v=q.fu.trackId;this.ry={Ec:t,B0:q.fu};this.Ab(k.Na.Hm);return this.j.Y7a(h,v).then(function(u){u=u.B0;p.ry=void 0;p.j.Tb.set(u);}).catch((function(u){return function(x){p.ry=void 0;x=p.Ke.cf(x);p.log.error(x);p.close(p.Ei(g.$.HL,{za:g.X.bia,Qb:x,YI:{uWb:t.trackId,Z7a:t.Ef,vWb:u.fu.trackId,$7a:u.fu.Ef}}));};})(q));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.GBa=function(h){this.j.background=h;};c.prototype.AR=function(){this.j.AR();};c.prototype.efa=function(h){this.j.efa(h);};c.prototype.dk=function(h){return this.j.dk(h);};c.prototype.v6a=function(){return this.j.ib;};c.prototype.ny=function(){this.j.ny();};c.prototype.IJ=function(h){this.j.IJ(h);};c.prototype.RX=function(h,p,q){return this.j.RX(h,p,q);};c.prototype.dna=function(h,p){this.j.addEventListener(h,p,void 0);};c.prototype.addEventListener=function(h,p,q){this.Lb.addListener(h,p,q);};c.prototype.removeEventListener=function(h,p){this.Lb.removeListener(h,p);};c.prototype.ZJ=function(){};c.prototype.load=function(){var h;h=this;this.loaded || (this.loaded=!0,this.j.load(function(p,q){try{h.Ab(k.Na.I$a,void 0,!0);p.fa && (p.fa.$a.Cmb && h.Ab(k.Na.ygc,p.fa.$a.Cmb,!0),p.fa.$a.qo && h.Ab(k.Na.o$b,{segmentMap:p.fa.$a.qo},!0));q({ga:!0});}catch(t){q({za:g.X.Mm,Qb:h.Ke.cf(t)});}}));};c.prototype.close=function(h){var p;p=this;this.z_a || (this.z_a=new Promise(function(q){h?p.j.$H(h,q):p.j.close(q);}));return this.z_a;};c.prototype.play=function(){var h;this.jv().Ya && this.jv().Ysa(null !== (h=this.ZA()) && void 0 !== h?h:0) === n.eT.Eja && this.jv().ihb();this.j.Vi?this.j.fireEvent(k.ma.Wgb):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(k.ma.$lb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(k.ma.Hfc));};c.prototype.seek=function(h,p,q,t){p=void 0 === p?k.Me.eD:p;this.j.RFb() && (this.jv().Ya && (h=this.jv().E4a(h)),this.j.tf?this.j.tf.seek(h,p,q,t):this.j.cr=h);};c.prototype.$db=function(h){return this.FN?(this.log.trace("Playing a segment",h),this.FN.play(h)):Promise.resolve();};c.prototype.gfb=function(h){return this.FN?(this.log.trace("Queueing a segment",h),this.FN.Ht(h)):Promise.resolve();};c.prototype.vk=function(h,p){return this.FN?(this.log.trace("Updating next segment weights",h,p),this.FN.vk(h,p)):Promise.resolve();};c.prototype.LX=function(){var h;h=this.j.ep.LX();return {bounds:h.IV,margins:h.ut,size:h.size,visibility:h.visibility};};c.prototype.rR=function(h){var p,q,t;p=h.bounds;q=h.margins;t=h.size;h=h.visibility;this.j.G0 && (p && this.j.G0.SBa(p),q && this.j.G0.TBa(q),"boolean" === typeof h && this.j.G0.UBa(h));this.j.ep && t && this.j.ep.yac(t);};c.prototype.WBa=function(h){this.j.Wn=h;};c.prototype.b7a=function(h){return this.j.yC && this.j.yC.wSb(h) || null;};c.prototype.C4a=function(){return this.Ke.BJ({playerver:this.config.version,jssid:this.config.UYb,groupName:this.config.ySb(),xid:this.j.qa,pbi:this.j.index},this.config.j5b,{prefix:"pi_"});};c.prototype.s8a=function(h){this.j.Md(g.$.xIa,g.X.eo,h);};c.prototype.E$a=function(h,p,q,t){if(!this.Cb.ZXa(h))throw Error("invalid url");this.Pdb.push({url:h,name:p,kEb:q,options:t});this.Reb();};c.prototype.Dta=function(){var h,p,q,t,v,w,u,x;h={};p=this.j.l0;try{if((this.j.$i && (h.errorCode=this.j.$i.n8,h.errorType=p?"endplay":"startplay"),h.playdelay=(0,l.Ag)(this.j.OV()),h.xid=this.j.qa,this.j.fa && this.Cb.Du(this.j.fa.$a.Wo) && (h.packageId=Number(this.j.fa.$a.Wo)),h.auth=this.j.tRb(),p)){h.totaltime=this.j.Am?this.tn(this.j.Am.$s("content")):0;h.abrdel=this.j.Am?this.j.Am.ssa():0;q=this.j.tf;t=q?q.JI():null;this.Cb.no(t) && (h.totdfr=t);t=q?q.qX():null;this.Cb.no(t) && (h.totcfr=t);v=q?q.KSb():null;v && (h.rbfrs_decoder=v.X7,h.rbfrs_network=v.Gba);h.rbfrs_delay=this.j.Am?this.j.Am.eva:0;h.init_vbr=this.j.R$;w=this.SI();this.Cb.lI(w) && (h.pdltime=w);u=this.j.Ge.value;x=u && u.stream;x && (h.vbr=x.bitrate,h.vdlid=x.Vb);h.bufferedTime=this.j.P4a();}}catch(y){this.log.error("error capturing session summary",y);}return h;};c.prototype.zO=function(h){this.j.ib.Nn && (this.j.ib.Nn.userEngageAction=1);return this.Cb.no(this.j.mediaTime.value)?(h=Object.assign(Object.assign({},this.Qv.create(this.j)),{action:h}),this.VV(d.Bq.zO).Up(this.log,this.j.fa.Aj,h).then(function(){return {success:!0};}).catch(function(p){return {success:!1,errorCode:p.code,errorSubCode:p.Kc,errorExternalCode:p.Yd,errorData:p.data,errorDetails:p.details};})):Promise.resolve({success:!1});};c.prototype.bSb=function(h){return {register:h.register.bind(h),notifyUpdated:h.Acb.bind(h),getModel:h.iTb.bind(h),getGroups:h.wX.bind(h),addEventListener:h.addEventListener.bind(h),removeEventListener:h.removeEventListener.bind(h),getTime:h.getTime.bind(h)};};c.prototype.ur=function(h){var p;p=h.Vza=h.Vza || ({trackId:h.trackId,bcp47:h.Ef,displayName:h.displayName,trackType:h.Ji,rawTrackType:h.FF,channels:h.channels});this.yva(h) && (p.isNative=h.isNative,p.surroundFormatLabel=h.u0);this.zva(h) && (p.isNoneTrack=h.Cr(),p.isForcedNarrative=h.aq(),p.isImageBased=h.Hl);p.subType=h.OK;p.variant=h.variant;return p;};c.prototype.yva=function(h){return "undefined" !== typeof h.isNative;};c.prototype.zva=function(h){return "undefined" !== typeof h.Cr && "undefined" !== typeof h.aq;};c.prototype.ZW=function(h){var p;p=this;return h && this.j.vj.find(function(q){return p.ur(q) === h;});};c.prototype.IX=function(h){var p,q;h=this.ZW(h) || (null === (p=this.ry) || void 0 === p?void 0:p.Ec) || this.j.Ec.value;return null !== (q=null === h || void 0 === h?void 0:h.Ii) && void 0 !== q?q:[];};c.prototype.AX=function(h,p){var q;q=h.length - 1;if("number" !== typeof p)return q;h=h.findIndex(function(t){return t.ec > p;});return -1 === h?q:h - 1;};c.prototype.E9a=function(h,p){return 0 <= h.Ii.indexOf(p);};c.prototype.C2b=function(h){return 0 <= h?1 >= h?h:1:0;};c.prototype.tn=function(h){return this.Cb.no(h)?(h / 1E3).toFixed(0):"";};c.prototype.Ab=function(h,p,q){p=p || ({});p.target=this;this.Lb.Uc(h,p,!q);};c.prototype.kL=function(){var h;h=this;this.j.addEventListener(k.ma.cDa,function(){h.Ab(k.Na.hr);});this.j.$F.addListener(function(){h.Ab(k.Na.hEa);});this.j.addEventListener(k.ma.dlb,function(){h.Ab(k.Na.clb);});this.j.addEventListener(k.ma.dba,function(){h.Ab(k.Na.ioa);});this.j.addEventListener(k.ma.cl,function(){h.Ab(k.Na.ioa);});this.j.addEventListener(k.ma.rP,function(p){h.Ab(k.Na.rP,{errorCode:p});});this.j.addEventListener(k.ma.Mna,function(){h.Ab(k.Na.NYa);});this.j.addEventListener(k.ma.Vi,function(p){h.Ab(k.Na.e7,p);});this.j.addEventListener(k.ma.Dkb,function(){h.Ab(k.Na.c7);h.Ab(k.Na.hw);});this.j.qk.addListener(function(){h.Ab(k.Na.rza);});this.j.paused.addListener(function(){h.Ab(k.Na.Jdb);});this.j.muted.addListener(function(){h.Ab(k.Na.Qbb);});this.j.volume.addListener(function(){h.Ab(k.Na.vmb);});this.j.Eb.addListener(function(){h.mlb();});this.j.state.addListener(function(){h.mlb();});this.j.poa.addListener(function(p){h.c_b || h.j.state.value != k.dc.Le || p.newValue || (h.c_b=!0,h.Ab(k.Na.loaded),setTimeout(function(){h.log.debug.bind(h.log,"summary ",h.Dta());}));h.Ab(k.Na.HN);});this.j.Ec.addListener(function(){h.Ab(k.Na.cn);h.Ab(k.Na.hw);setTimeout(function(){var p,q;p=h.j.Ec.value;q=h.j.Tb.value;null === p || null === q || h.E9a(p,q) || (h.log.info("Changing timed text track to match audio track"),h.j.Tb.set(p.Ii[0]));},0);});this.j.Tb.addListener(function(p){p.oldValue && p.newValue && p.oldValue.trackId == p.newValue.trackId || h.Ab(k.Na.Hm);});this.j.addEventListener(k.ma.hw,function(){h.Ab(k.Na.hw);});this.j.addEventListener(k.ma.O0,function(){h.Ab(k.Na.O0);});this.j.state.addListener(function(p){switch(p.newValue){case k.dc.Le:h.Ab(k.Na.Jqa);h.Ab(k.Na.hEa);h.Ab(k.Na.c7);h.Ab(k.Na.hw);h.Ab(k.Na.H$a);h.Reb();h.Dgc();break;case k.dc.CLOSING:h.j.$i && h.Ab(k.Na.O8a,h.j.$i);break;case k.dc.CLOSED:(h.Ab(k.Na.closed),h.Lb.wi());}});this.j.addEventListener(k.ma.qJ,function(){h.Ab(k.Na.qJ);h.Ab(k.Na.Jqa);});};c.prototype.Dgc=function(){var h;h=this;this.j.ep.addEventListener("showsubtitle",function(p){h.Ab(k.Na.bCa,p,!0);});this.j.ep.addEventListener("removesubtitle",function(p){h.Ab(k.Na.sAa,p,!0);});this.j.Go().$m.addListener(function(){h.Ab(k.Na.OCb);});};c.prototype.Reb=function(){if(this.j.state.value == k.dc.Le){for(var h,p,q;p=this.Pdb.shift();){h=this.j.ep.Uma(p.url,p.name,p.options);p.kEb && (q=h);}q && this.j.Tb.set(q);}};c.prototype.mlb=function(){var h;h=this.j.state.value == k.dc.Le && this.j.Eb.value == k.qb.js;this.ended !== h && (this.ended=h,this.j.IH("Ended changed: " + h),(h || this.j.state.value === k.dc.CLOSING) && this.Ab(k.Na.Z2a));};c.prototype.SI=function(){var h,p;try{h=/playercore.*js/;p=f.Hw.getEntriesByType("resource").filter(function(q){return null !== h.exec(q.name);});if(p && 0 < p.length)return JSON.stringify(Math.round(p[0].duration));}catch(q){}};b.ZKa=c;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w;function c(u,x,y,z,A,B,C,D,E,G,F,I,L,M,K,O,H){var J,R,P;J=this;this.UZ=x;this.lB=y;this.Fa=z;this.kk=A;this.Lb=B;this.RY=C;this.H5b=D;this.eeb=E;this.sfa=G;this.b7=F;this.Ba=I;this.QP=L;this.config=M;this.OD=K;this.G=O;this.Ei=H;this.JY=new h.cc(!0);this.qk=new h.cc(!1);this.St=new h.cc(!1);this.ended=new h.cc(!1);this.q7=new h.cc(0);this.Eb=new h.cc(g.qb.pg);this.ZQ=new h.cc(void 0);this.loaded=this.l0=this.closed=!1;this.Eeb=function(T,V){return function(S){var W,ia,ra,ua,Aa;W=S.newValue;ia=W.po;S=W.gn;ra=W.stream;W=T.value;ua=W.streams.find(function(Ha){return Ha.bitrate === ra.stream.bitrate;});Aa=J.Aa.Rg.find(function(Ha){return Ha.id === ia;});J.log.info("Presenting " + ua.type + " request with bitrate " + ua.bitrate + ", track " + (W.trackId + " [" + S.startTime + "..." + S.endTime + "]"));V.set({stream:ua,gn:S,Ac:Aa});};};this.qjb=function(T,V,S){return function(W){var ia,ra;ia=T.value;ra=ia.streams.find(function(ua){return ua.bitrate === W.newValue.stream.bitrate;});J.log.info("Streaming " + ra.type + " stream with bitrate " + ra.bitrate + ", track " + ia.trackId);V.set(ra,{YH:W.Qk.YH,GV:void 0});ia=J.Aa.Rg.filter(function(ua){return ua.id === W.Qk.po;})[0];S.set(ia);};};this.S3a=new Set();this.log=u.hb("HLSVideoPlayer");this.ca=(0,k.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.ca.playsInline=this.config.peb;this.Aa=this.UZ(m.cD.index++,O.K,O.id,null !== (R=O.Db) && void 0 !== R?R:{},this.lB.JA(),this.Fa.Rb(),!1,void 0,function(){return J.Zs();});this.Aa.mediaTime.set(null !== (P=this.Aa.cr) && void 0 !== P?P:0);this.kL();this.gyb=this.QP.create(this);this.gyb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.lTa=void 0;g=a(16);k=a(40);m=a(62);f=a(100);d=a(57);l=a(3);n=a(61);h=a(69);p=a(5);q=a(15);t=a(101);v=a(25);w=a(49);c.prototype.Icc=function(){return ! !this.ca.canPlayType && ("" !== this.ca.canPlayType("application/vnd.apple.mpegURL") || "" !== this.ca.canPlayType("audio/mpegurl"));};c.prototype.kL=function(){var u;u=this;this.ca.addEventListener("loadedmetadata",function(){u.Ab(g.Na.I$a);u.Ab(g.Na.H$a);u.Ab(g.Na.cn);u.Ab(g.Na.c7);u.Ab(g.Na.Hm);u.Ab(g.Na.hw);});this.ca.addEventListener("error",function(x){x=u.Ei(l.$.dOa,x);u.close(x);});this.ca.addEventListener("timeupdate",function(){u.ended.set(!1);u.Aa.mediaTime.set(u.Zs());u.sqa();u.Ab(g.Na.hr);u.Ab(g.Na.clb);});this.ca.addEventListener("durationchange",function(){u.Ab(g.Na.Jqa);});this.ca.addEventListener("resize",function(){u.Ab(g.Na.hEa);});this.ca.addEventListener("playing",function(){u.sqa();u.St.set(!1);u.qk.set(!0);u.ended.set(!1);u.Eb.set(g.qb.Wc);});this.ca.addEventListener("pause",function(){u.qk.set(!1);u.St.set(!1);u.Eb.set(g.qb.Oi);});this.ca.addEventListener("waiting",function(){u.Eb.set(g.qb.pg);});this.ca.addEventListener("stalled",function(){u.St.set(!0);});this.ca.addEventListener("seeking",function(){u.St.set(!1);u.ZQ.set(u.Aa.mediaTime.value);u.Eb.set(g.qb.pg);});this.ca.addEventListener("seeked",function(){void 0 !== u.ZQ.value && (u.Aa.Am.dya(u.ZQ.value,u.Zs()),u.ZQ.set(void 0));u.Eb.set(u.Dr()?g.qb.Wc:g.qb.Oi);});this.ca.addEventListener("progress",function(){u.Ab(g.Na.ioa);u.Hec();});this.ca.addEventListener("ended",function(){u.Eb.set(g.qb.js);u.St.set(!1);u.qk.set(!1);u.ended.set(!0);});this.ca.addEventListener("volumechange",function(){u.Ab(g.Na.vmb);u.Ab(g.Na.Qbb);});this.qk.addListener(function(){u.Ab(g.Na.rza);u.Ab(g.Na.Jdb);u.QN();});this.q7.addListener(function(){u.Ab(g.Na.HN);});this.St.addListener(function(){u.Ab(g.Na.HN);});this.JY.addListener(function(){u.QN();});this.ended.addListener(function(){u.Ab(g.Na.Z2a);});this.Aa.playbackRate.addListener(function(x){u.ca.playbackRate=x.newValue;});};c.prototype.QN=function(){!this.Dr() || this.JY.value || this.l0 || this.MYa || (this.l0=!0,this.Aa.rB=this.Ba.xK,this.eeb.Tt(this,this.Aa));};c.prototype.OV=function(){return this.TZ - (this.Aa.Ij.ja(p.sa) + this.Fa.vB.ja(p.sa));};c.prototype.GI=function(){var u;u=this.Aa.ib.XR;return (0,q.Oa)(u)?u:this.Aa.Ij.ja(p.sa) + this.Fa.vB.ja(p.sa);};c.prototype.woa=function(){return this.Ba.Hf.ja(p.sa) - this.GI();};c.prototype.zoa=function(){return this.TZ - this.GI();};c.prototype.Hec=function(){var u;u=this.ca.readyState <= n.jp.j3.HAVE_METADATA?0:this.ca.readyState <= n.jp.j3.HAVE_CURRENT_DATA?.5:1;1 === u && (this.TZ=this.Ba.Hf.ja(p.sa),this.JY.set(!1),this.Kra(g.Na.loaded));this.q7.set(u);};c.prototype.sqa=function(){var u;u=this.Zs();this.sfa.Ihb(u);this.b7.Ihb(u);};c.prototype.T_=function(){var u;u=this;this.Aa.Qe("ats");return this.kk.NI({qa:this.Aa.qa,ib:this.Aa.ib,P:this.Aa.K,dv:f.bo.h4,Dg:d.Ni.Fq}).then(function(x){var z;function y(A){var B;B=A;A && A.Cr() && !A.aq() && (B=null);u.Aa.tj.set(B);}u.Aa.Qe("at");z=u.RY.create({}).Ddb(x);u.Aa.fa=x;u.Aa.Tc=z;u.ca.audioTracks.addEventListener("addtrack",function(){u.ylb(u.Aa.Ec.value);});u.ca.audioTracks.addEventListener("change",function(){for(var A,B,C={},D=ma(u.ca.audioTracks),E=D.next();!E.done;(C={mS:C.mS},E=D.next())){C.mS=E.value;C.mS.enabled && C.mS.label !== (null === (A=u.Aa.Ec.value) || void 0 === A?void 0:A.displayName) && (!1,E=null !== (B=u.Aa.vj.find((function(G){return function(F){return F.displayName === G.mS.label;};})(C))) && void 0 !== B?B:null,u.Aa.Ec.set(E));}});u.Aa.Ec.addListener(function(A){u.ylb(A.newValue);u.Ab(g.Na.cn);u.Ab(g.Na.hw);});u.ca.textTracks.addEventListener("addtrack",function(){u.zlb(u.Aa.Tb.value);});u.ca.textTracks.addEventListener("change",function(){var G;for(var A,B,C=u.ca.textTracks,D={},E=0;E < C.length;(D={nS:D.nS},E++)){if((D.nS=C[E],"showing" === D.nS.mode && D.nS.label !== (null === (A=u.Aa.Tb.value) || void 0 === A?void 0:A.displayName))){!1;G=null !== (B=u.Aa.Ii.find((function(F){return function(I){return I.displayName === F.nS.label;};})(D))) && void 0 !== B?B:null;u.Aa.Tb.set(G);y(G);}}});u.Aa.Tb.set(z.qW);y(z.qW);u.Aa.Tb.addListener(function(A){u.zlb(A.newValue);u.Ab(g.Na.Hm);});return u.H5b.Yi(x,function(A){return u.Aa.Qe(A);});}).then(function(x){var y,z,A,B,C,D,E,G,F,I,L,M,K,O,H,J;y=x.O_b;z=x.bGb;x=x.ccc;A=x.audio;B=x.v1a;C=x.video;D=u.Aa;E=D.Vh;G=D.Ec;F=D.vj;I=D.xf;L=D.Lh;x=D.cr;M=D.Ge;K=D.Xf;O=D.Am;D=D.Tc;D.vj=F.filter(function(R){return A.find(function(P){return P.track.Tg === R.trackId;});});L.set(D.f8);G.set(F.find(function(R){return R.trackId === B;}));D=C[0];H=D.stream;F=A.find(function(R){return R.track.Tg === B;});J=F.stream;u.fY=H.bitrate;u.sfa.yza.addListener(u.Eeb(L,M));u.sfa.MCa.addListener(u.qjb(L,I,u.Aa.Ac[w.u.J]));I=z.get(H.zo).LQ.Qf;u.sfa.oa(C,D,I);u.b7.yza.addListener(u.Eeb(G,K));u.b7.MCa.addListener(u.qjb(G,E,u.Aa.Ac[w.u.V]));z=z.get(J.zo).LQ.Qf;u.b7.oa(A,F,z);u.ca.src=y;u.ca.currentTime=(null !== x && void 0 !== x?x:0) / 1E3;u.ca.load();O.dya(0,x && 0 < x?x:1);}).catch(function(x){var y,z;if(x instanceof Error){z=(0,v.cf)(x);u.log.error("uncaught exception",x,z);}u.close(u.Ei(null !== (y=x.code) && void 0 !== y?y:l.$.VSa,x));});};c.prototype.zlb=function(u){var z;for(var x=this.ca.textTracks,y=0;y < x.length;y++){z=x[y];z.label === u.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== u.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.ylb=function(u){for(var x=ma(this.ca.audioTracks),y=x.next();!y.done;y=x.next()){y=y.value;y.label !== u.displayName || y.enabled || (!1,y.enabled=!0);y.label !== u.displayName && y.enabled && (!1,y.enabled=!1);}};c.prototype.Go=function(){};c.prototype.jv=function(){};c.prototype.Zs=function(){return Math.floor(1E3 * this.ca.currentTime);};c.prototype.A9=function(){return this.Zs();};c.prototype.ZA=function(){return this.Zs();};c.prototype.Asa=function(){return Math.floor(1E3 * this.ca.duration);};c.prototype.j6a=function(){return this.G.K;};c.prototype.ov=function(){return this.Aa.qa;};c.prototype.Ho=function(){return this.ca;};c.prototype.isReady=function(){return null === this.yi();};c.prototype.Dr=function(){return this.qk.value;};c.prototype.qY=function(){return !this.qk.value;};c.prototype.jva=function(){return this.ca.ended;};c.prototype.yi=function(){return 1 !== this.q7.value?{stalled:this.St.value,progress:this.q7.value,progressRollback:!1}:null;};c.prototype.getError=function(){var u,x;return null !== (x=null === (u=this.$i) || void 0 === u?void 0:u.M0()) && void 0 !== x?x:null;};c.prototype.Q4a=function(){return 1 === this.ca.buffered.length?1E3 * this.ca.buffered.end(0):null;};c.prototype.e7a=function(){return {width:this.ca.videoWidth,height:this.ca.videoHeight};};c.prototype.tva=function(){return this.ca.muted;};c.prototype.f7a=function(){return this.ca.volume;};c.prototype.Vhb=function(u){this.ca.muted=u;};c.prototype.kib=function(u){this.ca.volume=u;};c.prototype.addEventListener=function(u,x,y){this.Lb.addListener(u,x,y);};c.prototype.removeEventListener=function(u,x){this.Lb.removeListener(u,x);};c.prototype.load=function(){var u;u=this;this.loaded || (this.loaded=!0,this.OD.IY(function(x){u.Icc()?x.ga?u.T_():u.close(u.Ei(x.errorCode || l.$.Aha,x)):u.close(u.Ei(l.$.Vqb));}));};c.prototype.close=function(u){if(this.closed)return Promise.resolve();this.Aa.mediaTime.set(this.Zs());this.sqa();this.Aa.bW=this.A9();this.closed=!0;this.ca.removeAttribute("src");this.ca.load();null === u || void 0 === u?void 0:u.Zhb(!this.JY.value);(this.$i=u) && this.Ab(g.Na.error,u.M0());this.Ab(g.Na.closed);return this.eeb.n0(this.Aa);};c.prototype.play=function(){var u,x;u=this;x=this.ca.play();this.MYa=!1;x && x.then(function(){u.Kra(g.Na.NYa);}).catch(function(y){u.Ab(g.Na.HN);"NotAllowedError" === y.name && (u.log.warn("Playback is blocked by the browser settings",y),u.MYa=!0,u.Vi=!0,u.Kra(g.Na.e7,{player:{play:function(){return u.play();}}}));});};c.prototype.Ab=function(u,x,y){x=x || ({});x.target=this;this.Lb.Uc(u,x,!y);};c.prototype.Kra=function(u,x){this.S3a.has(u) || (this.S3a.add(u),this.Ab(u,x,void 0));};c.prototype.pause=function(){this.ca.pause();};c.prototype.seek=function(u){this.ca.currentTime=u / 1E3;};c.prototype.s8a=function(u){this.close(this.Ei(l.$.xIa,l.X.eo,u));};c.prototype.Ys=function(){return this.Aa.playbackRate.value;};c.prototype.Xhb=function(u){this.Aa.playbackRate.set(u);};c.prototype.H4a=function(){var u;u=this;return this.Aa.vj.map(function(x){return u.ur(x);});};c.prototype.Nta=function(u){var x;x=this;return this.IX(u).map(function(y){return x.ur(y);});};c.prototype.G4a=function(){var u;u=this.Aa.Ec.value;return u && this.ur(u);};c.prototype.Mta=function(){var u;u=this.Aa.Tb.value;return u && this.ur(u);};c.prototype.Fhb=function(u){if((u=this.ZW(u)) && u.bj)return (this.Aa.Ec.set(u),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.RBa=function(u){var x,y;x=this;y=this.Aa.Ii.find(function(z){return x.ur(z) === u;});if(y && y.bj)return (this.Aa.Tb.set(y),this.Aa.tj.set(y),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.d6a=function(){var u;return this.AX(this.Aa.vj,null === (u=this.Aa.fa) || void 0 === u?void 0:u.$a.Mab);};c.prototype.$sa=function(u){var x;return this.AX(this.IX(u),null === (x=this.Aa.fa) || void 0 === x?void 0:x.$a.Nab);};c.prototype.ur=function(u){var x;x=u.Vza=u.Vza || ({trackId:u.trackId,bcp47:u.Ef,displayName:u.displayName,trackType:u.Ji,rawTrackType:u.FF,channels:u.channels});this.yva(u) && (x.isNative=u.isNative,x.surroundFormatLabel=u.u0);this.zva(u) && (x.isNoneTrack=u.Cr(),x.isForcedNarrative=u.aq(),x.isImageBased=u.Hl);x.subType=u.OK;x.variant=u.variant;return x;};c.prototype.yva=function(u){return "undefined" !== typeof u.isNative;};c.prototype.zva=function(u){return "undefined" !== typeof u.Cr && "undefined" !== typeof u.aq;};c.prototype.ZW=function(u){var x;x=this;return u && this.Aa.vj.find(function(y){return x.ur(y) === u;});};c.prototype.IX=function(u){var x;u=this.ZW(u) || this.Aa.Ec.value;return null !== (x=null === u || void 0 === u?void 0:u.Ii) && void 0 !== x?x:[];};c.prototype.AX=function(u,x){var y;y=u.length - 1;if("number" !== typeof x)return y;u=u.findIndex(function(z){return z.ec > x;});return -1 === u?y:u - 1;};c.prototype.efa=function(u){this.Aa.ib=(0,t.kba)(this.Aa.ib,u);};c.prototype.dk=function(u){if(u !== this.Aa.Y)throw (!1,Error("Unknown segmentId " + u));return this.Aa;};c.prototype.v6a=function(){return this.Aa.ib;};c.prototype.dna=function(){!1;};c.prototype.ny=function(){!1;};c.prototype.IJ=function(){!1;};c.prototype.RX=function(){!1;return Promise.reject();};c.prototype.Dta=function(){return {};};c.prototype.B9=function(){};c.prototype.C4a=function(){return {};};c.prototype.GBa=function(){};c.prototype.AR=function(){};c.prototype.V8a=function(){return !1;};c.prototype.k5a=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.zO=function(){!1;return Promise.resolve({success:!0});};c.prototype.b7a=function(){!1;};c.prototype.LX=function(){!1;};c.prototype.rR=function(){!1;};c.prototype.WBa=function(){!1;};c.prototype.E$a=function(){!1;};c.prototype.x4a=function(){!1;return Promise.reject();};c.prototype.$db=function(){!1;return Promise.reject();};c.prototype.gfb=function(){!1;return Promise.reject();};c.prototype.vk=function(){!1;return Promise.reject();};c.prototype.ZJ=function(){!1;};b.lTa=c;},function(r,b,a){var c;b=a(148);c=a(756);a=b(function(g,k,m){return c(function(f,d,l){return g(d,l);},k,m);});r.exports=a;},function(r,b,a){var c,g;b=a(148);c=a(369);g=a(757);a=b(function l(m,f,d){return g(function(n,h,p){return c(h) && c(p)?l(m,h,p):m(n,h,p);},f,d);});r.exports=a;},function(r,b,a){var c;b=a(148);c=a(233);a=b(function(g,k,m){var f,d;f={};for(d in k){c(d,k) && (f[d]=c(d,m)?g(d,k[d],m[d]):k[d]);}for(d in m){c(d,m) && !c(d,f) && (f[d]=m[d]);}return f;});r.exports=a;},function(r,b,a){var c;b=a(370);c=a(767);a=a(777);a=c([b,a]);r.exports=a;},function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(r){r.exports=function(b,a){for(var c=0,g=a.length,k=[];c < g;){b(a[c]) && (k[k.length]=a[c]);c+=1;}return k;};},function(r,b,a){var c,g;b=a(126);c=a(372);g=a(762);a=b(function(k){return c(k)?!0:!k || "object" !== typeof k || g(k)?!1:1 === k.nodeType?! !k.length:0 === k.length?!0:0 < k.length?k.hasOwnProperty(0) && k.hasOwnProperty(k.length - 1):!1;});r.exports=a;},function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,g){return this.f(c,g);};return a;})();r.exports=function(a){return new b(a);};},function(r,b,a){var c;c=a(235);b=a(53)(function(g,k){return c(g.length,function(){return g.apply(k,arguments);});});r.exports=b;},function(r,b,a){var c,g;b=a(53);c=a(373);g=(function(){function k(m,f){this.o1=f;this.f=m;}k.prototype["@@transducer/init"]=c.oa;k.prototype["@@transducer/result"]=c.result;k.prototype["@@transducer/step"]=function(m,f){return this.f(f)?this.o1["@@transducer/step"](m,f):m;};return k;})();a=b(function(k,m){return new g(k,m);});r.exports=a;},function(r,b,a){var c,g;c=a(233);g=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === g.call(arguments)?function(k){return "[object Arguments]" === g.call(k);}:function(k){return c("callee",k);};};},function(r,b,a){var c;b=a(126);c=a(768);a=b(function(g){return c(function(){return Array.prototype.slice.call(arguments,0);},g);});r.exports=a;},function(r,b,a){var c,g,k,m,f;b=a(53);c=a(375);g=a(376);k=a(770);m=a(771);f=a(776);a=b(function(d,l){return g(f(k,0,m("length",l)),function(){var n,h;n=arguments;h=this;return d.apply(h,c(function(p){return p.apply(h,n);},l));});});r.exports=a;},function(r,b,a){var g,k;function c(m,f,d){return function(){var q;for(var l=[],n=0,h=m,p=0;p < f.length || n < arguments.length;){if(p < f.length && (!k(f[p]) || n >= arguments.length))q=f[p];else (q=arguments[n],n+=1);l[p]=q;k(q) || --h;p+=1;}return 0 >= h?d.apply(this,l):g(h,c(m,l,d));};}g=a(235);k=a(179);r.exports=c;},function(r,b,a){b=a(53)(function(c,g){return g > c?g:c;});r.exports=b;},function(r,b,a){var c,g;b=a(53);c=a(772);g=a(774);a=b(function(k,m){return c(g(k),m);});r.exports=a;},function(r,b,a){var c,g,k,m,f,d;b=a(53);c=a(371);g=a(375);k=a(234);m=a(773);f=a(376);d=a(374);a=b(c(["fantasy-land/map","map"],m,function(l,n){switch(Object.prototype.toString.call(n)){case "[object Function]":return f(n.length,function(){return l.call(this,n.apply(this,arguments));});case "[object Object]":return k(function(h,p){h[p]=l(n[p]);return h;},{},d(n));default:return g(l,n);}}));r.exports=a;},function(r,b,a){var c,g;b=a(53);c=a(373);g=(function(){function k(m,f){this.o1=f;this.f=m;}k.prototype["@@transducer/init"]=c.oa;k.prototype["@@transducer/result"]=c.result;k.prototype["@@transducer/step"]=function(m,f){return this.o1["@@transducer/step"](m,this.f(f));};return k;})();a=b(function(k,m){return new g(k,m);});r.exports=a;},function(r,b,a){var c;b=a(53);c=a(775);a=b(function(g,k){return c([g],k);});r.exports=a;},function(r,b,a){b=a(53)(function(c,g){for(var k=0;k < c.length;){if(null == g)return;g=g[c[k]];k+=1;}return g;});r.exports=b;},function(r,b,a){b=a(148);a=a(234);a=b(a);r.exports=a;},function(r,b,a){var c,g;c=a(778);b=a(53);g=a(370);a=b(function(k,m){return g(c(k),m);});r.exports=a;},function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(r,b,a){var c,g;c=a(780);b=a(148);g=a(781);a=b(function(k,m,f){return g(k,c(m,f));});r.exports=a;},function(r){r.exports=function(b,a){var c,g,k,m;b=b || [];a=a || [];g=b.length;k=a.length;m=[];for(c=0;c < g;){m[m.length]=b[c];c+=1;}for(c=0;c < k;){m[m.length]=a[c];c+=1;}return m;};},function(r,b,a){var c;c=a(782);b=a(53)(function(g,k){for(var m=0,f=k.length,d=[],l;m < f;){l=k[m];c(g,l,d) || (d[d.length]=l);m+=1;}return d;});r.exports=b;},function(r){r.exports=function(b,a,c){for(var g=0,k=c.length;g < k;){if(b(a,c[g]))return !0;g+=1;}return !1;};},function(r,b,a){b=a(53)(function(c,g){for(var k=[],m=0,f=g.length;m < f;){for(var d=m + 1;d < f && c(g[d - 1],g[d]);){d+=1;}k.push(g.slice(m,d));m=d;}return k;});r.exports=b;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.U7a=void 0;r=a(1);c=a(381);g=a(785);k=a(383);m=a(786);f=a(377);d=a(830);l=a(392);n=a(832);h=a(378);p=a(833);q=a(379);t=a(834);v=a(480);w=a(238);u=a(1179);x=a(393);y=a(1180);z=a(1181);A=a(380);B=a(1183);b.U7a=new r.Cd(function(C){C(c.VJa).to(g.UJa).la();C(k.ZJa).to(m.YJa).la();C(f.JJa).to(d.IJa).la();C(l.LJa).to(n.KJa).la();C(x.JGa).to(y.IGa).la();C(h.UPa).to(p.TPa).la();C(q.Sja).to(t.cSa);C(v.gT).to(z.fT);C(A.jT).to(B.iT);C(w.tha).to(u.bKa);});},function(r,b,a){var g,k,m,f;function c(d,l){this.oWb=d;this.log=l.hb("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.UJa=void 0;r=a(0);g=a(1);k=a(7);m=a(382);f=a(63);c.prototype.download=function(d){var n,h,p,q,t;function l(v){if(t < h.length - 1)return (!1,t++,n.i2a(h[t].url,p,q).catch(l));throw v;}n=this;h=d.urls;p=d.offset;q=d.length;t=0;return this.i2a(h[t].url,p,q).catch(l);};c.prototype.i2a=function(d,l,n){return this.oWb.download({url:d,withCredentials:!1,responseType:f.ResponseType.$nb,lE:"hls_headers",au:!0,offset:l,length:n,Qt:f.wT},{Qab:1});};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.eKa)),r.__param(1,(0,g.l)(k.mb))],a);b.UJa=a;},function(r,b,a){var g,k,m;function c(f){this.ya=f.hb("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.YJa=void 0;r=a(0);g=a(1);k=a(86);a=a(7);c.prototype.parse=function(f,d,l){f=new k.Fw(this.ya,{mediaType:f},d,["sidx"]).parse();if(f.py && f.ha)return this.D6(f.ha,l);};c.prototype.D6=function(f,d){var l,n,h,p,q;l=0;n=0;h=0;p=f.offset;q=[];f.se.forEach(function(t,v){n+=t;h+=f.sizes[v];if(1E3 * n / f.W >= d || v === f.se.length - 1)(q.push({duration:n / f.W,da:l / f.W,byteOffset:p,gFb:h}),l+=n,n=0,p+=h,h=0);});return q;};m=c;m=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.mb))],m);b.YJa=m;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.Gh();this.bd=1 === this.version?this.Ey([{creationTime:"int64"},{modificationTime:"int64"},{W:"int32"},{duration:"int64"}]):this.Ey([{creationTime:"int32"},{modificationTime:"int32"},{W:"int32"},{duration:"int32"}]);return !0;};k.hf="mvhd";k.ud=!1;return k;})(a(24).og);b.default=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);g=a(180);r=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.yI=function(f){var d;if(f && f.ba && !f.Y3b){d=this.tq("mdia");d && (d=d.tq("mdhd")) && d.W !== f.ba.W && (f.ba=new g.M(f.ba).ng(d.W));}return !0;};m.hf="trak";m.ud=!0;return m;})(a(24).og);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(m){var f;this.Gh();f=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];f=f.concat({offset:64,type:"offset"},{Dpc:"int16"},{Lmc:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.bd=this.Ey(f);this.bd.jsc=! !(this.flags & 1);this.bd.ksc=! !(this.flags & 2);this.bd.lsc=! !(this.flags & 4);this.bd.msc=! !(this.flags & 8);this.O.console.trace("Finished parsing track box");if(null === m || void 0 === m?0:m.uf)(m.uf.width=this.bd.width,m.uf.height=this.bd.height);m && m.ll && (m.ll[this.bd.trackId]={});return !0;};k.hf="tkhd";k.ud=!1;return k;})(a(24).og);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.Gh();this.bd=this.Ey(1 === this.version?[{l4a:"int64"}]:[{l4a:"int32"}]);return !0;};k.hf="mehd";k.ud=!1;return k;})(a(24).og);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(m){this.bd=this.Ey([{fWb:"int32"},{Xfc:"int32"}]);if(null === m || void 0 === m?0:m.uf)(m.uf.Woc=this.bd.fWb,m.uf.zsc=this.bd.Xfc);return !0;};k.hf="pasp";k.ud=!1;return k;})(a(24).og);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.bd=this.Ey([{fnc:"int32"},{maxBitrate:"int32"},{f7:"int32"}]);return !0;};k.hf="btrt";k.ud=!1;return k;})(a(24).og);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.O.aC();this.O.aC();for(this.rpa=[];this.O.offset <= this.byteOffset + this.byteLength - 4;){this.rpa.push(this.O.aC());}return !0;};k.hf="ftyp";k.ud=!1;return k;})(a(24).og);b.default=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);g=a(87);r=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(f){var d,l,n,h,p;this.Gh();this.bd=this.Ey([{Qqc:"int32"},{aua:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.bd.aua=g.vM(this.bd.aua);if(f && f.ll){p=null === (h=null === (n=null === (l=null === (d=this.parent) || void 0 === d?void 0:d.parent) || void 0 === l?void 0:l.Kx("tkhd")) || void 0 === n?void 0:n.bd) || void 0 === h?void 0:h.trackId;"number" === typeof p && f.ll[p] && (f.ll[p].Tx=this.bd.aua);}return !0;};m.hf="hdlr";m.ud=!1;return m;})(a(24).og);b.default=r;},function(r,b,a){var c,g,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);g=a(103);k=a(180);m=a(181);r=a(24);f=a(88);a=(function(d){function l(){return null !== d && d.apply(this,arguments) || this;}c.__extends(l,d);l.prototype.parse=function(){this.Gh();this.CO=this.O.ic();return !0;};l.prototype.yI=function(n){var h;h=Object.keys(this.oe);h.length && (h=h[0],this.oe[h].length && (h=this.oe[h][0],h instanceof m.default?this.ba=new k.M(h.DI,h.samplerate):h instanceof f.default && (h=h.oe[g.tia]) && h.length && (h=h[0].bd,1E3 !== h.Uu && 1001 !== h.Uu || 0 !== h.Mv % 1E3?this.O.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + h.Mv + "/" + h.Uu):this.ba=new k.M(h.Uu,h.Mv)),n && this.ba && (n.ba=this.ba)));return !0;};l.prototype.$fb=function(n){void 0 !== this.oe[n] && 0 !== this.oe[n].length && (this.Wb.qw(this.CO - 1,this.byteOffset + 12),n=this.oe[n][0],this.Jn(n.byteLength,n.byteOffset));};l.hf="stsd";l.ud=!0;return l;})(r.og);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.PQb=this.O.Hd(2);this.SEb=this.O.Hd(5);this.TEb=this.O.Hd(3);this.ABb=this.O.Hd(3);this.O.Hd(1);this.O.Hd(5);this.O.Hd(5);return !0;};k.hf="dac3";return k;})(a(24).og);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(m){var f,d;f=this.O.rh();this.h1a=f >> 3;this.B2b=f & 7;this.ucc=[];for(f=0;f < this.B2b;f++){d={PQb:this.O.Hd(2),SEb:this.O.Hd(5),TEb:this.O.Hd(5),ABb:this.O.Hd(3),Fpc:this.O.Hd(1),A2b:this.O.Hd(4)};0 < d.A2b?d.onc=this.O.Hd(9):this.O.Hd(1);this.ucc.push(d);}m && m.hNb && (m.hNb.h1a=this.h1a);return !0;};k.hf="dec3";return k;})(a(24).og);b.default=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);g=a(24);r=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(f){this.Gh();this.jBa=this.O.aC();g.N && this.O.console.trace("SchemeTypeBoxTranslator: " + this.jBa);if("cenc" === this.jBa){if((this.O.offset-=4,g.N && this.O.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.O.offset),this.Wb.Imb("piff"),null === f || void 0 === f?0:f.uf))f.uf.pOb="piff";}else if(null === f || void 0 === f?0:f.uf)f.uf.pOb=this.jBa;this.O.ic();return !0;};m.hf="schm";m.ud=!1;return m;})(g.og);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(m){var f;this.O.Gd();this.wnb=this.O.Gd();this.O.Gd();this.O.Gd();this.O.Gd();this.nea=this.hma(this.O.Gd() & 31);this.ueb=this.hma(this.O.Gd());this.NQ=this.nea.length?this.nea[0][1]:this.wnb;this.gWa=this.O.offset;this.startOffset + this.length < this.O.offset && (100 === this.NQ || 110 === this.NQ || 122 === this.NQ || 144 === this.NQ) && (this.O.Gd(),this.O.Gd(),this.hma(this.O.Gd()));f=this.startOffset + this.length - this.gWa;0 < f && this.Jn(f,this.gWa);m && m.Pna && (m.Pna.nea=this.nea,m.Pna.ueb=this.ueb,m.Pna.NQ=this.NQ);return !0;};k.prototype.hma=function(m){var l;for(var f=[],d=0;d < m;++d){l=this.O.rh();f.push(this.O.bda(l));}return f;};k.hf="avcC";k.ud=!1;return k;})(a(24).og);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(m){this.O.Hd(1);this.O.Hd(7);this.uhb=this.O.Hd(3);this.thb=this.O.Hd(5);this.vhb=this.O.Hd(1);this.R7a=this.O.Hd(1);this.Tkb=this.O.Hd(1);this.Hbb=this.O.Hd(1);this.k_a=this.O.Hd(1);this.l_a=this.O.Hd(1);this.j_a=this.O.Hd(2);this.O.Hd(3);(this.Yua=this.O.Hd(1))?this.B8a=this.O.Hd(4):this.O.Hd(4);m && (m.Tmc={uhb:this.uhb,thb:this.thb,vhb:this.vhb,R7a:this.R7a,Tkb:this.Tkb,Hbb:this.Hbb,k_a:this.k_a,l_a:this.l_a,j_a:this.j_a,Yua:this.Yua,B8a:this.B8a});return !0;};k.hf="av1C";return k;})(a(24).og);b.default=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);g=a(102);r=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.yI=function(){var f;f=this.Kx("esds");if(f=f && f.Bqb.Kx(5))(g.assert(this.samplerate),this.DI=f.DI * this.samplerate / f.Kda);return !0;};m.hf="mp4a";m.ud=!0;return m;})(a(181).default);b.default=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);g=a(241);r=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(f){this.Gh();this.Bqb=g.rIa.qfb(this.O,f);return !0;};m.hf="esds";m.ud=!1;return m;})(a(24).og);b.default=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);r=a(103);a=a(24);g=r.tia;a=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(){this.Gh();this.bd=this.Ey([{Mv:"int32"},{Uu:"int16"}]);return !0;};m.hf=g;m.ud=!1;return m;})(a.og);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(m){var f,d,l,n,h;this.Gh();f=this.Ey([{TR:"int32"},{lqa:"int32"},{Fx:"int32"},{OA:"int32"},{NA:"int32"}]);d=f.TR;l=f.lqa;n=f.Fx;h=f.NA;f=f.OA;this.bd={trackId:d,Nnc:l,d8:n,Onc:h,Pnc:f};(null === m || void 0 === m?0:m.ll) && m.ll[d] && (m.ll[d].lqa=l,m.ll[d].Fx=n,m.ll[d].NA=h,m.ll[d].OA=f);this.TR=d;this.lqa=l;this.Fx=n;this.OA=f;this.NA=h;return !0;};k.hf="trex";k.ud=!1;return k;})(a(24).og);b.default=r;},function(r,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);g=a(806);k=a(102);m=a(389);r=(function(f){function d(l,n,h,p,q){l=f.call(this,l,n,h,p,q) || this;l.HW=!1;return l;}c.__extends(d,f);Object.defineProperties(d.prototype,{g1a:{get:function(){return ! !(this.flags & 1);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Z8:{get:function(){return ! !(this.flags & 4);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Hda:{get:function(){return ! !(this.flags & 256);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Jda:{get:function(){return ! !(this.flags & 512);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{$Aa:{get:function(){return ! !(this.flags & 1024);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ZAa:{get:function(){return ! !(this.flags & 2048);},enumerable:!0,configurable:!0}});d.prototype.parse=function(l){var n,h,p;this.Gh();this.Zna=this.O.offset;this.Zd=this.O.ic();this.wo=this.g1a?this.O.eda():0;this.jQb=this.Z8?this.O.ic():void 0;this.YAa=(this.Hda?4:0) + (this.Jda?4:0) + (this.$Aa?4:0) + (this.ZAa?4:0);this.MO=this.O.offset;k.assert(this.g1a,"Expected data offset to be present in Track Run");k.assert(this.length - (this.O.offset - this.startOffset) === this.Zd * this.YAa,"Expected remaining data in box to be sample information");if(l && l.pa){l.pa.wo=this.wo;l.pa.Zd=this.Zd;this.gl=[];p=null === (h=null === (n=this.parent) || void 0 === n?void 0:n.Kx("tfhd")) || void 0 === h?void 0:h.TR;for(n=0;n < this.Zd;n++){h={};this.Hda?h.Gda=this.O.ic():l.pa.Fx?h.Gda=l.pa.Fx:p && l.ll && l.ll[p] && (h.Gda=l.ll[p].Fx);this.Jda?h.qK=this.O.ic():l.pa?h.qK=l.pa.OA:p && l.ll && l.ll[p] && (h.qK=l.ll[p].OA);this.$Aa?h.Ida=this.O.ic():l.pa?h.Ida=l.pa.NA:p && l.ll && l.ll[p] && (h.Ida=l.ll[p].NA);this.ZAa && (h.orc=0 === this.version?this.O.ic():this.O.eda());0 === n && this.Z8 && (h.Ida=this.jQb);this.gl.push(h);}l.pa.gl=this.gl;if(l.pa.pK)for((k.assert(l.pa.pK.length === l.pa.gl.length,"num fragment samples: " + l.pa.gl.length + ", num samples in auxiliary info: " + l.pa.pK.length),p=0);p < l.pa.gl.length;p++){l.pa.gl[p].Dha=l.pa.pK[p].Dha;l.pa.gl[p].NCa=l.pa.pK[p].NCa;}}return !0;};d.prototype.G5=function(l,n,h){var p,q,t;p=this.Hda?this.O.ic():l.Fx;q=this.Jda?this.O.ic():l.OA;l=this.$Aa?this.O.ic():l.NA;t=this.ZAa?0 === this.version?this.O.ic():this.O.eda():0;return {P9b:t,Ida:l,qK:q,Gda:p,Sqc:(h || 0) + t - (void 0 !== n?n:t)};};d.prototype.Ga=function(l,n,h,p,q,t,v){var w,u,x,y;k.assert(void 0 !== this.wo);k.assert(void 0 !== this.MO);k.assert(void 0 !== this.Zna);k.assert(void 0 !== this.Zd);k.assert(void 0 !== l.Is);w=0;u=0;this.Wb.offset=this.MO;for(p=0;p < q;++p){x=this.G5(n,y,u);if(0 === p)y=x.P9b;w+=x.qK;u+=x.Gda;}p=q;q=this.O.offset;x=this.G5(n,y,u);this.tAa=v;this.uR=p;this.Iib=u;if(v){if((this.WQ=this.wo + w,this.Tr=0,p === this.Zd))return !0;}else if((this.WQ=this.wo,this.Tr=w,0 === p))return !0;if(0 === p || p === this.Zd)return !1;this.HW=!0;if(v){this.Tr+=x.qK;for(v=p + 1;v < this.Zd;++v){x=this.G5(n,y,u);this.Tr+=x.qK;}this.Wb.offset=this.Zna;this.Zd=p;this.Wb.qw(this.Zd);this.Wb.rEa(t);this.Z8 && (this.O.offset+=4);this.Jn(this.length - (q - this.startOffset),q);}else (n=q - this.MO,this.MO=q,this.Wb.offset=this.Zna,this.Zd-=p,this.Wb.qw(this.Zd),this.wo+=w,this.Wb.rEa(t,this.wo),this.Z8 && (this.O.offset+=4),this.Jn(n,this.Wb.offset));h.Jn(this.Tr,l.Is + this.WQ);return !0;};d.prototype.y1b=function(l,n,h,p,q,t,v,w){var u,y,z,A,B;void 0 === v && (v=!1);k.assert(void 0 !== this.wo);k.assert(void 0 !== this.MO);k.assert(void 0 !== this.Zd);k.assert(void 0 !== this.YAa);k.assert(void 0 !== l.Is);for(var x=p.length;x < this.Zd;++x){p[x]=p[x - 1];}p.some(function(C){return 0 >= C;}) && (y=null === (u=this.rxb(q,t)) || void 0 === u?void 0:u.iea);this.O.offset=this.MO;l=l.Is + this.wo;q=-1 !== q.indexOf("heaac")?"aac":"ddp";t=new Uint8Array(this.O.view.buffer,this.O.view.byteOffset,this.O.view.byteLength);for(x=0;x < this.Zd;++x){u=this.G5(n).qK;if(-Infinity === p[x]){if(y && this.Jda){h.qda(u,y,l);z=this.YAa - (this.Hda?4:0);this.Wb.offset-=z;this.Wb.qw(y.byteLength);this.Wb.offset+=z - 4;}}else if(0 > p[x])try{A=t.subarray(l,l + u);B=g.xE({Xd:q,frame:A,qA:p[x],nK:v,tJ:w}).BQb;B !== u && this.O.console.error("TrackRunBoxEditor: parse frame size error " + B + " should be " + u);}catch(C){this.O.console.error("TrackRunBoxEditor: fadeFrame error: " + C.message + " " + C.stack);}l+=u;}};d.prototype.rxb=function(l,n){if("string" === typeof n)return (k.assert("reset" !== n && "standard" !== n),m.yV[n]);if(void 0 !== l)return n?m.yV.reset[l] || m.yV.standard[l]:m.yV.standard[l];};d.hf="trun";d.ud=!1;return d;})(a(24).og);b.ovb=r;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(388).__exportStar(a(807),b);},function(r,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.xE=void 0;c=a(245);g=a(808);b.xE=function(){var l,n,h,p;for(var f=[],d=0;d < arguments.length;d++){f[d]=arguments[d];}l="string" === typeof f[0]?{Xd:f[0],frame:f[1],qA:f[2],lHb:f[3],tJ:f[4]}:f[0];n=l.Xd;f=l.frame;d=l.qA;h=l.lHb;p=l.tJ;l=l.nK;l=void 0 === l?!1:l;switch(n){case "aac":void 0 === k && (k=a(809).xE);n=6;h && (h=new c.M1(h),n=g.zdb(h).Lda);f=k(f,d,l,{Lda:n}).Gya;break;case "ddp":void 0 === m && (m=a(818).xE);f=m(f,d,{tJ:p}).Gya;break;default:throw Error("Unrecognized codec in fadeFrame: " + n);}return {BQb:f};};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.zdb=void 0;a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];b.zdb=function(c){var g,k,m,f;g=c.read(5);k=c.read(4);if(15 === k){m=c.read(24);k=a.indexOf(m);}else m=a[k];f=c.read(4);switch(g){case 1:case 2:case 4:if(c.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + g + " not supported.");}return {Zq:g,sampleRate:m,Lda:k,pnc:f,AQb:1024};};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.xE=void 0;c=a(245);g=a(810);b.xE=function(k,m,f,d){var l;l=new c.M1(k);m=g.Neb(l,{qA:m,nK:f},d && d.Lda);l=l.offset;return {frame:k.subarray(0,l),Gya:l,ysc:m};};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Neb=void 0;c=a(246);g=a(811);b.Neb=function(k,m,f){var d,l,n;if(4095 === k.read(12)){k.advance(3);d=! !k.read(1);l=k.read(2) + 1;f=k.read(4);k.advance(8);n=k.read(13);k.advance(13 + (d?0:16));d={Zq:l,Lda:f,AQb:n};}else k.reverse(12);c.assert(void 0 !== f);g.Seb(k,f,m);return d;};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Seb=void 0;c=a(812);g=a(817);b.Seb=function(k,m,f){var l;for(var d;7 !== (d=k.read(3));){l=k.read(4);switch(d){case 1:c.Keb(k,m,f);break;case 6:g.Meb(k,l,f);break;default:throw Error("Unsupported AAC element " + d);}}k.fFb();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Keb=void 0;c=a(813);b.Keb=function(g,k,m){var f,d;f=g.read(1);if(f){d=new c.JKa(g,f,k);1 === g.read(2) && g.advance(d.sQ * d.WY);}c.Lza(g,k,d,m);c.Lza(g,k,d,m);};},function(r,b,a){var c,g,k,m,f,d;Object.defineProperty(b,"__esModule",{value:!0});b.JKa=b.Lza=void 0;c=a(246);g=a(814);k=a(816);b.Lza=function(l,n,h,p){var q,t,v;q=l.read(8);p=Math.max(0,Math.ceil(q + 4 * Math.log(Math.pow(10,p.qA / 20)) / Math.log(2)));l.reverse(8);l.write(8,p);h || (h=new d(l,0,n));q=h;t=2 === q.oEa?3:5;v=(1 << t) - 1;n=[];p=[];for(var w=[],u=0;u < q.sQ;++u){for(var x=0,y=0;x < q.WY;){for(var z=l.read(4),A=0,B;(B=l.read(t)) === v;){A+=B;}A+=B;x+=A;n.push(z);p.push(A);++y;}w.push(y);}q=!0;for(t=0;t < n.length;++t){0 !== n[t] && (13 === n[t] && q?(l.advance(9),q=!1,g.o3.Gib(l,p[t] - 1)):g.o3.Gib(l,p[t]));}l.read(1) && l.advance(6 + 9 * (l.read(2) + 1));if(l.read(1))for((q=h,t=2 === q.oEa?m:f,v=0);v < q.Hcb;++v){if(w=l.read(t[0]))for((u=l.read(1),x=0);x < w;++x){if((l.advance(t[1]),y=l.read(t[2])))(l.advance(1),z=l.read(1),l.advance(y * (u + 3 - z)));}}c.assert(!l.read(1));q=h.sQ;t=h.WY;v=h.Ljb;h=h.Afa;for(u=w=0;u < q;++u){for((x=h[u],y=0);y < t;++w){if((z=n[w],A=p[w],0 === z || 13 === z || 15 === z || 14 === z))y+=A;else {B=5 <= z?2:4;for(var C=0;C < A;(++C,++y)){for(var D=x * (v[y + 1] - v[y]) / B,E=0;E < D;++E){g.o3.sbc(l,z);}}}}}};m=[1,4,3];f=[2,6,5];d=(function(){return function(l,n,h){var p;this.Afa=[];this.sQ=1;this.Afa[0]=1;l.advance(1);this.oEa=l.read(2);l.read(1);if(2 === this.oEa){this.Hcb=8;this.WY=l.read(4);for(n=0;7 > n;++n){l.read(1)?this.Afa[this.sQ - 1]++:(this.sQ++,this.Afa[this.sQ - 1]=1);}this.Ljb=k.oRa[h];}else {this.Hcb=1;this.WY=l.read(6);if(l.read(1)){p=14 + Math.min(this.WY,40);l.read(1) && l.advance(p);n && l.read(1) && l.advance(p);}this.Ljb=k.nRa[h];}};})();b.JKa=d;},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.o3=void 0;c=a(815);g=[c.uJa,c.xJa,c.yJa,c.zJa,c.AJa,c.BJa,c.CJa,c.DJa,c.EJa,c.vJa,c.wJa];k=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.o3=(function(){function m(){}m.K3a=function(f,d){var l,q,t;l=d.table;d=d.width;for(var n=0,h=l[0],p=f.read(h);p !== l[n + 1];){n+=d;q=l[n];t=q - h;h=q;p<<=t;p|=f.read(t);}return n;};m.Fib=function(f){for(var d=4;f.read(1);){++d;}f.advance(d);};m.Gib=function(f,d){for(;d--;){m.K3a(f,c.FJa);}};m.sbc=function(f,d){var l,n;l=g[d - 1];n=l.table;l=this.K3a(f,l);if(11 > d)k[d - 1] && (d=n[l + 2]) && f.advance(d);else if(11 === d || 15 < d)(l+=2,(d=n[l]) && f.advance(d),(n=n[l + 1]) && this.Fib(f),1 < n && this.Fib(f));else throw Error("Huffman: unknown spectral codebook: " + d);};return m;})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FJa=b.wJa=b.vJa=b.EJa=b.DJa=b.CJa=b.BJa=b.AJa=b.zJa=b.yJa=b.xJa=b.uJa=void 0;b.uJa={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.xJa={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.yJa={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.zJa={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.AJa={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.BJa={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.CJa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.DJa={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.EJa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.vJa={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.wJa={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.FJa={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},function(r,b){var a,c,g,k,m,f,d,l,n,h,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.Aub=b.Trb=b.Cub=b.Xub=b.Yub=b.oRa=b.nRa=void 0;r=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);g=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);k=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);m=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);l=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);n=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);h=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);p=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);q=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.nRa=[r,r,c,k,k,f,d,d,n,n,n,p];b.oRa=[a,a,g,m,m,m,l,l,h,h,h,q];b.Yub=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.Xub=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.Cub=(function(){for(var t=new Float32Array(428),v=0;428 > v;v++){t[v]=Math.pow(2,(v - 200) / 4);}return t;})();b.Trb=(function(){for(var t=new Float32Array(8191),v=4 / 3,w=0;8191 > w;w++){t[w]=Math.pow(w,v);}return t;})();b.Aub=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Meb=void 0;b.Meb=function(a,c,g){15 === c && (c+=a.read(8) - 1);0 < c && 1 !== g.qA && !g.nK?(a.write(4,0),a.advance(8 * c - 4)):a.advance(8 * c);};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.xE=void 0;c=a(245);g=a(819);b.xE=function(k,m,f){var d;d=new c.M1(k);m=g.kYa(d,m,null === f || void 0 === f?void 0:f.tJ).CQb;k=k.subarray(0,m);g.gib(k);return {frame:k,Gya:m};};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.gib=b.kYa=void 0;c=a(246);g=a(820);b.kYa=function(k,m,f){var d,l;d=k.read(16);c.assert(2935 === d);d=2 * ((k.read(16) & 2047) + 1);k.advance(13);l=k.read(5);k.reverse(5);f && (m*=-l / f);k.write(5,Math.min(31,Math.max(1,Math.floor(l + m))));return {CQb:d};};b.gib=function(k){var m;m=g.q0a(k.subarray(2,k.length - 2));k[k.length - 2]=m >> 8;k[k.length - 1]=m & 255;};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.q0a=void 0;a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);b.q0a=function(c,g){void 0 === g && (g=0);g=~ ~g;for(var k=0;k < c.length;k++){g=(a[(g >> 8 ^ c[k]) & 255] ^ g << 8) & 65535;}return g;};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(m){this.WKb=this.O.aC();m && m.uf && (m.uf.N9b=this.WKb);return !0;};k.hf="frma";return k;})(a(24).og);b.default=r;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);g=a(823);k=a(247);m=a(102);f=a(180);d=a(24);r=a(386);l=a(387);n=a(390);h=a(149);p=a(239);q=a(103);t=a(391);v=a(826);a=(function(){function w(u,x,y,z,A,B){this.console=u;this.stream=x;this.Zv=z;this.DCb=A;this.view=y instanceof ArrayBuffer?new DataView(y):new DataView(y.data,y.offset,y.length);this.config=B || ({});this.DVb=h.cSb();}w.path=function(u,x){return x.reduce(function(y,z){return y && y.oe[z] && y.oe[z][0];},u);};w.fTb=function(u){return u && u.rpa && -1 !== u.rpa.indexOf("mcl0")?"mcl0":void 0;};w.PPb=function(u,x){var y,z;m.assert("mcl0" === u,"Unsupported McClearen brand");y=x.ha;u=y.se;x=new f.M(120,1).ng(y.W).Ca;z=0;for(y=y.Qn;z < u.length && y < x;){y+=u[z++];}return z;};w.prototype.parse=function(u){var x;x=this.$9b();if(!x.done){if(x.Ubb)return {py:!1,ECb:x.Ubb};this.console.error("Scan error: " + x.error);return {py:!1,parseError:x.error || "unknown mp4 scan error"};}if(null === u || void 0 === u?0:u.ba)u.Y3b=u.ba;this.view=new DataView(this.view.buffer,this.view.byteOffset,x.offset);u=this.v4b(u);return u.done?this.KHb():(this.console.error("Parse error: " + u.error),{py:!1,parseError:u.error || "unknown mp4 parse error"});};w.prototype.VA=function(u){return d.og.VA(this,u);};w.prototype.Kx=function(u){return d.og.Kx(this,u);};w.prototype.$9b=function(){var u,x;u=new t.crb(this.Zv,this.DCb?[q.C3,q.B3]:[],this.config && this.config.Yrc || ["moof",q.mNa],this.config && this.config.Fdb);x=c.__assign(c.__assign({},this.config),{Oya:!1});return new n.rga(w.eBa,u,this.view,this.console,x).parse();};w.prototype.v4b=function(u){var x,y,z;x=new t.CHa(this.view.byteLength);y=Object.create(p.kQ.oe);this.config && ((this.config.Nya || this.config.Ikb || this.config.mea) && g(p.kQ.XAa,y),this.config.rDa && g(p.kQ.Ydc,y),this.config.Ikb && g(p.kQ.Jkb,y));z=c.__assign(c.__assign({},this.config),{Oya:!0});this.Gg=new n.rga(y,x,this.view,this.console,z);u=this.Gg.parse(u);u.done && (this.oe=this.Gg.oe);return u;};w.prototype.KHb=function(){var u,x,y,z,A,B,C,D;u={py:!0};x=w.path(this,["moov"]);y=null === x || void 0 === x?void 0:x.VA("trak");if(1 === (null === y || void 0 === y?void 0:y.length)){z=y[0].tq("tkhd");z && (u.trackId=z.bd.trackId);}z=w.path(x,["trak","mdia","minf","stbl","stsd"]);if(this.config.Nya)if(z)(u.ba=z.ba,u.nrc=z.oe);else return {py:!1,parseError:"Missing sample descriptions"};A=w.path(z,["encv","sinf","schi"]);A && (A=w.path(A,["tenc"]) || w.path(A,[q.XNa])) && (u.oOb={Cnc:A.bq,Qva:A.Qva,zpc:!1});if(A=w.path(x,["trak","mdia","mdhd"]))u.W=A.W;if(A=w.path(x,["mvex","trex"]))u.d8=A && A.bd.d8;u.d8 && u.W && (u.ba=new f.M(u.d8,u.W));if(A=w.path(this,["sidx"])){B=w.path(this,[q.C3]);B=B && B.B0b;C=w.path(this,[q.B3]);C=C && C.Mk;u.ha=A.ha;u.jQ=B;u.Mk=C;}if(B=this.oe.vmaf && this.oe.vmaf[0])u.Zy=B.Zy;if(this.config.xAa && (B=w.path(x,["mvex"])) && y && y.length){D=y.reduce(function(E,G){return G.byteOffset > E.byteOffset?G:E;});D.byteOffset > B.byteOffset && (y=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),C=v.Vkb(y,B.byteOffset,B.byteOffset + B.byteLength),D=v.Vkb(y,B.byteOffset + B.byteLength,D.byteOffset + D.byteLength),y.set(D,B.byteOffset),y.set(C,B.byteOffset + D.byteLength));}if(this.config.Mgb)if(x)(this.trim(x.byteOffset + x.byteLength),this.config.mea && z && 1 < z.CO && A && (u.Sg=this.mea(z,A)),void 0 === u.Sg && (x=this.Gg.HW?k.concat(this.Gg.Ga()):this.view.buffer,u.Sg=[{te:0,data:x}]));else return {py:!1,parseError:"Missing movie box"};u.py=!0;u.qca=this.Gg.offset;return u;};w.prototype.trim=function(u){var x;x=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(u,this.view.byteLength));this.Gg.trim(u);this.view=new DataView(x);};w.prototype.mea=function(u,x){var y,z,A;y=Object.keys(u.oe);z=y.filter(function(B){return "encv" !== B;});if(!(2 > y.length || z.length === y.length || 0 === z.length)){y=w.path(this,["ftyp"]);A=w.fTb(y);if(A)return (y=[],this.Gg.i7b(),u.$fb("encv"),y.push({te:0,pm:!1,data:k.concat(this.Gg.Ga())}),this.Gg.M5b(),u.$fb(z[0]),u=w.PPb(A,x),y.push({te:u,pm:!0,data:k.concat(this.Gg.Ga())}),y);}};w.eBa={};return w;})();b.Fw=a;a.eBa[q.uia]=r.default;a.eBa[q.wia]=l.default;},function(r){r.exports=function g(a,c){var k;a.__proto__ && a.__proto__ !== Object.prototype && g(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(m){k=Object.getOwnPropertyDescriptor(a,m);void 0 !== k && Object.defineProperty(c,m,k);});};},function(r,b,a){var c,g,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);g=a(102);k=a(247);m=a(87);r=a(825);f=(function(){function d(l){l?(this.nq=l.nq.slice(),this.eu=l.eu.slice(),this.Ci=l.Ci.slice(),this.trim=l.trim):(this.nq=[],this.eu=[],this.Ci=[]);}Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.nq.length && 0 === this.eu.length && 0 === this.Ci.length;},enumerable:!0,configurable:!0}});return d;})();r=(function(d){function l(n,h,p){n=d.call(this,n,h,p) || this;n.x2a=[];n.Ce=new f();return n;}c.__extends(l,d);l.kDb=function(n,h){if(h.offset + h.size <= n.byteLength)switch(h.size){case 1:n.setUint8(h.offset,h.value);break;case 2:h.d0?n.setInt16(h.offset,h.value):n.setUint16(h.offset,h.value);break;case 4:h.d0?n.setInt32(h.offset,h.value):n.setUint32(h.offset,h.value);break;case 8:g.assert(!h.d0);n.setUint32(h.offset,Math.floor(h.value / 4294967296));n.setUint32(h.offset + 4,h.value & 4294967295);break;default:g.assert(!1);}};Object.defineProperties(l.prototype,{HW:{get:function(){return !this.Ce.empty;},enumerable:!0,configurable:!0}});l.prototype.Cfa=function(n,h){this.Ce.eu.push({offset:void 0 !== h?h:this.offset,value:n,size:1});void 0 === h && (this.offset+=1);};l.prototype.Lgc=function(n){this.Ce.eu.push({offset:!1,value:n,size:2,d0:!1});};l.prototype.qw=function(n,h){this.Ce.eu.push({offset:void 0 !== h?h:this.offset,value:n,size:4,d0:!1});void 0 === h && (this.offset+=4);};l.prototype.Mgc=function(n,h){this.Ce.eu.push({offset:void 0 !== h?h:this.offset,value:n,size:8,d0:!1});void 0 === h && (this.offset+=8);};l.prototype.Imb=function(n){this.qw(m.aUa(n));};l.prototype.rEa=function(n,h){this.Ce.Ci.push({offset:this.offset,$q:n,value:h});this.offset+=4;};l.prototype.Jn=function(n,h,p){this.Ce.nq.push({offset:h,remove:n,wb:p});};l.prototype.qda=function(n,h,p,q){this.Ce.nq.push({offset:p,remove:n,replace:h,wb:q});};l.prototype.trim=function(n){this.Ce.trim=n;};l.prototype.i7b=function(){this.x2a.push(new f(this.Ce));};l.prototype.M5b=function(){this.Ce=this.x2a.pop() || new f();};l.prototype.Ga=function(){var n,h,p,q,t,v,w;n=this;if(0 === this.Ce.nq.length && 0 === this.Ce.eu.length && 0 === this.Ce.Ci.length)return [void 0 === this.Ce.trim?this.view.buffer:this.view.buffer.slice(0,this.Ce.trim)];this.Ce.nq.sort(function(u,x){return u.offset - x.offset;});this.Ce.eu.sort(function(u,x){return u.offset - x.offset;});this.s9b();h=this.HPb();p=this.view.buffer.slice(0,h);q=new DataView(p);this.Ce.eu.forEach(l.kDb.bind(void 0,q));this.Kec(q);this.Jec(q);t=[];v=void 0 !== this.Ce.trim?Math.min(this.Ce.trim,this.view.byteLength):this.view.byteLength;w=0;this.Ce.nq.filter(function(u){return u.offset <= v;}).forEach(function(u){u.offset > w && (t.push(q.buffer.slice(w,u.offset)),u.offset > q.byteLength && q !== n.view && (q=n.view,t.push(q.buffer.slice(h,u.offset))));u.replace && t.push(u.replace);w=u.offset + u.remove;});w < h && t.push(p.slice(w));w < v && t.push(this.view.buffer.slice(Math.max(p.byteLength,w),v));return t;};l.prototype.HPb=function(){var n,h,p;n=[];h=this.Ce.eu[this.Ce.eu.length - 1];p=this.Ce.Ci[this.Ce.Ci.length - 1];h && n.push(h.offset + h.size);p && n.push(p.offset + 4);this.Ce.nq.filter(function(q){return q.wb;}).forEach(function(q){return n.push(q.wb.byteOffset + 4);});h=Math.max.apply(void 0,n);return void 0 !== this.Ce.trim?Math.min(h,this.Ce.trim):h;};l.prototype.s9b=function(){this.Ce.nq=this.Ce.nq.reduce(function(n,h){var p,q;if(0 === n.length)return (n.push(h),n);p=n[n.length - 1];q=p.offset + p.remove;h.offset >= q?n.push(h):h.offset + h.remove > q && (g.assert(p.wb === h.wb),p.remove+=h.offset + h.remove - q,h.replace && (p.replace=p.replace?k.concat(p.replace,h.replace):h.replace));return n;},[]);};l.prototype.Kec=function(n){var h;h=this;this.Ce.Ci.forEach(function(p){var q,t,v,w;q=n;t=p.offset;h.Ce.nq.some(function(u){return u.offset <= p.offset && u.replace && u.offset + u.replace.byteLength >= p.offset + 4?(q=new DataView(u.replace),t=p.offset - u.offset,!0):!1;});v=p.$q + (void 0 !== p.value?p.value:q.getInt32(t));w=h.Ce.nq.reduce(function(u,x){return x.offset > p.$q && x.offset < v?u + (x.remove - (x.replace?x.replace.byteLength:0)):u;},0);q.setInt32(t,v - p.$q - w);});};l.prototype.Jec=function(n){this.Ce.nq.forEach(function(h){var p;p=(h.remove || 0) - (h.replace?h.replace.byteLength:0);if(0 !== p)for(h=h.wb;h;){n.setUint32(h.byteOffset,n.getUint32(h.byteOffset) - p);h=h.parent;}});};return l;})(r.xvb);b.wvb=r;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(149);a(149);g=a(87);r=(function(){function k(m,f,d){this.view=m;this.console=f;this.config=d;this.view=m;this.console=f;this.Od=this.Js=this.offset=0;}k.prototype.h5a=function(m){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,m);};k.prototype.Hd=function(m){for(;this.Od < m;){this.Js=(this.Js << 8) + this.Gd();this.Od+=8;}this.Od-=m;return this.Js >>> this.Od & (1 << m) - 1;};k.prototype.Gd=function(){var m;m=this.view.getUint8(this.offset);this.offset+=1;return m;};k.prototype.rh=function(m){m=this.view.getUint16(this.offset,m);this.offset+=2;return m;};k.prototype.ic=function(m){m=this.view.getUint32(this.offset,m);this.offset+=4;return m;};k.prototype.eda=function(){var m;m=this.view.getInt32(this.offset,void 0);this.offset+=4;return m;};k.prototype.Q4b=function(m,f){var d;d=this.view.getUint32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);f || 0 === (d & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * d + m;};k.prototype.Sl=function(m,f){m=this.Q4b(m,f);this.offset+=8;return m;};k.prototype.S4b=function(){var m,f;m=this.view.getInt32(this.offset + 0,void 0);f=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < m?m:-m) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * m + f;};k.prototype.y7b=function(){var m;m=this.S4b();this.offset+=8;return m;};k.prototype.aC=function(){return g.vM(this.ic());};k.prototype.fda=function(){var f,d,l,n,h,p;function m(q,t){return ("000000" + q.toString(16)).slice(2 * -t);}f=this.ic(!0);d=this.rh(!0);l=this.rh(!0);n=this.rh();h=this.rh();p=this.ic();return [m(f,4),m(d,2),m(l,2),m(n,2),m(h,2) + m(p,4)].join("-");};k.prototype.cda=function(m){var f;f=this.view.byteOffset + this.offset;f=this.view.buffer.slice(f,f + m);this.offset+=m;return f;};k.prototype.s7b=function(m){var f;f=[];if(0 === m)return "";m=m || Number.MAX_SAFE_INTEGER;for(var d=this.Gd();0 !== d && 0 <= --m;){f.push(d);d=this.Gd();}return String.fromCharCode.apply(null,f);};k.prototype.bda=function(m){var f,d;void 0 === f && (f=1);void 0 === d && (d=!0);return this.al(this.config.ZR && c.NUb || c.iP,1,m,f,d);};k.prototype.r7b=function(m){var f,d,l;f=10;d=!1;void 0 === f && (f=2);void 0 === d && (d=!0);void 0 === l && (l=!1);return this.al(this.config.ZR && c.LUb || c.b$,2,m,f,d,l);};k.prototype.ada=function(m,f,d){var l;void 0 === f && (f=4);void 0 === d && (d=!0);void 0 === l && (l=!1);return this.al(this.config.ZR && c.MUb || c.NX,4,m,f,d,l);};k.prototype.u7b=function(){for(var m=this.Gd(),f=m & 127;m & 128;){m=this.Gd();f=f << 7 | m & 127;}return f;};k.prototype.al=function(m,f,d,l,n,h){void 0 === n && (n=!0);void 0 === h && (h=!1);m=m(this.view,this.offset,d,l,h);this.offset=n || !l || l === f?this.offset + d * (l || f):this.offset + f;return m;};return k;})();b.xvb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vkb=function(a,c,g){var k,m,f;k=Uint8Array;if(null !== a && void 0 !== a && a.slice)return a.slice(c,g);m=Math.min(a.length,g);f=Math.min(a.length,c);for(g=new k(Math.max(g - c,0));f < m;f++){g[f - c]=a[f];}return g;};},function(r,b,a){var g,k,m,f,d;function c(l){return "number" === typeof l[0] || void 0 === l[0]?{jj:l[0],W:l[1],qA:l[2],KAa:l[3],nK:l[4]}:l[0];}Object.defineProperty(b,"__esModule",{value:!0});g=a(21);k=a(103);r=a(248);m=a(87);f=a(102);d=a(24);a=(function(l){function n(h,p,q){return l.call(this,h,p,q) || this;}g.__extends(n,l);n.prototype.Vfb=function(){for(var h=[],p=0;p < arguments.length;p++){h[p]=arguments[p];}return this.Ga(g.__assign(g.__assign({},c(h)),{tAa:!1}));};n.prototype.cgb=function(){for(var h=[],p=0;p < arguments.length;p++){h[p]=arguments[p];}return this.Ga(g.__assign(g.__assign({},c(h)),{tAa:!0}));};n.prototype.Ga=function(h){var q,t,v,w,u,x,y,z,A,B,C,D,E,G,F,I,L,M,K,O,H;function p(P){z=y[P];A=z.tq("traf");if(void 0 === A || void 0 === A.Is)return !1;E=A.tq("tfdt");if(void 0 === E)return !1;B=A.tq("trun");return void 0 === B?!1:!0;}q=h.jj;t=h.W;v=h.tAa;w=h.qA;u=h.KAa;u=void 0 === u?!1:u;x=h.nK;x=void 0 === x?!1:x;h=h.tJ;if(!this.parse().done)return !1;y=this.oe.moof;if(!y || 0 === y.length)return !1;if(void 0 !== q){C=q;for(q=0;q < y.length;++q){if(!p(q,this.Gg.console.trace))return !1;f.assert(z && A && E && B && void 0 !== B.Zd);if(B.Zd > C || v && B.Zd === C)break;C-=B.Zd;}f.assert(z && A && E && B);}else if((q=v?y.length - 1:0,!p(q,this.Gg.console.trace)))return !1;f.assert(z && A && E && B);if(v && q < y.length - 1){D=y[q + 1];this.Gg.Jn(this.view.byteOffset - D.startOffset,D.startOffset);}else !v && 0 < q && this.Gg.Jn(z.startOffset,0);D=A.tq("tfhd");if(void 0 === D)return !1;E=A.tq("tfdt");G=B.Zd;F=A.tq("saiz");I=A.tq("saio");L=A.tq(k.WNa);M=A.tq("sbgp");if(!(!F && !I || F && I))return !1;K=A.tq("sdtp");O=d.og.VA(this,"mdat");if(O && q < O.length)H=O[q];else if(q !== y.length - 1)return !1;void 0 === C && (C=v?B.Zd:0);if("number" === typeof w && 0 < w){O=v?C:B.Zd - C;for(var J=Array(O),R=0;R < O;++R){J[R]=v?R >= O - w?-Infinity:0:R < w?-Infinity:0;}w=J;}if(B.Ga(A,D,H || this.Gg,t,C,A.Is,v))B.HW && (f.assert(void 0 !== B.Iib),f.assert(void 0 !== B.uR),!v && E && E.Ga(B.Iib),F && I && (F.Ga(B.uR,v),I.Ga(L?0:F.WAa,A.Is)),L && L.Ga(B.uR,v),K && K.Ga(B.uR,G,v),M && M.Ga(B.uR,v));else if(!v){if(q === y.length - 1)return !1;this.Gg.Jn(y[q + 1].startOffset - z.startOffset,z.startOffset);}else if(0 === B.uR)return !1;Array.isArray(w) && H && this.stream.profile && void 0 !== u && B.y1b(A,D,H,w,this.stream.profile,u,x,h);t=this.Gg.Ga();v=t.reduce(function(P,T){return P + T.byteLength;},0);t={pa:t,length:v,NJ:this.Gg.view.byteLength};B.HW && !H && (t.WQ=A.Is + B.WQ,t.Tr=B.Tr);return t;};return n;})((function(l){function n(h,p,q){return l.call(this,h,p,q) || this;}g.__extends(n,l);return n;})(r.BG));b.xz=a;b.RP=function(l){var n,h;n=new ArrayBuffer(8);h=new DataView(n);h.setUint32(0,l + 8);h.setUint32(4,m.aUa("mdat"));return n;};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);r=a(248);g=a(247);a=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.Ga=function(f){var d,l,n,h;d=this;if(!this.parse().done)return !1;l=this.oe.moov;if(!l || 0 === l.length)return !1;n=l[0].Kx("tenc");if(!n)return !1;h=new Uint8Array(n.bq);f.forEach(function(p){for(var q=p.from,t=!0,v=0;v < q.length;v++){if(h[v] !== q[v]){t=!1;break;}}t && d.Gg.qda(p.from.length,p.to,n.Qva);});return g.concat(this.Gg.Ga());};return m;})(r.BG);b.Lha=a;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(49);b.u=r.u;},function(r,b,a){var f,d,l,n,h,p,q,t,v,w,u,x;function c(y,z,A){this.rW=z;this.Hc=y.filter(function(B){return B.yDa[p.Pm.x4];}).map(function(B){return {track:B,stream:B.yDa[p.Pm.x4],id:B.n2a[p.Pm.x4]};});A || (this.Hc=this.Hc.filter(function(B){return B.track.Tg === z;}));}function g(y,z,A){var B;this.SK=z;this.Jv=A;B=y[0];this.aL=B.streams.map(function(C){return {track:B,oP:C.Sib,stream:C};});}function k(y,z,A,B,C){function D(E,G){return E.bitrate > G.bitrate?E:G;}this.log=y;this.SK=A;this.rW=B;this.aL=z.map(function(E){var G;G=E.streams.reduce(D);return {track:E,oP:G.pC?G.pC.offset + G.pC.size:void 0,stream:G};});C || (this.aL=this.aL.filter(function(E){return E.track.Tg === B;}));}function m(y,z,A,B,C,D){this.RVb=y;this.SVb=z;this.I5b=A;this.ZFb=B;this.XI=C;this.jg=D;this.ya=D.hb("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.kvb=b.vvb=b.Hnb=b.IJa=void 0;r=a(0);f=a(1);d=a(381);l=a(383);n=a(3);h=a(36);p=a(42);q=a(392);t=a(393);v=a(238);w=a(7);u=a(831);x=a(49);m.prototype.Yi=function(y,z){var A,B,C,D,E,G;A=this;D=y.$a;y=this.pRb(D,z);E=this.UUb(D,z);G=null !== (C=null === (B=D.r_) || void 0 === B?void 0:B.NR) && void 0 !== C?C:D.H0.find(function(F){var I;return F.id === (null === (I=D.e8) || void 0 === I?void 0:I[0].Bjb);}).Tg;B=new c(D.H0,G,this.XI.ona);return Promise.all([y,E,B]).then(function(F){var I,L;I=ma(F);F=I.next().value;L=I.next().value;I=I.next().value;F={audio:F.getMetadata(),video:L.getMetadata(),text:I.getMetadata(),v1a:F.Dsa(),ALb:I.Dsa(),duration:D.duration,Yl:D.Yl};L=A.ZFb.LRb(F);z("h_s");return {O_b:A.I5b.transform(F,L),bGb:L,ccc:F};});};m.prototype.UUb=function(y,z){var A;A=new g(y.Xy,this.XI.V7a,this.XI.Jv);return this.g2a(A.aL,x.u.J,z).then(function(B){A.IBa(B);return A;});};m.prototype.pRb=function(y,z){var A,B,C,D;C=null !== (B=null === (A=y.r_) || void 0 === A?void 0:A.Lp) && void 0 !== B?B:y.Hu.find(function(E){var G;return E.id === (null === (G=y.e8) || void 0 === G?void 0:G[0].Lp);}).Tg;D=new k(this.ya,y.Hu,this.XI.ky,C,this.XI.ona);return this.g2a(D.aL,x.u.V,z).then(function(E){D.IBa(E);return D;});};m.prototype.Mya=function(y,z,A,B){if(y=this.SVb.parse(z,y,A))return y;this.ya.error("Failed to parse headers",{type:z === x.u.V?"audio":"video",downloadableId:B.stream.zo});};m.prototype.g2a=function(y,z,A){var B;B=this;return Promise.all(y.map(function(C,D){if(C.oP)return B.RVb.download({urls:C.stream.urls,offset:0,length:C.oP}).then(function(E){A("h_" + (0 === z?"A":"V") + "_" + D + "_s");return B.Mya(E,z,z == x.u.V?B.XI.ky:B.XI.JB,C);}).catch(function(){A("h_" + C.track.Ji[0] + "_" + D + "_f");B.ya.warn("Failed to download and parse headers for " + C.stream.zo);});B.ya.warn("Stream data offset is missing",{downloadableId:C.stream.zo});}));};a=m;a=r.__decorate([(0,f.aa)(),r.__param(0,(0,f.l)(d.VJa)),r.__param(1,(0,f.l)(l.ZJa)),r.__param(2,(0,f.l)(q.LJa)),r.__param(3,(0,f.l)(t.JGa)),r.__param(4,(0,f.l)(v.tha)),r.__param(5,(0,f.l)(w.mb))],a);b.IJa=a;k.prototype.IBa=function(y){var z;z=this;if(!y.find(function(A){return void 0 !== A;}))throw h.od.Fmb(n.$.EKa,n.X.gia);this.Hc=this.aL.map(function(A,B){if(B=y[B])return {track:A.track,stream:A.stream,ha:B,SK:z.SK};}).filter(u.Bva);};k.prototype.getMetadata=function(){return this.Hc;};k.prototype.Dsa=function(){var y,z;y=this;if(!this.Hc.find(function(A){return A.track.Tg === y.rW;}) && 0 < this.Hc.length){z=this.Hc[0].track.Tg;this.log.warn("Did not find metadata for audio track " + this.rW + ", falling back to " + z);return z;}return this.rW;};b.Hnb=k;g.prototype.IBa=function(y){var z,A;z=this;if(!y.find(function(B){return void 0 !== B;}))throw h.od.Fmb(n.$.EKa,n.X.hia);A=this.aL.map(function(B,C){if(C=y[C])return {track:B.track,stream:B.stream,ha:C,SK:z.SK};}).filter(u.Bva);this.Hc=this.yTb(A);};g.prototype.getMetadata=function(){return this.Hc;};g.prototype.yTb=function(y){var z,A,B;z=this;y.sort(function(C){return C.stream.bitrate;});A=y.findIndex(function(C){var D;return (null !== (D=C.stream.eb) && void 0 !== D?D:0) >= z.Jv;});if(-1 !== A && A !== y.length - 1){B=y[A];y.splice(A,1);y.push(B);}y.reverse();return y;};b.vvb=g;c.prototype.Dsa=function(){return this.rW;};c.prototype.getMetadata=function(){return this.Hc;};b.kvb=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bva=void 0;b.Bva=function(a){return void 0 !== a && null !== a;};},function(r,b,a){var g,k,m,f,d,l;function c(n){this.ya=n.hb("HLSPlaylistTransformerImpl");this.igc=f.k2.Ns();this.$Db=d.Sga.Ns();}Object.defineProperty(b,"__esModule",{value:!0});b.KJa=void 0;r=a(0);g=a(1);k=a(7);m=a(127);f=a(249);d=a(394);l=[0,1];c.prototype.transform=function(n,h){var p,q,t,v,w,u,x,y,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];t=n.text;v=n.audio;w=n.video;u=n.duration;x=n.v1a;y=n.ALb;t.forEach(function(A){l.forEach(function(B){var C,D,E,G;C=0 === B;D=A.stream;E=A.track;G=h.get(A.id);C=C?G.LQ:G.Nda;D=p.DUb({url:C.url,duration:u / 1E3,size:D.size,kn:"Manifest for subtitles " + E.language + ' stream "' + E.aF + '", ' + E.Tg + ", cdn " + C.Qf});p.ya.trace("Text variant manifest",D.join("\n"));B=p.EUb({groupId:B,name:E.aF,hva:E.Tg === y,aq:E.eaa,IXb:E.Ji === m.Gq.Mfa,language:E.language,uri:p.Qaa(D)});q.push(B);});});v.forEach(function(A){l.forEach(function(B){var C,D,E,G,F,I;C=0 === B;D=A.stream;E=A.track;G=A.ha;F=A.SK;I=h.get(D.zo);C=C?I.LQ:I.Nda;D=p.h6a({url:C.url,oP:D.pC.offset + D.pC.size,ha:G,Rjb:Math.floor(F / 1E3),kn:"Manifest for audio " + E.language + ' stream "' + E.aF + '", ' + E.Tg + ", cdn " + C.Qf});p.ya.trace("Audio variant manifest",D.join("\n"));B=p.qRb({groupId:B,language:E.language,name:E.aF,hva:E.Tg === x,uri:p.Qaa(D)});q.push(B);});});z=this.$Db[v[0].track.profile];w.forEach(function(A){l.forEach(function(B){var C,D,E,G,F,I;C=0 === B;D=A.stream;E=A.track;G=A.ha;F=A.SK;I=h.get(D.zo);I=C?I.LQ:I.Nda;C=0 < t.length;E=p.h6a({url:I.url,oP:D.pC?D.pC.offset + D.pC.size:D.Sib,ha:G,Rjb:Math.floor(F / 1E3),kn:"Manifest for video bitrate " + D.bitrate + ", stream " + E.Tg + ", cdn " + I.Qf});p.ya.trace("Video variant manifest",E.join("\n"));B=p.VUb({groupId:B,GV:1E3 * D.bitrate,mEb:1E3 * D.bitrate,nYb:0 <= D.fE.indexOf("-hdr-") || 0 <= D.fE.indexOf("-dv5-"),framerate:(D.s4a / D.r4a).toFixed(3),Ul:D.IAa + "x" + D.xgb,bgc:p.igc[D.fE],QDb:z,cdc:C});q.push(B);B=p.Qaa(E);q.push("" + B);});});this.ya.trace("Primary manifest",q.join("\n"));return this.Qaa(q);};c.prototype.qRb=function(n){var h;h=n.hva;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + n.groupId + '"','CHANNELS="2"','LANGUAGE="' + n.language + '"','NAME="' + n.name + '"',"DEFAULT=" + (h?"YES":"NO"),"AUTOSELECT=" + (h?"YES":"NO"),'URI="' + n.uri + '"'].join(", ");};c.prototype.h6a=function(n){var h;h=["#EXTM3U","# " + n.kn,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + n.Rjb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + n.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + n.oP + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];n.ha.forEach(function(p,q){h.push("#EXTINF:" + p.duration.toFixed(3) + "," + p.da.toFixed(3));h.push("#EXT-X-BYTERANGE:" + p.gFb + "@" + p.byteOffset);h.push("{$U}&fi=" + q);});h.push("#EXT-X-ENDLIST");return h;};c.prototype.VUb=function(n){var h,p;h=n.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + n.GV,"AVERAGE-BANDWIDTH=" + n.mEb,"VIDEO-RANGE=" + (n.nYb?"PQ":"SDR"),"FRAME-RATE=" + n.framerate,'AUDIO="group_' + h + '"',"RESOLUTION=" + n.Ul,'CODECS="' + n.bgc + "," + n.QDb + '"'];n.cdc && p.push('SUBTITLES="subs_' + h + '"');return p.join(", ");};c.prototype.DUb=function(n){var h;h=n.duration;return ["#EXTM3U","# " + n.kn,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(h),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + n.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + h.toFixed(3),"#EXT-X-BYTERANGE:" + n.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.EUb=function(n){var h,p,q;h=n.hva;p=n.language;q=n.uri;h=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + n.groupId + '"','NAME="' + n.name + '"',"DEFAULT=" + (h?"YES":"NO"),"AUTOSELECT=" + (h?"YES":"NO"),"FORCED=" + (n.aq?"YES":"NO")];n.IXb && h.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');h.push('LANGUAGE="' + p + '"');h.push('URI="' + q + '"');return h.join(", ");};c.prototype.Qaa=function(n){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(n.join("\n"));};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.mb))],a);b.KJa=a;},function(r,b,a){var g,k,m,f,d;function c(l,n){var p;function h(){p.Uya.then(function(q){p.ya.trace("Unloading PBO Playdata Services");q.close();});f.nf.removeListener(f.Lo,h);}p=this;this.Ndb=n;this.Uya=n();this.ya=l.hb("PlayerPlaydataMonitorImpl");f.nf.addListener(f.Lo,h);}Object.defineProperty(b,"__esModule",{value:!0});b.TPa=void 0;r=a(0);g=a(1);k=a(7);m=a(151);f=a(64);d=a(16);c.prototype.Tt=function(l,n){this.Uya.then(function(h){h.Tt(n,!0,function(p){return l.close(p);});h.wCa(n);l.addEventListener(d.Na.rza,function(){l.Dr() && h.qhb(n).catch(function(p){(p=p.EQ) && l.close(p);});});l.addEventListener(d.Na.Hm,function(){h.Vda(n).catch(function(p){(p=p.EQ) && l.close(p);});});l.addEventListener(d.Na.cn,function(){h.Vda(n).catch(function(p){(p=p.EQ) && l.close(p);});});});};c.prototype.n0=function(l){return this.Uya.then(function(n){n.gjb();return n.n0(l).catch();});};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.mb)),r.__param(1,(0,g.l)(m.BT))],a);b.TPa=a;},function(r,b,a){var g,k,m,f;function c(d){this.vxa={};this.J$={};this.yaa=-1;this.MCa=new m.cc(null);this.yza=new m.cc(null);this.ya=d.hb("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.cSa=void 0;r=a(0);g=a(1);k=a(75);m=a(69);a=a(7);c.prototype.oa=function(d,l,n){var h;h=this;d.forEach(function(p){p.stream.urls.forEach(function(q){h.vxa[q.url]=[p,q.Qf];});});this.kqa=l;this.vLb=n;new PerformanceObserver(function(p){h.Oec(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.Ihb=function(d){var l,n,h;if(this.kqa){n=this.H9(d);if(n !== this.yaa){for(this.yaa=n;0 <= n && !this.J$[n];){n--;}h=ma(null !== (l=this.J$[n]) && void 0 !== l?l:[this.kqa,this.vLb]);l=h.next().value;h=h.next().value;this.ya.debug("Setting time to " + d + ", using metadata from fragment " + n + " for " + ((0,k.gbb)(l.track.type) + " track with bitrate ") + (l.stream.bitrate + " from cdn " + h));d=l.ha[this.yaa];n=d.da;this.yza.set({stream:l,gn:{startTime:Math.floor(1E3 * n),endTime:Math.floor(1E3 * (n + d.duration))},po:h});}}};c.prototype.H9=function(d){var l,n,h,p,q;l=this.kqa.ha;d/=1E3;n=0;h=l.length - 1;if(d >= l[h].da)return h;for(;h >= n;){p=n + Math.floor((h - n) / 2);q=l[p];if(d < q.da)h=p - 1;else if(d >= q.da + q.duration)n=p + 1;else return p;}return l.length - 1;};c.prototype.Oec=function(d){var l;l=this;d.filter(function(n){return "video" === n.initiatorType;}).forEach(function(n){var h,p,q;h=n.name.indexOf("&fi=");if(0 < h){p=n.name.substring(0,h);h=Number(n.name.substring(h + 4));if(l.vxa[p]){q=ma(l.vxa[p]);n=q.next().value;q=q.next().value;p && !Number.isNaN(h) && n && (l.J$[h] && (l.yaa=-1),l.J$[h]=[n,q],p=n.ha[h].da,!1,l.MCa.set(n,{YH:Math.floor(1E3 * p),po:q}));}}});};f=c;f=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.mb))],f);b.cSa=f;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(846),b);r.__exportStar(a(847),b);r.__exportStar(a(848),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(76);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(76);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aD=void 0;r=b.aD || (b.aD={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.RC=1]="HAVE_SOMETHING";r[r.QC=2]="HAVE_MINIMUM";r[r.RS=3]="HAVE_ENOUGH";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Ia=b.Gca=void 0;c=a(396);(function(k){k[k.Qh=0]="STARTING";k[k.Qd=1]="BUFFERING";k[k.Kg=2]="REBUFFERING";k[k.Wc=3]="PLAYING";k[k.gD=4]="STOPPING";k[k.bm=5]="STOPPED";k[k.Oi=6]="PAUSED";})(g || (g={}));b.Ia=g;b.Gca=function(k){return k === c.Vc.Qd?g.Qd:k === c.Vc.Kg?g.Kg:k === c.Vc.LT?g.Qd:k === c.Vc.cm?g.Wc:g.Qh;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.IS=void 0;r=b.IS || (b.IS={});r[r.Pn=0]="skipped";r[r.LCb=1]="adjustment";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(870),b);r.__exportStar(a(871),b);r.__exportStar(a(872),b);r.__exportStar(a(873),b);r.__exportStar(a(874),b);r.__exportStar(a(875),b);r.__exportStar(a(876),b);r.__exportStar(a(877),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(879),b);r.__exportStar(a(880),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.su=void 0;r=b.su || (b.su={});r[r.Gtb=0]="PLAYGRAPH_CHANGED";r[r.Htb=1]="PLAYGRAPH_UNCHANGED";r[r.Rsb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.Fub=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";r[r.Eqb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.Dqb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.Gub=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.$mb=7]="APPENDED_PAST_TRUNCATION_POINT";r[r.csb=8]="LOSS_OF_POSITION";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xFa=void 0;c=a(6);r=(function(){function g(k){this.config=k;}g.prototype.sn=function(k,m){return this.config.p0 || m !== c.Vc.cm?k.filter(function(f){return f.cv;}):k;};return g;})();b.xFa=r;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.cM=void 0;r=a(0);c=a(10);g=r.__importDefault(a(4));k=a(397);a=(function(){function m(f){this.console=f;this.w1a=[];this.cZa={};this.R1a=!1;}m.prototype.dw=function(f,d){this.w1a=f;void 0 !== d?this.cZa[d]=f:this.R1a || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.R1a=!0);};m.prototype.sn=function(f){var d,l,n,h,p;d=this;if(0 === f.length)return f;h=f[0].P;if(void 0 === h)return (this.console.error("StreamFilters: Stream has undefined viewable id"),f);try{null === (l=g.default.Pu) || void 0 === l?void 0:l.call(g.default,h);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),f);}p=null !== (n=this.cZa[h]) && void 0 !== n?n:this.w1a;c.N && this.console.trace(("VideoBitrateRangesFilter: filtering ").concat(f.length," streams with ").concat(JSON.stringify(p)));f=f.filter(function(q){return (0,k.xna)(q.profile,q.bitrate,p,d.console).inRange;});c.N && this.console.trace(("VideoBitrateRangesFilter: ... ").concat(f.length," streams in range"));return f;};return m;})();b.cM=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yFa=void 0;r=(function(){function a(c){var g;g=this;c.FR && c.FR.enabled && c.FR.profiles && c.FR.profiles.length && "keepLowest" === c.FR.action && (this.Z9a={},c.FR.profiles.forEach(function(k){return g.Z9a[k]=!0;}));}a.prototype.sn=function(c){var g,k;g={};k=this.Z9a;return void 0 === k?c:c.filter(function(m){return !k[m.profile] || (g[m.profile]?!1:g[m.profile]=!0);});};return a;})();b.yFa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wFa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.sn=function(c){var g;g=this.config;return c.filter(function(k){return !(void 0 !== k.eb && (k.eb < g.zJ || k.eb > g.wab) || (void 0 === k.eb || 0 >= g.zJ) && k.bitrate < g.Axa || (void 0 === k.eb || Infinity === g.wab) && k.bitrate > g.c0b);});};return a;})();b.wFa=r;},function(r,b,a){var g;function c(k,m){m=Math.max(k,m);return isNaN(m)?k || -Infinity:m;}Object.defineProperties(b,{__esModule:{value:!0}});b.jFa=void 0;g=a(6);r=(function(){function k(m){this.config=m;this.hda=0;this.state=g.Vc.bm;this.Dbb=c(m.Axa,m.mba);this.Gxa=c(m.zJ,m.dZ);}k.prototype.sn=function(m,f){var d;d=this;if(f !== this.state){this.state=f;if(f === g.Vc.Qd || f === g.Vc.LT)return m;f === g.Vc.Kg && this.Afb();}return m.filter(function(l){return !(void 0 !== l.eb && l.eb < d.Gxa || (void 0 === l.eb || 0 > d.Gxa) && l.bitrate < d.Dbb);});};k.prototype.Afb=function(){++this.hda;this.Gxa=c(this.config.zJ,this.config.dZ - this.config.a1b * this.hda);this.Dbb=this.config.Axa || -Infinity;};return k;})();b.jFa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vFa=void 0;c=a(22);r=(function(){function g(k){this.config=k;}g.prototype.Pac=function(k){return k % 100 + 1 <= this.config.Zya;};g.prototype.sn=function(k){var m,f,d,l,n,h,p,q,t,v,w;p=Number(null === (m=k[0]) || void 0 === m?void 0:m.K);if(!(this.config.B8 && this.Pac(p) && 0 < this.config.zda.length))return k;m=k.length;q=null !== (f=k[m - 1].yda) && void 0 !== f?f:0;if(f=(0,c.$c)(this.config.zda,function(u){return u.frc >= q && u.Fgb <= q;})){for(p=0;p < m;p++){t=k[Math.max(p - 1,0)];v=k[p];if(!((null !== (d=v.yda) && void 0 !== d?d:0) < f.Fgb || (null !== (l=t.yda) && void 0 !== l?l:0) < f.Fgb)){w=null !== (n=v.eb) && void 0 !== n?n:Infinity;t=null !== (h=t.eb) && void 0 !== h?h:Infinity;if(!(t < f.pqc || t < f.oqc && v.bitrate < f.maxBitrate || !w && v.bitrate < f.Rpc))break;}}return k.slice(0,p);}return k;};return g;})();b.vFa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Yha=b.iga=void 0;c=a(22);b.iga={sn:function(g){return g.filter(function(k){return k.Ar && !k.iB;});}};b.Yha={sn:function(g){return (g=(0,c.$c)(g,function(k){return ! !k.Ar && !k.iB;}))?[g]:[];}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Zha=void 0;b.Zha={sn:function(a){return a.length?[a[0]]:[];}};},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.gI=b.fI=void 0;c=a(399);g=a(116);b.fI=function(k,m){m && (null === k || void 0 === k?0:k.c8a) && (m=new g.Pw(m).or(g.EG));return new g.Pw(g.iga).and(null !== m && void 0 !== m?m:g.EG).or(g.Yha,c.XL.xI).or(g.Zha,c.XL.xI);};b.gI=function(k,m){m && k.c8a && (m=new g.Pw(m).or(g.EG));return new g.Pw(g.iga).and(new g.xFa(k)).and(new g.wFa(k)).and(new g.jFa(k)).and(new g.yFa(k)).and(k.B8?new g.vFa(k):g.EG).and(null !== m && void 0 !== m?m:g.EG).or(g.Yha,c.XL.xI).or(g.Zha,c.XL.xI);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u;function c(x,y,z,A){var B,C;(0,d.assert)(x.fk,("Current time: ").concat(h.default.time.ia()," cr: ").concat(x.currentTime));(0,d.assert)(x.currentTime.isFinite());B=z.Da(x.currentTime);B=Math.max(Math.ceil(B.XJ / x.speed),0);C=null !== A && void 0 !== A?A:{id:void 0,I1a:B,Ccb:0,W3b:B};C.id=setTimeout(function(){z.Da(x.currentTime).bF(m.M.Ha)?y():(C.Ccb++,c(x,y,z,C));},B);C.I1a=B;return C;}Object.defineProperties(b,{__esModule:{value:!0}});b.yfa=b.MT=void 0;g=a(0);k=a(14);m=a(20);f=a(252);d=a(2);l=a(10);n=a(904);h=g.__importDefault(a(4));p=a(183);q=a(403);t=a(404);v=a(152);w=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{XK:{get:function(){return this.zma;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{dcb:{get:function(){return this.Gyb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{LKb:{get:function(){return this.Ewb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{fBa:{get:function(){return this.tAb;},enumerable:!1,configurable:!0}});x.prototype.set=function(y,z,A){this.Ewb=z === u.pQ?0:h.default.time.ia();this.Gyb=y;this.tAb=z;l.N && (0,d.assert)(!this.zma,"Invalid replacement of timeout value");this.zma=A;};x.prototype.complete=function(){this.zma=void 0;this.set(m.M.vv,u.pQ);};return x;})();(function(x){x[x.pQ=0]="none";x[x.kbb=1]="microTask";x[x.setTimeout=2]="setTimeout";})(u || (u={}));r=(function(x){function y(z,A,B){var C;void 0 === B && (B="unknown");C=x.call(this) || this;C.Ba=z;C.console=A;C.name=B;C.Eyb=0;C.wla=!1;C.vl=new w();C.wE=new k.$f();C.fm=new f.y3([],(0,n.U_a)(function(D,E){return D.lK.lm(E.lK);},function(D,E){return E.Tn.priority - D.Tn.priority;},function(D,E){return D.Tn.id > E.Tn.id?1:D.Tn.id < E.Tn.id?-1:0;}));C.xYa(z);return C;}g.__extends(y,x);Object.defineProperties(y.prototype,{Rac:{get:function(){return this.Ba.fk;},enumerable:!1,configurable:!0}});y.prototype.S0a=function(z,A){z=new (z.bind.apply(z,g.__spreadArray([void 0],g.__read(A),!1)))();z.id=this.Eyb++;z.FDb(this);this.hna(z);return z;};y.prototype.KA=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.S0a(q.dLa,z);};y.prototype.sRb=function(){var z;z={hasSchedule:! !this.vl.XK,schedule:this.vl.XK && ({sleepTime:this.vl.XK.I1a,originalSleepTime:this.vl.XK.W3b,clockSkewAdjustments:this.vl.XK.Ccb}),nextWakeup:this.vl.dcb.Z,timeScheduled:this.vl.LKb,scheduleType:u[this.vl.fBa],numTasks:this.fm.length,clock:{ir:this.Ba.fk,ct:this.Ba.currentTime.Z,sp:this.Ba.speed}};l.N && this.trace("audit",z);return z;};y.prototype.ZN=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.S0a(t.MRa,z);};y.prototype.A0a=function(z,A,B){return this.KA(function(){return g.__generator(this,function(C){switch(C.label){case 0:return [4,v.Rh.bG(A)];case 1:return (C.kb(),z(),[3,0]);case 2:return [2];}});},B);};y.prototype.xYa=function(z){var A;A=this;this.bE();this.wE.clear();this.Ba=z;this.wE.on(z,"stopStart",function(){return A.SQ();});this.wE.on(z,"clockAdjusted",function(){return A.uZ();});this.wE.on(z,"speedChanged",function(){return A.J3b();});this.uZ();this.emit("clockChanged");};y.prototype.J3b=function(){this.bE();this.SQ();};y.prototype.xb=function(){this.reset();};y.prototype.reset=function(){this.bE();this.fm.clear();};y.prototype.uZ=function(){var z,A;z=this;A=this.fm.map(function(B){return B.Tn;});this.bE();this.fm.clear();A.forEach(function(B){return z.hna(B,!1);});this.SQ();};y.prototype.hna=function(z,A){var B,C;void 0 === A && (A=!0);B=z.Lba();C=this.rkb(B);B={Tn:z,lK:C,sda:B};l.N && this.trace(("Adding task ").concat(z.name," for ").concat(C.Z));(0,d.assert)(!this.fm.contains(B));this.fm.push(B);A && this.SQ();};y.prototype.SQ=function(){var z,A,B,C,D;z=this;l.N && this.trace("recheck schedule task count:" + this.fm.length);if(this.Rac){if(this.wla)l.N && this.trace("already executing, bailing");else {B=this.vl.dcb;C=this.fm.qy();D=null !== (A=null === C || void 0 === C?void 0:C.lK) && void 0 !== A?A:m.M.vv;D.isFinite() && D.Zxa(B)?(this.bE(!1),this.Ba.currentTime.zi(D)?(this.vl.set(D,u.kbb),Promise.resolve().then(function(){z.vl.fBa === u.kbb && (z.vl.complete(),z.Tgb());})):(l.N && this.trace("scheduling next wake up for",{Fsc:D.Z,Tn:null === C || void 0 === C?void 0:C.Tn.name}),A=c(this.Ba,function(){z.vl.complete();z.Tgb();},D),this.vl.set(D,u.setTimeout,A))):D.isFinite() || this.vl.fBa !== u.setTimeout || this.bE(!1);}}else (l.N && this.trace("should check schedule is false, stopping"),this.bE());};y.prototype.Tgb=function(){var z,A,B;A=0;B=null === (z=this.fm.qy()) || void 0 === z?void 0:z.sda;try{for(this.wla=!0;1E4 > A++ && this.kec();){;}}finally{this.wla=!1;this.bE();1E4 < A && !this.MVb(B)?this.error(("Task scheduler executed more than ").concat(1E4) + " iterations in same tick"):(this.trace("Next tasks",this.fm.map(function(C){return {name:C.Tn.name,Gsc:C.lK.Z};})),this.SQ());}};y.prototype.MVb=function(z){var A,B;B=null === (A=this.fm.qy()) || void 0 === A?void 0:A.sda;return z && B && z.timestamp.equal(B.timestamp) && z.type === B.type?!1:!0;};y.prototype.kec=function(){var z,A,B;B=null !== (A=null === (z=this.fm.qy()) || void 0 === z?void 0:z.lK) && void 0 !== A?A:m.M.vv;l.N && this.trace(("tryExecuteNextTask @").concat(this.Ba.currentTime.Z,", next wakeup at ").concat(B));if(this.Ba.currentTime.zi(B) && (z=this.fm.pop())){A=z.Tn;l.N && this.trace("Running a task @" + this.Ba.currentTime.Z + ", scheduled for time:" + B.Z + ("Name:").concat(A.name));try{A.Jy();z.sda=A.Lba();z.lK=this.rkb(z.sda);}catch(C){throw (this.error(("Unhandled error from a task ").concat(A.name," occurred.") + " Removing the task from future executions:" + C,{stack:C.stack}),A.xb(),C);}finally{z.lK !== m.M.vv && A.state === p.co.Fda && ((0,d.assert)(!this.fm.contains(z)),this.fm.push(z));}return !0;}};y.prototype.Igb=function(z){(0,d.assert)(z.$d === this);this.oda(z,!1);this.hna(z);};y.prototype.oda=function(z,A){var B;void 0 === A && (A=!0);B=this.fm.find(function(C){return C.Tn === z;});B && this.E8b(B,A);};y.prototype.E8b=function(z,A){this.fm.remove(z);A && this.SQ();};y.prototype.bE=function(z){void 0 === z && (z=!0);this.vl.XK && (z && this.emit("stopping"),clearTimeout(this.vl.XK.id),this.vl.complete());};y.prototype.rkb=function(z){return z.type === v.Ija.absolute?z.timestamp:z.timestamp.add(this.Ba.currentTime);};y.prototype.trace=function(){for(var z,A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,g.__spreadArray([("TaskScheduler(").concat(this.name,"):")],g.__read(A),!1));};y.prototype.error=function(){for(var z,A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}null === (z=this.console) || void 0 === z?void 0:z.error.apply(z,g.__spreadArray([("TaskScheduler(").concat(this.name,"):")],g.__read(A),!1));};return y;})(k.EventEmitter);b.MT=r;b.yfa=function(x,y,z){var A;A=void 0;return (z || x.Ba.fk) && x.Ba.currentTime.zi(y)?{promise:Promise.resolve()}:{promise:new Promise(function(B){A=x.ZN(v.Rh.pw(y),B);}),Tn:A};};},function(r){function b(c,g,k,m){c.trace(":",k,":",m);g(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,g,k,m){k=m?k.bind(m):k;if(c){this.console && (k=b.bind(null,this.console,k,g));if("function" === typeof c.addListener)c.addListener(g,k);else if("function" === typeof c.addEventListener)c.addEventListener(g,k);else throw Error("Emitter does not have a function to add listeners for '" + g + "'");this.listeners.push([c,g,k]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(g){var k,m;k=g[0];m=g[1];g=g[2];"function" === typeof k.removeEventListener?k.removeEventListener(m,g):"function" === typeof k.removeListener && k.removeListener(m,g);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.U_a=void 0;c=a(0);g=a(10);k=a(2);b.U_a=function(){for(var m=[],f=0;f < arguments.length;f++){m[f]=arguments[f];}g.N && (0,k.assert)(m.length);return function(d,l){var n,q,t;try{for(var h=c.__values(m),p=h.next();!p.done;p=h.next()){q=p.value;t=q(d,l);if(0 !== t)return t;}}catch(w){var v;v={error:w};}finally{try{p && !p.done && (n=h.return) && n.call(h);}finally{if(v)throw v.error;}}return 0;};};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yf=void 0;r=a(0);r.__exportStar(a(406),b);r.__exportStar(a(906),b);r.__exportStar(a(407),b);r.__exportStar(a(907),b);r.__exportStar(a(908),b);r.__exportStar(a(909),b);r.__exportStar(a(408),b);r.__exportStar(a(911),b);c=a(55);Object.defineProperties(b,{yf:{enumerable:!0,get:function(){return c.yf;}}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(910),b);r.__exportStar(a(408),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var g;function c(k,m){var f;void 0 === m && (m=c);f="";k.GO && (f=null === k || void 0 === k?void 0:k.GO.map(m).reduce(function(d,l){return ("").concat(d,",").concat(l);}));return ("").concat(null === k || void 0 === k?void 0:k.name,"::").concat(null === k || void 0 === k?void 0:k.message,"::{").concat(null === k || void 0 === k?void 0:k.stack,"}[").concat(f,"]");}Object.defineProperties(b,{__esModule:{value:!0}});b.Ufa=void 0;g=a(0);r=(function(k){function m(f,d){f=k.call(this,m.VQb(f,d)) || this;f.Ywb=d;f.name="AggregateError";return f;}g.__extends(m,k);m.VQb=function(f,d){return d.reduce(function(l,n){return ("").concat(l,"\n").concat(n);},f);};m.stringify=function(f){return c(f);};Object.defineProperties(m.prototype,{GO:{get:function(){return this.Ywb;},enumerable:!1,configurable:!0}});return m;})(Error);b.Ufa=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(253),b);},function(r,b,a){var c,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.eFa=b.aga=b.J1=b.fFa=void 0;c=a(75);g=a(410);r=(function(){function f(d,l,n){var h,p;this.ska=d;this.im=l;this.nw=n;this.UUa=this.TUa=!1;this.C4=null !== (p=null === (h=d.Ui) || void 0 === h?void 0:h.map(function(q){return new g.dFa(q);})) && void 0 !== p?p:[];}Object.defineProperties(f.prototype,{Qo:{get:function(){return this.ska.Qo;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{dL:{get:function(){return this.ska.dL;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Mma:{get:function(){return this.ska.Mma;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ui:{get:function(){return this.C4;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{duration:{get:function(){return this.Ui.reduce(function(d,l){return d.add(l.endTime.Da(l.startTime));},c.M.Ha);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{aYb:{get:function(){return this.C4.every(function(d){return d.jB;});},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{jB:{get:function(){return this.C4.length?this.C4.every(function(d){return d.jB;}):this.TUa;},enumerable:!1,configurable:!0}});f.prototype.nac=function(){this.Ui.length || (this.TUa=!0);};Object.defineProperties(f.prototype,{hua:{get:function(){return this.UUa;},set:function(d){d && (this.UUa=!0);},enumerable:!1,configurable:!0}});return f;})();b.fFa=r;(function(f){f[f.start=0]="start";f[f.end=1]="end";})(k=b.J1 || (b.J1={}));m=(function(){function f(d,l){this.oca=d;this.Swb=l;}Object.defineProperties(f.prototype,{duration:{get:function(){return c.M.Ja(this.Swb);},enumerable:!1,configurable:!0}});Object.defineProperties(f,{fya:{get:function(){return this.mzb || (this.mzb=new f(k.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(f,{y2b:{get:function(){return this.lzb || (this.lzb=new f(k.end,0));},enumerable:!1,configurable:!0}});return f;})();b.aga=m;r=(function(){function f(d,l,n){this.Jp=d;this.IWa=l || m.fya;this.Wwb=n || m.fya;}Object.defineProperties(f.prototype,{rea:{get:function(){return this.IWa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{OW:{get:function(){return this.Wwb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{IVb:{get:function(){return this.IWa !== m.fya || this.OW !== m.y2b;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{duration:{get:function(){return this.Jp.duration.add(this.rea.duration).add(this.OW.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{mca:{get:function(){return this.rea.duration.add(this.OW.duration);},enumerable:!1,configurable:!0}});return f;})();b.eFa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c,g,k,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.jMa=void 0;c=a(0);g=a(14);k=a(254);m=a(975);f=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];r=(function(d){function l(n,h){var p;p=d.call(this) || this;p.L=n;p.gk=new m.oLa(n,h);p.ej=new g.$f();f.forEach(function(q){p.ej.on(p.gk,q,function(t){return p.emit(q,t);});});return p;}c.__extends(l,d);Object.defineProperties(l.prototype,{yc:{get:function(){return this.gk.yc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{yt:{get:function(){return this.gk.yt;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{cw:{get:function(){return this.gk.cw;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{e0:{get:function(){return this.gk.e0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Jva:{get:function(){return this.gk.Jva;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{lea:{get:function(){return this.gk.lea;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{hg:{get:function(){return this.gk.hg;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Xk:{get:function(){return this.gk.Xk;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Aua:{get:function(){return this.gk.Aua;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{LY:{get:function(){return this.gk.LY.bind(this.gk);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{psa:{get:function(){return this.gk.psa.bind(this.gk);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{toa:{get:function(){var n;n=this;return function(){n.gk.toa();};},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{r7:{get:function(){var n;n=this;return function(){n.gk.r7();};},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{LH:{get:function(){var n;n=this;return function(h,p,q){var t;null === (t=n.hg) || void 0 === t?void 0:t.LH(h,p,q);};},enumerable:!1,configurable:!0}});l.prototype.oa=function(n,h,p,q,t,v){this.gk.oa(n,h,p,q,t,v);};l.prototype.createSession=function(n,h,p,q,t,v,w,u,x,y){u || (u=this.gk.config);return this.gk.createSession(n,h,p,q,t,v,w,u,x,y);};l.prototype.fL=function(){throw Error("Update viewable not supported in legacy.");};l.prototype.addEventListener=function(n,h){this.addListener(n,h);return !0;};l.prototype.removeEventListener=function(n,h){this.removeListener(n,h);return !0;};l.prototype.xb=function(){this.ej.clear();this.gk.xb();k.sL.reset();};return l;})(g.EventEmitter);b.jMa=r;},function(r,b,a){r.exports={tub:a(919),Uhc:a(920)};},function(r,b,a){function c(d){this.data=d;this.right=this.left=null;this.red=!0;}function g(d){this.Cf=null;this.ho=d;this.size=0;}function k(d){return null !== d && d.red;}function m(d,l){var n;n=d.ai(!l);d.Yr(!l,n.ai(l));n.Yr(l,d);d.red=!0;n.red=!1;return n;}function f(d,l){d.Yr(!l,m(d.ai(!l),!l));return m(d,l);}b=a(411);c.prototype.ai=function(d){return d?this.right:this.left;};c.prototype.Yr=function(d,l){d?this.right=l:this.left=l;};g.prototype=new b();g.prototype.No=function(d){var l,n,h,p,q,t,v,w,u;l=!1;if(null === this.Cf)(this.Cf=new c(d),l=!0,this.size++);else {n=new c(void 0);h=0;p=0;q=null;t=n;v=null;w=this.Cf;for(t.right=this.Cf;;){null === w?(w=new c(d),v.Yr(h,w),l=!0,this.size++):k(w.left) && k(w.right) && (w.red=!0,w.left.red=!1,w.right.red=!1);if(k(w) && k(v)){u=t.right === q;w === v.ai(p)?t.Yr(u,m(q,!p)):t.Yr(u,f(q,!p));}u=this.ho(w.data,d);if(0 === u)break;p=h;h=0 > u;null !== q && (t=q);q=v;v=w;w=w.ai(h);}this.Cf=n.right;}this.Cf.red=!1;return l;};g.prototype.remove=function(d){var l,n,v,w,u;if(null === this.Cf)return !1;l=new c(void 0);n=l;n.right=this.Cf;for(var h=null,p,q=null,t=1;null !== n.ai(t);){v=t;p=h;h=n;n=n.ai(t);w=this.ho(d,n.data);t=0 < w;0 === w && (q=n);if(!k(n) && !k(n.ai(t)))if(k(n.ai(!t)))(p=m(n,t),h.Yr(v,p),h=p);else if(!k(n.ai(!t)) && (w=h.ai(!v),null !== w))if(k(w.ai(!v)) || k(w.ai(v))){u=p.right === h;k(w.ai(v))?p.Yr(u,f(h,v)):k(w.ai(!v)) && p.Yr(u,m(h,v));v=p.ai(u);v.red=!0;n.red=!0;v.left.red=!1;v.right.red=!1;}else (h.red=!1,w.red=!0,n.red=!0);}null !== q && (q.data=n.data,h.Yr(h.right === n,n.ai(null === n.left)),this.size--);this.Cf=l.right;null !== this.Cf && (this.Cf.red=!1);return null !== q;};r.exports=g;},function(r,b,a){function c(k){this.data=k;this.right=this.left=null;}function g(k){this.Cf=null;this.ho=k;this.size=0;}b=a(411);c.prototype.ai=function(k){return k?this.right:this.left;};c.prototype.Yr=function(k,m){k?this.right=m:this.left=m;};g.prototype=new b();g.prototype.No=function(k){if(null === this.Cf)return (this.Cf=new c(k),this.size++,!0);for(var m=0,f=null,d=this.Cf;;){if(null === d)return (d=new c(k),f.Yr(m,d),ret=!0,this.size++,!0);if(0 === this.ho(d.data,k))return !1;m=0 > this.ho(d.data,k);f=d;d=d.ai(m);}};g.prototype.remove=function(k){var m,f,h;if(null === this.Cf)return !1;m=new c(void 0);f=m;f.right=this.Cf;for(var d=null,l=null,n=1;null !== f.ai(n);){d=f;f=f.ai(n);h=this.ho(k,f.data);n=0 < h;0 === h && (l=f);}return null !== l?(l.data=f.data,d.Yr(d.right === f,f.ai(null === f.left)),this.Cf=m.right,this.size--,!0):!1;};r.exports=g;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.lNa=void 0;c=a(22);g=a(2);r=(function(){function k(){this.data={};}Object.defineProperties(k.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{size:{get:function(){var m;m=this;return Object.keys(this.data).reduce(function(f,d){return f + m.data[d].length;},0);},enumerable:!1,configurable:!0}});k.prototype.get=function(m){var f;return null !== (f=this.data[m]) && void 0 !== f?f:[];};k.prototype.has=function(m,f){return (m=this.data[m])?void 0 === f?!0:-1 !== m.indexOf(f):!1;};k.prototype.count=function(m){return (m=this.data[m])?m.length:0;};k.prototype.keys=function(){return Object.keys(this.data);};k.prototype.values=function(){var m;m=this;return (0,c.flatten)(this.keys().map(function(f){return m.data[f];}));};k.prototype.set=function(m,f){(this.data[m] || (this.data[m]=[])).push(f);return this;};k.prototype.clear=function(){this.data={};};k.prototype.delete=function(m,f){var d,l;d=this.data[m];if(void 0 === d)return !1;if(void 0 === f)return ((0,g.assert)(1 === arguments.length),delete this.data[m],!0);l=d.indexOf(f);if(-1 === l)return !1;1 === d.length?delete this.data[m]:d.splice(l,1);return !0;};k.prototype.forEach=function(m,f){var d;d=this;m=void 0 !== f?m.bind(f):m;this.keys().forEach(function(l){return d.data[l].forEach(function(n){return m(n,l,d);});});};k.prototype.reduce=function(m,f,d){var l,n;l=this;m=void 0 !== d?m.bind(d):m;n=f;this.forEach(function(h,p){n=m(n,h,p,l);});return n;};k.prototype.map=function(m,f){var d;d=this;m=void 0 !== f?m.bind(f):m;return (0,c.flatten)(this.keys().map(function(l){return d.data[l].map(function(n){return m(n,l,d);});}));};k.prototype.filter=function(m,f){var d;d=this;m=void 0 !== f?m.bind(f):m;return (0,c.flatten)(this.keys().map(function(l){return d.data[l].filter(function(n){return m(n,l,d);});}));};return k;})();b.lNa=r;},function(r,b,a){var g,k;function c(m,f,d){var l;void 0 === d && (d={});l=g.__assign(g.__assign({},k),d);return m.filter(function(n){var h;h=n.Oc;n=n.jd;return ! !n && n.bF(f) && (!l.N_a || h.zi(f));});}Object.defineProperties(b,{__esModule:{value:!0}});b.zra=b.EPb=b.Jra=void 0;g=a(0);k={N_a:!1};b.Jra=function(m,f,d){void 0 === d && (d={});return c(m,f,d).pop();};b.EPb=c;b.zra=function(m,f,d){return m.filter(function(l){var n;n=l.Oc;l=l.jd;return ! !l && ! !n && (l.zi(f) && l.bF(d) || n.zi(f) && n.bF(d) || l.bF(f) && n.zi(d));});};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KRa=b.JRa=void 0;c=a(22);r=(function(){function g(k){this.Ra=k;this.listeners=[];this.DZ=[];}Object.defineProperties(g.prototype,{value:{get:function(){return this.Ra;},enumerable:!1,configurable:!0}});g.prototype.set=function(k){var m;this.Ra=k;m=this.DZ;this.DZ=[];this.listeners.forEach(function(f){return f(k);});m.forEach(function(f){return f(k);});};g.prototype.Egb=function(){this.Ra=void 0;};g.prototype.on=function(k){this.listeners=this.listeners.concat([k]);void 0 !== this.Ra && k(this.Ra);};g.prototype.once=function(k){void 0 !== this.Ra?k(this.Ra):this.DZ.push(k);};g.prototype.ly=function(k){this.listeners=this.listeners.filter(function(m){return m !== k;});this.DZ=this.DZ.filter(function(m){return m !== k;});};return g;})();b.JRa=r;r=(function(){function g(){this.listeners=[];}g.prototype.on=function(k,m){this.listeners.push({signal:k,listener:m});k.on(m);};g.prototype.once=function(k,m){var f,d;f=this;if(void 0 === k.value){d=function(l){f.remove(k,m);m(l);};this.listeners.push({signal:k,listener:m,Hmb:d});k.once(d);}else k.once(m);};g.prototype.ly=function(k,m){var f,d;d=(0,c.$c)(this.listeners,function(l){return l.signal === k && l.listener === m;});void 0 !== d && k.ly(null !== (f=d.Hmb) && void 0 !== f?f:d.listener);this.remove(k,m);};g.prototype.removeAllListeners=function(){this.listeners.forEach(function(k){var m,f;m=k.listener;f=k.Hmb;return k.signal.ly(null !== f && void 0 !== f?f:m);});this.listeners=[];};g.prototype.remove=function(k,m){this.listeners=this.listeners.filter(function(f){return f.signal !== k || f.listener !== m;});};return g;})();b.KRa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.PC=b.Dva=void 0;b.Dva=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};r=(function(){function a(){var c;c=this;this.yWa=!1;this.promise=new Promise(function(g){c.wWa=g;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{NAa:{get:function(){return this.yWa;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(c){var g;this.yWa=!0;null === (g=this.wWa) || void 0 === g?void 0:g.call(this,c);this.wWa=void 0;};return a;})();b.PC=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.u1a=void 0;b.u1a=function(a){return JSON.parse(JSON.stringify(a));};},function(r,b,a){var g;function c(k,m,f){var d,n,h;if(k === m || !f.Sn && k == m)return !0;if(typeof k !== typeof m)return !1;if(k && "object" === typeof k){for(var l in k){if(!c(k[l],m[l],f))return !1;}if(!f.rGb){n=Object.keys(k);h=Object.keys(m).filter(function(v){return 0 > n.indexOf(v);});try{for(var p=g.__values(h),q=p.next();!q.done;q=p.next()){if((l=q.value,!c(k[l],m[l],f)))return !1;}}catch(v){var t;t={error:v};}finally{try{q && !q.done && (d=p.return) && d.call(p);}finally{if(t)throw t.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.a8=void 0;g=a(0);b.a8=function(k,m,f){void 0 === f && (f={});f=g.__assign({Sn:!1,rGb:!1},f);return c(k,m,f);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OG=void 0;r=(function(){function a(){this.count=0;this.max=this.min=this.va=NaN;}Object.defineProperties(a.prototype,{It:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.va=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.va+=(c - this.va) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.va,count:this.count};};return a;})();b.OG=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(413);r=(function(){function g(k,m){this.va=k;this.ye=m;}g.prototype.TZa=function(k){return .5 * (0,c.EO)(-(k - this.va) / Math.sqrt(2 * this.ye));};g.prototype.wy=function(k){return this.va - Math.sqrt(2 * this.ye) * (0,c.b8a)(2 * k);};return g;})();b.default=r;},function(r,b,a){r.exports={roc:a(415),Lrc:a(256),Xhc:a(930),Tga:a(257),Whc:a(416),Yhc:a(417),Mqb:a(418)};},function(r,b,a){var k,m,f,d;function c(l,n,h){k.call(this,l,n,h);}function g(l,n){m.call(this,new c(l,n,!1));}k=a(931);m=a(932);f=a(104).uRb;d=a(104).RUb;c.prototype=Object.create(k.prototype);c.prototype.va=function(){return Math.floor(8 * f(this.de) / this.Vd);};c.prototype.ye=function(){return Math.floor(64 * d(this.de) / (this.Vd * this.Vd));};c.prototype.get=function(){return {va:this.va(),ye:this.ye(),enc:this.de.length};};c.prototype.toString=function(){return "bsw(" + this.hN + "," + this.Vd + "," + this.Lk + ")";};g.prototype=Object.create(m.prototype);g.prototype.setInterval=function(l){this.uM.setInterval(l);};r.exports=g;},function(r){function b(a,c,g){this.hN=a;this.Lk=Math.floor((a + c - 1) / c);this.Vd=c;this.Yzb=g;this.reset();}b.prototype.shift=function(){this.de.shift();this.Si.shift();};b.prototype.update=function(a,c){this.de[a]+=c;};b.prototype.push=function(a){this.de.push(0);this.Si.push(a?a:0);this.yb+=this.Vd;};b.prototype.add=function(a,c,g,k){var m,f;if(null === this.yb){m=Math.max(Math.floor((g - c + this.Vd - 1) / this.Vd),1);for(this.yb=c;this.de.length < m;){this.push(k);}}for(;this.yb < g;){if((this.push(k),this.Yzb))for(;1 < this.de.length && g + k - (this.yb - this.Vd * this.de.length + this.Si[0]) > this.hN;){this.shift();}else this.de.length > this.Lk && this.shift();}if(c > this.yb - this.Vd)this.update(this.de.length - 1,a);else if(c == g)(k=this.de.length - Math.max(Math.ceil((this.yb - g) / this.Vd),1),0 <= k && this.update(k,a));else for(k=1;k <= this.de.length;++k){m=this.yb - k * this.Vd;f=m + this.Vd;if(!(m > g)){if(f < c)break;this.update(this.de.length - k,Math.round(a * (Math.min(f,g) - Math.max(m,c)) / (g - c)));}}for(;this.de.length > this.Lk;){this.shift();}};b.prototype.reset=function(){this.de=[];this.Si=[];this.yb=null;};b.prototype.setInterval=function(a){this.Lk=Math.floor((a + this.Vd - 1) / this.Vd);};r.exports=b;},function(r){function b(a){this.uM=a;this.Pb=0;this.cN=null;}b.prototype.add=function(a,c,g){null !== this.cN && c > this.cN && (this.Pb+=c - this.cN,this.cN=null);this.uM.add(a,c - this.Pb,g - this.Pb,this.Pb);};b.prototype.stop=function(a){null === this.cN && (this.cN=a);};b.prototype.uza=function(a,c){return this.uM.uza(a,c);};b.prototype.get=function(){return this.uM.get();};b.prototype.reset=function(){this.uM.reset();};b.prototype.toString=function(){return this.uM.toString();};r.exports=b;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.s3=void 0;c=a(413);r=(function(){function g(k,m){this.Lxa=k;this.ye=m;0 < m?(this.b$a=m=Math.pow(k,3) / m,k=2 * m / k,500 >= k && (this.ora=Math.exp(k))):this.ora=0;}g.prototype.TZa=function(k){var m,f,d;m=this.Lxa;f=this.ora;if(f && 0 < k){d=Math.sqrt(this.b$a / (2 * k));m=k / m;k=(0,c.EO)(d * (m - 1));d=(0,c.EO)(d * (m + 1));return Math.max((2 - k + f * d) / 2,0);}return k < m?0:k > m?1:.5;};g.prototype.wy=function(k,m,f){for(var d=0,l=this.Lxa + 5 * Math.sqrt(this.ye),n=1,h=0;Math.abs(n) > m && f--;){h=(d + l) / 2;n=this.TZa(h);n=k - n;0 > n?l=h:d=h;}return h;};g.prototype.XFb=function(k){var m,f,d,l;m=this.Lxa;f=this.ora;if(f && 0 < k){d=Math.sqrt(this.b$a / (2 * k));l=k / m;k=2 - (0,c.EO)(d * (l - 1));f*=(0,c.EO)(d * (l + 1));return [Math.max((k + f) / 2,0),Math.max(m * (k - f) / 2,0)];}return k < m?[0,0]:k > m?[1,m]:[.5,m / 2];};return g;})();b.s3=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.TGa=void 0;c=a(0);g=a(186);new (c.__importDefault(a(4)).default.Console)("ASEJS_TDIGEST_FILTER","media|asejs");r=(function(){function k(m){this.config=m;this.wpa=m.c;this.dxa=m.aqc;this.MY=m.MY;this.WX=m.WX;this.Q$=m.Q$;this.Tac=m.Knc;this.WI=m.WI;this.zab=m.zab;this.reset();}k.prototype.reset=function(){this.Wg=new g.Wja(this.wpa,this.dxa);this.yb=null;};k.prototype.add=function(m,f,d){var l,n,h,t;d=Math.max(d - f,1);m=8 * m / d;if(this.Tac){null === this.yb && (this.yb=f);n=Math.pow(2,(f - this.yb) / this.WI);h=d * n;if(n >= this.zab){h=new g.Wja(this.wpa,this.dxa);try{for(var p=c.__values(this.Wg.Vn()),q=p.next();!q.done;q=p.next()){t=q.value;h.push(t.kg,t.n / n);}}catch(w){var v;v={error:w};}finally{try{q && !q.done && (l=p.return) && l.call(p);}finally{if(v)throw v.error;}}this.Wg=h;h=d;this.yb=f;}this.Wg.push(m,h);}else this.Wg.push(m,d);};k.prototype.get=function(){var m;m=this.Wg.Gj([this.MY,this.WX,this.Q$]);return {low:m[0] || 0,high:m[1] || 0,initial:m[2] || 0};};k.prototype.vi=function(){var m,f,d,h;f=new k(this.config);d=new g.Wja(this.wpa,this.dxa);try{for(var l=c.__values(this.Wg.Vn()),n=l.next();!n.done;n=l.next()){h=n.value;d.push(h.kg,h.n);}}catch(q){var p;p={error:q};}finally{try{n && !n.done && (m=l.return) && m.call(l);}finally{if(p)throw p.error;}}f.Wg=d;return f;};k.prototype.flush=function(){};k.prototype.start=function(){};k.prototype.stop=function(){};return k;})();b.TGa=r;},function(r,b,a){var g;function c(){this.Jk=void 0;this.BD=0;}g=a(11);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.BD && this.Jk?{p25:this.Jk.Nl,p50:this.Jk.mk,p75:this.Jk.Ol,c:this.BD}:null;};c.prototype.Jd=function(k){if(!(!g.tb(k) && g.has(k,"p25") && g.has(k,"p50") && g.has(k,"p75") && g.has(k,"c") && g.isFinite(k.p25) && g.isFinite(k.p50) && g.isFinite(k.p75) && g.isFinite(k.c)))return (this.Jk=void 0,this.BD=0,!1);this.Jk={Nl:k.p25,mk:k.p50,Ol:k.p75};this.BD=k.c;};c.prototype.get=function(){return {uca:this.Jk,gl:this.BD};};c.prototype.set=function(k,m){this.Jk=k;this.BD=m;};c.prototype.reset=function(){this.Jk=void 0;this.BD=0;};c.prototype.toString=function(){return "IQRHist(" + this.Jk + "," + this.BD + ")";};r.exports=c;},function(r,b,a){var g;function c(k){var m,f;m=k.sw;f=k.mw;this.gN=m;this.yka={uhd:k.uhdl,hd:k.hdl};this.Lk=Math.max(Math.ceil(1 * m / f),1);this.xyb=k.mins || 1;g.call(this,m,f);this.reset();}g=a(153);new (a(4).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(g.prototype);c.prototype.flush=function(){this.de.map(function(k,m){this.IXa(k,this.jsa(m));},this);};c.prototype.oFb=function(){var k,m,f,d,l,n,h,v;k=this.yka;for(m in k){if(k.hasOwnProperty(m)){f=k[m];d=this.Bma[m];l=this.Ama[m];if(d.first){n=d.first;h=d.bK;void 0 !== h && (l[n][h]+=1);d.first=void 0;}d=[];n=0;f=h=f.length + 1;for(var p=0;p < h;p++){for(var q=0,t=0;t < f;t++){q+=l[t][p];}n+=q;d.push(q);}q=-1;if(n > this.xyb){for(p=q=0;p < h;p++){if(0 < d[p])for(t=0;t < f;t++){v=l[t][p];0 < v && (q-=v * Math.log(1 * v / d[p]));}}q/=n * Math.log(2);}this.$ka[m]=q;}}return this.$ka;};c.prototype.IXa=function(k,m){var n,h;for(var f=this.Lk,d=this.yka;this.d5.length >= f;){this.d5.shift();}for(;this.e5.length >= f;){this.e5.shift();}this.d5.push(k);this.e5.push(m);k=this.d5.reduce(function(p,q){return p + q;},0);m=this.e5.reduce(function(p,q){return p + q;},0);if(0 < m){k=8 * k / m;for(var l in d){if(d.hasOwnProperty(l)){m=this.Bma[l];f=this.Ama[l];n=this.j7b(k,d[l]);h=m.bK;void 0 !== h?f[n][h]+=1:m.first=n;m.bK=n;}}}};c.prototype.j7b=function(k,m){for(var f=0;f < m.length && k > m[f];){f+=1;}return f;};c.prototype.shift=function(){this.IXa(this.de[0],this.jsa(0));g.prototype.shift.call(this);};c.prototype.reset=function(){var k,m,f,d,l,n,h;this.Bma={};this.d5=[];this.e5=[];this.Ama={};this.$ka={};k=this.yka;for(m in k){if(k.hasOwnProperty(m)){f=this.Ama;d=m;n=void 0;h=Array(n);n=l=k[m].length + 1;for(var p=0;p < n;p++){h[p]=Array(l);for(var q=0;q < l;q++){h[p][q]=0;}}f[d]=h;this.Bma[m]={first:void 0,bK:void 0};this.$ka[m]=0;}}g.prototype.reset.call(this);};r.exports=c;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.VPa=void 0;r=(function(){function a(c,g){this.sj=0;this.filter=c;this.Ica=g;this.sj=0;}a.prototype.SY=function(c){return 0 < this.Ica.filter(function(g){var k;return g === (null === (k=c.lC) || void 0 === k?void 0:k.df);}).length;};a.prototype.add=function(c,g,k,m){this.SY(m) && this.filter.add(c,g,k,m);};a.prototype.start=function(c,g){this.filter.start && this.SY(g) && this.filter.start(c);};a.prototype.stop=function(c,g){this.filter.stop && this.SY(g) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.sj=0;this.filter.reset && this.filter.reset();};a.prototype.Yv=function(c,g){this.SY(g) && (this.sj+=1,this.filter.Yv && this.filter.Yv(c,g));};a.prototype.Gy=function(c,g,k){this.SY(k) && (this.sj=Math.max(this.sj - 1,0),0 === this.sj && this.stop(c,k),this.filter.Gy && this.filter.Gy(c,k));};return a;})();b.VPa=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.XEa=void 0;c=a(0);g=a(939);r=(function(){function k(m,f){this.Pl=m;this.filter=f;this.Cab=Math.max(m.max_n || 10,0);this.reset();}k.prototype.reset=function(){this.q_=[];this.offset=0;this.Qy=this.SF=null;this.filter.reset();this.J0=null;};k.prototype.add=function(m,f,d){var l;l=this.Qy;null !== l && d > l && (this.offset+=Math.max(f - l,0),this.Qy=null);for((0,g.I8a)(this.q_,[f - this.offset,d - this.offset,m]);this.q_ && this.q_.length > this.Cab;){m=c.__read(this.q_.shift(),3);this.filter.add(m[2],m[0],m[1]);}this.J0=null;};k.prototype.get=function(m,f){var d,h;if(!this.J0){this.J0=this.filter.vi();try{for(var l=c.__values(this.q_),n=l.next();!n.done;n=l.next()){h=c.__read(n.value,3);this.J0.add(h[2],h[0],h[1]);}}catch(q){var p;p={error:q};}finally{try{n && !n.done && (d=l.return) && d.call(l);}finally{if(p)throw p.error;}}}p=this.Qy;return this.J0.get((null === p?m:p) - this.offset,f);};k.prototype.vi=function(){var m;m=new k(this.Pl,this.filter.vi());m.Qy=this.Qy;m.offset=this.offset;return m;};k.prototype.start=function(m){var f;f=this.Qy;null !== f && m > f && (this.offset+=m - f,this.Qy=null);this.filter.start(m - this.offset);};k.prototype.stop=function(m){this.Qy=null === this.Qy?m:Math.min(this.Qy,m);this.filter.stop(m - this.offset);};k.prototype.flush=function(){this.filter.flush();};k.prototype.toString=function(){return "AggregatingFilter(" + this.Cab + ", " + this.filter.toString() + ")";};return k;})();b.XEa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.I8a=void 0;c=a(0);b.I8a=function(g,k){var l,n,h,p,q,t,v,x,y,z,A,B,C,D;for(var m,f,d=0;d < g.length;d++){l=c.__read(k,3);n=l[0];h=l[1];p=l[2];q=c.__read(g[d],3);t=q[0];l=q[1];v=q[2];if(!(n >= l)){n=[n,Math.min(l,h),t,l].filter(function(E,G,F){return F.indexOf(E) === G;}).sort(function(E,G){return E - G;});t=n.length - 1;q=Array(t);p+=v;try{for(var w=(m=void 0,c.__values([k,g[d]])),u=w.next();!u.done;u=w.next()){x=c.__read(u.value,3);y=x[0];z=x[1];A=x[2];v=z - y;for(k=0;k < t;k++){B=n[k + 1];C=Math.min(B,z) - Math.max(n[k],y);if(0 < C){D=C * A / v;p-=D;q[k]=q[k]?q[k] + D:D;}if(z <= B)break;}}}catch(E){m={error:E};}finally{try{u && !u.done && (f=w.return) && f.call(w);}finally{if(m)throw m.error;}}v=[];for(k=0;k < t;k++){A=q[k];0 < A && v.push([n[k],n[k + 1],A]);}g.splice.apply(g,c.__spreadArray([d,1],c.__read(v),!1));if(l < h)k=[l,h,p];else return;}}k && 0 < k[2] && g.splice(g.length,0,k);};},function(r,b,a){var g,k;function c(m){this.L=m;this.zU();}g=a(11);k=a(4).default;new k.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var m;m=this.getState();k.storage.set("nh",m);};c.prototype.Pbc=function(){this.DH || (this.DH=!0,this.Zz=k.time.ia());};c.prototype.Xbc=function(){var m;if(this.DH){m=k.time.ia();this.dA+=m - this.Zz;this.Zz=m;this.DH=!1;this.xU=null;}};c.prototype.P8a=function(m,f){this.DH && (f > this.Zz && (this.dA+=f - this.Zz,this.Zz=f),null === this.xU || m > this.xU) && (m=f - m,this.IM.push([this.dA - m,m]),this.$Ab(),this.xU=f);};c.prototype.$Ab=function(){var m;m=this.dA - this.L.Q1b;this.IM=this.IM.filter(function(f){return f[0] > m;});};c.prototype.zU=function(){var m;m=k.storage.get("nh");this.rma(m) || (this.Zz=k.time.ia(),this.dA=0,this.DH=!1,this.xU=null,this.IM=[]);};c.prototype.rma=function(m){if(!(m && g.has(m,"t") && g.has(m,"s") && g.has(m,"i") && g.Oa(m.t) && g.Oa(m.s) && g.isArray(m.i)))return !1;this.Zz=k.time.eya(1E3 * m.t);this.dA=1E3 * m.s;this.DH=!1;this.IM=m.i.map(function(f){return [1E3 * f[0],f[1]];});this.xU=null;return !0;};c.prototype.getState=function(){return this.DH?{t:k.time.now() / 1E3 | 0,s:(this.dA + (k.time.ia() - this.Zz)) / 1E3 | 0,i:this.IM.map(function(m){return [m[0] / 1E3 | 0,m[1]];})}:{t:k.time.Ixa(this.Zz) / 1E3 | 0,s:this.dA / 1E3 | 0,i:this.IM.map(function(m){return [m[0] / 1E3 | 0,m[1]];})};};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rNa=void 0;r=a(0).__importDefault(a(4));c=a(6);new r.default.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function g(k,m){this.config=k;this.Yba=m;this.reset();}g.prototype.reset=function(){this.confidence=c.aD.HAVE_NOTHING;this.startTime=this.ea=0;};g.prototype.vi=function(){var k;k=new g(this.config,this.Yba);k.confidence=this.confidence;k.ea=this.ea;k.startTime=this.startTime;return k;};g.prototype.add=function(k,m,f){0 === this.startTime && (this.startTime=m,this.ea=0);this.ea+=k;k=f - this.startTime;this.confidence=Math.max(this.confidence,c.aD.RC);this.confidence < c.aD.QC && (k > this.config.wyb || this.ea > this.config.vyb) && (this.confidence=c.aD.QC);this.confidence < c.aD.RS && (k > this.config.Pzb || this.ea > this.config.Ozb) && (this.confidence=c.aD.RS,this.Yba());};g.prototype.get=function(){return this.confidence;};g.prototype.start=function(){};g.prototype.stop=function(){};g.prototype.flush=function(){};return g;})();b.rNa=a;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.bha=void 0;r=a(0);c=a(943);g=a(6);new (r.__importDefault(a(4)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){function k(m){var a10;a10=2;for(;a10 !== 4;){switch(a10){case 2:var a4T="1S";a4T+="IYbZrN";a4T+="J";a4T+="Cp";a4T+="9";this.Iua=m;this.TA={};a4T;a10=4;break;}}}var Z00;Z00=2;for(;Z00 !== 7;){switch(Z00){case 3:k.prototype.Jo=function(){var f10;f10=2;for(;f10 !== 1;){switch(f10){case 2:return this.TF.get();break;}}};k.prototype.glb=function(m){var g10,f,d;g10=2;for(;g10 !== 5;){switch(g10){case 2:(f=Object.keys(this.TA).map(function(l){var h10;h10=2;for(;h10 !== 1;){switch(h10){case 2:return parseInt(l);break;case 4:return parseInt(l);break;h10=1;break;}}}),d=this.TA[f[0]]);1 === f.length && !1 === d.U8?(this.TF.start(m,d.Tk),this.jV=d.Tk):1 < f.length && this.jV && (f=this.TA[this.jV],this.TF.stop(m,this.jV),f.U8=!1,this.jV=void 0);g10=5;break;}}};return k;break;case 2:k.prototype.reset=function(){var b10;b10=2;for(;b10 !== 1;){switch(b10){case 2:this.TF=new c.FGa();b10=1;break;}}};k.prototype.Yv=function(m,f){var c10;c10=2;for(;c10 !== 1;){switch(c10){case 2:f.Tk && (this.Iua?this.TF.start(m,f.Tk):f.type === g.u.J && (this.TA[f.Tk]?this.TA[f.Tk].f1+=1:this.TA[f.Tk]={Tk:f.Tk,f1:1,U8:!1},this.glb(m)));c10=1;break;}}};k.prototype.Gy=function(m,f){var d10,d;d10=2;for(;d10 !== 9;){switch(d10){case 2:d10=f.Tk?1:9;break;case 1:d10=this.Iua?5:4;break;case 6:d10=this.Iua?3:5;break;d10=this.Iua?5:4;break;case 5:this.TF.stop(m,f.Tk);d10=9;break;case 4:d=this.TA[f.Tk];f.type === g.u.J && d && (--d.f1,0 === d.f1 && (d.U8 && this.TF.stop(m,f.Tk),d.U8=!1,delete this.TA[f.Tk]),this.glb(m));d10=9;break;case 7:d10=f.Tk?3:8;break;d10=f.Tk?1:9;break;}}};k.prototype.LD=function(m,f,d,l){var e10;e10=2;for(;e10 !== 1;){switch(e10){case 2:l.Tk && (this.Iua?this.TF.add(m,f,d,l.Tk):this.jV === l.Tk && this.TF.add(m,f,d,l.Tk));e10=1;break;}}};Z00=3;break;}}})();b.bha=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.FGa=void 0;c=a(0).__importDefault(a(258));r=(function(){var i10;i10=2;for(;i10 !== 9;){switch(i10){case 2:g.prototype.add=function(k,m,f,d){var k10,l;k10=2;for(;k10 !== 4;){switch(k10){case 2:l=this.H5;void 0 === l[d] && (l[d]=new c.default());l[d].add(k,m,f);k10=4;break;}}};g.prototype.start=function(k,m){var l10,f;l10=2;for(;l10 !== 4;){switch(l10){case 5:f[m].start(k);l10=4;break;case 2:f=this.H5;void 0 === f[m] && (f[m]=new c.default());l10=5;break;}}};i10=5;break;case 5:g.prototype.stop=function(k,m){var m10,f;m10=2;for(;m10 !== 5;){switch(m10){case 2:f=this.H5;void 0 !== f[m] && f[m].stop(k);m10=5;break;}}};g.prototype.get=function(){var n10,k,m,f,d,l,n;n10=2;for(;n10 !== 8;){switch(n10){case 2:(k=this.H5,m=Object.keys(k).map(function(h){var o10;o10=2;for(;o10 !== 1;){switch(o10){case 4:return parseInt(h);break;o10=1;break;case 2:return parseInt(h);break;}}}),f=[],d=0);n10=1;break;case 1:n10=d < m.length?5:9;break;case 5:(l=m[d],n=k[l].get());n && f.push({cdnid:l,avtp:n.va,tm:n.p8});n10=3;break;case 9:return f;break;case 3:d++;n10=1;break;}}};return g;break;}}function g(){var j10;j10=2;for(;j10 !== 5;){switch(j10){case 3:this.H5={};"";j10=6;break;j10=5;break;case 2:var W4T="1S";W4T+="IYbZ";W4T+="rNJCp";W4T+="9";this.H5={};W4T;j10=5;break;}}}})();b.FGa=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.iOa=void 0;r=a(0);c=a(6);g=r.__importDefault(a(258));a=(function(){var q10;q10=2;for(;q10 !== 3;){switch(q10){case 2:k.prototype.reset=function(){var s10;s10=2;for(;s10 !== 4;){switch(s10){case 2:this.E_=[0,0];this.Hg=[0,0];this.IZ=[0,0];s10=4;break;}}};k.prototype.LD=function(m,f,d,l){var t10,n,h;t10=2;for(;t10 !== 8;){switch(t10){case 4:(this.E_[l.type]+=m,this.tdb.add(m,f,d),this.Iya[l.type].add(m,f,d));t10=3;break;case 2:this.Hg[l.type]+=m;t10=5;break;case 5:t10=(null === (n=l.F_) || void 0 === n?0:n.iaa())?4:3;break;case 3:t10=(null === (h=l.F_) || void 0 === h?0:h.Zwa(m,f,d,this.JZ))?9:8;break;case 9:this.IZ[l.type]+=m;t10=8;break;}}};k.prototype.Q9=function(){var u10;u10=2;for(;u10 !== 1;){switch(u10){case 2:return {bytesRequestedPacingVideo:this.E_[c.u.J],bytesRequestedPacingAudio:this.E_[c.u.V],estimatedBytesPacedVideo:this.IZ[c.u.J],estimatedBytesPacedAudio:this.IZ[c.u.V],bytestotalVideo:this.Hg[c.u.J],bytestotalAudio:this.Hg[c.u.V],pacedAvtpVideo:this.Iya[c.u.J].get().va,pacedAvtpAudio:this.Iya[c.u.V].get().va,pacedAvtp:this.tdb.get().va};break;}}};return k;break;}}function k(m){var r10;r10=2;for(;r10 !== 7;){switch(r10){case 3:this.JZ=m.JZ;this.Iya=[new g.default(),new g.default()];this.tdb=new g.default();r10=7;break;case 2:var M4T="1S";M4T+="I";M4T+="Yb";M4T+="Z";M4T+="rNJCp9";this.E_=[0,0];this.Hg=[0,0];this.IZ=[0,0];M4T;r10=3;break;}}}})();b.iOa=a;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(259);r.__exportStar(a(946),b);r.__exportStar(a(260),b);},function(r,b,a){var g,k,m,f,d,l,n;function c(h){if(-1 !== m.b1.indexOf(h))return h;for(var p,q=0;q < m.b1.length;++q){if(-1 !== h.indexOf(m.b1[q])){p=m.b1[q];break;}}d.assert(p);return p;}Object.defineProperty(b,"__esModule",{value:!0});b.YRa=void 0;g=a(259);k=a(947);m=a(972);f=a(260);d=a(422);l=a(973);n=a(974);r=(function(){function h(p,q){this.atob=p;this.console=q;this.LN=1;this.a1=[];this.vV=[];}h.prototype.tUb=function(p,q,t,v,w){var u,z;void 0 === v && (v={w:16,vr:9});void 0 === w && (w=1);q=c(q);u=l.$c(f.fEa,function(A){return f.q4a(t,f.p4a[A]);});d.assert(u);d.assert(16 === v.w && 9 === v.vr || 4 === v.w && 3 === v.vr);v=16 === v.w?"16:9":"4:3";for(var x=0,y=this.a1;x < y.length;x++){z=y[x];if(z.type === p && z.sx === v && z.Xd === q && z.frameRate === u && z.trackId === w)return z;}p=this.qLb(p,v,q,u,w);this.a1.unshift(p);this.a1.length > this.LN && this.a1.splice(this.LN,this.a1.length - this.LN);return p;};h.prototype.sUb=function(p,q,t){var x;void 0 === t && (t=1);for(var v,w=0,u=this.vV;w < u.length;w++){x=u[w];"silence" === x.type && x.Xd === p && x.bitrate === q && x.trackId === t && (v=x);}void 0 === v && (v=this.gLb(p,q,t),this.vV.unshift(v),this.vV.length > this.LN && this.vV.splice(this.LN,this.vV.length - this.LN));return v;};h.prototype.qLb=function(p,q,t,v,w){var u;u=k.kmb[p][q][t][v]();return g.__assign(g.__assign({},this.decode(u,w)),{type:p,sx:q,Xd:t,frameRate:v,width:u.width,height:u.height,xd:u.xd,yd:u.yd});};h.prototype.gLb=function(p,q,t){var v;v=k.EYa.silence[p][q];d.assert(v);v=v();return g.__assign(g.__assign({},this.decode(v,t)),{type:"silence",Xd:p,bitrate:q,channels:v.channels});};h.prototype.decode=function(p,q){var t,v,w,u;t=p.Yb?this.s1a(p.oa,p.qf,p.sf,p.rf):this.atob(p.oa);v=p.Xb?this.s1a(p.pa,p.kf,p.mf,p.lf):this.atob(p.pa);if(1 !== q){w=new DataView(t);u=new DataView(v);p.oc.forEach(function(x){return w.setUint32(x,q);});p.mc.forEach(function(x){return u.setUint32(x,q);});}return g.__assign(g.__assign({},p),{oa:t,pa:v,trackId:q});};h.prototype.s1a=function(p,q,t,v){p=void 0 === q?n.Paa(p):v?n.Paa(q + p):n.Paa(p,new Uint8Array(this.atob(q)));return p.buffer.slice(p.byteOffset + (t || 0),p.byteOffset + p.byteLength);};return h;})();b.YRa=r;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.EYa=b.kmb=void 0;b.kmb={padding:{"16:9":{h264hpl:{23976:function(){return a(155);},24:function(){return a(948);},25:function(){return a(949);},2997:function(){return a(950);},30:function(){return a(951);}},h264:{23976:function(){return a(156);},24:function(){return a(952);},25:function(){return a(953);},2997:function(){return a(954);},30:function(){return a(955);}}},"4:3":{h264hpl:{23976:function(){return a(157);},24:function(){return a(956);},25:function(){return a(957);},2997:function(){return a(958);},30:function(){return a(959);}},h264:{23976:function(){return a(158);},24:function(){return a(960);},25:function(){return a(961);},2997:function(){return a(962);},30:function(){return a(963);}}}}};b.EYa={silence:{heaac:{64:function(){return a(964);},96:function(){return a(965);},128:function(){return a(966);}},ddp:{192:function(){return a(967);},256:function(){return a(968);},384:function(){return a(969);},448:function(){return a(970);},640:function(){return a(971);}}}};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.mf=b.Xb=b.pa=b.sf=b.Yb=b.oa=b.lf=b.kf=b.rf=b.qf=void 0;r=a(155);b.qf=r.oa;b.rf=r.Yb;b.kf=r.pa;b.lf=r.Xb;b.oa="hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCgAoAheAphJ4BgAYDheBXgO4CheASDogBoG";b.Yb=!0;b.sf=751;b.pa="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Xb=!0;b.mf=1022;b.ba={Ca:1E3,W:24E3};b.duration={Ca:6E3,W:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=4;b.yd=3;b.oc=[176,733];b.mc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.mf=b.Xb=b.pa=b.sf=b.Yb=b.oa=b.lf=b.kf=b.rf=b.qf=void 0;r=a(155);b.qf=r.oa;b.rf=r.Yb;b.kf=r.pa;b.lf=r.Xb;b.oa="hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADAgheApBehKABgAYCheBWAbBYheAVDogBoG";b.Yb=!0;b.sf=751;b.pa="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Xb=!0;b.mf=1022;b.ba={Ca:1E3,W:25E3};b.duration={Ca:7E3,W:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=4;b.yd=3;b.oc=[176,733];b.mc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.mf=b.Xb=b.pa=b.sf=b.Yb=b.oa=b.lf=b.kf=b.rf=b.qf=void 0;r=a(155);b.qf=r.oa;b.rf=r.Yb;b.kf=r.pa;b.lf=r.Xb;b.oa="hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb";b.Yb=!0;b.sf=751;b.pa="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Xb=!0;b.mf=1022;b.ba={Ca:1001,W:3E4};b.duration={Ca:8008,W:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=4;b.yd=3;b.oc=[176,731];b.mc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.mf=b.Xb=b.pa=b.sf=b.Yb=b.oa=b.lf=b.kf=b.rf=b.qf=void 0;r=a(155);b.qf=r.oa;b.rf=r.Yb;b.kf=r.pa;b.lf=r.Xb;b.oa="hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADDAheApgi4CgjYDheBVAfg8YCheASDogBoG";b.Yb=!0;b.sf=751;b.pa="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Xb=!0;b.mf=1022;b.ba={Ca:1E3,W:3E4};b.duration={Ca:8E3,W:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=4;b.yd=3;b.oc=[176,733];b.mc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.mf=b.Xb=b.pa=b.sf=b.Yb=b.oa=b.lf=b.kf=b.rf=b.qf=void 0;r=a(156);b.qf=r.oa;b.rf=r.Yb;b.kf=r.pa;b.lf=r.Xb;b.oa="hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG";b.Yb=!0;b.sf=749;b.pa="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Xb=!0;b.mf=1022;b.ba={Ca:1E3,W:24E3};b.duration={Ca:6E3,W:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=4;b.yd=3;b.oc=[176,731];b.mc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.mf=b.Xb=b.pa=b.sf=b.Yb=b.oa=b.lf=b.kf=b.rf=b.qf=void 0;r=a(156);b.qf=r.oa;b.rf=r.Yb;b.kf=r.pa;b.lf=r.Xb;b.oa="hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG";b.Yb=!0;b.sf=749;b.pa="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Xb=!0;b.mf=1022;b.ba={Ca:1E3,W:25E3};b.duration={Ca:7E3,W:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=4;b.yd=3;b.oc=[176,731];b.mc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.mf=b.Xb=b.pa=b.sf=b.Yb=b.oa=b.lf=b.kf=b.rf=b.qf=void 0;r=a(156);b.qf=r.oa;b.rf=r.Yb;b.kf=r.pa;b.lf=r.Xb;b.oa="hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd";b.Yb=!0;b.sf=749;b.pa="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Xb=!0;b.mf=1022;b.ba={Ca:1001,W:3E4};b.duration={Ca:8008,W:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=4;b.yd=3;b.oc=[176,729];b.mc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.mf=b.Xb=b.pa=b.sf=b.Yb=b.oa=b.lf=b.kf=b.rf=b.qf=void 0;r=a(156);b.qf=r.oa;b.rf=r.Yb;b.kf=r.pa;b.lf=r.Xb;b.oa="hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABDghdwogioCgjIDhdxVAfg8IChdwSDogBoG";b.Yb=!0;b.sf=749;b.pa="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Xb=!0;b.mf=1022;b.ba={Ca:1E3,W:3E4};b.duration={Ca:8E3,W:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=4;b.yd=3;b.oc=[176,731];b.mc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.mf=b.Xb=b.pa=b.sf=b.Yb=b.oa=b.lf=b.kf=b.rf=b.qf=void 0;r=a(157);b.qf=r.oa;b.rf=r.Yb;b.kf=r.pa;b.lf=r.Xb;b.oa="hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBgAoAheAphJ4BgAYDheBXgO4CheASDogBoG";b.Yb=!0;b.sf=751;b.pa="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Xb=!0;b.mf=1022;b.ba={Ca:1E3,W:24E3};b.duration={Ca:6E3,W:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=1;b.yd=1;b.oc=[176,733];b.mc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.mf=b.Xb=b.pa=b.sf=b.Yb=b.oa=b.lf=b.kf=b.rf=b.qf=void 0;r=a(157);b.qf=r.oa;b.rf=r.Yb;b.kf=r.pa;b.lf=r.Xb;b.oa="hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADAgheApBehKABgAYCheBWAbBYheAVDogBoG";b.Yb=!0;b.sf=751;b.pa="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Xb=!0;b.mf=1022;b.ba={Ca:1E3,W:25E3};b.duration={Ca:7E3,W:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=1;b.yd=1;b.oc=[176,733];b.mc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.mf=b.Xb=b.pa=b.sf=b.Yb=b.oa=b.lf=b.kf=b.rf=b.qf=void 0;r=a(157);b.qf=r.oa;b.rf=r.Yb;b.kf=r.pa;b.lf=r.Xb;b.oa="hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb";b.Yb=!0;b.sf=751;b.pa="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Xb=!0;b.mf=1022;b.ba={Ca:1001,W:3E4};b.duration={Ca:8008,W:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=1;b.yd=1;b.oc=[176,731];b.mc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.mf=b.Xb=b.pa=b.sf=b.Yb=b.oa=b.lf=b.kf=b.rf=b.qf=void 0;r=a(157);b.qf=r.oa;b.rf=r.Yb;b.kf=r.pa;b.lf=r.Xb;b.oa="hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADDAheApgi4CgjYDheBVAfg7wCheASDogBoG";b.Yb=!0;b.sf=751;b.pa="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Xb=!0;b.mf=1022;b.ba={Ca:1E3,W:3E4};b.duration={Ca:8E3,W:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=1;b.yd=1;b.oc=[176,733];b.mc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.mf=b.Xb=b.pa=b.sf=b.Yb=b.oa=b.lf=b.kf=b.rf=b.qf=void 0;r=a(158);b.qf=r.oa;b.rf=r.Yb;b.kf=r.pa;b.lf=r.Xb;b.oa="hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG";b.Yb=!0;b.sf=749;b.pa="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Xb=!0;b.mf=1022;b.ba={Ca:1E3,W:24E3};b.duration={Ca:6E3,W:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=1;b.yd=1;b.oc=[176,731];b.mc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.mf=b.Xb=b.pa=b.sf=b.Yb=b.oa=b.lf=b.kf=b.rf=b.qf=void 0;r=a(158);b.qf=r.oa;b.rf=r.Yb;b.kf=r.pa;b.lf=r.Xb;b.oa="hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG";b.Yb=!0;b.sf=749;b.pa="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Xb=!0;b.mf=1022;b.ba={Ca:1E3,W:25E3};b.duration={Ca:7E3,W:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=1;b.yd=1;b.oc=[176,731];b.mc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.mf=b.Xb=b.pa=b.sf=b.Yb=b.oa=b.lf=b.kf=b.rf=b.qf=void 0;r=a(158);b.qf=r.oa;b.rf=r.Yb;b.kf=r.pa;b.lf=r.Xb;b.oa="hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd";b.Yb=!0;b.sf=749;b.pa="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Xb=!0;b.mf=1022;b.ba={Ca:1001,W:3E4};b.duration={Ca:8008,W:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=1;b.yd=1;b.oc=[176,729];b.mc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.yd=b.xd=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.mf=b.Xb=b.pa=b.sf=b.Yb=b.oa=b.lf=b.kf=b.rf=b.qf=void 0;r=a(158);b.qf=r.oa;b.rf=r.Yb;b.kf=r.pa;b.lf=r.Xb;b.oa="hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABDghdwogioCgjIDhdxVAfg7gChdwSDogBoG";b.Yb=!0;b.sf=749;b.pa="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Xb=!0;b.mf=1022;b.ba={Ca:1E3,W:3E4};b.duration={Ca:8E3,W:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.xd=1;b.yd=1;b.oc=[176,731];b.mc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.channels=b.profile=b.bitrate=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYge4CEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Yb=!0;b.pa="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Xb=!0;b.ba={Ca:1024,W:24E3};b.duration={Ca:7168,W:24E3};b.bitrate=64;b.profile="heaac-2-dash";b.channels="2.0";b.oc=[176,599];b.mc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.channels=b.profile=b.bitrate=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBBgEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Yb=!0;b.pa="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Xb=!0;b.ba={Ca:1024,W:24E3};b.duration={Ca:7168,W:24E3};b.bitrate=96;b.profile="heaac-2-dash";b.channels="2,0";b.oc=[176,599];b.mc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.channels=b.profile=b.bitrate=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBCAEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Yb=!0;b.pa="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Xb=!0;b.ba={Ca:1024,W:24E3};b.duration={Ca:7168,W:24E3};b.bitrate=128;b.profile="heaac-2hq-dash";b.channels="2.0";b.oc=[176,599];b.mc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.channels=b.profile=b.bitrate=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzgCQAAgAPgBgCAUBignwAB0gAwAADgpYBDugB4CDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgRQAg5QFAA";b.Yb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBADgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcYCG1kBhB0ALB3ABB/A/CHDAgKAAgCgBgHYCAEBIAfgAYAgAAAIBAAJAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLgQwCcDxtttC2DbDHCPAeA7G7C4gB4BcNa1rWC1CggBABAbgCwBdvHjx4LuDggWQFB4gFQCd48ePHJ3gCQFADgCIBBtgCAACPAdHdDcgCQFAPgHIRgbgBgdIBDjgFgMAGC1CtgNgADQgOYCgCwBC3gQIAA8gKwBBwgGAFA8gFQCC8gNYBgSoAC7CAgtgFgCIBC2gPgBCOgK4BgEoFAHCNgHIQA2gAoDDxgFgMADgagBCtBogOYCgdoMgAACAeA2gCYBDegVwADxgSoADdguoAgAAEgdARgk4NgAACAbgioSABgagBDWC0gjQogdARgk4NgAACANgDYDgioOgagBgNgAgjQpgdAQgk4NgAACAGgDYDgioOhCwCCtgjQphHokBghiAJgAAEBIA4hf//hf//hf//hf//hf//hf//hf//hf//hf//hf//hf70";b.Xb=!0;b.ba={Ca:1536,W:48E3};b.duration={Ca:12288,W:48E3};b.bitrate=192;b.profile="ddplus-5.1-dash";b.channels="5.1";b.oc=[176,590];b.mc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.channels=b.profile=b.bitrate=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAIgZYAAPgBgCAUBignwAB0gAwAAEgAQAADDogGYGgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Yb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAEgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgIQBcIbWRhB0ALB3ABD/A/CHDAgBoAgCgBgHYCcD+B9lEEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwUB/DOCvgDQWgAwDAfDzCrgHgYgAwBDHD8DqgLwaD5DxgQAgCggXoBd3zWtagCAABtC2DbgAQJe1rWtAgDIdBfA+gDAMDWgDIABogDAAAOD5gD4AgDIvDIgoYCC+gNYADXDPCbgD4LgNYBBagDIegXIxgDIVB2gAYBcAHfNaDWgmgAgDgKgAQAgNYBDQgDIdgXIygDIVCyhPQCDvCagjQADzDmgNgMgDoADWCAgDIdgXIxgDIWCQgQoBAHB8gNYAhUQAA2gD4LgNYBC0gDIegXIxgDIVDsgAYBAAA7DmgjQAhWQAg2ILDbgDoAC1hXYBgDIbgXIygDIViJoGgAADBABZh///h///h///h///h///h///h///h///h///h///h///h///h///h//x";b.Xb=!0;b.ba={Ca:1536,W:48E3};b.duration={Ca:12288,W:48E3};b.bitrate=256;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.oc=[176,590];b.mc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.channels=b.profile=b.bitrate=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAMgZYAAPgBgCAUBignwAB0gEICAAAFDcgGYCgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgPYBg5QEAA";b.Yb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBgAYAgCQAgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcwCG1kBhB0ALB3ACD/A/CHDAgKAAgCgBgHYCcEEB+6EEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwlDHD8DqgF4rgAwAAfDzCrgF4rgAwAB/DOCvgF4rD5DxgYwygnwCA2gGwCdttttvAeA8B4DxDjDHCPgAwDgB4AgCYAda1rWtBrgAgCBogEoBBvgGYBDbgEoBgD4FgAwCgBoADfA+gD4DgAgDgEYBANgLQBCbgEYBgIwIgAwAcbbbfPCagEYGBrBAgEgAADBrgP4BA2gJQBgEgbgSQBDmgEYBDegSQJB2gB4AgCYAgEYGBaDQgN4BDZgXwCgJ4SAegB4AgV4AA1gFQGDWCAhHgBgd4BDNgTIABtC8gJ4IDGgJ4PgZwAgOwAgEYBC3gcQIgAwAgB4AgCYAgJAHC0glwVgEgPA3gsQBgEYBBtgSQJA3glwQCQgv3/gvz/gABZBYAGi///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i//q";b.Xb=!0;b.ba={Ca:1536,W:48E3};b.duration={Ca:12288,W:48E3};b.bitrate=384;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.oc=[176,590];b.mc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.channels=b.profile=b.bitrate=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAOgZYAAPgBgCAUBignwAB0gAwAAHgEgBDWgGYCDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Yb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAHgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAc4CG1kBhB0ALB3ADB/A/CHDAgKAAgCgBgHYCcEKB/MAEgEoAdAEAQYD5DzDnDPCfA+B8gAwBDfDzCrgBQGgAwoDHD8DqgF4rgAwDfx/zq+gMwsgAwCB/DOCvgTougAwAAfgag1gpwCcb5tttC2gAQAe3jx48R3gAACd48ePHCPAbgCYAfPmta1CtBrBagAgEC0gFgLA7S7gAABC8gFgCCNgCgADnDNgFAGgAgCgFYBANDzgFQCgAQAgJIAgFgrAdTdgAABDeA8gFgBDGgCgADzDmgQYIgAgAgFYBAGD5gFQDBtgUYBgFgMB2gFgSDwgcgCgRZwgFgcCOTugAABDvguoAgFgBgCgAgx4AgQYJDWCAgFYAADB8gFQDC2gUYBgFgMC7gFgSB4gcgCgRZwgFgdhJ4HhLYBgFgAgCgAhOoAgQYJBrBAh4QBC+gtIEgxICgFgLDdgFgSC8gcgCgRZwgFgdhJwGC7hLYBgFgAgCgAh+YAgQYJC1CggWQBDfA2gQoDhN4CgFgLBugFgSDeijwDgRZvgFgdhJwGDdhLYBgFgAgCgADfA+hmYKDQgFYBBvCbgQoDhN4CgFgLA3gFgTi5ADgRZvgFgdhJwGDuifoCAegN4ABvCfA1gtQJBogFYBA3DNgtIDBvgUYBgFgLAbgCYBgFgQhQABgABpBhBJjf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf7m";b.Xb=!0;b.ba={Ca:1536,W:48E3};b.duration={Ca:12288,W:48E3};b.bitrate=448;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.oc=[176,590];b.mc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.oc=b.channels=b.profile=b.bitrate=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAUgZYAAPgBgCAUBignwAB0gAwAAKgAQAAJgYQCACgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Yb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAKgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAdQCG1kBhB0ALB3AED/A/CHDAgEgDBAgAYBeOBhhhCGAfDzCrDnDPCfA+B8D5DzgAw0B/DOCvgHo5f58f86C+gHo4gAwADHD8DqgHo5gAwAgfxACggtQCfePHjxPdgrgEgAAQADK7dtttttgdYAfWta1rBagIYMgEACc7x48eA7gEgBC4gIAVAAJ3gIACC3DPCagIICBfgQ4LCAgD4BAHgQAADjDHgEgBB3gIAWAOHuDtgIABC2gGAABagIICgZYLDwgEACDvAegYgAgEYAgAAADggIAVABgb4BgIACDfA+gYAAgIIBghAMgEACAdgQAACPAdgEgBDcgQQWgcABgIACDbDnDNgIIChG4MgnICADC8glYDC8gZQBghQBC7gawCgAASAHgcgAB2gIwCgGwAgpQBgI4AgpYLD4glYDgpYAA8ghQCBwgRAWgcoBgIACBvCfA1gIIChQAMglYDgpYBCOghYCgIAWgcwBgIACBtDzDmg5wCDXhC4Lgn4ChCCDglYDhCzDhCCAghQDhCzEhCCAgHIDhCzDhCCBgHIDjH0FhCA/gHIWgADBAXBQk///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k//c";b.Xb=!0;b.ba={Ca:1536,W:48E3};b.duration={Ca:12288,W:48E3};b.bitrate=640;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.oc=[176,590];b.mc=[44];},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.WDb=b.UDb=b.XDb=b.TDb=b.VDb=b.YDb=b.fgc=b.Zfc=b.b1=b.hgc=void 0;c=a(260);Object.defineProperty(b,"videoMediaFrameRatesList",{enumerable:!0,get:function(){return c.fEa;}});b.hgc=["padding"];b.b1=["h264hpl","h264"];b.Zfc=["16:9","4:3"];b.fgc={h264:"playready-h264mpl30-dash",h264hpl:"playready-h264hpl30-dash"};b.YDb=["silence"];b.VDb=["heaac","ddp"];b.TDb={heaac:[64,96,128],ddp:[192,256,384,448,640]};b.XDb={heaac:{64:"heaac-2-dash",96:"heaac-2-dash",128:"heaac-2hq-dash"},ddp:{192:"ddplus-5.1-dash",256:"ddplus-5.1hq-dash",384:"ddplus-5.1hq-dash",448:"ddplus-5.1hq-dash",640:"ddplus-5.1hq-dash"}};b.UDb={heaac:{64:"2.0",96:"2,0",128:"2.0"},ddp:{192:"5.1",256:"5.1",384:"5.1",448:"5.1",640:"5.1"}};b.WDb={heaac:{Ca:1024,W:24E3},ddp:{Ca:1536,W:48E3}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$c=void 0;b.$c=function(a,c){for(var g=0;g < a.length;g++){if(c(a[g],g,a))return a[g];}};},function(r,b,a){var f;function c(d){return ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[d >> 6] + ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[d & 63];}function g(d,l){f.assert(0 < l && 8 > l);return c((l - 1 << 8) + d);}function k(d){return c(1792 + d[0]) + c((d[1] << 4) + (d[2] >>> 4)) + c((d[2] << 8 & 3840) + d[3]);}function m(d){return 43 === d?62:47 === d?63:58 > d?d - 48 + 52:91 > d?d - 65:d - 71;}Object.defineProperty(b,"__esModule",{value:!0});b.Paa=b.y_b=void 0;f=a(422);b.y_b=function(d,l){var p,q,t,v,w,u;function n(x,y){var z;z=p;x=q - y - x;f.assert(1 <= x);f.assert(16384 > x - 1);f.assert(2 <= y && 512 > y - 2);y=c(2048 + (x - 1 >>> 3)) + c(((x - 1 & 7) << 9) + (y - 2));p=z + y;t=q;v=0;}function h(x,y,z){return d.subarray(x,x + z).every(function(A,B){return A === d[y + B];});}p="";q=l || 0;t=q;v=0;for(l=0;q < d.byteLength;){w=t;u=v;if(0 !== v && 513 > v && d[q] === d[t + v])(++v,++q);else if(513 === v)(n(w,u),l=0);else {for(--t;0 <= t && t >= q - v - 16384 && (d[w] !== d[t] || 0 < v && !h(q - v,t,v + 1));){--t;}if(0 <= t && t >= q - v - 16384)(++v,++q);else if(w === q || 1 === u){q-=u;for(w=1;5 > w && d[q + w] === d[q];){++w;}p+=g(d[q],w);q+=w;l=1 < w?0:l + 1;4 === l && (p=p.slice(0,p.length - 8),p+=k(d.subarray(q - 4,q)));t=q;v=0;}else (n(w,u),l=0);}}1 === v?p+=g(d[t],1):1 < v && n(t,v);return p;};b.Paa=function(d,l){var v;function n(u,x){var y;if(t + x > p.byteLength){y=new Uint8Array(2 * p.byteLength);y.set(p,0);p=y;}if(u + x <= t)p.set(p.subarray(u,u + x),t);else for(y=0;y < x;++y){p[t + y]=p[u + y];}t+=x;}function h(){var u;u=d.slice(q,q+=2);return (m(u.charCodeAt(0)) << 6) + m(u.charCodeAt(1));}for(var p=l || new Uint8Array(4096),q=0,t=l?l.byteLength:0;q < d.length;){v=h();if(v & 2048)(l=h(),n(t - (((v & 2047) << 3) + (l >>> 9) + 1),(l & 511) + 2));else if(1792 === (v & 3840))(p[t++]=v & 255,l=h(),v=h(),p[t++]=l >>> 4,p[t++]=(l << 4 & 240) + (v >>> 8),p[t++]=v & 255);else {l=v & 255;v=(v >>> 8) + 1;for(var w=0;w < v;++w){p[t++]=l;}}}return p.subarray(0,t);};},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.oLa=void 0;c=a(0);g=c.__importStar(a(11));r=a(14);k=c.__importDefault(a(28));m=c.__importDefault(a(976));f=c.__importDefault(a(4));d=a(182);l=a(254);c.__importDefault(a(255));n=c.__importDefault(a(977));a(423);h=a(2);p=a(980);q=a(1063);t=new f.default.Console("ASEJS","media|asejs");v=t.trace.bind(t);w=t.warn.bind(t);r=(function(u){function x(y,z){var w10,A;w10=2;for(;w10 !== 13;){switch(w10){case 2:A=u.call(this) || this;A.config=y;A.D0=z;y=a(1078);w10=3;break;case 3:var L4T="DEBU";L4T+="G";L4T+=":";var d4T="nf-ase v";d4T+="e";d4T+="rs";d4T+="ion";d4T+=":";v(d4T,y,L4T,!1);A.vla=!1;A.Hzb=!1;A.yH=[];w10=6;break;case 6:var V4T="1S";V4T+="IYbZrN";V4T+="J";V4T+="Cp";V4T+="9";V4T;return A;break;}}}var v10;v10=2;for(;v10 !== 15;){switch(v10){case 9:Object.defineProperties(x.prototype,{Jva:{get:function(){var B10;B10=2;for(;B10 !== 1;){switch(B10){case 2:return !g.ta(this.RAb);break;case 4:return ~g.ta(this.RAb);break;B10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{lea:{get:function(){var C10;C10=2;for(;C10 !== 1;){switch(C10){case 2:return this.IAb;break;case 4:return this.IAb;break;C10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{hg:{get:function(){var D10;D10=2;for(;D10 !== 1;){switch(D10){case 2:return this.Qz;break;case 4:return this.Qz;break;D10=1;break;}}},enumerable:!1,configurable:!0}});v10=6;break;case 6:Object.defineProperties(x.prototype,{Xk:{get:function(){var E10;E10=2;for(;E10 !== 1;){switch(E10){case 2:return this.N4.Xk;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Aua:{get:function(){var F10;F10=2;for(;F10 !== 1;){switch(F10){case 2:return this.Hzb;break;}}},enumerable:!1,configurable:!0}});x.prototype.oa=function(y,z,A,B,C,D){var G10,E,G;G10=2;for(;G10 !== 11;){switch(G10){case 2:(E=this,G=this.config);l.sL.reset();0 < G.Ev && (!g.ta(y) && y > G.Ev && (y=G.Ev),z > G.Ev && (z=G.Ev));g.ta(y) && (this.RAb=z);this.uma=B;G10=9;break;case 9:this.IAb=C;(0,m.default)(G);this.N4=l.sL.P9(G,t,this.D0);this.oma=new n.default(G);G10=14;break;case 14:G10=G.Nlb || G.WDa?13:12;break;case 13:var t7T="m";t7T+="ediacac";t7T+="h";t7T+="e";var z7T="ca";z7T+="che";z7T+="Evict";var v7T="fl";v7T+="ushedB";v7T+="yt";v7T+="es";var y4T="d";y4T+="isca";y4T+="rde";y4T+="dByt";y4T+="es";var P4T="prebuf";P4T+="fst";P4T+="ats";(z=new q.TJa(this,G,A,D),y=function(F){var H10;H10=2;for(;H10 !== 1;){switch(H10){case 4:E.emit(F.type,F);H10=8;break;H10=1;break;case 2:E.emit(F.type,F);H10=1;break;}}},z.addListener(P4T,y),z.addListener(y4T,y),z.addListener(v7T,y),z.addListener(z7T,y),(G.$Da || G.ZDa) && z.addListener(t7T,function(F){var I10;I10=2;for(;I10 !== 1;){switch(I10){case 2:var E7T="m";E7T+="ed";E7T+="iacache";E.emit(E7T,F);I10=1;break;}}}),this.Qz=z);G10=12;break;case 12:this.vla=!0;G10=11;break;}}};x.prototype.createSession=function(y,z,A,B,C,D,E,G,F,I){var J10;J10=2;for(;J10 !== 4;){switch(J10){case 9:J10=this.vla?5:2;break;J10=this.vla?1:5;break;case 2:J10=this.vla?1:5;break;case 5:var f7T="open: ";f7T+="streamin";f7T+="gManager not in";f7T+="itted";w(f7T);J10=4;break;case 1:return (G=G || this.config,this.yc.reset(),this.yt.Pbc(),this.oma.reset(),void 0 === D && (D=this.psa(y,z)),g.ta(this.uma) && (this.uma=f.default.Wp()[k.default.Sd.J] <= G.k1b?0:G.G_),y=new p.HRa(this,y,I,z,A,B,C,D,E,G,F),this.yH.push(y),y);break;}}};v10=11;break;case 17:x.prototype.xb=function(){var P10;P10=2;for(;P10 !== 6;){switch(P10){case 5:delete this.N4;delete this.oma;delete this.D0;this.r7();P10=8;break;case 8:delete this.Qz;l.sL.reset();P10=6;break;case 2:var x7T="Attempted";x7T+=" to destruct Manager before all S";x7T+="essions r";x7T+="emoved";(0,h.assert)(0 === this.yH.length,x7T);this.vla=!1;P10=5;break;}}};return x;break;case 11:x.prototype.LY=function(y,z){var K10;K10=2;for(;K10 !== 1;){switch(K10){case 2:return this.Qz && (y=this.Qz.LY(y,z))?y:!1;break;}}};x.prototype.cAb=function(y){var L10,z;L10=2;for(;L10 !== 4;){switch(L10){case 5:var U7T="can't f";U7T+="ind sessio";U7T+="n in ar";U7T+="ray, movi";U7T+="eId:";g.ta(z)?w(U7T,y.Gf.S.K):(this.yH.splice(z,1),0 === this.yH.length && this.yt.Xbc(),this.yt.save(),this.Xk.save());L10=4;break;case 2:this.yc.Y_(null);z=this.yH.indexOf(y);L10=5;break;}}};x.prototype.psa=function(y,z,A){var M10;M10=2;for(;M10 !== 1;){switch(M10){case 2:return (0,d.ata)(y,z,A);break;}}};x.prototype.toa=function(){var N10,y;N10=2;for(;N10 !== 5;){switch(N10){case 2:null === (y=this.Qz) || void 0 === y?void 0:y.Z3a();N10=5;break;}}};x.prototype.r7=function(){var O10,y;O10=2;for(;O10 !== 5;){switch(O10){case 2:null === (y=this.Qz) || void 0 === y?void 0:y.hMb();O10=5;break;}}};v10=17;break;case 2:c.__extends(x,u);Object.defineProperties(x.prototype,{yc:{get:function(){var x10;x10=2;for(;x10 !== 1;){switch(x10){case 2:return this.N4.yc;break;case 4:return this.N4.yc;break;x10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{yt:{get:function(){var y10;y10=2;for(;y10 !== 1;){switch(y10){case 4:return this.N4.yt;break;y10=1;break;case 2:return this.N4.yt;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{cw:{get:function(){var z10;z10=2;for(;z10 !== 1;){switch(z10){case 2:return this.oma;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{e0:{get:function(){var A10;A10=2;for(;A10 !== 1;){switch(A10){case 2:return this.uma;break;}}},enumerable:!1,configurable:!0}});v10=9;break;}}})(r.EventEmitter);b.oLa=r;},function(r,b,a){var g,k,m,f;function c(d){var l;l=nrdp.Rk.Orc.match(/android-(\d*)/);l?23 < l[1]?d.TCa=!1:(l=nrdp.Rk.mlc.Pp.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),d.TCa=l?6 < l[1] || 6 == l[1] && 1 < l[2] || 6 == l[1] && 1 == l[2] && 1 <= l[3]?!0:!1:!1):d.TCa=!1;d.Dcc=!1;}g=a(2).assert;a(187);k=a(4).default;m=k.ps;f=k.Esb;r.exports=function(){var d,l,n,h;d=new k.Console("ASEJSMONKEY","media|asejs");if(!k.ps.fd){l=function(p){this.qyb=p;};n=f.prototype.appendBuffer;k.MediaSource.fd || (k.MediaSource.fd={});"undefined" !== typeof nrdp && nrdp.H6 && (c(k.MediaSource.fd,d),k.MediaSource.fd.B_a=!1,k.MediaSource.fd.Pbb=!1);k.ps.fd={I_:{bnb:!0,JT:!0,Psb:!0}};Object.defineProperty(m.prototype,"_response",{get:function(){return this.PAb || this.Iwb;},set:function(p){this.Iwb=p;}});h=m.prototype.open;m.prototype.open=function(p,q,t,v,w,u,x){1 === t && (this.PAb=new l(this));return h.call(this,p,q,t,v,w,u,x);};m.prototype.UQ=function(){this.ZM=void 0;};f.prototype.appendBuffer=function(p){if(p instanceof ArrayBuffer)return n.call(this,p);if(p instanceof l)return this.L6(p.qyb);g(!1);};}};},function(r,b,a){var k,m;function c(){this.Vz=this.fU=this.j5=this.x5=this.f5=null;}function g(f){this.L=f;this.DD=[];this.us=new c();this.zU();}k=a(11);a(28);a(8);m=a(4).default;new m.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Jd=function(f){var d;d=!1;f && k.has(f,"ens") && k.has(f,"lns") && k.has(f,"fns") && k.has(f,"d") && k.has(f,"t") && (this.f5=f.ens,this.x5=f.lns,this.j5=f.fns,this.fU=f.d,this.Vz=f.t,d=!0);return d;};c.prototype.getState=function(){var f;if(k.tb(this.f5) || k.tb(this.x5) || k.tb(this.j5) || k.tb(this.fU) || k.tb(this.Vz))return null;f={d:this.fU,t:this.Vz};f.ens=this.f5;f.lns=this.x5;f.fns=this.j5;return f;};c.prototype.get=function(){var f,d;f=this.getState();if(f){d=new Date(this.Vz);f.dateint=1E4 * d.getFullYear() + 100 * (d.getMonth() + 1) + d.getDate();f.hour=d.getHours();}return f;};g.prototype.zU=function(){var f;f=m.storage.get("sth");f && this.Jd(f);};g.prototype.Jd=function(f){var d,l;d=null;l=this.L;f.forEach(function(n){var h;h=new c();h.Jd(n)?(d=!0,this.DD.push(h)):k.tb(d) && (d=!1);},this);this.DD=this.DD.filter(function(n){return n.fU >= l.vba;});this.DD.sort(function(n,h){return n.Vz - h.Vz;});return k.tb(d)?!0:d;};g.prototype.nla=function(){var f;f=[];this.DD.forEach(function(d){f.push(d.getState());},this);return f;};g.prototype.save=function(){var f,d,l;f=this.nla();d=this.L;l=this.us.getState();l && l.d >= d.vba && (f.push(l),this.DD.push(this.us));f.length > d.Yaa && (f=f.slice(f.length - d.Yaa,f.length));this.us=new c();f && m.storage.set("sth",f);};g.prototype.reset=function(){this.us=new c();};g.prototype.VRb=function(){return this.us.get();};g.prototype.kUb=function(){return this.DD.length + 1;};g.prototype.WBb=function(f){this.us.f5=f;this.us.Vz=m.time.ia();};g.prototype.fCb=function(f){this.us.x5=f;this.us.Vz=m.time.ia();};g.prototype.$Bb=function(f,d){this.us.j5=f;this.us.Vz=m.time.ia();this.us.fU=d;};r.exports=g;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.XLa=void 0;r=(function(){function a(c,g,k){this.VAb=g;this.dwb=k;this.H=c;}a.prototype.uza=function(c){c=this.qXb(c,this.VAb) + this.dwb;return this.ema=isNaN(c)?NaN:this.eCa(c);};a.prototype.QGb=function(c){return isNaN(this.ema)?0:this.ema > c?1:0;};a.prototype.qXb=function(c,g){var k;k=0;if(c.length !== g.length)k=NaN;else for(var m=0;m < c.length;m++){k+=c[m] * g[m];}return k;};a.prototype.eCa=function(c){return 1 / (1 + Math.exp(-c));};return a;})();b.XLa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.CT=void 0;r=(function(){function a(c){this.Jk={};this.Kla=c;this.Og=[];this.As=!1;this.zH=void 0;}a.prototype.x6=function(c){this.Og.length === this.Kla && this.Og.shift();Array.isArray(c)?this.Og=this.Og.concat(c):this.Og.push(c);this.As=!0;};a.prototype.bP=function(){return this.Og.length;};a.prototype.yoa=function(){var c;c=this.Og;return 0 < c.length?c.reduce(function(g,k){return g + k;},0) / this.Og.length:void 0;};a.prototype.u7=function(){var c,g;c=this.Og;g=this.yoa();if(0 < c.length && "undefined" !== typeof g)return (c=c.reduce(function(k,m){return k + m * m;},0) / c.length,Math.sqrt(c - g * g));};a.prototype.Ou=function(c){var g,k,m;if(this.As || void 0 === this.zH)(this.zH=this.Og.slice(0).sort(function(f,d){return f - d;}),this.As=!1);if(void 0 === this.Jk[c]){g=this.zH;k=Math.floor(c / 100 * (g.length - 1) + 1) - 1;m=(c / 100 * (g.length - 1) + 1) % 1;this.Jk[c]=k === g.length - 1?g[k]:g[k] + m * (g[k + 1] - g[k]);}return this.Jk[c];};return a;})();b.CT=r;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D,E,G,F,I,L,M,K;Object.defineProperties(b,{__esModule:{value:!0}});b.HRa=void 0;r=a(0);c=a(14);g=r.__importStar(a(11));a(129);k=a(981);m=a(182);f=a(6);d=a(76);l=a(264);n=a(1002);h=a(1003);p=r.__importDefault(a(4));q=p.default.MediaSource;t=a(8);v=a(2);w=a(185);u=a(439);x=a(1005);y=a(1006);z=a(159);r=a(35);A=a(1007);B=a(1008);C=a(440);D=a(1044);E=a(449);G=a(1053);F=a(453);I=a(1059);L=a(1060);M=a(1061);K=a(1062);a=(function(){var Q10;Q10=2;for(;Q10 !== 94;){switch(Q10){case 39:O.prototype.stop=function(){var X20;X20=2;for(;X20 !== 1;){switch(X20){case 2:this.dj.stop();X20=1;break;}}};O.prototype.rK=function(H,J){var Y20;Y20=2;for(;Y20 !== 1;){switch(Y20){case 2:return this.$o.rK(H,J);break;}}};O.prototype.seek=function(H,J){var Z20;Z20=2;for(;Z20 !== 1;){switch(Z20){case 4:return this.$o.seek(H,J);break;Z20=1;break;case 2:return this.$o.seek(H,J);break;}}};O.prototype.Zt=function(H){var a30,V,J,R,P,T,d30;a30=2;for(;a30 !== 18;){switch(a30){case 3:this.ima+=1;V=this.Xa.gd;d.ag.forEach(function(S){var c30,W,ia,ra,ua;c30=2;for(;c30 !== 6;){switch(c30){case 5:c30=R.Zi?4:9;break;case 1:c30=ia?5:6;break;case 2:ia=V.ue(S);c30=1;break;case 4:(ra=J.Th[S],ua=J.Xa.VH(V,S));c30=3;break;case 3:var b7T=",";b7T+=" toAp";b7T+="pe";b7T+="nd: ";var A7T=", ";A7T+="f";A7T+="ra";A7T+="gments";A7T+=": ";var g7T=", completeStrea";g7T+="min";g7T+="gPts";g7T+=": ";var j7T=", st";j7T+="reami";j7T+="ng";j7T+="P";j7T+="ts: ";var G7T=", par";G7T+="tials";G7T+=":";G7T+=" ";var i7T=", c";i7T+="omp";i7T+="leted";i7T+="Bytes: ";var K7T=",";K7T+=" complet";K7T+="edMs: ";var B7T=", ";B7T+="mediaT";B7T+="y";B7T+="pe: ";var J7T="un";J7T+="der";J7T+="f";J7T+="low";J7T+=": ";ra=J7T + H + B7T + S + K7T + ia.VN + i7T + ua + G7T + ia.Ua.rF + j7T + ia.Ic + g7T + ia.fr + A7T + JSON.stringify(ia.Ua.ha) + b7T + (ra && ra.Xda());c30=9;break;case 9:R.Zi && J.Gb.Cn(ra);ia.bpa();null === (W=ia.Jh) || void 0 === W?void 0:W.S8b();c30=6;break;}}});a30=7;break;case 2:var k7T="bra";k7T+="n";k7T+="chOf";k7T+="fse";k7T+="t:";var H7T="entry.man";H7T+="ifest";H7T+="Off";H7T+="set:";var c7T="con";c7T+="t";c7T+="entPt";c7T+="s:";var e7T="underflow: goi";e7T+="ng to BUFFER";e7T+="I";e7T+="NG at player pt";e7T+="s:";(J=this,R=this.L,P=this.HA(this.d_,H));this.$b(e7T,H,c7T,P,H7T,this.Gf.dy,k7T,this.Xa.cg);T=R.Dv;this.Th.forEach(function(S){var b30;b30=2;for(;b30 !== 1;){switch(b30){case 2:T=Math.max(0,Math.min(T,S.Xsa - H));b30=1;break;}}});a30=3;break;case 7:var q7T="und";q7T+="erf";q7T+="l";q7T+="ow";this.Gf.S.lk();this.emit(q7T);this.U5(2);this.mh.ul();a30=12;break;case 11:try{d30=2;for(;d30 !== 1;){switch(d30){case 2:this.fra(f.Ia.Qd);d30=1;break;}}}catch(S){var o7T="Hindsight: Error when evaluating QoE ";o7T+="a";o7T+="t Bu";o7T+="ffering: ";a000.G4T(5);this.Gb.Ro(a000.K4T(S,o7T));}a30=10;break;case 12:a30=this.Ss?11:10;break;case 10:P=this.Nc.yc.get();P=P.confidence?P.Va.va:0;T > R.gPb && P > R.fPb && this.sma();a30=18;break;}}};O.prototype.Pn=function(H){var e30;e30=2;for(;e30 !== 1;){switch(e30){case 4:return this.$o.Pn(H);break;e30=1;break;case 2:return this.$o.Pn(H);break;}}};O.prototype.zx=function(H,J,R){var f30;f30=2;for(;f30 !== 1;){switch(f30){case 4:return this.$o.zx(H,J,R);break;f30=1;break;case 2:return this.$o.zx(H,J,R);break;}}};O.prototype.uVa=function(H){var g30,J;g30=2;for(;g30 !== 3;){switch(g30){case 2:this.CU=H;J=this.ke[H];this.Gb.Yyb(H,J);this.Gb.OVa(J.S.vt);g30=3;break;}}};O.prototype.lV=function(H,J,R){var h30,V,S,W,ra,ia,P,T;h30=2;for(;h30 !== 34;){switch(h30){case 1:h30=this.io()?5:4;break;case 7:var u7T="addManifest in";u7T+=" fast";u7T+="play but not drm manifest, leaving space ";u7T+="for it";J.XZ && (this.F5=!0);V=this.ke.length;J.replace && 1 !== V?V=1:this.Gf.S.Kf.gg && !J.replace && 1 === V && (this.$b(u7T),V=this.ke[0].clone(),this.ke.push(V),V=this.ke.length);h30=13;break;case 9:h30=!J.npc && (this.Fs && V.ks || this.Xn && S.ks)?8:7;break;case 17:var Z7T="bo";Z7T+="ole";Z7T+="a";Z7T+="n";J.replace && R.forEach(function(ua,Aa){var i30,Ha,N;i30=2;for(;i30 !== 3;){switch(i30){case 2:Ha=ia.eB(Aa);i30=1;break;case 8:Ha=ia.eB(Aa);i30=5;break;i30=1;break;case 1:i30=Ha?5:3;break;case 7:i30=Ha?8:9;break;i30=Ha?5:3;break;case 5:N=P.ke[0].S;Object.keys(Ha).forEach(function(Q){var j30,U;j30=2;for(;j30 !== 5;){switch(j30){case 2:U=N.Sx(Aa,Q);U && U.ee && (Ha[Q].I7(U),Q=ia.vt,Q[Aa] > ra[Aa] && (ra[Aa]=Q[Aa]));j30=5;break;}}});i30=3;break;}}});R.forEach(function(ua,Aa){var k30,Ha;k30=2;for(;k30 !== 5;){switch(k30){case 2:Ha=ia.eB(Aa);Ha && Object.keys(Ha).forEach(function(N){var l30;l30=2;for(;l30 !== 1;){switch(l30){case 2:Ha[N].jlb(p.default.Wp()[Aa],ia.Yx()?T.Fab:0);l30=1;break;}}});k30=5;break;}}});H.rV=Z7T === typeof J.jEb?J.jEb:!0;this.ke[V] && this.ke[V].rd();h30=26;break;case 24:var l7T=",";l7T+=" ";var s7T=") l";s7T+="astStre";s7T+="amAppende";s7T+="d:";s7T+=" (";var m7T=",";m7T+=" ";var n7T=" strea";n7T+="mC";n7T+="ou";n7T+="nt: ";n7T+="(";var T7T=" ";T7T+="play";T7T+="erState: ";var D7T="addManifest, ";D7T+="curr";D7T+="entPts: ";J.replace || this.Xa.qCb(ia,S,W);J=this.Nb.jy[d.u.V].oJ;R=this.Nb.jy[d.u.J].oJ;T.Zi && this.Gb.Cn(D7T + this.T.Tf() + T7T + this.T.getState() + n7T + H.gv(d.u.V).Rc.length + m7T + H.gv(d.u.J).Rc.length + s7T + J + l7T + R + ")");this.Fs && g.ta(J) || this.Xn && g.ta(R) || (H.S.aR([H.gv(d.u.V),H.gv(d.u.J)]),this.m6());h30=34;break;case 4:J || (J={});(V=this.Xa.gd.ue(d.u.V),S=this.Xa.gd.ue(d.u.J));h30=9;break;case 13:S=J.da || 0;W=J.Ta;H=k.iia.create({Sb:V,fa:H,kq:R,ohb:J.SR || [this.Gf.C9(d.u.V),this.Gf.C9(d.u.J)],gg:!1,k9a:! !J.replace,yl:! !J.yl,Wf:(0,d.rxa)(! !J.Ina,! !J.d1),da:S,Ta:W,Gb:this.Gb,et:this.QUa.bind(this),jc:this,config:this.L,H:this.H,mh:this.mh,$o:this.$o,hg:this.bXa?this.Nc.hg:void 0,NE:this.NE});h30=10;break;case 8:var R7T="addManifest ig";R7T+="no";R7T+="red, pipelines already set EOS:";this.$b(R7T,V.ks,S.ks);h30=34;break;case 18:ra=this.b6a();h30=17;break;case 5:var F7T="addManifest: p";F7T+="ipelin";F7T+="es alr";F7T+="eady shu";F7T+="tdown";this.$b(F7T);h30=34;break;case 10:var O7T="video";O7T+="_tr";O7T+="acks";var N7T="audi";N7T+="o";N7T+="_tra";N7T+="cks";ia=H.S;(J.FEb || this.TTa) && this.Nb.dw(J.FEb || this.TTa,ia.P);R=[N7T,O7T];h30=18;break;case 26:this.ke[V]=H;H.GZa();h30=24;break;case 2:(P=this,T=this.L);h30=1;break;}}};O.prototype.t6=function(H){var m30;m30=2;for(;m30 !== 1;){switch(m30){case 2:return this.$o.t6(H);break;case 4:return this.$o.t6(H);break;m30=1;break;}}};O.prototype.qI=function(H){var n30,J,R,P,T,V;n30=2;for(;n30 !== 7;){switch(n30){case 1:n30=!this.io()?5:7;break;case 2:P=this.L;n30=1;break;case 5:var p7T="dr";p7T+="mR";p7T+="e";p7T+="ady";var I7T=" ";I7T+="ready";I7T+="St";I7T+="ate: ";var w7T=" for mov";w7T+="ieI";w7T+="d: ";var Y7T=",";Y7T+=" ";var S7T="drmRe";S7T+="ady at streamin";S7T+="g";S7T+=" pts: ";g.ta(J) && (J=!0);(T=this.Xa.gd.ue(d.u.V),V=this.Xa.gd.ue(d.u.J));P.Zi && this.Gb.Cn(S7T + (T?T.Ic:null) + Y7T + (V?V.Ic:null) + w7T + H + I7T + J);a000.G4T(5);this.T.bea(a000.K4T("",H),J);J && (this.Th.forEach(function(S){var o30;o30=2;for(;o30 !== 5;){switch(o30){case 3:P.e9 || S.b4a();o30=3;break;o30=1;break;case 9:S.qI();o30=9;break;o30=5;break;case 2:P.e9 && S.b4a();o30=1;break;case 1:S.qI();o30=5;break;}}}),P.wfa && this.L5(),this.Gf.S.Kf.gg && this.l6(this.$o.wD?this.$o.wD.Sb:this.CU + 1),P.sN || (null === (R=this.Dk) || void 0 === R?0:R.mP()) || this.kD.nA || this.n6(p7T),this.$o.ela());n30=7;break;}}};Q10=48;break;case 32:O.prototype.deb=function(){};O.prototype.close=function(){var L20;L20=2;for(;L20 !== 5;){switch(L20){case 2:this.ke.forEach(function(H){var M20;M20=2;for(;M20 !== 1;){switch(M20){case 2:H.close();M20=1;break;}}});this.dj.close();L20=5;break;}}};O.prototype.D8b=function(){var N20;N20=2;for(;N20 !== 1;){switch(N20){case 2:this.Nc.cAb(this);N20=1;break;}}};O.prototype.rd=function(){var O20,H;O20=2;for(;O20 !== 20;){switch(O20){case 2:this.Sh.e3b();O20=5;break;case 10:var X7T="Error on MediaSou";X7T+="rce de";X7T+="stroy: ";g.ta(H) || H.Qs() || this.$b(X7T,H.error);O20=20;break;case 5:this.J4();this.Xa.xb();this.s8.Nwb();null === (H=this.Jz) || void 0 === H?void 0:H.reset();this.ex.forEach(function(J){var P20;P20=2;for(;P20 !== 1;){switch(P20){case 2:J.reset();P20=1;break;}}});this.T.Jd(f.Ia.bm);O20=6;break;case 6:this.ke.forEach(function(J){var Q20;Q20=2;for(;Q20 !== 1;){switch(Q20){case 4:J.rd();Q20=0;break;Q20=1;break;case 2:J.rd();Q20=1;break;}}});this.ke=[];this.Uj.clear();H=this.sg;this.sg=void 0;O20=10;break;}}};O.prototype.suspend=function(){var R20;R20=2;for(;R20 !== 1;){switch(R20){case 2:this.dj.suspend();R20=1;break;case 4:this.dj.suspend();R20=9;break;R20=1;break;}}};O.prototype.resume=function(){var S20;S20=2;for(;S20 !== 1;){switch(S20){case 2:this.dj.resume();S20=1;break;}}};O.prototype.io=function(){var T20;T20=2;for(;T20 !== 1;){switch(T20){case 2:return this.dj.io();break;}}};O.prototype.GAb=function(){var U20,H;U20=2;for(;U20 !== 8;){switch(U20){case 2:H=this.L;this.GD && clearTimeout(this.GD);this.GD=setTimeout(this.bV.bind(this),H.gfa);this.H4 || (this.H4=setInterval(this.Gb.MVa.bind(this.Gb),H.KV));U20=3;break;case 3:this.b6 || (this.b6=setInterval(this.Gb.jzb.bind(this.Gb),H.LCa));this.Kt && !this.E4 && (this.E4=setInterval(this.Gb.LVa.bind(this.Gb),H.S6));U20=8;break;}}};O.prototype.J4=function(){var V20;V20=2;for(;V20 !== 7;){switch(V20){case 3:this.oM && (clearTimeout(this.oM),this.oM=void 0);this.Xka && (clearTimeout(this.Xka),this.Xka=void 0);this.mh.J4();V20=7;break;case 2:this.GD && (clearTimeout(this.GD),this.GD=void 0);this.H4 && (clearInterval(this.H4),this.H4=void 0);this.b6 && (clearInterval(this.b6),this.b6=void 0);this.E4 && (clearInterval(this.E4),this.E4=void 0);V20=3;break;}}};O.prototype.play=function(){var W20;W20=2;for(;W20 !== 1;){switch(W20){case 2:this.dj.play();W20=1;break;}}};Q10=39;break;case 13:Object.defineProperties(O.prototype,{cw:{get:function(){var g20;g20=2;for(;g20 !== 1;){switch(g20){case 4:return this.Nc.cw;break;g20=1;break;case 2:return this.Nc.cw;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{Kt:{get:function(){var h20;h20=2;for(;h20 !== 1;){switch(h20){case 2:return this.jAb;break;case 4:return this.jAb;break;h20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{Naa:{get:function(){var i20;i20=2;for(;i20 !== 1;){switch(i20){case 2:return this.NM;break;case 4:return this.NM;break;i20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{XZ:{get:function(){var j20;j20=2;for(;j20 !== 1;){switch(j20){case 2:return this.F5;break;}}},enumerable:!1,configurable:!0}});O.prototype.wc=function(H){var k20;k20=2;for(;k20 !== 1;){switch(k20){case 4:return this.SAb[H];break;k20=1;break;case 2:return this.SAb[H];break;}}};O.prototype.mX=function(){var l20;l20=2;for(;l20 !== 1;){switch(l20){case 2:return p.default.time.ia() - this.Aka;break;}}};O.prototype.b6a=function(){var m20;m20=2;for(;m20 !== 1;){switch(m20){case 2:return (this.ke || []).reduce(function(H,J){var n20,R;n20=2;for(;n20 !== 4;){switch(n20){case 2:R=J.S;d.ag.forEach(function(P){var o20;o20=2;for(;o20 !== 1;){switch(o20){case 2:R.vt[P] > H[P] && (H[P]=R.vt[P]);o20=1;break;}}});return H;break;}}},[0,0]);break;}}};O.prototype.UP=function(){var p20,H;p20=2;for(;p20 !== 4;){switch(p20){case 2:H=0;g.forEach(this.Gf.S.fa.audio_tracks,function(J){var q20;q20=2;for(;q20 !== 1;){switch(q20){case 2:g.forEach(J.streams,function(R){var r20;r20=2;for(;r20 !== 1;){switch(r20){case 2:H=Math.max(H,R.bitrate);r20=1;break;}}});q20=1;break;}}});return H;break;}}};O.prototype.Zh=function(H){var s20;s20=2;for(;s20 !== 1;){switch(s20){case 2:return this.ke[H];break;}}};O.prototype.ISb=function(){var t20,H;t20=2;for(;t20 !== 5;){switch(t20){case 2:H=this.ke[0];return H.S.Kf.gg?this.ke[1]:H;break;}}};Q10=27;break;case 2:Object.defineProperties(O.prototype,{addEventListener:{get:function(){var W10;W10=2;for(;W10 !== 1;){switch(W10){case 2:return this.addListener.bind(this);break;case 4:return this.addListener.bind(this);break;W10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{removeEventListener:{get:function(){var X10;X10=2;for(;X10 !== 1;){switch(X10){case 2:return this.removeListener.bind(this);break;case 4:return this.removeListener.bind(this);break;X10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{I0b:{get:function(){var Y10;Y10=2;for(;Y10 !== 1;){switch(Y10){case 2:return this.sg.fd;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{mediaSourceId:{get:function(){var Z10;Z10=2;for(;Z10 !== 1;){switch(Z10){case 4:return this.sg?this.sg.Prc:+1;break;Z10=1;break;case 2:return this.sg?this.sg.Prc:void 0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{Fs:{get:function(){var a20;a20=2;for(;a20 !== 1;){switch(a20){case 2:return this.wc(d.u.V);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{Xn:{get:function(){var b20;b20=2;for(;b20 !== 1;){switch(b20){case 2:return this.wc(d.u.J);break;case 4:return this.wc(d.u.J);break;b20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{attributes:{get:function(){var c20;c20=2;for(;c20 !== 1;){switch(c20){case 2:return this.OTa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{ej:{get:function(){var d20;d20=2;for(;d20 !== 1;){switch(d20){case 4:return this.Uj;break;d20=1;break;case 2:return this.Uj;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{d_:{get:function(){var e20;e20=2;for(;e20 !== 1;){switch(e20){case 2:return 0 <= this.u5?this.u5:0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{Gf:{get:function(){var f20;f20=2;for(;f20 !== 1;){switch(f20){case 2:return this.ke[this.CU];break;case 4:return this.ke[this.CU];break;f20=1;break;}}},enumerable:!1,configurable:!0}});Q10=13;break;case 59:O.prototype.KZa=function(H,J){var B30;B30=2;for(;B30 !== 5;){switch(B30){case 2:a000.j4T(6);(0,v.assert)(a000.i4T(0,J));return this.ke[J].GFb(d.u.J,H);break;}}};O.prototype.HA=function(H,J){var C30,R,P;C30=2;for(;C30 !== 7;){switch(C30){case 2:void 0 === H && (H=this.d_);R=this.Xa.GPb(J,H);C30=5;break;case 4:P=R.cg;C30=3;break;case 5:C30=R?4:8;break;case 3:g.Oa(P) || (P=this.ke[H].dy);a000.j4T(0);return a000.i4T(J,P);break;case 8:(R=this.Xa.Ara(H),0 < R.length && (R=R[0],P=R.cg));C30=3;break;}}};O.prototype.cW=function(H,J){var D30,R,P;D30=2;for(;D30 !== 7;){switch(D30){case 5:D30=R?4:8;break;case 2:void 0 === H && (H=this.d_);R=this.Xa.FPb(J,H);D30=5;break;case 3:g.Oa(P) || (P=this.ke[H].dy);a000.G4T(5);return a000.K4T(P,J);break;case 4:P=R.cg;D30=3;break;case 8:(R=this.Xa.Ara(H),0 < R.length && (R=R[0],P=R.cg));D30=3;break;}}};O.prototype.aN=function(){var E30,H;E30=2;for(;E30 !== 4;){switch(E30){case 1:E30=H || this.Nb.OH?5:4;break;case 5:(H && this.Gb.Pla(),this.bV(),this.T.Jd(f.Ia.Wc),this.mh.ul());E30=4;break;case 2:H=this.T.Jf();E30=1;break;case 9:H=this.T.Jf();E30=2;break;E30=1;break;}}};O.prototype.sma=function(){var F30,H,J;F30=2;for(;F30 !== 3;){switch(F30){case 2:(H=this,J=this.T.Jf());this.Xa.gd.Zda(J,function(R){var G30;G30=2;for(;G30 !== 1;){switch(G30){case 2:return H.Th[R]?H.Th[R].Xda():"";break;}}});this.oM && (clearTimeout(this.oM),this.oM=void 0);this.Jz.$_b();F30=3;break;}}};O.prototype.CWa=function(H){var H30,J,I30;H30=2;for(;H30 !== 7;){switch(H30){case 1:H.ks=!1;J=this.T.Tf() || 0;H30=4;break;case 4:H.RN(J);this.Nb.Lz();H30=9;break;case 9:H30=this.Ss && H.mediaType === d.u.J?8:7;break;case 8:try{I30=2;for(;I30 !== 1;){switch(I30){case 2:this.fra(f.Ia.gD,{Ta:H.Pc});I30=1;break;}}}catch(R){var r7T="Hindsight: Error ";r7T+="evaluati";r7T+="ng QoE at endOfStream: ";a000.j4T(5);this.Gb.Ro(a000.i4T(R,r7T));}H30=7;break;case 2:H.Mi=!0;H30=1;break;}}};O.prototype.fAb=function(){var J30,H;J30=2;for(;J30 !== 5;){switch(J30){case 2:H=this.Nc.yc;H && (H=H.get()) && H.avtp && this.cw.WBb({avtp:H.avtp.va});J30=5;break;}}};O.prototype.MAb=function(){var K30,H,J,R;K30=2;for(;K30 !== 4;){switch(K30){case 2:var h7T="start";h7T+="up, pla";h7T+="yerState ";h7T+="no longer STARTI";h7T+="NG:";var C7T="f";C7T+="ailed t";C7T+="o";C7T+=" start aud";C7T+="io pipeline";var Q7T="fa";Q7T+="iled to sta";Q7T+="rt video pipeline";this.T.Jd(f.Ia.Qh);(H=this.Xa.gd,J=H.ue(d.u.V),R=H.ue(d.u.J));this.Xn && !this.JWa(R)?this.$b(Q7T):this.Fs && !this.JWa(J)?this.$b(C7T):(this.YVa=!0,this.ke[0].S.v$=!0,J=this.Nb.Vg[d.u.J],R=this.Nb.Vg[d.u.V],(J && 0 < J.Rv || R && 0 < R.Rv) && this.Gb.Ryb(String(H.S.K),R?R.Rv:0,J?J.Rv:0,R?R.YZ:0,J?J.YZ:0),this.T.A9a()?(this.U5(0),this.Fs && (H=this.Gf.C9(d.u.V),J=this.Gf.gv(d.u.V).trackId,this.Gb.Uyb(H,J))):this.$b(h7T,this.T.getState()));K30=4;break;}}};O.prototype.JWa=function(H){var L30,J,R;L30=2;for(;L30 !== 14;){switch(L30){case 5:var W7T="NFErr_MC_St";W7T+="reamingInit";W7T+="F";W7T+="ailure";var a7T="star";a7T+="tPip";a7T+="eli";a7T+="ne failed";return (this.io() || this.Rq(a7T,H.ab.S.Sb,W7T),!1);break;case 4:H=H.track.Rc[R];L30=3;break;case 1:L30=g.ta(R)?5:4;break;case 2:(J=H.mediaType,R=this.Nb.jUb(H));L30=1;break;case 3:L30=H.qr()?9:8;break;case 8:R=this.Gf.S;H.S.z0a(H,{offset:0,oE:!R.Kf.gg && !R.yl && J === d.u.J,Mx:!this.Nb.Vg[J].dQb});return !0;break;case 9:return !0;break;}}};O.prototype.U5=function(H,J){var M30,R,P,T,V,S;M30=2;for(;M30 !== 19;){switch(M30){case 5:S.NV=void 0;this.T.Jd(2 === H?f.Ia.Kg:f.Ia.Qd);this.Gb.Oyb(J);this.Jz.reset();M30=8;break;case 10:this.T.Jf() && (this.oM=setTimeout(function(){var P30;P30=2;for(;P30 !== 1;){switch(P30){case 4:R.Nb.Lz();P30=8;break;P30=1;break;case 2:R.Nb.Lz();P30=1;break;}}},P.XB));this.mh.ul();M30=19;break;case 8:var M7T="startBu";M7T+="fferi";M7T+="ng";this.Gf.S.lya();this.emit(M7T);d.ag.forEach(function(W){var N30;N30=2;for(;N30 !== 5;){switch(N30){case 1:(W.joa=0,W.seeking=0 === H || 1 === H,W.bpa());N30=5;break;case 2:N30=(W=R.Xa.gd.ue(W))?1:5;break;}}});this.Aka=p.default.time.ia();T.km=V.km=this.Aka;0 === H && (!this.Xn || 0 < V.Rv) && (!this.Fs || 0 < T.Rv) && this.Nb.Lz();M30=11;break;case 2:(R=this,P=this.L,T=this.Nb.Vg[d.u.V] || ({}),V=this.Nb.Vg[d.u.J] || ({}),S=this.Nb.rC[d.u.J] || ({}));(this.Nb.rC[d.u.V] || ({})).NV=void 0;M30=5;break;case 11:P.NW && (this.Xka=setTimeout(function(){var O30;O30=2;for(;O30 !== 1;){switch(O30){case 2:R.fAb();O30=1;break;case 4:R.fAb();O30=7;break;O30=1;break;}}},P.Mqa));M30=10;break;}}};Q10=72;break;case 48:O.prototype.eua=function(){var p30;p30=2;for(;p30 !== 1;){switch(p30){case 2:return this.T.Br(this.Gf.S);break;}}};O.prototype.$Ta=function(H){var q30,J,R,P;q30=2;for(;q30 !== 11;){switch(q30){case 1:return !1;break;case 5:(J=this.Xa.gd.ue(d.u.V),R=this.Xa.gd.ue(d.u.J));J=!J || J.Mi;P=!R || R.Mi;q30=9;break;case 2:q30=H >= this.ke.length?1:5;break;case 7:return !1;break;case 9:R=this.ke[H].S;q30=8;break;case 6:H=R.cj[d.u.V];J=R.cj[d.u.J];J=!this.Xn || J && J.stream.ee;q30=12;break;case 8:q30=!(H === this.CU + 1 && R.Kf.replace || J && P) || !this.T.Br(R)?7:6;break;case 12:return (!this.Fs || H && H.stream.ee) && J?!0:!1;break;}}};O.prototype.m6=function(){var r30;r30=2;for(;r30 !== 1;){switch(r30){case 2:this.l6(this.CU + 1);r30=1;break;}}};O.prototype.l6=function(H){var s30,J;s30=2;for(;s30 !== 6;){switch(s30){case 4:s30=J.dPb || !J.S.Kf.replace?3:9;break;case 1:return !1;break;case 9:this.TAb(H);this.mh.ul();return !0;break;case 3:return !1;break;case 2:s30=!this.$Ta(H)?1:5;break;case 5:J=this.ke[H];s30=4;break;}}};O.prototype.TAb=function(H){var t30,S,J,R,P,T,V;t30=2;for(;t30 !== 20;){switch(t30){case 7:S=[];[d.u.J,d.u.V].forEach(function(W){var u30;u30=2;for(;u30 !== 1;){switch(u30){case 2:J.S.wc(W) && (S[W]=J.gv(W));u30=1;break;}}});T?this.Xa.I8b(R.S,J.S,S):P.jib(J.S,S);this.uVa(H);t30=12;break;case 2:var V7T=",";V7T+=" ";var L7T=",";L7T+=" s";L7T+="trea";L7T+="mingPts: ";var d7T="switchMan";d7T+="ifest man";d7T+="ife";d7T+="stIndex: ";(J=this.ke[H],R=this.L,P=this.Xa.gd,T=P.fb(d.u.V));T=T?T.Ic:void 0;V=P.fb(d.u.J);V=V?V.Ic:void 0;R.Zi && this.Gb.Cn(d7T + H + L7T + T + V7T + V);R=this.Gf;T=R.S.Kf.gg;t30=7;break;case 12:J.Yxa();this.$o.ela();this.mh.ul();t30=20;break;}}};O.prototype.Njb=function(H){var v30,J,P,V,R,T;v30=2;for(;v30 !== 35;){switch(v30){case 4:v30=this.Nb.OH?3:9;break;case 5:var P7T="switchTracks rejected, audio";P7T+=" d";P7T+="i";P7T+="sabled";return (this.$b(P7T),!1);break;case 16:var y7T="switchTracks";y7T+=" can't find";y7T+=" trackId:";return (this.$b(y7T,H),!1);break;case 2:J=this.L;v30=1;break;case 6:v30=R.j1?14:13;break;case 17:v30=!T?16:15;break;case 8:var v2T="switc";v2T+="hTrac";v2T+="ks rejected, buff";v2T+="ering";return (this.$b(v2T),!1);break;case 20:var z2T="switchTracks reje";z2T+="cte";z2T+="d, buf";z2T+="ferLevelMs";return (this.$b(z2T,T,"<",J.pba),!1);break;case 13:P=this.Xa.gd;v30=12;break;case 21:return !0;break;case 26:return !1;break;case 12:v30=this.T.getState() === f.Ia.Wc?11:19;break;case 10:v30=T < J.pba?20:19;break;case 15:V=this.Gf.gv(d.u.V).trackId;v30=27;break;case 3:var t2T="switchTracks";t2T+=" rejected, previous switch sti";t2T+="ll in ";t2T+="progress: ";return (this.$b(t2T + JSON.stringify(this.Nb.OH)),!1);break;case 9:v30=this.T.Jf()?8:7;break;case 7:R=this.Nb.Vg[d.u.V];v30=6;break;case 27:v30=V === T.trackId?26:25;break;case 1:v30=!this.Fs?5:4;break;case 11:T=this.Xa.wx(P,d.u.J);v30=10;break;case 25:var f2T=" ";f2T+="t";f2T+="o:";f2T+=" ";var E2T="switchTrac";E2T+="ks cu";E2T+="rren";E2T+="t: ";J.Zi && this.Gb.Cn(E2T + V + f2T + T.trackId);R.Ybb={trackId:H};J=P.fb(d.u.V);this.KAb(J);v30=21;break;case 14:var x2T="switchTracks rejected, previous swi";x2T+="tch still waiting";x2T+=" to start";return (this.$b(x2T),!1);break;case 19:H=H.Lp;T=this.Gf.S.getTrackById(H);v30=17;break;}}};O.prototype.dw=function(H,J){var w30;w30=2;for(;w30 !== 1;){switch(w30){case 2:this.Nb.dw(H,J);w30=1;break;case 4:this.Nb.dw(H,J);w30=6;break;w30=1;break;}}};O.prototype.Lx=function(H,J,R){var x30;x30=2;for(;x30 !== 1;){switch(x30){case 2:return this.Xa.Lx(H,this.Xa.Gi,J,R);break;}}};O.prototype.Wh=function(H){var y30;y30=2;for(;y30 !== 1;){switch(y30){case 4:return this.$o.Wh(H);break;y30=1;break;case 2:return this.$o.Wh(H);break;}}};O.prototype.fra=function(H,J){var z30,R,P,A30;z30=2;for(;z30 !== 6;){switch(z30){case 3:z30=J?9:8;break;case 2:R=this.Nb;H=R.yra(H,J);P=this.Sh.Yza;H && !H.uN && P.dra(H);z30=3;break;case 9:R.JAa();z30=6;break;case 8:J=P.GRb();try{A30=2;for(;A30 !== 1;){switch(A30){case 2:this.Gb.Tyb(J);A30=1;break;case 4:this.Gb.Tyb(J);A30=2;break;A30=1;break;}}}catch(T){var J2T="]";J2T+=" ";J2T+="[";var U2T="exc";U2T+="e";U2T+="pti";U2T+="on:";U2T+=" [";this.H.error(U2T.concat(T.message,J2T).concat(T.Qrc,"]"));}z30=6;break;}}};Q10=59;break;case 27:O.prototype.YO=function(){var u20;u20=2;for(;u20 !== 1;){switch(u20){case 2:return this.ke.length;break;}}};O.prototype.kva=function(H,J){var v20;v20=2;for(;v20 !== 9;){switch(v20){case 1:return !0;break;case 2:v20=H === J?1:5;break;case 5:H=this.ke[H];J=this.ke[J];return H.S.Kf.gg && J.S.Kf.YY || J.S.Kf.gg && H.S.Kf.YY;break;}}};O.prototype.ysa=function(H){var w20;w20=2;for(;w20 !== 5;){switch(w20){case 2:w20=(H=this.Xa.Gi.children[H])?1:5;break;case 1:return {id:H.G.id,cg:H.cg,zd:H.nza,Lf:H.Lf,Nd:H.Sda,Pc:H.Pc};break;}}};O.prototype.wn=function(){var x20,H;x20=2;for(;x20 !== 5;){switch(x20){case 2:H=this.Xa.Gi;return {id:H.G.id,cg:H.cg,zd:H.nza,Lf:H.Lf,Nd:H.Sda,Pc:H.Pc};break;}}};O.prototype.bfa=function(H,J){var y20;y20=2;for(;y20 !== 1;){switch(y20){case 2:return this.Xa.bfa(H,J);break;}}};O.prototype.open=function(){var z20,ia,J,R,P,T,V,S,W,H,ra;z20=2;for(;z20 !== 33;){switch(z20){case 10:z20=1 === ia.readyState?20:34;break;case 13:var K2T="createMediaS";K2T+="our";K2T+="ceSta";K2T+="rt";V.forEach(function(ua,Aa){var A20;A20=2;for(;A20 !== 1;){switch(A20){case 2:var B2T="h";B2T+="ead";B2T+="e";B2T+="r";B2T+="s";B2T === ua?H.pU=W[Aa]:H.Nb.Vg[ua].Se=W[Aa];A20=1;break;}}});this.Gb.Vm(K2T);ia=new q(this.T.ZH);z20=10;break;case 4:var i2T="hea";i2T+="d";i2T+="ers";(J=this.L,R=this.Gf.S,P=R.K,T=[],V=[i2T]);this.Xn && (T.push(d.u.J),V.push(d.u.J));this.Fs && (T.push(d.u.V),V.push(d.u.V));z20=8;break;case 5:var j2T="NFErr_MC_S";j2T+="treamingInit";j2T+="Fai";j2T+="lure";var G2T="startPts mus";G2T+="t be a positive number";G2T+=", not";G2T+=" ";this.Rq(G2T + this.ED,void 0,j2T);z20=33;break;case 1:z20=!g.Oa(this.ED) || 0 > this.ED?5:4;break;case 8:this.s8.Nxb();S=J.sN;this.Nc.hg && this.Nc.hg.LH(S,this.Tm.sessionId);W=this.s8.zwb(V,R);z20=13;break;case 34:var b2T="NF";b2T+="Err_MC";b2T+="_Stream";b2T+="ingIni";b2T+="tFailure";var A2T="exc";A2T+="e";A2T+="ption in";A2T+=" in";A2T+="it";var g2T="Er";g2T+="r";g2T+="o";g2T+="r";g2T+=":";(this.Vj(g2T,ia.error),this.Rq(A2T,void 0,b2T));z20=33;break;case 17:z20=!ia.y6(T)?16:15;break;case 20:var e2T="createMediaSourc";e2T+="e";e2T+="End";this.Gb.Vm(e2T);ia.fd || (ia.fd=q.fd);this.sg=ia;z20=17;break;case 2:H=this;z20=1;break;case 16:var c2T="E";c2T+="rror";c2T+=":";throw (this.Vj(c2T,ia.error),ia.error);z20=15;break;case 15:ia.sourceBuffers.forEach(function(ua){var B20,Aa,Ha;B20=2;for(;B20 !== 13;){switch(B20){case 7:var H2T="ma";H2T+="n";H2T+="agerde";H2T+="bugeven";H2T+="t";J.Zi && ua.addListener(H2T,function(N){var E20;E20=2;for(;E20 !== 1;){switch(E20){case 2:(0,t.gb)(H,N.type,N);E20=1;break;}}});H.Th[Aa]=ua;H.ex[Aa]=Ha;B20=13;break;case 2:var Z2T="lo";Z2T+="g";Z2T+="da";Z2T+="t";Z2T+="a";var o2T="er";o2T+="r";o2T+="o";o2T+="r";var q2T="requ";q2T+="e";q2T+="stAp";q2T+="pended";var k2T="hea";k2T+="d";k2T+="erAppended";(Aa=ua.mediaType,Ha=H.Nb.Vg[Aa]);ua=new l.uga(Ha.H,Aa,ia,ua,J,!1,H.T,void 0,H.Zh.bind(H));Ha=new D.jLa(ua,Aa,H.Xa,H.L,Ha.H);ua.addListener(k2T,H.wxb.bind(H));ua.addListener(q2T,H.zxb.bind(H));ua.addListener(o2T,function(N){var C20;C20=2;for(;C20 !== 1;){switch(C20){case 2:var u2T="NFErr_M";u2T+="C_St";u2T+="r";u2T+="e";u2T+="amingFailure";H.Rq(N.errorstr,void 0,u2T);C20=1;break;}}});ua.addListener(Z2T,function(N){var D20;D20=2;for(;D20 !== 1;){switch(D20){case 2:(0,t.gb)(H,N.type,N);D20=1;break;}}});B20=7;break;}}});this.Jz=new A.OPa(this.ex,this.aN.bind(this),this.T.Tf.bind(this.T));this.Kt && this.Gb.Jyb();z20=25;break;case 25:var n2T="s";n2T+="t";n2T+="artp";n2T+="l";n2T+="ay";var T2T="lo";T2T+="gdat";T2T+="a";R=this.b6a();this.Gb.OVa(R);ra=function(){var F20;F20=2;for(;F20 !== 5;){switch(F20){case 2:var D2T="shutdown d";D2T+="etected before sta";D2T+="rtRequ";D2T+="ests";H.Gb.azb();H.io()?H.$b(D2T):H.MAb();F20=5;break;}}};J.MLb?setTimeout(function(){var G20;G20=2;for(;G20 !== 1;){switch(G20){case 2:H.ZTa(P).then(ra);G20=1;break;}}},0):this.ZTa(P).then(function(){var H20;H20=2;for(;H20 !== 1;){switch(H20){case 2:setTimeout(ra,0);H20=1;break;}}});R={type:T2T,target:n2T,fields:{audiogapconfig:J.eQ,audiogapdpi:this.sg.fd && this.sg.fd.eQ,aseApiVersion:this.K6}};this.emit(R.type,R);z20=33;break;}}};Object.defineProperties(O.prototype,{K6:{get:function(){var I20;I20=2;for(;I20 !== 1;){switch(I20){case 4:return "";break;I20=1;break;case 2:var m2T="1";m2T+=".";m2T+="0";return m2T;break;}}},enumerable:!1,configurable:!0}});O.prototype.tta=function(){};O.prototype.flush=function(){var J20;J20=2;for(;J20 !== 1;){switch(J20){case 4:this.dj.flush();J20=2;break;J20=1;break;case 2:this.dj.flush();J20=1;break;}}};O.prototype.paused=function(){var K20;K20=2;for(;K20 !== 1;){switch(K20){case 2:this.T.paused();K20=1;break;}}};Q10=32;break;case 72:O.prototype.n6=function(H){var T4W=a000;var Q30,J;Q30=2;for(;Q30 !== 3;){switch(Q30){case 2:var s2T="wipeHead";s2T+="erCach";s2T+="e:";T4W.G4T(5);H=T4W.i4T(H,s2T);Q30=1;break;case 8:T4W.G4T(7);H=T4W.i4T(H,"");Q30=7;break;Q30=1;break;case 1:var l2T="Ad";l2T+="optingData";l2T+=" still ";l2T+="has lock:";this.kD.nA && this.Gk(l2T + H);J=this.L;J.Iba || (J.Zi && this.Gb.Cn(H),this.Nc.r7(),this.Dk && (this.Dk=void 0));Q30=3;break;}}};O.prototype.ZTa=function(H){var R30,R,P,T,V;R30=2;function J(S,W){var S30,ia,ra,ua,Aa,Ha,N,Q;S30=2;for(;S30 !== 10;){switch(S30){case 2:(ia=S.mediaType,ra=W[ia],ua=Promise.resolve(void 0));S30=1;break;case 5:(Aa=ra.Pa,Ha=ra.header.stream,N=R.Nb.Vg[ia],Q=R.Nb.rC[ia]);g.ta(W.OE) || R.Sh.Qhb(W.OE,W.Yp,W.Zp);Q.pB=W.pB;S30=9;break;case 9:Q.Nx=W.Nx;S30=8;break;case 6:S30=!ra.header?14:13;break;case 11:return ua;break;case 8:S30=!S.Ufc(Aa)?7:6;break;case 1:S30=ra?5:11;break;case 13:W=R.Gf.S;S30=12;break;case 12:W.w6(ra.header,!W.Kf.gg && !W.yl && ia === d.u.J,!0) && (void 0 !== S.QJ && S.pR(S.QJ),ua=W.qr(ia,Aa).stream.ha.Eo(S.Ic,void 0,!0),W=Ha.Fl(ua),Ha=W.da,(W=W.Ira(S.Ic)) && 0 < W.Re && (Ha=W.Re),S.Ic !== Ha && (S.BK(Ha,ua),R.pma(ia,Ha)),ua=R.Ovb(S,ra.data).then(function(){var T30;T30=2;for(;T30 !== 1;){switch(T30){case 2:return Aa;break;case 4:return Aa;break;T30=1;break;}}}),N.dQb=!0,S=R.Sh,ra=ra.header.bitrate,ia === d.u.V?S.mC(ra):S.EK(ra));S30=11;break;case 14:var R2T="adoptPipeline no header for";R2T+=" s";R2T+="tre";R2T+="amId:";return (S.Gk(R2T,Aa),ua);break;case 7:return ua;break;}}}for(;R30 !== 13;){switch(R30){case 2:var F2T="Pre";F2T+="viously a";F2T+="dopt";F2T+="ed reques";F2T+="t list still retained was unexpected";R=this;(null === (P=this.Dk) || void 0 === P?0:P.mP()) && this.Gk(F2T);this.Dk=void 0;T=this.L;R30=3;break;case 3:R30=!this.jBb || !this.Nc.hg?9:8;break;case 9:return (this.Nc.toa(),Promise.resolve());break;case 8:var N2T="c";N2T+="he";N2T+="ckForHcdStart";this.Gb.Vm(N2T);this.ke.forEach(function(S){var U30;U30=2;for(;U30 !== 1;){switch(U30){case 2:S.S.K === H && (V=S);U30=1;break;}}});return this.Nc.hg.v_b(H,V?V.S:void 0).then(function(S){var V30,W,ia;V30=2;for(;V30 !== 8;){switch(V30){case 1:V30=g.ta(S)?5:4;break;case 2:var O2T="ch";O2T+="eckFo";O2T+="rH";O2T+="c";O2T+="dEnd";R.Gb.Vm(O2T);V30=1;break;case 4:var S2T="ado";S2T+="pt";S2T+="Hcd";S2T+="Start";(W=R.Xa.gd.ue(d.u.V),ia=R.Xa.gd.ue(d.u.J));R.Gb.Vm(S2T);return R.kD.Bfa(function(){var W30,ra,ua;W30=2;for(;W30 !== 7;){switch(W30){case 2:ra=Promise.resolve();R.Xn && (ra=J(ia,S));ua=Promise.resolve();!R.Fs || T.K7a && !ra || (ua=T.K7a?ra.then(function(Aa){var X30;X30=2;for(;X30 !== 1;){switch(X30){case 2:return Aa?J(W,S):Promise.resolve();break;case 4:return Aa?J(W,S):Promise.resolve();break;X30=1;break;}}}):J(W,S));R.VUa=S;W30=9;break;case 9:var Y2T="a";Y2T+="do";Y2T+="ptHcdEn";Y2T+="d";R.Gb.Vm(Y2T);return Promise.all([ra,ua]);break;}}});break;case 5:var w2T="header";w2T+="CacheData";w2T+="No";w2T+="tFound";return (T.sN || R.kD.nA || R.n6(w2T),Promise.resolve());break;}}}).then(function(){var Y30,S;Y30=2;for(;Y30 !== 5;){switch(Y30){case 2:var I2T="adoptedCom";I2T+="plet";I2T+="edRequests";T.sN || (null === (S=R.Dk) || void 0 === S?0:S.mP()) || R.kD.nA || !R.T.Br(R.Gf.S) || R.n6(I2T);Y30=5;break;}}}).catch(function(S){var Z30;Z30=2;for(;Z30 !== 1;){switch(Z30){case 2:var p2T="heade";p2T+="rCach";p2T+="e:lookupDataP";p2T+="ro";p2T+="mise caught error:";R.$b(p2T,S);Z30=1;break;}}});break;}}};O.prototype.Ovb=function(H,J){var a40,R,P,T,V,S,W,ia;a40=2;for(;a40 !== 9;){switch(a40){case 7:R=this;a40=4;break;a40=1;break;case 2:R=this;a40=1;break;case 5:return Promise.resolve();break;case 1:a40=0 === J.length?5:4;break;case 4:(P=H.Eaa,T=P.G,V=Math.min(this.ke[0].Ta || Infinity,P.Pc || Infinity),S=H.mediaType,W=this.Nb.Vg[S]);return this.kD.Bfa(function(){function ra(){var c40,Aa;c40=2;for(;c40 !== 5;){switch(c40){case 2:var r2T="adoptData, not";r2T+=" adopting failed mediaReque";r2T+="s";r2T+="t:";var X2T="adoptData, not adopti";X2T+="ng aborted m";X2T+="ediaRequest";X2T+=":";Aa=J.shift();7 === Aa.readyState?H.$b(X2T,Aa.toString()):6 === Aa.readyState?(H.$b(r2T,Aa.toString()),R.kN(Aa,!1)):H.Ic >= Aa.Nd && H.Ic < Aa.Pc && (H.Ic < V || !g.Oa(V))?(ua.push(R.Pvb(H,Aa).then(function(){var d40;d40=2;for(;d40 !== 1;){switch(d40){case 2:Aa.complete && R.m7a(Aa);d40=1;break;}}})),H.jac(Aa.Pc),g.Oa(V) && H.Ic >= V && R.Gb.Qla(T,Aa.Pc),S === d.u.V && R.Sh.mC(Aa.bitrate),Aa.complete?(W.Rv+=Aa.duration,Aa.d_b && (W.YZ+=Aa.duration),ia=Aa):(R.Dk || (R.Dk=new B.WEa(R.H)),R.Dk.push(Aa))):R.kN(Aa,!1);c40=5;break;}}}var b40,ua;b40=2;for(;b40 !== 3;){switch(b40){case 6:ra();b40=7;break;b40=1;break;case 2:ua=[];b40=1;break;case 5:ra();b40=1;break;case 4:return Promise.all(ua);break;case 1:b40=0 < J.length?5:4;break;}}}).then(function(){var e40,ra,ua;e40=2;for(;e40 !== 8;){switch(e40){case 5:e40=ia || (null === (ra=R.Dk) || void 0 === ra?0:ra.mP())?4:8;break;case 2:ia && H.o7a(ia);e40=5;break;case 4:ra=R.ke[P.S.Sb];ua=H.Bra(H.Ic);void 0 !== ua?(H.ym=ua,H.sd=ra.S.cj[S].stream.Fl(H.ym)):H.ym=H.ve?H.ve.index + 1:H.ym + 1;e40=8;break;}}});break;case 14:return Promise.resolve();break;a40=4;break;}}};O.prototype.Pvb=function(H,J){var f40,R,P;f40=2;for(;f40 !== 3;){switch(f40){case 2:var h2T=",";h2T+=" ";h2T+="pt";h2T+="s";h2T+=": ";var C2T=",";C2T+=" ";C2T+="state:";C2T+=" ";var Q2T="adoptMediaR";Q2T+="eque";Q2T+="st: ty";Q2T+="pe: ";(R=this,P=H.mediaType);this.L.Zi && this.Gb.Cn(Q2T + P + C2T + J.readyState + h2T + J.Nd);this.pma(P,J.Nd);return H.Ua.NCb(J).catch(function(T){var g40;g40=2;for(;g40 !== 1;){switch(g40){case 2:var a2T="Error ";a2T+="adopting re";a2T+="quests";R.Gk(a2T,T);g40=1;break;}}});break;}}};O.prototype.uWa=function(H,J){var h40,R;h40=2;for(;h40 !== 9;){switch(h40){case 4:this.Jz.reset();(void 0 === H?d.ag:[H]).forEach(function(P){var i40;i40=2;for(;i40 !== 1;){switch(i40){case 2:R.wc(P) && (R.ex[P].reset(),R.oAb(P),R.Sh.t3b(P));i40=1;break;}}});h40=9;break;case 2:R=this;void 0 === J && (J=C.d4.Rna);this.Xa.gd.LAa(H,J);h40=4;break;}}};O.prototype.ejb=function(){var j40,H;j40=2;for(;j40 !== 5;){switch(j40){case 2:H=this;d.ag.forEach(function(J){var k40,R;k40=2;for(;k40 !== 5;){switch(k40){case 2:null === (R=H.ex[J]) || void 0 === R?void 0:R.stop();k40=5;break;}}});j40=5;break;}}};O.prototype.j0=function(H){var l40,J;l40=2;for(;l40 !== 4;){switch(l40){case 2:J=this;(void 0 === H?d.ag:[H]).forEach(function(R){var m40,P;m40=2;for(;m40 !== 5;){switch(m40){case 2:null === (P=J.ex[R]) || void 0 === P?void 0:P.resume();m40=5;break;}}});return Promise.resolve();break;}}};O.prototype.L5=function(){var n40,H,J,R;n40=2;for(;n40 !== 4;){switch(n40){case 2:(H=this,R=d.ag);null === (J=this.Jz) || void 0 === J?void 0:J.reset();R.forEach(function(P){var o40,T;o40=2;for(;o40 !== 5;){switch(o40){case 2:null === (T=H.ex[P]) || void 0 === T?void 0:T.resume();o40=5;break;}}});n40=4;break;}}};O.prototype.oAb=function(H){var p40,J;p40=2;for(;p40 !== 3;){switch(p40){case 2:J=this.Nb.Vg[H];this.Nb.jy[H].cwa=void 0;J.Rv=0;p40=4;break;case 4:J.YZ=0;p40=3;break;}}};O.prototype.pma=function(H,J){var q40,P,T,R;q40=2;for(;q40 !== 9;){switch(q40){case 5:var W2T="ptsc";W2T+="ha";W2T+="nge";W2T+="d";(P=this.Nb.Vg[H],T=this.Nb.rC[H]);g.ta(P.Ip) && (P.Ip=J,H === d.u.J && this.Fs && (H=this.Nb.Vg[d.u.V],g.ta(H.Ip) && (R=R.fb(d.u.V),R.pR(J)),this.emit(W2T,J)));g.ta(T.NV) && (T.NV=J);q40=9;break;case 2:R=this.Xa.gd;q40=1;break;case 1:q40=R.fb(H)?5:9;break;}}};Q10=87;break;case 87:O.prototype.m7a=function(H){var r40;r40=2;for(;r40 !== 1;){switch(r40){case 2:this.Dk && (this.Dk.Y_b(H),this.a_a());r40=1;break;}}};O.prototype.i$=function(H){var s40;s40=2;for(;s40 !== 1;){switch(s40){case 2:this.Dk && (this.Dk.X_b(H),this.a_a());s40=1;break;}}};O.prototype.a_a=function(){var t40,H;t40=2;for(;t40 !== 4;){switch(t40){case 1:var M2T="a";M2T+="llComplete";M2T+="d";H=this.L;this.Dk.mP() || (this.Dk=void 0,H.sN || this.kD.nA || this.n6(M2T));t40=4;break;case 2:t40=this.Dk?1:4;break;}}};O.prototype.bV=function(){var u40,H,J,R,P,T,V,S,W;u40=2;for(;u40 !== 7;){switch(u40){case 4:this.mh.ul();W=Math.max(W,1);this.GD && clearTimeout(this.GD);this.GD=setTimeout(this.bV.bind(this),W);u40=7;break;case 2:(H=this,J=this.L,R=this.d_,P=this.ke[R],T=this.Xa.gd,V=this.T.Tf() || 0,S=this.HA(R,V),W=J.gfa);this.Nc.hg && void 0 !== P.HJ && P.HJ - V <= J.rbb && this.Nc.hg.LH(!0,this.Tm.sessionId);this.T.getState() === f.Ia.Wc && ([d.u.J,d.u.V].forEach(function(ia){var v40,ua,Aa,U,ra,Ha,N,Q;v40=2;for(;v40 !== 35;){switch(v40){case 7:v40=Aa?6:21;break;case 5:v40=ra?4:35;break;case 4:ua=ra.Ua;ra.RN(V);(Aa=H.Xa.Lx(V,T,ia)) && !Aa.me && (Aa=H.Th[ia].dZb);v40=7;break;case 20:H.u5=Q;U=0 < Q?Q - 1:null;H.Gb.Wyb(N,V,Aa.Wv,null !== U?H.ke[U].S.K:null,U);v40=17;break;case 24:g.ta(Aa) || Aa == ra.beb || (ra.beb=Aa);v40=23;break;case 23:H.Vzb(ua,V);H.Xa.d7b();v40=35;break;case 26:N != Ha.cwa && (Ha.cwa=N,ia=H.ke[Q].S.Sx(ia,N),Q=H.HA(Q,Aa.zd),H.Gb.fzb(ia,Aa.zd,Q,ia.S.Sb));Aa=Aa.bitrate;v40=24;break;case 17:S=H.HA(Q,V);v40=15;break;case 15:Ha.nZb=Aa.Wv;N=Aa.Pa;v40=26;break;case 21:var d2T="Unable to find request";d2T+=" presen";d2T+="ting at playe";d2T+="rPts";d2T+=":";ra.$b(d2T,V);v40=23;break;case 10:v40=(H.Xa.q2b(Aa,Aa.Wv),Q > H.u5)?20:16;break;case 11:v40=!H.Xn || ia === d.u.J?10:15;break;case 1:ra=T.fb(ia);v40=5;break;case 16:H.NM && Aa.Wv != Ha.nZb && H.Gb.kzb(Aa.Wv);v40=15;break;case 2:v40=H.wc(ia)?1:35;break;case 6:ua=Aa.Lf - V;ua < W && (W=ua);(Ha=H.Nb.jy[ia],N=Aa.S,Q=N.Sb);ua=Aa.Ua;v40=11;break;}}}),this.Xa.lw(V,S));u40=4;break;}}};O.prototype.P4=function(H){var w40;w40=2;for(;w40 !== 1;){switch(w40){case 2:return this.mh.P4(H);break;}}};O.prototype.ul=function(){var x40;x40=2;for(;x40 !== 1;){switch(x40){case 2:return this.mh.ul();break;case 4:return this.mh.ul();break;x40=1;break;}}};O.prototype.kN=function(H,J){var y40,R,P;y40=2;for(;y40 !== 13;){switch(y40){case 1:y40=R?5:14;break;case 9:H.Uj && H.Uj.clear();R.A_(H);this.Th[P].A_(H);y40=6;break;case 2:R=H.Ua;y40=1;break;case 5:P=H.mediaType;H.abort();H.rd();y40=9;break;case 6:!0 === J && this.mh.ul();y40=13;break;case 14:var L2T="abo";L2T+="rtRequest with no requestManagaer";L2T+=":";this.$b(L2T,H);y40=13;break;}}};O.prototype.KAb=function(H){var z40,J,R;z40=2;for(;z40 !== 5;){switch(z40){case 2:var V2T="no newA";V2T+="udio";V2T+="Trac";V2T+="k set";(J=H.mediaType,R=this.Nb.Vg[J]);g.ta(R.Ybb)?H.$b(V2T):(this.Th[J].pause(),R.j1=!0,H=this.Gf.gv(d.u.V),R=this.Gf.S.getTrackById(R.Ybb.trackId),this.Gb.Lyb(H,R));z40=5;break;}}};O.prototype.Vzb=function(H,J){var A40,R;A40=2;for(;A40 !== 4;){switch(A40){case 2:R=this.Th[H.mediaType];H=this.Xa.l_(H.ab,H.mediaType,J,this.Nc.e0 || 0,function(P){var B40;B40=2;for(;B40 !== 1;){switch(B40){case 2:R.A_(P);B40=1;break;case 4:R.A_(P);B40=9;break;B40=1;break;}}});A40=5;break;case 5:g.ta(H) || this.mh.ul();A40=4;break;}}};O.prototype.wxb=function(H){var C40,J,R,P;C40=2;for(;C40 !== 8;){switch(C40){case 2:(J=H.mediaType,R=H.manifestIndex,P=H.streamId);H=this.Xa.gd.fb(J);J=this.ke[R].S.Sx(J,P);this.EAb(H,J);C40=3;break;case 3:this.L=this.i0a.Vvb(J.af,this.L);this.ke.forEach(function(T,V){var D40,S;D40=2;for(;D40 !== 5;){switch(D40){case 2:S=T.S;S.v$ || 0 === V || S.aR([T.gv(d.u.V),T.gv(d.u.J)]);D40=5;break;}}});C40=8;break;}}};Q10=104;break;case 104:O.prototype.zxb=function(H){var E40,J,R;E40=2;for(;E40 !== 8;){switch(E40){case 3:J.Vs && this.Gb.Qyb(J);J.Po && this.Gb.dzb(H,J.S.Sb,R.G);E40=8;break;case 2:J=H.request;H=H.mediaType;R=J.Ua.ab;R.V_b(H);E40=3;break;}}};O.prototype.EAb=function(H,J){var F40;F40=2;for(;F40 !== 1;){switch(F40){case 2:this.Nb.jy[H.mediaType].oJ={id:J.Pa,index:J.mg,bitrate:J.bitrate,Va:J.Jb && J.Jb.confidence && J.Jb.Va?J.Jb.Va.va:0,location:J.location};F40=1;break;}}};O.prototype.cva=function(H){var G40,ia,ra,ua,J,R,P,T,V,S,W;G40=2;for(;G40 !== 11;){switch(G40){case 5:(ia=W.gd,ra=ia.ue(d.u.V),ua=ia.ue(d.u.J));V.vspts=null !== (J=null === ua || void 0 === ua?void 0:ua.Ic) && void 0 !== J?J:0;V.aspts=null !== (R=null === ra || void 0 === ra?void 0:ra.Ic) && void 0 !== R?R:0;G40=9;break;case 13:H && S && (H=S[d.u.J],S=S[d.u.V],V.atoappend=null === H || void 0 === H?void 0:H.Xda(),V.vtoappend=null === S || void 0 === S?void 0:S.Xda());G40=12;break;case 1:G40=!W.gd.Pf?5:12;break;case 2:(V={},S=this.Th,W=this.Xa);G40=1;break;case 9:V.vbuflbytes=null !== (P=null === ua || void 0 === ua?void 0:ua.uo.ea) && void 0 !== P?P:0;V.abuflbytes=null !== (T=null === ra || void 0 === ra?void 0:ra.uo.ea) && void 0 !== T?T:0;V.vbuflmsec=W.wx(ia,d.u.J);G40=6;break;case 12:return V;break;case 6:V.abuflmsec=W.wx(ia,d.u.V);H && (V.a=null === ra || void 0 === ra?void 0:ra.Ua.ha.toJSON(),V.v=null === ua || void 0 === ua?void 0:ua.Ua.ha.toJSON());G40=13;break;}}};O.prototype.zUb=function(H){var H40,V,S,P,T,J,R;H40=2;for(;H40 !== 8;){switch(H40){case 1:H40=R?5:8;break;case 4:P=P.oJ?P.oJ.bitrate:0;(V=R.Ua.Pya,S=this.Xa.cg);return {type:H,availableMediaBuffer:p.default.Wp()[H] - T,completeBuffer:J.Ah(H),incompleteBuffer:V,playbackBitrate:R.beb,streamingBitrate:P,streamingTime:R.Ic + S,usedMediaBuffer:T,toappend:R.tgc};break;case 5:(P=this.Nb.jy[H],T=this.Xa.VH(J,H));H40=4;break;case 2:(J=this.Xa.gd,R=J.fb(H));H40=1;break;}}};O.prototype.Z8b=function(){var I40,H;I40=2;for(;I40 !== 5;){switch(I40){case 2:var P2T="re";P2T+="questGarbageColle";P2T+="ction";H={type:P2T,time:p.default.time.ia()};(0,t.gb)(this,H.type,H);I40=5;break;}}};O.prototype.Rq=function(H,J,R,P,T,V,S){var J40;J40=2;for(;J40 !== 5;){switch(J40){case 2:var y2T="NFErr_MC_StreamingFa";y2T+="ilu";y2T+="re";void 0 === S && (S=!1);this.a6 || (g.ta(R) && (R=y2T),this.a6=!0,this.Gb.hzb(R,H,P,T,V,void 0 !== J?J:this.d_,S));J40=5;break;}}};O.prototype.QUa=function(){var K40;K40=2;for(;K40 !== 5;){switch(K40){case 2:var v3T="Network fa";v3T+="ilures";v3T+=" rese";v3T+="t";v3T+="!";this.$b(v3T);this.mh.ul();K40=5;break;}}};O.prototype.Axb=function(H,J){var L40;L40=2;for(;L40 !== 5;){switch(L40){case 2:J=(0,m.e6a)(J);this.OTa[H.mediaType]=J;L40=5;break;}}};Object.defineProperties(O.prototype,{OH:{set:function(H){var M40;M40=2;for(;M40 !== 1;){switch(M40){case 2:this.Nb.OH=H;M40=1;break;}}},enumerable:!1,configurable:!0}});return O;break;}}function O(H,J,R,P,T,V,S,W,ia,ra,ua){var R10,Z,N,Q,Ha,Aa;R10=2;for(;R10 !== 76;){switch(R10){case 51:H=null;ra.NW && (H=this.Nc.cw.DD);w.ez.instance().reset();J=k.iia.create({Sb:0,fa:J,kq:R,ohb:P,gg:! !V.gg,k9a:!1,yl:! !V.yl,Wf:(0,d.rxa)(! !V.Ina,! !V.d1),da:0,Ta:V.Ta,Gb:this.Gb,et:this.QUa.bind(this),jc:this,config:this.L,H:this.H,mh:this.mh,$o:this.$o,hg:this.bXa?this.Nc.hg:void 0,NE:this.NE});R10=47;break;case 56:Z=this;R10=55;break;case 47:J.rV=!0;this.ke=[J];J=J.S;this.Sh=new G.YEa(this,this.H,J.Il.uUb(),this.Nc.yc,ra,this.UP(),H,this.wc.bind(this),Q);R10=64;break;case 61:this.Sh.JDa(this.L);R10=60;break;case 13:var z3T="b";z3T+="r";z3T+="anch";z3T+="ing";this.Gb=Ha;this.i0a=new u.bHa(this.H);(N=!(!J || !J.choiceMap || z3T !== J.choiceMap.type),Q=N?{KW:!1,Ss:!1}:(0,h.K5a)(ra));this.KW=Q.KW;this.Ss=Q.Ss;R10=19;break;case 63:ra=ra.ZVb;for(var U in ra){R=ra[U];ra.hasOwnProperty(U) && R && (this.L[U]=R);}R10=61;break;case 28:this.ima=0;this.Uj=new c.$f();this.$o=new I.wRa(this,this.H,this.wc.bind(this),Ha);this.mh=new L.UHa(this,this.H,this.wc.bind(this));R10=41;break;case 57:R10=this.Ss?56:77;break;case 39:var t3T="m";t3T+="anag";t3T+="erdebugev";t3T+="ent";this.Uj.on(this.Nc.hg,t3T,function(qa){var S10;S10=2;for(;S10 !== 1;){switch(S10){case 2:(0,t.gb)(Aa,qa.type,qa);S10=1;break;}}});R10=38;break;case 26:this.L=ra=this.i0a.Uvb(J,ra);this.F5=V.XZ;this.bXa=! !V.Nlb;this.jBb=! !V.WDa;R10=22;break;case 41:this.s8=new x.THa(this,this.H,Ha);R10=40;break;case 40:R10=ra.Zi && this.Nc.hg?39:38;break;case 64:R10=ra.Rqa && this.Sh.faa?63:60;break;case 77:ua && this.Nb.dw(ua,J.P);R10=76;break;case 17:this.SAb=[!V.d1,!V.Ina,!1];this.wc(d.u.V) && this.wc(d.u.J);this.Nc=H;this.Tm=S;R10=26;break;case 38:R10=(ra.$Da || ra.ZDa) && this.Nc.hg?37:36;break;case 36:N && ra.vO && !ra.xNb && (ra.set?ra.set({enableAdaptiveParallelStreaming:!1}):ra.vO=!1);0 === Math.floor(1E6 * Math.random()) % ra.yN && (this.jAb=new n.UQa(ra));this.ex=[];this.Th=[];R10=51;break;case 21:this.M5=void 0;this.T=new y.mFa(ia);this.ED=T || 0;this.CU=0;R10=32;break;case 37:var E3T="med";E3T+="ia";E3T+="cache";this.Uj.on(this.Nc.hg,E3T,function(qa){var T10;T10=2;for(;T10 !== 1;){switch(T10){case 2:var f3T="med";f3T+="i";f3T+="acache";(0,t.gb)(Aa,f3T,qa);T10=1;break;}}});R10=36;break;case 32:this.OTa=W;this.a6=!1;this.pU=void 0;this.u5=-1;R10=28;break;case 22:this.NM=V.Naa;R10=21;break;case 7:this.$b=this.H.warn.bind(this.H);this.Vj=this.H.trace.bind(this.H);Ha=new K.BNa(this,this.H);R10=13;break;case 60:this.Xa=new E.tga(this,this.Gb,this.H,this.sma.bind(this),J,this.ED,this.L,this.mh,this.T,this.mX.bind(this));U={Naa:this.Naa,Kt:this.Kt,Xn:this.Xn,XZ:this.XZ};this.Nb=new F.XRa(this.H,this.Sh,this.L,this.wc.bind(this),this.T,U,this.Nc.yc,this.Gb,this.mh,this.Xa,Q);R10=57;break;case 19:this.Iy=ra.Iy;this.dj=new M.xLa(this,this.H,this.wc.bind(this),Q);R10=17;break;case 2:var J3T="me";J3T+="dia";J3T+="|";J3T+="asejs";var U3T="A";U3T+="S";U3T+="E";U3T+="J";U3T+="S";var x3T="1SIYb";x3T+="Zr";x3T+="N";x3T+="JC";x3T+="p9";Aa=this;this.kD=new z.b4();this.TTa=[];this.NE={ax:[Object.create(null),Object.create(null)]};x3T;this.H=new p.default.Console(U3T,J3T,"(" + S.sessionId + ")");this.Gk=this.H.error.bind(this.H);R10=7;break;case 55:this.T.addListener(function(qa){var U10,V10;U10=2;for(;U10 !== 1;){switch(U10){case 2:try{V10=2;for(;V10 !== 1;){switch(V10){case 2:Z.Nb.Yec.bind(Z.Nb)(qa);V10=1;break;}}}catch(Fa){var B3T="H";B3T+="indsight: Error when adding ";B3T+="updatePlaySegment Li";B3T+="stener";B3T+=": ";a000.G4T(5);Z.Gb.Ro(a000.K4T(Fa,B3T));}U10=1;break;}}});R10=77;break;}}}})();b.HRa=a;(0,r.Ue)(c.EventEmitter,a);},function(r,b,a){var c,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.iia=void 0;c=a(14);g=a(6);k=a(8);m=a(261);r=(function(){function f(d,l,n,h,p,q,t,v,w,u,x,y){void 0 === n && (n=0);this.Ae=d;this.R5=l;this.da=n;this.Ta=h;this.t9=p;this.Zh=q;this.YO=t;this.config=v;this.H=w;this.Gb=u;this.dPb=x;this.ej=y;this.dy=0;}f.create=function(d){var n,h,p,q,t,v,w,u,x,y,z,A,B,C,D;function l(E){(0,k.gb)(u,E.type,E);}n=d.Sb;h=d.fa;p=d.ohb;q=d.da;t=d.Ta;v=d.et;w=d.Gb;u=d.jc;x=d.config;y=d.H;z=d.mh;A=d.$o;B=d.hg;C=d.NE;D=new m.gga(Number(h.movieId),{Sb:n,fa:h,kq:d.kq,Yab:{lva:d.gg,x9a:! !d.k9a},yl:d.yl,Wf:d.Wf,config:x,L7a:{Wl:z.ul.bind(z),hg:B,NE:C,PB:l,$$:function(E){return E === u.Xa.gd.S;},KX:function(E,G,F,I,L){E=u.Nb.Vg[E];return !G || F || I || L?u.pU:E.Se;},FE:function(E){return u.Nb.jy[E];},Zh:u.Zh.bind(u)},rZ:function(E){u.emit("requestComplete",{type:"requestComplete",timestamp:E.ig,mediaRequest:E});},s9:function(){return u.Sh;},yc:u.Nc.yc,Xk:u.Nc.Xk,g3a:{et:v,Yf:function(E,G,F,I,L,M){void 0 === M && (M=!1);return !M || u.T.Jf()?(u.Rq(E,n,G,F,I,L,M),!0):!1;},Oo:function(){return u.a6;},PB:l},bR:void 0,NF:{Z:u.Nc.e0,ea:u.Nc.lea}});x.rE && D.CK({zm:u.Tm.zm,qa:u.Tm.qa,yW:u.Tm.yW,Ro:w.Ro.bind(w)});d=new c.$f();d.addListener(D.tv,"onHeaderFragments",function(E){var G,F,I,L,M;G=E.mediaType;F=E.Pa;I=E.stream.ha;L=u.Zh(n);if(L){if(D.cj[G] && E !== D.cj[G])E.Mx && (L=D.cj[G],E=E.stream,M=L && L.stream,y.warn("first header received for non-current track (trackId " + E.trackId + "streamId " + E.Pa + "), expected track " + (M && M.trackId) + ", stream " + (M && M.Pa) + ", " + L));else {D.cj[G]=E;E=u.Xa.gd;if(0 === n){M=D.wc(g.u.J)?E.fb(g.u.J).Ic:E.fb(g.u.V).Ic;E.t7(M,D);}L.$za=!1;L.xoa();u.m6();}A.ela();w.bzb(n,G,F,D.K,I);z.ul();}else y.warn("addFragments for stale manifestIndex:",n);});d.addListener(D.tv,"onHeaderRequestComplete",function(E){var G,F;E.pm?u.m6():E.oE && (y.warn("drm header header:",E.toString(),"but no headers seen, marking pipeline drmReady"),u.qI(E.K));G=E.mediaType;F=Object.getOwnPropertyNames(C.ax[G]);u.Th[G].tcb(E.stream,1 === F.length && F[0] === E.Pa);z.qUa();u.Z8b();});d.addListener(D.tv,"onHeaderFromCache",function(E){var G;G=E.header;E=E.eQb;G.pm && u.m6();E && w.Syb(G.K,G.Pa);});return new f(D,p,q,t,function(){return u.Xa;},u.Zh.bind(u),u.YO.bind(u),x,y,w,!1,d);};Object.defineProperties(f.prototype,{S:{get:function(){return this.Ae;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Sb:{get:function(){return this.S.Sb;},enumerable:!1,configurable:!0}});f.prototype.gv=function(d){return this.Ae.IUb(d,this.C9(d));};f.prototype.C9=function(d){return this.R5[d];};f.prototype.close=function(){this.ej.clear();this.S.close();};f.prototype.rd=function(){this.Ae.rd();delete this.Ae;};f.prototype.clone=function(){return new f(this.S,this.R5,this.da,this.Ta,this.t9,this.Zh,this.YO,this.config,this.H,this.Gb,!0,this.ej);};f.prototype.hlb=function(d){this.H.trace("updateAudioTrack:",this.R5[g.u.V],"->",d);this.R5[g.u.V]=d;};f.prototype.Q5a=function(){return void 0 !== this.HJ?this.HJ:this.Ta?this.Ta:this.Ae.duration;};f.prototype.GFb=function(d,l){var n;n=this.Ae.cj[d];if(n && n.stream.ee){if(this.XA && this.XA[d] && this.XA[d].da <= l && this.XA[d].Ta > l)return this.XA[d].zd;d=n.stream.ha;l=d.Eo(l,void 0,!0);n=void 0;void 0 === n && (n=d.kl(l));return n;}};f.prototype.xoa=function(){var d,l;if(!this.$za && this.z7a()){this.Yxa();d=[0,0];if(0 !== this.Sb && !this.Ae.Kf.YY && !this.Ae.Kf.replace){l=this.Zh(this.Sb - 1);l=this.Ae.K === l.Ae.K;d=this.t9().gd;l=d.t7(this.da,this.S,d,l);d=l.OQ;}this.da=d[g.u.J];this.OQ=d;this.XA=l && l.XA;this.GZa();l=this.Ae.wc(g.u.J)?this.Ae.cj[g.u.J].stream.ha.Ta:this.Ae.cj[g.u.V].stream.ha.Ta;this.Gb.Xyb(this.Sb,this.dy,this.da,this.HJ,l);this.$za=!0;for(l=this.Sb + 1;l < this.YO();++l){d=this.Zh(l);d.$za=!1;d.xoa();}}};f.prototype.GZa=function(){var d;if(0 === this.Sb || this.Ae.Kf.replace)this.dy=0;else {d=this.Zh(this.Sb - 1);this.dy=d.dy + d.Q5a() - this.da;}};f.prototype.Yxa=function(){var d,l,n,h,p,q,t,v;if(this.z7a()){p=this.t9().gd;q=this.Ta || Infinity;t=this.Ae.wc(g.u.J);v=p.YW(q,this.S);this.HJ=t?v[g.u.J].Ta:v[g.u.V].Ta;p=t?this.Ae.cj[g.u.J].stream.ha.Ta:this.Ae.cj[g.u.V].stream.ha.Ta;t=Math.min(null !== (l=null === (d=v[g.u.J]) || void 0 === d?void 0:d.Ta) && void 0 !== l?l:Infinity,null !== (h=null === (n=v[g.u.V]) || void 0 === n?void 0:n.Ta) && void 0 !== h?h:Infinity);this.Gb.Zyb(this.Sb,this.HJ,p,t);d=this.t9().Ara(this.Sb);0 < d.length && d.forEach(function(w){w.Qec(v,q);});}};f.prototype.z7a=function(){var d,l,n,h;d=this.Ae.wc(g.u.V);l=this.Ae.wc(g.u.J);n=this.Ae.cj[g.u.V];h=this.Ae.cj[g.u.J];n=n && n.stream.ee;h=h && h.stream.ee;return (!d || n) && (!l || h);};return f;})();b.iia=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.IRa=void 0;r=a(0);c=a(8);a=r.__importDefault(a(4));g=a.default.ps;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function k(m,f,d){this.Ro=d;this.sBb=new c.nka(m);this.qa=f.qa;this.gwb=1E3 * f.A0b / f.UEb;this.FMb=f.yW;this.pYa=!1;}k.prototype.Qu=function(m){var f,d;f={s_xid:this.qa,dl:this.FMb?1:0};m.VD && (f.bs=(0,c.x7)(Math.floor(m.VD / this.gwb) + 1,1,5));m.Mba && (f.limit_rate=m.Mba);m.dZa && (f.bb_reason=m.dZa);m.qkb && (f.tm=m.qkb);if(m.dW){d=m.dW.iaa();if(d || !d && this.pYa)(f.cpr_ss=m.dW.oC,f.cpr_ca=m.dW.GA,f.cpr_rec=m.dW.cC,this.pYa=d);}m.$na && (f.br="" + m.$na.start + "+" + m.$na.size);return this.nzb(f);};k.prototype.vBa=function(m,f){var d,l;try{d=new g(void 0,"notification");l=this.Qu({dZa:m});f && l && d.open(f,void 0,2,void 0,void 0,void 0,l);}catch(n){this.Ro("SideChannel: Error when sending sendBlackBoxNotification. Error: " + n);}};k.prototype.nzb=function(m){var f;try{f=this.BAb(m);return this.sBb.encrypt(f);}catch(d){this.Ro("SideChannel: Error when obfuscating msg. Error: " + d);}};k.prototype.BAb=function(m){return Object.keys(m).map(function(f){return encodeURIComponent(f) + "=" + encodeURIComponent(JSON.stringify(m[f]));}).join("&");};return k;})();b.IRa=a;},function(r,b,a){var c,g,k,m,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.dSa=b.cvb=void 0;c=a(0);a(86);g=a(2);r=c.__importDefault(a(4));k=a(427);a=a(425);m=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);f=!0;}catch(l){f=!1;}d=(function(l){function n(h,p){p=l.call(this,h.rq,p) || this;p.CH=h;return p;}c.__extends(n,l);Object.defineProperties(n.prototype,{ea:{get:function(){return this.CH.Eib(this.ze);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{offset:{get:function(){return this.CH.Ci(this.ze);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Jxa:{get:function(){return this.CH.jQ && this.CH.jQ[this.ze];},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Mk:{get:function(){return this.CH.hRb(this.ze);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{eb:{get:function(){return this.CH.Zy && this.CH.Zy[this.ze];},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Yna:{get:function(){return 8 * this.ea / (1E3 * this.Vu / this.W);},enumerable:!1,configurable:!0}});n.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.Za,contentEndTicks:this.lb,durationTicks:this.Vu,timescale:this.W,startPts:this.da,endPts:this.Ta,duration:this.duration,additionalSAPs:this.Mk};};return n;})(a.FSa);b.cvb=d;r=(function(){function l(n,h,p,q,t,v,w){this.SM=128;this.Zc=h;this.Pb=p.offset;this.mo=p.sizes;this.Y5=n;this.pM=this.ZT=this.Si=this.Vq=this.tma=void 0;this.zyb=q;this.tka=t && t.Ci;this.Gma=v;this.Of=Math.min(this.Zc.length,this.mo.length);n=this.wFb();this.lyb=n.maxBitrate;this.myb=n.gq;this.rq.ws.length !== this.mo.length && m.trace("Mis-matched stream duration (" + this.rq.ws.length + "," + this.mo.length + ") for movie id " + w);this.rq.z6 && !this.tka && m.error("Mis-matched additional SAPs information for movie id " + w);}Object.defineProperties(l.prototype,{mediaType:{get:function(){return this.Zc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{length:{get:function(){return this.Of;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Qn:{get:function(){return this.Zc.Qn;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Vqa:{get:function(){return this.Zc.Vqa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{da:{get:function(){return this.Zc.da;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ta:{get:function(){return this.Zc.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{cxa:{get:function(){return this.Zc.cxa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{hy:{get:function(){return this.lyb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{gq:{get:function(){return this.myb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ba:{get:function(){return this.Zc.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{W:{get:function(){return this.Zc.W;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Hg:{get:function(){return this.Vq || this.Cka();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{jQ:{get:function(){return this.zyb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{kna:{get:function(){return this.tka;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Zy:{get:function(){return this.Gma;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{rq:{get:function(){return this.Zc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{GK:{get:function(){return this.tma || this.Awb();},enumerable:!1,configurable:!0}});l.prototype.Eib=function(n){if(this.mo)return this.mo[n];m.error("sizesByIndex _sizes is undefined");return -1;};l.prototype.kl=function(n){return this.Zc.kl(n);};l.prototype.PW=function(n){return this.Zc.kl(n) + this.Zc.se(n);};l.prototype.Ci=function(n){var h,p,q;if(this.ZT !== n || void 0 === this.pM){if(0 === n)return this.Pb;if(this.ZT === n - 1 && void 0 !== this.pM)(this.pM+=this.mo[this.ZT],++this.ZT);else {h=this.Si || this.kwb();p=Math.floor(n / this.SM);q=p * this.SM;for(h=h[p];q < n;++q){h+=this.mo[q];}this.ZT=n;this.pM=h;}}return this.pM;};l.prototype.se=function(n){return this.Zc.se(n);};l.prototype.get=function(n){return new d(this,n);};l.prototype.hRb=function(n){var h,p,q,t,v;(0,g.assert)(0 <= n);h=this.rq.z6;p=this.rq.MXa;q=this.tka;if(!q || !h || !p || n >= h.length)return [];t=[];v=n === h.length - 1?p.length:h[n + 1];for(h=h[n];h < v;++h){t.push({jj:p[h],Re:this.kl(n) + this.ba.MB(p[h]).Z,offset:q[h]});}return t;};l.prototype.Eo=function(n,h,p){return this.Zc.Eo(n,h,p);};l.prototype.W8=function(n,h,p){return this.Zc.W8(n,h,p);};l.prototype.J7=function(n,h){return this.Zc.J7(n,h);};l.prototype.tFb=function(n,h,p,q,t){var v,w,u,x,y,z,A,B,C;v=!0;w=0;u=this.Zc.ws;x=this.mo;n=Math.floor(n * this.W / 1E3);y=Math.floor(p * this.W / 1E3);z=0;A=0;B=0;if(this.Zc.DDa && this.Zc.CDa)for(w=this.Zc.DDa;w <= this.Zc.CDa;++w){z+=u[w];A+=x[w];}if(A > h)v=!1;else for(;w < this.length && (!t || w < t);){C=x[w];p=u[w];if(A + C > h){for(;1 < w - B && A + C > h && (z - u[B] >= y || A - x[B] > q);){z-=u[B];A-=x[B];++B;}if(z < n || A + C > h){v=!1;this.Zc.DDa=B;this.Zc.CDa=w;break;}}z+=p;A+=C;++w;}return v;};l.prototype.subarray=function(n,h){(0,g.assert)(void 0 === n || 0 <= n && n < this.length);(0,g.assert)(void 0 === h || h > n && h <= this.length);return new l(this.Y5,this.Zc.subarray(n,h),{offset:this.Ci(n),sizes:this.mo.subarray(n,h)},this.jQ && this.jQ.subarray(n,h),this.kna && ({Ci:this.kna}),this.Gma && this.Gma.subarray(n,h));};l.prototype.forEach=function(n){for(var h=0;h < this.length;++h){n(this.get(h),h,this);}};l.prototype.map=function(n){for(var h=[],p=0;p < this.length;++p){h.push(n(this.get(p),p,this));}return h;};l.prototype.reduce=function(n,h){for(var p=0;p < this.length;++p){h=n(h,this.get(p),p,this);}return h;};l.prototype.toJSON=function(){return {length:this.length};};l.prototype.dump=function(){var h;m.trace("StreamFragments: " + this.length);for(var n=0;n < this.length;++n){h=this.get(n);m.trace(("StreamFragments: ").concat(n,": [").concat(h.da,"-").concat(h.Ta,"] @ ").concat(h.offset,", ").concat(h.ea," bytes"));}};l.prototype.wFb=function(){var n,h,p,q,t,v,x;n=0;h=0;p=this.Zc.Dab;q=this.Zc.Eab;t=this.Zc.ws;v=this.mo;if(void 0 === p || p >= this.length || void 0 === q || q >= this.length){for(var w=0,u=this.length;w < u;++w){x=v[w];x > h && (h=x,q=w);x/=t[w];x > n && (n=x,p=w);}void 0 === this.Zc.Dab && (this.Zc.Dab=p);void 0 === this.Zc.Eab && (this.Zc.Eab=q);}else (n=v[p] / t[p],h=v[q]);return {maxBitrate:Math.floor(n * this.W / 125),gq:h};};l.prototype.Cka=function(){for(var n=0,h=0;h < this.length;++h){n+=this.mo[h];}return this.Vq=n;};l.prototype.Awb=function(){return this.tma=new k.Mja(this.Zc.ws,this.mo,this.Zc.W);};l.prototype.kwb=function(){if(!this.Si){for(var n=f?new Float64Array(Math.ceil(this.length / this.SM)):Array(Math.ceil(this.length / this.SM)),h=this.Pb,p=0;p < n.length;++p){n[p]=h;for(var q=0;q < this.SM;++q){h+=this.mo[p * this.SM + q];}}this.Si=n;}return this.Si;};return l;})();b.dSa=r;r.prototype.Zib=(0,a.cy)(r.prototype.kl);(0,a.cy)(r.prototype.PW);(0,a.cy)(r.prototype.se);(0,a.cy)(r.prototype.Ci);(0,a.cy)(r.prototype.Eib);(0,a.cy)(r.prototype.get);},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z;Object.defineProperties(b,{__esModule:{value:!0}});b.LIa=void 0;c=a(0);g=a(14);k=c.__importStar(a(11));m=c.__importDefault(a(4));f=new m.default.Console("ASEJS_ERROR_DIRECTOR","asejs");d=c.__importDefault(a(28));l=a(430);n=a(159);h=a(985);p=m.default.ps;q=p.p2;t={};v={};r=[d.default.mi.yz,!1];a=[d.default.mi.yz,!0];w=[d.default.mi.NG,!1];u=[d.default.mi.NG,!0];x=[d.default.mi.URL,!0];y=[-1,!1];z=[d.default.mi.NG,!1];t[q.ohc]=w;t[q.UNKNOWN_ERROR]=w;t[q.rkc]=w;t[q.Epb]=w;t[q.mHa]=w;t[q.Qpb]=w;t[q.Ipb]=u;t[q.Hob]=u;t[q.vGa]=z;t[q.tGa]=z;t[q.Iob]=y;t[q.Job]=z;t[q.Kob]=z;t[q.Eob]=w;t[q.Gob]=w;t[q.uGa]=r;t[q.Fob]=w;t[q.Dob]=z;t[q.eic]=u;t[q.Yqb]=z;t[q.QJa]=z;t[q.PJa]=z;t[q.MJa]=z;t[q.NJa]=z;t[q.Xqb]=x;t[q.uha]=u;t[q.wha]=x;t[q.vha]=a;t[q.k3]=u;t[q.$qb]=x;t[q.l3]=z;t[q.RJa]=u;t[q.Zqb]=u;t[q.Lpb]=u;t[q.Fpb]=w;t[q.Nub]=w;t[q.vpb]=w;t[q.wpb]=w;t[q.xpb]=w;t[q.ypb]=w;t[q.zpb]=w;t[q.Apb]=w;t[q.Bpb]=w;t[q.Cpb]=w;t[q.Dpb]=w;t[q.Gpb]=w;t[q.Hpb]=w;t[q.Jpb]=w;t[q.Kpb]=w;t[q.Mpb]=w;t[q.Npb]=w;t[q.Opb]=w;t[q.Ppb]=w;t[q.Rpb]=w;t[q.Spb]=w;t[q.Mub]=z;t[q.TIMEOUT]=r;v[q.vGa]=!0;v[q.QJa]=!0;v[q.PJa]=!0;v[q.NJa]=!0;v[q.mHa]=!0;r=(function(){var N40;N40=2;function A(B,C,D,E){var O40;O40=2;for(;O40 !== 20;){switch(O40){case 13:this.LP=m.default.time.ia();this.Ru=0;this.dDa={};O40=10;break;case 4:this.et=E;this.events=new g.EventEmitter();O40=9;break;case 2:this.Il=B;this.config=C;this.$ta=D;O40=4;break;case 9:var i3T="network";i3T+="F";i3T+="ail";i3T+="ed";var K3T="1SIY";K3T+="bZrN";K3T+="JC";K3T+="p9";this.ej=new g.$f();K3T;this.n_a=new n.b4();t[q.MJa]=C.pWb?u:z;this.ej.addListener(this.Il,i3T,this.lVb.bind(this));O40=13;break;case 10:this.h_=B.Ya?new h.Sha(B,E,C):new l.rja(B,E,C);O40=20;break;}}}for(;N40 !== 12;){switch(N40){case 6:A.prototype.lk=function(){var l50,B,C,D;l50=2;for(;l50 !== 4;){switch(l50){case 5:var j3T="m";j3T+="s";var G3T="Setting";G3T+=" un";G3T+="derflow timeout in ";!C.Jlb || this.R0 || C.kfa && C.A8 && C.a2b || (f.info(G3T + D + j3T),this.R0=setTimeout(function(){var m50;m50=2;for(;m50 !== 4;){switch(m50){case 2:var A3T="ms, since u";A3T+="nderflow with ";A3T+="no success";var g3T="Forcing permanent";g3T+=" network fa";g3T+="ilure after ";a000.G4T(8);f.info(a000.K4T(g3T,A3T,D));B.R0=void 0;m50=5;break;case 5:B.Il.Jt(d.default.mi.yz,!0);m50=4;break;}}},D));l50=4;break;case 2:(B=this,C=this.config,D=C.Taa);this.LP=Math.max(m.default.time.ia(),this.LP);l50=5;break;}}};A.prototype.v_a=function(){var n50;n50=2;for(;n50 !== 1;){switch(n50){case 2:var b3T="Clear";b3T+="ed und";b3T+="erfl";b3T+="ow timeout";this.R0 && (clearTimeout(this.R0),this.R0=void 0,f.info(b3T));n50=1;break;}}};return A;break;case 2:A.prototype.xb=function(){var P40;P40=2;for(;P40 !== 1;){switch(P40){case 2:this.ej.clear();P40=1;break;case 4:this.ej.clear();P40=8;break;P40=1;break;}}};A.prototype.CK=function(B){var Q40;Q40=2;for(;Q40 !== 1;){switch(Q40){case 4:this.hea=B;Q40=4;break;Q40=1;break;case 2:this.hea=B;Q40=1;break;}}};A.prototype.Jt=function(B,C,D,E,G){var R40,J,F,I,L,M,K,O,H,U40,V,S,W,ia,ra,ua,Aa,Ha,N,W40,X40,Y40,R,Z40,U,Z,b50,c50,d50,P,T;R40=2;for(;R40 !== 25;){switch(R40){case 3:R40=E && k.isArray(t[E])?9:26;break;case 9:H.Ya && B && E === q.k3 && B.HVb && (t[q.k3]=w);J=t[E];R40=7;break;case 2:K=p.p2.name;K=E?K[E]:void 0;(O=this.config,H=this.Il);R40=4;break;case 14:R40=J !== y?13:25;break;case 19:try{U40=2;for(;U40 !== 14;){switch(U40){case 1:U40=!S.done?5:14;break;case 2:(V=c.__values(C),S=V.next());U40=1;break;case 5:(W=S.value,ia=W.urls,ra=W.url,ua=W.tc,Aa=W.stream,Ha=W.Zb);U40=4;break;case 3:N={C6:ua,WR:J,Vx:D,zg:E,O8:K,Bi:G};U40=9;break;case 8:var e3T="e";e3T+="rr";e3T+="or";!this.hea || 0 !== D && void 0 !== D || this.hea.vBa(e3T,ra);U40=7;break;case 4:U40=J === z || J === w?3:6;break;case 9:this.h_.Uca(W,N);U40=8;break;case 7:S=V.next();U40=1;break;case 6:J === x && (null === (L=null === Aa || void 0 === Aa?void 0:Aa.zN) || void 0 === L?0:L.Ya) && (null === (M=null === Aa || void 0 === Aa?void 0:Aa.zN) || void 0 === M?void 0:M.Zb) === Ha.id && B?(N={C6:ua,WR:J,Vx:D,zg:E,O8:K,Bi:G,Y:null === B || void 0 === B?void 0:B.cq},this.h_ instanceof h.Sha && this.h_.F6b(W,N)):ia.some(function(Fa){var V40;V40=2;for(;V40 !== 5;){switch(V40){case 2:H.Jt(P,T,Fa.url);return P === d.default.mi.NG;break;}}});U40=8;break;}}}catch(Fa){var Q;Q={error:Fa};}finally{W40=2;for(;W40 !== 1;){switch(W40){case 2:try{X40=2;for(;X40 !== 1;){switch(X40){case 2:S && !S.done && (F=V.return) && F.call(V);X40=1;break;}}}finally{Y40=2;for(;Y40 !== 5;){switch(Y40){case 1:throw Q.error;Y40=5;break;case 2:Y40=Q?1:5;break;}}}W40=1;break;}}}R40=25;break;case 7:var H3T="crit";H3T+="icalNetworkEr";H3T+="ror";var c3T="critic";c3T+="al";c3T+="NetworkError";this.uB={Vx:D,zg:E,O8:K,Bi:G};v[E] && (++this.Ru,this.events.emit(c3T,{type:H3T,zg:E}));R40=14;break;case 12:R=H.ESb(B.Hy);R40=11;break;case 27:return;break;case 15:var k3T="Inv";k3T+="a";k3T+="lid affected for net";k3T+="work failure";f.error(k3T);R40=27;break;case 13:R40=B?12:17;break;case 17:R40=C?16:15;break;case 26:var q3T="Unmapped failure ";q3T+="code in JSASE erro";q3T+="r dire";q3T+="ctor : ";a000.j4T(5);f.error(a000.K4T(E,q3T));R40=25;break;case 20:R40=O.Uv?19:18;break;case 4:var Z3T=" : critical";Z3T+=" error";Z3T+=" count = ";var u3T=" ";u3T+="o";u3T+="n ";var o3T="Fa";o3T+="i";o3T+="l";o3T+="ur";o3T+="e ";f.warn(o3T + K + u3T + JSON.stringify(B?B:C) + Z3T + this.Ru);R40=3;break;case 18:try{Z40=2;for(;Z40 !== 13;){switch(Z40){case 2:(U=c.__values(C),Z=U.next());Z40=1;break;case 14:Z=U.next();Z40=1;break;case 1:Z40=!Z.done?5:13;break;case 5:W=Z.value;ua=W.tc;ia=W.urls;ra=W.url;Z40=8;break;case 8:Z40=J === z && !this.P8b(ua)?13:7;break;case 7:var D3T="e";D3T+="r";D3T+="r";D3T+="o";D3T+="r";ia.some(function(Fa){var a50;a50=2;for(;a50 !== 5;){switch(a50){case 2:H.Jt(P,T,Fa.url);return P === d.default.mi.NG;break;}}});!this.hea || 0 !== D && void 0 !== D || this.hea.vBa(D3T,ra);Z40=14;break;}}}catch(Fa){var qa;qa={error:Fa};}finally{b50=2;for(;b50 !== 1;){switch(b50){case 2:try{c50=2;for(;c50 !== 1;){switch(c50){case 2:Z && !Z.done && (I=U.return) && I.call(U);c50=1;break;}}}finally{d50=2;for(;d50 !== 5;){switch(d50){case 1:throw qa.error;d50=5;break;case 9:throw qa.error;d50=0;break;d50=5;break;case 2:d50=qa?1:5;break;}}}b50=1;break;}}}R40=25;break;case 11:C=H.N6a(B).map(function(Fa){var S40;S40=2;for(;S40 !== 1;){switch(S40){case 2:return {url:B.url,tc:Fa.id,Zb:Fa,stream:R,urls:Fa.urls,Y:B.cq};break;}}});R40=10;break;case 10:(P=J[0],T=J[1]);R40=20;break;case 16:C=H.I$b(C.host,C.port).map(function(Fa){var T40;T40=2;for(;T40 !== 1;){switch(T40){case 2:return {url:Fa.url.url,tc:Fa.Zb.id,Zb:Fa.Zb,stream:Fa.url.stream,urls:Fa.Zb.urls};break;}}});R40=10;break;}}};A.prototype.P8b=function(B){var e50,C,D,E;e50=2;for(;e50 !== 7;){switch(e50){case 4:(E.An=C,E.count=1);e50=7;break;case 2:(C=m.default.time.ia(),D=this.config,E=this.dDa[B]);e50=1;break;case 1:e50=E?5:8;break;case 3:e50=!(E.An >= C - D.Iea || E.gC || (E.An=C,++E.count,E.count < D.$aa))?9:7;break;case 5:e50=E.An < this.LP?4:3;break;case 8:this.dDa[B]={An:C,count:1};e50=7;break;case 9:return E.gC=!0;break;}}};A.prototype.lVb=function(B){var f50,C,D,E,G,F,I,L;f50=2;for(;f50 !== 7;){switch(f50){case 2:var l3T="Network has f";l3T+="aile";l3T+="d ";var s3T="tem";s3T+="por";s3T+="a";s3T+="rily";var m3T="pe";m3T+="rma";m3T+="n";m3T+="ently";var n3T=" l";n3T+="a";n3T+="st success";n3T+=" was ";var T3T=" ms ";T3T+="a";T3T+="go";(C=this,D=m.default.time.ia() - this.LP,E=B,G=this.config);a000.j4T(9);f.warn(a000.i4T(T3T,n3T,B?m3T:s3T,l3T,D));!B && D > G.Mxa && (E=!0);f50=4;break;case 4:f50=this.uB?3:9;break;case 9:var F3T="te";F3T+="m";F3T+="poraryN";F3T+="etworkError";var R3T="tempor";R3T+="ar";R3T+="yNe";R3T+="t";R3T+="workError";B || this.events.emit(R3T,{type:F3T,errorCode:F,httpCode:I,nativeCode:L});E?(this.cR && (clearTimeout(this.cR),this.cR=void 0),this.v_a(),this.h_.reset(),this.$ta({oYb:B,X3b:F,Z3b:I,$3b:L})):this.cR || (this.cR=setTimeout(function(){var g50;g50=2;for(;g50 !== 5;){switch(g50){case 2:C.cR=void 0;C.wda();g50=5;break;}}},G.Nxa));f50=7;break;case 3:(F=this.uB.zg,I=this.uB.Vx,L=this.uB.Bi);f50=9;break;}}};A.prototype.wda=function(){var h50,B;h50=2;for(;h50 !== 5;){switch(h50){case 2:B=this;this.n_a.nA || this.n_a.Bfa(function(){var i50;i50=2;for(;i50 !== 1;){switch(i50){case 2:B.cR || (B.Il.wda(),B.dDa={},B.et());i50=1;break;}}});h50=5;break;}}};N40=8;break;case 8:A.prototype.cfa=function(B){var j50,C;j50=2;for(;j50 !== 9;){switch(j50){case 2:C=this.config;this.LP=Math.max(B.ig || m.default.time.ia(),this.LP);this.v_a();C.Uv && this.h_.cfa(B);j50=3;break;case 3:var O3T="upd";O3T+="ati";O3T+="ngLastSucce";O3T+="ssEven";O3T+="t";var N3T="up";N3T+="datingLastSuccessEv";N3T+="ent";this.events.emit(N3T,{type:O3T});j50=9;break;}}};A.prototype.lya=function(){var k50;k50=2;for(;k50 !== 1;){switch(k50){case 2:this.Ru=0;k50=1;break;case 4:this.Ru=7;k50=5;break;k50=1;break;}}};N40=6;break;}}})();b.LIa=r;},function(r,b,a){var c,g,k,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Sha=void 0;c=a(0);g=c.__importDefault(a(4));k=a(2);m=a(431);r=a(430);f=new g.default.Console("ASEJS_LIVE_PROBE_MANAGER","asejs");r=(function(d){function l(n,h,p){return d.call(this,n,h,p) || this;}c.__extends(l,d);l.prototype.Uca=function(n,h){f.log("Starting probing live servers");d.prototype.Uca.call(this,n,h);};l.prototype.F6b=function(n,h){var p,q,t;t=null === (p=n.stream) || void 0 === p?void 0:p.zN;(0,k.assert)(t,"aseStream is null");p=this.X5a(t,null !== (q=n.Y) && void 0 !== q?q:0,n.urls[0]);q=new m.K1(this);f.log("probeLiveSegmentServer probeUrl: " + p);t=g.default.time.ia();d.prototype.rib.call(this,n.tc,t,h,n);this.ix && (t={ts:t,es:h.C6,fc:h.zg,fn:h.O8,nc:h.Bi,pb:[q.$h()],gid:this.groupId},h.Vx && (t.hc=h.Vx),d.prototype.ay.call(this,t,"errpb"));q.Eya(p,n,n.tc);f.log("Opened probe request for serverId " + n.tc + " url " + n.url);};l.prototype.Iza=function(n,h){var p,q;f.log("Probe succeeded for serverId " + n.tc + " url " + n.url);p=this.getState(h.tc);q=h.stream;(q=null === q || void 0 === q?void 0:q.zN) && (null === p || void 0 === p?0:p.Y)?(q.SBb(p.Y),f.log("Clearing state for serverId: ",h.tc),d.prototype.hpa.call(this,h.tc),this.ix && (n={ts:g.default.time.ia(),id:n.requestId,result:1,servid:n.tc,gid:n.groupId?n.groupId:-1},d.prototype.ay.call(this,n,"pbres"))):d.prototype.Iza.call(this,n,h);};l.prototype.Gza=function(n,h){var p,q;f.log("Probe failed for serverId " + n.tc + " url " + n.url);p=this.getState(h.tc);q=null === p || void 0 === p?void 0:p.EOb;p && q && q.Y?(f.log("Clearing state for serverId: ",h.tc),d.prototype.hpa.call(this,h.tc),d.prototype.Uca.call(this,h,q),this.ix && (n={ts:g.default.time.ia(),id:n.requestId,result:0,servid:n.tc,gid:n.groupId?n.groupId:-1},this.ay(n,"pbres"))):d.prototype.Gza.call(this,n,h);};l.prototype.Npa=function(n,h){var p;n=new m.K1(this);p=this.X5a(h.stream.zN,h.Y,h.Zb.urls[0]);n.Eya(p,h,h.tc);return n;};l.prototype.X5a=function(n,h,p){return n.W9(0 === h,h - 1,p.url);};return l;})(r.rja);b.Sha=r;},function(r,b,a){var c,g,k,m,f,d,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.WJa=void 0;c=a(0);g=a(129);k=a(432);m=a(6);f=c.__importDefault(a(4));r=a(89);d=a(435);l=a(2);n=a(118);a=(function(h){function p(q,t,v,w,u,x,y,z,A,B,C){var D;D=h.call(this,q) || this;D.Ae=q;D.H=t;D.L=v;D.PB=w;D.FE=x;D.$$=y;D.Qz=z;D.AWa=A;D.Zh=B;D.iVa=[void 0,void 0];D.oU=null !== C && void 0 !== C?C:{ax:[Object.create(null),Object.create(null)]};u?D.KX=u:(D.Ne=n.ip.instance.Os("headers","" + D.Ae.P,!0,!1,{},D.L),D.Ne.oa());return D;}c.__extends(p,h);Object.defineProperties(p.prototype,{ax:{get:function(){return this.oU.ax;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{nD:{get:function(){return this.oU.nD;},set:function(q){this.oU.nD=q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{xM:{get:function(){return this.oU.xM;},set:function(q){this.oU.xM=q;},enumerable:!1,configurable:!0}});p.prototype.rd=function(){var q;q=this;this.ax.forEach(function(t,v){for(var w in t){t[w].rd();q.pqa(v,w);}});this.Ne && n.ip.instance.jO(this.Ne);this.Ne=void 0;};p.prototype.qr=function(q,t){return this.ax[q][t];};p.prototype.o$=function(){return !(!this.nD || !this.nD.length);};p.prototype.dpa=function(){this.nD=void 0;};p.prototype.oR=function(q){this.nD=q;};p.prototype.xDa=function(){var q,t,v;if(!this.o$() || this.xM)return !1;q=m.u.J;for(g.Zn.sr(q);0 < this.nD.length;){t=this.nD.shift();v=this.Ae.Sx(q,t);if(v && !this.AVb(q,t) && v.zv)return (this.xM=t,this.Xea(v,{offset:0,xR:!0}));}return !1;};p.prototype.PDa=function(q,t){var v;v=this;t.forEach(function(w){var u;u=v.qr(q,w.Pa);u && !w.ee && (u.stream.ee?w.I7(u.stream):(u.GZ || (u.GZ=[]),u.GZ.push(v.Ae)));});};p.prototype.aR=function(q,t,v){var w,u,x;w=this;x=this.Ae;m.ag.forEach(function(y){var z,A,B,C,D;if(x.wc(y) && (void 0 === v || y === v)){C=q[y];(0,l.assert)(C && x.getTrackById(C.trackId) === C);C=C.Rc;if(x.Wk)w.H.warn("requestHeadersFromManifest, shutdown detected");else if(x.Il.T0(x.P,C)){D=null !== (B=null === (A=null === (z=w.FE(y)) || void 0 === z?void 0:z.oJ) || void 0 === A?void 0:A.bitrate) && void 0 !== B?B:0;z=(0,d.Dra)(C,D);void 0 === z && w.H.warn(("Unable to find stream for bitrate ").concat(D));z=C[z];(A=x.qr(y,z.Pa)) && A.stream.ha?x.Mec(y,A):(y={offset:0,xR:!1,oE:y === m.u.J,Mx:!0,lQ:!w.$$(x)},x.z0a(z,y,t));}else w.H.warn("requestHeadersFromManifest, unable to update urls");}});x.v$=!0;null === (u=this.Zh) || void 0 === u?void 0:u.call(this,x.Sb).xoa();};p.prototype.YF=function(q,t){var v,w,u,x;v=this.L;w=this.qr(q.mediaType,q.Pa);if(w)return (w.stream.ha || w.xR && this.s_a(w),!1);w=this.Zxb;u=this.$xb;if(void 0 !== v.Dxa && void 0 !== w && void 0 !== u){x=f.default.time.ia();if(x - w < v.Dxa || x - u < v.Dxa)return !1;}q=this.Xea(q,{offset:0},void 0,void 0,t);this.$xb=f.default.time.ia();return q;};p.prototype.Xea=function(q,t,v,w,u){var x,y,z,A,B;A=q.mediaType;g.Zn.sr(A);B=q.Pa;if(this.nwb(B,! !t.Mx))return (null === (x=this.AWa) || void 0 === x?void 0:x.call(this),!1);if(x=this.qr(A,B))q=!1;else {x=(B=this.L.Ejb && q.Ya)?0:t.offset;B=B?0:null !== (y=t.ea) && void 0 !== y?y:this.Zwb(q);y=c.__assign(c.__assign({},t),{offset:x,ea:B});x=! !y.oE;B=! !y.lQ;this.KX?u=this.KX(A,! !y.Mx,x,B,! !v):u || (u=this.Ne);(0,l.assert)(u);q.url && (this.FE(A).hwa=q.W9(!0));x=q=this.bUa(q,u,y);if(!q.MJ())return (this.Ae.Yf("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);q=!0;}t.Mx && w && (this.Ae.cj[A]=x);null === (z=this.AWa) || void 0 === z?void 0:z.call(this);return q;};p.prototype.$l=function(){var q,t;q=this;t=[];this.ax.forEach(function(v,w){var x;g.Zn.sr(w);for(var u in v){w=v[u];x=w.QDa();1 === x?t.push(w):2 === x && q.Ae.Yf("swapUrl failure");}});return t;};p.prototype.Zk=function(q){var t,v;t=q.mediaType;v=g.Zn.sr(t);this.Ae.Wk?v.warn("header onrequestcomplete ignored, session shutdown:",q.toString()):(this.PB({type:"logdata",target:"startplay",bd:{usedNativeDataView:q.Ffc}}),q.qca > q.U3b && (this.iVa[t]=q.qca),q.xR && this.s_a(q),this.yxb(q),this.Zxb=f.default.time.ia(),this.Ae.tv.emit("onHeaderRequestComplete",q));this.ev(q);};p.prototype.w6=function(q,t,v){var w;w=q.mediaType;g.Zn.sr(w);w=this.Ae.Sx(w,q.Pa);if(t !== ! !q.pm)return !1;this.tXa(q);q.MCb(w);this.ITa(q);this.Ae.tv.emit("onHeaderFromCache",{header:q,eQb:v});return !0;};p.prototype.jN=function(q,t){var v,w,u,x;v=[];w=this.ax[q];for(u in w){x=w[u];x && !x.stream.ha && x.Ht === t && (this.pqa(q,u),v.push({stream:x.stream,offset:x.offset,ea:x.ea,oE:x.oE,Mx:x.Mx,lQ:x.lQ,Qya:x.Qya}),x.rd());}return v;};p.prototype.QAa=function(q){var t;t=this;q.forEach(function(v){t.Xea(v.stream,v);});};p.prototype.tXa=function(q){this.ax[q.mediaType][q.Pa]=q;};p.prototype.AVb=function(q,t){return ! !this.qr(q,t);};p.prototype.yxb=function(q){var t,v,w,x;t=this.L;v=g.Zn.sr(q.mediaType);w=q.stream.ha;if(t.cqa){t=w.length;v.trace("fragment count:",t);for(var u=0;u < t;++u){x=w.get(u);v.trace("fragment: " + u + ", startPts: " + x.da + ", duration: " + x.duration + ", offset: " + x.offset);}}this.ITa(q);};p.prototype.ITa=function(q){var t,v;t=q.mediaType;v=q.Pa;g.Zn.sr(t);q.GZ && (q.GZ.forEach(function(w){(w=w.Sx(t,v)) && w !== q.stream && !w.ee && w.I7(q.stream);}),q.GZ=void 0);this.Ae.iVb(q);};p.prototype.bUa=function(q,t,v){var w,u;w=this;u=g.Zn.sr(q.mediaType);q=new k.Zfa(q,this.L,t,v,this,!1,u);q.addListener("headerRequestCancelled",function(x){w.xxb(x.request);});q.oa(void 0);this.tXa(q);return q;};p.prototype.nwb=function(q,t){return this.Qz && (q=this.Qz.LY(this.Ae.K,q)) && this.w6(q,!1,t)?!0:!1;};p.prototype.Zwb=function(q){var t,v,w,u;t=q.Ly;v=q.S;w=v.duration;u=this.L;return q.Ya?512:v.Kf.gg?u.x3a?u.x3a:u.u$:u.Cfc && t?t.offset + t.size:(q=this.iVa[q.mediaType])?q + 128:u.cra?2292 + 12 * Math.ceil(w / 2E3):u.u$;};p.prototype.xxb=function(q){this.pqa(q.mediaType,q.Pa);};p.prototype.pqa=function(q,t){delete this.ax[q][t];};p.prototype.s_a=function(q){this.xM === q.Pa && (this.xM=void 0);};return p;})(r.uw);b.WJa=a;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.yub=void 0;c=a(0).__importDefault(a(4));g=a(129);k=["",""];r=(function(){function m(f){this.Sq=f;this.complete=this.append=this.a9=this.rwa=this.open=0;}Object.defineProperties(m.prototype,{console:{get:function(){return g.Zn.sr(this.Sq.mediaType);},enumerable:!1,configurable:!0}});m.prototype.s3b=function(){this.open=c.default.time.ia();};m.prototype.m3b=function(){this.rwa=c.default.time.ia();this.Vj();};m.prototype.i3b=function(){this.a9=c.default.time.ia();this.Vj();};m.prototype.Y2b=function(){this.append=c.default.time.ia();this.Vj();};m.prototype.vZ=function(){this.complete=c.default.time.ia();this.Vj();};m.prototype.Vj=function(){var f;f=("RequestLedger ID: ").concat(this.Sq.$h());f+=(" load-open: ").concat(this.rwa - this.open);0 < this.a9 && (" firstbyte-load: ").concat(this.a9 - this.rwa);0 < this.append && (" append-firstbyte: ").concat(this.append - this.a9);0 < this.complete && ((" complete-open: ").concat(this.complete - this.open),f=this.Sq.mediaType,this.complete - this.open > this.Sq.duration?((" duration: ").concat(this.Sq.duration),k[f]+="X"):k[f]+=".",10 < k[f].length && (k[f]=k[f].slice(1)));};return m;})();b.yub=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.bRa=void 0;c=a(0);g=a(14);r=(function(k){function m(f,d,l,n){var h;h=k.call(this) || this;h.H=f;h.track=d;h.zl=!1;h.ula=!1;h.ej=new g.$f();h.ej.on(d,"networkfailing",function(){h.emit("networkfailing");});h.ej.on(d,"error",function(){h.H.warn("requestQueue got error");h.emit("error");});if(l)(h.zl=!0,Promise.resolve().then(function(){return h.emit("created");}));else h.ej.on(d,"created",function(){h.zl=!0;h.emit("created");});h.ula=n;return h;}c.__extends(m,k);Object.defineProperties(m.prototype,{N8:{get:function(){return this.track.N8;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zg:{get:function(){return this.track.zg;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Bi:{get:function(){return this.track.Bi;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{VW:{get:function(){return this.track.VW;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});m.prototype.oa=function(){var f,d;this.ula || (null === (d=(f=this.track).oa) || void 0 === d?void 0:d.call(f),this.ula=!0);};m.prototype.yv=function(){return this.track.yv();};m.prototype.toString=function(){return this.track.toString();};m.prototype.toJSON=function(){return this.track;};m.prototype.Qs=function(){this.ej.clear();};return m;})(g.EventEmitter);b.bRa=r;},function(r,b,a){var d,l,n,h,p,q,t,v,w;function c(u){var x,y,z;u=u.parent;x=!1;if(u && u.children){y={};y[v.Nm]=[];y[v.am]=[];y[v.TEMPORARY]=[];z=u.children;z.forEach(function(A){A && y[A.If].push(A);});0 < y[v.Nm].length || (y[v.am].length === z.length?u.If !== v.am && (u.If=v.am,t.error("PERM failing :",h.default.mi.name[u.Co] + " " + u.id),x=!0):(u.If === v.Nm && (u.If=v.TEMPORARY,t.error("TEMP failing :",h.default.mi.name[u.Co] + " " + u.id),x=!0),y[v.TEMPORARY].forEach(function(A){A.If=v.Nm;})),x && c(u));}}function g(u){var x;if((u=u.parent) && 0 < u.children.length && u.If !== v.Nm){x={};x[v.Nm]=[];x[v.am]=[];x[v.TEMPORARY]=[];u.children.forEach(function(y){y && x[y.If].push(y);});0 < x[v.Nm].length && (u.If=v.Nm,g(u));}}function k(u){return u.If !== v.Nm;}function m(u){switch(u.If){case v.Nm:return "OK";case v.am:return "FAILED PERMANENTLY";case v.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function f(u,x){if(u.If === v.TEMPORARY || u.If === v.am && x)u.If=v.Nm;u.children && u.children.forEach(function(y){y && f(y,x);});}Object.defineProperties(b,{__esModule:{value:!0}});b.CLa=void 0;d=a(0);l=d.__importStar(a(11));r=a(14);n=a(6);h=d.__importDefault(a(28));p=d.__importDefault(a(4));q=a(2);t=new p.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(u){u[u.Nm=0]="OK";u[u.TEMPORARY=1]="TEMPORARY";u[u.am=2]="PERMANENT";})(v || (v={}));(function(u){u[u.Ow=0]="STARTUP";u[u.vub=1]="REBUFFER";})(w || (w={}));a=(function(u){function x(y,z,A,B,C,D){var q50,E;q50=2;for(;q50 !== 26;){switch(q50){case 2:E=u.call(this) || this;E.yc=A;q50=5;break;case 5:E.Xk=B;E.config=C;E.Vyb=D;q50=9;break;case 9:E.J6b=w.Ow;E.Bj={};E.Yl={};q50=6;break;case 6:E.urls={};E.streams={};E.NB=[];q50=12;break;case 12:E.Fba=!1;q50=11;break;case 11:var S3T="ne";S3T+="twor";S3T+="k";E.jq={id:S3T,Co:h.default.mi.yz,If:v.Nm,yy:void 0,parent:void 0,children:E.NB};E.y5=null;q50=20;break;case 20:E.KF=null;E.lR=h.default.Nw.Ow;A=y.xB;q50=17;break;case 17:var w3T="1S";w3T+="IYbZrN";w3T+="JCp9";var Y3T="L";Y3T+="IV";Y3T+="E";E.Ya=Y3T === y.Bea && ! !A;E.lV(y,z,h.default.Nw.Ow);w3T;return E;break;}}}var o50;o50=2;for(;o50 !== 22;){switch(o50){case 2:d.__extends(x,u);x.prototype.uUb=function(){var r50;r50=2;for(;r50 !== 1;){switch(r50){case 4:return this.NB[1].Jb;break;r50=1;break;case 2:return this.NB[0].Jb;break;}}};x.prototype.av=function(){var s50;s50=2;for(;s50 !== 1;){switch(s50){case 2:return k(this.jq);break;}}};x.prototype.E$b=function(y){var t50;t50=2;for(;t50 !== 5;){switch(t50){case 2:t50=(y=this.urls[y]) && y.parent?1:5;break;case 1:return y.parent.id;break;}}};x.prototype.N6a=function(y){var u50,z,A,v50,B,C,D,w50,x50,y50;u50=2;for(;u50 !== 4;){switch(u50){case 2:A=[];try{v50=2;for(;v50 !== 9;){switch(v50){case 1:v50=!C.done?5:9;break;case 2:(B=d.__values(Object.keys(this.urls)),C=B.next());v50=1;break;case 5:D=this.urls[C.value];D.url === y.Hy.url && A.push(D.Zb);v50=3;break;case 6:v50=-C.done?6:2;break;v50=!C.done?5:9;break;case 3:C=B.next();v50=1;break;}}}catch(G){var E;E={error:G};}finally{w50=2;for(;w50 !== 1;){switch(w50){case 2:try{x50=2;for(;x50 !== 1;){switch(x50){case 2:C && !C.done && (z=B.return) && z.call(B);x50=1;break;}}}finally{y50=2;for(;y50 !== 5;){switch(y50){case 2:y50=E?1:5;break;case 1:throw E.error;y50=5;break;}}}w50=1;break;}}}return A;break;}}};o50=9;break;case 9:x.prototype.ESb=function(y){var z50;z50=2;for(;z50 !== 1;){switch(z50){case 2:for(var z in this.streams){if(this.streams[z].zN === y){return this.streams[z];}}z50=1;break;}}};x.prototype.lV=function(y,z,A){var A50,G,D,E,B,C;A50=2;for(;A50 !== 26;){switch(A50){case 7:var p3T="L";p3T+="I";p3T+="V";p3T+="E";var I3T="L";I3T+="I";I3T+="VE";(0,q.assert)(this.Ya && I3T === D && ! !E || !this.Ya && p3T !== D && !E);this.Ya && (this.VZb=E.N2b);G=!0;z && (G=!1,this.T6b(z));A50=12;break;case 4:this.y5=p.default.time.ia();this.NB.sort(function(F,I){var C50;C50=2;for(;C50 !== 1;){switch(C50){case 2:return F.level - I.level || F.ec - I.ec;break;}}});y.servers.forEach(function(F){var D50,I,L,M;D50=2;for(;D50 !== 14;){switch(D50){case 5:B.Yl[I].ec=F.rank;D50=14;break;case 2:I=F.id;D50=1;break;case 4:L=B.Bj[F.key];D50=3;break;case 3:D50=L?9:14;break;case 9:M=[];F={id:I,Co:h.default.mi.NG,If:v.Nm,yy:void 0,parent:L,children:M,urls:M,name:F.name,type:F.type,ec:F.rank,location:L};B.Yl[F.id]=F;D50=6;break;case 1:D50=B.Yl[I]?5:4;break;case 6:L.children.push(F);D50=14;break;}}});(D=y.Bea,E=y.xB);A50=7;break;case 17:this.jq.children=y;this.KF=null;this.lR=A;A50=27;break;case 20:y=this.NB.filter(function(F){var H50,I;H50=2;for(;H50 !== 4;){switch(H50){case 2:I=F.Yl.every(function(L){var I50;I50=2;for(;I50 !== 1;){switch(I50){case 2:return 0 === L.urls.length;break;}}});I && (F.Yl.forEach(function(L){var J50;J50=2;for(;J50 !== 1;){switch(J50){case 2:B.Yl[L.id]=void 0;J50=1;break;}}}),B.Bj[F.id]=void 0,F.parent=void 0,F.children.length=0,F.streams={});return !I;break;}}});y.forEach(function(F){var K50;K50=2;for(;K50 !== 1;){switch(K50){case 2:F.Yl.sort(function(I,L){var L50;L50=2;for(;L50 !== 1;){switch(L50){case 4:return I.ec / L.ec;break;L50=1;break;case 2:return I.ec - L.ec;break;}}});K50=1;break;}}});this.NB=y;A50=17;break;case 27:this.dump();A50=26;break;case 12:y.audio_tracks.forEach(function(F){var E50;E50=2;for(;E50 !== 1;){switch(E50){case 2:B.Oeb(n.u.V,F,G);E50=1;break;}}});y.video_tracks.forEach(function(F){var F50;F50=2;for(;F50 !== 1;){switch(F50){case 2:B.Oeb(n.u.J,F,G);F50=1;break;}}});null === (C=y.timedtexttracks) || void 0 === C?void 0:C.forEach(function(F){var G50;G50=2;for(;G50 !== 1;){switch(G50){case 2:B.L6b(F,G);G50=1;break;}}});A50=20;break;case 2:B=this;void 0 === A && (A=h.default.Nw.esb);y.locations.forEach(function(F){var B50,L,M,K,I;B50=2;for(;B50 !== 7;){switch(B50){case 4:(L=[],M=B.Xk.get(I),K=B.jq);F={id:I,Co:h.default.mi.LOCATION,If:v.Nm,ec:F.rank,level:F.level,weight:F.weight,yy:void 0,parent:K,children:L,Yl:L,streams:{},Jb:M};B.Bj[F.id]=F;K.children.push(F);B50=7;break;case 1:B50=B.Bj[I]?5:4;break;case 2:I=F.key;B50=1;break;case 5:(B.Bj[I].ec=F.rank,B.Bj[I].level=F.level,B.Bj[I].weight=F.weight);B50=7;break;}}});A50=4;break;}}};x.prototype.T0=function(y,z,A){var M50,B,C,D,E,G,F,I;M50=2;for(;M50 !== 17;){switch(M50){case 19:var P3T="(";P3T+="e";P3T+="mpty stream";P3T+=" list)";var V3T="Did n";V3T+="ot find ";V3T+="a URL ";V3T+="for ";V3T+="ANY stream...";var L3T="n";L3T+="etw";L3T+="orkFailed";var d3T="Network has ";d3T+="failed, not updating st";d3T+="re";d3T+="am selectio";d3T+="n";z.forEach(function(L,M){var N50,K;N50=2;for(;N50 !== 5;){switch(N50){case 2:var M3T=" K";M3T+="b";M3T+="ps";M3T+=")";var W3T=" ";W3T+="(";var a3T="]";a3T+=" ";var h3T="Failing s";h3T+="tr";h3T+="eam ";h3T+="[";K=L.id;I.some(function(O){var O50,J,H;O50=2;for(;O50 !== 8;){switch(O50){case 1:O50=!H?5:4;break;case 4:J=H.Bj[0];void 0 === L.Rca && (L.Rca=J.id,L.Fza=H.YR[J.id][0].Zb.id);return H.YR[O.id].some(function(R){var P50,P;P50=2;for(;P50 !== 10;){switch(P50){case 3:var C3T="locati";C3T+="o";C3T+="nf";C3T+="ail";C3T+="over";var Q3T="s";Q3T+="e";Q3T+="rv";Q3T+="erfailo";Q3T+="ver";var r3T="perfo";r3T+="rma";r3T+="nc";r3T+="e";var X3T="unkno";X3T+="w";X3T+="n";P=X3T;L.location !== O.id && (C.Uv?L.Lva=O.id === J.id:P=O !== I[0] && D && H.pwa !== A?"" + h.default.Nw.Zub:O !== I[0]?"" + h.default.Nw.lga:void 0 === L.location?"" + h.default.Nw.Ow:l.ta(L.i$a) || L.i$a === O.id?l.ta(L.l$a) || L.l$a === R.Zb.id?r3T:Q3T:C3T,L.location=O.id,L.uwa=O.level,L.Pt=P);L.url=R.url;L.Zb=R.Zb.id;P50=6;break;case 2:P50=k(R.Zb)?1:5;break;case 4:return !1;break;case 1:return (R.Zb.If === v.TEMPORARY && (L.If=v.TEMPORARY),C.Uv && L.Zb === R.Zb.id && R.Zb.yy && (L.yy=R.Zb.yy),!1);break;case 5:P50=k(R) || D && !R.Haa.some(function(T){var Q50;Q50=2;for(;Q50 !== 1;){switch(Q50){case 2:a000.j4T(10);return a000.i4T(A,T);break;}}})?4:3;break;case 6:L.yK=R.Zb.name;L.Qt=R.Zb.type;D && (H.pwa=A);L.Jb=C.Xna?O.Jb.confidence >= h.default.Qj.QC || E.confidence < F?O.Jb:E:E.confidence === h.default.Qj.HAVE_NOTHING || O.Jb.confidence >= h.default.Qj.QC?O.Jb:E;return !0;break;}}});break;case 2:H=O.streams[K];O50=1;break;case 5:return !1;break;}}})?(L.iB=!1,L.If=void 0,L.Ar && ++G):L.If && L.If === v.TEMPORARY?B.jq.If=v.TEMPORARY:L.iB || (t.warn(h3T + M + a3T + K + W3T + L.bitrate + M3T),L.ZGb(),L.iB=!0);N50=5;break;}}});return k(this.jq)?(t.warn(d3T),this.Fba=!0,this.emit(L3T,this.jq.If === v.am),!1):G?!0:(t.warn(V3T + (z.length?"":P3T)),this.Jt(h.default.mi.yz,!0),!1);break;case 4:p.default.Pu && p.default.Pu(y);M50=3;break;case 2:(B=this,C=this.config,D=this.Ya && void 0 !== A);D && (this.KF=null);(E=this.yc.get(),G=0);M50=4;break;case 12:return (this.Jt(h.default.mi.yz,!1),!1);break;case 9:return !1;break;case 8:F=h.default.Qj.RC;C.mZ && (F=h.default.Qj.QC);this.yc.location && E.confidence >= F && (y=this.Bj[this.yc.location]) && (y.Jb=E);l.tb(this.KF) && (this.KF=this.Tec());M50=13;break;case 3:M50=k(this.jq)?9:8;break;case 11:I=this.KF;M50=10;break;case 20:return (this.Jt(h.default.mi.yz,!1),!1);break;case 10:M50=!I.length?20:19;break;case 13:M50=!this.KF?12:11;break;}}};o50=6;break;case 6:x.prototype.I$b=function(y,z){var R50,A,B;R50=2;for(;R50 !== 4;){switch(R50){case 2:(A=[],B=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);l.forEach(this.urls,function(C,D){var S50,E,G,F,I;S50=2;for(;S50 !== 13;){switch(S50){case 2:C=C.Zb;E=D.match(B);S50=5;break;case 8:S50=l.Cg(F) && l.Cg(E) && F === y && E == z?7:13;break;case 4:var v0T="8";v0T+="0";var y3T="4";y3T+="4";y3T+="3";(G="s" === E[1],F=E[2]);E=E[3];E.length || (E=G?y3T:v0T);S50=8;break;case 5:S50=E && 4 === E.length?4:13;break;case 7:C.urls.some(function(L){var T50;T50=2;for(;T50 !== 5;){switch(T50){case 1:return (I=L,!0);break;case 2:T50=L.url === D?1:5;break;case 9:return (I=L,+8);break;T50=5;break;}}});I && A.push({url:I,Zb:C});S50=13;break;}}});return A;break;}}};x.prototype.Jt=function(y,z,A,B){var U50,C,D,E,V50,F,I,G,W50;U50=2;for(;U50 !== 42;){switch(U50){case 24:C.If=E;c(C);this.Fba=this.Fba || k(this.jq);E=this.jq.If;U50=35;break;case 2:(C=y !== h.default.mi.yz && A?this.urls[A]:this.jq,D=this.jq.If,E=z?v.am:v.TEMPORARY);U50=1;break;case 11:V50=F.Co;U50=V50 === h.default.mi.NG?10:18;break;case 44:var z0T="I";z0T+="nval";z0T+="id failure s";z0T+="tat";z0T+="e";throw Error(z0T);U50=24;break;case 30:U50=W50 === v.TEMPORARY?24:29;break;case 14:U50=13;break;case 28:U50=44;break;case 17:z.unshift(F.id);U50=19;break;case 4:U50=C?3:43;break;case 10:I=F;U50=20;break;case 1:U50=C && C.parent && C.Co !== y?5:4;break;case 5:C=C.parent;U50=1;break;case 3:U50=E !== C.If?9:42;break;case 43:var t0T="Unable to fi";t0T+="nd failu";t0T+="re entity for URL";t0T+=" ";a000.j4T(5);t.warn(a000.i4T(A,t0T));U50=42;break;case 15:var E0T="<ur";E0T+="l";E0T+=" ";E0T+="fo";E0T+="r ";z.unshift(E0T + F.stream.bitrate + ">");U50=19;break;case 27:var f0T=" :";f0T+=" ";f0T+="was ";G.call(A,y + (z.length?"/" + z.join("/"):"") + f0T + m(C));U50=26;break;case 18:U50=V50 === h.default.mi.LOCATION?17:16;break;case 9:var B0T=" ";B0T+="a";B0T+="t";B0T+=" ";var J0T=" fa";J0T+="i";J0T+="l";J0T+="ure reported for ";var U0T="T";U0T+="E";U0T+="M";U0T+="P";var x0T="P";x0T+="E";x0T+="R";x0T+="M";A=t;G=A.warn;y=(z?x0T:U0T) + J0T + h.default.mi.name[y] + B0T;z=[];U50=14;break;case 25:return;break;case 20:z.unshift(I.id + "(" + I.name + ")");U50=19;break;case 35:var i0T="ne";i0T+="twor";i0T+="kFail";i0T+="ed";var K0T="E";K0T+="mitting networkFailed";K0T+=", permanent =";E > D && (t.warn(K0T,E === v.am),this.emit(i0T,E === v.am));this.KF=null;this.lR=h.default.Nw.Nf;B && (this.lR=h.default.Nw.$tb,C.yy=B);this.dump();U50=42;break;case 16:U50=V50 === h.default.mi.URL?15:19;break;case 29:U50=W50 === v.Nm?24:28;break;case 12:U50=F?11:27;break;case 19:F=F.parent;U50=12;break;case 13:F=C;U50=12;break;case 26:W50=C.If;U50=W50 === v.am?25:30;break;}}};x.prototype.Dgb=function(y,z){var X50;X50=2;for(;X50 !== 3;){switch(X50){case 8:X50=(y=this.Yl[y])?4:8;break;X50=(y=this.Yl[y])?1:5;break;case 1:(f(y,z),g(y));X50=5;break;case 7:(f(y,z),g(y));X50=8;break;X50=5;break;case 2:X50=(y=this.Yl[y])?1:5;break;case 5:this.KF=null;this.lR=h.default.Nw.Jia;X50=3;break;}}};x.prototype.wda=function(){var Y50;Y50=2;for(;Y50 !== 1;){switch(Y50){case 2:f(this.jq,!1);Y50=1;break;case 4:f(this.jq,+4);Y50=2;break;Y50=1;break;}}};o50=11;break;case 11:x.prototype.PB=function(y){var Z50,z;Z50=2;for(;Z50 !== 5;){switch(Z50){case 2:null === (z=this.Vyb) || void 0 === z?void 0:z.call(this,y);Z50=5;break;}}};x.prototype.lk=function(){var a60;a60=2;for(;a60 !== 1;){switch(a60){case 2:this.V8b(w.vub);a60=1;break;}}};x.prototype.xb=function(){var b60;b60=2;for(;b60 !== 1;){switch(b60){case 2:this.config.h_b && this.$4b();b60=1;break;}}};x.prototype.T6b=function(y){var c60,A,B,C,f60,D,E,g60,h60,i60;c60=2;for(;c60 !== 4;){switch(c60){case 2:(B=this,C=new Set());try{f60=2;for(;f60 !== 3;){switch(f60){case 2:(D=d.__values(y),E=D.next());f60=1;break;case 1:f60=!E.done?5:3;break;case 5:z(E.value);f60=4;break;case 6:z(E.value);f60=3;break;f60=4;break;case 4:E=D.next();f60=1;break;case 14:E=D.next();f60=9;break;f60=1;break;}}}catch(F){var G;G={error:F};}finally{g60=2;for(;g60 !== 1;){switch(g60){case 2:try{h60=2;for(;h60 !== 1;){switch(h60){case 2:E && !E.done && (A=D.return) && A.call(D);h60=1;break;}}}finally{i60=2;for(;i60 !== 5;){switch(i60){case 2:i60=G?1:5;break;case 9:throw G.error;i60=3;break;i60=5;break;case 1:throw G.error;i60=5;break;}}}g60=1;break;}}}Object.keys(this.streams).forEach(function(F){var j60;j60=2;for(;j60 !== 1;){switch(j60){case 2:C.has(F) || delete B.streams[F];j60=1;break;}}});c60=4;break;}}function z(F){var d60;d60=2;for(;d60 !== 1;){switch(d60){case 2:Object.keys(F).forEach(function(I){var e60,L,M;e60=2;for(;e60 !== 9;){switch(e60){case 5:e60=L?4:9;break;case 2:L=F[I];C.add(I);e60=5;break;case 14:e60=L?2:4;break;e60=L?4:9;break;case 4:var G0T="LI";G0T+="V";G0T+="E";M=B.streams[I];B.streams[I]=M?d.__assign(d.__assign({},M),L):{id:I,bitrate:L.bitrate,eb:null,type:L.mediaType,clear:L.yj?!1:!0,Ar:!0,urls:[],YR:{},Bj:[],zN:L,pwa:B.Ya?G0T:void 0};e60=9;break;}}});d60=1;break;}}}};x.prototype.Oeb=function(y,z,A){var k60,B;k60=2;for(;k60 !== 5;){switch(k60){case 2:B=this;z.streams.forEach(function(C){var l60;l60=2;for(;l60 !== 1;){switch(l60){case 2:B.Peb(y,C.downloadable_id,C,A);l60=1;break;}}});k60=5;break;}}};x.prototype.L6b=function(y,z){var m60,A;m60=2;for(;m60 !== 4;){switch(m60){case 1:var g0T="i";g0T+="m";g0T+="sc";g0T+="1.";g0T+="1";var j0T="i";j0T+="m";j0T+="sc";j0T+="1";j0T+=".1";A=y.ttDownloadables[j0T];A && this.Peb(n.u.Hb,y.downloadableIds[g0T],A,z);m60=4;break;case 2:var A0T="n";A0T+="o";A0T+="ne";m60=A0T !== y.id?1:4;break;}}};x.prototype.Peb=function(y,z,A,B){var n60,C,D;n60=2;for(;n60 !== 10;){switch(n60){case 7:this.streams[C.id]=C;n60=6;break;case 2:C=this.streams[z];n60=1;break;case 5:var e0T="L";e0T+="I";e0T+="V";e0T+="E";var b0T="n";b0T+="o";b0T+="n";b0T+="e";b0T+="-";B="";C=0;D=null;y !== n.u.Hb && (B=A.content_profile,C=A.bitrate,y === n.u.J && (D=A.vmaf));C={id:z,bitrate:C,eb:D,type:y,profile:B,clear:0 === B.indexOf(b0T),Ar:!0,urls:[],YR:{},Bj:[],pwa:this.Ya?e0T:void 0};n60=7;break;case 12:n60=!C && !B?11:6;break;case 6:this.M6b(C,A.urls);l.fg(C.YR,function(E){var o60;o60=2;for(;o60 !== 1;){switch(o60){case 2:E.sort(function(G,F){var p60;p60=2;for(;p60 !== 1;){switch(p60){case 2:return G.Zb.ec - F.Zb.ec;break;}}});o60=1;break;}}});C.Bj=C.Bj.sort(function(E,G){var q60;q60=2;for(;q60 !== 1;){switch(q60){case 2:return E.level - G.level || E.ec - G.ec;break;}}});n60=10;break;case 11:return;break;case 1:n60=l.ta(C) && B?5:12;break;}}};o50=15;break;case 25:x.prototype.$4b=function(){var A60,y;A60=2;for(;A60 !== 5;){switch(A60){case 2:y=this;this.Fba || this.NB.forEach(function(z){var B60;B60=2;for(;B60 !== 1;){switch(B60){case 2:z.If === v.TEMPORARY && y.Xk.fail(z.id,p.default.time.ia());B60=1;break;}}});A60=5;break;}}};x.prototype.dump=function(){};o50=23;break;case 15:x.prototype.M6b=function(y,z){var r60,A;r60=2;for(;r60 !== 5;){switch(r60){case 2:A=this;z.forEach(function(B){var s60,C,D,E,G,F;s60=2;for(;s60 !== 14;){switch(s60){case 2:(C=B.url,D=A.urls[C],E=A.Yl[B.cdn_id]);A.Ya && (G=B.liveOcaCapabilities);s60=5;break;case 5:s60=E?4:14;break;case 4:l.ta(D) && (D={id:C,Co:h.default.mi.URL,If:v.Nm,yy:void 0,parent:E,children:[],url:C,Zb:E,stream:y,Haa:G},A.urls[C]=D,E.children.push(D));F=E.location;s60=9;break;case 9:y.urls.push(D);0 === y.Bj.filter(function(I){var t60;t60=2;for(;t60 !== 1;){switch(t60){case 2:return I.id === F.id;break;case 4:return I.id == F.id;break;t60=1;break;}}}).length && y.Bj.push(F);F.streams[y.id]=y;(B=y.YR[F.id])?B.push(D):y.YR[F.id]=[D];s60=14;break;}}});r60=5;break;}}};x.prototype.Tec=function(){var u60,B,y,z,A;u60=2;for(;u60 !== 6;){switch(u60){case 1:u60=0 === A.length?5:4;break;case 5:return null;break;case 8:A.sort(function(C,D){var x60;x60=2;for(;x60 !== 1;){switch(x60){case 2:return C.level - D.level || C.ec - D.ec;break;}}});return A;break;case 4:B=p.default.time.ia();u60=3;break;case 3:u60=null === this.y5 || this.y5 + z.twa < B?9:8;break;case 2:(y=this,z=this.config,A=this.NB.filter(function(C){var v60;v60=2;for(;v60 !== 1;){switch(v60){case 2:return !k(C) && 0 !== C.level;break;}}}));u60=1;break;case 9:(A.forEach(function(C){var w60;w60=2;for(;w60 !== 1;){switch(w60){case 2:C.id !== y.yc.location && (C.Jb=y.Xk.get(C.id));w60=1;break;}}}),this.y5=B);u60=8;break;}}};x.prototype.V8b=function(y){var y60,z;y60=2;for(;y60 !== 4;){switch(y60){case 2:z=this.yc.location;this.J6b=y;this.NB.forEach(function(A){var z60;z60=2;for(;z60 !== 1;){switch(z60){case 2:A.id !== z && A.Jb && A.Jb.confidence > h.default.Qj.RC && (A.Jb.confidence=h.default.Qj.RC);z60=1;break;}}});y60=4;break;}}};o50=25;break;case 23:return x;break;}}})(r.EventEmitter);b.CLa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zFa=void 0;c=a(22);r=(function(){function g(k){this.config=k;}g.prototype.U6b=function(k){var m,f,d;m=this.config;f=[];d=[];k.forEach(function(q,t){void 0 === q.eb?d.push(t):f.push(t);});if(0 !== d.length)for(var l=-1,n=-1,h=function(q){var t,v,w,u,x,y;t=d[q];v=k[t];if(0 === q || t !== d[q - 1] + 1)(l=f[(0,c.O6)(f,function(z){return z < t;})] || -1,n=f[(0,c.Kp)(f,function(z){return z > t;})] || -1);w=0;u=m.u0b;q=0;x=m.v0b;-1 < n && (u=k[n].bitrate,x=k[n].eb);-1 < l && (q=k[l].eb,w=k[l].bitrate);u=Math.log(u);w=0 === w?0:Math.log(w);y=Math.log(v.bitrate);v.H8=Math.max(0,Math.min(110,Math.round((q * (u - y) + x * (y - w)) / (u - w) * 100) / 100));},p=0;p < d.length;p++){h(p);}};return g;})();b.zFa=r;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v;Object.defineProperties(b,{__esModule:{value:!0}});b.VMa=void 0;c=a(6);g=a(20);k=a(2);m=a(992);f=a(993);d=a(994);l=a(995);n=a(996);h=a(997);p=a(998);q=a(999);t=a(1E3);v=a(1001);r=(function(){function w(u,x,y,z){this.config=u;this.mediaType=x;this.fd=y;this.console=z;}w.prototype.append=function(u,x){var y,z,A,B;void 0 === this.track?this.vP(u.stream):this.track !== u.stream.track && ((0,k.assert)(this.track.ba),(0,k.assert)(u.stream.track.ba),this.track=u.stream.track);(0,k.assert)(void 0 !== this.Pp);z={pa:u,offset:null !== (y=u.Uza) && void 0 !== y?y:g.M.Ha,He:this.config.hR,xj:!1};z=this.Pp.reduce(function(C,D){return D.append(C,x);},z);A=z.pa;y=z.offset;B=z.xj;z=z.Cj;z=void 0 === z?[]:z;A.Ga && ((0,k.assert)(u.Ga,"Fragments must be marked for edit at request time"),u.kj(A.Ga));if(B || !this.cbb)return {offset:y,xj:B};B=this.cbb.Ga(u);u=B.ga;A=B.Cj;B=B.response;Array.prototype.push.apply(z,void 0 === A?[]:A);return {offset:y,xj:!u,Cj:z,response:B};};w.prototype.reset=function(){this.Pp=this.track=void 0;};w.prototype.vP=function(u){var x,y;this.track=u.track;this.cbb=new t.HMa(this.console,this.config,this.mediaType,u.profile);this.Pp=[];if(this.mediaType === c.u.V){this.config.hR && this.Pp.push(new d.rRa(this.config,u.track,this.console));y=this.Aoa(u);y.equal(g.M.Ha)?this.config.jm && u.wf && this.bva(u.S.P) && this.Pp.push(new h.XKa(this.config)):this.Pp.push(new m.sja(y));this.config.aZ || (this.console.log(("MediaSplicer: NegativePtsGuard: ").concat(y.Mb(),", ") + ("").concat(null === (x=u.wf) || void 0 === x?void 0:x.Mb())),this.Pp.push(new l.qNa(this.config,u,this.console)));this.mYb()?(this.config.Jh || this.Pp.push(new p.DFa(u,this.config,this.fd,this.console)),this.config.hR && this.Pp.push(new v.hga(this.console)),this.Pp.push(new f.CNa(this.config,u,this.console)),this.abc(u) && ((0,k.assert)(u.ba),this.Pp.push(this.LHb(u.wf || g.M.Ha,u.ba,y)))):(this.Pp.push(new q.EFa(this.console)),this.config.hR && this.Pp.push(new v.hga(this.console)));}};w.prototype.bva=function(u){return this.config.bva || this.config.L8a && -1 !== this.config.L8a.indexOf(u);};w.prototype.Aoa=function(u){return m.sja.Aoa(this.config,u.wf,this.fd,this.console);};w.prototype.mYb=function(){return !this.config.jK;};w.prototype.abc=function(u){return this.config.gec && this.config.jm && ! !u.wf;};w.prototype.LHb=function(u,x,y){return new n.RSa(u.Da(y),x,this.console);};return w;})();b.VMa=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.sja=void 0;c=a(20);g=a(10);r=(function(){function k(m){this.wf=m;}k.Aoa=function(m,f,d,l){var n;n=c.M.Ha;f && (d=null === d || void 0 === d?void 0:d.Vnc,m.vfc && void 0 !== d && 0 <= d?(m=new c.M(d,48E3),n=f.add(m),g.N && l.trace(("Adjusting profile timestamp offset of ").concat(f) + (" by DPI assumed delay of ").concat(m) + (" for ASE applied offset of ").concat(n,"."))):m.MH && (n=f));return n;};k.prototype.append=function(m){var f,d,l;f=m.He;d=m.xj;l=m.Cj;return {pa:m.pa,offset:m.offset.add(this.wf),He:f,xj:d,Cj:l};};return k;})();b.sja=r;},function(r,b,a){var g,k,m,f;function c(d){return ("").concat(d.toString()," (nrdp: ").concat(d.oK,"ms)");}Object.defineProperties(b,{__esModule:{value:!0}});b.CNa=void 0;g=a(20);k=a(264);m=a(10);f=a(2);r=(function(){function d(l,n,h){this.console=h;this.offset=g.M.Ha;this.wf=l.jm?n.wf:void 0;(0,f.assert)(n.ba);this.ba=n.ba;}d.prototype.append=function(l){var n,h,p,q;if(l.xj)return l;n=l.pa;h=l.offset;p=l.He;q=l.Cj;void 0 !== this.f$a && ((0,f.assert)(void 0 !== this.Uva),n.pc.add(l.offset).equal(this.f$a)?(l=this.AFb(n,h.add(this.offset)).Z - this.Uva,0 > l?this.offset=this.offset.add(g.M.QB):0 === l?this.offset.lessThan(g.M.Ha) && (this.offset=this.offset.add(g.M.QB)):1 === l?this.offset.greaterThan(g.M.Ha) && (this.offset=this.offset.Da(g.M.QB)):this.offset=this.offset.Da(g.M.QB)):this.offset=g.M.Ha);this.Uva=this.zFb(n,h.add(this.offset)).Z;this.f$a=n.Fd.add(h);return {pa:n,offset:h.add(this.offset),He:p,xj:!1,Cj:q};};d.prototype.AFb=function(l,n){var h,p;l=this.OXa(l.pc);h=(0,k.Kv)(l).add((0,k.Kv)(n));p=l.add(n).Da(h);m.N && this.console.trace("NrdpRounding: content start " + c(l) + ", timestamp offset: " + c(n) + ", start rounding error: " + (0,k.Kv)(l).toString() + ", offset rounding error: " + (0,k.Kv)(n).toString() + ", total error: " + h.toString() + ", expected nrdp value:" + p.Mb() + ", (" + l.oK + n.oK + "ms), last fragment end nrdp: " + this.Uva);return p;};d.prototype.zFb=function(l,n){var h,p,q;h=this.ba;l=this.OXa(l.Fd);p=(0,k.Kv)(l.Da(h)).add((0,k.Kv)(h)).add((0,k.Kv)(n));q=l.add(n).Da(p);m.N && this.console.trace("NrdpRounding: content end: start of last frame:" + c(l.Da(h)) + ", frame duration: " + c(h) + ", offset: " + c(n) + ", timestamp rounding error: " + (0,k.Kv)(l.Da(h)).toString() + ", frame duration rouding error: " + (0,k.Kv)(h).toString() + ", offset rounding error: " + (0,k.Kv)(n).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.Mb() + ", (" + l.Da(h).oK + h.oK + n.oK + "ms)");return q;};d.prototype.OXa=function(l){return this.wf?l.Da(this.wf):l;};return d;})();b.CNa=r;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.rRa=void 0;c=a(20);g=a(2);k=a(10);r=(function(){function m(f,d,l){this.config=f;this.console=l;this.ux=c.M.Ha;(0,g.assert)(d.ba);this.ba=d.ba;f=d.Rc[0].profile;this.xba=this.hTb(f,this.ba);this.bba=this.eTb(f,this.ba);}m.prototype.append=function(f,d){var l,n,h,p,q;if(f.xj)return f;l=f.pa;n=f.offset;h=f.Cj;h=void 0 === h?[]:h;f=f.He;p=d.aQ;d=d.Pxa;if(this.Yya){q=this.w1b(l,this.Yya);l.Ga && this.Ona(q)?(k.N && this.console.trace("SeamlessAudio: dropping first frame"),l.Gqa(1),this.ux=q):(this.ux=q.add(this.ba),this.RYa(this.ux) || (k.N && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + l.jd.Mb() + " error would be " + this.ux.Mb() + " (editing " + (l.Ga?"":"not ") + "allowed)"),h.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:l.Pa,pts:l.pc.Z}}}}),this.ux=c.M.Ha,f=!1));this.Yya=void 0;}if(l.Po || l.$x)((0,g.assert)(p,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!l.Ga || !d && l.$x || (q=this.x1b(l,p,d),q.zi(c.M.Ha) && (k.N && this.console.trace("SeamlessAudio: dropping last frame"),l.Hqa(1))),this.Yya=p);(0,g.assert)(this.RYa(this.ux));this.KP=l.Oc;return {pa:l,offset:n.add(this.ux),He:f,xj:!1,Cj:h.length?h:void 0};};m.prototype.x1b=function(f,d,l){var n;if(l)n=this.ux.add(f.Oc.Da(l)).Da(this.ba);else (n=f.Oc.Da(d),n=this.ux.add(n).Da(this.ba));k.N && this.console.trace("SeamlessAudio: fragment end: " + f.Oc.Mb() + ", splice " + d.Mb() + ", next start " + (null === l || void 0 === l?void 0:l.Mb()) + ", error " + n.add(this.ba).Mb() + ", error with frame drop " + n.Mb() + ", is" + (this.Ona(n)?"":" not") + " within bounds of [" + this.xba.Mb() + " and " + this.bba.Mb() + ")");return n;};m.prototype.w1b=function(f,d){var l;(0,g.assert)(this.KP);l=this.ux.add(this.KP.Da(f.jd)).Da(this.ba);k.N && this.console.trace("SeamlessAudio: fragment start: " + f.jd.Mb() + ", splice " + d.Mb() + ", last fragment end: " + this.KP.Mb() + ", error " + l.add(this.ba).Mb() + ", error with frame drop " + l.Mb() + ", is" + (this.Ona(l)?"":" not") + " within bounds of [" + this.xba.Mb() + " and " + this.bba.Mb() + ")");return l;};m.prototype.Ona=function(f){return f.lessThan(this.bba) && f.zi(this.xba);};m.prototype.RYa=function(f){return f.lessThan(this.bba.add(c.M.QB)) && f.zi(this.xba.Da(c.M.QB));};m.prototype.eTb=function(f,d){return "object" === typeof this.config.kBa && void 0 !== this.config.kBa[f]?(f=new c.M(this.config.kBa[f],1E3).ng(d.W).add(new c.M(1,d.W)),c.M.min(d,f)):d;};m.prototype.hTb=function(f,d){var l;if("object" === typeof this.config.lBa && void 0 !== this.config.lBa[f]){l=d.bk(-2);f=new c.M(this.config.lBa[f],1E3).ng(d.W).Da(new c.M(1,d.W));return c.M.max(l,f);}return new c.M(-12,1E3);};return m;})();b.rRa=r;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.qNa=void 0;c=a(20);g=a(2);k=a(10);r=(function(){function m(f,d,l){var n;this.console=l;this.D_=!1;(0,g.assert)(d.ba,"NegativePtsGuard: stream.frameDuration must exist.");this.ba=d.ba;this.jm=f.jm;this.wf=null !== (n=d.wf) && void 0 !== n?n:c.M.Ha;}m.prototype.append=function(f){var d,l,n,h,p;if(this.D_ || f.xj)return f;d=f.pa;l=f.offset;n=f.He;f=f.Cj;if(d.Ga){h=d.pc.Da(this.jm?this.wf:c.M.Ha).add(l);if(h.lessThan(c.M.Ha)){p=Math.ceil(h.MB(-1).bk(this.ba));k.N && this.console.trace(("NegativePtsGuard: dropping ").concat(p," frames on first fragment to avoid nagative pts, ") + ("profile offset ").concat(this.wf.Mb(),", ") + ("request content start ").concat(d.pc.Mb(),", ") + ("current timestamp offset ").concat(l.Mb()," => ") + ("firstPlatformTimestamp ").concat(h.Mb(),"."));d.Gqa(p);}}this.D_=!0;return {pa:d,offset:l,He:n,xj:!1,Cj:f};};return m;})();b.qNa=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.RSa=void 0;c=a(20);g=a(10);r=(function(){function k(m,f,d){this.wf=m;this.ba=f;this.console=d;}k.prototype.append=function(m,f){var d,l,n,h,p,q;d=m.pa;l=m.offset;n=m.He;h=m.Cj;m=m.xj;if(!m){p=f.endOfStream;f=f.aQ;if(p && f){p=d.pc.Da(this.wf).add(l);q=d.Fd.Da(this.wf).add(l);f=f.Da(c.M.QB);g.N && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + p.Mb() + "-" + q.Mb() + " vs media splice point at " + f.Mb());p.add(this.ba).zi(f)?(g.N && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),m=!0):q.zi(f) && (f=Math.ceil(q.Da(f).bk(this.ba)),d.Ga?(g.N && this.console.trace(("TruncateEndOfStreamAudio: drop ").concat(f," frames")),d.Hqa(f)):(g.N && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),m=!0));}else p && g.N && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {pa:d,offset:l,He:n,xj:m,Cj:h};};return k;})();b.RSa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.XKa=void 0;r=(function(){function a(c){this.D_=!1;this.jbc=c.rXb;}a.prototype.append=function(c){c.pa.Ga && (c.pa.tac(this.D_?0:this.jbc),this.D_=!0);return c;};return a;})();b.XKa=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.DFa=void 0;c=a(437);g=a(8);r=(function(){function k(m,f,d,l){this.config=f;this.fd=d;this.console=l;this.ba=m.ba;}k.prototype.append=function(m,f){var d,l,n,h,p,q,t,v,w,u,x,y,z;if(m.xj)return m;l=!1;n=(0,c.hta)(this.config,this.fd);h=m.pa;p=m.offset;q=m.He;t=m.Cj;v=h.Oc;w=h.jd;u=h.$x;u=h.Po || u;if(!m.pa.Ga || !u || q)return m;x=h.Fd.Da(h.pc);u=Math.floor(x.bk(this.ba));y=null !== (d=f.Pxa) && void 0 !== d?d:v.Da(this.ba.MB(2));v=y.Da(w);d=u;z=!1;f.Pxa && (f=this.JZa(x,v,v),d=f.gl,z=f.hcb);n=y.Da(g.M.Ja(n));w=g.M.max(n.Da(w),g.M.Ha);z || (w=this.JZa(x,w,v),d=w.gl,w.hcb && (--d,this.ba.MB(d)));d < (this.config.r1b || 1)?l=!0:0 < u - d && m.pa.Hqa(u - d);return {pa:h,offset:p,He:q,xj:l,Cj:t};};k.prototype.JZa=function(m,f,d){var l;m=g.M.min(m,f);m=Math.floor(m.bk(this.ba));f=this.ba.MB(m);d=d.Da(f);l=0 < m && d.lessThan(g.M.QB);return {gl:m,qrc:f,Goc:d,hcb:l};};return k;})();b.DFa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.EFa=void 0;c=a(10);r=(function(){function g(k){this.console=k;}g.prototype.append=function(k,m){var f,d,l,n,h,p,q;if(k.xj)return k;f=!1;d=k.pa;l=k.offset;n=k.He;k=k.Cj;m=m.aQ;h=d.Oc;if(this.lq && h.lessThan(this.lq.Oc)){p=this.lq.aQ.Da(d.jd);q=d.Oc.Da(this.lq.aQ);q.lessThan(p) && (c.N && this.console.trace(("AudioOverlapGuard: skipping append of ").concat(d) + (", current error: ").concat(p.Mb()) + (", discard error: ").concat(q.Mb())),f=!0);}this.lq=(d.Po || d.$x) && m?{aQ:m,Oc:h}:void 0;return {pa:d,offset:l,He:n,xj:f,Cj:k};};return g;})();b.EFa=r;},function(r,b,a){var k,m,f,d,l;function c(n,h,p,q,t){var v,w,u,x,y,z,A,B;if(void 0 !== n.jea || void 0 !== n.gCa || n.Zu || n.$u){v=n.end - n.start;w=Array(v);u=n.Zu;x=n.$u;y=n.s3a?n.s3a - 1:0;z=n.t3a?n.t3a - 1:0;A=Math.min(v,Math.max(n.jea || 0,t && u && !y?1:0));n=Math.min(v - A,Math.max(n.gCa || 0,t && x && !z?1:0));t=Math.floor(p.bk(h));h=Math.max(0,Math.min(v - A - n,u?Math.max(0,t - y):0));B=Math.max(0,Math.min(v - A - n - h,x?Math.max(0,t - z):0));h=A + h;p=v - n - B;z=z?0:Math.max(0,t + 1 - B);t=(1 - q) / (t + 1);for(B=0;B < v;++B){w[B]=B < A?-Infinity:B >= v - n?-Infinity:u && B < h?g(q + (B - A + y) * t):x && B >= p?g(1 - (B - p + z + 1) * t):0;}return w;}}function g(n){return 20 * Math.log(n) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.HMa=void 0;r=a(0);k=a(86);m=a(8);f=a(2);d=a(6);l=r.__importDefault(a(4));a=(function(){var C60;C60=2;for(;C60 !== 3;){switch(C60){case 2:n.prototype.Ga=function(h){var E60,p,q,t,v;E60=2;for(;E60 !== 21;){switch(E60){case 24:v && p.push(v);E60=23;break;case 2:var c0T="Media";c0T+="Fragme";c0T+="ntEditor [${f";c0T+="ragment.mediaType}]: Attempt to edit appe";c0T+="nded fragment";p=[];(0,f.assert)(!h.me,c0T);E60=5;break;case 9:return {ga:!1};break;case 25:return {ga:t};break;case 14:(q=this.mNb(h,h.response),t=q.ga,v=q.ik);E60=13;break;case 26:E60=!t?25:24;break;case 23:t=q;E60=22;break;case 17:h=this.nNb(h,t?(0,m.FA)(t):h.response,v);t=h.ga;v=h.ik;q=h.data;E60=26;break;case 12:E60=!t?11:10;break;case 10:v && p.push(v);t=q;E60=19;break;case 19:v=h.Ga.start;E60=18;break;case 11:return {ga:t};break;case 13:q=q.data;E60=12;break;case 5:E60=!h.Ga?4:3;break;case 4:return {ga:!0};break;case 18:E60=h.Ga.end !== h.Ox || h.Ga.gCa || h.Ga.$u?17:22;break;case 8:E60=!(h.response instanceof ArrayBuffer)?7:6;break;case 22:return {ga:!0,Cj:p,response:t};break;case 7:return {ga:!0};break;case 3:E60=0 >= h.duration?9:8;break;case 6:E60=0 < h.Ga.start || h.Ga.jea || h.Ga.Zu?14:18;break;}}};n.prototype.mNb=function(h,p){var F60,t,q;F60=2;for(;F60 !== 8;){switch(F60){case 5:F60=!(h.Ga.start || q || h.Ga.Zu || h.Ga.$u)?4:3;break;case 3:var q0T=" e";q0T+="dit fai";q0T+="l";q0T+="ed";var k0T="]";k0T+=":";k0T+=" ";var H0T="MediaFra";H0T+="gm";H0T+="en";H0T+="tE";H0T+="ditor [";t=c(h.Ga,h.ba,this.Pda,this.XP,this.config.J8a);return (p=new k.xz(this.Lbb,h.stream,p).Vfb({jj:h.Ga.start,W:h.DJ,qA:t,KAa:!1,nK:this.config.Ada,tJ:g(this.XP)}))?{ga:!0,ik:h.AAa(q),data:p.pa}:(this.console.error(H0T.concat(h.mediaType,k0T).concat(h.toString(),q0T)),{ga:!1});break;case 2:(0,f.assert)(h.Ga);q=h.Ga.jea;F60=5;break;case 4:return {ga:!0};break;}}};C60=5;break;case 5:n.prototype.nNb=function(h,p,q){var G60,v,t;G60=2;for(;G60 !== 7;){switch(G60){case 9:var Z0T=" edit fai";Z0T+="l";Z0T+="ed";var u0T="]";u0T+=":";u0T+=" ";var o0T="Me";o0T+="dia";o0T+="Fragmen";o0T+="tEditor";o0T+=" [";v=c(h.Ga,h.ba,this.Qda,this.XP,this.config.J8a);return (p=new k.xz(this.Lbb,h.stream,p).cgb({jj:h.Ga.end - q,W:h.DJ,qA:v,KAa:!1,nK:this.config.Ada,tJ:g(this.XP)}))?{ga:!0,ik:h.AAa(t),data:p.pa}:(this.console.error(o0T.concat(h.mediaType,u0T).concat(h.toString(),Z0T)),{ga:!1});break;case 4:G60=h.Ga.end === h.Ox && !t && !h.Ga.Zu && !h.Ga.$u?3:9;break;case 2:void 0 === q && (q=0);(0,f.assert)(h.Ga);t=h.Ga.gCa;G60=4;break;case 3:return {ga:!0};break;}}};return n;break;}}function n(h,p,q,t){var D60;D60=2;for(;D60 !== 9;){switch(D60){case 2:this.console=h;this.config=p;D60=5;break;case 5:var n0T="me";n0T+="di";n0T+="a|ase";n0T+="j";n0T+="s";var T0T="M";T0T+="P";T0T+="4";var D0T="1SI";D0T+="Y";D0T+="bZrN";D0T+="JCp9";D0T;this.Lbb=new l.default.Console(T0T,n0T);q === d.u.V && (this.Pda=m.M.Ja(0 <= p.Pda?p.Pda:p.kC),this.Qda=m.M.Ja(0 <= p.Qda?p.Qda:p.kC),this.XP=Math.pow(10,(p.XP[t] || -44) / 20));D60=9;break;}}}})();b.HMa=a;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.hga=void 0;c=a(10);g=a(20);r=(function(){function k(m){this.console=m;}k.prototype.append=function(m){var f,d,l,n,h,p;if(m.xj)return m;f=m.pa;d=m.offset;l=m.Cj;n=f.pc;h=f.Fd;p=n.add(d);d=h.add(d);p=this.KP && p.Da(this.KP);this.KP=d;if(void 0 === p || p.equal(g.M.Ha))return m;m.Cj=l || [];f={stream:f.Pa,pts:n.Z,gap:p.Z};m.Cj.push({type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:f}}});c.N && this.console.log(("Audio discontinuity: ").concat(JSON.stringify(f)));return m;};return k;})();b.hga=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.UQa=void 0;r=a(0);c=r.__importDefault(a(28));g=r.__importDefault(a(438));a=(function(){function k(m){this.c6=[];this.c6[c.default.Sd.J]=new g.default(m,c.default.Sd.J);this.c6[c.default.Sd.V]=new g.default(m,c.default.Sd.V);}k.prototype.uCb=function(m,f,d){this.c6[m].add(f,d);};k.prototype.Ita=function(){var m;m=[];this.c6.forEach(function(f){var d;if(f){d=f.get();d && 0 < d.length && d.forEach(function(l){m.push(l);});f.reset(!0);}});return m;};k.prototype.sPb=function(m){var f;f=this.Ita();m.strmsel=f;return 0 < f.length;};return k;})();b.UQa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.K5a=void 0;b.K5a=function(a){var c,g,k;c=Math.floor(1E6 * Math.random());g=a.qua;k=a.y$;a=0 === c % a.rua && 0 < k.length;return {Ss:a,KW:a && 0 === c % g};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.h0a=void 0;b.h0a=function(a,c){var g;if(!Array.isArray(a.e0a))return a;g=a.vi?a.vi():Object.create(a);a.e0a.forEach(function(k){if(void 0 !== k.p1b && c.duration >= k.p1b && k.config)for(var m in k.config){g[m]=k.config[m];}});return g;};},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.THa=void 0;c=a(0).__importStar(a(11));g=a(118);k=a(2);r=(function(){function m(f,d,l){var I60;I60=2;for(;I60 !== 3;){switch(I60){case 2:this.pn=f;this.H=d;this.qj=l;I60=4;break;case 14:"";I60=2;break;I60=3;break;case 4:var m0T="1";m0T+="SI";m0T+="Yb";m0T+="ZrN";m0T+="JCp9";m0T;I60=3;break;}}}var H60;H60=2;for(;H60 !== 7;){switch(H60){case 2:m.prototype.zwb=function(f,d){var J60,l,n;J60=2;for(;J60 !== 8;){switch(J60){case 2:var s0T="creat";s0T+="eDlTracksStar";s0T+="t";(l=this,n=this.pn.L);0 === this.vH && this.pn.Gb.Vm(s0T);this.vH+=f.length;f=f.map(function(h){var K60;K60=2;for(;K60 !== 1;){switch(K60){case 2:return l.cUa(h,d.K,d.Yx(),l.pn.Tm,n);break;}}});J60=3;break;case 3:g.ip.instance.Sf();return f;break;}}};m.prototype.Nwb=function(){var L60,f,d;L60=2;for(;L60 !== 3;){switch(L60){case 2:(f=this,d=[]);this.pn.Nb.Vg.forEach(function(l){var M60;M60=2;for(;M60 !== 5;){switch(M60){case 2:c.ta(l.Se) || d.push(l.Se);l.Se=void 0;M60=5;break;}}});this.pn.pU && (d.push(this.pn.pU),this.pn.pU=void 0);d.forEach(function(l){var N60;N60=2;for(;N60 !== 5;){switch(N60){case 2:l.zl || --f.vH;g.ip.instance.jO(l);N60=5;break;}}});L60=3;break;}}};m.prototype.Nxb=function(){var O60;O60=2;for(;O60 !== 1;){switch(O60){case 2:this.vH=0;O60=1;break;}}};H60=4;break;case 4:m.prototype.$zb=function(f,d){var P60,l,n;P60=2;for(;P60 !== 5;){switch(P60){case 2:(l=this.pn.Nb.Vg[f],n=l.Se);n && (n=d.jN(f,n),this.Mwb(f),l.Se=this.cUa(f,d.K,d.Yx(),this.pn.Tm,this.pn.L),d.QAa(n));P60=5;break;}}};m.prototype.cUa=function(f,d,l,n,h){var Q60,p,q;Q60=2;for(;Q60 !== 6;){switch(Q60){case 4:var Y0T="mediaReque";Y0T+="stCom";Y0T+="plete";var O0T="transp";O0T+="or";O0T+="t";O0T+="repo";O0T+="rt";var l0T="e";l0T+="r";l0T+="r";l0T+="o";l0T+="r";q.ej.on(q,l0T,function(){var T60;T60=2;for(;T60 !== 5;){switch(T60){case 2:var N0T="N";N0T+="FE";N0T+="r";N0T+="r_";N0T+="MC_StreamingFailure";var F0T="Dow";F0T+="nloadTra";F0T+="ck fatal error";var R0T="DownloadTrack fatal";R0T+=" ";R0T+="error";h.Zi && p.qj.Cn(R0T);p.pn.Rq(F0T,void 0,N0T,q.zg,0,q.Bi);T60=5;break;}}});q.on(O0T,function(t){var U60;U60=2;for(;U60 !== 1;){switch(U60){case 2:var S0T="trans";S0T+="port";S0T+="report";p.pn.emit(S0T,t);U60=1;break;}}});q.on(Y0T,function(t){var V60;V60=2;for(;V60 !== 1;){switch(V60){case 2:var w0T="mediaRequest";w0T+="Com";w0T+="plet";w0T+="e";p.pn.emit(w0T,t);V60=1;break;}}});Q60=8;break;case 8:q.oa();return q;break;case 2:var X0T="netw";X0T+="orkfail";X0T+="ing";var I0T="cr";I0T+="ea";I0T+="t";I0T+="e";I0T+="d";(p=this,q=g.ip.instance.Os(f,d,!0,l,n,h));q.ej.on(q,I0T,function(){var R60;R60=2;for(;R60 !== 5;){switch(R60){case 2:var p0T="cr";p0T+="eateDlTracksEn";p0T+="d";--p.vH;0 === p.vH && p.pn.Gb.Vm(p0T);R60=5;break;}}});q.ej.on(q,X0T,function(){var S60,t;S60=2;for(;S60 !== 8;){switch(S60){case 1:S60=q.N8?5:8;break;case 2:var r0T="re";r0T+="por";r0T+="tNetwo";r0T+="rkFa";r0T+="iling: ";h.Zi && p.qj.Cn(r0T + q);S60=1;break;case 5:(0,k.assert)(q.VW);t=p.pn.Gf.S;t.mr.Jt(void 0,q.VW,void 0,q.zg,q.Bi);t.$l();S60=8;break;}}});Q60=4;break;}}};m.prototype.Mwb=function(f){var W60,d;W60=2;for(;W60 !== 9;){switch(W60){case 2:f=this.pn.Nb.Vg[f];d=f.Se;d.zl || --this.vH;g.ip.instance.jO(d);f.Se=void 0;W60=9;break;}}};H60=8;break;case 8:return m;break;}}})();b.THa=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.mFa=void 0;c=a(6);g=a(8);r=(function(){function k(m){this.ZH=m;this.state=new g.Az(c.Ia.Qh);this.hk={};}k.prototype.getState=function(){return this.state.value;};k.prototype.Jd=function(m){this.state.set(m);};k.prototype.addListener=function(m){this.state.addListener(m);};k.prototype.paused=function(){this.state.value === c.Ia.Wc && this.state.set(c.Ia.Oi);};k.prototype.A9a=function(){return this.state.value === c.Ia.Qh;};k.prototype.Dr=function(){return "function" === typeof this.ZH.Dr?this.ZH.Dr():this.state.value === c.Ia.Wc;};k.prototype.Jf=function(){return this.state.value === c.Ia.Qd || this.state.value === c.Ia.Kg;};k.prototype.B9a=function(){return this.state.value === c.Ia.bm;};k.prototype.C9a=function(){return this.state.value === c.Ia.gD;};k.prototype.Tf=function(){return this.ZH.Tf();};k.prototype.Ys=function(){return "function" === typeof this.ZH.Ys?this.ZH.Ys():1;};k.prototype.bta=function(){return this.ZH.bta();};k.prototype.bea=function(m,f){this.hk[m]=f;};k.prototype.Br=function(m){return ! !this.hk[m.K] || m.yl;};return k;})();b.mFa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.OPa=void 0;c=a(6);r=(function(){function g(k,m,f){var d;this.sDb=k;this.Pla=m;this.Fwb=f;this.cla=(d={},d[c.u.V]=!1,d[c.u.J]=!1,d[c.u.Hb]=!1,d);this.reset();}g.prototype.zA=function(){var k,m;k=this;m=this.sDb.filter(function(f){return !f.Z8a(k.Fwb());});0 === m.length && this.Ala?this.Nyb():m.forEach(function(f){k.cla[f.mediaType] || (f.once("requestAppended",function(){k.cla[f.mediaType]=!1;k.zA();}),k.cla[f.mediaType]=!0);});};g.prototype.reset=function(){var k;k=this;this.Ala=!1;new Promise(function(m){k.Nyb=m;}).then(function(){return k.Pla();});};g.prototype.$_b=function(){this.Ala || (this.Ala=!0,this.zA());};return g;})();b.OPa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.WEa=void 0;c=a(10);r=(function(){function g(k){this.console=k;this.VM=[];this.UM=[];c.N && this.console.trace(("Received pending adoption ").concat(this.Em.length));}Object.defineProperties(g.prototype,{length:{get:function(){return this.VM.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Em:{get:function(){return this.UM;},enumerable:!1,configurable:!0}});g.prototype.X_b=function(k){k=this.UM.indexOf(k);-1 !== k && (c.N && this.console.trace("Marking request attached"),this.VM[k].U8a=!0,this.Rkb(k));};g.prototype.Y_b=function(k){k=this.UM.indexOf(k);-1 !== k && (c.N && this.console.trace("Marking request completed"),this.VM[k].kt=!0,this.Rkb(k));};g.prototype.push=function(k){this.UM.push(k);this.VM.push({U8a:!1,kt:!1});c.N && this.console.trace(("Pushing pending request, ").concat(this.length," total"));};g.prototype.mP=function(){return 0 < this.length;};g.prototype.Rkb=function(k){var m;m=this.VM[k];m.U8a && m.kt && (m=this.UM[k],this.UM.splice(k,1),this.VM.splice(k,1),c.N && this.console.trace(("Removing request, ").concat(this.length," left")),0 === this.length && c.N && this.console.trace(("Removing last request, contentEndPts: ").concat(m.Pc)));};return g;})();b.WEa=r;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q;function c(t,v){return (t.mediaType === f.u.J?0:1) - (v.mediaType === f.u.J?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.pLa=b.Via=b.eub=void 0;g=a(0);k=a(89);m=a(130);f=a(6);d=a(8);l=a(2);n=a(20);h=g.__importDefault(a(4));r=a(77);p=a(35);q=(function(t){function v(){return null !== t && t.apply(this,arguments) || this;}g.__extends(v,t);return v;})(a(266).KL);b.eub=q;b.Via={ZF:c};a=(function(t){function v(w,u,x,y,z,A,B,C,D,E,G,F,I,L,M,K){var O;z=t.call(this) || this;z.Urc=w;z.L=u;z.S=y;z.Fp=A;z.K9=B;z.Kq=E;z.mU=G;z.pj=I;z.Kz=L;z.events=M;z.fx=K;z.$e=new q([]);z.Sm=!1;z.wU=0;z.XT=z.mya.bind(z);w=A.id && A.id.length?"{" + A.id + "}":"";z.H=(0,d.Ai)(h.default,x,w);z.Gk=z.H.error.bind(z.H);z.$b=z.H.warn.bind(z.H);z.Vj=z.H.trace.bind(z.H);z.yn=null !== D && void 0 !== D?D:n.M.Ja(z.G.da);z.Yla=null === F || void 0 === F?void 0:F.Oc;null === (O=z.Kz) || void 0 === O?void 0:O.addListener(z.XT);y && C && z.hXb(y,C);return z;}g.__extends(v,t);Object.defineProperties(v.prototype,{Pf:{get:function(){return this.Sm;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{G:{get:function(){return this.Fp;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Av:{get:function(){return this.$e.every(function(w){return w.Av;});},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{uj:{get:function(){return this.$e.every(function(w){return w.uj;});},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ds:{get:function(){return this.rm().reduce(function(w,u){return w + u.Ds;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Bh:{get:function(){return this.rm().every(function(w){return w.Bh();});},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{xe:{get:function(){return this.rm().map(function(w){return w.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{W:{get:function(){return this.gx.W;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Za:{get:function(){return this.gx.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{lb:{get:function(){return this.gx.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Kj:{get:function(){return this.Ld.ng(this.W).Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{jt:{get:function(){return this.yn.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Mr:{get:function(){return this.G.ff.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{wF:{get:function(){return this.G.oh.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{zI:{get:function(){var w,u;u=null === (w=this.G.G.Vp) || void 0 === w?void 0:w[0];return u && this.pc?n.M.Ja(Math.max(0,u[0] - this.pc.Z - this.G.ff.Z)):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{AY:{get:function(){return this.$e.reduce(function(w,u){return w && u.Oc?n.M.max(w,u.Oc):u.Oc?u.Oc:w;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Vua:{get:function(){return this.jt.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{cg:{get:function(){return this.Ld.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{uq:{get:function(){return this.gx.uq;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ld:{get:function(){return this.Kq;},enumerable:!1,configurable:!0}});v.prototype.wq=function(w){this.Ld.equal(w) || (this.Kq=w);};v.prototype.Rx=function(w){return (w=this.fb(w))?Promise.resolve(w.Rx()):Promise.resolve(m.AsyncIterator.s5a());};v.prototype.sE=function(){this.rm().forEach(function(w){return w.sE();});};v.prototype.reset=function(){this.$e.forEach(function(w){w.reset();});};v.prototype.Wd=function(){var w,u;this.Sm || (this.Sm=!0,null === (w=this.xD) || void 0 === w?void 0:w.rd(),this.xD=void 0,this.$e.forEach(function(x){x.Wd();}),null === (u=this.Kz) || void 0 === u?void 0:u.removeListener(this.XT),this.events.removeAllListeners());};v.prototype.xP=function(){return !0;};v.prototype.fb=function(w){return this.$e.get(w);};v.prototype.rm=function(w){void 0 === w && (w=c);return this.$e.items.slice().sort(w);};v.prototype.BX=function(){return this.$e.items;};v.prototype.OI=function(w){return this.fb(w);};v.prototype.Ah=function(w,u){w=this.fb(w);if(!w)return 0;if(u)return w.Kn;u=w.fr;if(void 0 === u)return 0;w=this.mU();return u - w;};v.prototype.YA=function(){var w,u,x,y,z,A,B;B=null === (w=this.fb(f.u.V)) || void 0 === w?void 0:w.uo;w=null === (u=this.fb(f.u.J)) || void 0 === u?void 0:u.uo;return {hp:null !== (x=null === w || void 0 === w?void 0:w.Z) && void 0 !== x?x:0,Bs:null !== (y=null === B || void 0 === B?void 0:B.Z) && void 0 !== y?y:0,cu:null !== (z=null === w || void 0 === w?void 0:w.ea) && void 0 !== z?z:0,KD:null !== (A=null === B || void 0 === B?void 0:B.ea) && void 0 !== A?A:0};};v.prototype.gP=function(w){var u;return (w=this.fb(w))?null !== (u=w.fr) && void 0 !== u?u:0:0;};v.prototype.$l=function(w){w=this.fb(w);(0,l.assert)(w);return w.$l();};v.prototype.mya=function(w){w=w.newValue;(0,f.$p)(w) && this.ys();};v.prototype.eE=function(w){return this.$e.every(function(u){return u.eE(w);});};v.prototype.rX=function(w){var u,x;return null !== (x=null === (u=this.$e.get(w)) || void 0 === u?void 0:u.a1a) && void 0 !== x?x:n.M.Ha;};v.prototype.Zk=function(w){this.Sm || (w.B6 || (0,l.assert)(!w.Fc),this.ys(),this.uj && this.Vla());this.ev(w);};v.prototype.JJ=function(w){this.L.z8 && this.ys(!0);this.CI(w);};v.prototype.RB=function(w){this.L.z8 && this.ys(!0);this.AE(w);};v.prototype.YBa=function(w){var u;return (0,f.$p)((null === (u=this.Kz) || void 0 === u?void 0:u.value) || f.Vc.cm) && (!w || this.wU + this.L.qba < h.default.time.ia());};v.prototype.ys=function(w){void 0 === w && (w=!1);this.YBa(w) && (this.wU=h.default.time.ia(),w={type:"checkBufferingProgress"},this.events.emit(w.type,w));};v.prototype.Vla=function(){var w;w={type:"branchStreamingComplete"};this.events.emit(w.type,w);};v.prototype.hXb=function(w,u){var x;this.NBa(w);(0,l.assert)(w.P === this.G.P || isNaN(w.P) && isNaN(this.G.P));w=null !== u && void 0 !== u?u:null === (x=this.K9) || void 0 === x?void 0:x.call(this,w);(0,l.assert)(w,"tracks need to exist upon initialization");};v.prototype.toJSON=function(){var w,u;return {segment:this.G.id,branchOffset:this.cg,viewableId:this.Fp.P,contentStartPts:null === (w=this.pc) || void 0 === w?void 0:w.Z,contentEndPts:null === (u=this.Fd) || void 0 === u?void 0:u.Z};};return v;})(k.uw);b.pLa=a;(0,p.Ue)(r.gu,a);(0,p.Ue)(r.cz,a);},function(r,b,a){var c,g,k,m,f,d,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.hPa=void 0;r=a(0);c=r.__importDefault(a(28));g=c.default.Sd;k=c.default.Nw;m=a(6);f=a(8);d=a(20);l=r.__importDefault(a(154));n=r.__importDefault(a(4));a=(function(){function h(p,q,t,v,w){this.zt=p;this.Rs=q;this.L=t;this.H=v;this.dh=w;}h.prototype.p2b=function(p){p={type:"requestCreated",request:p};(0,f.gb)(this.Rs,p.type,p);};h.prototype.o2b=function(p){var q;q=p.Ua.ab.G;p={type:"updateStreamingPts",mediaType:p.mediaType,position:{Y:q.id,offset:d.M.Ja(this.zt.tpa - q.da)},completePlayerStreamingTimestamp:d.M.Ja(this.zt.fr),trackIndex:p.stream.track.iA};(0,f.gb)(this.Rs,p.type,p);};h.prototype.ycb=function(p,q,t){var v,w,u;w=this.dh;u=this.zt.Oj.we;u.dib(p);w === m.u.J && this.L.Mda && (void 0 === u.bwa?u.fib(n.default.time.ia()):n.default.time.ia() - u.bwa > this.L.Mda && (p.bitrate !== u.m$a && (n.default.storage.set("vb",p.bitrate),u.vac(p.bitrate)),u.fib(n.default.time.ia())));u.xY && u.xY === p || (this.zt.Oj.ecc(q,u.xY,p),u.kac(p),q=0,p.Jb && p.Jb.confidence && p.Jb.Va && (q=p.Jb.Va.va),u={Y:this.zt.ab.G.id,offset:d.M.Ja(t - this.zt.ab.G.da)},p={type:"streamSelected",nativetime:n.default.time.ia(),mediaType:w,streamId:p.id,manifestIndex:p.S.Sb,trackIndex:p.track.iA,streamIndex:p.mg,movieTime:t,bandwidth:q,longtermBw:q,rebuffer:0,position:u,stream:p,manifest:null === (v=p.S) || void 0 === v?void 0:v.fa},(0,f.gb)(this.Rs,p.type,p));};h.prototype.k2b=function(p,q,t){var v,w,u,x,y;v=q.S;w=v.Il;u=this.zt.Oj.we;x=v.FYb(q);y=x.Lva;x=x.GYb;t && q.Zb && !u.yY?(x=k.Ow,q.Pt=k.name[x],this.xcb(p,q.Zb,q.Pt,q.location,q.bitrate),u.yY=q.Zb):!t && q.Zb && q.Zb !== u.yY && (x=x?void 0 === u.yY?k.Ow:w.lR === k.Jia?k.Iub:k.lga:k.Hub,q.Pt=k.name[x],this.xcb(p,q.Zb,q.Pt,q.location,q.bitrate),u.yY=q.Zb);u.JP || (x={type:"logdata",target:"startplay",fields:{}},this.dh === g.V?x.fields.alocid=q.location:this.dh === g.J && (x.fields.locid=q.location),(0,f.gb)(this.Rs,x.type,x));t && q.location && !u.JP?(x=k.Ow,q.Pt=k.name[x],this.vcb(v.Sb,p,q.location,q.uwa,q.Zb,q.yK,q.Pt,q.yy),u.JP=q.location):!t && q.location && q.location !== u.JP && (x=y?void 0 === u.JP?k.Ow:w.lR === k.Jia?k.$rb:k.lga:k.Zrb,q.Pt=k.name[x],this.vcb(v.Sb,p,q.location,q.uwa,q.Zb,q.yK,q.Pt,q.yy),q.yy=void 0,u.JP=q.location);this.L.Uv || (q.i$a=q.location,q.l$a=q.Zb);};h.prototype.Sba=function(p){p={type:"requestsPruned",requests:p};(0,f.gb)(this.Rs,p.type,p);};h.prototype.xcb=function(p,q,t,v,w){var u,x;u=this.dh === g.J?"video":"audio";x=l.default.instance().get();p={type:"serverSwitch",segmentId:p,mediatype:u,server:q,reason:t,location:v,bitrate:w,confidence:x.confidence};x.confidence && (p.throughput=x.Va.va);this.zt.Oj.we.yY && (p.oldserver=q);(0,f.gb)(this.Rs,p.type,p);};h.prototype.vcb=function(p,q,t,v,w,u,x,y){p={type:"locationSelected",manifestIndex:p,segmentId:q,mediatype:this.dh === g.J?"video":"audio",location:t,locationlv:v,serverid:w,servername:u,selreason:x,seldetail:y};(0,f.gb)(this.Rs,"locationSelected",p);};h.prototype.Qla=function(p,q){q={type:"lastSegmentPts",segmentId:p.id,pts:Math.floor(q)};p.yF || (0,f.gb)(this.Rs,q.type,q);};h.prototype.Cn=function(p){p={type:"managerdebugevent",message:"@" + n.default.time.ia() + ", " + p};(0,f.gb)(this.Rs,p.type,p);};h.prototype.wQb=function(p){(0,f.gb)(this.Rs,"transportReport",p);};h.prototype.vQb=function(p){(0,f.gb)(this.Rs,"mediaRequestComplete",p);};return h;})();b.hPa=a;},function(r,b,a){var c,g,k,m,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.zNa=b.Nqb=void 0;c=a(0);g=c.__importDefault(a(4));k=a(76);m=a(10);f=a(1012);d=a(8);r=(function(){return function(l,n,h,p){this.L=n;this.zt=p;p="[" + l + "]";h=(0,d.Ai)(g.default,h,p);this.wbb=l === k.u.J?n.wba:n.nba;p=g.default.Wp()[l];this.UY=l === k.u.J?n.x0b:n.e0b;this.UY=Math.min(n.n0b * p,this.UY);m.N && h.trace("This pipeline's buffer size ",p,this.UY);this.sba=(l === k.u.J?n.JB:n.ky) || n.sba;this.Xaa=(l === k.u.J?n.w0b:n.d0b) || n.Xaa;this.nna=n.nna;};})();b.Nqb=r;r=(function(l){function n(h,p,q,t){return l.call(this,h,p,q,t) || this;}c.__extends(n,l);n.prototype.D5a=function(h,p,q,t){var v,w,u,x,y,z,A,B,C;void 0 === q && (q=!1);void 0 === t && (t=!1);u=this.zt;x=h.S.Yx();y=u.sd.index;z=u.ve.index;A=p === y;B=p === z;if(!B || A && u.sd.Ga){if(A){C=h.w5a(u.sd);C.qR(u.sd.uC);B && (u.sd.Ga || u.ve.Ga) && C.kj({start:null === (v=C.Ga) || void 0 === v?void 0:v.start,end:null === (w=u.ve.Ga) || void 0 === w?void 0:w.end});}else C=h.Fl(p);}else (C=h.w5a(u.ve),C.qR(u.ve.uC));C.mQ=p + 1;if(v=(0,f.D6a)(u,u.Ic))(m.N && u.Vj("getFragmentForRequest pts:",u.Ic,"in region:",v,"previous region:",u.Vva),w=void 0 === u.Vva || u.Vva !== v.region,(0,f.w2a)(u.H,C,v,{WXb:A,cYb:B,lYb:w}));B && (C.sab(),C.sac(u.ab.G));A && C.Wwa(!0);A=h.ha.GK;if(!(C.mQ === p || null !== A && void 0 !== A && A.e9a(p) || x || !this.nna && C.Ga || q && !(p > y + 1) || t && !(p < z - 2)))for((q=t?z - 1:z,++p);p < h.ha.length && p < q && (C.ea < this.wbb || C.duration < this.sba) && (1 === C.stream.Sg.length || this.LFb(h,p));++p){t=h.Fl(p);if(null === A || void 0 === A?0:A.e9a(p))break;if((0,f.d9a)(u,t))break;if(C.duration + t.duration > this.Xaa)break;if(C.ea + t.ea > this.UY)break;C.D6(t);C.mQ=p + 1;m.N && u.Vj("getFragmentForRequest: extended fragment startPts:",C.da,"to duration:",C.duration,"size:",C.ea,"min request size:",this.wbb,"max request size:",this.UY,"min request duration:",this.sba,"max request duration:",this.Xaa,"edit:",C.Ga);}m.N && u.Vj("getFragmentForRequest(" + p + ") returning:",C,"stream:",C.stream,"firstRequestInRegion:",C.Tra,"lastRequestInRegion:",C.$x,"nextIndex:",C.mQ);return C;};n.prototype.LFb=function(h,p){return !h.Sg.some(function(q){return p === q.te;});};return n;})(r);b.zNa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.w2a=b.YXb=b.d9a=b.D6a=void 0;c=a(22);b.D6a=function(g,k){if((g=g.ab.G.Fy) && 0 !== g.length)return (0,c.$c)(g,function(m){return m.pc.Z <= k && k < m.Fd.Z;});};b.d9a=function(g,k){return k.index === g.sd.index?!0:(g=g.ab.G.Fy) && 0 !== g.length?g.some(function(m){m=m.pc;return k.pc.bF(m) && m.lessThan(k.Fd);}):!1;};b.YXb=function(g,k){return k.index === g.ve.index?!0:(g=g.ab.G.Fy) && 0 !== g.length?g.some(function(m){m=m.Fd;return k.pc.lessThan(m) && m.bF(k.Fd);}):!1;};b.w2a=function(g,k,m,f){var d,l,n,h,p,q,t,v;g=null === (d=k.Ga) || void 0 === d?void 0:d.start;d=null === (l=k.Ga) || void 0 === l?void 0:l.end;v=l=!1;if((null === f || void 0 === f?0:f.lYb) || (null === f || void 0 === f || !f.WXb) && k.pc.lessThan(m.pc)){if(t=k.Hra(m.pc.Z))(t=(null !== (h=null === (n=k.Ga) || void 0 === n?void 0:n.start) && void 0 !== h?h:0) + t.jj,g=Math.max(null !== g && void 0 !== g?g:0,t));t=m.pc.Z;l=!0;}if((null === f || void 0 === f || !f.cYb) && k.Fd.greaterThan(m.Fd)){if(t=k.Hra(m.Fd.Z))(t=(null !== (q=null === (p=k.Ga) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + t.jj,d=Math.min(null !== d && void 0 !== d?d:Infinity,t),k.mQ=k.index);t=m.Fd.Z;v=!0;}if(void 0 !== g || void 0 !== d)(k.kj({start:g,end:d}),void 0 !== t && (!k.uC || t > k.uC) && k.qR(t));k.pac(m.region,l,v);};},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t;Object.defineProperties(b,{__esModule:{value:!0}});b.$Qa=void 0;c=a(0);g=c.__importStar(a(11));k=a(267);m=a(1015);f=a(1018);d=a(1019);r=a(89);l=a(6);n=a(2);h=a(192);p=a(8);q=a(59);t=a(131);a=(function(v){function w(u,x,y,z,A,B,C,D){var E;E=v.call(this,u) || this;E.L=x;E.H=y;E.gm=z;E.Ud=A;E.dh=B;E.nta=D;E.Ilb=!0;E.Ne=new h.eG(E.H);E.Gk=E.H.error.bind(E.H);E.$b=E.H.warn.bind(E.H);E.Vj=E.H.trace.bind(E.H);E.vWa();E.Pq=null === C || void 0 === C?void 0:C.KA(function(){return E.a9b();},"pruner");return E;}c.__extends(w,v);Object.defineProperties(w.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{mediaType:{get:function(){return this.dh;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ab:{get:function(){return this.Ud;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Oy:{get:function(){return 0 < this.hC;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{vCa:{get:function(){return !this.CM;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{hC:{get:function(){return this.La.length;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{$t:{get:function(){return this.La.$t;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{l7b:{get:function(){return this.Ne.count;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{rN:{get:function(){return this.Ne.kt;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{WV:{get:function(){return this.La.complete.Oc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{fr:{get:function(){return this.La.Q_a;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{tpa:{get:function(){return this.La.P_a;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{sC:{get:function(){return this.La.Oc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Kn:{get:function(){return void 0 === this.La.zd?0:this.La.Lf - this.La.zd;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{uo:{get:function(){return {ea:this.La.dE,Z:Math.max(this.La.Q_a - this.La.zd,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{VN:{get:function(){return this.La.sHb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{dE:{get:function(){return this.La.dE;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ds:{get:function(){return this.La.ea;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{rF:{get:function(){return this.qxb();},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Pya:{get:function(){return this.La.QWb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{p$:{get:function(){return this.La.length > this.La.$t;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{sj:{get:function(){return this.La.sj;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{mZb:{get:function(){return this.La.I4b;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{d$a:{get:function(){return this.gVa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Odb:{get:function(){return this.La.length - this.Um;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ha:{get:function(){return this.La;},enumerable:!1,configurable:!0}});w.prototype.Wd=function(){var u,x;x=this.La;setTimeout(function(){x.forEach(function(y){y.abort();y.rd();});},1);this.vWa();this.Ne.AO();null === (u=this.Pq) || void 0 === u?void 0:u.xb();};w.prototype.reset=function(){this.Wd();this.Ne.Bgb();};w.prototype.close=function(){this.Ne.AO();};w.prototype.Ehb=function(){this.MTa=!0;};w.prototype.tta=function(){return {endMarked:void 0 !== this.Ne.count,queueCount:this.Ne.count,isComplete:this.Ne.kt,itemCount:this.Ne.R_a,continuousEndPts:this.Ne.Vn().reduce(function(u,x){return x && !x.done && (x=x.value,100 > Math.abs(x.dsa - u) || -1 === u)?x.yQb:u;},-1),sentinelItemCount:this.Ne.Vn().filter(function(u){return u && u.done;}).length,processedCount:this.Ne.XLb,rc:this.hC};};w.prototype.K0a=function(u,x,y){var z,A,B,C;z=this.L;(0,n.assert)(!u.header);if(y.Ya){B=this.Ud;C=B.Z6a();B=B.A0;this.L.Ejb?y.mediaType === l.u.J && void 0 !== C && (A=new f.nFa(y,z,x.track,u,this.La,this.H,C,B)):A=new d.qFa(y,z,x.track,u,this.La,this.H,C,B);}A || (A=k.G1.create(y,z,x.track,u,this.La,!1,this.H,this.nta));A.oa(this);this.Fu(A);return A;};w.prototype.NCb=function(u){var x;u.oa(this);u.B6=!0;this.Fu(u);x=Promise.resolve();u.complete?(this.Gka(u),this.gm.ycb(u.stream,u.zd,u.Nd),x=this.Yea(),this.ev(u)):(u.active && this.OO(u),u.iAa && this.AE(u));return x;};w.prototype.Fu=function(u){var x,y;this.La.No(u);(null === (x=this.Pq) || void 0 === x?void 0:x.state) === q.co.complete && (null === (y=this.Pq) || void 0 === y?void 0:y.ij());this.Gka(u);u.Po && (this.CM=!1);};w.prototype.Rx=function(){return this.Ne.rsa();};w.prototype.Moa=function(){this.Um === this.La.length && this.MTa && this.Ne.AO();};w.prototype.Yea=function(){var u,x,y,z,D;u=this;y=Promise.resolve();z=this.Ud;if(!z.xP(this.dh) || this.Um === this.La.length)return y;for(var A=this.L.q0b,B=0,C=[];this.Um < this.La.length;){if(x=this.La.get(this.Um)){if(this.La.X3a && this.La.X3a.Za < x.Za)break;if(!x.zr())break;C.push(x);++B;g.Oa(this.zd) || (this.zd=x.zd);}++this.Um;if(!g.ta(A) && B >= A)break;}if(C.length){void 0 !== this.Ne.count && (this.Gk("tryToAtach() but requestQueue has sentinel:",this.Ne.count),this.Ne.Bgb());if(this.Ilb)y=Promise.all(C.map(function(E){return u.Ne.enqueue(E).then(function(){return u.i$(E);});}));else for(x=0;x < C.length;x++){try{D=C[x];z.JTb(this.mediaType).sMb(D);this.i$(D);}catch(E){return (this.Um-=C.length - x,Promise.reject(E));}}this.Moa();}return y;};w.prototype.i$=function(u){this.gVa=u;this.f4a(u);};w.prototype.eV=function(u,x){var y,z,A;y=this;z=[];if(0 !== this.La.$t){A=this.La.Hdb;this.La.yec.qCa(function(B){if(!g.ta(u) && B.S.Sb !== u || B.Po || A > B.zd)return !0;B.Vs && (y.CM=!1);if(!y.A4(B))return (y.$b("request abort failed:",B.toString()),!0);z.unshift(B);});this.fma();z.length && "function" === typeof x && x(z);}};w.prototype.A_=function(){this.fma();};w.prototype.a9b=function(){var u,x,y,z,A,B;return c.__generator(this,function(C){switch(C.label){case 0:C.label=1;case 1:if(!this.La.length)return [3,3];u=this.La.get(0);x=p.M.Ja(null !== (B=null === (A=this.L.tR) || void 0 === A?void 0:A.Z) && void 0 !== B?B:0);y=x.add(u.Oc);return [4,q.Rh.pw(y)];case 2:C.kb();if(1 >= this.La.complete.length && !u.Po)return [3,3];(0,n.assert)(u === this.La.get(0));u.me || this.A4(u);z=this.La.splice(0,1);0 < this.Um && this.Um--;this.gm.Sba(z);z=void 0;return [3,1];case 3:return [2];}});};w.prototype.l_=function(u,x){var y,z,A,B,C,D;y=this;z=this.L;A=!1;B=0;C=this.La.some(function(E){if(u < E.Lf)return (A && y.Gka(E),!0);++B;E.me || (y.$b("pruning unappended request:",E && E.toString()),z.Zi && y.gm.Cn(("prune pts:").concat(u," unappended request:").concat(E && E.toString())),E.Vs && (y.CM=!1,A=!0),y.A4(E,x) || y.Gk("MediaRequest.abort error:",E.zg));});if(0 < B){D=this.La.splice(0,B);this.Um-=Math.min(B,this.Um);this.gm.Sba(D);}return C;};w.prototype.V9=function(u){var x,y,z;void 0 === u && (u={XV:null,FQ:null,zd:null,Fj:0,Yo:0,Hg:0,ha:[]});x=this.L;y=this.La;g.Oa(y.zd) && (null === u.zd || y.zd < u.zd) && (u.zd=y.zd);z=this.fr;void 0 !== z && null === u.XV && (u.XV=z);z=y.Lf;void 0 !== z && (null === u.FQ || z > u.FQ) && (u.FQ=z);u.Fj+=y.Fj;u.Yo+=y.Yo;u.Hg=x.jCa?u.Hg + y.Dfb:u.Hg + y.dE;Array.prototype.unshift.apply(u.ha,y.kb.ha);return u;};w.prototype.Lx=function(u){if(this.La.length && (u=this.La.I3a(u)))return u;};w.prototype.wBb=function(u){var x,y,z;y=u.Fd;u=u.Nd;(0,n.assert)(y,"expected contentEndTimestamp to be defined");(0,n.assert)(void 0 !== u,"expected contentStartPts to be defined");u=this.La.Cra(u);z=this.La.get(u);(0,n.assert)(z && void 0 !== z.Nd && void 0 !== z.Pc && void 0 !== z.index,"expected existing request to be defined with properties");if(null === (x=z.Fd) || void 0 === x?0:x.equal(y))return (this.iXa(u),[z.Pc,z.index + 1]);this.iXa(u - 1);return [z.Nd,z.index];};w.prototype.$l=function(){var u,x;u=this;x=[];this.La.forEach(function(y){var z;z=y.QDa();1 === z?x.push(y):2 === z && u.ab.S.Yf("swapUrl failure");});return x;};w.prototype.RB=function(u){u.VE && u.zr() && this.Yea();this.AE(u);};w.prototype.Zk=function(u){var x,y;u.VE && !u.me && this.Yea();(null === (x=this.Pq) || void 0 === x?void 0:x.state) === q.co.complete && (null === (y=this.Pq) || void 0 === y?void 0:y.ij());this.ev(u);};w.prototype.rna=function(u){var x,y,z;x=this.dh === l.u.J?"v_":"a_";y=this.La;z=y.LO(u);u=0 <= z?y.get(z):void 0;return (y=0 <= z && z + 1 < y.length?y.get(z + 1):void 0) && u?u.Lf !== y.zd?x + "rg":u.complete && y.complete?x + "uk":x + "fd":x + "rm";};w.prototype.qxb=function(){return this.La.sj + this.La.$t;};w.prototype.vWa=function(){var u,x,y;x=void 0 !== this.La && 0 < this.La.length;y=this.La;this.La=new m.kFa(this.H,this);this.Um=0;this.Ne.clear();this.gVa=void 0;this.zd=null;null === (u=this.Pq) || void 0 === u?void 0:u.ij();this.MTa=this.CM=!1;x && (u=y.map(function(z){return z;}),this.gm.Sba(u));};w.prototype.Gka=function(u){this.CM?u.Vs && u.Wwa(!1):(u.Vs || u.Wwa(!0),this.CM=!0);};w.prototype.iXa=function(u){var x;for(u+=1;u < this.hC;u++){x=this.La.get(u);(0,n.assert)(x,"expected request to exist");this.Ne.remove(x);x.aborted || (this.A4(x),x.rd());}this.fma();};w.prototype.A4=function(u,x){if(!u.abort())return !1;"function" === typeof x && x(u);return !0;};w.prototype.fma=function(){var u,x,y,z;u=this;if(0 !== this.La.length){y=[];z=0;this.La.c7b(function(A,B){B < u.Um && ++z;y.push(A);});this.Um-=z;null === (x=this.Pq) || void 0 === x?void 0:x.ij();this.gm.Sba(y);}};return w=c.__decorate([t.FI],w);})(r.uw);b.$Qa=a;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p;Object.defineProperties(b,{__esModule:{value:!0}});b.hFa=void 0;c=a(0);g=a(86);k=c.__importDefault(a(28));r=c.__importDefault(a(4));m=a(8);f=a(2);d=a(191);l=a(71);n=a(189);h=a(105);p=r.default.ps;a=(function(q){function t(v,w,u,x,y,z,A,B){var C;x=q.call(this,v,u,x,z,A,B) || this;y=l.wk.prototype.toString.call(x) + (y?"(cache)":"");B={offset:u.offset,ea:u.Jxa + 8,responseType:0};x.push(new n.oL(v,w,y + "(moof)",B,x,z,A));B={offset:u.offset + B.ea,ea:u.ea - B.ea,responseType:p.fd && !p.fd.I_.JT?0:1};if(x.mediaType === k.default.Sd.J && x.Ga){if(0 < x.Ga.start){C=x.N3a(x.Ga.start);C && (B.offset=u.offset + C,B.ea=u.ea - C);}x.Ga.end < x.Ox && (C=x.N3a(x.Ga.end)) && (B.ea-=u.ea - C);}x.push(new n.oL(v,w,y + "(mdat)",B,x,z,A));return x;}c.__extends(t,q);t.prototype.zr=function(){return !this.me && ! !this.La.length && this.La.every(function(v){return v.zr();});};t.prototype.ND=function(v,w){var u,x,y,z,A,B,C;if(this.me)return {status:h.Mh.hs};if(!this.zr())return {status:h.Mh.Nf};v=!1;u=this.La[0].response;x=u.slice(0,u.byteLength - 8);y=new DataView(u);u=y.getUint32(x.byteLength);(0,f.assert)("mdat" === (0,g.vM)(y.getUint32(x.byteLength + 4)));z=this.Ga && 0 < this.Ga.start;y=this.Ga && this.Ga.end < this.Ox;if(this.Ga && (z || y)){if(z)(A=new g.xz(this.H,this.stream,x),B=A.Vfb(this.Ga.start,this.W));if(y && !1 !== B){A=new g.xz(this.H,this.stream,B?(0,m.FA)(B.pa):x);C=A.cgb(this.Ga.end - this.Ga.start,this.W);}if(A=y?C:B)(v=w.appendBuffer((0,m.FA)(A.pa),(0,m.Bv)(this)),B && ((0,f.assert)(void 0 !== B.Tr),(0,f.assert)(void 0 !== B.WQ),u-=B.Tr),C && ((0,f.assert)(void 0 !== C.Tr),(0,f.assert)(void 0 !== C.WQ),u-=C.Tr,B && (0,f.assert)(void 0 !== B.Tr)));A=this.AAa();}else v=w.appendBuffer(x,(0,m.Bv)(this));v && (v=w.appendBuffer((0,g.RP)(u - 8),(0,m.Bv)(this))) && (v=w.appendBuffer(this.La[1].response,(0,m.Bv)(this)));this.me=v;this.p8b();return {status:v?h.Mh.hs:h.Mh.Nf,ik:A};};t.prototype.toString=function(){return "ID: " + this.$h() + ":" + q.prototype.toString.call(this);};return t;})(d.tw);b.hFa=a;},function(r,b,a){var c,g,k,m,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.kFa=void 0;c=a(0);a(2);g=a(1016);r=a(35);k=a(1017);m=a(77);f=a(89);d=a(262);a=(function(l){function n(h,p){var q,t;q=this;t=[new k.F1(h),new k.F1(h),new k.F1(h)];q=l.call(this,t,function(v){return v.complete?q.empty || v.Za <= q.tHb?0:1:v.active?1:2;}) || this;t=c.__read(t,3);q.Qi=t[0];q.Ye=t[1];q.Cu=t[2];q.Qq=0;q.rka=0;q.H=h;q.ce=p;return q;}c.__extends(n,l);Object.defineProperties(n.prototype,{ea:{get:function(){return this.Qi.ea + this.Ye.ea + this.Cu.ea;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{yec:{get:function(){return this.Cu;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{active:{get:function(){return this.Ye;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{complete:{get:function(){return this.Qi;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Dfb:{get:function(){return this.Qq;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{dE:{get:function(){return this.Qi.ea;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Fj:{get:function(){return this.Qi.ea + this.Ye.ea - this.Qq;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{zec:{get:function(){return this.Cu.ea;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Yo:{get:function(){return this.ea - this.Qq;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{first:{get:function(){return this.OQb();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{An:{get:function(){return this.pEb();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Lqa:{get:function(){return !this.Qi.empty || this.Cu.empty || this.Ye.empty?this.first:this.Ye.Za < this.Cu.Za?this.Ye.first:this.Cu.first;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{q$a:{get:function(){return this.Cu.empty || this.Ye.empty?this.An:this.Ye.lb < this.Cu.lb?this.Cu.An:this.Ye.An;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{X3a:{get:function(){return this.Cu.first;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{W:{get:function(){return this.first && this.first.W;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Za:{get:function(){return this.Lqa && this.Lqa.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{lb:{get:function(){return this.q$a && this.q$a.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Kj:{get:function(){return this.first && this.first.Kj;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{sHb:{get:function(){return this.Qi.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{QWb:{get:function(){return this.Pc - this.P_a || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{tHb:{get:function(){return this.Qi.empty?this.Za:this.Qi.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{P_a:{get:function(){return this.Qi.empty?this.Nd:this.Qi.Pc;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Q_a:{get:function(){return this.Qi.empty?this.zd:this.Qi.Lf;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{I4b:{get:function(){return this.Ye.An || this.Qi.An;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Hdb:{get:function(){return this.Ye.Lf || this.Qi.Lf;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{$t:{get:function(){return this.Cu.length;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{sj:{get:function(){return this.Ye.length;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{S_a:{get:function(){return this.Qi.length;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{kb:{get:function(){return this.Qi.concat(this.Ye);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ms:{get:function(){return this.ah;},enumerable:!1,configurable:!0}});n.prototype.hM=function(h){var p;h.aborted?++this.rka:this.Qq+=h.bytesReceived || 0;if(this.empty)this.ah=new d.KC(this,{});else if(h.Za !== this.lb)if(h.Za > this.ah.lb)this.ah.X_(this.ah.lb);else if(h.Za < this.Za || h.Za === this.ah.lb){p=h.lb;this.mQb(function(q,t){return q.Za - t.Za;},function(q){p=q.Za === p?q.lb:p;});p === Math.max(this.lb,h.lb)?this.ah.cpa():this.ah.X_(p);}h.NBa(this);};n.prototype.$z=function(h){h.aborted?--this.rka:this.Qq-=h.bytesReceived;this.empty?this.ah=void 0:h.Za !== this.lb && h.lb <= this.ah.lb && h.Za > this.ah.Za && this.ah.X_(h.Za);h.r_a();};n.prototype.push=function(h){this.hM(h);return l.prototype.push.call(this,h);};n.prototype.shift=function(){var h;h=l.prototype.shift.call(this);h && this.$z(h);return h;};n.prototype.pop=function(){var h;h=l.prototype.pop.call(this);h && this.$z(h);return h;};n.prototype.unshift=function(h){this.hM(h);return l.prototype.unshift.call(this,h);};n.prototype.No=function(h){this.hM(h);l.prototype.No.call(this,h);};n.prototype.remove=function(h){if(!l.prototype.remove.call(this,h))return !1;this.$z(h);return !0;};n.prototype.splice=function(h,p){for(var q=[],t=2;t < arguments.length;t++){q[t - 2]=arguments[t];}t=l.prototype.splice.apply(this,c.__spreadArray([h,p],c.__read(q),!1));q.forEach(this.hM.bind(this));t.forEach(this.$z.bind(this));return t;};n.prototype.c7b=function(h){var p;p=this;this.reduce(function(q,t,v){t.aborted && (h && h(t,v,p),0 === q.length || q[0].end !== v?q.unshift({start:v,end:v + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};n.prototype.Cra=function(h){return this.J3a(function(p){return p.Cra(h);});};n.prototype.LO=function(h){return this.J3a(function(p){return p.LO(h);});};n.prototype.I3a=function(h){h=this.LO(h);return -1 !== h?this.get(h):void 0;};n.prototype.q$b=function(h){var q;for(var p=[];h < this.length;){q=this.get(h);q && p.push(q);h++;}return p;};n.prototype.SB=function(h){this.move(h);this.OO(h);};n.prototype.JJ=function(h){this.Qq+=h.bytesReceived - h.Et;this.CI(h);};n.prototype.Zk=function(h){for(this.Qq+=h.bytesReceived - h.Et;this.Ye.first && this.Ye.first.complete && (this.Qi.empty?this.Ye.first === this.Lqa:this.Ye.first.Za === this.Qi.lb);){this.Mac();}this.ev(h);};n.prototype.EZ=function(h,p,q){this.Qq-=h.bytesReceived;++this.rka;this.NO(h,p,q);};n.prototype.KJ=function(h,p,q){this.Ye.Iec(p - q);this.j9(h,p,q);};return n;})(g.SGa);b.kFa=a;(0,r.Ue)(f.uw,a,!1);(0,r.Ue)(m.gu,a);(0,r.Ue)(m.cz,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.SGa=void 0;c=a(0);a(2);r=(function(){function g(k,m){this.Ad=k;this.rM=m;this.Uz();}Object.defineProperties(g.prototype,{length:{get:function(){return this.Of;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.Of;},enumerable:!1,configurable:!0}});g.prototype.OQb=function(){return this.uh && this.uh.get(0);};g.prototype.pEb=function(){return this.nM && this.nM.get(this.nM.length - 1);};g.prototype.get=function(k){0 > k && (k+=this.length);for(var m=0;m < this.Ad.length;++m){if(this.Si[m + 1] > k)return this.Ad[m].get(k - this.Si[m]);}};g.prototype.push=function(k){this.Ad[this.rM(k)].push(k);this.Uz();return this.Of;};g.prototype.shift=function(){var k;if(this.uh){k=this.uh.shift();this.Uz();return k;}};g.prototype.pop=function(){var k;if(this.nM){k=this.nM.pop();this.Uz();return k;}};g.prototype.unshift=function(k){this.Ad[this.rM(k)].unshift(k);this.Uz();return this.Of;};g.prototype.No=function(k){var m;m=this.rM(k);this.Ad[m].No(k);this.Uz();};g.prototype.remove=function(k){var m;m=this.Ad.some(function(f){return f.remove(k);});m && this.Uz();return m;};g.prototype.splice=function(k,m){var q,t,v,w;for(var f,d=[],l=2;l < arguments.length;l++){d[l - 2]=arguments[l];}l=[];for(var n,h=k + Math.max(0,m),p=0;p < this.Ad.length;++p){q=this.Ad[p];t=this.Si[p];v=this.Si[p + 1];if(k < v){w=k - t;t=Math.min(h - t,q.length);void 0 === n && 0 < w && t < q.length?Array.prototype.push.apply(l,q.splice.apply(q,c.__spreadArray([w,t - w],c.__read(d),!1))):(Array.prototype.push.apply(l,q.splice(w,t - w)),void 0 === n && (n=0 < p && 0 === w?p - 1:p));k=v;if(k >= h)break;}}if(d.length && void 0 !== n){for(h=this.rM(d[0]);0 < n && h < n && this.Ad[n].empty;){--n;}for(;d.length && h === n;){this.Ad[n].push(d.shift());if(!d.length)break;h=this.rM(d[0]);}for(;d.length && ++n < this.Ad.length && this.Ad[n].empty;){for(;d.length && h === n;){this.Ad[n].push(d.shift());if(!d.length)break;h=this.rM(d[0]);}}d.length && (f=this.Ad[n]).splice.apply(f,c.__spreadArray([0,0],c.__read(d),!1));}this.Uz();return l;};g.prototype.find=function(k){var m,f;m=this;return this.Ad.some(function(d,l){f=d.find(m.HD(k,l));return void 0 !== f;})?f:void 0;};g.prototype.findIndex=function(k){var f;for(var m=0;m < this.Ad.length;++m){f=this.Ad[m].findIndex(this.HD(k,m));if(-1 !== f)return f + this.Si[m];}return -1;};g.prototype.indexOf=function(k){var f;for(var m=0;m < this.Ad.length;++m){f=this.Ad[m].indexOf(k);if(-1 !== f)return f + this.Si[m];}return -1;};g.prototype.map=function(k){var m,f;m=this;f=this.Ad.map(function(d,l){return d.map(m.HD(k,l));});return Array.prototype.concat.apply([],f);};g.prototype.reduce=function(k,m){var f;f=this;return this.Ad.reduce(function(d,l,n){return l.reduce(f.rBb(k,n),d);},m);};g.prototype.forEach=function(k){var m;m=this;this.Ad.forEach(function(f,d){f.forEach(m.HD(k,d));});};g.prototype.d9=function(k){for(var m=this.Ad.length - 1;0 <= m;--m){this.Ad[m].d9(this.HD(k,m));}};g.prototype.some=function(k){var m;m=this;return this.Ad.some(function(f,d){return f.some(m.HD(k,d));});};g.prototype.qCa=function(k){for(var m=this.Ad.length - 1;0 <= m;--m){if(this.Ad[m].qCa(this.HD(k,m)))return !0;}return !1;};g.prototype.every=function(k){var m;m=this;return this.Ad.every(function(f,d){return f.every(m.HD(k,d));});};g.prototype.mQb=function(k,m){var h,p;function f(q){return q.reduce(function(t,v,w,u){return void 0 === v?t:void 0 === t?w:0 > k(v,u[t])?w:t;},void 0);}for(var d=this,l=this.Ad.map(function(){return 0;}),n=this.Ad.filter(function(q){return q.empty;}).length;n < this.Ad.length;){h=l.map(function(q,t){return q < d.Ad[t].length?d.Ad[t].get(q):void 0;});p=f(h);m(h[p],this.Si[p] + l[p],this);++l[p];l[p] === this.Ad[p].length && ++n;}};g.prototype.move=function(k){return this.remove(k)?(this.No(k),!0):!1;};g.prototype.Mac=function(){var k;if(this.Ad[1].length){k=this.Ad[1].shift();this.Ad[0].push(k);this.Uz();}};g.prototype.J3a=function(k){for(var m=-1,f=0;f < this.Ad.length;++f){if((m=k(this.Ad[f]),-1 !== m)){m+=this.Si[f];break;}}return m;};g.prototype.toJSON=function(){return this.map(function(k){return k.toJSON();});};g.prototype.Uz=function(){var m;this.Of=0;this.Si=[0];this.nM=this.uh=void 0;for(var k=0;k < this.Ad.length;++k){m=this.Ad[k];this.Of+=m.length;this.Si.push(this.Si[this.Si.length - 1] + m.length);!this.uh && m.length && (this.uh=m);m.length && (this.nM=m);}};g.prototype.HD=function(k,m){var f,d;f=this;d=this.Si[m];return function(l,n){return k(l,d + n,f);};};g.prototype.rBb=function(k,m){var f,d;f=this;d=this.Si[m];return function(l,n,h){return k(l,n,d + h,f);};};return g;})();b.SGa=r;},function(r,b,a){var c,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.F1=void 0;c=a(0);g=a(2);r=a(35);k=a(262);a=a(77);m=(function(){function f(d,l){this.Wa=[];this.ah=void 0;this.pd=0;this.H=d;l && l.length && (Array.isArray(l)?(this.Wa=l.slice(),this.TT(0,this.Wa.length)):l instanceof f && (this.Wa=l.Wa.slice(),this.TT(0,this.Wa.length)));}Object.defineProperties(f.prototype,{length:{get:function(){return this.Wa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.Wa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{first:{get:function(){return this.Wa[0];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{An:{get:function(){return this.Wa[this.Wa.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Za:{get:function(){return this.first && this.first.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{lb:{get:function(){return this.An && this.An.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ms:{get:function(){return this.ah;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ea:{get:function(){return this.pd;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{W:{get:function(){return this.first && this.first.W;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Kj:{get:function(){return this.first && this.first.Kj;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ha:{get:function(){return this.Wa;},enumerable:!1,configurable:!0}});f.prototype.Iec=function(d){this.pd+=d;};f.prototype.fEb=function(){var d;if(0 === this.Wa.length)((0,g.assert)(void 0 === this.ah),(0,g.assert)(0 === this.pd));else {(0,g.assert)(this.ah instanceof k.KC);(0,g.assert)("number" === typeof this.pd);(0,g.assert)(void 0 !== this.Ms && this.Ms.Za === this.Za);d=this.Wa.reduce(function(l,n,h){return 0 === h || n.Za === l?n.lb:l;},0);(0,g.assert)(this.Ms.lb === d);(0,g.assert)(this.Wa.reduce(function(l,n,h){return 0 === h || n.Za === l?n.lb:l;},0) === this.Ms.lb);(0,g.assert)(this.Wa.reduce(function(l,n){return l + n.ea;},0) === this.pd);}};f.prototype.get=function(d){0 > d && (d+=this.Wa.length);return this.Wa[d];};f.prototype.push=function(d){this.Wa.push(d);this.TT(this.Wa.length - 1);return this.length;};f.prototype.unshift=function(d){this.Wa.unshift(d);this.TT(0,1);return this.length;};f.prototype.pop=function(){if(0 !== this.Wa.length)return (this.jma(this.Wa.length - 1),this.Wa.pop());};f.prototype.shift=function(){if(0 !== this.Wa.length)return (this.jma(0),this.Wa.shift());};f.prototype.splice=function(d,l){for(var n,h=[],p=2;p < arguments.length;p++){h[p - 2]=arguments[p];}0 > d && (d+=this.Wa.length);0 > d && (d=0);d > this.Wa.length && (d=this.Wa.length);if(void 0 === l || 0 > l)l=0;l=Math.min(l,this.Wa.length - d);0 < l && this.jma(d,d + l);p=(n=this.Wa).splice.apply(n,c.__spreadArray([d,l],c.__read(h),!1));0 < h.length && this.TT(d,d + arguments.length - 2);return p;};f.prototype.slice=function(d,l){void 0 === d && (d=0);void 0 === l && (l=this.Wa.length);0 > d && (d+=this.Wa.length);if(d >= this.Wa.length)return new f(this.H);l > this.Wa.length && (l=this.Wa.length);0 > l && (l+=this.Wa.length);return new f(this.H,this.Wa.slice(d,l));};f.prototype.No=function(d){if(0 === this.Wa.length || d.Za >= this.lb)this.push(d);else if(d.lb <= this.Za)this.unshift(d);else {for(var l=0,n=this.Wa.length - 1,h;l < n - 1;){h=Math.floor((n + l) / 2);(0,g.assert)(h !== n && h !== l);d.Za >= this.Wa[h].lb?l=h:n=h;}(0,g.assert)(l !== n);(0,g.assert)(this.Wa[l].lb <= d.Za && this.Wa[n].Za >= d.lb);this.splice(n,0,d);}};f.prototype.remove=function(d){d=this.Wa.indexOf(d);if(0 > d)return !1;this.splice(d,1);return !0;};f.prototype.concat=function(){for(var d=[],l=0;l < arguments.length;l++){d[l]=arguments[l];}d=d.map(function(n){return n.Wa;});return new f(this.H,Array.prototype.concat.apply(this.Wa,d));};f.prototype.forEach=function(d){var l;l=this;this.Wa.forEach(function(n,h){return d(n,h,l);});};f.prototype.some=function(d){var l;l=this;return this.Wa.some(function(n,h){return d(n,h,l);});};f.prototype.every=function(d){var l;l=this;return this.Wa.every(function(n,h){return d(n,h,l);});};f.prototype.map=function(d){var l;l=this;return this.Wa.map(function(n,h){return d(n,h,l);});};f.prototype.reduce=function(d,l){var n;n=this;return this.Wa.reduce(function(h,p,q){return d(h,p,q,n);},l);};f.prototype.indexOf=function(d){return this.Wa.indexOf(d);};f.prototype.find=function(d){var l,n;l=this;return this.Wa.some(function(h,p){n=p;return d(h,p,l);})?this.Wa[n]:void 0;};f.prototype.findIndex=function(d){var l,n;l=this;return this.Wa.some(function(h,p){n=p;return d(h,p,l);})?n:-1;};f.prototype.filter=function(d){var l;l=this;return new f(this.H,this.Wa.filter(function(n,h){return d(n,h,l);}));};f.prototype.d9=function(d){for(var l=this.Wa.length - 1;0 <= l;--l){d(this.Wa[l],l,this);}};f.prototype.qCa=function(d){for(var l=this.Wa.length - 1;0 <= l;--l){if(d(this.Wa[l],l,this))return !0;}return !1;};f.prototype.Cra=function(d){if(this.empty || d < this.Nd || d >= this.Pc)return -1;for(var l=0,n=this.Wa.length - 1,h;n > l;){h=Math.floor((n + l) / 2);if(d >= this.Wa[h].Nd && d < this.Wa[h].Pc){n=h;break;}d < this.Wa[h].Pc?n=h - 1:l=h + 1;}return n;};f.prototype.LO=function(d){if(this.empty || d < this.zd || d >= this.Lf)return -1;for(var l=0,n=this.Wa.length - 1,h;n > l;){h=Math.floor((n + l) / 2);if(d >= this.Wa[h].zd && d < this.Wa[h].Lf){n=h;break;}d < this.Wa[h].Lf?n=h - 1:l=h + 1;}return n;};f.prototype.I3a=function(d){d=this.LO(d);return 0 <= d?this.Wa[d]:void 0;};f.prototype.o6=function(d){var l;l=this.Wa[d].lb;for(d+=1;d < this.Wa.length && l === this.Wa[d].Za;++d){l=this.Wa[d].lb;}d < this.Wa.length?void 0 === this.ah?this.ah=new k.KC(this,{lb:l}):this.ah.X_(l):void 0 === this.ah?this.ah=new k.KC(this,{}):this.ah.cpa();};f.prototype.hM=function(d,l){for(var n=d;n < l;++n){this.pd+=this.Wa[n].ea;}void 0 === this.ah || 0 === d?this.o6(0):this.ah.lb === this.lb?this.o6(d - 1):this.Wa[d].Za === this.ah.lb && this.o6(d);};f.prototype.$z=function(d,l){var n;if(0 === d)(this.ah=void 0,l < this.length && this.o6(l));else {n=this.ah;n.lb > this.Wa[d - 1].lb && (l < this.length?n.X_(this.Wa[d - 1].lb):n.cpa());}for(;d < l;++d){this.pd-=this.Wa[d].ea;}};f.prototype.TT=function(d,l){void 0 === l && (l=d + 1);this.hM(d,l);};f.prototype.jma=function(d,l){void 0 === l && (l=d + 1);this.$z(d,l);};return f;})();b.F1=m;(0,r.Ue)(a.gu,m);(0,r.Ue)(a.cz,m);},function(r,b,a){var c,g,k,m,f,d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.nFa=void 0;c=a(0);c.__importDefault(a(4));g=a(6);k=a(8);m=a(191);f=a(71);d=a(105);l=a(189);r=(function(n){function h(p,q,t,v,w,u,x,y){q=n.call(this,p,v,w,q,u) || this;q.lH=f.wk.prototype.toString.call(q) + " live";q.$Ua=("AseLiveTextAndVideoMediaRequest(").concat(q.Nd,"-").concat(q.Pc,")");q.jx("video",t,1,p);q.jx("text",y.track,0,x.Rc[0]);return q;}c.__extends(h,n);h.prototype.jx=function(p,q,t,v){p=new l.oL(v,q,this.lH + " (" + p + ")",{K:this.K,mediaType:this.mediaType,Pa:this.Pa,bitrate:this.bitrate,offset:0,ea:0,location:this.location,tc:this.tc,responseType:t,cq:this.cq},this,this.Be,this.H);this.push(p);};h.prototype.Zk=function(p){m.tw.prototype.Zk.call(this,p);};h.prototype.KJ=function(p,q,t){m.tw.prototype.KJ.call(this,p,q,t);};h.prototype.ND=function(p,q){var t;if(this.me)return {status:d.Mh.hs};if(!this.zr())return {status:d.Mh.Nf};t=this.La[0];this.me=q.appendBuffer(t.response,(0,k.Bv)(t));this.uka(p);return {status:this.me?d.Mh.hs:d.Mh.Nf};};h.prototype.uka=function(p){var t,v;function q(){return p.sourceBuffers.some(function(w){if(w.mediaType === g.u.Hb)return (w.VBa(t.zd,1E3),w.appendBuffer(t.La[1].response),!0);});}t=this;v=q();v || (p.addSourceBuffer(g.u.Hb),v=q());};return h;})(m.tw);b.nFa=r;},function(r,b,a){var c,g,k,m,f,d,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.qFa=void 0;c=a(0);c.__importDefault(a(4));g=a(6);k=a(8);m=a(2);f=a(191);d=a(71);l=a(189);n=a(105);r=(function(h){function p(q,t,v,w,u,x,y,z){t=h.call(this,q,w,u,t,x) || this;t.mUa=v;t.vmc=w.offset;t.lH=d.wk.prototype.toString.call(t) + " multiple";t.$Ua=("AseMultiFragmentMediaRequest(").concat(t.Nd,"-").concat(t.Pc,")");t.cq=w.cq;t.Mla=0;t.J5=1024;t.jx(t.lH,w.offset,1024,0,t.mUa,t.ed);y && z && q.mediaType === g.u.J && (t.SWa=y.Rc[0],t.RWa=z.track,t.jx("TEXT",0,8,0,t.RWa,t.SWa));return t;}c.__extends(p,h);Object.defineProperties(p.prototype,{data:{get:function(){return this.Mq;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ea:{get:function(){return this.J5;},enumerable:!1,configurable:!0}});p.prototype.RB=function(q){var t;if(0 === q.offset){t=q.getResponseHeader("content-length",!1);(0,m.assert)(t);t=parseInt(t);q.mediaType === g.u.Hb?this.QWa=t:this.Mla=t;}f.tw.prototype.RB.call(this,q);};p.prototype.Zk=function(q){var t;if(0 === q.responseType){if(q.mediaType === g.u.Hb)this.Bxb(q);else {this.Mq=q.response;t=this.Mla - (q.offset + q.ea);0 < t && (this.jx(this.lH,q.offset + q.ea,t,1,this.mUa,this.ed),this.LWa=this.La.length - 1,t=this.J5,this.J5=this.Mla,f.tw.prototype.KJ.call(this,this,this.J5,t));}q.UQ();}f.tw.prototype.Zk.call(this,q);};p.prototype.ND=function(q,t){var v;if(this.me)return {status:n.Mh.hs};if(!this.zr())return {status:n.Mh.Nf};if(!t.appendBuffer(this.Mq,(0,k.Bv)(this)))return (this.H.error(this.$Ua,"appendTo failed to append array"),{status:n.Mh.Nf});(0,m.assert)(this.LWa);v=this.La[this.LWa];this.me=t.appendBuffer(v.response,(0,k.Bv)(v));this.f6 && this.uka(q);return {status:this.me?n.Mh.hs:n.Mh.Nf};};p.prototype.jx=function(q,t,v,w,u,x){q=new l.oL(x,u,q + " (" + this.La.length + ")",{K:this.K,mediaType:x.mediaType,Pa:x.id,bitrate:this.bitrate,offset:t,ea:v,location:this.location,tc:this.tc,responseType:w,cq:this.cq},this,this.Be,this.H);this.push(q);};p.prototype.Bxb=function(q){var t;t=q.response;this.f6=this.f6?(0,k.FA)(this.f6,t):t;(0,m.assert)(this.QWa);t=this.QWa - (q.offset + q.ea);0 < t && this.jx(this.lH,q.offset + q.ea,t,0,this.RWa,this.SWa);};p.prototype.uka=function(q){var v,w;function t(){return q.sourceBuffers.some(function(u){if(u.mediaType === g.u.Hb)return (u.VBa(v.zd,1E3),u.appendBuffer(v.f6),!0);});}v=this;w=t();w || (q.addSourceBuffer(g.u.Hb),w=t());};return p;})(f.tw);b.qFa=r;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.TRa=void 0;c=a(437);g=a(6);k=a(20);r=(function(){function m(f,d){this.Jh=f;this.console=d;this.pH=Infinity;this.bU=this.K5=0;this.YWa=!1;}m.prototype.S8b=function(){this.YWa=!0;};m.prototype.KPb=function(f,d,l,n,h){var p;if(this.Jh){p=f.ha;if(p){if(l === g.u.J)(l=p.Eo(Math.ceil(this.Jh * f.ba.XJ),void 0,!0),p=f.Fl(l),f=p.Wu.bk(f.ba),p.kj({start:0,end:this.Jh - l * f}),this.pH=this.Jh);else {void 0 !== n.Rib?(d=n.Rib,l=d * f.ba.Z):(l=(0,c.hta)(n,h) + Math.ceil(n.ZDb * f.ba.XJ),k.M.Ja(l).bk(f.ba),l=d + l,d=Math.ceil(l / f.ba.XJ));l=p.Eo(l,void 0,!0);for(h=n=0;h < l;++h){p=f.Fl(h);n+=p.Wu.bk(f.ba);}n=d - n;p=f.Fl(l);p.kj({end:n});this.pH=d;}p.sab();return p;}}};m.prototype.RWb=function(f){this.bU+=f.ugb;this.console.warn(("StallAtFrameCount, adding frames: ").concat(f.ugb),("total frames: ").concat(this.bU),("needed frames: ").concat(this.pH));};m.prototype.zVb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:",("requested: ").concat(this.K5),("needed: ").concat(this.pH));return this.K5 >= this.pH;};m.prototype.yVb=function(){return this.bU >= this.pH;};m.prototype.TWb=function(f,d){this.K5+=this.aB(f,d);};m.prototype.sOb=function(f,d,l){f.ugb=this.aB(d,l);};m.prototype.aB=function(f,d){return f.Wu.bk(d.ba);};m.prototype.zA=function(){if(!this.yVb())return !1;if(this.YWa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",("").concat(this.bU," >= ").concat(this.pH));return !0;};return m;})();b.TRa=r;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t;Object.defineProperties(b,{__esModule:{value:!0}});b.Tja=void 0;r=a(0);c=r.__importStar(a(11));g=r.__importDefault(a(28));k=r.__importDefault(a(4));m=a(22);f=a(6);d=a(265);l=a(1022);n=new k.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");h=[f.Ia[f.Ia.Qh],f.Ia[f.Ia.Qd],f.Ia[f.Ia.Kg],f.Ia[f.Ia.Wc],f.Ia[f.Ia.Oi],"checkBuffering"];p=a(1024);q={first:function(){return a(1025);},random:function(){return a(1026);},optimized:function(){return a(194).default;},roundrobin:function(){return a(1030);},selectaudio:function(){return a(444);},selectaudioadaptive:function(){return a(1031);},"default":function(){return a(194).default;},lowest:function(){return a(1032);},highest:function(){return a(1033);},throughputthreshold:function(){return a(1034);},replay:function(){return a(1035).default;},checkdefault:function(){return a(1037);},livesimple:function(){return a(1038).default;},testscript:function(){return p;}};t={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};r=(function(){var X60;X60=2;function v(w,u,x,y){var Y60,z;Y60=2;for(;Y60 !== 6;){switch(Y60){case 2:z=this;this.R_=w;this.L=u;this.we=x;Y60=3;break;case 3:var Q0T="1S";Q0T+="IY";Q0T+="bZrNJCp";Q0T+="9";Q0T;w=w || this.L.FCa;this.Sh=h.reduce(function(A,B){var Z60,C;Z60=2;for(;Z60 !== 4;){switch(Z60){case 2:C=(q[w] || q[t[B]])()[B] || q[t[B]]()[B];A[B]=C.bind(z);return A;break;}}},{});y && (this.sdb=new l.jOa(u));Y60=6;break;}}}for(;X60 !== 6;){switch(X60){case 2:v.prototype.uBa=function(w,u,x,y,z,A,B){var a70,b70,T,C,D,E,G,F,I,L,M,R,K,V,O,H,J,P;a70=2;for(;a70 !== 67;){switch(a70){case 18:c.ta(L) && (L=this.we.k$a);void 0 !== y && this.vza(u,! !w.pt,w.state,w.buffer,y);w.state === f.Ia.Qh && c.Oa(L) && (w.state=f.Ia.Qd);w.state !== f.Ia.Qh && void 0 === L && (w.state=f.Ia.Qh);a70=27;break;case 44:a000.j4T(0);var P31=a000.K4T(20,19);y=P.Ie - P31;a70=43;break;case 22:a70=P.Ih && (P.PA=[],u.forEach(function(S,W){var f70;f70=2;for(;f70 !== 5;){switch(f70){case 2:S === P.Ih?P.Ie=W:(I.BNb && (!S.ha || !S.ha.length) || S.GCa) && P.PA.push(S.Pa);S.GCa=!1;f70=5;break;}}}),!P.PA.length)?21:39;break;case 14:a70=0 < H?13:18;break;case 38:return null;break;case 25:this.we.Phb(g.default.S2.Qh);a70=24;break;case 11:a70=!(0 <= L)?10:18;break;case 27:b70=w.state;a70=b70 === f.Ia.Qh?26:74;break;case 49:a70=w.tO?48:75;break;case 30:M=u[y];a70=29;break;case 48:T=x.Jb;A=I.sWa;a70=46;break;case 76:P.SF=k.default.time.ia();a70=75;break;case 19:L=0 < L?L - 1:0 === L?0:u.length - 1;a70=18;break;case 26:this.Hla=this.Cla=void 0;a70=25;break;case 43:a70=0 <= y?42:40;break;case 7:this.we.Z_(L);a70=6;break;case 42:M=u[y];a70=41;break;case 4:a70=c.ta(L) && w.state === f.Ia.Wc && (M=!0,void 0 !== this.we.sm)?3:6;break;case 28:a70=!x?44:40;break;case 2:(G=null === w || void 0 === w?void 0:w.buffer,F=k.default.time.ia(),I=this.L,L=this.we.k$a,M=!1);c.Oa(L) && w.state === f.Ia.Qh && (this.we.Z_(void 0),L=void 0);c.Oa(L) && L >= u.length && (this.we.Z_(void 0),L=void 0);a70=4;break;case 70:a70=b70 === f.Ia.Oi?24:69;break;case 74:a70=b70 === f.Ia.Qd?73:72;break;case 32:y=P.Ie + 1;a70=31;break;case 41:M.ha && M.ha.length || (x=!0,P.PA.push(M.Pa));a70=40;break;case 10:R=O[H - 1].bitrate;L=(0,m.Kp)(u,function(S){var e70;e70=2;for(;e70 !== 1;){switch(e70){case 2:return S.bitrate > R;break;}}});a70=19;break;case 31:a70=y < u.length?30:28;break;case 3:K=this.we.sm.bitrate;L=(0,m.Kp)(u,function(S){var c70;c70=2;for(;c70 !== 1;){switch(c70){case 2:return S.bitrate > K;break;case 4:return S.bitrate >= K;break;c70=1;break;}}});L=0 < L?L - 1:0 === L?0:u.length - 1;a70=7;break;case 75:return P;break;case 71:a70=b70 === f.Ia.Wc?24:70;break;case 72:a70=b70 === f.Ia.Kg?73:71;break;case 45:V=[];A.forEach(function(S){var g70,W;g70=2;for(;g70 !== 4;){switch(g70){case 2:W=S.stat;W=(S=T[S.filter]) && S[W];V.push(isNaN(W)?-1:W);g70=4;break;}}});a70=64;break;case 6:(O=G.ha,H=O.length);a70=14;break;case 29:M.ha && M.ha.length || (x=!0,P.PA.push(M.Pa));a70=28;break;case 68:var C0T="Stream selector call";C0T+="ed w";C0T+="ith invalid player state ";return (n.error(C0T + f.Ia[w.state]),null);break;case 46:a70=T && A && 0 < A.length?45:63;break;case 64:P.X5b=V;a70=63;break;case 63:P.Ic=G.Ic;A=w && w.te;a70=61;break;case 77:P.Yt=F;a70=76;break;case 21:y=G.$j - G.Qc;M=void 0;x=!1;a70=33;break;case 69:a70=68;break;case 33:a70=I.Jib && y > I.eZ?32:40;break;case 40:x || (P.PA=void 0);a70=39;break;case 13:J=O[H - 1].Pa;L=(0,m.Kp)(u,function(S){var d70;d70=2;for(;d70 !== 1;){switch(d70){case 2:return S.Pa === J;break;}}});a70=11;break;case 73:this.we.Phb(g.default.S2.Qh);a70=24;break;case 24:P=this.Sh[f.Ia[w.state]].call(this,I,w,u,L,y,! !z,M,x);P.df=w.state;a70=22;break;case 53:var a0T="p";a0T+="la";a0T+="y";a0T+="ing";var h0T="min_fragm";h0T+="ent_vma";h0T+="f";P.reason && (x.Pt=P.reason,h0T !== P.reason && (x.tBa=P.uv,x.oB=P.oB,x.Yp=P.Yp,x.Zp=P.Zp));this.sdb && (P.oy=this.sdb.ATb({VD:G.$j - G.Qc,WEb:G.Hg || 0,VEb:G.Ls || 0,Qc:G.Qc,x_b:u[0],Ih:x,rfc:u[P.Ie + 1] || x,Jdc:u[u.length - 1],df:w.state,playbackRate:w.playbackRate,te:w.te,l9:B,Hj:z}));c.Oa(L) && x.bitrate < u[L].bitrate && (this.Cla=G.Ic);w.state !== f.Ia.Wc && w.state !== f.Ia.Oi?(u=(0,d.Hca)(w.state),A=this.zA(w.buffer,u,w.playbackRate,x,A),(P.wg=A.complete)?P.l7=A.reason:(P.wg=!1,P.kK=A.kK,P.eF=A.eF,P.progress=A.progress)):(P.wg=!0,P.l7=a0T);a70=49;break;case 61:u=x.ha;P.Pk=u && void 0 !== A && !isNaN(A) && 0 <= A && A < u.length?u.kl(A):G.Ic;P.H2b=T && T.Va && T.Va.va || 0;P.moa=G.$j - G.Qc;P.uZa=G.Hg;P.A5b=null !== (E=null === (D=null === (C=k.default.Poc) || void 0 === C?void 0:C.call(k.default)) || void 0 === D?void 0:D[w.mediaType === f.u.J?1:0]) && void 0 !== E?E:-1;P.sj=w && w.sj;a70=77;break;case 39:a70=!P || null === P.Ie?38:37;break;case 37:void 0 === P.f1b?this.we.Z_(P.Ie):this.we.Z_(P.f1b);x=u[P.Ie];P.a_=x.Va || 0;a70=53;break;}}};v.prototype.zA=function(w,u,x,y,z){var h70;h70=2;for(;h70 !== 1;){switch(h70){case 2:return this.Sh.checkBuffering.call(this,w,u,x,y,z,this.L);break;}}};v.prototype.ecc=function(w,u,x){var i70;i70=2;for(;i70 !== 1;){switch(i70){case 2:c.ta(u)?this.Cla=this.Hla=void 0:u.bitrate < x.bitrate && (this.Hla=w);i70=1;break;}}};v.prototype.vza=function(w,u,x,y,z){var j70,A,B;j70=2;for(;j70 !== 5;){switch(j70){case 2:this.d9(w,function(C){var k70;k70=2;for(;k70 !== 1;){switch(k70){case 2:C.zv && C.Jb && C.Jb.confidence?(A !== C.Jb && (A=C.Jb,u && C.Jb && (C.Jb.pt=!0),B=z(C.Jb,y,x,C.track.S.vt[f.u.V])),C.Va=Math.floor(B.lower) || 1,C.odc=Math.floor(B.upper || 1) || 1):C.Va=void 0;k70=1;break;}}});j70=5;break;}}};v.prototype.d9=function(w,u){var l70,x;l70=2;for(;l70 !== 3;){switch(l70){case 8:x=w.length + 0;l70=8;break;l70=1;break;case 7:l70=6 >= x?8:6;break;l70=0 <= x?5:3;break;case 2:a000.G4T(11);var R31=a000.i4T(13,3,10);x=w.length - R31;l70=1;break;case 1:l70=0 <= x?5:3;break;case 5:u(w[x],x,w);l70=4;break;case 4:--x;l70=1;break;}}};Object.defineProperties(v.prototype,{zaa:{get:function(){var m70;m70=2;for(;m70 !== 1;){switch(m70){case 2:return this.Cla;break;case 4:return this.Cla;break;m70=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{gwa:{get:function(){var n70;n70=2;for(;n70 !== 1;){switch(n70){case 2:return this.Hla;break;case 4:return this.Hla;break;n70=1;break;}}},enumerable:!1,configurable:!0}});X60=7;break;case 7:return v;break;}}})();b.Tja=r;},function(r,b,a){var t,v,w;function c(u){return l(u.Ih);}function g(u,x){var y,z;y=u.Vcc;y=p(x) + y * q(x);x=x.Va || 0;z=0;0 < x && (z=y / x - 1);return u.j1b + u.Ucc * Math.max(0,z);}function k(u,x){var y,z,A,B;if(!x || "object" !== typeof x)return 0;y=u.Ih;z=u.rfc;A=u.Jdc;B={selectedFragmentBitrate:d(u.l9,y,u.te) * u.playbackRate,selectedPeakBitrate:(y.hy || n(y) || 0) * u.playbackRate,upswitchPeakBitrate:(z.hy || n(z) || 0) * u.playbackRate,maxPeakBitrate:(A.hy || n(A) || 0) * u.playbackRate,selectedAverageBitrate:n(y) * u.playbackRate,upswitchAverageBitrate:n(z) * u.playbackRate,maxAverageBitrate:l(y) * u.playbackRate,bufferLevelMs:u.VD,observedThroughput:h(u.Ih) || 0,averagetp:p(u.Ih) || 0,stddevtp:q(u.Ih) || 0};u=x.offset || 0;return Object.keys(B).reduce(function(C,D){return C + (x[D] || 0) * B[D];},u);}function m(u,x,y){var A;function z(B,C){return void 0 !== B && 0 < B.filter(function(D){return D === C;}).length;}A=u.filter(function(B){return z(B.Ica,x);});0 === A.length && (A=u.filter(function(B){return !B.Ica || 0 === B.Ica.length;}));u=A.filter(function(B){return z(B.Vbb,y);});0 === u.length && (u=A.filter(function(B){return !B.Vbb || 0 === B.Vbb.length;}));return u.sort(function(B,C){return B.m7 - C.m7;});}function f(u,x){var y,B,C;y=m(x.l8b,u.df,u.Ih.Jb.confidence);if(0 === y.length)return 0;a:switch(x.q4b){case "implicit":x=g(x,u.Ih);x=u.VD / x;break a;case "capacityPercentage":x=Math.max(u.WEb / u.VEb || 0,u.VD / x.Dv);break a;default:x=0;}for(var z=-1,A=0;A < y.length;A++){if(y[A].m7 >= x){z=A;break;}}if(-1 === z)return k(u,y[y.length - 1].npa);if(0 === z)return k(u,y[0].npa);B=y[z - 1].m7;A=k(u,y[z - 1].npa);C=y[z].m7;u=k(u,y[z].npa);y=Math.min((x - B) / (C - B),1);return (1 - y) * A + y * u;}function d(u,x,y){var z;return void 0 !== y && x.ha?(void 0 === u?null === (z=x.ha) || void 0 === z?void 0:z.get(y).Yna:u.D5a(x,y).Yna) || x.hy || 0:x.hy || 0;}function l(u){var x,y;y=null === (x=null === u || void 0 === u?void 0:u.S) || void 0 === x?void 0:x.vt;return y?y[u.mediaType] || 0:0;}function n(u){return (null === u || void 0 === u?void 0:u.bitrate) || 0;}function h(u){var x;u=u.Jb;return (null === (x=null === u || void 0 === u?void 0:u.Va) || void 0 === x?void 0:x.va) || 0;}function p(u){var x;u=u.Jb;return (null === (x=null === u || void 0 === u?void 0:u.xo) || void 0 === x?void 0:x.CN) || 0;}function q(u){var x;u=u.Jb;return Math.sqrt(null === (x=null === u || void 0 === u?void 0:u.xo) || void 0 === x?void 0:x.cS) || 0;}Object.defineProperties(b,{__esModule:{value:!0}});b.uTb=b.PRb=b.GSb=b.jOa=void 0;r=a(0).__importDefault(a(4));t=a(6);v=a(1023);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");w={maxStreamBitrate:c,"static":function(u,x){return x.djb;},none:function(){return 0;},regression:f,epsGreedy:function(u,x){return Math.min(f(u,x) || 0,h(u.Ih));},"default":c};a=(function(){var o70;o70=2;for(;o70 !== 3;){switch(o70){case 4:return u;break;case 2:u.prototype.zTb=function(x){var q70,y,z;q70=2;for(;q70 !== 9;){switch(q70){case 4:var W0T="sta";W0T+="t";W0T+="ic";y=W0T === this.L.o4b?this.L.djb:l(x.Ih);q70=3;break;case 2:z=null === (y=x.Ih) || void 0 === y?void 0:y.mediaType;q70=1;break;case 1:y=0;q70=5;break;case 5:q70=z === t.u.V && this.L.w8 && this.L.FNb || z === t.u.J && this.L.x8 && this.L.GNb?4:3;break;case 12:return y;break;q70=9;break;case 3:return y;break;}}};u.prototype.Fsa=function(x,y,z){var r70,A;r70=2;for(;r70 !== 8;){switch(r70){case 5:return 0;break;case 1:r70=!z?5:4;break;case 2:r70=1;break;case 4:a000.G4T(7);y=Math.ceil(a000.K4T(y,z));x=(this.L.w_a.Ipc || 0) * ((null === (A=x.x_b) || void 0 === A?void 0:A.hy) || 0);return y < x?0:y;break;}}};u.prototype.ATb=function(x){var s70,y,z,A;s70=2;for(;s70 !== 6;){switch(s70){case 5:return y;break;case 1:s70=!z?5:4;break;case 2:(y=new v.Mia({oC:0,GA:0,cC:0}),z=this.L.w_a);s70=1;break;case 4:A=this.L.xec;s70=3;break;case 3:s70=A && x.te && 0 === x.te % A || x.VD < z.jF?9:8;break;case 9:return y;break;case 8:y=x.Hj?this.algorithm(x,this.L):this.zTb(x);return new v.Mia({oC:this.Fsa(x,y,z.kfb[0]),cC:this.Fsa(x,y,z.kfb[2]),GA:this.Fsa(x,y,z.kfb[1])});break;}}};o70=4;break;}}function u(x){var p70;p70=2;for(;p70 !== 4;){switch(p70){case 2:var d0T="d";d0T+="ef";d0T+="aul";d0T+="t";var M0T="1S";M0T+="IY";M0T+="bZrNJCp";M0T+="9";this.L=x;M0T;this.algorithm=(w[this.L.n4b] || w[d0T]).bind(this);p70=4;break;}}}})();b.jOa=a;b.GSb=g;b.PRb=m;b.uTb=h;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Mia=void 0;c=a(0);r=(function(){function g(k){this.oC=k.oC;this.GA=k.GA;this.cC=k.cC;}Object.defineProperties(g.prototype,{lfb:{get:function(){return [this.oC,this.GA,this.cC];},enumerable:!1,configurable:!0}});g.prototype.xbb=function(){return Math.min(this.oC,this.GA,this.cC);};g.prototype.iaa=function(){return this.lfb.some(function(k){return 0 < k;});};g.prototype.dBa=function(k){return new g({oC:k * this.oC,GA:k * this.GA,cC:k * this.cC});};g.prototype.Zwa=function(k,m,f,d){var l;l=8 * k / Math.max(f - m,1);if(!this.iaa())return !1;k=this.lfb.map(function(n){return Math.abs(l - n) / n;});return Math.min.apply(Math,c.__spreadArray([],c.__read(k),!1)) < d;};return g;})();b.Mia=r;},function(r,b,a){var g,k,m,f,d,l;function c(n,h,p){d=p;l=p.map(function(q,t){return t;});if(null === f)return (n=k(p),f=p[n].bitrate,new m(n));if(!p.length)return null;n=l.filter(function(q){return p[q].bitrate == f;})[0];return void 0 === n?(g.log("Defaulting to first stream due to unvalid bitrate requested: " + f),new m(l[0])):new m(n);}b=a(32);a=a(4).default;g=b.console;k=b.Mra;m=b.rp;f=null;d=null;l=null;a.eGb && (a.eGb.Oj={oa:function(){l=d=f=null;},uBa:function(n){f=n;},Soc:function(){return {all:d,Hlb:l};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var g,k,m,f;function c(d,l,n,h){if(g.ta(h))d=k(n);else if(m(n[h]))d=h;else if((d=k(n,h),0 > d))return null;return new f(d);}g=a(11);b=a(32);k=b.Mra;m=b.iJ;f=b.rp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var g;function c(k,m,f){k=f.map(function(d,l){return d.zv?l:null;}).filter(function(d){return null !== d;});return k.length?new g(k[Math.floor(Math.random() * k.length)]):null;}g=a(32).rp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,g,k,m,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Tda=void 0;r=a(0);c=r.__importStar(a(11));g=a(22);r=r.__importDefault(a(32));k=a(443);m=r.default.assert;f=r.default.rp;b.Tda=d;(function(){var t70;t70=2;for(;t70 !== 5;){switch(t70){case 2:var V0T="1SIYbZr";V0T+="NJCp";V0T+="9";b.Tda=d=function(n,h,p,q,t,v,w){var w70;w70=2;for(;w70 !== 1;){switch(w70){case 2:var L0T="pl";L0T+="a";L0T+="yi";L0T+="n";L0T+="g";return L0T === n.koa?k.Mn.call(this,n,h,p,q,t,v,w):l.call(this,n,h,p,q);break;}}};V0T;t70=5;break;}}function l(n,h,p,q){function t(z){var v70,A;v70=2;for(;v70 !== 8;){switch(v70){case 5:return !1;break;case 1:v70=!A || (z.bitrate > w?n.qfc:1) * z.bitrate * h.playbackRate > A?5:4;break;case 2:A=z.Va;v70=1;break;case 4:var P0T="b";P0T+="uff_lt";P0T+="_hist";x=P0T;y=A;return !0;break;}}}var u70,v,w,u,y,x;u70=2;for(;u70 !== 20;){switch(u70){case 5:u70=v.Va?4:13;break;case 2:var y0T="Mus";y0T+="t ";y0T+="have at least one selected st";y0T+="re";y0T+="am";m(!c.ta(q),y0T);(v=p[q],w=v.bitrate,u=v);u70=5;break;case 4:v=Math.min(q + (n.XCb?2:1),p.length);v=(0,g.$c)(p.slice(0,v).reverse(),t);u70=9;break;case 9:u70=void 0 === v?8:14;break;case 8:v=p[0];u70=7;break;case 6:y=null === v || void 0 === v?void 0:v.Va;u70=13;break;case 7:var v6T="fallb";v6T+="ack_lowest_accep";v6T+="table_st";v6T+="r";v6T+="eam";x=v6T;u70=6;break;case 13:p=new f();p.Ih=v;u !== v && (p.reason=x,p.uv=y);return p;break;case 14:var z6T="sel";z6T+="ect_fea";z6T+="sible_buff";z6T+="erin";z6T+="g";x=z6T;u70=6;break;}}}})();},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});c=a(0);c.__importStar(a(11));g=a(32);b.default=function(k){var e4W=a000;var x70,G,F,L,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D,E,I;x70=2;for(;x70 !== 54;){switch(x70){case 16:e4W.G4T(1);y*=e4W.i4T(1E3,A);e4W.j4T(1);x*=e4W.K4T(1E3,A);x70=27;break;case 43:++q;x70=42;break;case 29:w-=E;x70=28;break;case 7:l=Infinity;(G=0,F=0);m=m.se[0];e4W.G4T(12);n=e4W.K4T(A,m,n,1E3);x70=12;break;case 42:x70=q >= t && m > D?36:41;break;case 25:E=C[q];L=B[q];x70=23;break;case 33:return (k && h.push(m / (A / 1E3)),c.__assign({result:!1,NY:m / (A / 1E3),cv:!1},k && ({n7:h})));break;case 35:(d=n,w+=C[F],++F,m=B[F],n+=m);x70=21;break;case 21:x70=w < G?35:34;break;case 2:var t6T="1SIYbZ";t6T+="rN";t6T+="JCp";t6T+="9";(m=k.ha,f=k.blocks,d=k.Qc,l=k.$j,n=k.rbc,h=k.Fj,p=k.Ic,q=k.te,t=k.bQb,v=k.DW,w=k.t4a,u=k.Va,x=k.oba,y=k.jF,z=k.HYb);k=k.DNb;t6T;A=m.W;f=Math.min(m.length,f);(B=m.se,C=m.sizes,D=l - d,E=8 * h / u | 0);h=[];x70=7;break;case 37:return (k && h.push(m / (A / 1E3)),c.__assign({result:!1,NY:Math.min(m,l) / (A / 1E3),cv:!0},k && ({n7:h})));break;case 23:x70=w < E?22:38;break;case 22:G=Math.max(E,v);x70=21;break;case 38:x70=(m=Math.max(p - d,0),m < x && m < G)?37:31;break;case 28:x70=n < d && F < q?44:43;break;case 31:e4W.j4T(13);d+=e4W.K4T(I,0,E,u);p+=L;x70=29;break;case 34:x70=!z && (m=p - d,m < y)?33:32;break;case 27:e4W.j4T(1);D*=e4W.K4T(1E3,A);x70=26;break;case 39:l=Math.min(m,l);x70=26;break;case 41:k && h.push(m / (A / 1E3));G=m;x70=39;break;case 36:return c.__assign({result:!0,NY:l / (A / 1E3),cv:!0},k && ({n7:h}));break;case 26:x70=q < f?25:36;break;case 32:e4W.j4T(0);m=e4W.K4T(p,d);x70=31;break;case 12:var f6T=" >";f6T+="= f";f6T+="ragmentsLength: ";var E6T="Strea";E6T+="ming";E6T+="Ind";E6T+="ex: ";e4W.j4T(14);u=e4W.K4T(u,8,0);e4W.G4T(1);I=e4W.i4T(1E3,A);q >= f && g.console.error(E6T + q + f6T + f);d+=E;0 === p && (d=0);e4W.G4T(1);d*=e4W.K4T(1E3,A);e4W.G4T(1);p*=e4W.i4T(1E3,A);x70=16;break;case 44:(w+=C[F],++F,n+=B[F]);x70=28;break;}}};},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.VXb=b.lhb=void 0;c=a(0);g=c.__importDefault(a(90));k=c.__importStar(a(11));m=a(22);f=a(420);d=c.__importDefault(a(4));r=c.__importDefault(a(104));a=c.__importDefault(a(32));l=a.default.E1b;n=a.default.hFb;h=a.default.x7;p=a.default.rp;q=r.default.eCa;a=(function(){var y70;y70=2;function u(B,C){var D70,D;D70=2;for(;D70 !== 9;){switch(D70){case 5:D=C.jR;D70=4;break;case 1:var x6T="l";x6T+="o";x6T+="g";D70=0 === C.jR.lastIndexOf(x6T,0)?5:3;break;case 4:return (D=C.mhb[D]) && 2 === D.length?1E3 * (D[0] + D[1] * Math.log(1 + B)):C.Hr;break;case 2:a000.G4T(0);var S31=a000.K4T(100011,11);B=h(B,0,S31) / 1E3;D70=1;break;case 3:var U6T="s";U6T+="i";U6T+="g";U6T+="moid";return 0 === C.jR.lastIndexOf(U6T,0)?(D=C.jR,(D=C.mhb[D]) && 2 === D.length?1E3 * (D[0] + D[1] * q(B)):C.Hr):C.Hr;break;}}}function t(B,C){var z70,E,D;z70=2;for(;z70 !== 12;){switch(z70){case 14:var B6T="hi";B6T+="st";B6T+="_thro";B6T+="ughput";var J6T="hist_tdi";J6T+="ge";J6T+="st";E?(C=B.Gj(C.Uda / 100) || D.Ih.Va,D.uv=C,D.reason=J6T):D.Ih.Va && (C=D.Ih.Va,D.uv=C,D.reason=B6T);return D;break;case 8:z70=7;break;case 2:D=new p();D.Ih=B;B=D.Ih.Jb || ({});D.Zp=B.bn && B.Wg;D.Yp=B.bn?B.bn:0;B=(0,g.default)(D.Zp,{});z70=8;break;case 7:z70=(E=k.Oa(C.Uda) && 0 <= C.Uda && 100 >= C.Uda && !k.ta(B) && !k.tb(B))?6:14;break;case 6:(E=f.qSa.DTb(B),k.md(E)?(B.Gj=E,E=!0):E=!1);z70=14;break;}}}for(;y70 !== 5;){switch(y70){case 2:var K6T="1SIY";K6T+="bZrNJC";K6T+="p";K6T+="9";K6T;return {xAb:function(B,C,D,E){var M70;M70=2;for(;M70 !== 1;){switch(M70){case 2:var i6T="h";i6T+="istor";i6T+="i";i6T+="cal";return i6T === B.Rua?A(B,C,D,E):B.iV?x(B,C,D,E):z(B,C,D,E);break;}}},Sxb:y};break;}}function z(B,C,D){var H70,E,G;H70=2;for(;H70 !== 4;){switch(H70){case 2:(E=new p(),G=Math.max(B.Iv,B.mba,C.nva?B.Bxa:-Infinity));E.Ih=(0,m.$c)(D.filter(function(F){var I70;I70=2;for(;I70 !== 1;){switch(I70){case 2:return F.bitrate <= B.EB;break;case 4:return F.bitrate >= B.EB;break;I70=1;break;}}}).reverse(),function(F){var J70,I,M,L;J70=2;for(;J70 !== 13;){switch(J70){case 3:J70=L?9:6;break;case 2:I={Va:F.Va,bn:F.Jb && F.Jb.bn,Wg:F.Jb && F.Jb.Wg};J70=1;break;case 9:M=w(B,F);J70=8;break;case 5:F=F.bitrate * C.playbackRate;L=I.Va;J70=3;break;case 1:J70=F.bitrate > G?5:14;break;case 8:var G6T="hist_";G6T+="b";G6T+="ufftime";v(F,L,B) <= M?(E.uv=L,I && (E.Yp=I.bn?I.bn:0,E.Zp=I.bn && I.Wg),E.reason=G6T,I=!0):I=!1;J70=7;break;case 7:return I;break;case 6:I=!1;J70=7;break;case 14:var A6T="no_hist";A6T+="o";A6T+="rical_lte_minbit";A6T+="rate";var g6T="hist_tpu";g6T+="t_l";g6T+="t";g6T+="_minbitra";g6T+="te";var j6T="lt_";j6T+="hist_lte_mi";j6T+="nbit";j6T+="rate";(L=I.Va,F.bitrate * C.playbackRate <= L?(E.uv=L,I && (E.Yp=I.bn?I.bn:0,E.Zp=I.bn?I.Wg:void 0),E.reason=j6T,I=!0):L?(E.uv=L,I && (E.Yp=I.bn?I.bn:0,E.Zp=I.bn?I.Wg:void 0),E.reason=g6T,I=!1):(E.reason=A6T,I=!0));J70=7;break;}}}) || D[0];return E;break;}}}function y(B,C,D,E,G,F){var G70;G70=2;for(;G70 !== 5;){switch(G70){case 2:var c6T="no";c6T+="_valid_B";c6T+="i";c6T+="tr";c6T+="ate";var e6T="no_valid";e6T+="_V";e6T+="MAF";var b6T="no_vali";b6T+="d_D";b6T+="elayT";b6T+="ar";b6T+="get";B=D?B.eb >= F.Jv && B.eb <= F.Tab:B.bitrate >= F.Iv && B.bitrate <= F.EB;return (E=E < G && B)?{Q8:E}:{Q8:E,reason:B?b6T:D?e6T:c6T};break;}}}function w(B,C){var B70,D,E;B70=2;for(;B70 !== 13;){switch(B70){case 5:B70=0 === E?4:3;break;case 1:(D=B.M$,E=(0,m.Kp)(D,function(G){var C70;C70=2;for(;C70 !== 1;){switch(C70){case 2:return C <= G.r;break;}}}));B70=5;break;case 4:return D[0].d;break;case 2:B70=B.M$?1:14;break;case 9:return D[D.length - 1].d;break;case 8:a000.G4T(0);B=D[a000.K4T(E,1)];D=D[E];B70=6;break;case 6:return Math.floor(B.d + (D.d - B.d) * (C - B.r) / (D.r - B.r));break;case 3:B70=-1 === E?9:8;break;case 14:return B.Hr;break;}}}function A(B,C,D,E){var K70,G;K70=2;for(;K70 !== 7;){switch(K70){case 2:var H6T="v";H6T+="b";G=d.default.storage.get(H6T);K70=1;break;case 5:return B.iV?x(B,C,D,E):z(B,C,D,E);break;case 4:var k6T="hi";k6T+="st_bi";k6T+="tra";k6T+="te";B=new p();B.Ih=(0,m.$c)(D.slice().reverse(),function(F){var L70;L70=2;for(;L70 !== 1;){switch(L70){case 4:return F.bitrate > G;break;L70=1;break;case 2:return F.bitrate <= G;break;}}}) || D[0];B.reason=k6T;return B;break;case 1:var q6T="n";q6T+="um";q6T+="ber";K70=q6T !== typeof G?5:4;break;}}}function v(B,C,D){var A70;A70=2;for(;A70 !== 5;){switch(A70){case 2:B=n(D.Dj,B * D.hba);return l(B,C);break;}}}function x(B,C,D){var E70,E,G,F,I,L,M;E70=2;for(;E70 !== 19;){switch(E70){case 2:(E=! !B.Jv && ! !B.Tab && D.every(function(K){var F70;F70=2;for(;F70 !== 1;){switch(F70){case 2:return K.eb && 110 >= K.eb;break;}}}),G=null,F=D.length - 1);E70=1;break;case 1:E70=0 <= F && (E?D[F].eb >= B.Jv:D[F].bitrate >= B.Iv)?5:11;break;case 5:I=D[F];G=t(I,B);(L=v(I.bitrate * C.playbackRate,G.uv,B),M=u(G.uv,B));E70=9;break;case 14:E70=I?11:13;break;case 9:M=y(I,G.uv,E,L,M,B);I=M.Q8;M=M.reason;G.oB=L;E70=14;break;case 13:G.reason=M;E70=12;break;case 12:F--;E70=1;break;case 11:var u6T="fallback_no_a";u6T+="cce";u6T+="ptable_stream";var o6T="below_minInit";o6T+="VideoB";o6T+="itrate";k.tb(G) && D[F].bitrate < B.Iv && (G=t(D[F],B),G.reason=o6T);k.tb(G) && (G=t(D[0],B),G.reason=u6T);E70=20;break;case 20:return G;break;}}}})();r=a.Sxb;b.lhb=a.xAb;b.VXb=r;},function(r,b,a){var g,k,m,f;function c(d,l,n){var h,p;h=this.Fla;l=l.buffer.Ic;p="forward" === d.G9b;if(g.ta(h))return (h=p?k(n):k(n,n.length),this.Gla=l,this.Fla=h,new f(h));m(n[h]) || (h=k(n,h),this.Gla=l,this.Fla=h);if(0 > h)return null;if(l > this.Gla + d.rdc){d=n.map(function(q,t){return q.zv?t:null;}).filter(function(q){return null !== q;});if(!d.length)return null;p?h=(d.indexOf(h) + 1) % d.length:(h=d.indexOf(h) - 1,0 > h && (h=d.length - 1));this.Fla=d[h];this.Gla=l;return new f(d[h]);}return new f(h);}g=a(11);b=a(32);k=b.Mra;m=b.iJ;f=b.rp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){var N70,k,m,f,d,l,n,h,p,q,t;function g(v,w,u,x){var Q70,y,B,C,D,E,G,I,L,F,z,A;Q70=2;for(;Q70 !== 32;){switch(Q70){case 24:Q70=(C=A[D],F=u[C],h(F) && E > G.elb * F.bitrate * w.playbackRate)?23:25;break;case 2:var Z6T="Must";Z6T+=" h";Z6T+="ave at ";Z6T+="least one selected s";Z6T+="tream";l(!k.ta(x),Z6T);y=u[x].af;Q70=5;break;case 26:var n6T=", streami";n6T+="ngPts =";n6T+=" ";var T6T=", ";T6T+="lastUpswitch";T6T+="Pts";T6T+=" = ";var D6T="  Upswitch allo";D6T+="wed.";D6T+=" lastDownsw";D6T+="i";D6T+="tchPts = ";d && f.log(D6T + L + T6T + I + n6T + C.Ic);Q70=25;break;case 9:v.Ojb.some(function(M){var R70,H,J,R,P,K,O;R70=2;for(;R70 !== 9;){switch(R70){case 5:(H=(M=M.HZ) && M.uba || v.uba,J=M && M.hqc || -Infinity,R=M && M.UP || Infinity,P=w.buffer.Ls);R70=4;break;case 2:(K=M.profiles,O=K && 0 <= K.indexOf(y));R70=1;break;case 6:R70=O?8:4;break;R70=O?5:3;break;case 4:A=u.filter(function(T){var S70,V;S70=2;for(;S70 !== 5;){switch(S70){case 2:V=T.bitrate;return V >= J && V <= R && 0 <= K.indexOf(T.af) && V * H / 8 < P;break;}}}).map(function(T){var T70;T70=2;for(;T70 !== 1;){switch(T70){case 4:return T.mg;break;T70=1;break;case 2:return T.mg;break;}}});R70=3;break;case 1:R70=O?5:3;break;case 12:return O;break;R70=9;break;case 3:return O;break;}}});Q70=8;break;case 14:z=0;Q70=21;break;case 7:(B=u[x],C=B.bitrate,D=A.indexOf(x),E=B.Va,G=v.cEb);Q70=6;break;case 27:Q70=w.Dr && F > G.zB && (void 0 === L || Number(I) > L || C.Ic - L > G.Jaa)?26:22;break;case 18:z=C;Q70=21;break;case 5:Q70=!(v && v.IR && 0 <= v.IR.indexOf(y))?4:3;break;case 15:(I=this.gwa,L=this.zaa);Q70=27;break;case 10:C=A[D];F=u[C];Q70=19;break;case 4:return new p(x);break;case 13:Q70=D && E < G.f2a * C * w.playbackRate?12:16;break;case 11:Q70=0 <= D?10:21;break;case 22:var R6T="m";R6T+="s";var l6T=",";l6T+=" buffer le";l6T+="vel = ";var s6T=", l";s6T+="astUpswitchPts";s6T+=" ";s6T+="=";s6T+=" ";var m6T="  Ups";m6T+="wit";m6T+="ch not allow";m6T+="ed. lastDownswitchPts = ";d && f.log(m6T + L + s6T + I + l6T + F + R6T);Q70=21;break;case 25:Q70=++D < A.length?24:21;break;case 12:var O6T=" kbp";O6T+="s";O6T+=", tr";O6T+="y to downswitch";var N6T=" k";N6T+="bps ";N6T+="< ";var F6T="thro";F6T+="ughput fo";F6T+="r audi";F6T+="o ";(d && f.log(F6T + E + N6T + G.f2a + "*" + C + O6T),--D);Q70=11;break;case 3:z=x;Q70=9;break;case 8:Q70=A && 1 < A.length?7:21;break;case 6:Q70=0 > D?14:13;break;case 23:z=C;Q70=21;break;case 16:var w6T=" ";w6T+="k";w6T+="b";w6T+="p";w6T+="s";var Y6T=" ";Y6T+="kbps >";Y6T+=" ";var S6T="thro";S6T+="ug";S6T+="h";S6T+="put for audio ";Q70=D < A.length - 1 && E > G.elb * C * w.playbackRate && (d && f.log(S6T + E + Y6T + G.elb + "*" + C + w6T),C=w.buffer,F=C.$j - C.Qc,B.ha && B.ha.length)?15:21;break;case 17:D--;Q70=11;break;case 19:Q70=h(F) && (0 == D || F.bitrate * w.playbackRate * G.f2a < E)?18:17;break;case 21:var W6T="k";W6T+="bps, stre";W6T+="amin";W6T+="gPts ";W6T+=":";var a6T=",";a6T+=" audio";a6T+=" th";a6T+="roughp";a6T+="ut:";var h6T=" k";h6T+="bps,";h6T+=" p";h6T+="rof";h6T+="ile :";var C6T="selectAud";C6T+="ioStre";C6T+="am: selected";C6T+=" stream :";var Q6T=" ";Q6T+="k";Q6T+="bps";var r6T=" k";r6T+="bp";r6T+="s, t";r6T+="o";r6T+=" ";var X6T="swi";X6T+="tching au";X6T+="dio from ";var p6T="d";p6T+="o";p6T+="w";p6T+="n";var I6T="u";I6T+="p";E=u[z];z !== x && d && f.log((z > x?I6T:p6T) + X6T + B.bitrate + r6T + E.bitrate + Q6T);d && f.log(C6T + E.bitrate + h6T + y + a6T + E.Va + W6T + w.buffer.Ic);return new p(z);break;}}}N70=2;for(;N70 !== 4;){switch(N70){case 2:var V6T="1SIYb";V6T+="Z";V6T+="rN";V6T+="JCp";V6T+="9";(k=a(11),m=a(32),f=m.console,d=m.debug,l=m.assert,n=a(90),h=m.iJ,p=m.rp,q=a(444),t=a(6).Ia);r.exports={STARTING:function(v,w,u,x){var U70,y,z;U70=2;for(;U70 !== 7;){switch(U70){case 1:U70=(z=v && v.IR && 0 <= v.IR.indexOf(z)?c(z,v.Ojb):c(z,v.bEb))?5:4;break;case 4:var d6T=" kbp";d6T+="s, p";d6T+="rofil";d6T+="e ";d6T+=":";var M6T="selectAudioStreamStart";M6T+="i";M6T+="ng: selected st";M6T+="ream";M6T+=" :";v=q[t[t.Qh]](y,w,u,x);u=u[v.Ie];d && f.log(M6T + u.bitrate + d6T + u.af);return v;break;case 2:(y=v,z=u[x || 0].af);U70=1;break;case 5:var L6T="selectA";L6T+="udioStre";L6T+="amStarting: overriding config with ";(y={minInitAudioBitrate:v.hZ,minHCInitAudioBitrate:v.fZ,maxInitAudioBitrate:v.TY,minRequiredAudioBuffer:v.uba},d && f.log(L6T + JSON.stringify(z)),n(z,y));U70=4;break;}}},BUFFERING:g,REBUFFERING:g,PLAYING:g,PAUSED:g};V6T;N70=4;break;}}function c(v,w){var O70,u;O70=2;for(;O70 !== 4;){switch(O70){case 2:u=void 0;w.some(function(x){var P70,y;P70=2;for(;P70 !== 4;){switch(P70){case 2:y=x.profiles;(y=y && 0 <= y.indexOf(v)) && (u=x.override);return y;break;}}});return u;break;}}}})();},function(r,b,a){var g;function c(){return new g(0);}a(11);g=a(32).rp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var g;function c(k,m,f){return new g(f.length - 1);}a(11);g=a(32).rp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){function c(d,l,n,h){var W70,p;W70=2;for(;W70 !== 12;){switch(W70){case 1:var P6T="player missing";P6T+=" fragm";P6T+="entI";P6T+="nde";P6T+="x";m(g.Oa(l.te),P6T);l=f(h);W70=4;break;case 9:p=n[h];W70=8;break;case 2:var y6T="Mu";y6T+="st have at least one selected s";y6T+="tre";y6T+="am";m(!g.ta(h),y6T);W70=1;break;case 3:W70=-1 < h?9:14;break;case 4:a000.G4T(0);var U31=a000.K4T(12,11);h=n.length - U31;W70=3;break;case 8:W70=p.Jb && p.Jb.Va && p.bitrate < p.Jb.Va.va - d.mdc?7:6;break;case 6:--h;W70=3;break;case 7:return (l.Ie=h,l);break;case 14:l.Ie=0;return l;break;}}}var V70,g,k,m,f;V70=2;for(;V70 !== 6;){switch(V70){case 2:g=a(11);a(28);k=a(32);a(4);(m=k.assert,f=k.rp);k=a(194).default;r.exports={STARTING:k.STARTING,BUFFERING:k.BUFFERING,REBUFFERING:k.REBUFFERING,PLAYING:c,PAUSED:c};V70=7;break;case 7:var v8W="1S";v8W+="IY";v8W+="bZrNJ";v8W+="C";v8W+="p9";v8W;V70=6;break;}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(1036);b.default={PLAYING:r.Mn,PAUSED:r.Mn};},function(r,b,a){var c,g,k,m,f,d,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Mn=void 0;r=a(0);c=r.__importStar(a(11));g=r.__importDefault(a(32));k=r.__importDefault(a(194));m=a(71);f=r.__importDefault(a(4));d=g.default.assert;l=g.default.rp;b.Mn=n;(function(){var X70;X70=2;for(;X70 !== 5;){switch(X70){case 2:var E8W="1";E8W+="SIYbZrN";E8W+="J";E8W+="Cp9";b.Mn=n=function(h,p,q,t,v,w,u){var Y70,M,K,O,J,y,z,A,B,L,F,I,x,C,H,D,E,G;Y70=2;for(;Y70 !== 66;){switch(Y70){case 36:(M=[],K=C.ha,O=0);Y70=54;break;case 67:B--;Y70=71;break;case 70:Y70=y[B].f === A?69:68;break;case 51:J=K.get(H);M.push({d:J.duration,b:J.ea});Y70=49;break;case 43:I.push(L.Nl);I.push(L.mk);I.push(L.Ol);Y70=40;break;case 58:x=void 0;Y70=57;break;case 4:(y=h.fcc,z=new l(t),A=null !== (x=p.te) && void 0 !== x?x:-1);x=y[0].f;B=y[y.length - 1].f;Y70=8;break;case 31:C.Jb && C.Jb.throughput && (F=C.Jb.throughput.va);Y70=30;break;case 59:return k.default.PLAYING.call(this,h,p,q,t,v,w,u);break;case 46:O+=K.get(H).duration;Y70=45;break;case 54:Y70=void 0 !== K?53:65;break;case 69:x=B;Y70=73;break;case 40:I.push(L.lca);Y70=39;break;case 29:L=C.Jb.tdigest;I.push(L.min);I.push(L.kca);Y70=43;break;case 65:K=void 0;p.LV && (K=f.default.time.ia() - p.LV);v.push({te:p.te,fsc:K,Ypc:O,Vmc:F,csc:I,esc:L,moa:w,t4a:u,tnc:M,Bpc:y.bitrate,Cpc:null !== (D=y.eb) && void 0 !== D?D:0,Enc:C.bitrate,Fnc:null !== (E=C.eb) && void 0 !== E?E:0,Arc:A.bitrate,Brc:null !== (G=A.eb) && void 0 !== G?G:0,ot:x});Y70=62;break;case 34:C=q[B];x=B <= t?!0:!1;(F=void 0,I=[]);Y70=31;break;case 49:H++;Y70=52;break;case 25:u=m.wk.N0a(p.buffer.ha);u=p.buffer.Ls - u.ea;y=q[t];A=q[t];Y70=21;break;case 21:B=0;Y70=35;break;case 20:Y70=void 0 !== A?19:59;break;case 17:Y70=h.aOb?16:60;break;case 6:a000.G4T(0);B=a000.i4T(A,x);0 > B && (B=0);Y70=13;break;case 7:return k.default.PLAYING.call(this,h,p,q,t,v,w,u);break;case 45:H++;Y70=47;break;case 76:x=B;Y70=73;break;case 2:var t8W="play";t8W+="er mi";t8W+="ssing fragmentIndex";var z8W="M";z8W+="ust have at least one ";z8W+="selected st";z8W+="ream";d(!c.ta(t),z8W);d(c.Oa(p.te),t8W);Y70=4;break;case 75:Y70=y[B].f > A?73:74;break;case 8:Y70=A < x || A > B?7:6;break;case 19:z.Ie=y[A].M9b;Y70=18;break;case 13:B >= y.length && (B=y.length - 1);C=y[B].f;Y70=11;break;case 10:A=B;Y70=20;break;case 74:B++;Y70=55;break;case 72:--B;Y70=71;break;case 77:Y70=y[B].f === A?76:75;break;case 30:Y70=C.Jb && C.Jb.tdigest?29:38;break;case 48:H=p.te;Y70=47;break;case 68:Y70=y[B].f < A?73:67;break;case 52:Y70=H < Math.min(H + h.gEb,K.length)?51:48;break;case 53:H=p.te;Y70=52;break;case 55:Y70=B < y.length?77:73;break;case 39:I.push(L.max);Y70=38;break;case 18:z.Ih=q[z.Ie];Y70=17;break;case 61:z.JYa=v;Y70=60;break;case 35:Y70=B < q.length?34:61;break;case 47:Y70=H < K.length?46:65;break;case 11:Y70=C === A?10:58;break;case 38:L=void 0;C.Jb && C.Jb.tputTrace && (L=C.Jb.tputTrace);Y70=36;break;case 71:Y70=0 <= B?70:73;break;case 57:Y70=C < A?56:72;break;case 16:v=[];w=p.buffer;w=w.$j - w.Qc;Y70=25;break;case 60:return z;break;case 73:A=x;Y70=20;break;case 56:B+=1;Y70=55;break;case 62:B++;Y70=35;break;}}};E8W;X70=5;break;}}})();},function(r,b,a){(function(){var Z70,c;Z70=2;for(;Z70 !== 8;){switch(Z70){case 5:var B8W="1S";B8W+="IYb";B8W+="ZrNJCp9";a(32);c=a(6).Vc;r.exports={checkBuffering:function(g,k,m,f,d,l){var m4W=a000;var a80,u,w,h,p,q,t,v;a80=2;for(;a80 !== 37;){switch(a80){case 6:m4W.j4T(15);var V31=m4W.i4T(19,8,3040,20);q=l.Dj * (p?l.hAa:V31);l.WNb && f.Jb && f.Jb.el && f.Jb.el.va > l.Fwa && (q+=l.ina + f.Jb.el.va * l.Wya);d && (q+=d.Ru * l.jna);q=t?Math.min(t,q):q;a80=11;break;case 32:m4W.j4T(16);var W31=m4W.i4T(15,23,4,12);q=W31 * w * m / k - g.Qc;a80=31;break;case 8:a80=k <= l.Kwa && (0 < k || !l.mra)?7:6;break;case 44:a80=0 < u?43:42;break;case 22:a80=k > p * l.P8?21:35;break;case 21:var f8W="h";f8W+="i";f8W+="gh";f8W+="t";f8W+="p";return {complete:!0,reason:f8W};break;case 35:q=f.ha.se(d);l=Math.min(d + Math.floor(l.p_ / q),f.ha.length - 1);u=f.ha.Ci(l);a80=32;break;case 41:--l;a80=30;break;case 24:w=f.ha.Ci(d);a80=23;break;case 17:p=m * f.bitrate;a80=16;break;case 29:p=f.ha.get(l);m4W.G4T(11);var X31=m4W.i4T(3,9,15);u=X31 * u * m / k - p.da - q;a80=44;break;case 25:var x8W="out";x8W+="o";x8W+="fra";x8W+="ng";x8W+="e";return {complete:!0,reason:x8W};break;case 27:d=f.ha.Eo(g.Ic);a80=26;break;case 2:(h=g.$j - g.Qc,p=k === c.Kg);k=f.Va || 0;(q=0,t=l.YDa && !p?l.GB:l.hxa);t=Math.min(l.Dv,t);a80=3;break;case 23:a80=h >= q?22:39;break;case 40:var U8W="n";U8W+="oreb";U8W+="u";U8W+="ff";return {complete:!0,reason:U8W};break;case 43:return (q=Math.min(t,h + u),{complete:!1,kK:q,progress:n(q)});break;case 30:a80=l > d?29:40;break;case 7:return {complete:!1,eF:!0};break;case 39:0 < k && k < p && (q=Math.min(t,Math.max(l.p_ * (p / k - 1),q)));return {complete:!1,kK:q,progress:n(q)};break;case 31:--l;a80=30;break;case 10:return {complete:!1,kK:q};break;case 16:a80=!f.ha || !f.ha.length?15:27;break;case 3:a80=h >= t?9:8;break;case 20:v=0;g.ha.forEach(function(x){var c80;c80=2;for(;c80 !== 1;){switch(c80){case 2:v+=x.da + x.duration > g.Qc?x.ea:0;c80=1;break;}}});m=Math.max(m,1);a80=17;break;case 11:a80=!k?10:20;break;case 9:var J8W="max";J8W+="si";J8W+="z";J8W+="e";return {complete:!0,reason:J8W};break;case 42:u=p.offset;a80=41;break;case 15:return (k < p && (q=Math.min(t,Math.max(l.p_ * (p / k - 1),q))),{complete:!1,kK:q,progress:0});break;case 26:a80=-1 === d?25:24;break;}}function n(x){var b80;b80=2;for(;b80 !== 5;){switch(b80){case 2:x=f.ha.W8(g.Qc + x,void 0,!0);return (v - g.Fj) / (v + (x.offset + x.ea) - w);break;}}}}};B8W;Z70=8;break;case 2:a(11);a(28);Z70=5;break;}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(1039);b.default={PLAYING:r.Mn,PAUSED:r.Mn};},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Mn=void 0;r=a(0).__importDefault(a(32));c=r.default.console;g=r.default.rp;b.Mn=k;(function(){var d80;d80=2;for(;d80 !== 5;){switch(d80){case 2:var i8W="1";i8W+="SI";i8W+="Y";i8W+="bZrNJCp9";b.Mn=k=function(m,f,d,l){var e80,n,h,p,q,t;e80=2;for(;e80 !== 19;){switch(e80){case 2:l=new g(l);m=m.hdc * Math.pow(Math.min(1,(f.buffer.$j - f.buffer.Qc) / m.B$a),m.gdc);e80=4;break;case 10:var K8W="Stream has no";K8W+=" throughput st";K8W+="atistics";c.warn(K8W);e80=11;break;case 7:e80=p.Jb && p.Jb.Va?6:10;break;case 3:a000.j4T(17);var Z31=a000.K4T(16,80,10,3,9);h=d.length - Z31;e80=9;break;case 8:p=d[h];e80=7;break;case 4:l.Ie=0;e80=3;break;case 11:--h;e80=9;break;case 12:l.Ie=h;e80=20;break;case 20:return l;break;case 9:e80=-1 < h?8:20;break;case 13:e80=t < q * m && p?12:11;break;case 6:(q=p.Jb.Va.va,t=p.bitrate);p=p.Zeb(null !== (n=f.te) && void 0 !== n?n:-1);e80=13;break;}}};i8W;d80=5;break;}}})();},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.LRa=void 0;c=a(0);r=c.__importDefault(a(4));g=a(160);k=a(447);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(m){var f80;f80=2;for(;f80 !== 3;){switch(f80){case 2:c.__extends(f,m);f.prototype.vRb=function(d,l){var i80,n,h;i80=2;for(;i80 !== 3;){switch(i80){case 2:(n=this.config,h=l?n.Bpa:n.Sna);l=l?n.Cpa:n.Una;Array.isArray(l) && (h=(0,k.j3a)(l,d.$j - d.Qc,n.Tna));i80=4;break;case 4:return h;break;}}};f.prototype.bbc=function(d,l){var j80;j80=2;for(;j80 !== 3;){switch(j80){case 2:l=this.Jo(d,l);d=! !d.pt;this.config.XCa && l < this.config.ZV && (d=!0);return d;break;}}};f80=4;break;case 4:return f;break;case 14:return f;break;f80=3;break;}}function f(d,l){var g80,n;g80=2;for(;g80 !== 3;){switch(g80){case 2:var G8W="1";G8W+="SI";G8W+="YbZrNJCp";G8W+="9";n=m.call(this,d,l) || this;n.YJ=function(h,p,q,t){var h80,v;h80=2;for(;h80 !== 8;){switch(h80){case 3:p=n.U1a(p,t);return {lower:p,upper:p * n.config.TDa};break;case 2:t=null !== t && void 0 !== t?t:n.UP;v=n.Jo(h,q);h=n.bbc(h,q);p=v?v * (100 - n.vRb(p,h)) / 100 | 0:0;h80=3;break;}}};G8W;return n;break;}}}})(g.LC);b.LRa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ZRa=void 0;c=a(0);r=a(160);r=(function(g){var k80;function k(m,f){var l80,d;l80=2;for(;l80 !== 3;){switch(l80){case 2:var b8W="1SIYb";b8W+="Z";b8W+="r";b8W+="NJ";b8W+="Cp9";d=g.call(this,m,f) || this;d.YJ=function(l){var m80,n,n80;m80=2;for(;m80 !== 10;){switch(m80){case 3:n=Math.sqrt(l.xo.ye || 0);m80=9;break;case 4:return n;break;case 2:n={lower:l.Va.va,upper:void 0};m80=1;break;case 5:m80=!l.xo || !l.xo.va?4:3;break;case 14:m80=l.xo && l.xo.cS?13:4;break;case 9:return {lower:8 / (l.xo.va + d.config.ACa * n),upper:8 / (l.xo.va - d.config.BCa * n)};break;case 12:var j8W="a";j8W+="ve";j8W+="rag";j8W+="et";j8W+="p";m80=n80 === j8W?8:11;break;case 7:n=Math.sqrt(l.xo.cS || 0);m80=6;break;case 6:return {lower:l.xo.CN + d.config.ACa * n,upper:l.xo.CN + d.config.BCa * n};break;case 13:return (n=Math.sqrt(l.xo.cS || 0),{lower:l.Va.va + d.config.ACa * n,upper:l.Va.va + d.config.BCa * n});break;case 8:m80=!l.xo || !l.xo.CN?4:7;break;case 11:var g8W="e";g8W+="wm";g8W+="a";m80=n80 === g8W?14:4;break;case 1:var A8W="deli";A8W+="ver";A8W+="ytime";n80=d.config.Ubc;m80=n80 === A8W?5:12;break;}}};b8W;l80=4;break;case 4:return d;break;}}}k80=2;for(;k80 !== 5;){switch(k80){case 2:c.__extends(k,g);return k;break;case 3:c.__extends(k,g);return k;break;k80=5;break;}}})(r.LC);b.ZRa=r;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.UGa=void 0;c=a(0);g=a(6);r=a(160);k=a(446);a=(function(m){var o80;o80=2;for(;o80 !== 5;){switch(o80){case 3:c.__extends(f,m);return f;break;o80=5;break;case 2:c.__extends(f,m);return f;break;}}function f(d,l){var p80,n;p80=2;for(;p80 !== 9;){switch(p80){case 1:var k8W="1";k8W+="S";k8W+="IY";k8W+="bZrNJCp9";n.YJ=function(h,p,q,t){var q80,r80;q80=2;for(;q80 !== 11;){switch(q80){case 5:var e8W="deliver";e8W+="ytim";e8W+="e-ci";r80=n.config.Yoa;q80=r80 === e8W?4:13;break;case 8:return {lower:(null === p || void 0 === p?void 0:p.initial) || h.Va.va,upper:(null === p || void 0 === p?void 0:p.high) || t};break;case 14:q80=7;break;case 13:q80=12;break;case 9:q80=q === g.Ia.Qh?8:6;break;case 7:return {lower:(null === p || void 0 === p?void 0:p.low) || h.Va.va,upper:(null === p || void 0 === p?void 0:p.high) || t};break;case 6:q80=q === g.Ia.Qd?8:14;break;case 1:return n.P_b.YJ(h,p,q,t);break;case 2:q80=n.aCa(q)?1:5;break;case 4:var c8W="deli";c8W+="ver";c8W+="ytime-c";c8W+="i";p=h[c8W];q80=3;break;case 3:t=n.config.TDa * h.Va.va;q80=9;break;case 12:var H8W="t";H8W+="hr";H8W+="oug";H8W+="hpu";H8W+="t-ci";p=h[H8W];q80=3;break;}}};n.P_b=new k.kia(d,l);k8W;return n;break;case 2:n=m.call(this,d,l) || this;p80=1;break;}}}})(r.LC);b.UGa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.lLa=void 0;r=(function(){function a(c,g,k,m,f,d,l,n){this.ab=c;this.mZa=g;this.config=k;this.console=m;this.mediaType=f;this.Gb=d;this.Ua=l;this.jc=n;this.ks=this.Mi=!1;}a.prototype.RN=function(c,g){!this.ab.G.ew || this.jc.NM || this.jc.F5 || (c-=this.ab.cg,this.Mi && !this.ks && c + this.config.fkb >= g && 0 === this.Ua.rF && 0 === this.Ua.$t && 0 === this.Ua.l7b && (g=this.jc.Gf.S.Sb,c=this.jc.YO(),g + 1 < c || (this.mZa[this.mediaType].Fjb || this.Gb.Pyb(this.mediaType),this.ks=!0,this.mZa[this.mediaType].qZ())));};return a;})();b.lLa=r;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.jLa=void 0;c=a(0);g=a(10);r=a(448);k=a(441);a=(function(m){function f(){return null !== m && m.apply(this,arguments) || this;}c.__extends(f,m);f.prototype.sMb=function(d){m.prototype.saa.call(this,{value:d});};f.prototype.Z8a=function(){return !0;};f.prototype.sCa=function(){};f.prototype.saa=function(d){m.prototype.saa.call(this,d);d.done && (d=this.Bu.hW,g.N && this.H.trace("Requests drained",{Wmc:d && d.G.id}),(d=d && d.fb(this.dh)) && d instanceof k.Qha && d.RN(this.qg.Xsa() || 0));};return f;})(r.dga);b.jLa=a;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.$Fa=void 0;c=a(0);g=a(130);k=a(10);r=(function(){function m(f,d,l){this.H=f;this.fwb=d;this.dh=l;this.W4=0;this.s5=!1;this.UT=[];this.dH=void 0;k.N && f.trace(("BranchRequestIterator [").concat(this.dh,"]: created"));}Object.defineProperties(m.prototype,{QKb:{get:function(){return this.W4;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{hW:{get:function(){return this.eUa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fk:{get:function(){return this.s5;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{b1a:{get:function(){return this.dm?this.dm.kt?"Complete":this.dm.Oza?"WaitingForBranch":void 0 !== this.dH && 0 !== this.dH?("In Policy ").concat(this.UT[this.dH].name):"WaitingForRequest":("Uninitialized;Prior:").concat(this.mVa);},enumerable:!1,configurable:!0}});m.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var f,d,l,n;return c.__generator(this,function(h){switch(h.label){case 0:f=this.dm;if(!f)return [3,6];this.dH=void 0;return [4,f.next()];case 1:(d=h.kb(),l=0,h.label=2);case 2:if(!(l < this.UT.length))return [3,5];this.dH=l;n=this.UT[l];return [4,n.process(d)];case 3:(d=h.kb(),h.label=4);case 4:return (l++,[3,2]);case 5:this.dH=void 0;if(d.done || this.dm !== f)return [2,{done:!0}];this.W4++;d.value.jXa();return [2,{done:!1,value:d.value.value}];case 6:return [2,g.AsyncIterator.Lta()];}});});};m.prototype.x9b=function(){this.fjb();this.J7b();};m.prototype.fjb=function(){var f;if(this.dm){this.mVa=this.b1a;f=this.dm;f && f.wi();this.UT.forEach(function(d){return d.reset();});f && k.N && this.H.trace(("BranchRequestIterator [").concat(this.dh,"]: Disposing iterator that was on branch "),this.hW && this.hW.G.id);this.s5=!1;this.dH=this.dm=void 0;}};m.prototype.fna=function(f){this.UT.push(f);};m.prototype.J7b=function(){var f,d,l,n;f=this;if(!this.s5){d=this.H;l=this.fwb;n=this.dh;this.W4=0;this.mVa=this.eUa=void 0;this.dm=(0,g.flatten)((0,g.map)(l.M6a(),function(h){return c.__awaiter(f,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.eUa=h,this.W4=0,k.N && d.trace(("BranchRequestIterator [").concat(this.dh,"]: new branch ").concat(h.G.id)),[4,h.Rx(n)]);case 1:if(p=q.kb())return [2,{value:p}];k.N && d.error(("BranchRequestIterator [").concat(this.dh,"]: skipping branch ").concat(h.G.id));return [2,{value:[]}];}});});},d),d);this.s5=!0;}};return m;})();b.$Fa=r;},function(r,b,a){var c,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.BQa=void 0;c=a(0);g=a(6);k=a(1047);m=a(1048);r=(function(){function f(d,l,n,h,p,q,t,v){this.mediaType=d;this.console=l;this.Kb=n;this.vN=h;this.rn=p;this.VZ=q;this.$d=t;this.eA=[];this.mediaType === g.u.J && this.eA.push(new m.FRa(d,l,n,h,p,q,t,v,2));this.eA.push(new k.eSa(d,l,n,h,p,q,t,"stream",1,null === v || void 0 === v?void 0:v.f8a()));}f.prototype.tx=function(d,l,n){this.Kb=d;this.$d=l;this.vN=n;this.oDa.forEach(function(h){return h.tx(d,l,n);});};f.prototype.HXa=function(d){this.eA.push(d);};f.prototype.bgb=function(d){this.eA=this.eA.filter(function(l){return l !== d;});d.close();};f.prototype.T0a=function(d){d=d({vN:this.vN,rn:this.rn,console:this.console,T:this.Kb,VZ:this.VZ,$d:this.$d});this.HXa(d);return d;};f.prototype.reset=function(){this.eA.forEach(function(d){return d.reset();});};f.prototype.close=function(){this.eA.forEach(function(d){return d.close();});};f.prototype.Wh=function(d){return c.__read(this.eA,1)[0].Wh(d);};Object.defineProperties(f.prototype,{oDa:{get:function(){return this.eA;},enumerable:!1,configurable:!0}});return f;})();b.BQa=r;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.eSa=void 0;c=a(0);g=a(10);k=a(2);r=(function(m){function f(){return null !== m && m.apply(this,arguments) || this;}c.__extends(f,m);f.prototype.Fv=function(d){var l,n,h;l=d.stream;n=d.jd;h=d.Oc;d=d.pc;(0,k.assert)(void 0 !== n,"playerStartTimestamp undefined at media append");(0,k.assert)(void 0 !== d,"contentStartTimestamp undefined at media append");this.$ma({stream:l,pc:d,f3a:function(p){return this.stream === p.stream;}},n,h) && g.N && this.trace(("stream ").concat(l.id,", ").concat(l.bitrate,"kbit/s @ ").concat(n.Z,"ms"));};f.prototype.Pqa=function(d,l){var n,h,p,q;p=d.jw.stream;q=this.Kb.Fn(l);(0,k.assert)(void 0 !== q);g.N && this.trace(("emitStreamPresentingEvent @ ").concat(d.timestamp.Z,"ms for ").concat(null === p || void 0 === p?void 0:p.id,", ") + ("").concat(null === p || void 0 === p?void 0:p.bitrate,"kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:p.mediaType,playerTimestamp:l,position:q,trackIndex:null === (n=null === p || void 0 === p?void 0:p.track) || void 0 === n?void 0:n.iA,streamIndex:null === p || void 0 === p?void 0:p.mg,stream:p,manifest:null === (h=p.S) || void 0 === h?void 0:h.fa,contentStartTimestamp:d.jw.pc});};return f;})(a(269).R3);b.eSa=r;},function(r,b,a){var c,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.FRa=void 0;c=a(0);g=a(10);k=a(2);m=a(8);r=(function(f){function d(l,n,h,p,q,t,v,w,u){l=f.call(this,l,n,h,p,q,t,v,"segment",u,null === w || void 0 === w?void 0:w.f8a()) || this;l.fp=w;return l;}c.__extends(d,f);d.prototype.Fv=function(l){var n,h,p,q,t,v,w,u,x;q=l.jd;t=l.Oc;v=l.pc;w=l.bitrate;u=l.eb;(0,k.assert)(void 0 !== q);x=null === (n=this.Kb.Fn(q)) || void 0 === n?void 0:n.Y;(0,k.assert)(void 0 !== x);this.Baa=l={Y:x,fQb:l.Vs,pc:v,emb:w,eb:u,A6b:null === (h=this.Baa) || void 0 === h?void 0:h.emb,B6b:null === (p=this.Baa) || void 0 === p?void 0:p.eb};this.$ma(l,q,t) && g.N && this.trace(("segment ").concat(x," @ ").concat(q.Z,"ms"));};d.prototype.O9a=function(l,n){return l.Y === n.Y && !n.fQb;};d.prototype.Pqa=function(l,n){var h,p,q,t,v,w;h=l.jw;p=h.Y;q=h.emb;t=h.A6b;v=h.eb;h=h.B6b;w=this.Kb.Fn(n);(0,k.assert)(void 0 !== w);g.N && this.trace(("emitSegmentPresentingEvent @ ").concat(l.timestamp.Z,"ms for segment ").concat(p));w.Y !== p && (g.N && this.console.warn("player position:",w,"not equal to trackedElement:",p),w={Y:p,offset:m.M.Ha});l={type:"segmentPresenting",playerTimestamp:n,position:w};if(this.fp){if(p=this.fp.gta(p))(p.destvbitrate=q,p.destvmaf=v,p.srcvbitrate=t,p.srcvmaf=h);l.metrics=p;}g.N && this.trace(("segmentPresenting: ").concat(JSON.stringify(l)));this.events.emit(l.type,l);};d.prototype.reset=function(){f.prototype.reset.call(this);this.Baa=void 0;};d.prototype.close=function(){f.prototype.close.call(this);this.Baa=void 0;};return d;})(a(269).R3);b.FRa=r;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.TIa=void 0;c=a(0);g=a(10);k=a(59);r=(function(){function m(f,d,l){this.$d=f;this.b1b=d;this.H=l;}Object.defineProperties(m.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});m.prototype.waitUntil=function(f){var d;f=(0,k.yfa)(this.$d,f,!0);d=f.promise;this.qBb=f.Tn;return d;};m.prototype.process=function(f){return c.__awaiter(this,void 0,void 0,function(){var d,l;return c.__generator(this,function(n){switch(n.label){case 0:if(f.done)return [3,2];d=f.value.value;if(!d.Tra)return [3,2];l=d.jd.Da(this.b1b);g.N && this.H.trace(("[").concat(d.mediaType,"] JIT: waiting until playertime >= ").concat(l.Z),("to append next request ").concat(d.toString()));return [4,this.waitUntil(l)];case 1:(n.kb(),g.N && this.H.trace(("[").concat(d.mediaType,"] JIT: now appending request ").concat(d.toString())),n.label=2);case 2:return [2,f];}});});};m.prototype.reset=function(){var f;null === (f=this.qBb) || void 0 === f?void 0:f.xb();};return m;})();b.TIa=r;},function(r,b,a){var c,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.kOa=void 0;c=a(0);g=a(10);k=a(2);m=a(59);r=(function(){function f(d,l,n,h){var p;p=this;this.$d=d;this.p4b=l;this.Jya=n;this.H=h;d.Ba.on("stopStart",function(){return p.fHb();});g.N && this.H.trace(("PacingThrottler: pacingFactory=").concat(l,", pacingThreshold=").concat(n.Mb()));}Object.defineProperties(f.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});f.prototype.fHb=function(){var d,l;l=this.$d.Ba;this.UN=l.fk?l.currentTime:void 0;this.qV=this.aX=void 0;g.N && this.H.trace(("PacingThrottler: clock reset ").concat(null === (d=this.UN) || void 0 === d?void 0:d.Z));};f.prototype.waitUntil=function(d){var l;d=(0,m.yfa)(this.$d,d,!0);l=d.promise;this.qgc=d.Tn;return l;};f.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var l,n,h,p;return c.__generator(this,function(q){switch(q.label){case 0:if(d.done)return [3,11];l=d.value.value;(0,k.assert)(l.jd);n=this.$d.Ba;if(!this.aX || !this.qV)return [3,10];if(!this.qV.greaterThan(this.Jya))return [3,8];if(!this.UN)return [3,5];h=l.jd.Da(this.UN).Da(this.Jya);p=this.UN.add(h.bk(this.p4b));if(!p.lessThan(l.jd))return [3,3];if(!p.greaterThan(n.currentTime))return [3,2];g.N && this.H.trace(("PacingThrottler: waiting until ").concat(p.Mb()," for mediaRequest @") + ("").concat(l.jd.Mb(),", ") + ("current time ").concat(n.currentTime.Mb(),", ") + ("clock start time ").concat(this.UN.Mb(),", ") + ("distance ").concat(h.Mb()));return [4,this.waitUntil(p)];case 1:(q.kb(),q.label=2);case 2:return [3,4];case 3:(g.N && this.H.warn("PacingThrottler: invalid schedule time " + ("").concat(p.Mb()," for mediaRequest ") + ("@").concat(l.jd.Mb(),", ") + ("current time ").concat(n.currentTime.Mb(),", ") + ("clock start time ").concat(this.UN.Mb(),", ") + ("distance ").concat(h.Mb())),q.label=4);case 4:return [3,7];case 5:h=l.jd.Da(this.aX);if(!h.greaterThan(this.Jya))return [3,7];g.N && this.H.trace(("PacingThrottler: (buffering) waiting until ").concat(this.aX.Z,"ms") + (" for mediaRequest @").concat(l.jd.Z,"ms, ") + ("current time ").concat(n.currentTime.Z));return [4,this.waitUntil(this.aX)];case 6:(q.kb(),q.label=7);case 7:return [3,9];case 8:(this.qV=this.qV.add(l.Wu),q.label=9);case 9:return [3,11];case 10:(this.aX=l.jd,this.qV=l.Wu,q.label=11);case 11:return [2,d];}});});};f.prototype.reset=function(){var d;null === (d=this.qgc) || void 0 === d?void 0:d.xb();};return f;})();b.kOa=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.tRa=void 0;c=a(0);g=a(10);r=(function(){function k(m,f){this.$v=m;this.H=f;}Object.defineProperties(k.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});k.prototype.process=function(m){var f,d,l,n;return c.__awaiter(this,void 0,void 0,function(){var h;return c.__generator(this,function(p){switch(p.label){case 0:if(m.done)return [3,3];h=m.value.value;if(!this.XM || !h.Vs || this.XM.jd === h.jd && this.XM.$8b === h.index)return [3,2];g.N && this.H.trace(("Seamless Throttler: Waiting on request [").concat(h.mediaType,"]"),h.index,"in",null === (f=h.Ua) || void 0 === f?void 0:f.ab.G.id);return [4,this.$v.rgc({mediaType:h.mediaType,to:{stream:h.stream,Y:null === (d=h.Ua) || void 0 === d?void 0:d.ab.G.id},from:{stream:this.XM.stream,Y:this.XM.Y},timestamp:h.jd,C6b:null === (l=this.XM) || void 0 === l?void 0:l.jd})];case 1:(p.kb(),p.label=2);case 2:(this.XM={$8b:h.index,stream:h.stream,jd:h.jd,Y:null === (n=h.Ua) || void 0 === n?void 0:n.ab.G.id},p.label=3);case 3:return [2,m];}});});};k.prototype.reset=function(){};return k;})();b.tRa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xRa=void 0;r=(function(){function a(c,g,k,m,f,d,l,n,h,p){var q;q=this;this.id=c;this.S=g;this.da=k;this.pW=f;this.mm=d;this.ew=l;this.Vp=n;this.kq=h;this.Je=p;this.hP=function(t){var v,w;return (null === (w=null === (v=q.mm) || void 0 === v?void 0:v[t]) || void 0 === w?void 0:w.Wdc) || q.Je;};this.Ta=m || Infinity;}Object.defineProperties(a.prototype,{P:{get:function(){return this.S.P;},enumerable:!1,configurable:!0}});a.prototype.i5a=function(){var c,g,k;c=this;k=Object.keys(this.mm || ({})).filter(function(m){var f,d;return !(null === (d=null === (f=c.mm) || void 0 === f?void 0:f[m]) || void 0 === d || !d.weight);});return k.length?null !== (g=k.map(this.hP).reduce(function(m,f){return m === f?f:void 0;})) && void 0 !== g?g:this.Je:this.Je;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.kq + " viewableId: " + this.S.P + " pts: " + this.da + "-" + this.Ta + " defaultKey: " + this.pW + " dests: " + JSON.stringify(this.mm) + " terminal: " + ! !this.ew;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.S.P,"startPts:":this.da,endPts:this.Ta,defaultKey:this.pW,"dests:":this.mm,terminal:! !this.ew,playlistSegmentId:this.kq};};return a;})();b.xRa=r;},function(r,b,a){var c,g,k,m,f,d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.YEa=void 0;r=a(0);c=r.__importStar(a(11));g=a(195);k=a(76);m=r.__importDefault(a(1054));f=a(423);d=r.__importDefault(a(28));l=r.__importDefault(a(4));a=(function(){function n(h,p,q,t,v,w,u,x,y){var t80,v80,A,u80,z;t80=2;for(;t80 !== 31;){switch(t80){case 34:t80=33;break;case 8:this.$b=this.H.warn.bind(this.H);this.Vj=this.H.trace.bind(this.H);this.L=v;t80=14;break;case 33:this.GM=new f.yha(u,v,this.H);t80=22;break;case 25:t80=u && 1 < u.length && v.Rqa?24:32;break;case 16:q && q.confidence >= t && q.Va && z && this.Oxb(q,p,z);t80=15;break;case 21:var q8W="L";q8W+="R";t80=u80 === q8W?35:34;break;case 22:this.xla=this.GM.faa();t80=32;break;case 27:try{v80=2;for(;v80 !== 4;){switch(v80){case 2:A=new m.default(h,this.H,{bufferSize:l.default.Wp()},v);this.zp.ZBb(A);this.iWa=A;v80=4;break;}}}catch(B){var o8W="Hindsi";o8W+="ght: Erro";o8W+="r when creating QoE";o8W+="Evalua";o8W+="tor: ";a000.G4T(5);h.Gb.Ro(a000.K4T(B,o8W));}t80=26;break;case 35:this.GM=new f.$Ja(u,v,this.H);t80=22;break;case 24:var u8W="ba";u8W+="se";u8W+="l";u8W+="i";u8W+="ne";u80=v.YVb;t80=u80 === u8W?23:21;break;case 32:v.xfa && (this.P5=this.O5=!1);t80=31;break;case 23:this.GM=new f.yha(u,v,this.H);t80=22;break;case 14:this.dXa=this.PTa=null;a000.j4T(18);var a41=a000.K4T(17,933350,66667);this.rVa=0 === Math.floor(a41 * Math.random()) % v.foa;this.OE=this.S7a=this.T7a=this.E7=this.pt=void 0;this.ZCa=this.Bib=this.Cib=this.YCa=this.xdb=this.ydb=0;this.JU=(0,g.$O)(v,w);t80=20;break;case 26:this.xla=!1;t80=25;break;case 2:this.H=p;this.zp=t;this.wc=x;t80=4;break;case 4:var Z8W="1SIYb";Z8W+="Zr";Z8W+="NJ";Z8W+="C";Z8W+="p9";this.uH=y;Z8W;this.zb=h;t80=8;break;case 15:t80=this.uH.Ss?27:26;break;case 20:p=this.KUa(q);void 0 !== p && void 0 !== p.Nl && void 0 !== p.mk && void 0 !== p.Ol && (z=(p.Ol - p.Nl) / p.mk);t=v.mZ?d.default.Qj.QC:d.default.Qj.RC;t80=16;break;}}}var s80;s80=2;for(;s80 !== 24;){switch(s80){case 10:n.prototype.t3b=function(h){var K80;K80=2;for(;K80 !== 1;){switch(K80){case 2:this.L.vO && h === d.default.Sd.J && (this.ZCa=this.YCa=this.Bib=this.Cib=this.xdb=this.ydb=0);K80=1;break;}}};n.prototype.q3b=function(h,p){var L80;L80=2;for(;L80 !== 1;){switch(L80){case 2:h === d.default.Sd.J && (this.egc=p);L80=1;break;}}};n.prototype.tGb=function(h){var M80,p,q,t,v,w;M80=2;for(;M80 !== 6;){switch(M80){case 1:var D8W="n";D8W+="o";D8W+="n";D8W+="e";M80=D8W !== p.RF && !0 !== this.pt && h.state <= p.gxa?5:6;break;case 2:p=this.L;M80=1;break;case 5:t=this.zp.get();M80=4;break;case 3:v=this.KUa(t);M80=9;break;case 4:var T8W="i";T8W+="q";T8W+="r";M80=T8W === p.RF?3:8;break;case 9:void 0 !== v && void 0 !== v.Nl && void 0 !== v.mk && void 0 !== v.Ol && (q=(v.Ol - v.Nl) / v.mk);M80=8;break;case 8:w=p.mZ?d.default.Qj.QC:d.default.Qj.RC;t && t.confidence >= w && this.yla(p.RF,t,v,q) && (this.pt=!0,this.E7=h.state);M80=6;break;}}};s80=18;break;case 2:Object.defineProperties(n.prototype,{faa:{get:function(){var w80;w80=2;for(;w80 !== 1;){switch(w80){case 2:return this.xla;break;case 4:return this.xla;break;w80=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Yza:{get:function(){var x80;x80=2;for(;x80 !== 1;){switch(x80){case 2:return this.iWa;break;}}},enumerable:!1,configurable:!0}});n.prototype.Qhb=function(h,p,q){var y80;y80=2;for(;y80 !== 4;){switch(y80){case 2:this.OE=h;c.ta(p) || (this.T7a=p);c.ta(q) || (this.S7a=q);y80=4;break;}}};n.prototype.JDa=function(h){var z80;z80=2;for(;z80 !== 5;){switch(z80){case 2:this.L=h;this.JU.JDa(h);z80=5;break;}}};n.prototype.yla=function(h,p,q,t){var A80,v;A80=2;for(;A80 !== 7;){switch(A80){case 3:return !1;break;case 5:A80=void 0 !== t?4:3;break;case 1:var n8W="i";n8W+="q";n8W+="r";A80=h === n8W?5:9;break;case 2:v=this.L;A80=1;break;case 4:return ! !(p.Va && q && c.Oa(t) && p.Va.va < v.ZV && t > v.Cha);break;case 8:return p.Va?p.Va.va < v.ZV:!0;break;case 9:var m8W="a";m8W+="v";m8W+="g";A80=h === m8W?8:3;break;}}};n.prototype.$O=function(h){var B80;B80=2;for(;B80 !== 1;){switch(B80){case 2:return h === k.u.J?this.JU.YJ:this.JU.$Z;break;}}};s80=8;break;case 8:n.prototype.mC=function(h){var C80;C80=2;for(;C80 !== 5;){switch(C80){case 2:this.JU.mC(h);this.PTa=h;C80=5;break;}}};n.prototype.kX=function(){var D80;D80=2;for(;D80 !== 1;){switch(D80){case 4:return this.PTa;break;D80=1;break;case 2:return this.PTa;break;}}};n.prototype.EK=function(h){var E80;E80=2;for(;E80 !== 5;){switch(E80){case 2:this.JU.EK(h);this.dXa=h;E80=5;break;}}};n.prototype.OX=function(){var F80;F80=2;for(;F80 !== 1;){switch(F80){case 2:return this.dXa;break;}}};n.prototype.PBb=function(h,p,q,t,v,w){var G80,u;G80=2;for(;G80 !== 5;){switch(G80){case 2:u=this.L;u.xfa && this.Gzb(p) || !q || !t || !(q=w?Math.min(q,t,w):Math.min(q,t)) || (this.zp.get(),t=this.zb.Xa,h=t.wx(t.gd,h),p.track.yv() && h > u.eoa && q === v?(u.set?(u.set({pipelineEnabled:!0}),u.set({maxParallelConnections:1}),u.set({maxActiveRequestsPerSession:2}),u.set({maxPendingBufferLen:500})):(u.Hj=!0,u.VP=1,u.gy=2,u.Zaa=500),p.track.ida({type:p.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:u.dS,minRequestSize:u.AJ}),this.YCa++,u.xfa && (this.O5=!0)):u.Hj && !p.yv() && (h < u.doa || q !== v) && (u.set?(u.set({pipelineEnabled:!0}),u.set({maxParallelConnections:3}),u.set({maxActiveRequestsPerSession:3}),u.set({maxPendingBufferLen:12E3})):(u.Hj=!0,u.VP=3,u.gy=3,u.Zaa=12E3),p.track.ida({type:p.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:u.dS,minRequestSize:u.AJ}),this.ZCa++,u.xfa && (this.P5=!0)));G80=5;break;}}};n.prototype.TBb=function(h,p){var H80,q,t,v;H80=2;for(;H80 !== 6;){switch(H80){case 1:H80=this.rVa?5:6;break;case 2:q=this.L;H80=1;break;case 8:(this.fo.wV[v]=h,this.fo.c1[v]=p);H80=7;break;case 9:H80=void 0 === t || q > t?8:7;break;case 5:void 0 === this.fo && (this.fo={startTime:l.default.time.ia(),wV:[],c1:[],dwa:void 0,Xva:void 0});q=Math.floor((l.default.time.ia() - this.fo.startTime) / q.KV);(t=this.fo.Xva,v=this.fo.dwa?q - this.fo.dwa - 1:q);H80=9;break;case 7:this.fo.Xva=q;H80=6;break;}}};n.prototype.e3b=function(){var I80,h,J80;I80=2;for(;I80 !== 4;){switch(I80){case 1:I80=this.uH.Ss?5:4;break;case 2:h=this.zb;I80=1;break;case 9:h=this.zb;I80=8;break;I80=1;break;case 5:try{J80=2;for(;J80 !== 1;){switch(J80){case 2:(this.zp.x8b(),this.iWa.rd());J80=1;break;}}}catch(p){var s8W="Hindsight";s8W+=": Error ";s8W+="during clea";s8W+="n up: ";a000.G4T(5);h.Gb.Ro(a000.K4T(p,s8W));}I80=4;break;}}};s80=10;break;case 15:n.prototype.Gzb=function(h){var U80,p;U80=2;for(;U80 !== 6;){switch(U80){case 5:return !0;break;case 1:U80=this.O5 && h.yv()?5:4;break;case 4:this.O5 && (this.O5=!1);U80=3;break;case 2:p=this.L;U80=1;break;case 3:U80=this.P5 && p.Hj && !h.yv()?9:8;break;case 9:return !0;break;case 8:this.P5 && (this.P5=!1);return !1;break;}}};n.prototype.KUa=function(h){var V80,W80;V80=2;for(;V80 !== 4;){switch(V80){case 1:h=h.Wg;V80=5;break;case 5:return h;break;case 2:var l8W="tdi";l8W+="ge";l8W+="st";W80=this.L.sua;V80=W80 === l8W?1:3;break;case 9:h=h.xv && h.xv.uca;V80=5;break;case 12:V80=4;break;V80=9;break;case 3:V80=9;break;}}};n.prototype.Oxb=function(h,p,q){var X80,t;X80=2;for(;X80 !== 3;){switch(X80){case 2:t=this.L;this.yla(t.RF,h,p,q)?this.pt=!0:this.pt=!1;this.E7=0;this.yla(t.Hwa,h,p,q) && (this.fYb=!0);X80=3;break;}}};return n;break;case 18:n.prototype.pCb=function(h){var N80;N80=2;for(;N80 !== 1;){switch(N80){case 4:h.pt=this.pt;N80=9;break;N80=1;break;case 2:h.pt=this.pt;N80=1;break;}}};n.prototype.tPb=function(h){var O80,p,q,t,v,w,u,x,y;O80=2;for(;O80 !== 25;){switch(O80){case 2:var F8W="s";F8W+="t";F8W+="artplay";var R8W="l";R8W+="ogd";R8W+="a";R8W+="ta";(p={},q=this.L,t=this.zb,v={type:R8W,target:F8W,fields:{}});v.fields=p;Object.keys(h).forEach(function(z){var P80;P80=2;for(;P80 !== 1;){switch(P80){case 2:p[z]=h[z];P80=1;break;case 4:p[z]=h[z];P80=0;break;P80=1;break;}}});O80=4;break;case 14:p.histdiscbw=this.OE;O80=13;break;case 4:w=this.zp.get();w && w.Va && (w=w.Va.va);p.actualbw=w;p.isConserv=this.pt;p.ccs=this.E7;p.isLowEnd=this.fYb;O80=14;break;case 13:u=this.S7a;O80=12;break;case 12:O80=u?11:16;break;case 18:p.histtdc=u;O80=17;break;case 11:x=function(z){var Q80;Q80=2;for(;Q80 !== 1;){switch(Q80){case 2:return c.Oa(z)?Number(z).toFixed(2):-1;break;}}};w=[x(u.min || void 0),x(u.kca || void 0),x(u.Nl || void 0),x(u.mk || void 0),x(u.Ol || void 0),x(u.lca || void 0),x(u.max || void 0)];O80=20;break;case 16:p.histage=this.T7a;q.Rqa && this.GM && (p.ishighstable=this.xla,p.avg_avtp=this.GM.lEb,p.avg_ne=Number(this.GM.nEb).toFixed(4));t.Nc && (q=l.default.Wp(),p.maxAudioBufferAllowedBytes=q[d.default.Sd.V],p.maxVideoBufferAllowedBytes=q[d.default.Sd.J]);t.emit(v.type,v);O80=25;break;case 17:p.histtd=w;O80=16;break;case 20:y=[];u=c.isArray(u.wj) && u.wj.reduce(function(z,A){var R80,B;R80=2;for(;R80 !== 3;){switch(R80){case 2:B=x(A.kg || void 0);A=x(A.n || void 0);-1 < B && -1 < A && z.push({mean:B,n:A});R80=4;break;case 4:return z;break;}}},y);O80=18;break;}}};n.prototype.uPb=function(h){var S80,p,q,t,v,w,u,x;S80=2;for(;S80 !== 6;){switch(S80){case 9:var N8W="n";N8W+="o";N8W+="n";N8W+="e";h.location={responseTime:u,httpResponseTime:x,bandwidth:w,confidence:t.confidence,name:this.egc};this.rVa && (h.bt={startTime:this.fo.startTime,audioMs:this.fo.wV,videoMs:this.fo.c1},this.fo.wV=[],this.fo.c1=[],this.fo.dwa=this.fo.Xva);N8W !== q.RF && (h.isConserv=this.pt,h.ccs=this.E7);S80=6;break;case 2:(p=this,q=this.L,t=this.zp.get(),v=[]);[d.default.Sd.J,d.default.Sd.V].forEach(function(y){var T80,z;T80=2;for(;T80 !== 4;){switch(T80){case 2:T80=p.wc(y)?1:4;break;case 9:T80=p.wc(y)?4:2;break;T80=p.wc(y)?1:4;break;case 5:void 0 !== z && (y === d.default.Sd.J && (q.vO && (z.parallelDownloadMs=p.ydb,z.parallelDownloadBytes=p.xdb,z.singleDownloadMs=p.Cib,z.singleDownloadBytes=p.Bib,z.switchFromParallelToSingle=p.YCa,z.switchFromSingleToParallel=p.ZCa),t && t.confidence && t.Va && (z.asetput=t.Va,z.aseiqr=t.xv,z.tdigest=t.Wg && t.Wg.cB() || void 0),t && t.avtp && (z.avtp=t.avtp.va)),v.push(z));T80=4;break;case 1:z=p.zb.zUb(y);T80=5;break;}}});h.stat=v;(w=0,u=0,x=0);t.confidence && (w=t.Va?t.Va.va:0,u=t.el?t.el.va:0,x=t.pP?t.pP.va:0);S80=9;break;}}};s80=15;break;}}})();b.YEa=a;},function(r,b,a){var g,k,m;function c(f,d,l,n){this.zb=f;this.H=d;this.Gk=this.H.error.bind(this.H);this.$b=this.H.warn.bind(this.H);this.Vj=this.H.trace.bind(this.H);this.rg=this.H.log.bind(this.H);this.Qvb=new k();this.L=n;this.E5=[];this.W5=void 0;f=n.z$;g.call(this,f.numB * f.bSizeMs,f.bSizeMs);this.sla=!0;}a(28);b=a(4).default;g=a(153);a(450);k=a(1055);new b.Console("ASEJS_QOE_EVAL","media|asejs");m=a(132).DQa || a(132);c.prototype=Object.create(g.prototype);c.prototype.add=function(f,d,l){this.W5 || (this.W5=d);g.prototype.add.call(this,f,d,l);};c.prototype.GRb=function(){var f;if(0 !== this.E5.length){f=[];this.E5.forEach(function(d){d && d.uN && f.push(d.cB());});return f;}};c.prototype.rd=function(){this.E5=[];};c.prototype.FUb=function(){var f,d,l;f=this.get(this.L.z$.fillS);if(0 === f[0] || null === f[0]){f.some(function(h,p){if(h)return (d=h,l=p,!0);});if(d)for(var n=0;n < l;n++){f[n]=d;}}f={trace:f,timestamp:this.W5,sA:this.Vd};this.sla=!1;g.prototype.reset.call(this);this.sla=!0;this.W5=void 0;return f;};c.prototype.dra=function(f){var d,l,n,h,p,q;if(f && !f.uN){l=f.Xu.v9a;l && (f.gAa=this.rna(f),f.gda=!1);if((d=this.FUb()) && d.trace && d.trace.length){n=f.tk.xF;h=d.timestamp;if(h > n){p=d.sA;q=d.trace[0];n=Math.ceil((h - n) / p);d.timestamp=h - n * p;for(h=0;h < n;h++){d.trace.splice(0,0,q);}}d.trace.length && d.trace.pop();}f.xC=d;d.trace && 0 === d.trace.length || void 0 === d.timestamp || (d=this.pFb(f),f.$cb=d,l && d && (f.gda=d.ot),f.uN=!0,this.E5.push(f));}};c.prototype.pFb=function(f){var p,q,t,v;function d(w){var y;for(var u,x=0;x < w.length;x++){y=w[x].reduce(function(z,A){return A.eb?z + 1:z;},0);if(void 0 === u)u=y;else if(y !== u)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(y > u?y - u:u - y) * Math.LOG2E) + "]");}}for(var l=this.L.y$,n={ot:!1,T$:!1,pNb:0},h=0;h < l.length;h++){p=l[h];q=this.Qvb.create(p);if(q){t=m.now();v={};try{d(f.Uy);v=q(f);}catch(w){v.HO=w;}v.QCb=m.now() - t;n[p]=v;n.ot=n.ot || v.ot;n.T$=n.T$ || v.T$;n.HO=n.HO || v.HO;}}return n;};c.prototype.rna=function(f){var d;f=f.Xu;d="";1E3 > f.hp && (d+=f.wmb);1E3 > f.Bs && (d=d + ("" !== d?",":"") + f.oYa);1E3 <= f.hp && 1E3 <= f.Bs && (d="media");return d;};r.exports=c;},function(r,b,a){var k;function c(){}function g(m,f,d){return function(l){l.Wr=f;l.compare=d;return m(l);};}k=a(1056);c.prototype.constructor=c;c.prototype.create=function(m){var f;switch(m){case "htwbr":break;case "htwbr-dlvmaf":f=g(k.TX,!1,k.L_a);break;case "htwbr-segvmaf":f=g(k.TX,!0,k.L_a);break;case "hvmafgr":f=g(k.TX,!1,k.qpa);break;case "hvmafgr-dlvmaf":f=g(k.TX,!1,k.qpa);break;case "hvmafgr-segvmaf":f=g(k.TX,!0,k.qpa);break;case "hvmafdp":f=g(k.dp,!1);break;case "hvmafdp-dlvmaf":f=g(k.dp,!1);break;case "hvmafdp-segvmaf":f=g(k.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return f;};r.exports=c;},function(r,b,a){var q,t,v,w,u,x,y,z,A,B,C;function c(D){var E,G,F;E=D.xC;G=D.tk;F=D.Xu.Ta - G.da;E.timestamp > G.xF && B.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + E.timestamp + " and " + G.xF);D=[];for(var I,L=E.timestamp,M=0;M < E.trace.length;M++){L >= G.xF && (D.push(E.trace[M]),I=E.trace[M]);L+=E.sA;F-=E.sA;}for(;0 < F;){D.push(I);F-=E.sA;}G=E.sA;E=D.length;if(0 === E)E=[];else {for(G=[G / 1E3];2 * G.length <= E;){G=G.concat(G);}G.length < E && (G=G.concat(G.slice(0,E - G.length)));E=G;}return new x(D,E,!1);}function g(D,E,G){E=D.Uy[E][G];return E.ea + D.tk.DV * E.duration / 8;}function k(D){var E,G,F,I,L,M,K,O,H;E=D.tk;G=E.Rn;F=D.Xu;I=F.Hx;M=[];for(F=I=Math.min(F.uJ,I);F >= G;F--){C.update("backward step loop");K=L=D.Uy[0][F].da - D.tk.da;F < I && (q(void 0 !== M[F + 1],"expect solution[(fragIndex + 1)] !== undefined"),K=Math.min(M[F + 1].startTime,K));O=g(D,0,F);H=p(O,K,D.xC,E.xF);if(0 > H)throw Error("Infeasible: reason throughput at min bitrate");O={startTime:H,endTime:K,U7:K,MMb:L,kR:O,Ie:0};O.j4a=F;M[F]=O;}E=0;for(F=G;F <= I;F++){E+=M[F].kR;M[F].zqa=E;}if(!m(D,M,G,I))throw Error("Infeasible: reason buffer capacity at min bitrate");return {ot:!0,Uxa:0 == M.length,Zr:M};}function m(D,E,G,F){var I,L,M,K,O,H,J,R,P,T;for(;G <= F;G++){C.update("checkBuffer");I=D;L=E;M=G;C.update("check buffer vacancy");K=I.tk;O=I.Uy[K.dY];H=I.lZa;J=!0;I=I.RPb(Math.floor(L[M].startTime) + K.da);R=K.cu + L[M].zqa;P=0;T=0;if(I.index < K.Rn){for(var V=0,S=K.qC;S < I.index;S++){V+=O[S].ea;}P+=V;V=0;for(S=K.qC;S < I.index;S++){V+=O[S].duration;}T+=V;}else (P+=K.cu,T+=K.hp);V=0;for(S=K.Rn;S < I.index;S++){V+=L[S].kR;}P+=V;V=0;for(S=K.Rn;S < I.index;S++){V+=O[L[S].j4a].duration;}T+=V;I=R - P;K=O[M].da + O[M].duration - K.da - T;if(K >= H.Dv || I >= H.fmb)J=!1;L[M].uZa=I;L[M].moa=K;if(!J)return !1;}return !0;}function f(D){D=D.tk.ha;for(var E=[],G,F=0;F < D.length;F++){C.update("get prebuffered chunks loop");G=D[F];q(void 0 !== G.eb,"expect frag.vmaf !== undefined");G=new v(G.ea,G.duration / 1E3,G.eb);E.push(G);}return E;}function d(D){var E,G,F,I,L,M,H;E=D.Uy;G=D.tk;F=D.Xu;I=F.Hx;L=D.Rc;M=[];I=Math.min(F.uJ,I);for(var K=0;K < E.length;K++){F=[];for(var O=G.Rn;O <= I;O++){C.update("get chunk map from play segment");H=E[K][O];H=new v(H.ea,H.duration / 1E3,D.Wr && void 0 !== H.eb?H.eb:L[K].eb);F.push(H);}M.push(F);}return new w(M,!1);}function l(D,E,G){q(D.kP() >= E.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var F=0,I=0,L,M,K=0;K < E.length;K++){C.update("calculate twvmaf");q(E[K].a8a === K,"expect stream_choices[idx].i_epoch === idx");M=D.hn[E[K].C$][K];L=void 0 !== G?G(M.quality):M.quality;M=M.Ln;F+=L * M;I+=M;}return {a2a:F / I,$1a:1E3 * I};}function n(D,E,G){q(D.kP() >= E.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var F=0,I=0,L=G.tk.DV,M,K=0,O=0,H=0;H < E.length;H++){C.update("calculate Bytes");q(E[H].a8a === H,"expect stream_choices[idx].i_epoch === idx");M=D.hn[E[H].C$][H];F+=M.ea;I+=L * M.Ln * 1E3 / 8;K+=M.Ln * G.Rc[E[H].C$].bitrate;O+=M.Ln;}return {Z1a:F,W1a:I,Y1a:0 < O?1 * K / O:0};}function h(D,E,G){E=Math.min(D.length - 1,E);E=Math.max(0,E);return D[E] * G / 8;}function p(D,E,G,F){var I,L,M,K,O;I=G.trace;L=1 * G.sA;M=E + F - G.timestamp;K=Math.floor(1 * M / L);E=(M - K * L) / L * h(I,K,L);if(E >= D)O=M - 1 * D / E * (M - K * L);else for(M=K;E < D;){C.update("find download start time");--M;if(0 > M)return -1;K=h(I,M,L);if(E + K >= D){D=(D - E) / K * L;O=(M + 1) * L - D;break;}E+=K;}return O + G.timestamp - F;}q=a(2).assert;t=a(1057);v=a(451).Sob;w=a(451).Tob;u=a(1058).kqb;x=a(452).mvb;y=a(270).fGa;z=a(252).y3;A=a(90).default;B=new (a(4).default.Console)("ASEJS_QOE_EVAL","media|asejs");C=a(132).DQa || a(132);r.exports={TX:function(D){var E,G,F,I,L,M,K,O,H,J,R,P,T,V,S,W,ia,ra,ua,Aa,Ha,U,Z,qa,Fa,Oa,Ra,Pa;B.debug("greedy DEBUG false");C.HBa("greedy-" + (D.Wr?"segvmaf":"dlvmaf") + ": ");try{D.sJ=[];E=D.Uy;G=D.tk;F=D.Xu;I=F.Hx;L=D.Rc;I=Math.min(F.uJ,I);for(K=G.Rn;K <= I;K++){O=new t();D.sJ[K]=O;E[0][K].soa=E[0][K].ea;for(M=1;M < E.length;M++){E[M][K].soa=E[M][K].ea;}M=0;H=E[M][K];H.fF=Infinity;H.mg=M;for(M=1;M < E.length;M++){H=E[M][K];H.mg=M;J=O.baa()?E[0][K]:O.R4b();R=8 * H.soa / H.duration;P=8 * J.soa / J.duration;if(D.Wr && void 0 !== H.eb)(T=H.eb,V=J.eb);else (T=L[M].eb,V=L[J.mg].eb);H.Cv=R - P;H.fF=(T - V) / H.Cv;isFinite(H.fF) && (0 < H.fF || M == E.length - 1) && 0 < H.Cv && O.enqueue(H);}}for(K=G.Rn;K <= I;K++){G=[];S=[];W=[];ia=D.sJ[K].Vn();for(E=0;E < ia.length;E++){H=ia[E];G.push(H.Cv.toFixed(2));D.Wr && void 0 !== H.eb?S.push(H.eb):S.push(L[H.mg].eb);W.push(H.fF.toFixed(4));}}ra=k(D);if(ra.Uxa)return ra;ua=D.tk;Aa=D.Xu;Ha=Aa.Hx;Ha=Math.min(Aa.uJ,Ha);W=[];for(var N=ua.Rn;N <= Ha;N++){D.sJ[N].baa() || W.push(D.sJ[N].hO());}q(void 0 !== D.compare,"playSegment.compare required for greedy");for(var Q=new z(W,D.compare);0 < Q.length;){C.update("upgrade frags");U=Q.pop();a:{Ha=ua=void 0;N=D;W=ra;S=U;Z=N.tk;qa=N.Xu;Fa=Math.min(qa.uJ,qa.Hx);Oa=JSON.parse(JSON.stringify(W.Zr));q(S && Oa[S.index].Ie < S.mg,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");Ha=S.index;ua=Oa[Ha];ua.Ie=S.mg;ua.kR=g(N,ua.Ie,Ha);ua.startTime=p(ua.kR,ua.U7,N.xC,Z.xF);Oa[Ha]=ua;if(0 > ua.startTime)Ra=!1;else {for(Ha=S.index - 1;Ha >= Z.Rn;Ha--){ua=Oa[Ha];Pa=Oa[Ha + 1].startTime;if(ua.U7 <= Pa)break;ua.U7=Pa;ua.startTime=p(ua.kR,ua.U7,N.xC,Z.xF);Oa[Ha]=ua;if(0 > ua.startTime){Ra=!1;break a;}}for(var Va=S.index + 1;Va <= Fa;Va++){Oa[Va].zqa=Oa[Va].kR + (Va > N.tk.Rn?Oa[Va - 1].zqa:0);}for(var bb=S.index + 1;bb <= Fa;bb++){if(Oa[bb].startTime > Oa[S.index].MMb){Fa=bb - 1;break;}}m(N,Oa,S,Math.min(Ha + 1,S.index),Fa)?(W.Zr=Oa,Ra=!0):Ra=!1;}}Ra && (D.sJ[U.index].baa() || Q.push(D.sJ[U.index].hO()));}}finally{delete D.sJ;}for(Fa=qa=Z=Ra=U=Q=0;Fa < ra.Zr.length;Fa++){if(Oa=ra.Zr[Fa])(Pa=D.Uy[Oa.Ie][Oa.j4a],Q+=(Pa.eb?Pa.eb:D.Rc[Oa.Ie].eb) * Pa.duration,U+=Pa.duration,Ra+=Pa.ea,Z+=D.tk.DV * Pa.duration / 8,qa+=Pa.duration * D.Rc[Oa.Ie].bitrate);}ra.a2a=0 < U?1 * Q / U:0;ra.$1a=U;ra.Z1a=Ra;ra.W1a=Z;ra.Y1a=0 < U?1 * qa / U:0;ra.DB=C.c6a();B.debug("Max heap used: " + Math.round(ra.DB / 1024 / 1024) + " MB");return ra;},qpa:function(D,E){if(D.fF < E.fF)return 1;if(D.fF > E.fF)return -1;if(D.Cv > E.Cv)return 1;if(D.Cv < E.Cv)return -1;if(D.index > E.index)return 1;if(D.index < E.index)return -1;throw Error("Invalid frag comparison");},L_a:function(D,E){if(D.Cv > E.Cv)return 1;if(D.Cv < E.Cv)return -1;if(D.index > E.index)return 1;if(D.index < E.index)return -1;throw Error("Invalid frag comparison");},dp:function(D){var E,G,F,I,L,M;C.HBa("dp-" + (D.Wr?"segvmaf":"dlvmaf") + ": ");E=k(D);if(!1 === E.ot || !0 === E.Uxa)return E;G=d(D);F=new u(G);I=f(D);I={lkb:c(D),HYa:D.tk.DV,Abb:0,Xab:240,Wab:8 * D.lZa.fmb / 1E3,rZa:.5,ZYa:new y(I),Y2a:0,Voc:void 0,k7a:void 0,dfb:void 0,VXa:!0};F=F.Jy(I);I=l(G,F,void 0);G=n(G,F,D);L=[];M=D.tk.Rn;F.forEach(function(K){L[M]={Ie:K.C$};M++;});A(I,E);A(G,E);E.Zr=L;E.DB=C.c6a();B.debug("Max heap used: " + Math.round(E.DB / 1024 / 1024) + " MB");return E;}};},function(r){var c;function b(g){this.Mg=a(g);this.uh=this.Of=0;if(c(g)){for(var k=g.length,m=0;m < k;++m){this[m]=g[m];}this.Of=k;}}function a(g){if("number" !== typeof g)if(c(g))g=g.length;else return 16;g=Math.min(Math.max(16,g),1073741824);g=(g >>> 0) - 1;g|=g >> 1;g|=g >> 2;g|=g >> 4;g|=g >> 8;return (g | g >> 16) + 1;}b.prototype.Vn=function(){for(var g=this.Of,k=Array(g),m=this.uh,f=this.Mg,d=0;d < g;++d){k[d]=this[m + d & f - 1];}return k;};b.prototype.push=function(g){var k,m,f,l;k=arguments.length;m=this.Of;if(1 < k){f=this.Mg;if(m + k > f){for(var d=0;d < k;++d){this.I4(m + 1);l=this.uh + m & this.Mg - 1;this[l]=arguments[d];m++;this.Of=m;}return m;}l=this.uh;for(d=0;d < k;++d){this[l + m & f - 1]=arguments[d];l++;}this.Of=m + k;return m + k;}if(0 === k)return m;this.I4(m + 1);d=this.uh + m & this.Mg - 1;this[d]=g;this.Of=m + 1;return m + 1;};b.prototype.pop=function(){var g,k,m;g=this.Of;if(0 !== g){k=this.uh + g - 1 & this.Mg - 1;m=this[k];this[k]=void 0;this.Of=g - 1;return m;}};b.prototype.shift=function(){var g,k,m;g=this.Of;if(0 !== g){k=this.uh;m=this[k];this[k]=void 0;this.uh=k + 1 & this.Mg - 1;this.Of=g - 1;return m;}};b.prototype.unshift=function(g){var k,m,f,l;k=this.Of;m=arguments.length;if(1 < m){f=this.Mg;if(k + m > f){for(var d=m - 1;0 <= d;d--){this.I4(k + 1);f=this.Mg;l=(this.uh - 1 & f - 1 ^ f) - f;this[l]=arguments[d];k++;this.Of=k;this.uh=l;}return k;}l=this.uh;for(d=m - 1;0 <= d;d--){l=(l - 1 & f - 1 ^ f) - f;this[l]=arguments[d];}this.uh=l;this.Of=k + m;return k + m;}if(0 === m)return k;this.I4(k + 1);f=this.Mg;d=(this.uh - 1 & f - 1 ^ f) - f;this[d]=g;this.Of=k + 1;this.uh=d;return k + 1;};b.prototype.R4b=function(){var g;g=this.Of;if(0 !== g)return this[this.uh + g - 1 & this.Mg - 1];};b.prototype.get=function(g){var k;if(g === (g | 0)){k=this.Of;0 > g && (g+=k);if(!(0 > g || g >= k))return this[this.uh + g & this.Mg - 1];}};b.prototype.baa=function(){return 0 === this.Of;};b.prototype.clear=function(){for(var g=this.Of,k=this.uh,m=this.Mg,f=0;f < g;++f){this[k + f & m - 1]=void 0;}this.uh=this.Of=0;};b.prototype.toString=function(){return this.Vn().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.hO=b.prototype.shift;b.prototype.toJSON=b.prototype.Vn;Object.defineProperty(b.prototype,"length",{get:function(){return this.Of;},set:function(){throw new RangeError("");}});b.prototype.I4=function(g){this.Mg < g && this.pAb(a(1.5 * this.Mg + 16));};b.prototype.pAb=function(g){var k,m;k=this.Mg;this.Mg=g;g=this.uh;m=this.Of;if(g + m > k)for((g=g + m & k - 1,m=0);m < g;++m){this[m + k]=this[m + 0];this[m + 0]=void 0;}};c=Array.isArray;r.exports=b;},function(r,b,a){var q,t,v,w,u;function c(x,y,z){this.bZa=this.uwb(x,y,z);}function g(){}function k(){}function m(){}function f(x){this.HGb=x;}function d(){}function l(){}function n(){}function h(){this.vqa={};}function p(x,y){return Array.apply(0,Array(y)).map(function(z,A){return A + x;});}q=a(0);t=a(2).assert;b=a(270).fGa;v=a(452).nvb;w=a(270).uob;new (a(4).default.Console)("ASEJS_QOE_EVAL","media|asejs");u=a(132).DQa || a(132);c.prototype.constructor=c;c.prototype.uwb=function(x,y,z){t(x < y,"expect min_buffer_sec < max_buffer_sec but got " + x + " and " + y);t(0 < z,"expect buffer_step_sec > 0. but got " + z);for(var A=[];x < y;x+=z){A.push(x);}A[A.length - 1] < y && A.push(y);return A;};c.prototype.JE=function(x){return this.vxb(x,this.bZa);};c.prototype.vxb=function(x,y){x=this.pMb(x,y);if(0 === x)throw new g();if(x === y.length)throw new k();return x;};c.prototype.pMb=function(x,y){t(0 < y.length,"expect bins.length > 0 but got " + y.length);if(x < y[0])return 0;if(x >= y[y.length - 1])return y.length;for(var z=1;z < y.length;z++){if(y[z - 1] <= x && x < y[z])return z;}t(!1,"expect not coming here in digitize()");};c.prototype.e$=function(){return p(1,this.bZa.length - 1);};g.prototype=Error();k.prototype=Error();m.prototype=Error();f.prototype.constructor=f;f.prototype.VERSION="0.5";f.prototype.npb=-20;f.prototype.mpb=20;f.prototype.lpb=void 0;f.prototype.gpb=new b(void 0);f.prototype.ipb=0;f.prototype.hpb=1;f.prototype.qpb=!1;f.prototype.kpb=!0;f.prototype.jpb=!0;f.prototype.opb=void 0;f.prototype.epb=!0;f.prototype.fpb=0;f.prototype.Jy=function(x){t(void 0 !== x.lkb,"expect recipe.time_varying_bandwidth !== undefined");return this.rAb(this.HGb,x.lkb,void 0 !== x.Abb?x.Abb:this.npb,void 0 !== x.Xab?x.Xab:this.mpb,void 0 !== x.Wab?x.Wab:this.lpb,void 0 !== x.ZYa?x.ZYa:this.gpb,void 0 !== x.Y2a?x.Y2a:this.ipb,void 0 !== x.rZa?x.rZa:this.hpb,void 0 !== x.tbc?x.tbc:this.qpb,void 0 !== x.dVb?x.dVb:this.kpb,void 0 !== x.k7a?x.k7a:this.jpb,void 0 !== x.dfb?x.dfb:this.opb,void 0 !== x.VXa?x.VXa:this.epb,void 0 !== x.HYa?x.HYa:this.fpb);};f.prototype.rAb=function(x,y,z,A,B,C,D,E,G,F,I,L,M,K){var H,J,R,P,T,ua,Z,qa,Fa,Oa,Ra,Pa,Va,bb,Ab,tb,Db,Na,Xa,Wa,kb;function O(vb){return vb[T];}u.HBa("dp: ");t(z <= C.ii,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");t(C.ii <= A,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");t(z <= D,"expect min_buffer_sec <= end_buffer_sec");t(D <= A,"expect end_buffer_sec <= max_buffer_sec");void 0 !== B && t(C.Jm <= B,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + C.Jm + " and " + B);J=new c(z,A,E);E=new h();R=0;P=C;E.put([0,J.JE(C.ii)],[R,P,void 0,void 0,y,void 0,void 0,void 0]);y=P=0;C=x.ZUb();t(x.kP() == C.length,"expect chunk_map.get_n_epoch() == durations_sec.length");T=-1;try{for(var V=q.__values(C),S=V.next();!S.done;S=V.next()){T+=1;C=!0;for(var W=x.hn.map(O),ia=J.e$(),ra=0;ra < ia.length;ra++){ua=ia[ra];if(E.Pva([T,ua]))for(var Aa=E.get([T,ua]),Ha=Aa[0],N=Aa[1],Q=Aa[4],U=0;U < W.length;U++){Z=W[U];u.update("epoch-ibuf-chunk loop");qa=void 0 !== L?L(Z.quality):Z.quality;Fa=Q.vi();try{Aa=this.axb(N,Z,Fa,K);Oa=Aa[0];Ra=Aa[1];Pa=Aa[2];Va=Aa[3];bb=Aa[4];Ab=Aa[5];}catch(vb){if(vb instanceof v)continue;else if(vb instanceof g){P+=1;continue;}else throw vb;}tb=!1;Db=!1;try{Na=J.JE(Va.ii);F && J.JE(Oa);I && J.JE(Ra);if(void 0 !== B)if(I){if(Pa.Jm > B)throw new m();}else if(Va.Jm > B)throw new m();}catch(vb){if(vb instanceof g)(Na=void 0,P+=1);else if(vb instanceof k)(M?tb=!0:y+=1,Na=void 0);else if(vb instanceof m)(M?Db=tb=!0:y+=1,Na=void 0);else throw vb;}try{if(tb && Db){t(void 0 !== B,"expect max_buffer_kb !== undefined");Xa=I?Pa.Jm - B:Va.Jm - B;t(0 <= Xa,"pause dlnd kb cannot be -ve but is " + Xa);try{Wa=Va.n5b(Xa);}catch(vb){if(vb instanceof w)throw new g();throw vb;}Fa.Idb(Wa);bb+=Wa;t(Va.ii < A,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");Na=J.JE(Va.ii);}else if(tb && !Db){Wa=I?Pa.ii - A + 1E-8:Va.ii - A + 1E-8;t(0 <= Wa,"pause dlnd kb cannot be -ve but is " + Wa);try{Va.aeb(Wa);}catch(vb){if(vb instanceof w)throw new g();throw vb;}Fa.Idb(Wa);bb+=Wa;t(z <= Va.ii,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");t(Va.ii < A,"cur_buffer_queue.total_remain_sec < max_buffer_sec");Na=J.JE(Va.ii);}else Wa=0;}catch(vb){if(vb instanceof g)(Na=void 0,P+=1,Wa=void 0);else if(vb instanceof v)continue;else throw vb;}R=E.Pva([T + 1,Na])?E.get([T + 1,Na])[0]:-Infinity;this.hBb(Va,Na,Z,qa,ua,T + 1,R,E,Ha,U,Fa,bb,Ab,Wa) && (C=!1);}}if(C){--T;break;}}}catch(vb){var fb;fb={error:vb};}finally{try{S && !S.done && (H=V.return) && H.call(V);}finally{if(fb)throw fb.error;}}try{kb=this.AUa(T + 1,J.JE(D),E,G,J);}catch(vb){if(vb instanceof d)try{kb=this.AUa(T + 1,J.JE(D),E,!G,J);}catch(Jb){if(Jb instanceof d){if(P > y)throw new l();throw new n();}throw Jb;}else throw vb;}ua=kb;for(z=[];-1 < T;T--){Aa=E.get([T + 1,ua]);R=Aa[0];P=Aa[1];ua=Aa[3];A=Aa[5];B=Aa[6];D=Aa[7];Aa=Aa[2];Z=x.hn[Aa][T];G=Z.fB();qa=Z.quality;z.unshift({a8a:T,C$:Aa,info:{anc:G,quality:qa,hoa:P.ii,goa:P.Jm,y2a:A,Va:B,Sya:D}});}return z;};f.prototype.AUa=function(x,y,z,A,B){var C,D;C=!1;D=B.e$()[0];for(B=B.e$()[B.e$().length - 1];;){if(y < D || y > B){C=!0;break;}if(z.Pva([x,y]))break;else y=A?y - 1:y + 1;}if(C)throw new d("backtrack fails to find a solution");return y;};f.prototype.hBb=function(x,y,z,A,B,C,D,E,G,F,I,L,M,K){z=G + A * z.Ln;return void 0 !== y && z > D?(E.put([C,y],[z,x,F,B,I,L,M,K]),!0):!1;};f.prototype.axb=function(x,y,z,A){var B,C,D;A=(y.fB() + A) * y.Ln;z=z.UMb(A);A/=z;B=x.ii - z;C=x.ii + y.Ln;D=x.vi();D.add(y,void 0);x=x.vi();x.add(y,void 0);try{x.aeb(z);}catch(E){if(E instanceof w)throw new g();throw E;}return [B,C,D,x,z,A];};d.prototype=Error();l.prototype=new d();n.prototype=new d();h.prototype={zDa:function(x){return x.join(",");},put:function(x,y){this.vqa[this.zDa(x)]=y;},get:function(x){return this.vqa[this.zDa(x)];},Pva:function(x){return (this.zDa(x) in this.vqa);}};r.exports={kqb:f,Zhc:c,yhc:g,zhc:k};},function(r,b,a){var c,g,k,m,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.wRa=void 0;r=a(0);c=r.__importStar(a(11));g=a(6);k=a(6);m=r.__importDefault(a(4));f=a(409);d=a(449);a=(function(){var Y80;Y80=2;for(;Y80 !== 13;){switch(Y80){case 9:l.prototype.Szb=function(n,h){var j90,p,q,t;j90=2;for(;j90 !== 8;){switch(j90){case 1:n.pR(h);n.n9b();j90=4;break;case 9:this.jb.s8.$zb(t,n.ab.S);j90=8;break;case 2:(p=this,t=n.mediaType);j90=1;break;case 4:j90=(null === (q=this.jb.Dk) || void 0 === q?0:q.mP())?3:9;break;case 3:(this.jb.Dk.Em.forEach(function(v){var k90;k90=2;for(;k90 !== 1;){switch(k90){case 4:p.jb.kN(v,~8);k90=8;break;k90=1;break;case 2:p.jb.kN(v,!1);k90=1;break;}}}),this.jb.Dk=void 0);j90=9;break;}}};l.prototype.ela=function(){var l90,n,h;l90=2;for(;l90 !== 4;){switch(l90){case 2:l90=this.wD?1:4;break;case 9:l90=this.wD?4:0;break;l90=this.wD?1:4;break;case 1:(n=this.wD.Pk,h=this.wD.Sb);this.jb.Zh(h) && (this.wD=void 0,this.rK(n,h));l90=4;break;}}};l.prototype.Pn=function(n){var m90,p,q;m90=2;for(;m90 !== 7;){switch(m90){case 2:p=this;null === (q=this.nVa) || void 0 === q?void 0:q.cancel();this.jb.ejb();this.jb.Xa.Gi.Pn(n);k.ag.forEach(function(t){var o90,v;o90=2;for(;o90 !== 9;){switch(o90){case 1:var O8W="skip: not res";O8W+="uming bufferManager, ";O8W+="audio";O8W+=" track switch in pro";O8W+="gress";v=p.jb.Nb.Vg[t];p.jb.Ss && (v.oCa=m.default.time.ia());v.j1?v.$b(O8W):p.jb.Th[t].resume();h(p.jb.Xa.gd,t);o90=9;break;case 2:o90=p.wc(t)?1:9;break;case 7:o90=p.wc(t)?5:8;break;o90=p.wc(t)?1:9;break;}}});this.nVa=n=new f.aM(this.jb.j0());return n.vZ(function(){var q90;q90=2;for(;q90 !== 5;){switch(q90){case 2:p.jb.T.Jd(g.Ia.Wc);p.jb.bV();q90=5;break;}}}).Kgb;break;}}function h(t,v){var n90;n90=2;for(;n90 !== 5;){switch(n90){case 2:var S8W="skip: un";S8W+="expected behaviour - a non-pr";S8W+="esenting branch doesn't have a previous branch";t !== p.jb.Xa.Gi && (t.gj?h(t.gj,v):p.H.error(S8W));(t=t.ue(v)) && t.Pn();n90=5;break;}}}};l.prototype.Wh=function(n){var r90,h,p,q;r90=2;for(;r90 !== 8;){switch(r90){case 1:r90=n < (null !== (h=p.zd) && void 0 !== h?h:p.Vua) || n >= q?5:4;break;case 2:(p=this.jb.Xa.Gi,q=0 < Object.keys(p.G && p.G.mm || ({})).length && !p.Bl?p.Lf - this.jb.L.fQ:p.Lf);r90=1;break;case 4:h=this.jb.Lx(n,k.u.V,!0);n=this.jb.Lx(n,k.u.J,!0);return void 0 !== h && void 0 !== n && h.complete && n.complete;break;case 5:return !1;break;}}};return l;break;case 2:l.prototype.rK=function(n,h){var a90,u,w,x,p,q,t,v;a90=2;for(;a90 !== 50;){switch(a90){case 24:v=this.jb.Fs?this.jb.Xn?Math.min(v[k.u.V].da,v[k.u.J].da):v[k.u.V].da:v[k.u.J].da;a90=23;break;case 13:v=this.jb.Gf;a90=12;break;case 52:var Y8W="se";Y8W+="ek";Y8W+="Delayed";(this.wD={Sb:h,Pk:n},this.jb.emit(Y8W));a90=50;break;case 35:var w8W="s";w8W+="e";w8W+="ekD";w8W+="e";w8W+="layed";this.wD={Sb:t.S.Sb + 1,Pk:n};this.jb.emit(w8W);a90=33;break;case 41:var p8W="se";p8W+="ek";p8W+="Fa";p8W+="i";p8W+="led";var I8W="after seeking, player";I8W+="State no longer STARTING";I8W+=":";I8W+=" ";this.H.warn(I8W + this.jb.T.getState());this.jb.emit(p8W);a90=50;break;case 53:this.jb.L5();a90=43;break;case 39:this.jb.uWa();u=this.jb.Xa.gd.t7(n).OQ;t.Yxa();a90=36;break;case 51:var r8W="se";r8W+="ek";r8W+="Fai";r8W+="l";r8W+="ed";var X8W="seek, no";X8W+=" manifes";X8W+="t at mani";X8W+="f";X8W+="estIndex:";(this.H.warn(X8W,h),this.jb.emit(r8W));a90=50;break;case 17:var Q8W="se";Q8W+="e";Q8W+="kDe";Q8W+="la";Q8W+="yed";this.jb.emit(Q8W);a90=16;break;case 19:a90=!this.jb.$Ta(h)?18:15;break;case 7:a90=(t=this.jb.Zh(h))?6:51;break;case 11:h < v.S.Sb && t.S.Kf.replace && (t.S.Kf.replace=!1);w=this.jb.Xa.gd;k.ag.forEach(function(y){var b90;b90=2;for(;b90 !== 1;){switch(b90){case 2:(y=w.ue(y)) && p.jb.CWa(y);b90=1;break;}}});a90=19;break;case 36:x=this.jb.Xa.gd;k.ag.forEach(function(y){var d90,z;d90=2;for(;d90 !== 5;){switch(d90){case 2:z=x.ue(y);p.wc(y) && p.Szb(z,u[y]);d90=5;break;}}});a90=53;break;case 16:return;break;case 21:a90=!this.jb.l6(t.S.Sb + 1)?35:31;break;case 18:this.wD={Sb:h,Pk:n};a90=17;break;case 32:(n=v,q=n + this.jb.Xa.cg);a90=31;break;case 12:a90=h != v.S.Sb?11:26;break;case 25:a90=v.length?24:52;break;case 2:p=this;null === (q=this.nVa) || void 0 === q?void 0:q.cancel();(t=this.jb.L,v=this.jb.T.Tf());a90=4;break;case 26:v=this.jb.Xa.gd.YW(t.Ta || Infinity,t.S);a90=25;break;case 42:var h8W="s";h8W+="ee";h8W+="k";var C8W="ptsch";C8W+="a";C8W+="n";C8W+="g";C8W+="ed";return (this.jb.emit(C8W,q),this.jb.emit(h8W),this.t6(h),n=v && this.jb.Nb.Lz()?100:0,this.jb.U5(1,n),this.jb.ul(),q);break;case 44:k.ag.forEach(function(y){var c90;c90=2;for(;c90 !== 1;){switch(c90){case 2:p.jb.ex[y].ij(!0);c90=1;break;}}});a90=43;break;case 43:a90=this.jb.T.A9a()?42:41;break;case 4:var L8W=" pla";L8W+="yer";L8W+="Stat";L8W+="e:";L8W+=" ";var d8W=" medi";d8W+="a.cur";d8W+="r";d8W+="ent";d8W+="Pts: ";var M8W=" current";M8W+=" ma";M8W+="nifest: ";var W8W=" ";W8W+="manif";W8W+="estIndex: ";var a8W="s";a8W+="e";a8W+="ek: ";q=n;t.Zi && this.qj.Cn(a8W + n + W8W + h + M8W + this.jb.Gf.S.Sb + d8W + v + L8W + this.jb.T.getState());c.ta(h) && (h=this.jb.Gf.S.Sb);this.jb.Xa.Cgb();a90=7;break;case 27:return;break;case 23:a90=n > v?22:31;break;case 28:a90=(v=this.jb.Gf.S.Sb === h && !this.Uxb(h) && n === t.da)?44:39;break;case 22:a90=t.S.Kf.gg?21:32;break;case 15:a90=this.zx(d.tga.isa(h),!1,!0)?27:26;break;case 31:this.jb.T.Jd(g.Ia.Qh);this.jb.ejb();this.jb.Xa.Mcc(n,h);a90=28;break;case 33:return;break;case 6:!t.S.Kf.YY && 0 < h && (q=this.jb.cW(h,n));this.jb.T.Jd(g.Ia.bm);a90=13;break;}}};l.prototype.seek=function(n,h){var e90,p;e90=2;for(;e90 !== 9;){switch(e90){case 2:p=n;c.ta(h) && (h=this.jb.Gf.S.Sb);this.jb.Xa.Cgb();this.jb.Zh(h).S.Kf.YY || this.jb.NM || (p=this.jb.HA(h,n));return this.rK(p,h);break;}}};l.prototype.zx=function(n,h,p){var f90,q,t;f90=2;for(;f90 !== 9;){switch(f90){case 2:t=this.jb.Xa.zx(n,h);f90=1;break;case 1:f90=h?5:4;break;case 6:f90=h?3:0;break;f90=h?5:4;break;case 5:return t;break;case 14:return t;break;f90=4;break;case 4:var P8W="s";P8W+="e";P8W+="e";P8W+="k";var V8W="pts";V8W+="cha";V8W+="n";V8W+="ge";V8W+="d";t?(this.jb.T.Jd(g.Ia.bm),(n=this.jb.Xa.Gi.children[n]) && this.jb.emit(V8W,null !== (q=n.zd) && void 0 !== q?q:n.Vua),this.jb.T.Jd(g.Ia.Qh),this.jb.emit(P8W),n && this.t6(n.S.Sb),this.jb.U5(1),this.jb.ul(),this.jb.Nb.Lz()):p || (q=this.jb.Xa.hUb(n),this.rK(q));return t;break;}}};l.prototype.Uxb=function(n){var g90;g90=2;for(;g90 !== 1;){switch(g90){case 2:return ! !this.jb.Zh(n).rV;break;}}};l.prototype.t6=function(n){var h90,h;h90=2;for(;h90 !== 4;){switch(h90){case 2:h=this;n=this.jb.Zh(n);n.rV || (n.rV=!0,k.ag.forEach(function(p){var i90;i90=2;for(;i90 !== 1;){switch(i90){case 2:h.jb.Th[p].resume();i90=1;break;}}}),this.jb.L5());h90=4;break;}}};Y80=9;break;}}function l(n,h,p,q){var Z80;Z80=2;for(;Z80 !== 9;){switch(Z80){case 2:var y8W="1";y8W+="SI";y8W+="YbZr";y8W+="NJ";y8W+="Cp9";this.jb=n;this.H=h;this.wc=p;this.qj=q;y8W;Z80=9;break;}}}})();b.wRa=a;},function(r,b,a){var c,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.UHa=void 0;r=a(0);c=r.__importStar(a(11));g=a(6);k=a(6);m=r.__importDefault(a(4));a=(function(){var s90;s90=2;for(;s90 !== 18;){switch(s90){case 8:f.prototype.nUa=function(d,l){var C90,n,h,p,q,t;C90=2;for(;C90 !== 7;){switch(C90){case 5:C90=!t || !q?4:9;break;case 3:return;break;case 4:C90=(this.cb.Xn && this.oUa(d,h,p),this.cb.Fs && this.oUa(d,p,h),q=!p || p.Mi,t=!h || h.Mi,!t || !q)?3:9;break;case 9:var v9W="Sti";v9W+="ll in";v9W+=" buffering stat";v9W+="e while pipeline's a";v9W+="re done";this.cb.T.Jf() && (this.H.warn(v9W),this.cb.Nb.Lz());l || n.ew || d.S.Kf.gg || !this.nGb(d) || ((l=this.cb.T.Jf()) && this.cb.L.eqa && (this.cb.sma(),l=!1),d.h9 || this.cb.Xa.dWb(d,l),d.BN(),d.pGb() && (l=Object.keys(d.children),this.cb.L.v8 && 1 === l.length && !d.children[l[0]].active && this.cb.Xa.fab(d,l[0]),this.Rwb(d,n)));C90=7;break;case 2:(n=d.G,h=d.ue(k.u.J),p=d.ue(k.u.V),q=!p || p.Mi,t=!h || h.Mi);n.Ll || this.cb.Xa.Nba(d,n,d.S.Kf.gg && 0 === d.S.Sb);C90=5;break;}}};f.prototype.Rwb=function(d,l){var D90,w,u,h,p,q,t,v,n;D90=2;for(;D90 !== 23;){switch(D90){case 4:D90=Math.min(h[0] - d.Hka[0],h[1] - d.Hka[1]) >= n.GGb?3:9;break;case 3:d.qM=void 0;D90=8;break;case 18:return;break;case 12:p=v.reduce(function(x,y){var G90;G90=2;for(;G90 !== 4;){switch(G90){case 2:y.Kn=y.ab.Kn;y.oba=Math.min(y.Kn[0],y.Kn[1]);a000.G4T(19);var b41=a000.i4T(39,10,18,10);return [x[0] + y.weight,x[b41] + y.oba];break;}}},[0,0]);(w=p[0],u=p[1]);D90=10;break;case 5:h=d.qM.Kn;D90=4;break;case 9:(p=d.qM,q=l.mm[p.G.id].weight);D90=8;break;case 26:p.Ee || (p.Ee={N$:m.default.time.ia(),hC:0});p.Ee.weight=q;this.nUa(p,!0);D90=23;break;case 7:(t=[],v=[]);c.fg(d.children,function(x,y){var E90;E90=2;for(;E90 !== 5;){switch(E90){case 2:y=l.mm[y].weight;0 !== y && (y={weight:y,ab:x},x.Roa(!0,!0) || v.push(y),t.push(y));E90=5;break;}}});0 === v.length?v=t:2 < v.length && (v.sort(function(x,y){var F90;F90=2;for(;F90 !== 1;){switch(F90){case 2:return y.weight - x.weight;break;}}}),v.length=2);D90=13;break;case 10:0 !== w && 0 !== u?(c.fg(v,function(x){var H90;H90=2;for(;H90 !== 4;){switch(H90){case 2:x.Agc=x.weight / w;x.XEb=x.oba / u;x.usage=x.XEb - x.Agc;H90=4;break;}}}),v.sort(function(x,y){var I90;I90=2;for(;I90 !== 1;){switch(I90){case 2:return x.usage - y.usage;break;}}})):v.sort(function(x,y){var J90;J90=2;for(;J90 !== 4;){switch(J90){case 2:x=Math.min.apply(null,x.ab.Kn);y=Math.min.apply(null,y.ab.Kn);a000.j4T(0);return a000.i4T(x,y);break;}}});D90=20;break;case 27:d.Hka=p.Kn;D90=26;break;case 2:n=this.cb.L;D90=1;break;case 20:D90=0 === v.length?19:17;break;case 1:D90=this.cb.Nc.Aua && d.qM && d.Hka?5:8;break;case 19:var z9W="No s";z9W+="ubbranch candidates to driv";z9W+="e";this.H.warn(z9W);D90=18;break;case 17:p=v[0].ab;q=v[0].weight;d.qM=p;D90=27;break;case 8:D90=!p?7:26;break;case 13:D90=1 < v.length?12:20;break;}}};f.prototype.oUa=function(d,l,n){var K90,h,p,q,t,v,w;K90=2;for(;K90 !== 8;){switch(K90){case 2:(h=this.cb.L,p=l.mediaType);K90=1;break;case 1:K90=!l.Mi?5:8;break;case 5:(q=this.cb.Nb.Vg[p],t=this.cb.Nb.rC[p],v=this.cb.Nb.jy[p]);K90=4;break;case 3:var E9W="Still in bufferin";E9W+="g";E9W+=" state while pipeline does not have vacancy";var t9W="drivePipeline, delaying audio until video ac";t9W+="tua";t9W+="lSta";t9W+="rtPts deter";t9W+="mined";w=this.cb.Gf;c.ta(w.HJ) || (h.jK && p === k.u.V && c.ta(this.cb.Nb.Vg[k.u.J].Ip)?l.$b(t9W):(c.ta(l.ym) && (l.ym=l.sd?l.sd.index:l.Bra(l.Ic)),l.ve && l.ym > l.ve.index?d.S.Kf.gg && c.ta(w.Ta) && c.ta(d.Pc) || (l.Mi || this.cb.CWa(l),d=this.cb.Gf.S.Sb,d < this.cb.YO() - 1 && this.cb.l6(d + 1)):this.P4(l) && (h.YNb && !this.cb.T.Jf() && 0 >= l.wJ?l.Uec(h.H0b):this.pwb(l,n)?(l.pZb=m.default.time.ia(),n=this.cb.Nb.Hta(l),h=n.mg,c.ta(h) || (h=l.track.Rc[h],this.owb(l,h) || ((p=h.J9())?(l.gZb=h.bitrate,l.J_b(h,p,this.cb.T.Jf(),q.Se,n.oy),this.efc(h,v,t),d.Ee && ++d.Ee.hC):h.YF()))):this.cb.T.Jf() && (l.Vj(E9W),this.cb.Nb.Lz()))));K90=8;break;case 4:K90=q.Se && (void 0 === l.QJ || (l.pR(l.QJ,l.T4b),void 0 === l.QJ))?3:8;break;}}};f.prototype.efc=function(d,l,n){var L90;L90=2;for(;L90 !== 4;){switch(L90){case 1:c.Oa(n.Nx) || (n.bfc(d.Pt,d.oB || -1,d.bitrate),c.ta(d.tBa) || this.cb.Sh.Qhb(d.tBa,d.Yp,d.Zp));d.url && (l.hwa=d.url);L90=4;break;case 9:l.awa=d.Zb;L90=9;break;L90=1;break;case 2:l.awa=d.Zb;L90=1;break;}}};f.prototype.owb=function(d,l){var M90,n;M90=2;for(;M90 !== 5;){switch(M90){case 2:n=this.cb.Nb.jy[d.mediaType];return this.cb.YVa && l.Zb && n.awa && l.Zb !== n.awa && (0 < d.Ua.rF || 0 < d.Ua.$t)?!0:!1;break;}}};f.prototype.pwb=function(d,l){var N90,y,n,h,p,q,t,v,w,u,x;N90=2;for(;N90 !== 32;){switch(N90){case 27:return !1;break;case 12:return !1;break;case 15:N90=void 0 === u || u < h.f0b?27:26;break;case 6:n=this.cb.Gf.S;y=this.cb.T.Br(n);N90=13;break;case 26:N90=this.txb(p) >= h.Oab?25:24;break;case 18:return !1;break;case 3:return !1;break;case 8:N90=t >= h.Zaa?7:6;break;case 25:return !1;break;case 34:return !1;break;case 35:N90=(t=1,d.joa < h.FB && (t=h.FB),d.Ua.rF >= t)?34:33;break;case 22:return !1;break;case 33:return 0 < h.Ev && !q && v + (l?y:0) > h.Ev || void 0 !== this.WTa && w > this.WTa || p === k.u.J && n.Kf.gg && w > h.Vaa && (l=this.cb.Nc.yc.get(),l.confidence && l.Va && l.Va.va * d.VN > h.bxa)?!1:!0;break;case 17:u=void 0;l && (u=l.mediaType,x=m.default.Wp()[u],u=h.tfc?this.cb.Xa.gab(q,u).Hg / x:y / x);N90=15;break;case 9:t=d.Ua.Pya;N90=8;break;case 19:N90=this.cb.Nc.Jva?18:17;break;case 11:v=this.cb.Xa.VH(q,p);y=0;N90=20;break;case 2:var x9W="f";x9W+="loored ";x9W+="to 0";var f9W="negative scheduledB";f9W+="uf";f9W+="ferL";f9W+="evel:";(h=this.cb.L,p=d.mediaType,q=d.Eaa,t=this.cb.T.Tf(),v=this.cb.T.getState(),w=this.cb.Xa.wx(q,p),u=d.Ic + q.cg - t);0 > u && (d.$b(f9W,u,x9W),u=0);x=l?l.Ic:0;N90=4;break;case 13:N90=v === g.Ia.Wc && w > h.$wa && !n.Kf.gg && !y && !n.XY || w && t > Math.max(w * h.exa / 100,h.i1b)?12:11;break;case 4:N90=(null === (n=d.Jh) || void 0 === n?0:n.zVb())?3:9;break;case 7:return !1;break;case 21:N90=(q=this.cb.T.Jf())?35:33;break;case 24:u=this.cb.Xa.Ldc();N90=23;break;case 20:N90=l && (y=this.cb.Xa.VH(q,l.mediaType),x=d.Ic - x,this.wc(l.mediaType) && !l.Mi && x >= h.ixa && u > h.Dj)?19:26;break;case 23:N90=!c.ta(h.gy) && u >= h.gy || d.VN + t >= Math.max(h.Dv,this.cb.Nc.e0 + h.gya * q.S.j0b[p])?22:21;break;}}};f.prototype.txb=function(d){var O90;O90=2;for(;O90 !== 1;){switch(O90){case 2:return this.cb.Xa.bb.reduce(function(l,n){var P90;P90=2;for(;P90 !== 1;){switch(P90){case 2:return l + n.aUb(d);break;}}},0);break;}}};s90=10;break;case 2:f.prototype.J4=function(){var u90;u90=2;for(;u90 !== 1;){switch(u90){case 2:this.XG && (clearTimeout(this.XG),this.XG=void 0);u90=1;break;}}};f.prototype.qUa=function(){var v90,d,l,n,h;v90=2;for(;v90 !== 6;){switch(v90){case 2:v90=!this.cb.dj.yma && !this.cb.io()?1:6;break;case 1:var U9W="fi";U9W+="rstDriveStrea";U9W+="ming";void 0 === this.cb.Owb && (this.cb.Owb=!0,this.cb.Gb.Vm(U9W));(d=this.cb.Xa,l=d.gd.ue(k.u.V),n=d.gd.ue(k.u.J),h=!n || n.Mi);(!l || l.Mi) && h && this.cb.NM && d.gHb(n?n.Pc:l.Pc);n=!n || n.ks;v90=9;break;case 9:l && !l.ks || !n || this.cb.NM || (this.cb.Nc.hg && this.cb.Nc.hg.LH(!0,this.cb.Tm.sessionId),this.cb.Gb.zcb());this.nUa(d.gd);v90=7;break;case 7:this.aBb();v90=6;break;}}};f.prototype.MWa=function(){var w90;w90=2;for(;w90 !== 1;){switch(w90){case 2:return this.cb.io() || this.cb.T.C9a() || this.cb.T.B9a()?!0:!1;break;}}};s90=4;break;case 4:f.prototype.P4=function(d){var x90;x90=2;for(;x90 !== 1;){switch(x90){case 2:return this.MWa() || this.cb.Nb.Vg[d.mediaType].j1 || this.cb.kD.nA?!1:!0;break;}}};f.prototype.ul=function(){var y90,d,l;y90=2;for(;y90 !== 5;){switch(y90){case 1:!this.cb.YVa || this.cb.M5 || this.cb.a6 || (this.cb.M5=setTimeout(function(){var z90;z90=2;for(;z90 !== 4;){switch(z90){case 2:clearTimeout(d.cb.M5);d.cb.M5=void 0;d.qUa();z90=4;break;}}},l.dza),l.vO && this.cb.Xn && (this.XG || (this.XG=setTimeout(function(){var A90,n;A90=2;for(;A90 !== 3;){switch(A90){case 2:clearTimeout(d.XG);d.XG=void 0;n=d.cb.Xa.gd.ue(k.u.J);n && d.GTa(n);A90=3;break;}}},l.QBb))));y90=5;break;case 2:(d=this,l=this.cb.L);y90=1;break;}}};f.prototype.GTa=function(d,l){var B90,q,n,h,p;B90=2;for(;B90 !== 3;){switch(B90){case 5:q=this.cb.Nb.Vg[n].Se;q && (this.cb.T.Jf() || this.cb.Sh.PBb(n,q,h.bitrate,p.bitrate,d.$Vb.bitrate,l));B90=3;break;case 1:B90=h && p?5:3;break;case 2:(n=d.mediaType,h=this.cb.Nb.jy[n].oJ,p=d.we.xY);B90=1;break;}}};s90=8;break;case 10:f.prototype.nGb=function(d){var Q90,l,n,h;Q90=2;for(;Q90 !== 4;){switch(Q90){case 2:(l=this,n=this.cb.Xa,h=!0);c.fg(d.G.mm,function(p,q){var R90,t;R90=2;for(;R90 !== 7;){switch(R90){case 5:p=q.cj[k.u.V];t=q.cj[k.u.J];p && t && p.stream.ee && t.stream.ee || (h=!1);l.cb.T.Br(q) || (h=!1);R90=7;break;case 2:R90=(p=n.De(q))?1:8;break;case 8:var B9W="in";B9W+=" d";B9W+="e";B9W+="st";B9W+="s:";var J9W="inv";J9W+="al";J9W+="id";J9W+=" segment";J9W+=":";d.$b(J9W,q,B9W,d.G.mm);R90=7;break;case 1:q=p.S;R90=5;break;}}});return h;break;}}};f.prototype.aBb=function(){var S90,d,l,n;S90=2;for(;S90 !== 5;){switch(S90){case 2:(d=this.cb.L,l=this.cb.Xa,n=l.gd);this.cb.T.Jf() || l.wx(n,k.u.J) < d.eZ || n.S.xDa();S90=5;break;}}};return f;break;}}function f(d,l,n){var t90;t90=2;for(;t90 !== 9;){switch(t90){case 2:this.cb=d;t90=1;break;case 1:var K9W="1";K9W+="SI";K9W+="Y";K9W+="bZ";K9W+="rNJCp9";this.H=l;this.wc=n;K9W;this.WTa=this.XG=void 0;t90=9;break;}}}})();b.UHa=a;},function(r,b,a){var c,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.xLa=void 0;c=a(185);g=a(6);k=a(6);m=a(8);r=(function(){function f(d,l,n,h){var U90;U90=2;for(;U90 !== 8;){switch(U90){case 2:this.jc=d;this.H=l;this.wc=n;U90=4;break;case 4:var i9W="1";i9W+="SI";i9W+="Yb";i9W+="ZrNJC";i9W+="p9";this.uH=h;this.VVa=this.yma=!1;i9W;U90=8;break;}}}var T90;T90=2;for(;T90 !== 6;){switch(T90){case 9:f.prototype.flush=function(){var d01,h,p,q,t,v,d,l,n,e01;d01=2;for(;d01 !== 16;){switch(d01){case 1:d01=n?5:19;break;case 5:(h={},p=n.get(),q={});p && p.avtp && p.avtp.va && (h.avtp=p.avtp.va,h.dltm=p.avtp.p8,q.avtp=h.avtp);p && p.initialThroughput && p.initialThroughput.va && (h.initial_avtp=p.initialThroughput.va);p && p.cdnavtp && (h.cdnavtp=p.cdnavtp,h.activecdnavtp=p.activecdnavtp);n.flush();(t=n.v5a(),v=n.kXa);d01=6;break;case 2:(l=this.jc.L,n=this.jc.Nc.yc);d01=1;break;case 6:d01=t?14:13;break;case 14:for(var w in t){var g9W="n";g9W+="e";var j9W="n";j9W+="e";var G9W="n";G9W+="e";t.hasOwnProperty(w) && (h[G9W + w]=Number(t[w]).toFixed(6),q[j9W + w]=1 * h[g9W + w]);}d01=13;break;case 13:var b9W="endp";b9W+="la";b9W+="y";var A9W="l";A9W+="og";A9W+="d";A9W+="a";A9W+="ta";v && v.length && (h.activeRequests=JSON.stringify(v));h.aseApiVersion=this.jc.K6;l.P2a && (n=n.Q9()) && (n.bytesRequestedPacingVideo && (h.bytesRequestedPacingVideo=n.bytesRequestedPacingVideo,h.estimatedBytesPacedVideo=n.estimatedBytesPacedVideo,h.bytestotalVideo=n.bytestotalVideo,h.pacedAvtpVideo=n.pacedAvtpVideo),n.bytesRequestedPacingAudio && (h.bytesRequestedPacingAudio=n.bytesRequestedPacingAudio,h.estimatedBytesPacedAudio=n.estimatedBytesPacedAudio,h.bytestotalAudio=n.bytestotalAudio,h.pacedAvtpAudio=n.pacedAvtpAudio),n.pacedAvtp && (h.pacedAvtp=n.pacedAvtp));Object.keys(h).length && (h={type:A9W,target:b9W,fields:h},(0,m.gb)(this.jc,h.type,h));d01=20;break;case 19:this.jc.Gb.LVa();d01=18;break;case 18:d01=this.uH.Ss?17:16;break;case 17:try{e01=2;for(;e01 !== 1;){switch(e01){case 2:this.jc.fra(g.Ia.gD);e01=1;break;}}}catch(u){var e9W="Hind";e9W+="sight: Error e";e9W+="valuating ";e9W+="QoE ";e9W+="at stopping: ";a000.G4T(5);this.jc.Gb.Ro(a000.i4T(u,e9W));}d01=16;break;case 20:var u9W="en";u9W+="d";u9W+="pl";u9W+="a";u9W+="y";var o9W="l";o9W+="ogda";o9W+="ta";var q9W="through";q9W+="p";q9W+="ut-s";q9W+="w";var k9W="th";k9W+="roughpu";k9W+="t";k9W+="-s";k9W+="w";var H9W="throughp";H9W+="u";H9W+="t-";H9W+="sw";var c9W="thro";c9W+="ughpu";c9W+="t-";c9W+="sw";l.NW && (p && p[c9W] && p[H9W].va && this.jc.cw.fCb({avtp:p[k9W].va,variance:p[q9W].ye}),this.jc.cw.$Bb(q,null === (d=p.avtp) || void 0 === d?void 0:d.p8),d=this.jc.cw.VRb(),l=this.jc.cw.kUb(),d && (d.n=l,d={type:o9W,target:u9W,fields:{ibef:d}},(0,m.gb)(this.jc,d.type,d),this.jc.cw.save()));d01=19;break;}}};f.prototype.io=function(){var f01;f01=2;for(;f01 !== 1;){switch(f01){case 2:return this.VVa || this.jc.Xa.Wk;break;}}};return f;break;case 2:f.prototype.play=function(){var V90,d;V90=2;for(;V90 !== 5;){switch(V90){case 2:var T9W="p";T9W+="l";T9W+="a";T9W+="y";var Z9W="play called after pipelines a";Z9W+="lr";Z9W+="ea";Z9W+="dy shutdown";d=this;this.io()?this.H.warn(Z9W):(this.jc.T.Jd(g.Ia.Wc),this.jc.GAb(),this.jc.Nb.Vg.forEach(function(l){var W90;W90=2;for(;W90 !== 1;){switch(W90){case 2:var D9W="play: not resuming bu";D9W+="fferManager, ";D9W+="audio track switch in";D9W+=" progress";d.wc(l.mediaType) && (l.j1?l.$b(D9W):(d.jc.Th[l.mediaType].resume(),d.jc.ex[l.mediaType].resume()));W90=1;break;}}}),this.jc.bV(),this.jc.emit(T9W));V90=5;break;}}};f.prototype.stop=function(){var X90,h,d,l,n;X90=2;for(;X90 !== 6;){switch(X90){case 8:var n9W="s";n9W+="t";n9W+="o";n9W+="p";k.ag.forEach(function(p){var Z90;Z90=2;for(;Z90 !== 1;){switch(Z90){case 2:(p=d.jc.Th[p]) && p.pause();Z90=1;break;}}});this.jc.emit(n9W);X90=6;break;case 3:h=this.jc.Xa.gd;k.ag.forEach(function(p){var Y90;Y90=2;for(;Y90 !== 5;){switch(Y90){case 2:Y90=(p=h.ue(p))?1:5;break;case 1:p.Mi=!1;Y90=5;break;case 3:Y90=(p=h.ue(p))?4:0;break;Y90=(p=h.ue(p))?1:5;break;}}});X90=8;break;case 2:(d=this,l=this.jc.T.C9a(),n=this.jc.T.B9a());this.jc.T.Jd(g.Ia.gD);this.jc.J4();l || n || this.jc.Xa.Gi.Ny(!1,this.jc.T);X90=3;break;}}};f.prototype.suspend=function(){var a01;a01=2;for(;a01 !== 1;){switch(a01){case 2:this.yma=!0;a01=1;break;}}};f.prototype.resume=function(){var b01;b01=2;for(;b01 !== 5;){switch(b01){case 2:this.yma=!1;this.jc.mh.ul();b01=5;break;}}};f.prototype.close=function(){var c01,d;c01=2;for(;c01 !== 6;){switch(c01){case 2:d=this.jc.L;this.VVa=!0;c01=5;break;case 5:var l9W="en";l9W+="d";l9W+="p";l9W+="lay";var s9W="lo";s9W+="gda";s9W+="ta";var m9W="c";m9W+="l";m9W+="os";m9W+="e";this.stop();this.jc.emit(m9W);d.S2a && (d=c.ez.instance().Jb()) && (d={type:s9W,target:l9W,fields:{bridgestat:d}},(0,m.gb)(this.jc,d.type,d));this.jc.Nc.hg && this.jc.Nc.hg.LH(!0,this.jc.Tm.sessionId,!0);this.jc.Gb.zcb();this.jc.D8b();c01=6;break;}}};T90=9;break;}}})();b.xLa=r;},function(r,b,a){var c,g,k,m,f,d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.BNa=void 0;r=a(0);c=r.__importStar(a(11));g=a(129);k=r.__importDefault(a(28)).default.Sd;m=a(6);f=r.__importDefault(a(4));d=a(8);l=a(2);a=(function(){function n(h,p){var h01;h01=2;for(;h01 !== 4;){switch(h01){case 2:var R9W="1";R9W+="SI";R9W+="Yb";R9W+="ZrNJCp";R9W+="9";this.ob=h;this.H=p;R9W;h01=4;break;}}}var g01;g01=2;for(;g01 !== 38;){switch(g01){case 30:n.prototype.Jyb=function(){var Q01,h;Q01=2;for(;Q01 !== 5;){switch(Q01){case 2:var F9W="ase";F9W+="report";F9W+="enabled";h={type:F9W};(0,d.gb)(this.ob,h.type,h);Q01=5;break;}}};n.prototype.Tyb=function(h){var R4W=a000;var R01,p,q,t,v,w,u,x,y,z,A,B,C,D,E,G,F,I,L,M,O,H;R01=2;for(;R01 !== 6;){switch(R01){case 1:var N9W="hin";N9W+="dsigh";N9W+="tre";N9W+="por";N9W+="t";(p={type:N9W},q=this.ob.L.y$);for(O in q){var w9W="h";w9W+="vm";w9W+="a";w9W+="fd";w9W+="p";var Y9W="h";Y9W+="v";Y9W+="m";Y9W+="afg";Y9W+="r";var S9W="hv";S9W+="maft";S9W+="b";var O9W="h";O9W+="tw";O9W+="b";O9W+="r";t=q[O];v=0;w=0;u=0;x=0;y=0;z=0;A=void 0;B=void 0;C=!1;D=-1;E=-1;G=-1;F=-1;I=-1;L=-1;for(M in h){B=h[M];void 0 === B.nd && (A=(A=B.sols) && A[t]) && (C=!0,u+=A.dlvdur,v+=A.dltwbr * A.dlvdur,w+=A.dlvmaf * A.dlvdur);z+=B.pbdur;x+=B.pbtwbr * B.pbdur;y+=B.pbvmaf * B.pbdur;A=B.rr;B=B.ra;}0 < z && (D=1 * x / z,F=1 * y / z);C && (0 < u && (E=1 * v / u,I=1 * w / u),0 < u + z && (G=1 * (v + x) / (u + z),L=1 * (w + y) / (u + z)));switch(t){case O9W:p.htwbr=G;p.hptwbr=E;p.pbtwbr=D;A && (p.rr=A,p.ra=B);break;case S9W:p.hvmaftb=L;p.hpvmaftb=I;p.pbvmaftb=F;A && (p.rrvmaftb=A,p.ravmaftb=B);break;case Y9W:p.hvmafgr=L;p.hpvmafgr=I;p.pbvmafgr=F;A && (p.rrvmafgr=A,p.ravmafgr=B);break;case w9W:(p.hvmafdp=L,p.hpvmafdp=I,p.pbvmafdp=F,A && (p.rrvmafdp=A,p.ravmafdp=B));}}R01=4;break;case 2:R01=h?1:6;break;case 9:R01=this.ob.Iy?8:7;break;case 3:p.report=h;R01=9;break;case 8:for(var K in h){if((q=h[K],void 0 !== q.Lib))for(t in q.Lib){if((A=q.Lib[t],void 0 !== A.Cea)){var r9W=" ";r9W+="a";r9W+="n";r9W+="d";r9W+=" ";var X9W="expect s";X9W+="ol.strmsel.length === sol";X9W+=".fragsel.length bu";X9W+="t";X9W+=" got ";var p9W="expect report.fr";p9W+="agmentsPr";p9W+="e";p9W+="buffered !== undefined";var I9W="expe";I9W+="ct report.frag";I9W+="mentsPrebuffered";I9W+=" !==";I9W+=" undefined";(v=void 0 !== q.n4a) || (console.error(I9W),(0,l.assert)(v,p9W));O=[];for(H in q.n4a){v=q.n4a[H];O.push({ea:v.ea,Ln:v.duration / 1E3,quality:v.eb});}v=A.Cea.length === A.o4a.length;w=X9W + A.Cea.length + r9W + A.o4a.length;v || (console.error(w),(0,l.assert)(v,w));O=[];v=0;for(var J in A.Cea){u=A.Cea[J];w=A.o4a[J];R4W.G4T(5);v=u=R4W.i4T(u,v);O.push({Crc:u,gsc:A.y2a[J],coc:A.Va[J],hoa:A.hoa[J],goa:A.goa[J],qZa:A.qZa[J],unc:{ea:w.ea,Ln:w.duration / 1E3,quality:w.eb?w.eb:A.Rc[u].eb,Jrc:w.mg,vnc:w.ze},Afb:0,crc:0,Sya:A.Sya[J]});}A=[];O=0;for(var R in q.xC.trace){v=q.xC.trace[R];R4W.j4T(5);O=v=R4W.i4T(v,O);A.push(v);}}}}R01=7;break;case 4:R01=this.ob.KW || this.ob.Iy?3:9;break;case 7:(0,d.gb)(this.ob,p.type,p);R01=6;break;}}};n.prototype.Pyb=function(h){var S01;S01=2;for(;S01 !== 5;){switch(S01){case 2:var Q9W="end";Q9W+="O";Q9W+="fStr";Q9W+="eam";h={type:Q9W,mediaType:h};(0,d.gb)(this.ob,h.type,h);S01=5;break;}}};n.prototype.Ro=function(h){var T01;T01=2;for(;T01 !== 1;){switch(T01){case 2:var h9W="a";h9W+="s";h9W+="eex";h9W+="ception";var C9W="ase";C9W+="excep";C9W+="t";C9W+="i";C9W+="on";this.ob.emit(C9W,{type:h9W,msg:h});T01=1;break;}}};g01=43;break;case 18:n.prototype.Yyb=function(h,p){var z01,q;z01=2;for(;z01 !== 3;){switch(z01){case 2:var W9W="notif";W9W+="y";W9W+="Manif";W9W+="estSelected: ";var a9W="man";a9W+="if";a9W+="estSelec";a9W+="te";a9W+="d";q=this.ob.L;h={type:a9W,index:h,replace:p.S.Kf.replace,ptsStarts:p.OQ,streamingOffset:p.da + p.dy};q.Zi && (p=W9W + JSON.stringify(h),q.Zi && this.Cn(p));(0,d.gb)(this.ob,h.type,h);z01=3;break;}}};n.prototype.Wyb=function(h,p,q,t,v){var A01;A01=2;for(;A01 !== 4;){switch(A01){case 2:var M9W="manife";M9W+="stP";M9W+="resenting";h={type:M9W,index:h.Sb,pts:Math.floor(p),movieId:h.K,replace:h.Kf.replace,contentOffset:q};null != t && null != v && (h.previousMovieId=t,h.previousIndex=v);(0,d.gb)(this.ob,h.type,h);A01=4;break;}}};g01=16;break;case 27:n.prototype.izb=function(h,p,q,t,v){var D01;D01=2;for(;D01 !== 4;){switch(D01){case 2:var d9W="updat";d9W+="e";d9W+="StreamingPts";p={type:d9W,mediaType:h,manifestIndex:p,trackIndex:q,movieTime:Math.floor(t),segmentId:v};g.Zn.sr(h);(0,d.gb)(this.ob,p.type,p);D01=4;break;}}};n.prototype.Qyb=function(h){var E01;E01=2;for(;E01 !== 5;){switch(E01){case 2:var L9W="f";L9W+="irs";L9W+="tRequestAppended";h={type:L9W,manifestIndex:h.Ua.ab.S.Sb,mediatype:h.mediaType,time:f.default.time.ia()};(0,d.gb)(this.ob,h.type,h);E01=5;break;}}};n.prototype.Uyb=function(h,p){var F01;F01=2;for(;F01 !== 5;){switch(F01){case 2:var V9W="initi";V9W+="a";V9W+="lAudioTrac";V9W+="k";h={type:V9W,trackId:p,trackIndex:h};(0,d.gb)(this.ob,h.type,h);F01=5;break;}}};n.prototype.Lyb=function(h,p){var G01;G01=2;for(;G01 !== 3;){switch(G01){case 2:var P9W="audioTra";P9W+="ckSwitc";P9W+="hS";P9W+="tarted";h=h.vm;p=p.vm;p={type:P9W,oldLangCode:h.language,oldNumChannels:h.channels,newLangCode:p.language,newNumChannels:p.channels};(0,d.gb)(this.ob,p.type,p);G01=3;break;}}};g01=23;break;case 12:n.prototype.czb=function(h,p){var u01;u01=2;for(;u01 !== 5;){switch(u01){case 2:var y9W="segm";y9W+="e";y9W+="nt";y9W+="Appended";p={type:y9W,segmentId:h.id,metrics:p};h.yF || (0,d.gb)(this.ob,p.type,p);u01=5;break;}}};n.prototype.dzb=function(h,p,q){var v01;v01=2;for(;v01 !== 5;){switch(v01){case 2:var v1W="segm";v1W+="entCom";v1W+="p";v1W+="le";v1W+="te";h={type:v1W,mediaType:h,manifestIndex:p,segmentId:q.id};(0,d.gb)(this.ob,h.type,h);v01=5;break;}}};n.prototype.Qla=function(h,p){var w01;w01=2;for(;w01 !== 5;){switch(w01){case 2:var z1W="l";z1W+="ast";z1W+="S";z1W+="egme";z1W+="ntPts";p={type:z1W,segmentId:h.id,pts:Math.floor(p)};h.yF || (0,d.gb)(this.ob,p.type,p);w01=5;break;}}};n.prototype.Xyb=function(h,p,q,t,v){var x01;x01=2;for(;x01 !== 5;){switch(x01){case 2:var t1W="m";t1W+="ani";t1W+="festRang";t1W+="e";h={type:t1W,index:h,manifestOffset:p,startPts:Math.floor(q),endPts:Math.floor(t),maxPts:Math.floor(v)};(0,d.gb)(this.ob,h.type,h);x01=5;break;}}};n.prototype.OVa=function(h){var y01;y01=2;for(;y01 !== 5;){switch(y01){case 1:(0,d.gb)(this.ob,h.type,h);y01=5;break;case 2:var E1W="ma";E1W+="x";E1W+="Bit";E1W+="rates";h={type:E1W,audio:h[m.u.V],video:h[m.u.J]};y01=1;break;}}};g01=18;break;case 7:n.prototype.C5=function(h,p){var p01;p01=2;for(;p01 !== 5;){switch(p01){case 2:var f1W="s";f1W+="egment";f1W+="S";f1W+="ta";f1W+="rting";p={type:f1W,segmentId:h.id,contentOffset:p,maxBitrates:{audio:h.S.vt[m.u.V],video:h.S.vt[m.u.J]}};h.yF || (0,d.gb)(this.ob,p.type,p);p01=5;break;}}};n.prototype.Rla=function(h){var q01,p;q01=2;for(;q01 !== 5;){switch(q01){case 2:var x1W="se";x1W+="gmentAb";x1W+="orted";p={type:x1W,segmentId:h.id};h.yF || (0,d.gb)(this.ob,p.type,p);q01=5;break;}}};n.prototype.uxb=function(h,p){var r01,q,t;r01=2;for(;r01 !== 12;){switch(r01){case 6:q.atTransition=p.Gkb;q.srcsegmentduration=this.ob.Xa.gUb(p.oea);return q;break;case 9:var U1W="sea";U1W+="mles";U1W+="s";p.mqa || (q.delayToTransition=p.h8);t=U1W === t?0:f.default.time.ia() - p.startTime;q.durationOfTransition=t;r01=6;break;case 2:var G1W="r";G1W+="es";G1W+="e";G1W+="t";var i1W="sk";i1W+="i";i1W+="p";var K1W="l";K1W+="o";K1W+="n";K1W+="g";var B1W="l";B1W+="o";B1W+="n";B1W+="g";var J1W="sea";J1W+="m";J1W+="le";J1W+="ss";(q={segment:h,srcsegment:p.oea,srcoffset:p.yR,seamlessRequested:p.He,atRequest:{},discard:{}},t=p.Ee[h]);t?q.atRequest={weight:t.weight,abuflmsec:t.Ks.Bs,vbuflmsec:t.Ks.hp,abuflbytes:t.Ks.KD,vbuflbytes:t.Ks.cu}:(t=this.ob.Xa.L6a(p.oea,h),void 0 !== t && (q.atRequest.weight=t));c.fg(p.Ee,function(v,w){var s01;s01=2;for(;s01 !== 1;){switch(s01){case 2:w != h && (q.discard[w]={weight:v.weight,abuflmsec:v.Ks.Bs,vbuflmsec:v.Ks.hp,abuflbytes:v.Ks.KD,vbuflbytes:v.Ks.cu});s01=1;break;}}});t=p.He?p.UX?J1W:B1W:p.Wbb?K1W:p.Pn?i1W:G1W;q.transitionType=t;r01=9;break;}}};n.prototype.ezb=function(h,p,q){var t01;t01=2;for(;t01 !== 4;){switch(t01){case 2:var j1W="segmentPrese";j1W+="nti";j1W+="ng";q=q?this.uxb(h.id,q):void 0;h={type:j1W,segmentId:h.id,contentOffset:p,metrics:q,playlistSegment:h.yF,manifestIndex:h.S.Sb};(0,d.gb)(this.ob,h.type,h);t01=4;break;}}};g01=12;break;case 34:n.prototype.MVa=function(){var M01,h,w,u,p,q,t,v;M01=2;for(;M01 !== 12;){switch(M01){case 2:h=this.ob.L;M01=1;break;case 8:var g1W="upd";g1W+="ate";g1W+="BufferL";g1W+="ev";g1W+="el";(w=this.ob.Xa,u=w.VH(p,m.u.V));p=w.VH(p,m.u.J);q={type:g1W,abuflbytes:u,vbuflbytes:p,totalabuflmsecs:q,totalvbuflmsecs:t,currentBandwidth:v};t > h.rbb && this.ob.Nc.hg && this.ob.Nc.hg.LH(!0,this.ob.Tm.sessionId);M01=13;break;case 1:M01=!this.ob.io()?5:12;break;case 5:(p=this.ob.Xa.gd,q=p.Ah(m.u.V),t=p.Ah(m.u.J));this.ob.Sh.TBb(q,t);v=this.ob.Nc.yc.get();v=v.confidence?v.Va.va:0;M01=8;break;case 13:(0,d.gb)(this.ob,q.type,q);M01=12;break;}}};n.prototype.fyb=function(h){var N01,p,q,t;N01=2;for(;N01 !== 7;){switch(N01){case 2:N01=!c.ta(h)?1:7;break;case 1:c.Oa(h.x0);N01=5;break;case 4:(p=h.y3a - this.OM.y3a,q=h.O7a - this.OM.O7a,t=h.edb - this.OM.edb);N01=3;break;case 3:var c1W=",";c1W+=" osAllocatorDelt";c1W+="a: ";var e1W=", js";e1W+="Heap";e1W+="Delta";e1W+=": ";var b1W=", fas";b1W+="tMa";b1W+="llocDel";b1W+="ta:";b1W+=" ";var A1W="memo";A1W+="ryUs";A1W+="age at ";A1W+="t";A1W+="ime: ";(4194304 < p || 4194304 < t) && this.H.warn(A1W + f.default.time.ia() + b1W + p + e1W + q + c1W + t);N01=9;break;case 5:N01=!c.ta(this.OM)?4:8;break;case 9:var k1W=", sy";k1W+="st";k1W+="e";k1W+="mDelta";k1W+=": ";var H1W="memor";H1W+="yUs";H1W+="age at time: ";c.Oa(h.x0) && c.Oa(this.OM.x0) && (p=h.x0 - this.OM.x0,4194304 < p && this.H.warn(H1W + f.default.time.ia(),k1W + p));N01=8;break;case 8:this.OM=h;N01=7;break;}}};n.prototype.jzb=function(){var O01,h;O01=2;for(;O01 !== 3;){switch(O01){case 2:var q1W="str";q1W+="eami";q1W+="ngstat";this.ob.L.l_b && f.default.memory.BSb(this.fyb.bind(this));h={type:q1W,time:f.default.time.ia(),playbackTime:this.ob.T.Tf()};this.ob.Sh.uPb(h);(0,d.gb)(this.ob,h.type,h);O01=3;break;}}};n.prototype.LVa=function(){var P01,h;P01=2;for(;P01 !== 4;){switch(P01){case 2:P01=this.ob.Kt?1:4;break;case 1:var o1W="as";o1W+="e";o1W+="repo";o1W+="r";o1W+="t";h={type:o1W};P01=5;break;case 5:this.ob.Kt.sPb(h) && (0,d.gb)(this.ob,h.type,h);P01=4;break;}}};g01=30;break;case 2:n.prototype.Vm=function(h){var i01;i01=2;for(;i01 !== 5;){switch(i01){case 2:var u1W="s";u1W+="t";u1W+="artEv";u1W+="ent";h={type:u1W,event:h,time:f.default.time.ia()};(0,d.gb)(this.ob,h.type,h);i01=5;break;}}};n.prototype.azb=function(){var j01,h;j01=2;for(;j01 !== 5;){switch(j01){case 2:var Z1W="ope";Z1W+="nComple";Z1W+="t";Z1W+="e";h={type:Z1W};(0,d.gb)(this.ob,h.type,h);j01=5;break;}}};n.prototype.bzb=function(h,p,q,t,v){var k01;k01=2;for(;k01 !== 1;){switch(k01){case 2:var D1W="pt";D1W+="s";D1W+="Star";D1W+="ts";this.ob.L.uMb || (h={type:D1W,manifestIndex:h,mediaType:p,movieId:t,streamId:q,ptsStarts:v.Zib()},(0,d.gb)(this.ob,h.type,h));k01=1;break;}}};n.prototype.Syb=function(h,p){var l01;l01=2;for(;l01 !== 5;){switch(l01){case 2:var T1W="headerC";T1W+="ac";T1W+="heHit";h={type:T1W,movieId:h,streamId:p};(0,d.gb)(this.ob,h.type,h);l01=5;break;}}};n.prototype.Ryb=function(h,p,q,t,v){var m01,w;m01=2;for(;m01 !== 3;){switch(m01){case 2:var n1W="headerC";n1W+="ac";n1W+="he";n1W+="Dat";n1W+="aHit";w=this.ob.VUa;this.ob.VUa=void 0;h={type:n1W,movieId:h,audio:p,audioFromMediaCache:t,video:q,videoFromMediaCache:v,actualStartPts:w && w.Ip,headerCount:w && w.nP,stats:w && w.bc};(0,d.gb)(this.ob,h.type,h);m01=3;break;}}};n.prototype.Zyb=function(h,p,q,t){var n01;n01=2;for(;n01 !== 5;){switch(n01){case 2:var m1W="maxPo";m1W+="sit";m1W+="ion";h={type:m1W,index:h,endPts:p,maxPts:q,maxSeekPts:t};n01=1;break;case 1:(0,d.gb)(this.ob,h.type,h);n01=5;break;}}};n.prototype.hzb=function(h,p,q,t,v,w,u){var o01;o01=2;for(;o01 !== 3;){switch(o01){case 4:(0,d.gb)(this.ob,h.type,h);o01=3;break;case 2:var l1W="notify";l1W+="Streami";l1W+="ngErr";l1W+="or: ";var s1W="e";s1W+="r";s1W+="r";s1W+="o";s1W+="r";void 0 === u && (u=!1);h={type:s1W,error:h,errormsg:p,networkErrorCode:q,httpCode:t,nativeCode:v,manifestIndex:w,temporaryFailure:u};this.H.error(l1W + JSON.stringify(h));o01=4;break;}}};g01=7;break;case 43:n.prototype.l2b=function(h,p,q,t){var U01;U01=2;for(;U01 !== 5;){switch(U01){case 2:var F1W="maxvideobitr";F1W+="atechang";F1W+="ed";var R1W="max";R1W+="videobitrat";R1W+="echang";R1W+="ed";h={type:R1W,time:f.default.time.ia(),spts:t,maxvb_old:h,maxvb:p,reason:q};this.ob.emit(F1W,h);U01=5;break;}}};n.prototype.zcb=function(){var V01,h;V01=2;for(;V01 !== 3;){switch(V01){case 2:V01=!this.QAb && this.ob.L.wcb?1:3;break;case 4:(0,d.gb)(this.ob,h.type,h);V01=3;break;case 1:var N1W="s";N1W+="tre";N1W+="ameren";N1W+="d";this.QAb=!0;h={type:N1W,time:f.default.time.ia()};V01=4;break;}}};n.prototype.s2b=function(h){var W01;W01=2;for(;W01 !== 5;){switch(W01){case 1:(0,d.gb)(this.ob,h.type,h);W01=5;break;case 2:var O1W="streamSelectionA";O1W+="ugme";O1W+="ntData";h={type:O1W,augmentData:h,fragmentIndex:h[0].te};W01=1;break;}}};g01=40;break;case 23:n.prototype.Kyb=function(h,p){var H01,q;H01=2;for(;H01 !== 5;){switch(H01){case 2:q=this;setTimeout(function(){var I01,t;I01=2;for(;I01 !== 5;){switch(I01){case 2:var S1W="audioTra";S1W+="ckSwit";S1W+="chComplet";S1W+="e";t={type:S1W,trackId:h,trackIndex:p};(0,d.gb)(q.ob,t.type,t);I01=5;break;}}},0);H01=5;break;}}};n.prototype.Oyb=function(h){var J01,p;J01=2;for(;J01 !== 4;){switch(J01){case 2:var Y1W="buffer";Y1W+="i";Y1W+="ng";Y1W+="Sta";Y1W+="rted";p={type:Y1W,time:f.default.time.ia(),percentage:h || 0};(0,d.gb)(this.ob,p.type,p);this.Dla=h || 0;J01=4;break;}}};n.prototype.Myb=function(){var K01,h,p,q,t,v;K01=2;for(;K01 !== 3;){switch(K01){case 2:(h=this.ob.L,p=f.default.time.ia(),q=this.ob.Xa.gd,t=this.ob.Xn?m.u.J:m.u.V,v=q.fb(t));q=q.Ah(t);K01=5;break;case 5:var w1W="b";w1W+="uffe";w1W+="r";w1W+="in";w1W+="g";h=Math.min(Math.max(Math.round(100 * (v.eF?(p - this.ob.Aka) / h.XB:v.progress?v.progress:q / h.Dj)),this.Dla),99);h != this.Dla && (p={type:w1W,time:p,percentage:h},(0,d.gb)(this.ob,p.type,p),this.Dla=h);K01=3;break;}}};n.prototype.Pla=function(){var L01,h,p,q,t,v;L01=2;for(;L01 !== 8;){switch(L01){case 2:var I1W="buff";I1W+="e";I1W+="ringCo";I1W+="mplete";(h=this.ob.Xa.gd,p=h.fb(m.u.V),q=h.fb(m.u.J));this.MVa();(t=this.ob.Xn?this.ob.Nb.rC[k.J]:this.ob.Nb.rC[k.V],v=t.NV);h={type:I1W,time:f.default.time.ia(),actualStartPts:v,aBufferLevelMs:h.Ah(m.u.V),vBufferLevelMs:h.Ah(m.u.J),selector:q?q.R_:p.R_,initBitrate:t.Nx,skipbackBufferSizeBytes:this.ob.Nc.lea};this.ob.Sh.tPb({initSelReason:t.pB,initSelectionPredictedDelay:t.oB,buffCompleteReason:t.Lu,hashindsight:this.ob.Ss,hasasereport:! !this.ob.Kt,bcVBufferLevelMs:h.vBufferLevelMs,bcABufferLevelMs:h.aBufferLevelMs});(0,d.gb)(this.ob,h.type,h);L01=8;break;}}};g01=34;break;case 16:n.prototype.fzb=function(h,p,q,t){var B01,v;B01=2;for(;B01 !== 3;){switch(B01){case 2:var p1W="str";p1W+="eam";p1W+="Pres";p1W+="ent";p1W+="ing";v=h.mediaType;g.Zn.sr(v);h={type:p1W,startPts:Math.floor(p),contentStartPts:Math.floor(q),mediaType:v,manifestIndex:t,trackIndex:h.track.iA,streamIndex:h.mg};(0,d.gb)(this.ob,h.type,h);B01=3;break;}}};n.prototype.kzb=function(h){var C01;C01=2;for(;C01 !== 5;){switch(C01){case 2:var X1W="vi";X1W+="deoL";X1W+="o";X1W+="oped";h={type:X1W,offset:h};(0,d.gb)(this.ob,h.type,h);C01=5;break;}}};g01=27;break;case 40:n.prototype.Cn=function(h){var X01;X01=2;for(;X01 !== 5;){switch(X01){case 2:var Q1W=",";Q1W+=" ";var r1W="m";r1W+="anagerdebugeven";r1W+="t";h={type:r1W,message:"@" + f.default.time.ia() + Q1W + h};(0,d.gb)(this.ob,h.type,h);X01=5;break;}}};return n;break;}}})();b.BNa=a;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y;Object.defineProperties(b,{__esModule:{value:!0}});b.TJa=void 0;c=a(0);r=a(14);g=c.__importStar(a(11));a(2);a(261);k=a(267);m=a(432);f=a(89);a(429);a(439);d=a(118);l=c.__importDefault(a(28));a(436);n=a(1064);h=c.__importDefault(a(187));p=a(6);q=c.__importDefault(a(4));a(195);a(268);a(193);a(116);t=new q.default.Console("HEADERCACHE","media|asejs");a=new q.default.Console("MEDIACACHE","media|asejs");v=q.default.uL;w=t.trace.bind(t);a.trace.bind(a);u=t.warn.bind(t);x=t.error.bind(t);y=t.info.bind(t);a=(function(z){var Y01;Y01=2;function A(B,C,D,E){var Z01;Z01=2;for(;Z01 !== 25;){switch(Z01){case 2:B=z.call(this) || this;B.Vj=w;B.Gk=x;Z01=4;break;case 4:B.$b=u;B.rmc=y;B.m5=Object.create(null);B.Ap=C;Z01=7;break;case 7:B.qd=Object.create(null);B.$G=0;B.Dp=[];B.vVa=C.c8;Z01=12;break;case 11:B.X4=!1;B.zM=[];B.yH={};Z01=19;break;case 16:var a1W="1";a1W+="S";a1W+="I";a1W+="YbZrNJCp9";B.Dma && (B.Ap.wW || (C=(q.default.options || ({})).cQ || 0,B.Ap.set?B.Ap.set({wW:C}):B.Ap.wW=(q.default.options || ({})).cQ || 0),B.Hk=new n.EMa(B.Ap,q.default,B),B.Hk.oa(B,E).then(function(){var a11;a11=2;for(;a11 !== 1;){switch(a11){case 2:var C1W="Medi";C1W+="a c";C1W+="ac";C1W+="he initia";C1W+="lized";w(C1W);a11=1;break;}}}).catch(function(G){var b11;b11=2;for(;b11 !== 1;){switch(b11){case 2:var h1W="Med";h1W+="ia cache ";h1W+="di";h1W+="d not initialize";x(h1W,G);b11=1;break;}}}));B.Tm=D;a1W;Z01=26;break;case 12:B.hx=[];Z01=11;break;case 26:return B;break;case 19:B.Dma=(B.Ap.ZDa || B.Ap.$Da) && 0 < (B.Ap.wW || (q.default.options || ({})).cQ || 0);B.oH=B.Ap.lxa;B.Hk=void 0;Z01=16;break;}}}for(;Y01 !== 39;){switch(Y01){case 2:c.__extends(A,z);Object.defineProperties(A.prototype,{cache:{get:function(){var c11;c11=2;for(;c11 !== 1;){switch(c11){case 4:return this.qd;break;c11=1;break;case 2:return this.qd;break;}}},enumerable:!1,configurable:!0}});A.prototype.hMb=function(){var d11;d11=2;for(;d11 !== 5;){switch(d11){case 2:this.flush();this.iUa();d11=5;break;case 3:this.flush();this.iUa();d11=2;break;d11=5;break;}}};A.prototype.hfa=function(B){var e11;e11=2;for(;e11 !== 5;){switch(e11){case 2:this.Tm=B;this.hx.forEach(function(){});e11=5;break;}}};Y01=3;break;case 3:A.prototype.LH=function(B,C,D){var f11,E,G;f11=2;for(;f11 !== 9;){switch(f11){case 1:f11=(E[C]=B)?5:4;break;case 2:(E=this.yH,G=B);f11=1;break;case 6:f11=(E[C]=B)?1:5;break;f11=(E[C]=B)?5:4;break;case 4:D && delete E[C];G?(this.X4=!1,this.hyb()):this.X4=!0;f11=9;break;case 5:for(var F in E){E.hasOwnProperty(F) && !1 === E[F] && (G=!1);}f11=4;break;}}};A.prototype.flush=function(){var g11,C;g11=2;for(;g11 !== 8;){switch(g11){case 2:this.Z3a();for(var B in this.m5){C=this.m5[B];C.abort();}this.qd=Object.create(null);this.$G=0;this.Dp=[];g11=9;break;case 9:var M1W="m";M1W+="an";M1W+="agerdebugev";M1W+="e";M1W+="nt";var W1W=", headerCa";W1W+="che flu";W1W+="sh: ";this.Ap.Zi && (C="@" + q.default.time.ia() + W1W,this.emit(M1W,{message:C}));g11=8;break;}}};A.prototype.list=function(){var h11;h11=2;for(;h11 !== 1;){switch(h11){case 2:return this.Dp;break;}}};A.prototype.LY=function(B,C){var i11;i11=2;for(;i11 !== 4;){switch(i11){case 1:i11=(C=B.headers[C])?5:4;break;case 2:i11=(B=this.qd[B])?1:4;break;case 5:return C;break;}}};A.prototype.v_b=function(B,C){var j11,D,E;j11=2;for(;j11 !== 5;){switch(j11){case 2:(D=this,E=this.u_b(B));return E || !this.Hk?Promise.resolve(E):(this.oH?this.cyb(B,C):this.byb(B,C)).then(function(G){var k11;k11=2;for(;k11 !== 1;){switch(k11){case 2:return D.Qeb(G);break;}}});break;}}};Y01=14;break;case 20:A.prototype.O3b=function(B){var t11,C;t11=2;for(;t11 !== 9;){switch(t11){case 2:C=this;B.sdc=B.ig;this.Mvb(B);g.ta(B.QVb) || B.QVb(B.sdc);t11=3;break;case 3:this.kAb(B,function(){var u11;u11=2;for(;u11 !== 1;){switch(u11){case 2:g.ta(B) || (g.ta(B.Bn) || B.Bn.M7a--,C.K4(B));u11=1;break;}}});t11=9;break;}}};A.prototype.P3b=function(B){var v11,G,C,D,E;v11=2;for(;v11 !== 8;){switch(v11){case 4:G=q.default.time.now();this.Hk.W9b(B,E,function(F){var w11;w11=2;for(;w11 !== 4;){switch(w11){case 2:F || g.ta(E) || (F=q.default.time.ia() - G,g.ta(E.bc) && (E.bc={}),g.ta(E.bc.Xt) && (E.bc.Xt=0),E.bc.Xt+=F);--E.jW;C.K4(B);w11=4;break;}}});v11=8;break;case 1:v11=E?5:8;break;case 2:(C=this,D=B.K,E=this.qd[D] || B.Bn);v11=1;break;case 9:(--E.jW,C.K4(B));v11=8;break;case 5:var y1W="ma";y1W+="nagerdebug";y1W+="even";y1W+="t";var P1W=",";P1W+=" ";P1W+="remain";P1W+="i";P1W+="ng: ";var V1W=", ";V1W+="p";V1W+="ts";V1W+=": ";var L1W=", st";L1W+="r";L1W+="eamId: ";var d1W=", headerCach";d1W+="e data";d1W+="Complete:";d1W+=" movieId: ";v11=(this.Ap.Zi && (D="@" + q.default.time.ia() + d1W + D + L1W + B.Pa + V1W + B.da + P1W + (E.jW - 1),this.emit(y1W,{message:D})),B.Hi && 0 === B.responseType && this.Hk && !this.oH)?4:9;break;}}};A.prototype.dUa=function(){var x11;x11=2;for(;x11 !== 1;){switch(x11){case 2:0 === this.hx.length && (this.hx=[d.ip.instance.Os(p.u.V,void 0,!1,!1,this.Tm,this.Ap),d.ip.instance.Os(p.u.J,void 0,!1,!1,this.Tm,this.Ap)],this.hx.forEach(function(B){var y11;y11=2;for(;y11 !== 1;){switch(y11){case 2:return B.oa();break;}}}),v.Sf());x11=1;break;}}};A.prototype.iUa=function(){var z11,B;z11=2;for(;z11 !== 4;){switch(z11){case 2:B=this.hx;this.hx=[];B.forEach(function(C){var A11;A11=2;for(;A11 !== 1;){switch(A11){case 4:d.ip.instance.jO(C);A11=2;break;A11=1;break;case 2:d.ip.instance.jO(C);A11=1;break;}}});z11=4;break;}}};Y01=16;break;case 16:A.prototype.hyb=function(){var B11,B;B11=2;for(;B11 !== 5;){switch(B11){case 2:B=this;!this.X4 && 0 < this.zM.length && (this.zM.forEach(function(C){var C11;C11=2;for(;C11 !== 1;){switch(C11){case 2:B.kma(C.TVb,C.Re);C11=1;break;}}}),this.zM=[]);B11=5;break;}}};A.prototype.bUa=function(B,C){var D11,D;D11=2;for(;D11 !== 8;){switch(D11){case 2:D=B.stream.mediaType;2 > this.hx.length && this.dUa();C=new m.Zfa(B.stream,C,this.hx[D],B,this,!0,t);C.Hi=B.Hi;D11=3;break;case 3:C.hg=this;return C;break;}}};A.prototype.wwb=function(B,C){var E11,D;E11=2;for(;E11 !== 8;){switch(E11){case 2:D=B.stream.mediaType;2 > this.hx.length && this.dUa();C=k.G1.create(B.stream,C,this.hx[D].track,B,this,!0,t);C.Hi=B.Hi;E11=3;break;case 3:C.hg=this;return C;break;}}};A.prototype.K4=function(B){var F11,C;F11=2;for(;F11 !== 9;){switch(F11){case 2:this.Fc(B) && delete this.m5[B.Pa];this.Fc(B) || delete B.response;F11=5;break;case 5:B.rd();C=this.qd[B.K] || B.Bn;F11=3;break;case 3:var v5W="save";v5W+="t";v5W+="odisk";C && 0 === C.M7a && 0 === C.jW && (this.AAb(C,B.ig),C.Hi && this.Hk && (C.bc.cqc || (this.oH?this.Hk.Y9b(C):this.Hk.mR(v5W,{$gb:C.bc.Xt}))));F11=9;break;}}};A.prototype.pyb=function(B,C,D){var G11,G,E;G11=2;for(;G11 !== 8;){switch(G11){case 3:G=D && D.length < B.x1a?D.length:B.x1a;return function(F){var Q4W=a000;var I11;I11=2;for(;I11 !== 1;){switch(I11){case 4:Q4W.j4T(3);return Q4W.K4T(G,F);break;I11=1;break;case 2:Q4W.G4T(20);return Q4W.i4T(F,G);break;}}};break;case 2:E=B.b8;C.Hi && this.Hk && (B.abb?E=B.abb:B.Iab && 0 < B.Iab && (E=2E3 * B.Iab));G11=5;break;case 4:return function(F,I){var H11;H11=2;for(;H11 !== 1;){switch(H11){case 2:a000.G4T(20);return a000.K4T(I,E);break;}}};break;case 5:G11=0 < E?4:3;break;}}};A.prototype.kma=function(B,C){var J11,L,M,K,O,H,J,I,D,E,G,F;J11=2;for(;J11 !== 53;){switch(J11){case 34:F=H === l.default.Sd.J?F.m1b:F.d1b;J11=33;break;case 29:a000.j4T(5);H=a000.K4T(1,M);J11=28;break;case 28:J11=H < L.length && (K.ea < J || K.duration < F)?44:42;break;case 54:I.oqa && !g.ta(I.Ip) && (B=I.oqa,delete I.oqa,this.kma(B,I.Ip));J11=53;break;case 37:K=void 0;J11=36;break;case 12:C=I.Ip;J11=11;break;case 13:return;break;case 31:K.Hi=B.Hi;J11=30;break;case 44:(K.D6(L.get(H)),K.mQ=H + 1,M=H);J11=43;break;case 11:B.mediaType === l.default.Sd.V && F.jm && !F.MH && G.wf && (C=Math.max(G.ha && G.ha.kl(0) || 0,C + G.wf.Z));(L=B.stream.ha,M=L && L.Eo(C));J11=20;break;case 42:var z5W="undefi";z5W+="n";z5W+="e";z5W+="d";g.ta(I.Ip) && (I.Ip=K.da);K.Hi && (K.responseType=0);B.Hi && this.Hk && B.ZY && B.ZY[E] && z5W !== typeof K.da && B.ZY[E][K.da] || (H=this.wwb(K,B.Be),H.Hi && (H.Bn=B.Bn),H.MJ(),++I.jW,C.push(H));++O;J11=38;break;case 33:J11=M < (L && L.length || 0) && !D(O,G)?32:54;break;case 17:J11=!g.ta(K)?16:25;break;case 30:J11=!g.ta(L) && !K.Ga?29:42;break;case 18:K=B.stream.Fl(M);J11=17;break;case 16:K.Hi=B.Hi;O=K.Ira(C);O && (K.mediaType === l.default.Sd.V && !F.aZ && O.Re < (F.jm && !F.MH && G.wf?Math.floor(G.wf.Z):0) && (++O.jj,O.Re+=K.ba.Z),0 < O.jj && K.kj({start:O.jj}));J11=26;break;case 19:var t5W="no p";t5W+="roper ";t5W+="fragment found to request ";t5W+="data at pts";x(t5W,C);J11=53;break;case 25:void 0 === I.data && (I.data={});void 0 === I.data[E] && (I.data[E]=[]);C=I.data[E];D=this.pyb(F,B,L);J11=21;break;case 36:++M;J11=33;break;case 20:J11=-1 === M || void 0 === M?19:18;break;case 38:G+=K.duration;J11=37;break;case 26:var J5W="man";J5W+="agerde";J5W+="b";J5W+="uge";J5W+="vent";var U5W=",";U5W+=" st";U5W+="ar";U5W+="tPts";U5W+=": ";var x5W=", ";x5W+="p";x5W+="ts:";x5W+=" ";var f5W=", s";f5W+="tre";f5W+="amId: ";var E5W=", headerCache re";E5W+="questData";E5W+=": movieId: ";F.Zi && (C="@" + q.default.time.ia() + E5W + D + f5W + E + x5W + C + U5W + K.da,this.emit(J5W,{message:C}));J11=25;break;case 14:I.oqa=B;J11=13;break;case 32:J11=(void 0 === K && (K=B.stream.Fl(M)),void 0 !== K)?31:36;break;case 1:J11=this.X4?5:9;break;case 4:J11=this.zM.length > F.PVb?3:53;break;case 7:J11=B.mediaType === l.default.Sd.V?6:11;break;case 21:O=G=0;(H=K && K.mediaType,J=H === l.default.Sd.J?F.wba:F.nba);J11=34;break;case 43:++H;J11=28;break;case 9:I=this.qd[D] || B.Bn;J11=8;break;case 3:this.zM.shift();J11=4;break;case 8:J11=I?7:53;break;case 6:J11=void 0 === I.Ip?14:12;break;case 2:(D=B.K,E=B.Pa,G=B.stream,F=B.Be);J11=1;break;case 5:this.zM.push({TVb:B,Re:C});J11=4;break;}}};A.prototype.Mvb=function(B){var K11;K11=2;for(;K11 !== 1;){switch(K11){case 2:this.JTa(B,B.Bn);K11=1;break;}}};Y01=22;break;case 14:A.prototype.u_b=function(B){var l11;l11=2;for(;l11 !== 1;){switch(l11){case 2:return this.Qeb(this.qd[B]);break;case 4:return this.Qeb(this.qd[B]);break;l11=1;break;}}};A.prototype.Z3a=function(){var m11,D,E,G;m11=2;function B(I){var n11;n11=2;for(;n11 !== 1;){switch(n11){case 2:I.r_a();n11=1;break;case 4:I.r_a();n11=7;break;n11=1;break;}}}function C(I,L){var o11;o11=2;for(;o11 !== 1;){switch(o11){case 2:I && I.data && I.data[L].forEach(function(M){var p11;p11=2;for(;p11 !== 5;){switch(p11){case 3:M.abort();p11=4;break;p11=1;break;case 1:D+=M.bytesReceived;p11=5;break;case 2:M.abort();p11=1;break;}}});o11=1;break;}}}for(;m11 !== 4;){switch(m11){case 2:D=0;for(E in this.qd){G=this.qd[E];if(G.data){for(var F in G.data){var K5W="in en";K5W+="t";K5W+="r";K5W+="y";K5W+=":";var B5W="missing h";B5W+="eaderEntry for st";B5W+="reamId:";G.headers[F] || x(B5W,F,K5W,G);C(G,F);G.data[F].forEach(B);delete G.data[F];}delete G.data;}}m11=5;break;case 5:this.gAb(D);m11=4;break;}}};A.prototype.SB=function(B){var q11,C;q11=2;for(;q11 !== 5;){switch(q11){case 2:C=this.qd[B.K];C && (this.Fc(B)?g.ta(C.bc.UVb) && !g.ta(B.loadTime) && (C.bc.UVb=B.loadTime):g.ta(C.bc.veb) && !g.ta(B.loadTime) && (C.bc.veb=B.loadTime));q11=5;break;}}};A.prototype.Zk=function(B){var r11;r11=2;for(;r11 !== 1;){switch(r11){case 2:this.Fc(B)?this.O3b(B):this.P3b(B);r11=1;break;}}};A.prototype.FZ=function(B){var s11;s11=2;for(;s11 !== 5;){switch(s11){case 2:var i5W="_";i5W+="o";i5W+="n";i5W+="Er";i5W+="ror: ";u(i5W,B.toString());this.K4(B);s11=5;break;}}};Y01=20;break;case 42:A.prototype.Qeb=function(B){var e21,C,D,E;e21=2;for(;e21 !== 11;){switch(e21){case 1:e21=B && B.data?5:11;break;case 2:C={};e21=1;break;case 9:C.bc=B.bc;e21=8;break;case 5:for(D in B.data){E=B.data[D];0 < E.length && (C[E[0].mediaType]={Pa:D,header:B.headers[D],data:E});}C.Ip=B.Ip;C.nP=B.nP;e21=9;break;case 8:C.Nx=B.Nx;C.pB=B.pB;C.OE=B.OE;e21=14;break;case 14:C.Yp=B.Yp;C.Zp=B.Zp;return C;break;}}};A.prototype.Fc=function(B){var f21;f21=2;for(;f21 !== 1;){switch(f21){case 2:return ! !B.Fc;break;case 4:return ~ -B.Fc;break;f21=1;break;}}};return A;break;case 30:A.prototype.AAb=function(B,C){var T11;T11=2;for(;T11 !== 4;){switch(T11){case 2:var G5W="prebuffs";G5W+="t";G5W+="ats";B.bc.U5b=C;B={type:G5W,movieId:B.K,stats:{prebuffstarted:B.bc.veb,prebuffcomplete:B.bc.U5b}};this.emit(B.type,B);T11=4;break;}}};A.prototype.cyb=function(B,C){var U11,D;U11=2;for(;U11 !== 5;){switch(U11){case 2:var j5W="Medi";j5W+="a cache is not enabl";j5W+="ed";D=this;return this.Hk?this.Hk.ZZb(B,C).then(function(E){var V11;V11=2;for(;V11 !== 5;){switch(V11){case 1:return (D.qd[B]=E.Bn,++D.$G,D.Fka(),D.Dp.push(E.Bn),D.Dp.sort(D.Jeb),D.KTa(B,E),D.cache[B]);break;case 3:V11=E || E.Bn?6:4;break;V11=E && E.Bn?1:5;break;case 2:V11=E && E.Bn?1:5;break;}}}):Promise.reject(j5W);break;}}};A.prototype.byb=function(B,C){var W11,D,E,G;W11=2;for(;W11 !== 8;){switch(W11){case 2:D=this;W11=1;break;case 1:W11=this.Hk?5:9;break;case 5:(E=void 0,G=!1);this.Hk.l9a(this.qd[B])?(E=Promise.resolve(this.qd[B]),G=!0):E=this.Hk.a_b(B);W11=3;break;case 3:return E.then(function(F){var X11;X11=2;for(;X11 !== 1;){switch(X11){case 2:return !g.ta(F) && D.Hk?D.Hk.YZb(B,C,F).then(function(I){var Y11;Y11=2;for(;Y11 !== 5;){switch(Y11){case 2:I && (G || (D.qd[B]=F,++D.$G,D.Fka(),D.Dp.push(F),D.Dp.sort(D.Jeb)),D.KTa(B,I));return D.qd[B];break;}}}):Promise.resolve(void 0);break;}}});break;case 9:var g5W="Medi";g5W+="a cache is not en";g5W+="abled";return Promise.reject(g5W);break;}}};A.prototype.KTa=function(B,C){var Z11,E,G,D,F;Z11=2;for(;Z11 !== 7;){switch(Z11){case 3:Z11=C.data?9:7;break;case 5:(E=this.qd[B],G=C.headers);E && G && Object.keys(G).forEach(function(I){var a21;a21=2;for(;a21 !== 1;){switch(a21){case 2:D.Lvb(G[I],E);a21=1;break;case 4:D.Lvb(G[I],E);a21=2;break;a21=1;break;}}});Z11=3;break;case 1:Z11=C?5:7;break;case 2:D=this;Z11=1;break;case 9:F=C.data;Object.keys(F).forEach(function(I){var b21,L,M;b21=2;for(;b21 !== 9;){switch(b21){case 2:L=F[I];g.ta(E.data) && (E.data={});g.ta(E.data[I]) && (E.data[I]=[]);M=E.data;L.forEach(function(K){var c21;c21=2;for(;c21 !== 1;){switch(c21){case 2:M[I].push(K);c21=1;break;}}});b21=9;break;}}});Z11=7;break;}}};A.prototype.Jeb=function(B,C){var d21;d21=2;for(;d21 !== 1;){switch(d21){case 2:return C.priority - B.priority;break;case 4:return C.priority + B.priority;break;d21=1;break;}}};Y01=42;break;case 22:A.prototype.Lvb=function(B,C){var L11;L11=2;for(;L11 !== 1;){switch(L11){case 4:this.JTa(B,C);L11=4;break;L11=1;break;case 2:this.JTa(B,C);L11=1;break;}}};A.prototype.JTa=function(B,C){var M11,D;M11=2;for(;M11 !== 4;){switch(M11){case 2:D=B.Pa;M11=1;break;case 9:D=B.Pa;M11=9;break;M11=1;break;case 5:(C.BCb || C.Hi && !this.oH || (C.BCb=!0,++this.$G),C.headers || (C.headers={}),C.headers[D]=B,this.Ap.dOb && (C.nP || (C.nP=0),++C.nP),this.Fka());M11=4;break;case 1:M11=(C=this.qd[B.K] || C)?5:4;break;}}};A.prototype.Fka=function(){var N11,C,D,E;N11=2;for(;N11 !== 12;){switch(N11){case 2:D=0;N11=1;break;case 5:N11=this.$G > this.vVa?4:13;break;case 3:E=C.K;N11=9;break;case 1:N11=!(this.$G <= this.vVa)?5:12;break;case 9:N11=C.data?8:7;break;case 7:delete this.qd[E];--this.$G;N11=14;break;case 4:N11=(C=this.Dp.shift())?3:5;break;case 8:for(var G in C.data){C.data[G].forEach(B);delete C.data[G];}N11=7;break;case 14:this.dAb(E);N11=5;break;case 13:this.eAb(D);N11=12;break;}}function B(F){var O11;O11=2;for(;O11 !== 5;){switch(O11){case 2:F.abort();D+=F.bytesReceived;O11=5;break;}}}};A.prototype.eAb=function(B){var P11;P11=2;for(;P11 !== 1;){switch(P11){case 2:var A5W="dis";A5W+="ca";A5W+="rd";A5W+="edBytes";0 !== B && (B={type:A5W,bytes:B},this.emit(B.type,B));P11=1;break;}}};A.prototype.gAb=function(B){var Q11;Q11=2;for(;Q11 !== 1;){switch(Q11){case 2:var b5W="f";b5W+="lus";b5W+="he";b5W+="dB";b5W+="ytes";0 !== B && (B={type:b5W,bytes:B},this.emit(B.type,B));Q11=1;break;}}};A.prototype.dAb=function(B){var R11;R11=2;for(;R11 !== 5;){switch(R11){case 2:var e5W="c";e5W+="a";e5W+="cheEv";e5W+="ict";B={type:e5W,movieId:B};R11=1;break;case 3:B={type:"",movieId:B};R11=2;break;R11=1;break;case 1:this.emit(B.type,B);R11=5;break;case 9:this.emit(B.type,B);R11=9;break;R11=5;break;}}};A.prototype.kAb=function(B,C){var S11,D;S11=2;for(;S11 !== 3;){switch(S11){case 2:D=B.Be;g.ta(B.b9b) || this.kma(B,B.b9b);!this.Hk || !B.Hi || this.oH || g.ta(B.ZY) || B.ZY[B.Pa] && B.ZY[B.Pa].header?C():this.Hk.X9b(B,C);D.WDa || 0 !== Object.keys(this.m5).length || this.iUa();S11=3;break;}}};Y01=30;break;}}})(f.uw);b.TJa=a;(0,h.default)(r.EventEmitter.prototype,a.prototype);},function(r,b,a){var c,g,k,m,f,d,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.EMa=void 0;c=a(0);g=a(14);k=c.__importStar(a(1065));m=c.__importStar(a(11));a(2);f=a(267);d=a(8);r=a(35);l=c.__importStar(a(1076));n=l.bMa;a=(function(){var g21;g21=2;for(;g21 !== 18;){switch(g21){case 3:h.prototype.X9b=function(p,q){var C21,t,v,w,u,x,y;C21=2;for(;C21 !== 13;){switch(C21){case 5:x[v + "." + n.urb]={Vr:(0,d.FA)(p.Sg.map(function(z){var D21;D21=2;for(;D21 !== 1;){switch(D21){case 2:return z.data;break;case 4:return z.data;break;D21=1;break;}}})),Hc:n.xG};C21=4;break;case 2:(t=this,v=[p.K,p.Pa,n.Tqb].join("."),w=this.Cp.time.ia(),u=l.I5a(p),x={});x[v + "." + n.fia]={Vr:u,Hc:n.xG};C21=5;break;case 4:C21=p.stream.ee && !m.ta(p.stream.ha)?3:14;break;case 6:x[v + "." + n.Jqb]={Vr:y.se.buffer,Hc:n.xG};C21=14;break;case 3:u={timescale:p.stream.ha.W,startTicks:p.stream.ha.Qn,offset:p.stream.ha.Ci(0)};C21=9;break;case 9:y=p.stream.ha.GK;x[v + "." + n.XIa]={Vr:u,Hc:n.xG};x[v + "." + n.Kqb]={Vr:y.sizes.buffer,Hc:n.xG};C21=6;break;case 14:this.yp.Zgb(n.ls,x,function(z){var E21;E21=2;for(;E21 !== 5;){switch(E21){case 2:z || (z=t.Cp.time.ia() - w,p.Bn && (m.ta(p.Bn.bc.Xt) && (p.Bn.bc.Xt=0),p.Bn.bc.Xt+=z));q();E21=5;break;}}});C21=13;break;}}};h.prototype.W9b=function(p,q,t){var F21,u,x,y,v,w;F21=2;for(;F21 !== 14;){switch(F21){case 5:(u=this.Cp.time.ia(),x=[p.K,p.Pa,p.Nd].join("."));p=l.cta(p);y={};F21=9;break;case 1:F21=w instanceof ArrayBuffer?5:6;break;case 6:var c5W="Unable to save fragment be";c5W+="cause response is not";c5W+=" an ArrayBuffer";t(Error(c5W));F21=14;break;case 2:(v=this,w=p.response);F21=1;break;case 9:y[x + "." + n.fia]={Vr:p,Hc:n.xG};m.ta(w) || (y[x + "." + n.psb]={Vr:w,Hc:n.xG});this.yp.Zgb(n.ls,y,function(z){var G21;G21=2;for(;G21 !== 5;){switch(G21){case 2:var H5W="Failed to";H5W+=" s";H5W+="ave fragmen";H5W+="t";z?v.H.warn(H5W,z):(z=v.Cp.time.ia() - u,m.ta(q.bc.Xt) && (q.bc.Xt=0),q.bc.Xt+=z);t();G21=5;break;}}});F21=14;break;}}};h.prototype.Y9b=function(p){var H21,z,q,t,v,w,u,x,y,A,B,J21,E,G,C,D,K21,F,I,M,L,L21,M21,N21,O21,P21,Q21;H21=2;for(;H21 !== 20;){switch(H21){case 5:H21=p.headers?4:8;break;case 4:z={};Object.keys(p.headers).forEach(function(O){var I21,H;I21=2;for(;I21 !== 5;){switch(I21){case 2:H=l.F5a(p.headers[O]);z[O]=H;I21=5;break;}}});H21=9;break;case 2:(w=this,u=this.Cp.time.ia(),x={},y=l.i6a(p));x.movieEntry=y;H21=5;break;case 8:H21=p && p.data?7:12;break;case 7:y={};(A=p.data,B=Object.keys(p.data));try{J21=2;for(;J21 !== 6;){switch(J21){case 3:J21=G?9:7;break;case 5:(E=D.value,G=A[E]);B={};J21=3;break;case 2:(C=c.__values(B),D=C.next());J21=1;break;case 1:J21=!D.done?5:6;break;case 8:y[E]=B;J21=7;break;case 9:try{K21=2;for(;K21 !== 7;){switch(K21){case 2:(F=(t=void 0,c.__values(G)),I=F.next());K21=1;break;case 8:I=F.next();K21=1;break;case 4:K21=L instanceof f.G1 && L.response instanceof ArrayBuffer && !m.ta(L.Nd)?3:8;break;case 1:K21=!I.done?5:7;break;case 3:M=l.cta(L);K21=9;break;case 9:B[L.Nd]={mediaType:M.mediaType,streamId:M.streamId,movieId:M.movieId,bitrate:M.bitrate,location:M.location,serverId:M.serverId,saveToDisk:M.saveToDisk,offset:M.offset,bytes:M.bytes,timescale:M.timescale,startTicks:M.startTicks,durationTicks:M.durationTicks,response:L.response};K21=8;break;case 5:L=I.value;K21=4;break;}}}catch(O){t={error:O};}finally{L21=2;for(;L21 !== 1;){switch(L21){case 2:try{M21=2;for(;M21 !== 1;){switch(M21){case 2:I && !I.done && (v=F.return) && v.call(F);M21=1;break;}}}finally{N21=2;for(;N21 !== 5;){switch(N21){case 2:N21=t?1:5;break;case 1:throw t.error;N21=5;break;case 9:throw t.error;N21=7;break;N21=5;break;}}}L21=1;break;}}}J21=8;break;case 7:D=C.next();J21=1;break;}}}catch(O){var K;K={error:O};}finally{O21=2;for(;O21 !== 1;){switch(O21){case 2:try{P21=2;for(;P21 !== 1;){switch(P21){case 2:D && !D.done && (q=C.return) && q.call(C);P21=1;break;}}}finally{Q21=2;for(;Q21 !== 5;){switch(Q21){case 2:Q21=K?1:5;break;case 1:throw K.error;Q21=5;break;case 9:throw K.error;Q21=2;break;Q21=5;break;}}}O21=1;break;}}}H21=13;break;case 12:K={lifespan:259200};this.oyb && (K.convertToBinaryData=!0);this.yp.save(n.ls,p.K,x,K,function(O){var R21;R21=2;for(;R21 !== 1;){switch(R21){case 2:var k5W="savetod";k5W+="i";k5W+="sk";O || w.mR(k5W,{$gb:w.Cp.time.ia() - u});R21=1;break;}}});H21=20;break;case 13:x.data=y;H21=12;break;case 9:x.headers=z;H21=8;break;}}};g21=7;break;case 7:h.prototype.l9a=function(p){var S21;S21=2;for(;S21 !== 1;){switch(S21){case 2:return !(m.ta(p) || m.tb(p) || m.ta(p.bc) || m.tb(p.bc) || m.ta(p.K) || m.tb(p.K) || m.ta(p.priority) || m.tb(p.priority));break;}}};h.prototype.mR=function(p,q){var T21,t;T21=2;for(;T21 !== 9;){switch(T21){case 2:var u5W="me";u5W+="diac";u5W+="ache";u5W+="lookup";var o5W="s";o5W+="ave";o5W+="todisk";var q5W="me";q5W+="diaca";q5W+="chestats";t={type:q5W,operation:p};o5W === p && (t.saveTime=q.$gb);u5W === p && (t.lookupTime=q.Maa,t.dataFound=q.T7);T21=4;break;case 4:var Z5W="me";Z5W+="d";Z5W+="i";Z5W+="ac";Z5W+="ache";t.oneObject=this.oH;this.Uwb && this.emit(Z5W,t);T21=9;break;}}};h.prototype.h7b=function(p,q){var U21,t,v;U21=2;for(;U21 !== 5;){switch(U21){case 2:(t=this,v=Object.keys(p).map(function(w){var V21;V21=2;for(;V21 !== 1;){switch(V21){case 2:return t.NJb(p[w]);break;}}}));return Promise.all(v).then(function(w){var W21;W21=2;for(;W21 !== 5;){switch(W21){case 2:w.sort(function(u,x){var X21;X21=2;for(;X21 !== 1;){switch(X21){case 2:return u.Fc === x.Fc?0:u.Fc?-1:1;break;}}});return l.jta(t.L,t.H,t.ce,w,q);break;}}});break;}}};g21=13;break;case 2:h.prototype.oa=function(p,q){var i21,t;i21=2;for(;i21 !== 4;){switch(i21){case 2:var T5W="M";T5W+="e";T5W+="di";T5W+="a cache is di";T5W+="sabled";t=this;this.Dma?this.zu=new Promise(function(v,w){var j21;j21=2;for(;j21 !== 1;){switch(j21){case 2:(void 0 !== q && null !== q?q.vP:function(u){var k21;k21=2;for(;k21 !== 1;){switch(k21){case 4:return k.vP(t.Cp,t.L,u);break;k21=1;break;case 2:return k.vP(t.Cp,t.L,u);break;}}})(function(u){var l21,x;l21=2;for(;l21 !== 4;){switch(l21){case 2:var D5W="Me";D5W+="dia cache did no";D5W+="t initialize";t.yp=u;x=u.wv;(u=u.dJ)?w(u):x?(t.Jac(p),v()):w(Error(D5W));l21=4;break;}}});j21=1;break;}}}):(this.zu=Promise.reject(T5W),this.zu.catch(function(){}));return this.zu;break;}}};h.prototype.a_b=function(p){var m21,q,t,v;m21=2;for(;m21 !== 5;){switch(m21){case 2:(q=this,t=[n.fMa,p].join("."),v=this.Cp.time.ia());return this.zu.then(function(){var n21;n21=2;for(;n21 !== 1;){switch(n21){case 2:return new Promise(function(w){var o21;o21=2;for(;o21 !== 1;){switch(o21){case 2:q.yp.n_(n.ls,t,function(u){var p21,x;p21=2;for(;p21 !== 3;){switch(p21){case 2:p21=!u || 0 >= u.length?1:5;break;case 1:var n5W="mediaca";n5W+="che";n5W+="lookup";(w(void 0),q.mR(n5W,{Maa:q.Cp.time.ia() - v,T7:!1}));p21=3;break;case 5:x=u[0];q.yp.read(n.ls,x,function(y,z){var q21,B,r21,A;q21=2;for(;q21 !== 14;){switch(q21){case 5:q21=z instanceof ArrayBuffer?4:3;break;case 2:var s5W=" ";s5W+="fa";s5W+="il";s5W+="ed";var m5W="R";m5W+="eading movie ";m5W+="entry";m5W+=" ";y && q.H.warn(m5W + x + s5W,y);q21=1;break;case 1:q21=!m.ta(z)?5:9;break;case 9:m.ta(A) || (B=l.ita(A));m.ta(B) || m.tb(B) || (B.bc=B.bc || ({}),B.headers=B.headers || ({}));q21=6;break;case 4:try{r21=2;for(;r21 !== 1;){switch(r21){case 2:A=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(z)));r21=1;break;}}}catch(C){}q21=9;break;case 6:q.l9a(B)?w(B):(q.uAb(p),w(void 0));q21=14;break;case 3:A={priority:z.priority,movieId:z.movieId,saveToDisk:z.saveToDisk,firstSelectedStreamBitrate:z.firstSelectedStreamBitrate,initSelectionReason:z.initSelectionReason,histDiscountedThroughputValue:z.histDiscountedThroughput,histTdigest:z.histTdigest,histAge:z.histAge,headerCount:z.headerCount,dataRequestCount:z.dataRequestCount,headerRequestCount:z.headerRequestCount,stats:z.stats};q21=9;break;}}});p21=3;break;}}});o21=1;break;}}});break;}}});break;}}};h.prototype.YZb=function(p,q,t){var s21,w,v;s21=2;for(;s21 !== 9;){switch(s21){case 5:var l5W="Medi";l5W+="a cach";l5W+="e is not enabl";l5W+="ed";return Promise.reject(l5W);break;case 14:return Promise.reject("");break;s21=4;break;case 1:s21=!this.zu?5:4;break;case 4:w=this.Cp.time.ia();return this.zu.then(function(){var t21;t21=2;for(;t21 !== 1;){switch(t21){case 2:return new Promise(function(u){var u21;u21=2;for(;u21 !== 1;){switch(u21){case 2:v.yp.n_(n.ls,p,function(x){var v21;v21=2;for(;v21 !== 5;){switch(v21){case 2:x=x.reduce(function(y,z){var w21,A;w21=2;for(;w21 !== 9;){switch(w21){case 1:var R5W="drmHeader._";R5W+="_";R5W+="embe";R5W+="d_";R5W+="_";w21=-1 !== A.indexOf(R5W)?5:4;break;case 6:var F5W="drmHeade";F5W+="r";F5W+=".__";F5W+="embed__";w21=~4 == A.indexOf("")?3:3;break;w21=-1 !== A.indexOf(F5W)?5:4;break;case 2:A=z.substr(0,z.lastIndexOf("."));w21=1;break;case 5:return y;break;case 14:return y;break;w21=4;break;case 4:y[A]?y[A].push(z):y[A]=[z];return y;break;}}},{});v.h7b(x,q).then(function(y){var x21,z,A;x21=2;for(;x21 !== 8;){switch(x21){case 2:x21=void 0 === t || void 0 === y?1:5;break;case 1:return u(void 0);break;case 3:var N5W="m";N5W+="edi";N5W+="acachelookup";v.mR(N5W,{Maa:z,T7:A});u(y);x21=8;break;case 5:var O5W="No cont";O5W+="ent data f";O5W+="ound for ";(z=v.Cp.time.ia() - w,A=!1);m.ta(y) || m.ta(y.data) || !m.ek(y.data)?v.H.trace(O5W + p,t):A=!0;x21=3;break;}}},function(){var y21;y21=2;for(;y21 !== 1;){switch(y21){case 4:u(!8);y21=5;break;y21=1;break;case 2:u(void 0);y21=1;break;}}});v21=5;break;}}});u21=1;break;}}});break;}}});break;case 2:v=this;s21=1;break;}}};h.prototype.ZZb=function(p,q){var z21,t,v;z21=2;for(;z21 !== 5;){switch(z21){case 2:(t=this,v=this.Cp.time.ia());return this.zu.then(function(){var A21;A21=2;for(;A21 !== 1;){switch(A21){case 4:return t.Vxb(p);break;A21=1;break;case 2:return t.Vxb(p);break;}}}).then(function(w){var B21;B21=2;for(;B21 !== 5;){switch(B21){case 9:B21=w?4:8;break;B21=w?1:4;break;case 2:B21=w?1:4;break;case 1:return t.Xzb(p.toString(),q,v);break;case 4:var S5W="medi";S5W+="acachelo";S5W+="okup";t.mR(S5W,{Maa:t.Cp.time.ia() - v,T7:!1});B21=5;break;}}});break;}}};g21=3;break;case 13:h.prototype.NJb=function(p){var Y21,q,t,v,w;Y21=2;for(;Y21 !== 5;){switch(Y21){case 2:(q=this,w={});return new Promise(function(u,x){var Z21,y;Z21=2;for(;Z21 !== 5;){switch(Z21){case 2:q.yp.dda(n.ls,p,function(z,A){var a31,b31,B;a31=2;for(;a31 !== 1;){switch(a31){case 2:try{b31=2;for(;b31 !== 19;){switch(b31){case 11:b31=l.ova(y)?10:12;break;case 8:return x(B);break;case 4:b31=l.f9a(v)?3:20;break;case 20:y=l.msa(v,{response:w.response});b31=6;break;case 13:var Y5W="Mis";Y5W+="sing or invalid he";Y5W+="ader ";Y5W+="data parts for stream ";return (B=Y5W + y.Pa,x(B));break;case 12:u(y);b31=19;break;case 3:b31=t instanceof ArrayBuffer?9:7;break;case 14:b31=l.pva(y)?13:12;break;case 7:y=l.nsa(v,w,t);b31=6;break;case 6:b31=y.Fc?14:11;break;case 1:return x(z);break;case 9:var w5W="Header f";w5W+="ragments was an array bu";w5W+="f";w5W+="fer, is inv";w5W+="alid type ";B=w5W + y.Pa;b31=8;break;case 10:var I5W="Mis";I5W+="sing or invalid ";I5W+="media data parts for st";I5W+="ream ";return (B=I5W + y.Pa,x(B));break;case 5:Object.keys(A).map(function(C){var c31,D,d31,E;c31=2;for(;c31 !== 3;){switch(c31){case 7:c31=D == n.fia?4:5;break;c31=D === n.fia?5:4;break;case 2:D=C.substr(C.lastIndexOf(".") + 1);c31=1;break;case 1:c31=D === n.fia?5:4;break;case 5:try{d31=2;for(;d31 !== 5;){switch(d31){case 2:E=new Uint8Array(A[C]);v=JSON.parse(String.fromCharCode.apply(null,E));d31=5;break;}}}catch(G){v=A[C];}c31=3;break;case 4:D === n.XIa?t=A[C]:w[D]=A[C];c31=3;break;}}});b31=4;break;case 2:b31=z || void 0 === A?1:5;break;}}}catch(C){x(C);}a31=1;break;}}});Z21=5;break;}}});break;}}};h.prototype.Xzb=function(p,q,t){var e31,v;e31=2;for(;e31 !== 5;){switch(e31){case 2:v=this;return new Promise(function(w,u){var f31,x;f31=2;for(;f31 !== 5;){switch(f31){case 2:v.yp.read(n.ls,p,function(y,z){var g31,G,l31,P,m31,T,V,S,W,n31,o31,p31,J,R,q31,r31,s31,h31,K,L,M,O,F,I,i31,j31,k31,E,A,B,C,D;g31=2;for(;g31 !== 4;){switch(g31){case 17:x=l.jta(v.L,v.H,v.ce,z,q);g31=16;break;case 10:g31=E.data?20:17;break;case 12:G=Object.keys(E.headers);g31=11;break;case 18:try{l31=2;for(;l31 !== 8;){switch(l31){case 1:l31=!R.done?5:8;break;case 5:L=R.value;P=Object.keys(H[L]);try{m31=2;for(;m31 !== 7;){switch(m31){case 3:var p5W="Missing or invalid media data par";p5W+="ts for st";p5W+="re";p5W+="am ";return (K=p5W + W.Pa,u(K));break;case 1:m31=!V.done?5:7;break;case 2:(T=(C=void 0,c.__values(P)),V=T.next());m31=1;break;case 5:(S=H[L][V.value],W=l.msa(S,S));m31=4;break;case 4:m31=l.ova(W)?3:9;break;case 9:z.push(W);m31=8;break;case 8:V=T.next();m31=1;break;}}}catch(ra){C={error:ra};}finally{n31=2;for(;n31 !== 1;){switch(n31){case 2:try{o31=2;for(;o31 !== 1;){switch(o31){case 2:V && !V.done && (D=T.return) && D.call(T);o31=1;break;}}}finally{p31=2;for(;p31 !== 5;){switch(p31){case 2:p31=C?1:5;break;case 3:p31=C?0:6;break;p31=C?1:5;break;case 1:throw C.error;p31=5;break;case 9:throw C.error;p31=3;break;p31=5;break;}}}n31=1;break;}}}l31=9;break;case 9:R=J.next();l31=1;break;case 2:(J=c.__values(A),R=J.next());l31=1;break;}}}catch(ra){var ia;ia={error:ra};}finally{q31=2;for(;q31 !== 1;){switch(q31){case 2:try{r31=2;for(;r31 !== 1;){switch(r31){case 2:R && !R.done && (B=J.return) && B.call(J);r31=1;break;}}}finally{s31=2;for(;s31 !== 5;){switch(s31){case 3:s31=ia?2:6;break;s31=ia?1:5;break;case 1:throw ia.error;s31=5;break;case 2:s31=ia?1:5;break;}}}q31=1;break;}}}g31=17;break;case 9:w(void 0);g31=4;break;case 6:y=l.ita(E.movieEntry);z=[];g31=13;break;case 19:A=Object.keys(H);g31=18;break;case 15:var X5W="me";X5W+="diacachelook";X5W+="up";v.mR(X5W,{Maa:v.Cp.time.ia() - t,T7:!0});w(x);g31=4;break;case 11:try{h31=2;for(;h31 !== 12;){switch(h31){case 3:var r5W="Heade";r5W+="r fragments was an array bu";r5W+="f";r5W+="fer, is invalid type ";K=r5W + M.streamId;h31=9;break;case 5:(L=I.value,M=E.headers[L]);h31=4;break;case 8:O=l.nsa(M,M,M.fragments);h31=7;break;case 9:return u(K);break;case 4:h31=M.fragments instanceof ArrayBuffer?3:8;break;case 2:(F=c.__values(G),I=F.next());h31=1;break;case 14:z.push(O);h31=13;break;case 1:h31=!I.done?5:12;break;case 7:h31=l.pva(O)?6:14;break;case 6:var Q5W="M";Q5W+="issing or inval";Q5W+="id head";Q5W+="er data part";Q5W+="s for stream ";return (K=Q5W + O.Pa,u(K));break;case 13:I=F.next();h31=1;break;}}}catch(ra){var H;H={error:ra};}finally{i31=2;for(;i31 !== 1;){switch(i31){case 2:try{j31=2;for(;j31 !== 1;){switch(j31){case 2:I && !I.done && (A=F.return) && A.call(F);j31=1;break;}}}finally{k31=2;for(;k31 !== 5;){switch(k31){case 3:k31=H?2:4;break;k31=H?1:5;break;case 2:k31=H?1:5;break;case 1:throw H.error;k31=5;break;case 9:throw H.error;k31=9;break;k31=5;break;}}}i31=1;break;}}}g31=10;break;case 1:g31=y?5:3;break;case 3:g31=m.ta(z)?9:8;break;case 7:g31=E.movieEntry?6:15;break;case 13:g31=E.headers?12:10;break;case 20:H=E.data;g31=19;break;case 8:E=z[p];g31=7;break;case 5:u(y);g31=4;break;case 16:void 0 !== x && (x.Bn=y);g31=15;break;case 2:g31=1;break;}}});f31=5;break;}}});break;}}};g21=11;break;case 11:h.prototype.Vxb=function(p){var t31,q;t31=2;for(;t31 !== 5;){switch(t31){case 2:var C5W="Media cache is ";C5W+="not";C5W+=" enabled";q=this;return this.zu?this.zu.then(function(){var u31;u31=2;for(;u31 !== 1;){switch(u31){case 2:return new Promise(function(t){var v31;v31=2;for(;v31 !== 1;){switch(v31){case 2:q.yp.n_(n.ls,p.toString(),function(v){var w31;w31=2;for(;w31 !== 1;){switch(w31){case 2:v && 0 !== v.length?1 === v.length && v[0] === p.toString()?t(!0):t(!1):t(!1);w31=1;break;}}});v31=1;break;}}});break;}}}):Promise.reject(C5W);break;}}};h.prototype.uAb=function(p){function t(u){var z31;z31=2;for(;z31 !== 1;){switch(z31){case 2:u.map(q);z31=1;break;}}}var x31,v,w;x31=2;for(;x31 !== 4;){switch(x31){case 2:(v=this,w=p.toString());this.yp.n_(n.ls,[n.fMa,p].join("."),t);this.yp.n_(n.ls,w,t);x31=4;break;}}function q(u){var y31;y31=2;for(;y31 !== 1;){switch(y31){case 2:v.yp.delete(n.ls,u);y31=1;break;}}}};h.prototype.Jac=function(p){var A31,q;A31=2;for(;A31 !== 4;){switch(A31){case 2:var W5W="me";W5W+="diacache";W5W+="-error";var h5W="mediac";h5W+="a";h5W+="c";h5W+="he";q=new g.$f();q.on(this.yp,h5W,function(t){var B31;B31=2;for(;B31 !== 4;){switch(B31){case 1:t.keys || t.items.map(function(v){var C31;C31=2;for(;C31 !== 1;){switch(C31){case 2:return v.key;break;}}});B31=5;break;case 2:B31=t.keys || t.items?1:5;break;case 5:var a5W="m";a5W+="edia";a5W+="c";a5W+="ach";a5W+="e";p.emit(a5W,t);B31=4;break;}}});q.on(this.yp,W5W,function(t){var D31;D31=2;for(;D31 !== 5;){switch(D31){case 2:var d5W="media";d5W+="c";d5W+="a";d5W+="c";d5W+="he";var M5W="er";M5W+="r";M5W+="o";M5W+="r";t.type=M5W;p.emit(d5W,t);D31=5;break;}}});A31=4;break;}}};g21=19;break;case 19:return h;break;}}function h(p,q,t){var h21;h21=2;for(;h21 !== 12;){switch(h21){case 2:var V5W="media";V5W+="|as";V5W+="e";V5W+="j";V5W+="s";var L5W="ME";L5W+="DI";L5W+="A";L5W+="CACHE";this.H=new q.Console(L5W,V5W);this.Dma=(p.ZDa || p.$Da) && 0 < (p.wW || (q.options || ({})).cQ || 0);this.Uwb=p.RNb?p.RNb:!1;this.oH=p.lxa?p.lxa:!1;h21=3;break;case 3:this.oyb=p.$ab?p.$ab:!1;this.L=p;this.Cp=q;this.ce=t;h21=6;break;case 6:var y5W="1";y5W+="SIYbZ";y5W+="rNJCp";y5W+="9";var P5W="Media";P5W+=" cache ha";P5W+="s not been initiaiz";P5W+="ed";this.zu=Promise.reject(P5W);this.zu.catch(function(){});y5W;h21=12;break;}}}})();b.EMa=a;(0,r.Ue)(g.EventEmitter,a);},function(r,b,a){var c,g,k,m,f;c=a(11);k=[];f=!1;r.exports={vP:function(d,l,n){var h;if(f)c.md(n) && (g.wv || g.dJ?setTimeout(function(){n(g);},0):k.push(n));else {f=!0;h=a(133);h.bY(d);m=new h.Console("MEDIACACHE","media|asejs");g=new (a(454))(l,function(p){p && m.warn("Failed to initialize MediaCache",p);c.md(n) && setTimeout(function(){n(g);},0);k.map(function(q){setTimeout(function(){q(g);},0);});});}return g;},Coc:function(d,l){g=new (a(454))(d,function(n,h){n && m.warn("Failed to initialize MediaCache",n);c.md(l) && setTimeout(function(){l(h);},0);});}};},function(r,b,a){var g,k,m,f,d;function c(l){this.ss=l;this.context=l.context;this.qcb="NULLCONTEXT" === l.context?!0:!1;}g=a(11);k=a(133);m=new k.Console("DISKCACHE","media|asejs");f={context:"NULLCONTEXT",read:function(l,n,h,p,q){q("MediaCache is not supported");},remove:function(l,n,h){h("MediaCache is not supported");},create:function(l,n,h,p){p("MediaCache is not supported");},append:function(l,n,h,p){p("MediaCache is not supported");},query:function(l,n,h){h([]);}};c.prototype.EH=function(){var l,n,h;l=Array.prototype.slice.call(arguments);n=l[0];h=l[l.length - 1];l=l.slice(1,l.length - 1);l.push(function(p){h(null,p);});try{if(this.qcb)throw Error("Media Cache not supported");n.apply(this.ss,l);}catch(p){h(p);}};c.prototype.query=function(l,n,h,p){try{if(this.qcb)throw Error("Media Cache not supported");this.ss.query(l,n,function(q){h(null,q);},p);}catch(q){h(q);}};c.prototype.read=function(l,n,h,p,q){this.EH(this.ss.read,l,n,h,p,q);};c.prototype.remove=function(l,n,h){this.EH(this.ss.remove,l,n,h);};c.prototype.create=function(l,n,h,p){this.EH(this.ss.create,l,n,h,p);};c.prototype.append=function(l,n,h,p){this.EH(this.ss.append,l,n,h,p);};c.prototype.info=function(l){this.EH(this.ss.info,l);};c.prototype.validate=function(l){this.EH(this.ss.validate,l);};c.prototype.flush=function(l){this.EH(this.ss.flush,l);};c.prototype.clear=function(){this.ss.clear();};r.exports={QJb:function(l){var n,h,p,q,t;n=l.Xnc || "NRDMEDIADISKCACHE";d=l.wW || 0;0 !== d || g.ta(k.options) || g.ta(k.options.cQ) || (d=k.options.cQ);l=d;try{p=k.storage.AMb;if(!p || !g.ek(p))throw (m.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(h=p[n]){m.warn("Disk store exists, returning");q=new c(h);}else {if(g.ta(k.storage) || !g.md(k.storage.u0a) || k.options && 0 === k.options.cQ)throw (m.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");m.warn("Disk store context doesn't exist, creating with size " + l);t=k.storage.u0a({context:n,size:l,encrypted:!0,signed:!0});if(!t || !t.valid)throw "Failed to create disk store context";q=new c(t);}}catch(v){m.warn("Exception creating disk store context - returning NullContext (noops)",v);q=new c(f);}return q;},eSb:function(){return d;},Cic:c};},function(r,b,a){var d,l,n,h,p,q,t,v,w;function c(){}function g(u,x,y,z,A){var B;B=d.md(z)?z:c;this.dx=u;this.Mg=y.Ls;this.fA=0;this.$wb=y.KOb || "NONE";this.Nz=d.ta(A) || d.tb(A)?0:A;this.Ze={};this.vu=y.bqc || l.storage.uT;this.Xw=x;this.iN=p.create(this.Xw,y.VKb * this.Nz,this.dx);this.on=this.addEventListener=w.addEventListener;this.removeEventListener=w.removeEventListener;this.emit=this.gb=w.gb;this.RUa=m(this,g.Ve.REPLACE);this.Cxb=m(this,g.Ve.uTa);this.xH;this.xH=y.Rlb?a(1072):a(1073);this.Xw.query(this.vu,this.Ir(""),(function(C,D){var E;if(C)B(C);else {E=this.iN.Vsa();C=Object.keys(D).filter(function(G){return G !== E && q.CP(G);}).map(this.wDa.bind(this));this.dda(C,(function(G,F){Object.keys(F).map((function(I){var L,M;L=F[I];this.Ze[q.M8(I)]=L;if(L.OAa && 1 < Object.keys(L.OAa).length){M=0;Object.keys(L.OAa).forEach((function(K){D[this.Ir(K)] && d.Oa(D[this.Ir(K)].size) && (M+=D[this.Ir(K)].size);}).bind(this));I=q.M8(I);this.Ze[I].size=M;}else (I=q.M8(I),D[this.Ir(I)] && (this.Ze[I].size=D[this.Ir(I)].size));}).bind(this));k(this.Xw,this.vu,this.dx,(function(I,L){this.fA=L;I?B(I):B(null,this);}).bind(this));}).bind(this));}}).bind(this));}function k(u,x,y,z){var A;A=d.md(z)?z:c;u.query(x,y,function(B,C){B?A(B):(B=Object.keys(C).reduce(function(D,E){return D + (C[E].size || 0);},0),A(null,B));});}function m(u,x){return function(y,z,A,B,C){return function(D,E){var G;if(D)(z || u.gb(g.Ve.Nf,{itemKey:y,error:D}),A(D));else {G={xl:0,duration:0,items:[],time:l.time.now()};Object.keys(E.actions).map(function(F){var I;I=E.actions[F];F={key:u.wDa(I.raa),Ml:F};I.ga?(G.xl+=I.xl,F.qaa=I.xl,d.Oa(I.duration) && (G.duration+=I.duration)):F.error=I.error;G.items.push(F);});D=d.md(B)?B():0;0 < C && (G.dO=C - D);k(u.Xw,u.vu,u.dx,function(F,I){F?A(F):(u.fA=I,G.Fo=u.Mg - I,z || u.gb(x,v.c5a(G)),A(null,G));});}};};}function f(u,x){return 0 < x && u >= x?!0:!1;}d=a(11);l=a(133);n=a(271);b=a(90);h=new l.Console("MEDIACACHE","media|asejs");p=a(1068);q=a(455);t=a(134);v=a(272);w=a(456).EventEmitter;b({Ve:{uTa:"writeitem",REPLACE:"replaceitem",Hha:"journalupdate",Nf:"mediacache-error"}},g);g.prototype.lTb=function(){return this.dx;};g.prototype.wDa=function(u){return u.slice(this.dx.length + 1);};g.prototype.Ksa=function(){return Object.keys(this.Ze).filter((function(u){u=q.fsa(this.Ze[u]);return void 0 === u || 0 >= u.W_a();}).bind(this));};g.prototype.vTb=function(){return Object.keys(this.Ze).reduce((function(u,x){var y;y=this.Ze[x];return y && y.creationTime < u.creationTime?{resourceKey:x,creationTime:y.creationTime}:u;}).bind(this),{resourceKey:null,creationTime:l.time.now()}).grc;};g.prototype.pSb=function(){var u;switch(this.$wb){case "FIFO":u=this.vTb();}return u;};g.prototype.SLb=function(u){var x;x=d.md(u)?u:c;this.P5a((function(y){var z,A,B;z=this.Ze;A=Object.keys(z).reduce(function(C,D){D=z[D];D.resourceIndex && Object.keys(D.resourceIndex).forEach(function(E){C.push(E);});return C;},[]);if((y=y.filter(function(C){return !q.CP(C) && 0 > A.indexOf(C);})) && 0 < y.length){B=this;y=l.Promise.all(y.map(function(C){return new l.Promise(function(D,E){B.delete(C,function(G){G?E(G):D();});});})).then(function(){x(void 0,{lAa:!0});},function(C){x(C,{lAa:!1});});v.Ay(y);}else u(void 0,{lAa:!1});}).bind(this));};g.prototype.x7b=function(u,x,y){var z,A;z=d.md(x)?x:c;x=this.Ir(u);A=l.time.now();this.Xw.read(this.vu,x,0,-1,(function(B,C){var D;if(B)z(B);else if(C && C.ga && C.value){d.md(y) || (y=this.xH.sX(t.ns.kG),q.CP(u)?y=this.xH.sX(t.ns.G3):(B=this.Ze[u],!d.ta(B) && d.Oa(B.resourceIndex[u])?(B=B.resourceIndex[u],d.ta(B) && (B=t.ns.kG),y=this.xH.sX(B)):h.warn("Metadata is undefined or does not contain a resource format for key",u,":",B)));try{D=y(C.value);}catch(E){return z(n.UL.fs(E.message));}C={duration:l.time.now() - A};this.Ze[u] && d.Oa(this.Ze[u].size) && (C.vA=d.Oa(this.Ze[u].size)?this.Ze[u].size:0);z(null,D,C);}else z(n.UL.fs(C.error));}).bind(this));};g.prototype.read=function(u,x,y){this.x7b(u,x,y);};g.prototype.dda=function(u,x,y){var z,A,B;z=d.md(x)?x:c;if("[object Array]" !== Object.prototype.toString.call(u))z(n.UL.fs("item keys must be an array"));else {A={};B=[];u=l.Promise.all(u.map((function(C){return new l.Promise((function(D,E){var G;y && !d.ta(y[C]) && (G=this.xH.sX(y[C]));this.read(C,function(F,I,L){F?(I={},I[C]=F,E(I)):(A[C]=I,B.push({duration:L.duration,vA:L.vA}),D());},G);}).bind(this));}).bind(this))).then(function(){var C;C={};0 < B.length && (C=B.reduce(function(D,E){d.Oa(E.duration) && (D.duration+=E.duration);d.Oa(E.vA) && (D.vA+=E.vA);return D;},{duration:0,vA:0}));z(null,A,C);},function(C){z(C);});v.Ay(u);}};g.prototype.write=function(u,x,y,z,A){var B,C,D;y=d.md(y)?y:c;B=this.Ir(u);C="function" === typeof A?A():0;D=t.Sta(x);D=this.xH.Ata(D)(x);D.byteLength + this.fA >= this.Mg?y(n.qL):f(D.byteLength + C,this.Nz)?y(n.z4):this.iN.save(this.vu,B,x,this.Cxb(u,z,y,A,this.Nz),D.byteLength);};g.prototype.replace=function(u,x,y,z,A){var B,C,D,E;B=d.md(y)?y:c;C=this.Ir(u);D=0;"function" === typeof A && (D=A());y=t.Sta(x);E=this.xH.Ata(y)(x);y=(this.Ze[u] || ({})).size || 0;0 >= y && this.Ze[u]?this.r6a([u],(function(G){h.trace("Replacing key",u,"which exists:",! !this.Ze[u],this.Ze[u]?this.Ze[u]:void 0,"and has size",G,"with",x,"with size",E.byteLength,"plus _used",this.fA,"vs capacity",this.Mg);E.byteLength - G + this.fA >= this.Mg?B(n.qL):f(E.byteLength - G + D,this.Nz)?B(n.z4):this.iN.replace(this.vu,C,x,this.RUa(u,z,B,A,this.Nz),E.byteLength);}).bind(this)):(h.trace("Replacing key",u,"which exists:",! !this.Ze[u],this.Ze[u]?this.Ze[u]:void 0,"and has size",y,"with",x,"with size",E.byteLength,"plus _used",this.fA,"vs capacity",this.Mg),E.byteLength - y + this.fA >= this.Mg?B(n.qL):f(E.byteLength - y + D,this.Nz)?B(n.z4):this.iN.replace(this.vu,C,x,this.RUa(u,z,B,A,this.Nz),E.byteLength));};g.prototype.K8b=function(u,x,y,z){var A;A=d.md(x)?x:c;"[object Object]" !== Object.prototype.toString.call(u)?A(n.y4.fs("items must be a map of keys to objects")):(x=l.Promise.all(Object.keys(u).map((function(B){return new l.Promise((function(C){this.replace(B,u[B],function(D,E){D?C({error:D,Vr:B}):C(E);},!0,z);}).bind(this));}).bind(this))).then((function(B){var C,D,E,G;try{C=Number.MAX_VALUE;D=B.reduce(function(F,I){I.error || (F.xl+=I.xl,d.Oa(I.duration) && (F.duration+=I.duration),!d.ta(I.Fo) && I.Fo < C && (C=I.Fo),I.items.map(function(L){F.items.push({key:L.key,Ml:L.Ml,qaa:L.qaa,p_b:L.p_b,duration:L.duration});}),C < Number.MAX_VALUE && (F.Fo=C));return F;},{xl:0,items:[],time:l.time.now(),duration:0});0 < this.Nz && (D.dO=this.Nz - z());E=B.filter(function(F){return !d.ta(F.error);});G=v.i7a(E);y || (G?G.forEach((function(F){this.gb(g.Ve.Nf,F);}).bind(this)):this.gb(g.Ve.REPLACE,v.c5a(D)));A(G,D);}catch(F){A(F);}}).bind(this),(function(B){y || this.gb(g.Ve.Nf,B);A(B);}).bind(this)),v.Ay(x));};g.prototype.delete=function(u,x){var y;y=d.md(x)?x:c;this.Xw.remove(this.vu,this.Ir(u),(function(z,A){z?y(z):A && A.ga?k(this.Xw,this.vu,this.Ir(""),(function(B,C){B?y(B):(this.fA=C,y());}).bind(this)):y(n.rpb.fs(A.error));}).bind(this));};g.prototype.P5a=function(u){this.query("",function(x,y){x?(h.error("Failed to get keys",x),u([])):u(y);});};g.prototype.query=function(u,x){var y,z;y=d.md(x)?x:c;z=this.iN.Vsa();this.Xw.query(this.vu,this.Ir(u),(function(A,B){A?y(A):y(null,Object.keys(B).filter(function(C){return C !== z;}).map(this.wDa.bind(this)));}).bind(this));};g.prototype.Ir=function(u){return this.dx + "." + u;};g.prototype.clear=function(u){var x;x=d.md(u)?u:c;this.P5a((function(y){var z;z=l.Promise.all(y.map((function(A){return new l.Promise((function(B){A && this.delete(A,function(){B();});}).bind(this));}).bind(this))).then(function(){x(y);},(function(A){this.gb(g.Ve.Nf,A);x([],A);}).bind(this));v.Ay(z);}).bind(this));};g.prototype.r6a=function(u,x){var y,z;y=d.md(x)?x:c;z=(u || []).map((function(A){return this.Ir(A);}).bind(this));this.Xw.query(this.vu,this.dx,(function(A,B){A?(h.error("failed to get persisted size for keyset ",u,A),y(0)):(A=Object.keys(B).filter(function(C){return 0 <= z.indexOf(C);}).reduce(function(C,D){return C + (B[D].size || 0);},0),y(A));}).bind(this));};g.prototype.FRb=function(u){return this.iN.R4a(u);};g.prototype.constructor=g;r.exports=g;},function(r,b,a){var g,k,m,f,d,l,n,h;function c(p,q,t){var A,B;function v(C,D,E,G){C.info.call(C,(function(F,I){var L;if(F)G(F);else {try{L=I.values[this.context].entries[D][E].size;}catch(M){L=-1;}-1 < L?G(null,L):this.validate(function(M,K){M?G(M):(K[E] && (L=K[E].size),G(null,L));});}}).bind(C));}function w(C,D,E,G,F,I,L){var M;I?I.actions || (I.actions={}):I={actions:{}};A(G);M=k.time.now();G=new n(function(K,O){C.create(k.storage.uT,D,E,function(H,J){H?O(H):K(J);});}).then(function(K){K.ga?v(C,k.storage.uT,D,function(O,H){O?L(O):(B(H),A(H),I.actions[c.r1.Hha]={ga:!0,time:F,xl:H,raa:D,mfb:K,duration:k.time.now() - M},I.Fo=K.Fo,L(null,I));}):(I.actions[c.r1.Hha]={ga:!1,raa:D,error:K.error},L(null,I));},function(K){L(K);});d.Ay(G);}function u(C,D,E,G,F,I){G.No(E.time,E);for(var L=E.time - 864E5,M=G.qy();M && !isNaN(M.time) && M.time < L;){M=G.hO();A(0 - (M.ea || 0));M=G.qy();}G=G.Vn().map(function(K){return K.time + ";" + K.ea;});w(C,D,Array.prototype.join.call(G,"|"),E.ea,E.time,F,I);}function x(C,D,E,G,F,I,L,M,K){var O;O=k.time.now();C.create(E,G,F,function(H,J){var R;if(H)l.error("Failed to replace item",G,H);else if(J.ga){R=J.Fo;v(C,E,G,function(P,T){var V,S;if(P)K(P);else {P={time:M,ea:T || 0};V={Fo:R,actions:{}};S=k.time.now() - O;V.actions[c.r1.REPLACE]={ga:!0,time:M,xl:T,raa:G,mfb:J,duration:S};I?u(C,D,P,L,V,K):(A(T),K(null,V));}});}else K(m.y4.fs(J.error || "Failed to create item"));});}function y(C,D,E,G,F,I,L,M,K){var O;O=k.time.now();C.append(E,G,F,function(H,J){var R;if(H)(l.error("Failed to save item " + G,H),K(H));else if(J.ga){R=J.Fo;v(C,E,G,function(P,T){var V,S;if(P)K(P);else {P={time:M,ea:T || 0};V={Fo:R,actions:{}};S=k.time.now() - O;V.actions[c.r1.Bub]={ga:!0,time:M,xl:T,raa:G,mfb:J,duration:S};I?u(C,D,P,L,V,K):(A(T),K(null,V));}});}else K(m.y4.fs(J.error || "Failed to save item"));});}function z(C,D){C && g.md(C.remove) && C.ss.valid && C.remove(k.storage.uT,D.KM,function(E,G){if(E)l.error("Failed to delete old journal key",E);else try{G && (g.ta(G.error) || G.error.some(function(F){return "NFErr_FileNotFound" === F.noc;})) && u(C,D.KM,{time:0,ea:0},D.PU,0,function(){});}catch(F){}});}if(!p.ss.valid)return h;this.hUa=g.ta(q) || g.tb(q)?0:q;this.Uka=p;this.Bla=this.YT=0;this.PU=new f();this.Dzb=t || "default";this.KM=this.Dzb + ".NRDCACHEJOURNALKEY";A=(function(C){isNaN(C) || (this.YT+=C);return this.YT;}).bind(this);B=(function(C){isNaN(C) || (this.Bla+=C);return this.Bla;}).bind(this);this.Vsa=function(){return this.KM;};this.save=function(C,D,E,G){var F;F=k.time.now();y(this.Uka,this.KM,C,D,E,0 <= this.hUa,this.PU,F,G);};this.replace=function(C,D,E,G){var F;F=k.time.now();x(this.Uka,this.KM,C,D,E,0 <= this.hUa,this.PU,F,G);};this.R4a=function(C){var D,F;D=this.YT;C-=864E5;for(var E=this.PU.Vn(),G=0;G < E.length;G++){F=E[G];F.time < C && !isNaN(F.ea) && (D-=F.ea);}return D;};(function(C){var D;D=C.Uka;C.YT=0;D.read(k.storage.uT,C.KM,0,-1,function(E,G){var F,I,L,K;F=[];I=0;L=!0;if(E)l.error("Failed to compile records",E);else if(G.ga){E=String.fromCharCode.apply(null,new Uint8Array(G.value));E=String.prototype.split.call(E,"|");G=E.reduce(function(O,H){return O + (H.length + 40);},0);A(G);F=E.map(function(O){O=O.split(";");return {time:Number(O[0]),ea:Number(O[1])};});try{if(!isNaN(F.reduce(function(O,H){return O + H.ea;},0))){L=!1;for(var M=k.time.now() - 864E5;I < F.length;I++){K=F[I];K.time < M || (C.PU.No(K.time,K),A(K.ea));}}}catch(O){}}L && z(D,C);});})(this);}g=a(11);k=a(133);m=a(271);f=a(1069);b=a(90);d=a(272);l=new k.Console("DISKWRITEMANAGER","media|asejs");n=k.Promise;b({r1:{Bub:"saveitem",REPLACE:"replaceitem",Hha:"journalupdate"}},c);h={save:function(p,q,t,v){v(m.cMa);},replace:function(p,q,t,v){v(m.cMa);},Vsa:function(){return "";},R4a:function(){return 0;}};c.prototype.constructor=c;r.exports={create:function(p,q,t){return new c(p,q,t);},zkc:h};},function(r){function b(g){if(!(this instanceof b))return new b(g);if("undefined" === typeof g)this.ho=function(k,m){return k <= m;};else {if("function" !== typeof g)throw Error("heap comparator must be a function");this.ho=g;}this.Nq=[];}function a(g,k){var m,f,d,l,n,h,p;m=g.Nq;f=g.ho;d=2 * k + 1;l=2 * k + 2;n=m[k];h=m[d];p=m[l];h && f(h.priority,n.priority) && (!p || f(h.priority,p.priority))?(c(m,k,d),a(g,d,f)):p && f(p.priority,n.priority) && (c(m,k,l),a(g,l,f));}function c(g,k,m){var f;f=g[k];g[k]=g[m];g[m]=f;}b.prototype.clear=function(){this.Nq=[];};b.prototype.No=function(g,k){this.Nq.push({priority:g,value:k});g=this.Nq;k=this.ho;for(var m=g.length - 1,f=0 === m?null:Math.floor((m - 1) / 2);null !== f && k(g[m].priority,g[f].priority);){c(g,m,f);m=f;f=0 === m?null:Math.floor((m - 1) / 2);}};b.prototype.remove=function(){var g;if(0 !== this.Nq.length){g=this.Nq[0];c(this.Nq,0,this.Nq.length - 1);this.Nq.pop();a(this,0);return g.value;}};b.prototype.qy=function(){if(0 !== this.Nq.length)return this.Nq[0].value;};b.prototype.enqueue=b.prototype.No;b.prototype.hO=b.prototype.remove;b.prototype.baa=function(){return 0 === this.Nq.length;};b.prototype.Vn=function(){return this.Nq.map(function(g){return g.value;});};r.exports=b;},function(r){function b(c,g){var k;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Kd)return (this.Kd={},this.Kd[c]=[g],!0);k=this.Kd[c];return void 0 === k?(this.Kd[c]=[g],!0):0 > k.indexOf(g)?(k.push(g),!0):!1;}function a(c,g){c=this.Kd?this.Kd[c]:void 0;if(!c)return !1;c.forEach(function(k){k(g);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,g){var k;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Kd)return !1;k=this.Kd[c];if(void 0 === k)return !1;g=k.indexOf(g);if(0 > g)return !1;if(1 === k.length)return (delete this.Kd[c],!0);k.splice(g,1);return !0;},gb:a,emit:a,removeAllListeners:function(c){this.Kd && (void 0 === c?delete this.Kd:delete this.Kd[c]);return this;}};},function(r){function b(c,g,k,m){c.trace(":",k,":",m);g(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,g,k,m){k=m?k.bind(m):k;m=!1;if(c){this.console && (k=b.bind(null,this.console,k,g));if("function" === typeof c.addEventListener)m=c.addEventListener(g,k);else if("function" === typeof c.addListener)m=c.addListener(g,k);else throw Error("Emitter does not have a function to add listeners for '" + g + "'");this.listeners.push([c,g,k]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(g){var k,m;k=g[0];m=g[1];g=g[2];"function" === typeof k.removeEventListener?k.removeEventListener(m,g):"function" === typeof k.removeListener && k.removeListener(m,g);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var c,g,k,m;c=a(11);g=a(134);k={};k[g.ns.kG]=function(f){return f;};k[g.ns.g4]=function(f){f=f || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(f));};k[g.ns.G3]=function(f){var d;d=f || new ArrayBuffer(0);f="";d=new Uint8Array(d);for(var l=0;l < d.byteLength;l++){f+=String.fromCharCode(d[l]);}return JSON.parse(f);};m={};m[g.ns.kG]=function(f){return f;};m[g.ns.g4]=function(f){for(var d=new ArrayBuffer(f.length),l=new Uint8Array(d),n=0,h=f.length;n < h;n++){l[n]=f.charCodeAt(n);}return d;};m[g.ns.G3]=function(f){return c.ta(f) || c.tb(f)?f:m[g.ns.g4](JSON.stringify(f));};r.exports={sX:function(f){return k[f] || k[g.ns.kG];},Ata:function(f){return m[f] || m[g.ns.kG];}};},function(r,b,a){function c(k){return k;}function g(){return c;}a(11);r.exports={sX:g,Ata:g};},function(r,b,a){var k;function c(m,f){return m.length > f.length?1:f.length > m.length?-1:0;}function g(m,f){var d,l,n;d=[];if(k.ek(f)){l={};n={};n[m]=l;d.push(n);d=Object.keys(f).reduce(function(h,p){var q,t,v;q=f[p];t={};if(k.W$(q)){v=m + ".__embed__." + p;t[v]=q;h.push(t);}else k.ek(q)?(v=m + ".__sub__." + p,q=g(v,q),l[p]=q[0][v],h=h.concat(q.slice(1))):l[p]=q;return h;},d);}else (n={},n[m]=f,d.push(n));return d;}k=a(134);r.exports={zMb:g,wXb:function(m){var f,d,l,v;f=Object.keys(m).map(function(w){return w.split(".");});f.sort(c);d=f[0];l=d.length;d=m[d.join(".")];for(var n=1;n < f.length;n++){for(var h=!1,p=!1,q=d,t=l;t < f[n].length;t++){v=f[n][t];switch(v){case "__metadata__":break;case "__sub__":p=!0;break;case "__embed__":h=!0;break;default:p?(q=q[v],p=!1):h && (q[v]=m[f[n].join(".")],h=!1);}}}return d;},bYb:function(m){return m && (0 <= m.indexOf("__sub__") || 0 <= m.indexOf("__embed__"));}};},function(r,b,a){var m,f;function c(d,l,n){Object.keys(d).forEach(function(h){var p,q;if(m.ek(d[h]))if(d[h].W$){p=d[h];q=n + p.offset;d[h]=l.slice(q,q + p.byteLength);}else d[h]=c(d[h],l,n);});return d;}function g(d,l,n){Object.keys(d).forEach(function(h){var p;if(m.W$(d[h])){p=d[h];l.push(p);d[h]={W$:!0,offset:n.Vpa,byteLength:p.byteLength};n.Vpa+=p.byteLength;}else m.ek(d[h]) && g(d[h],l,n);});return d;}function k(){var d,l,n;d=Array.prototype.concat.apply([],arguments);l=d.reduce(function(h,p){return h + p.byteLength;},0);n=new Uint8Array(l);d.reduce(function(h,p){n.set(new Uint8Array(p),h);return h + p.byteLength;},0);return n.buffer;}m=a(134);f=a(90);r.exports={SHb:function(d){var l,n,h;l=f(d,{});d=[];l=g(l,d,{Vpa:0});l=JSON.stringify(l);n=new ArrayBuffer(l.length + 4);h=new DataView(n);h.setUint32(0,l.length);for(var p=4,q=0,t=l.length;q < t;q++){h.setUint8(p,l.charCodeAt(q));p++;}d=[n].concat(d);return k.apply(null,d);},RHb:function(d){for(var l=new DataView(d,0,4).getInt32(0),n=new Uint8Array(d,4,l),h="",p=0;p < n.byteLength;p++){h+=String.fromCharCode(n[p]);}l=4 + l;h=JSON.parse(h);return c(h,d,l);}};},function(r,b,a){var g,k,m,f,d;function c(l){return {mediaType:l.mediaType,streamId:l.Pa,movieId:l.K,bitrate:l.bitrate,location:l.location,serverId:l.tc,saveToDisk:!0,offset:l.offset,bytes:l.ea,timescale:l.W,frameDuration:l.stream.ba && l.stream.ba.Ca,encrypted:l.pm,initSegments:1 < l.Sg.length?l.Sg.map(function(n){return {fi:n.te,s:n.data.byteLength,e:! !n.pm};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.ova=b.pva=b.f9a=b.i6a=b.F5a=b.I5a=b.cta=b.jta=b.ita=b.msa=b.nsa=b.bMa=void 0;g=a(0).__importStar(a(11));k=a(1077);m=a(433);f=a(8);d=a(20);b.bMa={fMa:"movieEntry",Tqb:"header",fia:"metadata",urb:"headerData",Fjc:"headerMetadata",Kqb:"sizes",Jqb:"durations",XIa:"fragments",psb:"response",ls:"billboard",xG:{lifespan:259200}};b.nsa=function(l,n,h){var p,q;p=n.headerData;h && n.sizes instanceof ArrayBuffer && n.durations instanceof ArrayBuffer && (q={Qn:h.startTicks,offset:h.offset,W:h.timescale,sizes:new Uint32Array(n.sizes),se:new Uint32Array(n.durations)});return {Fc:!0,mediaType:l.mediaType,K:l.movieId,Pa:l.streamId,bitrate:l.bitrate,location:l.location,tc:l.serverId,ea:l.bytes,offset:l.offset,jua:p,K$:l.initSegments,pm:l.encrypted,W:l.timescale,ba:l.frameDuration,Hi:l.saveToDisk,ha:q};};b.msa=function(l,n){var h,p,q;n=n.response;h=l.startTicks;p=l.durationTicks;void 0 !== h && void 0 !== p && (q=h + p);return {Fc:!1,mediaType:l.mediaType,K:l.movieId,Pa:l.streamId,bitrate:l.bitrate,location:l.location,tc:l.serverId,ea:l.bytes,offset:l.offset,response:n,W:l.timescale,Za:l.startTicks,Vu:p,Hi:l.saveToDisk,lb:q};};b.ita=function(l){return {priority:l.priority,K:l.movieId,headers:{},nP:0,jW:0,M7a:0,Hi:l.saveToDisk,bc:l.stats,Nx:l.firstSelectedStreamBitrate,pB:l.initSelectionReason,OE:l.histDiscountedThroughputValue,Zp:l.histTdigest,Yp:l.histAge,Ip:void 0};};b.jta=function(l,n,h,p,q){var t,v;t={headers:{},data:{}};p.forEach(function(w){var u,x,A;u=w.mediaType;u=q && q.Sx(u,w.Pa);x=[];if(w.Fc)if(!Array.isArray(w.K$) || 2 > w.K$.length)x.push({te:0,data:w.jua});else for(var y=0,z=0;z < w.K$.length;++z){A=w.K$[z];x.push({te:A.fi,data:w.jua.slice(y,y + A.s),pm:A.e});y+=A.s;}u?(w.ha && u.Zba(x,w.W,w.ba?new d.M(w.ba,w.W):void 0,w.ha),w.Fc && u && u.ee?(void 0 === t.headers && (t.headers={}),t.headers[w.Pa]=new m.H1(u,{ea:w.ea,offset:w.offset,Sg:x,pm:w.pm},n)):w.response instanceof ArrayBuffer && void 0 !== u.ha && void 0 !== w.Za && void 0 !== w.W && void 0 !== w.lb && (x=u.ha.W8(new d.M(w.Za,w.W).Z),void 0 !== x && (u=new k.iFa(u,{W:w.W,Za:w.Za,lb:w.lb,index:x.index,offset:w.offset,ea:w.ea},w.response,h,l,n),void 0 === t.data && (t.data={}),t.data[w.Pa] || (t.data[w.Pa]=[]),t.data[w.Pa].push(u)))):n.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + w.Pa + " movieId: " + w.K);});if(!g.ta(t.data)){v=t.data;Object.keys(v).forEach(function(w){v[w].sort(function(u,x){return u.Za - x.Za;});});}return t;};b.cta=function(l){return {mediaType:l.mediaType,streamId:l.Pa,movieId:l.K,bitrate:l.bitrate,location:l.location,serverId:l.tc,saveToDisk:!0,offset:l.offset,bytes:l.ea,timescale:l.W,startTicks:l.Za,durationTicks:l.Vu};};b.I5a=c;b.F5a=function(l){var n,h,p,q;n=c(l);if(l.stream.ee && l.stream && l.stream.ha){h={timescale:l.stream.ha.W,startTicks:l.stream.ha.Qn,offset:l.stream.ha.Ci(0)};p=l.stream.ha.GK;q=p.sizes.buffer;p=p.se.buffer;}return {mediaType:n.mediaType,streamId:n.streamId,movieId:n.movieId,bitrate:n.bitrate,location:n.location,serverId:n.serverId,saveToDisk:!0,offset:n.offset,bytes:n.bytes,timescale:n.timescale,frameDuration:n.frameDuration,headerData:(0,f.FA)(l.Sg.map(function(t){return t.data;})),initSegments:n.initSegments,encrypted:l.pm,fragments:h,sizes:q,durations:p};};b.i6a=function(l){return {priority:l.priority,movieId:l.K,saveToDisk:l.Hi,firstSelectedStreamBitrate:l.Nx,initSelectionReason:l.pB,histDiscountedThroughputValue:l.OE,histTdigest:l.Zp,histAge:l.Yp};};b.f9a=function(l){return !g.has(l,"startTicks");};b.pva=function(l){return !l.jua || !l.W || !l.ha || void 0 === l.ha.Qn || void 0 === l.ha.offset || void 0 === l.ha.se || !l.ha.se.length || void 0 === l.ha.sizes || !l.ha.sizes.length;};b.ova=function(l){return void 0 === l.ea || void 0 === l.offset || void 0 === l.W || void 0 === l.Za || void 0 === l.Vu;};},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.iFa=void 0;c=a(0);g=a(8);r=a(35);k=a(71);a=(function(m){function f(d,l,n,h,p,q){h=m.call(this,d,l,h,p,q) || this;l.ea=n.byteLength;k.wk.oa(h,d,l);h.ZM=n;h.iwb=l.ea;return h;}c.__extends(f,m);Object.defineProperties(f.prototype,{Fc:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{yv:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ig:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Bi:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{zg:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{response:{get:function(){return this.ZM;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{d_b:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{aborted:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{KO:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{iAa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{bytesReceived:{get:function(){return this.iwb;},enumerable:!1,configurable:!0}});f.prototype.zr=function(){return !0;};f.prototype.ND=function(d,l){this.me=l.appendBuffer(this.response,(0,g.Bv)(this));return {ga:this.me};};f.prototype.$h=function(){return -1;};f.prototype.abort=function(){return !0;};f.prototype.rd=function(){};f.prototype.Gea=function(){return !1;};return f;})(a(190).dG);b.iFa=a;(0,r.Ue)(k.wk,a);},function(r){r.exports="4.1.2197";},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D,E,G,F,I,L,M,K,O,H,J,R,P,T;Object.defineProperties(b,{__esModule:{value:!0}});b.VEa=void 0;c=a(0);g=a(14);k=a(406);m=a(1080);f=a(261);d=a(1081);l=a(254);n=a(6);a(250);h=a(1082);p=a(453);q=a(22);t=a(2);v=a(159);w=a(1083);u=a(1084);x=a(1085);y=a(72);z=a(273);A=a(1086);B=a(59);C=a(274);D=a(8);E=c.__importDefault(a(4));G=a(1087);F=a(1088);I=a(1089);L=a(1090);M=a(55);K=a(1091);O=a(460);H=a(1109);J=a(1110);R=a(1111);P=a(1166);T=a(1176);r=(function(){function V(S){this.H=S;this.events=new g.EventEmitter();this.Sc=k.zq.CLOSED;this.hA=[];this.c0=[];this.IU=[];this.Oq=[];this.VTa={};this.T5={};this.KCa=k.sS.default;this.YAb=new y.Qw({Vo:this,source:"engine",gq:10,console:S});}Object.defineProperties(V.prototype,{xy:{get:function(){(0,t.assert)(this.Yz);return this.Yz;},enumerable:!1,configurable:!0}});Object.defineProperties(V.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(V.prototype,{B5b:{get:function(){return this.IU;},enumerable:!1,configurable:!0}});Object.defineProperties(V.prototype,{WJ:{get:function(){return this.Oq.map(function(S){return S.ka;});},enumerable:!1,configurable:!0}});Object.defineProperties(V.prototype,{D5b:{get:function(){return this.Oq;},enumerable:!1,configurable:!0}});Object.defineProperties(V.prototype,{yc:{get:function(){this.VK();return this.DA.yc;},enumerable:!1,configurable:!0}});Object.defineProperties(V.prototype,{yt:{get:function(){this.VK();return this.DA.yt;},enumerable:!1,configurable:!0}});Object.defineProperties(V.prototype,{Xk:{get:function(){this.VK();return this.DA.Xk;},enumerable:!1,configurable:!0}});Object.defineProperties(V.prototype,{lgc:{get:function(){return this.hA.length;},enumerable:!1,configurable:!0}});Object.defineProperties(V.prototype,{GN:{get:function(){return this.VTa;},enumerable:!1,configurable:!0}});Object.defineProperties(V.prototype,{nZa:{get:function(){return this.vp;},enumerable:!1,configurable:!0}});Object.defineProperties(V.prototype,{NF:{get:function(){return this.T5;},enumerable:!1,configurable:!0}});Object.defineProperties(V.prototype,{N0b:{get:function(){return this.CVa || (this.CVa=this.xFb());},enumerable:!1,configurable:!0}});V.prototype.open=function(S,W,ia,ra){var ua;ua=this;if(this.Sc === k.zq.OPEN)return !1;this.L=S;this.cs=new B.MT(new C.j4({fk:!0,currentTime:function(){return D.M.Ja(E.default.time.ia());},speed:1}),this.H,"Engine Scheduler");this.PUa=new d.oJa(this.H,S);this.AD=new h.aRa(this.paa.bind(this),S);S.ifa && (this.vp=new m.gGa(this.H,function(){return ua.GN;}));this.DA=l.sL.P9(S,this.H,W);this.Sc=k.zq.OPEN;S=Object.create(S,{SCb:{value:S.Iba || S.sN}});this.Yz=(0,O.EX)(S);ia && this.Yz.cib(ia);ra && this.Yz.LBa(ra);this.leb=new H.jQa({Ok:function(){ua.Sc !== k.zq.CLOSED && ua.AD.Ok("playgraphOpportunity");}});this.DVa=new I.YMa(function(){return ua.N9();},function(){return ua.O9().global;},this.H);this.uKb();return !0;};V.prototype.nV=function(S,W,ia,ra,ua){var Aa,Ha,N;Aa=this;void 0 === ua && (ua=!0);this.VK();ia=Object.create(ia,{tR:{value:this.NF}});if(ua){Ha=this.xy.MGb(S,ia);if(Ha)return (Ha.Blb(W),S=this.Lt.bind(this,ra,Ha),Ha.rac(S),Ha);}Ha=new K.cRa(function(Q){return Aa.Lt(ra,N,Q);});N=(0,R.O7)(this.L,[S,W,ia,V.W1b++,this.yc,Ha,function(Q){return Aa.AD.Ok(Q);},ua?this.xy.LGb.bind(this.xy):function(){},this.N9.bind(this),this.vp],this.H);N.Pg(new u.WRa(N));N.Pg(new x.pSa(N.Fi));N.P$a.Pg(new L.uFa(N));this.aA.fK.forEach(function(Q){return N.Pg(Q);});this.leb.nV(N);S=new g.$f();S.on(N.events,"requestsPruned",this.g9b.bind(this));S.on(N.events,"weightUpdated",this.Cya.bind(this));S.on(N.events,"underflow",this.lk.bind(this,N));this.Oq.push({ka:N,ej:S,t_:0});this.Cya();return N;};V.prototype.lk=function(S){S=this.DVa.EQb(S);(null === S || void 0 === S?0:S.k8) || this.xy.reset();};V.prototype.eC=function(S){this.leb.eC(S);this.Oq=this.Oq.filter(function(W){return W.ka === S?(W.ej.clear(),!1):!0;});S.xb();this.Cya();};V.prototype.oCb=function(S,W){var ia,ra,ua;this.VK();ua=W.Wf;ua=void 0 === ua?[n.u.V,n.u.J]:ua;S=(0,P.YN)(this.L,[S,ua,c.__assign({tR:null !== (ra=null !== (ia=W.tR) && void 0 !== ia?ia:this.T5) && void 0 !== ra?ra:{}},W)]);this.IU.push(S);return S;};V.prototype.Zfb=function(S){this.VK();this.IU=this.IU.filter(function(W){return W !== S;});S.xb();};V.prototype.O$b=function(S,W){this.VTa=S;this.T5=W;this.CVa=void 0;};V.prototype.CK=function(S,W){var ia,ra;ra=null === (ia=(0,q.$c)(this.hA,function(ua){return ua.YV.equals(S);})) || void 0 === ia?void 0:ia.S;ra?ra.CK(c.__assign(c.__assign({},W),{Ro:this.$xa.bind(this)})):this.c0.push({omb:S,cCa:W});};V.prototype.agb=function(S){this.c0=this.c0.filter(function(W){return !W.omb.equals(S);});};V.prototype.close=function(){this.Sc !== k.zq.CLOSED && (this.s8b(),(0,t.assert)(0 === this.hA.length,"Unexpected viewable lease after Playgraph destruction."),this.r8b(),this.c0=[],delete this.DA,this.Sc=k.zq.CLOSED,this.cs.xb());};V.prototype.xac=function(S){this.KCa=S;this.AD.Ok("streamingModeChanged");};V.prototype.Vk=function(){return this.aA.Vk();};V.prototype.uKb=function(){this.aA=new M.yja(this.L);this.aA.Pg(new G.IIa(this));this.aA.Pg(new A.dRa(this.yc,this.AD));this.aA.Pg(new w.FIa(this.yc));this.aA.Pg(new z.Gz(this.YAb));this.aA.Pg(new z.Gz(this.AD.Er));this.aA.Pg(new z.Gz(this.PUa.ji));this.aA.Pg(new z.Gz(this.DVa.ji));};V.prototype.$xa=function(){};V.prototype.fL=function(S){return c.__awaiter(this,void 0,void 0,function(){var W,ia,ra,ua;return c.__generator(this,function(Aa){switch(Aa.label){case 0:return ((0,t.assert)(S,"ase.updateViewable(): Viewable config not found."),W=(0,q.$c)(this.hA,function(Ha){return !0 !== Ha.YV.Ix && Ha.YV.equals(S);}),(0,t.assert)(W,"ase.updateViewable(): Viewable entry not found."),[4,W.aG]);case 1:return (ia=Aa.kb(),ua=(ra=ia).fL,[4,S.du]);case 2:return (ua.apply(ra,[Aa.kb()]),[2]);}});});};V.prototype.Lt=function(S,W,ia){var ra,ua,Aa,Ha;ra=this;ua=ia.P;Aa=S.Xs(ua,ia.B_);(0,t.assert)(Aa,"ase.requestViewable(): Viewable config not found.");Ha=(0,q.$c)(this.hA,function(N){return !0 !== N.YV.Ix && N.YV.equals(Aa);});Ha || (Ha={YV:Aa,aG:(function(){return c.__awaiter(ra,void 0,void 0,function(){var N,Q;return c.__generator(this,function(U){switch(U.label){case 0:return [4,Aa.du];case 1:return (N=U.kb(),Q=this.Dx(ua,Aa,N),Ha.S=Q,[2,Q]);}});});})(),S:void 0,uZb:new v.Pha(function(N){N() && ra.uAa(Ha);},(0,D.Ai)(E.default,this.H,("").concat(ua)))},this.hA.push(Ha));S=new T.rTa(Ha,this.H,W,ia);S.events.once("error",this.uAa.bind(this,Ha,!1));return S;};V.prototype.uAa=function(S,W){var ia,ra;void 0 === W && (W=!0);(0,t.assert)(S,"expected viewableEntry to exist");ia=S.S;ra=S.aG;W && (ia?ia.xb():ra.then(function(ua){ua.xb();}));this.hA=this.hA.filter(function(ua){return ua !== S;});};V.prototype.Dx=function(S,W,ia){var ua,Aa,Ha,N,Q,U;function ra(Z){ua.events.emit("logdata",Z);}ua=this;this.VK();Aa=ia.fa;Ha=ia.yl;N=ia.gg;Q=ia.Wf;Q=void 0 === Q?n.ag:Q;ia=ia.config;U=[new p.nia(n.u.V),new p.nia(n.u.J)];Aa={fa:Aa,config:ia,yl:Ha,Wf:Q,s9:void 0,yc:this.DA.yc,Xk:this.DA.Xk,g3a:{et:function(){return ua.AD.Ok("networkFailureReset");},Yf:this.Yf.bind(this,S),Oo:this.Oo.bind(this,S),PB:ra},L7a:{PB:ra,KX:void 0,FE:function(Z){return U[Z];},$$:function(){return !0;},hg:void 0,Wl:void 0,Zh:void 0,NE:void 0},bR:{Fu:this.Fu.bind(this),fC:this.fC.bind(this)},NF:this.T5,Sb:0,kq:void 0,Yab:{lva:! !N,x9a:!1},rZ:function(){}};S=new f.gga(S,Aa);ia.rE && (Aa=(0,q.$c)(this.c0,function(Z){return Z.omb.equals(W);})) && (Aa=Aa.cCa,this.agb(W),S.CK(c.__assign(c.__assign({},Aa),{Ro:this.$xa.bind(this)})));return S;};V.prototype.paa=function(){var S,W;(0,t.assert)(this.state === k.zq.OPEN);S=this.O9();W=this.fP();return this.PUa.Wcb(S,W);};V.prototype.fP=function(){var S,W,ia;S=this;ia=null !== (W=this.L.c6b) && void 0 !== W?W:this.Oq.every(function(ra){return !ra.ka.Xp;});W=(0,q.flatten)(this.Oq.map(function(ra){return ra.ka.fP().map(function(ua){ra.ka.Xp || 1 === ra.t_ || (ua.UI=ra.t_);return ua;});}));this.KCa === k.sS.disabled?W=[]:this.KCa === k.sS.w_b && (W=W.filter(function(ra){return S.L.$wa >= ra.Vt - ra.Ps;}));ia || (ia=W.filter(function(ra){var ua;return 1 === (null !== (ua=ra.UI) && void 0 !== ua?ua:1);}),ia.length && (W=ia));ia=this.hA.reduce(function(ra,ua){return ua.S?c.__spreadArray(c.__spreadArray([],c.__read(ra),!1),c.__read(ua.S.fP()),!1):ra;},[]);return (0,q.flatten)(c.__spreadArray(c.__spreadArray([],c.__read(W),!1),c.__read(ia),!1));};V.prototype.VK=function(){if(this.Sc === k.zq.CLOSED)throw Error("Engine CLOSED");};V.prototype.s8b=function(){var S,ra;try{for(var W=c.__values(this.Oq),ia=W.next();!ia.done;ia=W.next()){ra=ia.value;ra.ej.clear();this.eC(ra.ka);}}catch(Aa){var ua;ua={error:Aa};}finally{try{ia && !ia.done && (S=W.return) && S.call(W);}finally{if(ua)throw ua.error;}}};V.prototype.r8b=function(){var S;try{for(var W=c.__values(this.IU),ia=W.next();!ia.done;ia=W.next()){this.Zfb(ia.value);}}catch(ua){var ra;ra={error:ua};}finally{try{ia && !ia.done && (S=W.return) && S.call(W);}finally{if(ra)throw ra.error;}}};V.prototype.Yf=function(S,W,ia,ra,ua,Aa,Ha){var N;void 0 === Ha && (Ha=!1);N=!1;this.x6a(S).forEach(function(Q){if(!Ha || (0,n.$p)(Q.xg.value))N=Q.Yf(W,S,ia,ra,ua,Aa,Ha);});return N;};V.prototype.Oo=function(S){return this.x6a(S).some(function(W){return W.Oo();});};V.prototype.x6a=function(S){return this.Oq.filter(function(W){var ia;for(W=W.ka;W.Bc;){W=W.Bc;}ia=W.ka;return Object.keys(ia.R).some(function(ra){return ia.R[ra].P === S;});}).map(function(W){return W.ka;});};V.prototype.O9=function(){var S;S=new F.mJa();this.Oq.forEach(function(W){var ia,ra;ia=W.ka;W=W.t_;ra=ia.O9();ra.UI=W;S.add(ia.id,ra);});return S;};V.prototype.N9=function(){return this.N0b;};V.prototype.xFb=function(){var S,W;W=(0,J.LZa)(this.L,this.GN);return {total:(S={},S[n.u.J]=this.GN.video || Infinity,S[n.u.V]=this.GN.audio || Infinity,S[n.u.Hb]=this.GN.text || Infinity,S.total=this.GN.total || Infinity,S),zCa:W};};V.prototype.Fu=function(S){var W;this.AD.Fu(S);null === (W=this.vp) || void 0 === W?void 0:W.Fu(S);};V.prototype.fC=function(S){this.AD.fC(S);};V.prototype.Cya=function(){var S;S=this.WJ.reduce(function(W,ia){return Math.max(ia.weight,0) + W;},0);this.Oq.forEach(function(W){W.t_=0 >= W.ka.weight?0:W.ka.weight / S;});};V.prototype.g9b=function(S){var W;W=this;this.vp && S.requests.forEach(function(ia){return W.vp.fC(ia);});};V.W1b=0;c.__decorate([(0,y.kc)({methodName:"open"})],V.prototype,"open",null);c.__decorate([(0,y.kc)({methodName:"addPlaygraph",context:function(S){var W,ia;return {playgraphCount:null !== (ia=null === (W=S.Kcb.Oq) || void 0 === W?void 0:W.length) && void 0 !== ia?ia:0};}})],V.prototype,"nV",null);c.__decorate([(0,y.kc)({methodName:"removePlaygraph",context:function(S){return {playgraphCount:S.Kcb.Oq.length};}})],V.prototype,"eC",null);c.__decorate([(0,y.kc)({methodName:"close"})],V.prototype,"close",null);c.__decorate([(0,y.kc)({methodName:"setStreamingMode",Es:!0})],V.prototype,"xac",null);c.__decorate([(0,y.kc)({methodName:"notifyAseException",Es:!0})],V.prototype,"$xa",null);c.__decorate([(0,y.kc)({methodName:"updateViewable"})],V.prototype,"fL",null);c.__decorate([(0,y.kc)({methodName:"requestViewable"})],V.prototype,"Lt",null);c.__decorate([(0,y.kc)({methodName:"removeViewable"})],V.prototype,"uAa",null);c.__decorate([(0,y.kc)({methodName:"createViewable"})],V.prototype,"Dx",null);c.__decorate([(0,y.kc)({methodName:"issueRequestOpportunity",Cl:!0,return:!0})],V.prototype,"paa",null);c.__decorate([(0,y.kc)({methodName:"reportStreamingFailure",Es:!0})],V.prototype,"Yf",null);return V;})();b.VEa=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.gGa=void 0;c=a(6);g=a(2);r=(function(){function k(m,f){this.H=m;this.kxb=f;this.lx=this.Sw=this.Vq=0;}k.prototype.Fu=function(m){var f;if(!m.Fc){f=m.ea;(0,g.assert)(0 < f);this.Vq+=f;m.mediaType === c.u.V?this.Sw+=f:this.lx+=f;(0,g.assert)(this.Vq === this.Sw + this.lx);(0,g.assert)(0 < this.Vq);(0,g.assert)(0 <= this.Sw);(0,g.assert)(0 <= this.lx);}};k.prototype.fC=function(m){var f;if(!m.Fc){f=m.ea;(0,g.assert)(0 < f);this.Vq-=f;m.mediaType === c.u.V?this.Sw-=f:this.lx-=f;(0,g.assert)(this.Vq === this.Sw + this.lx);(0,g.assert)(0 <= this.Vq);(0,g.assert)(0 <= this.Sw);(0,g.assert)(0 <= this.lx);}};k.prototype.sGb=function(m,f){var d;(0,g.assert)(this.Vq === this.Sw + this.lx);d=this.kxb();if(void 0 !== d.total && this.Vq + f > d.total)return !1;d=m === c.u.V?d.audio:d.video;m=m === c.u.V?this.Sw:this.lx;return void 0 !== d && m + f > d?!1:!0;};return k;})();b.gGa=r;},function(r,b,a){var g,k,m,f,d,l,n;function c(h,p){return h.filter(function(q){return q.groupId === p.groupId;}).reduce((0,m.sbb)(function(q){return q.UB;}),p).UB;}Object.defineProperties(b,{__esModule:{value:!0}});b.oJa=void 0;g=a(0);k=a(250);m=a(22);f=a(6);d=a(72);l=g.__importDefault(a(4));n=a(458);r=(function(){function h(p,q){this.H=p;this.config=q;this.n$a=0;this.ji=new d.Qw({gq:10,Vo:this,source:"GraphStreamingProcess"});}h.prototype.Wcb=function(p,q){var t,v,w,u,x,y,z,A,D,E,G,F,I;w=!1;u=[];if(0 < q.length){x=this.zbc(q);y=x.some(function(M){return 1 === (0,n.NZa)(M) && (0,f.$p)(M.xg);});z=x.slice();A=[!1,!1,!1];try{for(var B=g.__values(x),C=B.next();!C.done;C=B.next()){D=C.value;if(D.XE && "global" !== A[D.mediaType]){E=D.I9a(p,null !== (v=D.UI) && void 0 !== v?v:1);G=(0,k.yfb)(E.reason);G && (A[D.mediaType]=G,(0,m.rYa)(z,D));if(E.result){F=c(z,D);if(this.AGb(D,y,F)){I=D.M9a();this.zwa(u,D,I.reason);I.zj && (this.n$a=l.default.time.ia());if(w=I.zj)break;if("globalVideoMemoryLimit" === I.reason || "globalAudioMemoryLimit" === I.reason){this.H.trace("GSP.onRequestOpportunity stopping at memory limit:",I.reason);break;}}else if((this.zwa(u,D,"concurrencyCheck"),!G))break;}else this.zwa(u,D,E.reason);}}}catch(M){var L;L={error:M};}finally{try{C && !C.done && (t=B.return) && t.call(B);}finally{if(L)throw L.error;}}}this.ji.Eu({streamableCount:q.length,streamableReasons:u,lastSuccessfulIssueRequestMs:this.n$a});return w;};h.prototype.zbc=function(p){return this.D6b(p).sort(function(q,t){return q.priority - t.priority;}).map(function(q){return q.gcc;});};h.prototype.D6b=function(p){var q;q=this;return p.map(function(t){return {priority:-(0,n.MZa)(q.config,t,q.H),gcc:t};});};h.prototype.zwa=function(p,q,t){this.ji.enabled && p.push(this.yUb(t,q));};h.prototype.yUb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.xg,currentPlayerMs:q.Ps,pathCompletePlayerMs:q.UB,streamingPlayerMs:q.Vt};};h.prototype.AGb=function(p,q,t){return this.config.MV && (q || (0,f.$p)(p.xg))?this.BGb(p,t):this.CGb(p,t);};h.prototype.DGb=function(p){return p.Vt <= p.UB;};h.prototype.CGb=function(p,q){return p.Vt - (p.Ps > q?p.Ps:q) <= Math.max(this.config.Cxa,Math.min((p.UB - p.Ps) * this.config.ICa,this.config.t0b));};h.prototype.BGb=function(p,q){var t,v;if(void 0 === this.config.MV)return !0;t=this.config.MV;v=p.Ps + t;return p.Vt <= v?!0:this.DGb(p) && q >= v && p.Vt - q < t;};g.__decorate([(0,d.kc)({methodName:"onRequestOpportunity",Cl:!0})],h.prototype,"Wcb",null);return h;})();b.oJa=r;},function(r,b,a){var c,g,k,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.aRa=void 0;c=a(0);g=a(2);k=c.__importDefault(a(4));m=a(72);f=a(8);r=(function(){function d(l,n){var F31,h;F31=2;for(;F31 !== 14;){switch(F31){case 9:var z4W="Req";z4W+="ue";z4W+="stPac";z4W+="er";var v4W="1";v4W+="SIYb";v4W+="Z";v4W+="rNJCp9";this.gBa=!1;v4W;this.Er=new m.Qw({Vo:this,source:z4W,LXa:function(){var G31;G31=2;for(;G31 !== 1;){switch(G31){case 2:return {numOutstanding:h.qH};break;}}},gq:10});F31=6;break;case 2:h=this;this.paa=l;F31=5;break;case 6:this.qgb=new f.OG();F31=14;break;case 5:this.config=n;this.qH=0;F31=3;break;case 3:var E4W="m";E4W+="edi";E4W+="a|asejs";var t4W="ASEJS_REQU";t4W+="E";t4W+="ST_";t4W+="PAC";t4W+="ER";this.console=new k.default.Console(t4W,E4W);F31=9;break;}}}var E31;E31=2;for(;E31 !== 13;){switch(E31){case 7:var J4W="g";J4W+="_";J4W+="a";var U4W="checkReque";U4W+="stOp";U4W+="portunityRun";U4W+="n";U4W+="er";var x4W="f";x4W+="C";var f4W="r";f4W+="emo";f4W+="veRequ";f4W+="est";c.__decorate([(0,m.kc)({methodName:f4W,Cl:!0})],d.prototype,x4W,null);c.__decorate([(0,m.kc)({methodName:U4W,Cl:!0})],d.prototype,J4W,null);return d;break;case 8:var K4W="F";K4W+="u";var B4W="ad";B4W+="dRe";B4W+="qu";B4W+="es";B4W+="t";c.__decorate([(0,m.kc)({methodName:B4W,Cl:!0})],d.prototype,K4W,null);E31=7;break;case 2:var b4W="O";b4W+="k";var A4W="chec";A4W+="kReque";A4W+="stOpportunity";Object.defineProperties(d.prototype,{z2b:{get:function(){var H31;H31=2;for(;H31 !== 1;){switch(H31){case 2:return this.qH;break;}}},enumerable:!1,configurable:!0}});d.prototype.Ok=function(){var I31,l,n;I31=2;for(;I31 !== 9;){switch(I31){case 7:l=this;I31=6;break;I31=1;break;case 1:I31=!this.gBa?5:9;break;case 5:this.gBa=!0;n=k.default.time.ia();return Promise.resolve().then(function(){var J31;J31=2;for(;J31 !== 5;){switch(J31){case 2:l.gBa=!1;l.g_a(n);J31=5;break;}}});break;case 2:l=this;I31=1;break;}}};d.prototype.Fu=function(l){var K31;K31=2;for(;K31 !== 4;){switch(K31){case 2:var i4W="More than max";i4W+="AllowedOutstandingReque";i4W+="sts are outstanding";this.Er.Eu({mediaType:l.mediaType,contentStartPts:l.Nd,contentEndPts:l.Pc});this.qH++;(0,g.assert)(this.qH <= this.config.Saa,i4W);K31=4;break;}}};d.prototype.fC=function(l){var L31;L31=2;for(;L31 !== 3;){switch(L31){case 2:var j4W="remove";j4W+="R";j4W+="equ";j4W+="est";var G4W="Received";G4W+=" rem";G4W+="ove request whe";G4W+="n there";G4W+=" are no requests outstanding";this.Er.Eu({mediaType:l.mediaType,contentStartPts:l.Nd,contentEndPts:l.Pc});this.qH--;(0,g.assert)(0 <= this.qH,G4W);this.Ok(j4W);L31=3;break;}}};d.prototype.g_a=function(l){var M31,n,h,p;M31=2;for(;M31 !== 9;){switch(M31){case 1:this.qgb.push(h);M31=5;break;case 2:(n=this.config.Saa,h=k.default.time.ia() - l,p=0);M31=1;break;case 5:M31=this.qH < n && this.paa()?4:3;break;case 4:p++;M31=5;break;case 13:p--;M31=3;break;M31=5;break;case 3:var g4W="requestOpportuni";g4W+="tyRun";g4W+="nerComplete";this.Er.GXa(g4W,{requestsIssued:p,scheduledMs:l,timeSinceScheduled:h},!0);M31=9;break;}}};c.__decorate([(0,m.kc)({methodName:A4W,Cl:!0,Es:!0})],d.prototype,b4W,null);E31=8;break;}}})();b.aRa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.FIa=void 0;c=a(55);r=(function(){function g(k){this.yc=k;}Object.defineProperties(g.prototype,{re:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.Vk=function(k){var m;if(k.dj === c.yf.Ts && this.yc){k={};m=this.yc.get();m && m.avtp && m.avtp.va && (k.avtp=m.avtp.va,k.dltm=m.avtp.p8);m && m.initialThroughput && m.initialThroughput.va && (k.initial_avtp=m.initialThroughput.va);m && m.cdnavtp && (k.cdnavtp=m.cdnavtp,k.activecdnavtp=m.activecdnavtp);if(m=this.yc.Q9())(m.bytesRequestedPacingVideo && (k.bytesRequestedPacingVideo=m.bytesRequestedPacingVideo,k.estimatedBytesPacedVideo=m.estimatedBytesPacedVideo,k.bytestotalVideo=m.bytestotalVideo,k.pacedAvtpVideo=m.pacedAvtpVideo),m.bytesRequestedPacingAudio && (k.bytesRequestedPacingAudio=m.bytesRequestedPacingAudio,k.estimatedBytesPacedAudio=m.estimatedBytesPacedAudio,k.bytestotalAudio=m.bytestotalAudio,k.pacedAvtpAudio=m.pacedAvtpAudio),m.pacedAvtp && (k.pacedAvtp=m.pacedAvtp));this.yc.flush();if(m=this.yc.v5a())for(var f in m){m.hasOwnProperty(f) && (k["ne" + f]=Number(m[f]).toFixed(6));}return k;}};return g;})();b.FIa=r;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.WRa=void 0;c=a(14);g=a(6);k=a(55);r=(function(){function m(f){this.jUa=!1;this.vE=new c.$f();this.vE.addListener(f.events,"streamSelection",this.zya.bind(this));}m.prototype.zya=function(f){this.jUa || (f.mediaType === g.u.V && void 0 === this.Tua?this.Tua=f:f.mediaType === g.u.J && void 0 === this.Xua && (this.Xua=f));};m.prototype.xb=function(){this.Xua=this.Tua=void 0;this.vE.clear();this.jUa=!0;};Object.defineProperties(m.prototype,{re:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});m.prototype.Vk=function(f){var d;if(f.dj === k.yf.Tt)return (f=null !== (d=this.Xua) && void 0 !== d?d:this.Tua,d={histdiscbw:null === f || void 0 === f?void 0:f.result.uv,histage:null === f || void 0 === f?void 0:f.result.Yp},f=null === f || void 0 === f?void 0:f.streamList.map(function(l){return void 0 !== l.H8?{vmaf:l.H8,streamIndex:l.mg,streamId:l.Pa}:void 0;}).filter(function(l){return void 0 !== l;}),0 < (null === f || void 0 === f?void 0:f.length) && (d.vmafEstimates=f),this.xb(),d);this.xb();};return m;})();b.WRa=r;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.pSa=void 0;r=a(0);c=a(14);g=a(10);k=r.__importDefault(a(4));a=(function(){function m(f){this.$d=f;this.F4=[];this.reset();}Object.defineProperties(m.prototype,{re:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Lv:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return g.N;},enumerable:!1,configurable:!0}});m.prototype.reset=function(){var f,d;f=this;null === (d=this.BM) || void 0 === d?void 0:d.clear();this.BM=new c.$f();this.BM.on(this.$d,"clockChanged",function(){f.reset();f.hX("initial");});this.BM.on(this.$d,"stopping",function(){f.hX("stopping");});this.BM.on(this.$d.Ba,"clockAdjusted",function(){f.hX("clockAdjusted");});this.BM.on(this.$d.Ba,"stopStart",function(){f.hX("stopStart");});this.BM.on(this.$d.Ba,"speedChanged",function(){f.hX("speedChanged");});};m.prototype.hX=function(f){this.F4.push({reason:f,audit:this.$d.sRb(),time:k.default.time.ia()});5 < this.F4.length && this.F4.shift();};m.prototype.Vk=function(){return this.F4;};return m;})();b.pSa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dRa=void 0;c=a(55);r=(function(){function g(k,m){this.yc=k;this.rgb=m;}Object.defineProperties(g.prototype,{re:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.Vk=function(k){var m;k=k.dj;if(k === c.yf.Ts || k === c.yf.Zt || void 0 === k){k={numOutstandingRequests:this.rgb.z2b,requestOpportunityDelayStats:this.rgb.qgb};m=this.yc.kXa;m && m.length && (k.activeRequests=JSON.stringify(m));return k;}};return g;})();b.dRa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.IIa=void 0;r=(function(){function a(c){this.D8=c;this.Lv="engine";this.enabled=!0;}Object.defineProperties(a.prototype,{re:{get:function(){return this.Lv;},enumerable:!1,configurable:!0}});a.prototype.Vk=function(){var c;c=this.D8.D5b.map(function(g){var k;k=g.ka;return {id:k.id,weight:k.weight,relativeWeight:g.t_};});return {prefetcher:this.D8.xy.getStats(),playgraphs:c,viewables:this.D8.lgc,players:this.D8.B5b.length};};return a;})();b.IIa=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.mJa=void 0;c=a(2);g=a(459);r=(function(){function k(){this.global=new g.rT();this.WJ={};}k.prototype.add=function(m,f){(0,c.assert)(void 0 === this.WJ[m],"Cannot add new memory object for playgraph");this.WJ[m]=f;this.global.add(f.Ms);this.global.add(f.vW);};return k;})();b.mJa=r;},function(r,b,a){var c,g,k,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.YMa=void 0;c=a(0);g=a(10);k=a(458);m=a(6);f=a(72);r=(function(){function d(l,n,h){this.Msa=l;this.xSb=n;this.H=h;this.ji=new f.Qw({Vo:this,console:h,source:"MemoryDeadlockProtector",gq:5});}d.prototype.EQb=function(l){var n,h,p,q;p=l.config;q=p.Dj + (null !== (h=null === (n=p.tR) || void 0 === n?void 0:n.Z) && void 0 !== h?h:0);n=this.xVb(q,l);g.N && this.H.debug(("MDP: has prebuf: ").concat(n));return n?{k8:!0}:(h=this.BFb(p),n=h.h4b,h=h.Kfc,n && h?(g.N && this.H.debug(("MDP: utilizing ").concat(Math.round(100 * h),"%")),h >= p.L0b?this.Agb(l,n):{k8:!0}):{k8:!1});};d.prototype.Agb=function(l,n){var h,p,q,t,v,u,z,A;this.ji.Eu({o:n});t=l.T;l=l.bb;v=t.bb;t=t.Fr;for(var w=0;w < v.length;w++){if(!v[w].uj){t=v[w];v=v.slice(0,w + 1);break;}}w=!1;u=[{mediaType:m.u.V,uA:0},{mediaType:m.u.J,uA:0},{mediaType:m.u.Hb,uA:0}];if(null === t || void 0 === t || !t.uj){l=l.map(function(C){return C;}).filter(function(C){return -1 === v.indexOf(C);}).sort(function(C,D){return (0,k.Boa)(C) - (0,k.Boa)(D);});try{for(var x=c.__values(l),y=x.next();!y.done;y=x.next()){z=y.value;A=z.YA();u[m.u.V].uA+=null !== (p=A.KD) && void 0 !== p?p:0;u[m.u.J].uA+=null !== (q=A.cu) && void 0 !== q?q:0;g.N && this.H.debug(("Resetting discontiguous branch ").concat(z.G.id),A);z.reset();if(w=u.every(function(C){return C.uA >= n[C.mediaType].uA;}))break;}}catch(C){var B;B={error:C};}finally{try{y && !y.done && (h=x.return) && h.call(x);}finally{if(B)throw B.error;}}}return {k8:w,Eoc:u};};d.prototype.BFb=function(l){var n,h,p,q,t;n=[m.u.V,m.u.J,m.u.Hb];if(!l.M0b)return {};h=this.xSb();p=this.Msa().total;q=l.K0b;t=0;l=n.map(function(v){var w;w=h[v] - p[v] * q;t=Math.max(0 < p[v]?h[v] / p[v]:0,t);return {uA:Math.max(0,w),mediaType:v};});return {Kfc:t,h4b:l};};d.prototype.xVb=function(l,n){var h,p;h=!1;n=n.Xp?n.T:void 0;if(null === n || void 0 === n?0:n.iXb){h=n.Gi.rm().map(function(q){return q.mediaType;});p=n.SRb();h=h.every(function(q){var t,v;if(q === m.u.V)q=null !== (t=p.Bs) && void 0 !== t?t:0;else if(q === m.u.J)q=null !== (v=p.hp) && void 0 !== v?v:0;else throw Error(("Unsupported media type:").concat(q));return q >= l;});}return h;};c.__decorate([(0,f.kc)({methodName:"resetDiscontiguousBranches",return:!0,Cl:!0})],d.prototype,"Agb",null);return d;})();b.YMa=r;},function(r,b,a){var c,g,k,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.uFa=void 0;r=a(0);c=a(8);g=r.__importDefault(a(28));k=a(22);m=r.__importDefault(a(438));f=a(55);a=(function(){function d(l){var n,h;n=this;this.ka=l;this.Yu="aseReport";this.EZa=c.M.vv;this.Bp=!1;if(0 === Math.floor(1E6 * Math.random()) % l.config.yN || l.config.Aoc){this.EZa=c.M.Ja(l.config.S6);this.ka.R6=!0;h=[];h[g.default.Sd.J]=new m.default(l.config,g.default.Sd.J);h[g.default.Sd.V]=new m.default(l.config,g.default.Sd.V);this.wma=h;this.ka.events.on("openComplete",function(){return n.open();});}}d.prototype.open=function(){this.ka.R6 && !this.Bp && (this.Bp=!0,this.ka.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.ka.events.on("streamSelection",this.zya.bind(this)));};d.prototype.zya=function(l){this.wma[l.mediaType].add(l.result,l.streamList);};d.prototype.Ita=function(){var l;l=(0,k.flatten)(this.wma.map(function(n){return n.get();}).filter(function(n){return void 0 !== n;}));this.wma.forEach(function(n){return n.reset(!0);});return l;};d.prototype.Sf=function(l){var n;n=l.dj;l=l.MXb;return this.ka.R6 && this.Bp && (l || n === f.yf.Ts) && (n=this.Ita()) && n.length?{vib:!0,event:{type:"asereport",strmsel:n}}:{vib:!1,event:{type:"asereport",strmsel:[]}};};return d;})();b.uFa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cRa=void 0;c=a(196);r=(function(){function g(k){this.C_=[];this.C_.push(k);}g.prototype.Lt=function(k,m){return c.HS.U$({P:k,B_:m},this.C_);};g.prototype.J8b=function(k){this.C_.pop();this.C_.push(k);};g.prototype.uXa=function(k){this.C_.unshift(k);};return g;})();b.cRa=r;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.uQa=void 0;c=a(0);g=a(14);k=a(6);m=a(8);f=a(196);d=a(22);l=a(2);n=a(1093);h=a(10);p=a(116);q=a(1094);t=c.__importDefault(a(4));v=a(400);w=a(1095);u=a(1103);x=a(1104);y=a(197);z=a(1106);A=a(1108);r=(function(){function B(C,D,E,G,F){void 0 === G && (G=new u.BHa());void 0 === F && (F=new w.AHa());this.a3a=C;this.config=D;this.Kfb=G;this.Hn=[];this.Aeb=[];this.$y=[];this.bc={S9a:0,T9a:0,P9a:0,qoa:0,Q9a:0,R9a:0,roa:0};this.events=new g.EventEmitter();this.H=(0,m.Ai)(t.default,E,"PREFETCH");this.BXa(new x.dHa(D));this.BXa(new A.GRa(D));this.Ghb({$I:D.Z5b});this.LBa(F);this.eXb();}Object.defineProperties(B.prototype,{$5b:{get:function(){return this.Hn.map(function(C){return C.context;});},enumerable:!1,configurable:!0}});B.prototype.cib=function(C){h.N && (0,l.assert)(C,"Reconciliation strategy is undefined");this.Kfb=C;return this;};B.prototype.BXa=function(C){this.Aeb.unshift(C);};B.prototype.lib=function(C){h.N && this.H.debug("Wish list changed",{vqc:C.length});this.$y=C;this.Nza();};B.prototype.reset=function(){var C,G,F,I,L,M;if(this.config.h6b)try{for(var D=c.__values(this.Hn),E=D.next();!E.done;E=D.next()){G=E.value;F=G.ka;I=G.uaa;L=G.context;if(F){F.Wd();I.nda(function(O){return "segmentNormalized" !== O.Yu;});M=(0,y.yta)(L.ie,F.ka);F.JF(M);}}}catch(O){var K;K={error:O};}finally{try{E && !E.done && (C=D.return) && C.call(D);}finally{if(K)throw K.error;}}else this.lib([]);};B.prototype.Ghb=function(C){h.N && this.H.debug("Budget changed",{U2b:this.JV,R1b:C});this.JV=C;this.Nza();};B.prototype.MGb=function(C,D){var E,G,F,I;h.N && this.H.debug("Looking for playgraph to claim");if(C=this.Kfb.M3a(this.Hn,{ka:C,Jj:D}))if((D=this.$y.indexOf(C.context.ie),h.N && this.H.debug(("Claiming item: ").concat((0,y.Ko)(C.context.ie.key)),{bn:t.default.time.ia() - C.Kea,buffer:null === (E=C.ka) || void 0 === E?void 0:E.Ah(m.M.Ha)}),this.oO(C.context,{Ova:! !C.ka}),C.ka)){E=C.ka;F=C.Kt;I=E.Mj;z.sQa.M8b(E,I,C.uaa,this.H);F.V9b(null !== (G=E.gB(I)) && void 0 !== G?G:m.M.Ha,D);E.ilb({$I:this.config.Ev || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:C.context.ie,videoBytesBuffered:C.ka.QO().cu,audioBytesBuffered:C.ka.QO().KD});}this.config.SCb || this.reset();return null === C || void 0 === C?void 0:C.ka;};B.prototype.LGb=function(){};B.prototype.getStats=function(){var C;C=t.default.time.ia();return {wishListLength:this.$y.length,prefetchList:this.$5b.length,contents:this.Hn.map(function(D){var E,G,F,I,L;return {id:(0,y.Ko)(D.context.ie.key),buffer:null === (E=D.ka) || void 0 === E?void 0:E.Ah(m.M.Ha),pId:null === (G=D.ka) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:D.context.N9a.$I},weight:D.context.Lca,age:C - D.Kea,timeOpened:C - (null !== (F=D.udc) && void 0 !== F?F:0),state:k.Vc[null !== (L=null === (I=D.ka) || void 0 === I?void 0:I.xg.value) && void 0 !== L?L:k.Vc.bm]};}),aggregated:{itemsRequested:this.bc.S9a,itemsStarted:this.bc.T9a,itemsClaimed:this.bc.P9a,bytesClaimed:this.bc.qoa,itemsCompleted:this.bc.Q9a,itemsDiscarded:this.bc.R9a,bytesDiscarded:this.bc.roa}};};B.prototype.oO=function(C,D){var E;void 0 === D && (D={});c.__awaiter(this,void 0,void 0,function(){var G,F,I,L,M,K;return c.__generator(this,function(O){switch(O.label){case 0:G=c.__assign({Ova:!1,Y9a:!1},D);F=G.Ova;I=G.Y9a;L=(0,d.$c)(this.Hn,function(H){return H.context === C;});if(!L)return [3,3];this.Hn.splice(this.Hn.indexOf(L),1);I || (M=this.$y.length,this.$y=this.$y.filter(function(H){return H !== C.ie;}),h.N && this.H.info("Dropping items from wishlist",M - this.$y.length),this.$y.length >= M && h.N && this.H.warn("Unable to filter out wishlist item",this.$y.map(function(H){return H.key;}),C.ie.key));h.N && this.H.debug("Dropping playgraph",{bn:t.default.time.ia() - L.Kea,buffer:null === (E=L.ka) || void 0 === E?void 0:E.Ah(m.M.Ha),P:(0,y.Ko)(C.ie.key),drc:!F,qoc:!I});L.vE.clear();if(F)return [3,2];K=this.eC(L);return L.ka?[4,K]:[3,2];case 1:(O.kb(),O.label=2);case 2:(this.Nza(),O.label=3);case 3:return [2];}});});};B.prototype.LBa=function(C){(0,l.assert)(C,"Playgraph resolver is undefined");this.qza=C;return this;};B.prototype.eXb=function(){var C;C=this;this.events.on("prefetchComplete",function(){return C.bc.Q9a++;});this.events.on("prefetchStarted",function(){return C.bc.T9a++;});this.events.on("itemQueued",function(){return C.bc.S9a++;});this.events.on("itemClaimed",function(D){var E,G;C.bc.P9a++;C.bc.qoa+=(null !== (E=D.agc) && void 0 !== E?E:0) + (null !== (G=D.PDb) && void 0 !== G?G:0);});this.events.on("itemDropped",function(D){var E,G;C.bc.R9a++;C.bc.roa+=(null !== (E=D.agc) && void 0 !== E?E:0) + (null !== (G=D.PDb) && void 0 !== G?G:0);});};B.prototype.Nza=function(){var C,D,E,G,F,I;C=this;D=f.HS.U$({Fgc:this.$y,$Ub:this.JV},this.Aeb.map(function(L){return L.IZa.bind(L);})).Hn;E=(0,d.Gu)(D,this.Hn,function(L,M){return (0,y.isEqual)(L.ie.key,M.context.ie.key);});G=(0,d.Gu)(this.Hn,D,function(L,M){return (0,y.isEqual)(L.context.ie.key,M.ie.key);});F=(0,d.Gu)(this.Hn,G);h.N && this.H.debug(("Re-evaluated prefetch items. new:").concat(E.length,", evict: ").concat(G.length,", update: ").concat(E.length));G=G.map(function(L){var M;M=L.context.ie.key;h.N && C.H.debug("Releasing playgraph",(0,y.Ko)(M));return C.eC(L).then(function(){C.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:L.context.ie});});});I=F.map(function(L){return c.__awaiter(C,void 0,void 0,function(){var M,K;return c.__generator(this,function(O){switch(O.label){case 0:(M=(0,d.$c)(D,function(H){return (0,y.isEqual)(H.ie.key,L.context.ie.key);}),(0,l.assert)(M,"Couldn't find the requested item context"),L.context=M,O.label=1);case 1:return (O.Kh.push([1,3,,4]),[4,L.Kca]);case 2:return (K=O.kb(),[3,4]);case 3:return (O.kb(),[2]);case 4:return ((0,d.$c)(this.Hn,function(H){return H === L;}) && (this.nYa(L.context,K),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:L.context.ie})),[2]);}});});});E=E.map(function(L){var M;M=C.qKb(L);C.events.emit("itemQueued",{type:"itemQueued",wishListItem:L.ie});return M;});this.Hn=c.__spreadArray(c.__spreadArray([],c.__read(F),!1),c.__read(E),!1);F=E.map(function(L){return L.Kca.catch(function(){});});F=G.concat(I).concat(F);Promise.all(F);};B.prototype.eC=function(C){var D;D=this;return C.Kca.then(function(E){return c.__awaiter(D,void 0,void 0,function(){var G;return c.__generator(this,function(F){switch(F.label){case 0:return (h.N && this.H.debug("Removing prefetch playgraph",{size:E.Ah(m.M.Ha)}),C.vE.clear(),[4,this.a3a()]);case 1:return (G=F.kb(),G.eC(E),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:C.context.ie,videoBytesBuffered:E.QO().cu,audioBytesBuffered:E.QO().KD}),[2]);}});});},function(){});};B.prototype.O7=function(C){return c.__awaiter(this,void 0,void 0,function(){var D,E,G,F,I,L,M;M=this;return c.__generator(this,function(K){switch(K.label){case 0:return (D=C.context,E=(0,y.Ko)(D.ie.key),h.N && this.H.debug("Creating playgraph",E),[4,this.qza.pab(D)]);case 1:return (G=K.kb(),[4,D.ie.th.Xs(E).du]);case 2:return (F=K.kb(),F.fa.vo?(this.oO(D,{Ova:!0}),[2,Promise.reject(("contentPlaygraph viewable:").concat(E) + " is not supported with prefetching")]):[4,this.a3a()]);case 3:return (I=K.kb(),L=I.nV(G,D.Lca,D.Jj,D.ie.th,!1),C.vE.addListener(L.events,"error",function(O){h.N && M.H.debug("Prefetch playgraph resulted in error",O.ooc);M.oO(D);}),[2,L]);}});});};B.prototype.Q3b=function(C,D){return c.__awaiter(this,void 0,void 0,function(){var E,G,F,I;return c.__generator(this,function(L){switch(L.label){case 0:return (E=C.context,G=(0,y.Ko)(E.ie.key),F=E.ie.th.Xs(G),[4,F.du]);case 1:return (I=L.kb(),this.nYa(E,D),this.jDb(E,D,! !I.gg),D.open(),D.DK({vK:function(M,K){var O;O=M.recommendedMedia;return O?(0,d.Kp)(K,function(H){return H.new_track_id === O.Lp;}):(0,d.Kp)(K,function(H){return H.track_id === M.defaultTrackOrderList[0].audioTrackId;});}},{vK:function(M,K){var O;O=M.recommendedMedia;return O?(0,d.Kp)(K,function(H){return H.new_track_id === O.fS;}):(0,d.Kp)(K,function(H){return H.track_id === M.defaultTrackOrderList[0].videoTrackId;});}}),D.JF((0,y.yta)(E.ie,D.ka)),this.j8b(C,F),F.Ix && (h.N && this.H.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.oO(C.context)),[2]);}});});};B.prototype.j8b=function(C,D){var G;function E(F){h.N && G.H.debug(("Viewable ").concat(F?"superseded":"expired"),(0,y.Ko)(C.context.ie.key));C.Ppc=!0;G.oO(C.context,{Y9a:!F});}G=this;D.events && (C.vE.addListener(D.events,"viewableEvicted",function(){E(!0);}),C.vE.addListener(D.events,"viewableExpired",function(){E(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:C.context.ie});};B.prototype.nYa=function(C,D){D.Blb(C.Lca);D.ilb(C.N9a);};B.prototype.jDb=function(C,D,E){var G;G=C.bcc;C=G.audio;G=G.video;E && G.push(new v.nT(this.H,D.config));D.QBa(new p.Pw(C,!0),new p.Pw(G,!0));};B.prototype.qKb=function(C){var D,E,G;D=this;E=new n.tQa();G={context:C,Kea:t.default.time.ia(),vE:new g.$f(),Kt:E};G.Kca=this.O7(G).then(function(F){return c.__awaiter(D,void 0,void 0,function(){var I,L;L=this;return c.__generator(this,function(M){switch(M.label){case 0:for(I=F;I.Bc;){I=I.Bc;}F.Pg(E);E.JDb(F);G.uaa=new q.QIa(I.events,{Xac:function(K){var O;O=K.Yu;switch(O){case "buffering":return !1;case "bufferingStarted":G.uaa.nda(function(H){return "bufferingComplete" === H.Yu || "updateStreamingPts" === H.Yu;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":G.uaa.nda(function(H){return H.Yu === O;});default:return !0;}}});I.events.on("bufferingComplete",function(){L.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:C.ie});});return [4,this.Q3b(G,F)];case 1:return (M.kb(),G.udc=t.default.time.ia(),G.ka=F,[2,F]);}});});});G.Kca.catch(function(F){h.N && D.H.error("Exception occurred creating playgraph",F);D.oO(G.context);});return G;};return B;})();b.uQa=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.tQa=void 0;c=a(0).__importDefault(a(4));g=a(55);r=(function(){function k(){this.creationTime=c.default.time.ia();this.bd={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}k.prototype.JDb=function(m){this.ka=m;};k.prototype.V9b=function(m,f){var d;m=null === (d=this.ka) || void 0 === d?void 0:d.Ah(m);this.bd={isPrefetchItem:!0,prefetchedVideoMs:m.RR,prefetchedAudioMs:m.QR,prefetchClaimDurationMs:c.default.time.ia() - this.creationTime,prefetchRank:f};};Object.defineProperties(k.prototype,{re:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Vk=function(m){if(m.dj === g.yf.Tt)return this.bd;};return k;})();b.tQa=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.QIa=void 0;c=a(0);r=(function(){function k(m,f){void 0 === f && (f={});this.rn=m;this.options=f;this.wI=[];this.eJ=new g(m,this.cCb.bind(this));}k.prototype.cCb=function(m){for(var f,d,l,n,h,p,q=[],t=1;t < arguments.length;t++){q[t - 1]=arguments[t];}q={Yu:m,Es:q};(null !== (l=null === (d=(f=this.options).Xac) || void 0 === d?void 0:d.call(f,q,this.wI)) && void 0 !== l?l:1) && this.wI.push(q);return null !== (p=null === (h=(n=this.options).Hrc) || void 0 === h?void 0:h.call(n,q)) && void 0 !== p?p:!0;};k.prototype.nda=function(m){this.wI=this.wI.filter(function(f,d){return !m(f,d);});};k.prototype.yAa=function(){var m;m=this;this.eJ.EDa();this.wI.forEach(function(f){var d;(d=m.rn).emit.apply(d,c.__spreadArray([f.Yu],c.__read(f.Es),!1));});this.eJ.N8a();};Object.defineProperties(k.prototype,{length:{get:function(){return this.wI.length;},enumerable:!1,configurable:!0}});k.prototype.clear=function(){this.wI=[];};k.prototype.xb=function(){this.clear();this.eJ.EDa();this.options=void 0;};return k;})();b.QIa=r;g=(function(){function k(m,f){this.rn=m;this.NN=f;this.ddb=this.rn.emit;this.aKb();this.N8a();}k.prototype.aKb=function(){var m;m=this;this.eJ=function(f){for(var d,l,n=[],h=1;h < arguments.length;h++){n[h - 1]=arguments[h];}return (null === (l=m.NN) || void 0 === l?0:l.call.apply(l,c.__spreadArray([m,f],c.__read(n),!1)))?(d=m.ddb).call.apply(d,c.__spreadArray([m.rn,f],c.__read(n),!1)):!1;};};k.prototype.N8a=function(){this.eJ && (this.rn.emit=this.eJ);};k.prototype.EDa=function(){this.rn.emit=this.ddb;};k.prototype.xb=function(){this.EDa();this.NN=this.eJ=void 0;};return k;})();},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.AHa=void 0;c=a(0);g=a(38);k=a(197);r=(function(){function m(){}m.prototype.pab=function(f){return c.__awaiter(this,void 0,void 0,function(){var d,l,n,h,p;return c.__generator(this,function(q){switch(q.label){case 0:d=f.ie.key;if(!(0,k.tY)(d))return [3,2];l=d.P;n=f.ie.th.Xs(l);return [4,Promise.resolve(n.du)];case 1:return (h=q.kb(),p=h.fa,p.qo?[2,(0,g.w7)(p.qo,{config:h.config})]:[2,(0,g.kea)(l,"ps0")]);case 2:return [2,d.ka];}});});};return m;})();b.AHa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jja=void 0;b.jja=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.fe,segments:a.pLb(c.R)},void 0 !== c.Je?{transitionType:c.Je}:{});};a.encode=function(c){return Object.assign({fe:c.initialSegment,R:a.mOb(c.segments)},void 0 !== c.transitionType?{Je:c.transitionType}:{});};a.mOb=function(c){return Object.keys(c).reduce(function(g,k){g[k]=a.lOb(c[k]);return g;},{});};a.lOb=function(c){return Object.assign({P:c.viewableId,xa:c.startTimeMs},c.endTimeMs?{wa:c.endTimeMs}:{},c.defaultNext?{Ub:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{Je:c.transitionType}:{},c.next?{next:a.jOb(c.next)}:{},c.exitZones?{Vp:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{uc:c.uxSegment}:{},c.type?{type:c.type}:{},void 0 !== c.fadeIn?{Zu:c.fadeIn}:{},void 0 !== c.fadeOut?{$u:c.fadeOut}:{});};a.jOb=function(c){return Object.keys(c).reduce(function(g,k){g[k]=a.kOb(c[k]);return g;},{});};a.kOb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{Je:c.transitionType}:{});};a.pLb=function(c){return Object.keys(c).reduce(function(g,k){g[k]=a.oLb(c[k]);return g;},{});};a.oLb=function(c){return Object.assign({viewableId:c.P,startTimeMs:c.xa},c.wa?{endTimeMs:c.wa}:{},c.Ub?{defaultNext:c.Ub}:{},c.weight?{weight:c.weight}:{},c.Je?{transitionType:c.Je}:{},c.next?{next:a.mLb(c.next)}:{},c.Vp?{exitZones:c.Vp}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uc?{uxSegment:c.uc}:{},c.type?{type:c.type}:{},void 0 !== c.Zu?{fadeIn:c.Zu}:{},void 0 !== c.$u?{fadeOut:c.$u}:{});};a.mLb=function(c){return Object.keys(c).reduce(function(g,k){g[k]=a.nLb(c[k]);return g;},{});};a.nLb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.Je?{transitionType:c.Je}:{});};return a;})();},function(r,b,a){var d;function c(l){return Object.keys(l.segments).some(function(n){return void 0 !== f(l.segments[n]);});}function g(l){return "delayedSeamless" === l?"lazy":l;}function k(l){return Object.keys(l).reduce(function(n,h){var p,q;p=l[h];q=p.weight;p=p.transitionType || p.transitionHint;h=n[h]={};void 0 !== q && (h.weight=q);p && (h.Je=g(p));return n;},{});}function m(l){var n,h;n=Object.keys(l);h=n.length;return h?n.reduce(function(p,q){return p + (l[q].weight || 0);},0) / h:void 0;}function f(l){var n;if(l.ui){n=l.ui.interactionZones;if((null === n || void 0 === n?0:n.length) && n[0].length)return n[0][0] - l.startTimeMs;l=l.ui.interactionZonesV2;if((null === l || void 0 === l?0:l.length) && l[0].length)return l[0][0];}else if(void 0 !== l.earliestSkipRequestOffset)return l.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.w7=void 0;d=a(161);b.w7=function(l,n){var h,p,q,t,v,w;h=void 0 === n?{}:n;n=h.Wf;p=h.fe;q=h.R;h=h.config;t=!(!h || -1 === h.Zra.indexOf(l.viewableId));v=c(l)?0:(null === h || void 0 === h?void 0:h.Yra) || 0;h=new d.Kw();w=q || l.segments;h.AK(null !== p && void 0 !== p?p:l.initialSegment).Uhb(null !== n && void 0 !== n?n:l.mediaTypes).XBa(t?"immediate":g(l.transitionType)).PBa(Object.keys(w).reduce(function(u,x){var y,z,A,B,C,D;y=w[x];if(null === (z=y.weight) || void 0 === z){z=y.next && (t || (null === (B=y.exitZones) || void 0 === B?0:B.length))?m(y.next):void 0;}B=z;if(z=y.exitZones)C=void 0;else a:{if(t && y.endTimeMs){C=y.endTimeMs - y.startTimeMs;D=f(y);if(D && D < C){C=[[D,C]];break a;}if(v && C > v){C=[[C - v,C]];break a;}}C=void 0;}D=t?C?void 0:y.transitionHint || "lazy":y.transitionHint;B={P:l.viewableId,xa:y.startTimeMs,wa:null !== (A=y.endTimeMs) && void 0 !== A?A:Infinity,Je:g(D),Vp:z || C,weight:B};y.defaultNext && (B.Ub=y.defaultNext);y.next && (B.next=k(y.next));u[x]=B;return u;},{}));return h.Yi();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.kea=void 0;c=a(161);b.kea=function(g,k,m){var f;f=new c.Kw();f.AK(k).XBa("lazy").Uhb(m).vg(k,{P:g,xa:0,wa:Infinity});return f.Yi();};},function(r,b,a){var d,l,n,h;function c(p){for(var q=p.fe,t=[];q;){t.push(q);q=p.R[q].next;if(!q)break;q=Object.keys(q);if(q.length)(n.assert(1 === q.length,"Expected linear playgraph"),q=q[0]);else break;}return t;}function g(p){return h.sV(Object.keys(p.R).map(function(q){return p.R[q].P;}));}function k(p,q){return Object.keys(q.R).some(function(t){t=q.R[t];return p.P === t.P && p.xa > t.xa && (!t.wa || ! !p.wa && (Infinity === p.wa || p.wa < t.wa));});}function m(p){return null === p || void 0 === p?Infinity:p;}function f(p,q){return null === p || void 0 === p?Infinity === m(q.wa):p >= q.xa && p <= m(q.wa);}Object.defineProperty(b,"__esModule",{value:!0});b.txa=void 0;d=a(0);l=a(161);n=a(461);h=a(275);b.txa=function(p,q){var t,v,w,u,x;t=c(q);v=g(p);w=g(q);v=h.qYa(v,w);n.assert(1 === v.length,"Source and content playgraphs should share one viewable");u=v[0];w=Object.keys(p.R).filter(function(y){return p.R[y].P === u;}).map(function(y){var F,I,L,M,K,O;for(var z,A=p.R[y],B=A.xa,C=m(A.wa),D=0 === B,E=[],G=0;G < t.length;++G){F=t[G];I=q.R[F];L=k(p.R[y],q);if(I.P !== u)D && E.push({id:y + ":" + F,G:d.__assign(d.__assign({},I),{uc:y})});else if(D){K=Math.max(A.xa,I.xa);M=(O=!Number.isFinite(C) && G == t.length - 1)?C:Math.min(C,m(I.wa));M > K && (L=Infinity !== C || !L && !O?Infinity === M?null:M:A.wa,E.push({id:y + ":" + F,G:d.__assign(d.__assign({},I),{xa:K,wa:L,uc:y})}));if(f(C,I)){if(C === m(I.wa))for(G+=1;G < t.length;++G){B=t[G];C=q.R[B];if(C.P === u)break;E.push({id:y + ":" + B,G:d.__assign(d.__assign({},C),{uc:y})});}break;}}else if(f(B,I))if((D=!0,C <= m(I.wa)))E.push({id:y,G:A});else {K=A.xa;O=!Number.isFinite(C) && G == t.length - 1;L=O && L?A.wa:Math.min(C,m(I.wa));E.push({id:y + ":" + F,G:d.__assign(d.__assign({},I),{xa:K,wa:L,uc:y})});}}E.length || E.push({id:y,G:d.__assign(d.__assign({},A),{uc:y})});for(G=0;G < E.length - 1;++G){B=E[G + 1].id;E[G].G=d.__assign(d.__assign({},E[G].G),{Ub:B,next:(z={},z[B]={},z)});}z=E[E.length - 1];z.G=d.__assign(d.__assign({},z.G),{Ub:A.Ub,next:A.next});return {id:y,G:A,zjb:E};});x=w.reduce(function(y,z){return (y[z.id]=z.zjb[0].id,y);},{});v=new l.Kw();w=w.reduce(function(y,z){z.zjb.forEach(function(A){return y[A.id]=A.G;});return y;},{});return v.PBa(w,function(){return !0;},x).EXa(p.R,function(y,z){return !x[z];},x,function(y,z){return d.__assign(d.__assign({},y),{uc:z});}).AK(x[p.fe] || p.fe).Yi();};},function(r,b,a){var q,t,v,w,u;function c(x,y,z,A,B){var C,D,E;C=x.R[y];D=z.R[C.uc];A=A.uc;E=d(C.wa) - C.xa;E=void 0 === B?B=0:B + E;return C.P === (null === D || void 0 === D?void 0:D.P)?{X0:d(C.wa),UV:B}:C.uc === A && (y=q.__read(g(x,y),1)[0]) && x.R[y].uc === C.uc?c(x,y,z,C,E):{X0:D.xa,UV:E};}function g(x,y){return Object.keys(x.R).filter(function(z){return x.R[z].Ub === y;});}function k(x,y,z,A,B){var C,D,E;void 0 === B && (B=0);y=x.R[y];C=z.R[y.uc];A=A.uc;D=z.R[A];E=d(y.wa) - y.xa;return y.P === (null === C || void 0 === C?void 0:C.P)?{X0:y.xa,UV:B}:y.uc === A && y.Ub?k(x,y.Ub,z,y,B + E):{X0:d(D.wa),UV:B};}function m(x,y,z){var A,B,C,D,E,G,F,I,L,M,K,O,H;A=h(x,y,z);if(A)return A;A=x.R[z.G];B=z.offset;C=Object.keys(y.R).filter(function(J){return y.R[J].uc === z.G;});D=[];C.forEach(function(J){var P,T,V;function R(S){S=t.V8(y,S);null === S || void 0 === S?void 0:S.forEach(function(W){var ia,ra;if(y.R[W].uc !== z.G){ia=y.R[W];ra=ia.wa;V={G:W,offset:ra - ia.xa};(ia=ra?p(x,y,V):void 0) && D.push({CA:V,$r:ia});ia || (V={G:W,offset:0},(ia=p(x,y,{G:W,offset:0})) && D.push({CA:V,$r:ia}));R(W);}});}P=y.R[J];T=P.wa;V={G:J,offset:T - P.xa};(P=T?p(x,y,V):void 0) && D.push({CA:V,$r:P});V={G:J,offset:0};(T=p(x,y,V)) && D.push({CA:V,$r:T});T || P || R(J);});w.assert(0 < D.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");E=A.xa + B;F=Infinity;D.forEach(function(J){var R;R=J.$r;R=E - (x.R[R.G].xa + R.offset);0 <= R && R < F && (F=R,G=J);});I=[];C.forEach(function(J){var P,T,V,S;function R(W){Object.keys(y.R[W].next || ({})).forEach(function(ia){var ra,ua,Aa;if(y.R[ia].uc !== z.G){ra=y.R[ia];ua=ra.xa;ra=ra.wa;S={G:ia,offset:0};Aa=p(x,y,S);Aa && I.push({CA:S,$r:Aa});Aa || (S={G:ia,offset:ra - ua},(ua=ra?p(x,y,S):void 0) && I.push({CA:S,$r:ua}));}R(ia);});}P=y.R[J];T=P.xa;V=P.wa;S={G:J,offset:0};(P=p(x,y,S)) && I.push({CA:S,$r:P});S={G:J,offset:V - T};(T=V?p(x,y,S):void 0) && I.push({CA:S,$r:T});P || T || R(J);});w.assert(0 < I.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");M=Infinity;I.forEach(function(J){var R;R=J.$r;R=x.R[R.G].xa + R.offset - E;if(0 <= R && R < M || R > M && 0 > M || Infinity === M)(M=R,L=J);});w.assert(G);w.assert(L);B=G.CA;w.assert(B,"Segment not found in the combined playgraph");A=L.CA;w.assert(A,"Segment not found in the combined playgraph");K=y.R[B.G];C=y.R[A.G];B.offset === d(K.wa) - K.xa && y.R[K.Ub].uc === K.uc && (B.G === A.G && B.offset === A.offset && (A={G:C.Ub,offset:0},C=y.R[A.G]),B={G:K.Ub,offset:0},K=y.R[B.G]);O=x.R[G.$r.G].xa + G.$r.offset;H=x.R[L.$r.G].xa + L.$r.offset - O;O=0 === H?0:(E - O) / H;if(B.G === A.G)return (K=K.xa + B.offset,B=B.G,{G:B,offset:K + O * (C.xa + A.offset - K) - y.R[B].xa});H=f(y,B,A);K=H.path;H=H.nI;C=0 === A.offset?0:d(C.wa) - C.xa;return n(y,K,B.offset + O * (H - B.offset - (C - A.offset)));}function f(x,y,z){var A,B;if(y.G !== z.G){for(y=[y.G];y[y.length - 1] !== z.G;){A=x.R[y[y.length - 1]];w.assert(A.next,"Cannot find path between points in combined playgraph");if(A.next[z.G])break;B=Object.keys(A.next);1 === B.length?y.push(B[0]):(w.assert(A.Ub,"Multiple paths but no default finding paths between points in combined playgrahp"),y.push(A.Ub));}0 !== z.offset && y.push(z.G);return {path:y,nI:l(x,y)};}return {path:[],nI:z.offset - y.offset};}function d(x){return null === x || void 0 === x?Infinity:x;}function l(x,y){return y.reduce(function(z,A){var B;A=x.R[A];B=A.xa;return z + d(A.wa) - B;},0);}function n(x,y,z){var B,C,D;for(var A=0;A < y.length;++A){B=y[A];C=x.R[B];D=C.xa;C=d(C.wa) - D;if(C > z)return {G:B,offset:z};z-=C;}w.assert(!1,"Invalid offset given for path");}function h(x,y,z){var A,B,C,D,E,G,F,I,L,M,K;B=x.R[z.G];w.assert(B,"Graph position " + z.G + " does not exist in UX playgraph");C=z.offset;w.assert(0 <= C,"Graph position offset " + C + " cannot be negative");w.assert(!B.wa || C <= B.wa - B.xa,"Graph position " + C + " offset outside segment");if(y.R[z.G])return z;D=Object.keys(y.R).filter(function(O){return y.R[O].uc === z.G;});w.assert(0 < D.length,"No segments found in combined playgraph that point back to the ux segment");E={};G=0;D.forEach(function(O){if(void 0 === E[O]){for(var H=0;O;){E[O]=[G,H++];O=y.R[O].Ub;}++G;}});D.sort(function(O,H){return E[O][0] !== E[H][0]?1:E[O][1] - E[H][1];});F=B.xa + C;I=D.filter(function(O){return y.R[O].P === B.P;});L=q.__read(D,1)[0];I=I.map(function(O){return [O,y.R[O]];}).filter(function(O){var H;O=q.__read(O,2);H=O[0];return F >= O[1].xa || H === L;});if(I=v.$c(I,function(O){var H;O=q.__read(O,2)[1];H=O.Ub?y.R[O.Ub]:void 0;return !O.wa || ! !O.wa && F < O.wa || (null === H || void 0 === H?void 0:H.uc) !== z.G && F >= O.xa;})){M=q.__read(I,2);I=M[0];M=M[1];K=(isFinite(F)?F:null !== (A=M.wa) && void 0 !== A?A:Infinity) - M.xa;w.assert(0 <= K,"Content playgrah graph position offset cannot be negative");A=!0;0 === K && (A=u.Era(y,I),A=!A || A.uc !== M.uc);if(A)return {G:I,offset:K};}D=D.filter(function(O){return y.R[O].P !== B.P;});if(0 === C && (C=u.Era(x,z.G),!C || C.uc !== z.G) && (C=v.$c(D,function(O){return 0 === t.V8(y,O).length;}),void 0 !== C))return {G:C,offset:0};if(B.wa && Infinity !== B.wa && !(B.wa - B.xa !== z.offset || B.Ub && x.R[B.Ub]) && (C=v.$c(D,function(O){return !y.R[O].next || 0 === Object.keys(y.R[O].next).length;}),void 0 !== C))return (D=y.R[C],x=D.xa,D=D.wa,w.assert(D,"Content playgraph segments from other viewables must have end time"),{G:C,offset:D - x});}function p(x,y,z){var A,B;A=y.R[z.G];w.assert(A,"Graph position does not exist in combined playgraph");B=z.offset;w.assert(0 <= B,"Graph position offset cannot be negative");w.assert(!A.wa || B <= A.wa - A.xa,"Graph position offset outside segment");if(void 0 === A.uc)return z;x=x.R[A.uc];w.assert(x,"Referenced ux playgraph segment must exist");if(A.P === x.P)return (B=A.xa + B - x.xa,x=d(x.wa) - x.xa,B=Math.max(Math.min(B,x),0),{G:A.uc,offset:B});if(0 === B && (z=t.V8(y,z.G).filter(function(C){return y.R[C].uc === A.uc;}),0 === B && 0 === z.length))return {G:A.uc,offset:0};B=A.Ub?y.R[A.Ub]:void 0;if((null === B || void 0 === B?void 0:B.uc) !== A.uc)return {G:A.uc,offset:x.wa?x.wa - x.xa:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.b5a=b.cmb=b.J_a=void 0;q=a(0);t=a(38);v=a(275);w=a(461);u=a(462);b.J_a=function(x,y,z){var A,B,C,D;A=y.R[z.G];B=p(x,y,z);if(B)return B;w.assert(A.uc,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");C=x.R[A.uc];w.assert(C,"Referenced ux playgraph segment must exist");w.assert(A.wa,"Content playgraph segments from other viewables must have end time");if(!A.Ub || !y.R[A.Ub])return (w.assert(C.wa,"Must have definite end time to add terminal content playgraph segment"),{G:A.uc,offset:C.wa - C.xa});D=c(y,z.G,x,A);B=D.X0;D=D.UV;if(null === B || void 0 === B)return (w.assert(C.wa,"Experience playgraph segment must have end time"),{G:A.uc,offset:C.wa - C.xa});y=k(y,z.G,x,A);x=y.X0;y=y.UV;null !== x && void 0 !== x && isFinite(x) || w.assert(x,"Experience playgraph segment must have end time");return {G:A.uc,offset:B + (D + z.offset) / (D + y) * (x - B)};};b.cmb=m;b.b5a=function(x,y,z){var A,B,C;return q.__generator(this,function(D){switch(D.label){case 0:(A=m(x,y,z),B=y.R[A.G],C=A.G,D.label=1);case 1:return [4,C];case 2:(D.kb(),C=B.Ub,B=y.R[C],D.label=3);case 3:if((null === B || void 0 === B?void 0:B.uc) === z.G && C !== A.G)return [3,1];D.label=4;case 4:return [2];}});};},function(r,b,a){var g,k,m;function c(f,d,l){var n;if(!l)return !1;l=l[d];return "boolean" === typeof l?!0 === l:(null === l || void 0 === l?void 0:l.length) === (null === (n=f[d].Ui) || void 0 === n?void 0:n.length);}Object.defineProperty(b,"__esModule",{value:!0});b.r0a=b.op=void 0;g=a(0);k=a(161);b.op=-1;b.r0a=function(f,d,l,n,h){function p(w){var u,x,y,z,A;u=d.tg[w];x=c(d.tg,w,l);y=! !n && !x;z=0 === u.Qo;u.Qo > t && q.vg(f + "-" + w,{P:f,xa:t,wa:u.Qo,type:"content"});!y || z && !h || q.vg("padstart-" + w,{P:b.op,xa:0,wa:n,type:"padding"});t=u.Qo;if(u.Ui && !x){A=null === l || void 0 === l?void 0:l[w];u.Ui.forEach(function(B,C){var D;D=!1;Array.isArray(A) && (D=-1 < A.indexOf(C));D || q.vg("ad-" + w + "-" + C,{P:B.id,xa:B.xa,wa:B.wa,type:"ad"});});y && q.vg("padend-" + w,{P:b.op,xa:0,wa:n,type:"padding"});}}void 0 === n && (n=0);void 0 === h && (h=!1);for(var q=new m(),t=0,v=0;v < d.tg.length;++v){p(v);}q.vg(f + "-" + d.tg.length,{P:f,xa:t,wa:null,type:"content"});return q.Yi();};m=(function(){function f(){this.rb=new k.Kw();}f.prototype.vg=function(d,l){var n,h,p;this.AI || (this.AI=d);if(this.f_){h=g.__read(this.f_,2);p=h[0];h=h[1];h.Ub=d;h.next=(n={},n[d]={},n);"content" === h.type && -1 < ["ad","padding"].indexOf(l.type) && (h.$u=!0);"content" === l.type && -1 < ["ad","padding"].indexOf(h.type) && (l.Zu=!0);this.rb.vg(p,h);}this.f_=[d,l];};f.prototype.Yi=function(){var d;if(this.f_){d=g.__read(this.f_,2);this.rb.vg(d[0],d[1]);}this.f_=void 0;this.AI && this.rb.AK(this.AI);return this.rb.Yi();};return f;})();},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.BHa=void 0;c=a(0);g=a(2);k=a(197);r=(function(){function m(){}m.Ko=function(f){var d,l;d=f.R;f=f.fe;l=d[f].P;Object.keys(d).forEach(function(n){return (0,g.assert)(d[n].P === l);});return d[f].P;};m.prototype.M3a=function(f,d){var l;l=Object.keys(d.ka.R).length;return c.__read(f.filter(function(n){var h,p;return m.Ko(d.ka) === (0,k.Ko)(n.context.ie.key) && (1 === l || l === Object.keys(null !== (p=null === (h=n.ka) || void 0 === h?void 0:h.ka.R) && void 0 !== p?p:{}).length);}),1)[0];};return m;})();b.BHa=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.dHa=b.gHa=void 0;c=a(116);g=a(1105);b.gHa=625E3;r=(function(){function k(m){this.config=m;}k.prototype.IZa=function(m){var f,d,l;f=this.config.c8;d=(this.config.abb || this.config.b8) * b.gHa / 1E3;l=Math.floor(m.$Ub.$I / d);return {Hn:m.Fgc.sort(function(n,h){return n.priority - h.priority;}).slice(0,f).map(function(n,h){var p;p=n.key.config;return {N9a:{$I:h > l - 1?0:d},ie:n,Lca:1,Jj:p,bcc:{audio:[(0,c.fI)(p),new g.Rja()],video:[(0,c.gI)(p),new g.Rja()]}};})};};return k;})();b.dHa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Rja=void 0;c=a(6);r=(function(){function g(){}g.prototype.sn=function(k,m){return m === c.Vc.cm?[]:k;};return g;})();b.Rja=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.sQa=void 0;c=a(10);g=a(1107);b.sQa=(function(){function k(){}k.M8b=function(m,f,d,l){m.events.once("seeking",function(n){var h,p;h=n.position;p=d.length;n.duplicate || (d.nda(function(q){return "segmentNormalized" !== q.Yu;}),c.N && l.log(("Discarding ").concat(p - d.length," events from prefetched playgraph") + (" for original seek postition ").concat((0,g.h$)(f)) + (" due to seek to ").concat((0,g.h$)(h))));c.N && l.log(("Replaying ").concat(d.length," events from prefetched playgraph") + ("for seek postition ").concat((0,g.h$)(h)));d.yAa();d.xb();});};return k;})();},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.h$=void 0;b.h$=function(a){return ("( ").concat(a.Y,", ").concat(a.offset.Mb()," )");};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GRa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.IZa=function(c,g){var k,m;k=this;c=g(c);m=c.Hn.map(function(f){return f.ie.priority;}).sort();c.Hn.forEach(function(f){f.Lca=k.config.b6b / (2 << m.lastIndexOf(f.ie.priority));});return c;};return a;})();b.GRa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jQa=void 0;r=(function(){function a(c){this.Ok=c.Ok;this.Tx=this.$Wb();}a.prototype.nV=function(c){c.events.on("requestsPruned",this.Tx);};a.prototype.eC=function(c){c.events.removeListener("requestsPruned",this.Tx);};a.prototype.$Wb=function(){var c;c=this;return function(){return c.Ok();};};return a;})();b.jQa=r;},function(r,b,a){var g;function c(k,m,f,d){return k && m?Math.min(k - m * f,k - d):(k || Infinity) - d;}Object.defineProperties(b,{__esModule:{value:!0}});b.LZa=void 0;g=a(6);b.LZa=function(k,m){var f,d,l,n,h,p,q,t;t=c(m.audio,m.Qmc,k.Hpa,null !== (d=k.j0a) && void 0 !== d?d:0);d=c(m.video,m.Dsc,k.Hpa,null !== (l=k.l0a) && void 0 !== l?l:0);l=c(m.text,m.Zrc,k.Hpa,null !== (n=k.k0a) && void 0 !== n?n:0);return (f={},f[g.u.V]=t,f[g.u.J]=d,f[g.u.Hb]=l,f.total=(m.total || Infinity) - (null !== (h=k.j0a) && void 0 !== h?h:0) - (null !== (p=k.l0a) && void 0 !== p?p:0) - (null !== (q=k.k0a) && void 0 !== q?q:0),f);};},function(r,b,a){var c,g,k,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.O7=void 0;c=a(0);g=a(10);k=a(1112);m=a(197);f=a(196);b.O7=function(d,l,n){var h,p,q,t;h=[function(v){return new (k.ega.bind.apply(k.ega,c.__spreadArray([void 0],c.__read(v.WZ),!1)))();}];p=(0,m.Ko)({ka:l[0]});g.N && n.trace("Creating playgraph",{Vqc:p,znc:d.JW,Ui:d.tI});if(d.JW){q=a(1150);h.unshift(function(v,w){return q.$V({},v,w);});}if(d.tI){t=a(1155);h.unshift(function(v,w){return t.$V({},v,w);});}return f.HS.U$({WZ:l,sna:[]},h);};},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D,E,G,F,I,L,M,K,O,H,J,R,P,T,V,S,W,ia,ra,ua,Aa,Ha;function c(N){var Q;Q={};N.forEach(function(U){U.mediaType !== d.u.Hb && (Q[U.mediaType]=U.Io());});return Q;}Object.defineProperties(b,{__esModule:{value:!0}});b.ega=void 0;g=a(0);k=a(14);m=a(38);f=a(407);d=a(6);l=a(1113);n=a(8);h=a(1114);p=a(1122);q=g.__importDefault(a(4));t=a(2);v=a(1123);w=a(22);u=a(59);x=a(116);y=a(159);z=a(55);A=a(468);B=a(274);C=a(273);D=a(1129);E=a(72);G=g.__importDefault(a(154));F=a(1130);I=a(1131);L=a(469);M=a(1132);K=a(1133);O=a(1134);H=a(1135);J=a(1138);R=a(1139);P=a(1140);T=a(1141);V=a(1142);S=a(1143);W=a(1145);ia=a(1146);ra=a(1147);ua=a(1148);Aa=a(1149);Ha=a(135).uy.jqa;r=(function(){function N(Q,U,Z,qa,Fa,Oa,Ra,Pa,Va,bb){this.ko=Q;this.fXa=U;this.config=Z;this.id=qa;this.RU=Oa;this.Ok=Ra;this.NGb=Pa;this.vp=bb;this.Ska=!1;this.Zj=this.Bc=void 0;this.K6="2.0";this.z8a=this.Q5=this.lo=void 0;this.Sc=f.pl.CLOSED;this.ila=!0;this.R6=!1;this.Vjb=this.iEa=this.BV=void 0;this.iZa=new k.$f();this.pE=0;this.zea=!1;this.aXb();this.console=new q.default.Console("ASEJS_PLAYGRAPH","asejs",("").concat(this.id));this.ji=new E.Qw({gq:10,Vo:this,source:"AsePlaygraph",console:this.console});this.events=new k.EventEmitter();this.$hb(Q);this.bb=new J.YPa();this.jh=new ua.$Pa(this.console);this.Yta=new M.nJa(this.config,n.M.Ja(this.config.aba),{parent:this.R6a.bind(this)},this.events,this.console);this.Aea=new p.gSa(this.console,this.events);this.JV={$I:Z.Ev || Infinity};this.T=new v.Wia(this);this.Fi=new u.MT(this.T.Ba,this.console,"playgraph");this.fXb();this.Ff=new R.hGa(this.console,Z,Fa,this.events,this,this.cs);this.j7=new V.ZFa(this.Fi,this.cs,this.config,this.jl.bind(this),this.xg,this.console);this.Wba=this.Ff.Wba.bind(this.Ff);this.BZ=this.Ff.BZ.bind(this.Ff);this.fca=this.Ff.fca.bind(this.Ff);this.wK=this.wK.bind(this);this.gK=new z.yja(Z);this.XWb();this.gK.Pg(new C.Gz(this.Ff.ji));this.gK.Pg(new D.iPa(this.ETb.bind(this)));this.gK.Pg(new C.Gz(this.ji));this.gK.Pg(new F.XPa(this.bb,this));this.ojb=new ra.fSa(this,this.console,Va);this.P$a=new I.SLa(this.cs,this.console,this.events);this.Mp=new Aa.bQa(this.kda.bind(this));this.QBa((0,x.gI)(this.config),(0,x.fI)());}Object.defineProperties(N.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Xp:{get:function(){return !(this.T instanceof v.Wia);},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{ka:{get:function(){return this.ko;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{weight:{get:function(){return this.fXa;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Mj:{get:function(){(0,t.assert)(this.ft,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.lo.position;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{hhb:{get:function(){(0,t.assert)(this.ft,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.lP(this.Mj).ln;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{xg:{get:function(){return this.Ff.state;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{df:{get:function(){return this.Ff.df;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Jf:{get:function(){return this.Ff.Jf;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{ft:{get:function(){return void 0 !== this.lo;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{yh:{get:function(){return this.T.Uf?this.T.yh:this.Mj;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{jf:{get:function(){var Q,U;return this.T.Uf?this.T.jf:null !== (U=null === (Q=this.lo) || void 0 === Q?void 0:Q.ty) && void 0 !== U?U:this.hhb;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Jna:{get:function(){return this.$vb;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{eS:{get:function(){return this.mBb;},enumerable:!1,configurable:!0}});N.prototype.fXb=function(){this.cs=new u.MT(new B.j4({fk:!0,currentTime:function(){return n.M.Ja(q.default.time.ia());},speed:1}),this.console,"wallclock");};N.prototype.XWb=function(){var Q;Q=this;(0,ia.s0a)({Ff:this.Ff,cs:this.cs},u.Rh.bG(n.M.Ja(this.config.XB)),function(){Q.T.Uf && Q.T.Gi && (Q.Ff.state.value === d.Vc.Kg || Q.Ff.state.value === d.Vc.Qd) && Q.ys(Q.T.Gi);},"buffering");};N.prototype.aXb=function(){var Q;Q=this;this.pF=function(U){var Z,qa,Fa;qa=Q.navigator.De(U.position.Y);if((qa=Q.l6a(qa)) && Q.T.Uf){Fa=(0,n.Jra)(Q.T.bb.filter(function(Oa){return Oa.G.id === U.position.Y;}),U.playerTimestamp,{N_a:!0});Fa && (null === (Z=Q.T.fp) || void 0 === Z?void 0:Z.Ny({G:Fa.G,get Uea() {return Fa.Fd.Da(Fa.G.ff);}},qa,Q.yh.offset,!0,!1));}Q.Mp.start();};this.wZ=function(){Q.Ok("onDrmReady");};this.o3b=function(U){U=U.newValue;Q.Ska || (Q.Ska=U);};};N.prototype.open=function(){this.ila=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.Sc !== f.pl.CLOSED)return !1;this.Sc=f.pl.OPEN;return !0;};N.prototype.xb=function(){this.cs.xb();this.Fi.xb();this.Sc !== f.pl.CLOSED && (this.Wd(),this.Mp.xb(),this.Ff.stop(),this.Sc=f.pl.CLOSED,this.Xp || this.T.xb());};N.prototype.lGb=function(Q,U,Z){Q=(0,P.hra)(this.bb,this.wK.bind(this),Q,U,Z).$Za;return this.PZa(Q);};N.prototype.DK=function(Q,U,Z){var qa,Fa,Oa,Ra;qa=this;this.BV=Q;this.iEa=U;this.Vjb=Z;Q=(0,P.hra)(this.bb,this.wK.bind(this));Fa=Q.$Za;Q=Q.PEb;if(!this.PZa(Fa))return !1;if(0 === Fa.length)return !0;Oa=this.yh;Fa.forEach(function(Pa){return qa.T.H_(Pa);});Ra=this.lP(Oa).ln;Q.forEach(function(Pa){var Va;Va=Pa.ab;Va.DK(Pa.xe,Oa.Y === Va.G.id?Ra:void 0,void 0 !== qa.bb.JX(Va),Fa);});this.Ff.M3b(Oa,Q[0].xe);return !0;};N.prototype.fI=function(Q){return (0,x.fI)(this.config,Q);};N.prototype.gI=function(Q){return (0,x.gI)(this.config,Q);};N.prototype.DX=function(Q,U){var Z,qa;Z=this.navigator.De(Q);qa=this.navigator.De(U);return {Nfc:Z.EVb(U),o7:U !== Q && this.bb.has(U) && this.bb.Px(U)[0].Bh,Nd:qa.ff.Z,Sxa:this.l6a(Z)};};N.prototype.jl=function(Q,U,Z,qa){var Fa,Oa,Ra,Pa;Fa=this;void 0 === qa && (qa=!0);if(!U)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(qa && this.jh.get(Q))Z || this.jh.set(Q,U);else {Ra=this.u9(Q)[0];Pa=this.navigator.De(Q);this.yh.Y === Q && Ra && (null === (Oa=this.T.fp) || void 0 === Oa?void 0:Oa.Ny({G:Ra.G,get Uea() {return Ra.Fd.Da(Ra.G.ff);}},U,this.yh.offset,qa,Z));qa || (Q={offset:n.M.Ha,Y:U},this.lo={position:Q,Bh:!0,blb:Q});Z?this.jh.V$b(Pa.id,U):this.jh.set(Pa.id,U);this.Mp.start();qa && Pa.Fy && 0 < Pa.Fy.length && ((0,t.assert)(Ra),Ra.Zea(Pa.Fy) && this.u9(U).forEach(function(Va){return Fa.wq(Ra,Va);}));qa || this.Ff.dca(this.Mj);}};N.prototype.PZa=function(Q){return 0 === Q.length?!0:Q.some(function(U){return U === d.u.J;})?!1:(Q=this.T.T9()) && Q.greaterThan(this.T.jf)?!1:!0;};N.prototype.wq=function(Q,U){var Z;Z=this;Q=Q.Oc.Da(U.G.ff);U.wq(Q);this.bb.ORb(U).forEach(function(qa){return Z.wq(U,qa);});};N.prototype.vk=function(Q){this.navigator.vk(Q);this.Mp.start();};N.prototype.QBa=function(Q,U){this.$vb=Q;this.mBb=U;this.state === f.pl.cm && this.Ok("setStreamFilters");};N.prototype.rac=function(Q){this.RU.J8b(Q);};N.prototype.JF=function(Q,U){this.Oda(Q,U);};N.prototype.Oda=function(Q,U,Z){var qa,Fa,Oa,Ra,Pa;Oa=this.ka;Ra=(0,L.dmb)(Oa,Q);if(Ra.GP){Pa=this.U9b(Oa,Q,U);if(void 0 === Pa)this.Yf(("Invalid seekPosition after sanitization to ").concat(Q.Y) + ("(").concat(Q.offset.Z,"ms)") + (", reason: ").concat(Ra.reason),null === (qa=Oa.R[Q.Y]) || void 0 === qa?void 0:qa.P);else if(void 0 === this.BV || void 0 === this.iEa)this.Yf("No track selectors available");else if((qa=!(this.Xp && this.T.qv) && (0,L.g7a)(null === (Fa=this.lo) || void 0 === Fa?void 0:Fa.blb,Pa),this.events.emit("seeking",{type:"seeking",position:Q,duplicate:qa}),!qa)){this.Q5=Z;this.ft && (this.Ny(Pa),this.TGb(Q));Q=this.S5a();try{this.Wd(!0);this.SGb();this.lo={position:Pa,blb:Pa,Bh:!1,ty:U};this.z8a=U?U.Da(this.hhb):n.M.Ha;this.Ff.dca();this.Sc=f.pl.cm;this.Mp.start();}finally{Q.release();}}}else this.Yf(("Invalid seekPosition to ").concat(null === Q || void 0 === Q?void 0:Q.Y) + ("(").concat(Q.offset.Z,"ms)") + (", reason: ").concat(Ra.reason),null === (Pa=Oa.R[Q.Y]) || void 0 === Pa?void 0:Pa.P);};N.prototype.Ny=function(Q){var U,Z;Z=this.navigator.De(this.yh.Y);null === (U=this.T.fp) || void 0 === U?void 0:U.Ny({G:Z,Uea:Z.duration},Q.Y,this.yh.offset,!1);};N.prototype.TGb=function(Q){var U,Z;if((null === (U=this.T.zX()) || void 0 === U?void 0:U.G.id) === Q.Y){if((this.jh.UGb(Q.Y),!this.jh.get(Q.Y) && this.T.qv)){Q=this.T.bb;Z=this.T.zX();Z && (Q=(0,w.$c)(Q,function(qa){return qa.parent === Z;})) && this.jh.set(Z.G.id,null === Q || void 0 === Q?void 0:Q.G.id);}}else this.jh.$oa();};N.prototype.S5a=function(){var Q,U;Q=this;U=this.bb.filter(function(Z){return Z.G.P !== m.op;}).map(function(Z){return Q.RU.Lt(Z.G.P).CY;});return new y.Pha(function(){U.forEach(function(Z){return Z.release();});},this.console).nx();};N.prototype.Wd=function(Q){var U,Z,qa;qa=this.XUb();this.bb.reset();if(!Q && (this.jh.$oa(),qa.length))try{for(var Fa=g.__values(qa),Oa=Fa.next();!Oa.done;Oa=Fa.next()){Oa.value.Qfb();}}catch(Pa){var Ra;Ra={error:Pa};}finally{try{Oa && !Oa.done && (U=Fa.return) && U.call(Fa);}finally{if(Ra)throw Ra.error;}}this.Fi.reset();this.cs.reset();this.T.reset();this.lo=void 0;this.j7.reset();null === (Z=this.iZa) || void 0 === Z?void 0:Z.clear();this.Sc === f.pl.cm && (this.Sc=f.pl.OPEN);};N.prototype.u9=function(Q){return this.bb.Px(Q);};N.prototype.lk=function(Q){this.Ff.lk(Q);(0,t.assert)(this.T.Fr,"Must have an appended branch on underflow");this.T.iYa && this.Ff.Jf && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),Q=this.Ah(this.jf),this.Ff.wg("complete",Q.QR,Q.RR));this.j7.mDa(this.T.Fr,this.jf);this.Ok("onUnderflow");this.events.emit("underflow");};N.prototype.Pg=function(Q){this.gK.Pg(Q);};N.prototype.tx=function(Q){this.Pg(new A.ZQa(Q));return this.IDb(Q);};N.prototype.IDb=function(Q){if(!this.T.pDa(Q))return (this.Yf("player in use"),!1);this.T=Q;this.Fi.xYa(this.T.Ba);this.T.events.on("segmentPresenting",this.pF);this.T.events.on("drmReady",this.wZ);this.T.Fv.addListener(this.o3b);this.events.emit("playerChanged",{type:"playerChanged"});return !0;};N.prototype.lP=function(Q){var U,Z;U=Q.offset;Z=this.navigator.De(Q.Y);Q=Z.P;U=Z.ff.add(U);return {P:Q,ln:U};};N.prototype.Fn=function(Q,U){var Z,qa,Fa,Oa;Oa=this.T.Fn(Q);if(void 0 !== Oa)return Oa;if(null === (qa=null === (Z=this.lo) || void 0 === Z?void 0:Z.ty) || void 0 === qa?0:qa.equal(Q))return null !== (Fa=this.Q5) && void 0 !== Fa?Fa:this.Mj;Z=this.T.Fr;return (0,L.Fn)(Q,{Ma:this,jXb:Z && ({id:Z.G.id,n$b:Z.Mr})},U);};N.prototype.gB=function(Q,U){void 0 === U && (U=!1);Q=this.SX(Q,U).next();if(!Q.done)return (Q=Q.value,null === Q || void 0 === Q?void 0:Q.ty);};N.prototype.SX=function(Q,U){var Z,qa,Fa,Oa,Ra,Pa,Va,bb,Ab,tb,Db,Na,Xa;void 0 === U && (U=!1);return g.__generator(this,function(Wa){switch(Wa.label){case 0:(Z=this.T.SX(Q),qa=Z.next(),Wa.label=1);case 1:return qa.done?[3,3]:[4,qa.value];case 2:return (Wa.kb(),qa=Z.next(),[3,1]);case 3:if(!U)return [2];Fa={};Oa=this.yh;this.Xp && this.T.Uf && (Va=this.T.Fr) && (Oa={offset:n.M.Ha,Y:Va.G.id},Ra=Va.Oc.Da(this.T.jf),Pa=Va.G);Ra || (Pa=this.navigator.De(Oa.Y),Ra=Pa.ff.add(Oa.offset).Da(Pa.oh));(0,t.assert)(Pa,"Current segment should be defined by here");bb=this.jf;if(Pa.G.Ub && Pa.id !== Q.Y)return [3,6];if(Pa.id !== Q.Y)return [3,5];Ab=Q.offset.Da(Oa.offset);return [4,{lO:Ab,ty:bb.add(Ab)}];case 4:(Wa.kb(),Wa.label=5);case 5:return [2];case 6:(tb=this.navigator.De(Pa.G.Ub),Db=this.navigator.U9a(tb),Na=Db.next(),Wa.label=7);case 7:if(Na.done)return [3,11];Xa=Na.value;if(Fa[Xa.id])return [3,11];Fa[Xa.id]=!0;if(Xa.id !== Q.Y)return [3,9];Ab=Q.offset.add(Ra);return [4,{lO:Ab,ty:bb.add(Ab)}];case 8:return (Wa.kb(),[2]);case 9:(Ra=Ra.add(Xa.duration),Wa.label=10);case 10:return (Na=Db.next(),[3,7]);case 11:return [2];}});};N.prototype.Ygb=function(Q){return (0,L.bBa)(this.ka,Q);};N.prototype.U9b=function(Q,U,Z){var qa,Fa;qa=(0,L.bBa)(Q,U);Fa=n.M.Ja(1E4);if(!qa || !Z || Z.greaterThan(Fa))return qa;Q=U.offset.add(n.M.Ja(Q.R[U.Y].xa));Z=Z.Da(Q);if(Z.zi(n.M.Ha))return qa;Fa=n.M.max(n.M.Ha,Q.Da(Fa)).add(Z);if(Fa.zi(n.M.Ha))return qa;Fa=qa.offset.add(Fa);return {Y:qa.Y,offset:Fa};};N.prototype.Do=function(Q,U){var Z;Q="string" === typeof Q?{P:this.ka.R[Q].P,ln:n.M.Ja(U)}:Q;if(Q.P !== m.op){U=this.RU.Lt(Q.P);try{return null === (Z=U.S) || void 0 === Z?void 0:Z.Do(this.config,Q.ln.Z);}finally{U.CY.release();}}};N.prototype.O9=function(){return (0,S.L4a)(this.bb,this.X$.bind(this));};N.prototype.X$=function(Q){Q=this.bb.JX(Q);return void 0 === Q || Q.uj && this.X$(Q);};N.prototype.N9=function(){return this.JV.$I;};N.prototype.mSb=function(Q){return (0,W.S6a)(this.bb,Q);};N.prototype.Ah=function(Q){var U,Z,qa;U=this;this.bb.BI(function(Fa){var Oa,Ra;Oa=Fa.gP(d.u.V);Ra=Fa.gP(d.u.J);if(Fa.G.ew || !U.bb.bua(Fa) || !Fa.uj){if(!Z || Oa < Z)Z=Oa;if(!qa || Ra < qa)qa=Ra;}return Fa.uj;});return {QR:Z?Math.max(Z - Q.Z,0):0,RR:qa?Math.max(qa - Q.Z,0):0};};N.prototype.QO=function(){var Q,U,Z,qa;Z=this.ft?this.Ah(this.jf):{QR:0,RR:0};qa=G.default.instance().get();return {totalabuflmsecs:Z.QR,totalvbuflmsecs:Z.RR,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (U=Number(0 < qa.confidence) && (null === (Q=qa.Va) || void 0 === Q?void 0:Q.va)) && void 0 !== U?U:0};};N.prototype.fP=function(){var Q,U,Z,qa,Fa,Oa,Ra,Pa;Q=this;if(this.Oo())return (this.ji.Eu({isStreamingFailureReported:!0}),[]);Z=this.bb.size;this.ji.Eu({branchCount:Z});if(!this.ft || 0 === Z)return [];qa=this.jf;Fa=this.yh;Oa=[];Z=this.navigator.De(this.yh.Y);Ra=Z.duration;Pa=this.jh.get(Z.id)?1:null !== (U=Z.jC) && void 0 !== U?U:1;U=this.bb.reduce(function(Va,bb,Ab){var tb,Db,Wa,fb,kb;try{for(var Na=g.__values(bb.BX()),Xa=Na.next();!Xa.done;Xa=Na.next()){Wa=Xa.value;if(!Wa.mt()){fb=("p").concat(Q.id,"-").concat(Ab,"-").concat(null === (Db=bb.jd) || void 0 === Db?void 0:Db.Z);kb=Q.Q6a(Wa);Va.push(Q.wKb(Wa,kb.Z,fb,Ra.Z,Pa,qa.Z,Fa));}!Wa.XE() && Q.ji.enabled && Oa.push({segmentId:Wa.Y,isDoneStreaming:Wa.mt(),isNormalized:Wa.Bh(),needsHeaderRequest:Wa.track.Dba});}}catch(Jb){var vb;vb={error:Jb};}finally{try{Xa && !Xa.done && (tb=Na.return) && tb.call(Na);}finally{if(vb)throw vb.error;}}return Va;},[]);this.ji.Eu({nonStreamables:Oa});return U;};N.prototype.Q6a=function(Q){var U;if(Q.Pma)return Q.Pma;U=this.R6a(Q);return !U || U.uj || this.config.y8 && this.navigator.BVb(U.ab.G,Q.Y)?Q.WV:this.Q6a(U);};N.prototype.R6a=function(Q){var qa;if(!Q.ab.Pf){for(var U=Q.ab,Z;!Z;){qa=this.bb.JX(U);if(!qa)break;U=qa;Z=qa.OI(Q.mediaType);}return Z;}};N.prototype.N3b=function(Q){var U,Z;if(!this.Aea.Oo()){U=void 0;Z=this.T.yh;Z && (U=this.navigator.De(Z.Y).P);this.Yf("BufferingStateTracker: Temporary failure while buffering",U,"NFErr_MC_StreamingFailure",null === Q || void 0 === Q?void 0:Q.zg,null === Q || void 0 === Q?void 0:Q.Vx,null === Q || void 0 === Q?void 0:Q.Bi);}};N.prototype.Yf=function(Q,U,Z,qa,Fa,Oa,Ra){void 0 === Ra && (Ra=!1);"string" === typeof Q?this.Aea.Yf(Q,Z,{networkErrorCode:qa,httpCode:Fa,nativeCode:Oa,viewableId:U,temporaryFailure:Ra}):this.Aea.Q8b(Q);return !0;};N.prototype.vDa=function(Q,U){U=this.$Sb(U);this.events.emit("logdata",{type:"logdata",target:Q,fields:U});};N.prototype.$Sb=function(Q){var U;this.P$a.zZb(Q);U=this.gK.Vk(Q);Q === z.yf.Ts && (Q=this.QO(),U.vbuflmsec=Q.totalvbuflmsecs,U.abuflmsec=Q.totalabuflmsecs,U.vbuflbytes=Q.vbuflbytes,U.abuflbytes=Q.abuflbytes);return U;};N.prototype.ilb=function(Q){this.JV=Q;this.Ok("updateBudget");};N.prototype.Oo=function(){return this.Aea.Oo();};N.prototype.Blb=function(Q){Q !== this.weight && (this.fXa=Q,this.events.emit("weightUpdated"));};N.prototype.kw=function(Q){var U,Z,qa,Fa,Oa,Ra,bb,Ab,tb,Db,Na,Xa,Wa,fb,kb,vb;qa=(0,H.HZa)(this.ka,Q);Fa=qa.VQ;Oa=qa.hGb;Ra=qa.uec;if([qa.ACb,Fa,Oa].every(function(Ob){return !Ob.length;}))return {ga:!0,reason:d.su.Htb};if(0 === Oa.length && 0 === Ra.length && this.Xp && this.T.Uf)return {ga:!1,reason:d.su.Rsb};if(this.T.bb.some(function(Ob){return -1 < Fa.indexOf(Ob.G.id);}))return {ga:!1,reason:d.su.Fub};if(this.ft && !this.T.Uf && -1 < Fa.indexOf(this.Mj.Y))return {ga:!1,reason:d.su.csb};if(this.ft)try{for(var Pa=g.__values(Oa),Va=Pa.next();!Va.done;Va=Pa.next()){bb=Va.value;Ab=this.ka.R[bb];tb=Ab.xa;Db=Ab.wa;Na=Ab.P;Xa=Q.R[bb];Wa=Xa.wa;fb=Xa.xa;kb=Xa.P;if(this.yh.Y === bb && Wa !== Db){if(!Wa)return {ga:!1,reason:d.su.Gub};vb=n.M.Ja(Wa - fb);if(null === (Z=this.yh.offset) || void 0 === Z?0:Z.greaterThan(vb))return {ga:!1,reason:d.su.$mb};}if(tb !== fb)return {ga:!1,reason:d.su.Dqb};if(Na !== kb)return {ga:!1,reason:d.su.Eqb};}}catch(Ob){var Jb;Jb={error:Ob};}finally{try{Va && !Va.done && (U=Pa.return) && U.call(Pa);}finally{if(Jb)throw Jb.error;}}this.$hb(Q);this.Mp.start();return {ga:!0,reason:d.su.Gtb};};N.prototype.DE=function(Q){Q=this.u9(Q);Q=0 < Q.length?Q[0]:void 0;if((Q=null === Q || void 0 === Q?void 0:Q.rm()) && 0 !== Q.length)return n.M.min.apply(n.M,g.__spreadArray([],g.__read(Q.map(function(U){return U.DE();})),!1));};N.prototype.$hb=function(Q){var U;U={type:"playgraphUpdating",U2b:this.ko,R1b:Q};this.ko=Q;this.navigator=new O.gQa(Q);this.bVb=(0,H.c0a)(this.navigator);this.events.emit("playgraphUpdating",U);};N.prototype.CZ=function(Q,U){this.dgb(Q);Q.FO.addListener("criticalNetworkError",this.Wba);Q.FO.addListener("temporaryNetworkError",this.BZ);Q.FO.addListener("updatingLastSuccessEvent",this.fca);this.Sc === f.pl.cm && U && this.bhb();};N.prototype.Bya=function(Q){0 === this.bb.filter(function(U){return U.ht && U.S === Q;}).length && this.dgb(Q);};N.prototype.dgb=function(Q){Q.FO.removeListener("criticalNetworkError",this.Wba);Q.FO.removeListener("temporaryNetworkError",this.BZ);Q.FO.removeListener("updatingLastSuccessEvent",this.fca);};N.prototype.nXa=function(Q){var U;(0,t.assert)(Q.Bh,"expected branch to be normalized on addBranchToPlayer");this.T.qv || (null === (U=this.lo) || void 0 === U?0:U.Bh) || this.$Pb(Q);this.Ff.hfa(Q.xe);this.T.qv && (U=this.T.Fr) && this.jh.clear(U.G.id);this.T.Xqa(Q);this.j7.mDa(Q,this.jf);};N.prototype.$Pb=function(Q){(0,t.assert)(Q.pc,"Normalized branch should have a defined content start timestamp");(0,t.assert)(this.lo,"AsePlaygraph should have a seek position on first branch normalization");(0,t.assert)(!this.lo.Bh,"Seek position should not already be normalized on first branch normalization");this.lo=g.__assign(g.__assign({},this.lo),{position:{Y:Q.G.id,offset:Q.pc.Da(Q.G.ff)},Bh:!0});this.Ff.P$b(this.lo.position,Q.xe.filter(function(U){return U.mediaType === d.u.V;})[0]);};N.prototype.SGb=function(){var Q;this.j7.reset();this.T.aE();this.lo=void 0;null === (Q=this.iZa) || void 0 === Q?void 0:Q.clear();};N.prototype.wKb=function(Q,U,Z,qa,Fa,Oa,Ra){var Pa,Va,bb,Ab,tb;Pa=this;Ab=null !== (bb=null === (Va=Q.ab.jd) || void 0 === Va?void 0:Va.Z) && void 0 !== bb?bb:Q.ab.jt.Z;Va=Q.sC.Z;bb=this.jh.get(Q.Y)?1:Q.ab.G.jC;return {identifier:Q.Y,mediaType:Q.mediaType,ei:Q.ei,xg:this.xg.value,UB:U,Vt:Va,Ps:Oa,U3a:Q.zI.Z,Cza:Ra.offset.Z,Bza:qa,e_:Fa,jC:bb,qn:Q.ab.Wu.Z,pjb:Math.max(Va - Ab,0),XE:Q.XE(),mt:Q.mt(),groupId:Z,I9a:function(Db,Na){Db=Pa.ojb.PFb(Db,Q.mediaType,1 > Na || !Q.ab.Pf && !Pa.X$(Q.ab));1 === Na && "global" === (0,d.fAa)(Db.reason) && Pa.Ff.j3b(Q.mediaType,Pa.Ah(Pa.jf));return Db;},M9a:function(){var Db,Na,Xa,Wa,fb,kb,vb,Jb,Ob,Sb;Wa=Q.mediaType;fb=Q.W5a();kb=Pa.Yta.s$b(Pa.xg.value,Pa.jf,Q.sC,Pa.T.playbackRate,Q,Wa === d.u.V?Pa.Jna:Pa.eS,Pa.R6,fb);fb=kb.stream;vb=kb.g0;Jb=kb.uP;Ob=kb.lC;Sb=kb.oy;kb=kb.reason;if(!fb)return {zj:!1,reason:kb || "selectLocationsAndStream"};if(Pa.xg.value === d.Vc.cm && Q.ab && Q.ab.S.Mo && !Q.ab.S.XY && !Pa.T.Br(Q.ab.S.P)){kb=Q.sC.Z - Pa.jf.Z;if(!Q.ab.S.Kf.gg && kb > Pa.config.$wa)return {zj:!1,reason:"maxBufferingCompleteBufferInMs"};if(!fb.yj && fb.mediaType === d.u.J && kb >= Pa.config.Vaa)return {zj:!1,reason:"maxFastPlayBufferInMs"};}kb=d.u.J;if(null === (Db=Q.ab) || void 0 === Db?0:Db.xe.every(function(Eb){return Eb.mediaType === d.u.V;}))kb=d.u.V;Pa.Ff.Jf && Wa === kb && Pa.Ff.dac(Q.Oj.R_,fb.bitrate,Jb);Pa.oR(vb);Db=null === (Na=Q.ab.uq) || void 0 === Na?void 0:Na.Z;Na=Q.Qkb(fb,Sb,Ob);Na.zj?(Pa.ila && (Pa.Vm("firstDriveStreaming"),Pa.ila=!1),0 < Pa.pE && (fb=null === (Xa=Q.ab.uq) || void 0 === Xa?void 0:Xa.Z,Db && fb && (Pa.pE-=Db - fb,0 >= Pa.pE && Pa.bhb()))):"exceedsLiveEdge" === Na.reason && (null === tb || void 0 === tb?void 0:tb.xb(),tb=Pa.cs.ZN(u.Rh.bG(fb.EE().Wu),function(){tb=void 0;Pa.Ok("liveEdgeRetry");}));return Na;}};};N.prototype.oR=function(Q){var U;U=this;Q.forEach(function(Z){Z.S.X$b(Z,function(){var qa,Fa;(0,t.assert)(U.ft,"Speculative header callback after streaming is cancelled");qa=U.jf.Z;Fa=qa + U.config.eZ;return {ei:[],xg:U.Ff.state.value,UB:Fa,Vt:Fa,Ps:qa};});});};N.prototype.bhb=function(){var Q;Q=this;this.Mp.vfa(Aa.wG.lz,function(){return Q.Mp.start();});};N.prototype.kda=function(){var Q,U,Z,qa,Fa,Oa;Q=this;if(this.Sc === f.pl.cm){U=this.yh;Z=this.T.bb;qa=this.bb.OUb();Fa=g.__read(Z,1)[0];U=Fa?this.navigator.De(Fa.G.id):this.navigator.De(U.Y);Z=Z.map(function(Ra){return Ra.G.id;});Z=(0,K.kda)(this.console,this.bVb,U,qa,this.jh,Z,n.M.Ja(this.config.NEb),this.config.Fxa,n.M.Ja(this.config.aoa));qa=Z.vda;Z=Z.pE;U=g.__read(qa);Oa=U[0];U=U.slice(1);Fa=U.filter(function(Ra){return Ra.Sv;});(0,t.assert)(U.length === Fa.length,"Missing parent branch");(0,t.assert)(!U.length || U.some(function(Ra){return Ra.Sv === Oa;}),"Disconnected tree");this.pE=Z || 0;this.bb.Gec(qa,function(Ra,Pa){var Va,bb;bb=Q.navigator.De(Ra);Ra=Ra === Q.Mj.Y?Q.Mj.offset:Ra === (null === (Va=Q.Q5) || void 0 === Va?void 0:Va.Y)?Q.Q5.offset:n.M.Ha;Va=bb.ff.add(Ra);return Q.iec(bb,Va,Pa);}).VQ.forEach(function(Ra){Ra.Wd("aborted");});this.Mfb();this.e_a();this.Mp.vfa(Aa.wG.lz,function(){var Ra;(null === (Ra=Q.bb.root()) || void 0 === Ra?0:Ra.ht) && Q.Ok("reevaluateBranches");Q.Mp.cZ(Aa.wG.HT);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};N.prototype.XUb=function(){return (0,w.sV)(this.bb.filter(function(Q){return Q.ht;}).map(function(Q){return Q.S;}));};N.prototype.Mfb=function(){var Q,U;Q=this;if(this.Sc === f.pl.cm){if(!this.T.Fr){U=g.__read(this.bb.Px(this.Mj.Y),1)[0];(null === U || void 0 === U?0:U.Bh) && this.nXa(U);}if(this.T.Fr)for(;;){U=this.G5a(this.T.Fr.G);if(!U)break;U=g.__read(this.bb.Px(U).filter(function(Z){return Z.parent === Q.T.Fr;}),1)[0];if(!U)break;if(null === U || void 0 === U || !U.Bh)break;else if(this.T.r7a(U))break;this.nXa(U);}}};N.prototype.l6a=function(Q){var U,Z,qa,Fa;if(this.T.qv){U=this.T.Gi;Z=!1;qa=this.T.bb.filter(function(Oa){Z || (Z=Oa === U);return Z;});Fa=(0,w.Kp)(qa,function(Oa){return Oa.G.id === Q.id;});if(qa=qa[Fa + 1])return qa.G.id;}return this.G5a(Q);};N.prototype.G5a=function(Q){var U;U=this.jh.get(Q.id);if(void 0 !== U)return U;Q=this.navigator.dSb(Q);if(1 === Q.length)return Q[0].id;};N.prototype.e_a=function(){var Q;Q=0 !== this.bRb();Q || this.zea?Q && this.zea && (this.zea=!1):(this.Ff.Jf && (Q=this.Ah(this.jf),this.Ff.wg("complete",Q.QR,Q.RR)),this.gzb(),this.zea=!0);};N.prototype.bRb=function(){return this.bb.filter(function(Q){return !Q.uj;}).length;};N.prototype.ys=function(Q){this.X$(Q) && this.Ff.Toa(this.jf,this.T.playbackRate,Q,{Soa:this.Yta.Soa.bind(this.Yta,this.ojb)});};N.prototype.b3b=function(Q,U){var Z,qa;Z=this;if(U.didNormalizeSegment){qa=T.ARa.WUb(Q);(0,t.assert)(qa,"Segment should be normalized");Promise.resolve().then(function(){return Z.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:Q.G.id,normalizedStart:U.segmentContentStart,normalizedEnd:U.branchContentEnd,viewableContentEnd:qa.pmb,viewableEarliestContentEnd:qa.qmb,media:c(Q.xe)});});}Promise.resolve().then(function(){Z.Mfb();});this.Ok("branchNormalized");};N.prototype.c3b=function(){this.e_a();};N.prototype.a3b=function(){this.Mp.start();};N.prototype.IKb=function(Q){var U,Z;U=this;Z=!this.T.qv && !this.bb.has(this.Mj.Y);return new l.aGa(Q.P,this.RU.Lt.bind(this.RU),function(qa,Fa,Oa){U.state !== f.pl.CLOSED && (U.CZ(Fa,Oa),U.Mp.vfa(Aa.wG.HT,function(){qa.Pf || U.C5(qa,Fa,Z);}));},this.Bya.bind(this));};N.prototype.iec=function(Q,U,Z){var qa,Fa;if(this.NGb(Q,U))throw Error("Not implemented");qa=this.IKb(Q);Fa=Z?Z.Oc.Da(U):this.z8a || n.M.Ha;Q=(0,h.b0a)({config:this.config,console:this.console,G:Q,events:this.events,wK:this.wK,yn:U,Ld:Fa,Tf:this.TKb.bind(this),xg:this.xg,Fi:this.Fi,iL:qa,nZa:this.vp,pza:this.bb});this.occ(Q,! !Z);return Q;};N.prototype.TKb=function(){return this.jf.Z;};N.prototype.occ=function(Q,U){var Z,qa;Z=this;qa=new k.$f();qa.addListener(Q.events,"needsRequest",function(){var Fa;Fa=Z.bb.root();Fa && !Fa.ht || Z.Ok("branchNeedsHeader");});qa.addListener(Q.events,"branchNormalized",this.b3b.bind(this,Q));qa.addListener(Q.events,"lastRequestIssued",this.a3b.bind(this,Q));qa.addListener(Q.events,"branchStreamingComplete",this.c3b.bind(this,Q));qa.addListener(Q.events,"checkBufferingProgress",this.ys.bind(this,Q));qa.addListener(Q.events,"branchDestroyed",function(Fa){qa.clear();Z.bb.contains(Q) && (Z.bb.mda(Q),Z.Mp.start());"aborted" === Fa.reason && (Z.T.r7a(Q) || Z.Mp.vfa(Aa.wG.lz,function(){return Z.Rla(Q.G.id);}));});U || (this.Vm("createDlTracksStart"),Q.events.once("requestQueuesCreated",function(){Z.Vm("createDlTracksEnd");}));};N.prototype.ETb=function(Q){if(this.T.Uf)return this.T.Gi.fb(Q);};N.prototype.wK=function(Q,U,Z,qa){U=[[d.u.V,null !== U && void 0 !== U?U:this.BV,"audio_tracks"],[d.u.J,null !== Z && void 0 !== Z?Z:this.iEa,"video_tracks"]].map(function(Fa){var Oa,Ra;Oa=g.__read(Fa,3);Ra=Oa[0];Fa=Oa[1];Oa=Oa[2];if(Q.fa && ((0,t.assert)(Fa,("Expected mediaType ").concat(Ra," track selector to be defined")),Ra=Q.fa[Oa],Fa=Fa.vK(Q.fa,Ra),void 0 !== Fa))return Q.getTrackById(Ra[Fa].UR);}).filter(w.Oba);Z=qa || this.Vjb;Q.fa && Z && (qa=Q.fa.timedtexttracks,Z=Z.vK(Q.fa,qa),void 0 !== Z && 0 <= Z && (qa=Q.getTrackById(qa[Z].id)) && U.push(qa));return U;};N.prototype.C5=function(Q,U,Z){(0,t.assert)(Q.xe.length,"Branch should have tracks defined");Q={type:"segmentStarting",segmentId:Q.G.id,contentOffset:Q.Ld.Z,maxBitrates:{audio:U.vt[d.u.V],video:U.vt[d.u.J]},media:c(Q.xe),initial:Z};this.events.emit(Q.type,Q);};N.prototype.Rla=function(Q){Q={type:"segmentAborted",segmentId:Q};this.events.emit(Q.type,Q);};N.prototype.gzb=function(){var Q;Q={type:"streamerEnd",time:q.default.time.ia()};this.events.emit(Q.type,Q);};N.prototype.Vm=function(Q){Q={type:"startEvent",event:Q,time:q.default.time.ia()};this.events.emit(Q.type,Q);};g.__decorate([Ha.return.ci()],N.prototype,"Mj",null);g.__decorate([(0,E.kc)({methodName:"checkCanSetTracks",return:!0})],N.prototype,"lGb",null);g.__decorate([(0,E.kc)({methodName:"setTracks",return:!0})],N.prototype,"DK",null);g.__decorate([(0,E.kc)({methodName:"setNextSegment",Es:!0})],N.prototype,"jl",null);g.__decorate([(0,E.kc)({methodName:"seekStreaming"}),g.__param(0,Ha.ci())],N.prototype,"JF",null);g.__decorate([(0,E.kc)({methodName:"seekStreamingWithEntryPoint"}),g.__param(0,Ha.ci()),g.__param(2,Ha.ci()),g.__param(2,Ha.Tba)],N.prototype,"Oda",null);g.__decorate([Ha.return.f0a(),g.__param(0,Ha.ci())],N.prototype,"lP",null);g.__decorate([Ha.return.ci()],N.prototype,"Fn",null);g.__decorate([g.__param(0,Ha.ci())],N.prototype,"gB",null);g.__decorate([g.__param(0,Ha.ci())],N.prototype,"SX",null);g.__decorate([Ha.return.ci(),g.__param(0,Ha.ci())],N.prototype,"Ygb",null);g.__decorate([g.__param(0,Ha.f0a()),g.__param(0,Ha.Y())],N.prototype,"Do",null);g.__decorate([(0,E.kc)({methodName:"getStreamables",Cl:!0})],N.prototype,"fP",null);g.__decorate([(0,E.kc)({methodName:"updatePlaygraphMap",return:!0})],N.prototype,"kw",null);return N;})();b.ega=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aGa=void 0;c=a(0);r=(function(){function g(k,m,f,d){this.P=k;this.Lt=m;this.CZ=f;this.Bya=d;}Object.defineProperties(g.prototype,{S:{get:function(){var k;return null === (k=this.i1) || void 0 === k?void 0:k.S;},enumerable:!1,configurable:!0}});g.prototype.xb=function(){var k;this.S && (this.S.GDa(this.ab),this.Bya(this.S));null === (k=this.i1) || void 0 === k?void 0:k.CY.release();this.i1=void 0;};g.prototype.oa=function(k){return c.__awaiter(this,void 0,void 0,function(){var m,f,d,l,n;return c.__generator(this,function(h){switch(h.label){case 0:return (this.ab=k,m=this.Lt(this.P),f=m.aG,d=m.S,l=m.CY,this.i1={CY:l,S:d},d?(this.y8a(d,k,!1),[2,d]):[4,f]);case 1:return (n=h.kb(),this.y8a(n,k,!0),[2,n]);}});});};g.prototype.y8a=function(k,m,f){this.i1 && (this.i1.S=k,k.nAa(m),this.CZ(m,k,f));};return g;})();b.aGa=r;},function(r,b,a){var c,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.b0a=void 0;c=a(38);g=a(1115);k=a(8);m=a(1116);b.b0a=function(f){var d,l,n,h,p,q,t,v,w,u,x,y;d=f.config;l=f.console;n=f.pza;h=f.G;p=f.events;q=f.wK;t=f.yn;v=f.Ld;w=f.Tf;u=f.xg;x=f.Fi;y=f.iL;f=f.nZa;h.P === c.op && d.tI?(p=new g.mOa(h.P,d.Lya),q=k.M.Ha,d=new (a(1120).lOa)(l,h,q,n.JX.bind(n),p,d)):d=new m.YFa(d,l,p,h,q,t,v,w,n.JX.bind(n),u,x,y,f);return d;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mOa=void 0;c=a(38);r=(function(){function g(k,m){this.P=k;this.ggc=m;this.K=("").concat(c.op);}g.prototype.getTrackById=function(){};g.prototype.lk=function(){};g.prototype.Qfb=function(){};g.prototype.Yf=function(){return !0;};g.prototype.aR=function(){};return g;})();b.mOa=r;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u;Object.defineProperties(b,{__esModule:{value:!0}});b.YFa=b.MC=void 0;c=a(0);g=a(118);k=a(6);m=a(8);f=a(20);r=a(77);d=a(35);l=a(2);n=a(193);h=a(266);p=a(10);q=a(131);t=a(1117);v=a(463);w=a(1118);(function(x){x[x.FS=0]="CREATED";x[x.xS=1]="CANCELLED";})(u=b.MC || (b.MC={}));a=(function(x){function y(z,A,B,C,D,E,G,F,I,L,M,K,O){A=x.call(this,C,I,G,E,A) || this;A.L=z;A.wca=B;A.K9=D;A.mU=F;A.Kz=L;A.fx=M;A.iL=K;A.vp=O;A.Wx=new h.KL();A.DAa=0;A.Tb=void 0;A.A0=void 0;A.Ll=new m.PC();A.O$=new m.PC();A.oya=A.cXb();return A;}c.__extends(y,x);Object.defineProperties(y.prototype,{xe:{get:function(){var z;this.ht && 0 === (null === (z=this.eN) || void 0 === z?void 0:z.length) && this.K9 && (p.N && this.console.trace("Branch getting initial tracks"),this.eN=this.K9(this.S).sort(v.ZF),p.N && this.console.trace("Branch got initial tracks:",this.eN));return this.eN;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{rN:{get:function(){return this.uj?this.rm().every(function(z){return z.Ua.rN;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{$Xa:{get:function(){return this.rm().some(function(z){return z.ZCb;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Av:{get:function(){var z;return !(null === (z=this.Pd) || void 0 === z || !z.Av);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{uj:{get:function(){var z;return !(null === (z=this.Pd) || void 0 === z || !z.uj);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ds:{get:function(){var z,A;return null !== (A=null === (z=this.Pd) || void 0 === z?void 0:z.Ds) && void 0 !== A?A:0;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Bh:{get:function(){var z;return !(null === (z=this.Pd) || void 0 === z || !z.Bh);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{hS:{get:function(){return this.Ll.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ht:{get:function(){var z;return !(null === (z=this.iL) || void 0 === z || !z.S);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{q$:{get:function(){return ! !this.xe.length && this.xe.every(function(z){return z.ee;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{S:{get:function(){(0,l.assert)(this.iL.S,"viewable should be available");return this.iL.S;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{W:{get:function(){var z;return (null === (z=this.Pd) || void 0 === z?void 0:z.W) || this.yn.W;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Za:{get:function(){var z,A;return null !== (A=null === (z=this.Pd) || void 0 === z?void 0:z.Za) && void 0 !== A?A:this.yn.Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{lb:{get:function(){var z,A;return null !== (A=null === (z=this.Pd) || void 0 === z?void 0:z.lb) && void 0 !== A?A:this.G.oh.Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Kj:{get:function(){var z,A;return null !== (A=null === (z=this.Pd) || void 0 === z?void 0:z.Kj) && void 0 !== A?A:this.Ld.ng(this.W).Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{jt:{get:function(){var z,A,B;return null !== (A=null === (z=this.Pd) || void 0 === z?void 0:z.jt) && void 0 !== A?A:null === (B=this.yn) || void 0 === B?void 0:B.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{zI:{get:function(){var z,A;A=null === (z=this.G.G.Vp) || void 0 === z?void 0:z[0];return A && this.pc?f.M.Ja(Math.max(0,A[0] - this.pc.Z - this.G.ff.Z)):f.M.Ha;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Mr:{get:function(){var z,A;return null !== (A=null === (z=this.Pd) || void 0 === z?void 0:z.Mr) && void 0 !== A?A:this.G.ff.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{wF:{get:function(){var z,A;return null !== (A=null === (z=this.Pd) || void 0 === z?void 0:z.wF) && void 0 !== A?A:this.G.oh.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{AY:{get:function(){var z;return null === (z=this.Pd) || void 0 === z?void 0:z.AY;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ld:{get:function(){var z,A;return null !== (A=null === (z=this.Pd) || void 0 === z?void 0:z.Ld) && void 0 !== A?A:this.Kq;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{uq:{get:function(){var z,A;return null !== (A=null === (z=this.Pd) || void 0 === z?void 0:z.uq) && void 0 !== A?A:this.G.oh.Da(this.yn || this.G.ff);},enumerable:!1,configurable:!0}});y.prototype.oa=function(){return c.__awaiter(this,void 0,void 0,function(){var z,A,B;B=this;return c.__generator(this,function(C){switch(C.label){case 0:x.prototype.oa.call(this);if(this.Pf)return [2];p.N && this.console.log(("AseBranch {").concat(this.G.id,"} awaiting viewable"));return [4,this.iL.oa(this)];case 1:C.kb();p.N && this.console.log(("AseBranch {").concat(this.G.id,"} viewable available, branch ").concat(this.Pf?"cancelled":"active"));if(this.Pf)return [2];z=this.xe.map(function(D){var E;return null === (E=B.parent) || void 0 === E?void 0:E.eP(D.mediaType);});this.Rhb(this.yn);this.xe.some(function(D){D.mediaType === k.u.Hb && B.hib(D);});return [4,this.A3a()];case 2:return (C.kb(),p.N && this.console.log(("AseBranch {").concat(this.G.id,"} have headers")),this.Pf?[2]:(A=this.parent)?[4,A.hS]:[3,4]);case 3:C.kb();if(this.Pf)return [2];this.ZJb(z);C.label=4;case 4:return (this.normalize(),[2]);}});});};y.prototype.ZJb=function(z){var A;A=this;this.Wx.forEach(function(B){var C,D;D=null === (C=A.parent) || void 0 === C?void 0:C.eP(B.mediaType);(0,l.assert)(D,"Parent state should be defined");-1 === (null === z || void 0 === z?void 0:z.indexOf(D)) && (B.Oj.we.xb(),C=new n.l4(function(){var E;return null === (E=A.parent) || void 0 === E?void 0:E.eP(B.mediaType);}),B.Oj.we=C);D=void 0;});z=void 0;};y.prototype.A3a=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.q$?this.O$.resolve():(this.S.tv.on("onHeaderFragments",this.oya),this.events.emit("needsRequest"));return [2,this.O$.promise];});});};y.prototype.cXb=function(){var z;z=this;return function(){!z.Pf && z.q$ && (z.S.tv.ly("onHeaderFragments",z.oya),z.O$.resolve());};};y.prototype.normalize=function(){this.Pf || (this.Pd=new w.ANa(this,this.L,this.console,this.S,this.wca,this.Fp,this.yn,this.Wx.items,this.Kq,this.mU,this.Kz,this.events,this.fx,this.vp),this.Oqa(this.Pd.mE),this.Ll.resolve(this.Pd));};y.prototype.update=function(z){var A;this.Fp=z;(null === (A=this.Pd) || void 0 === A?0:A.update(z)) && this.Oqa(!0);};y.prototype.wq=function(z,A){var B;void 0 === A && (A="unknown");x.prototype.wq.call(this,z,A);null === (B=this.Pd) || void 0 === B?void 0:B.wq(z);};y.prototype.Rx=function(z){return c.__awaiter(this,void 0,void 0,function(){var A;return c.__generator(this,function(B){switch(B.label){case 0:return [4,this.Ll];case 1:return (A=B.kb(),[2,null === A || void 0 === A?void 0:A.Rx(z)]);}});});};y.prototype.sE=function(){var z;null === (z=this.Pd) || void 0 === z?void 0:z.sE();};y.prototype.reset=function(){var z;null === (z=this.Pd) || void 0 === z?void 0:z.reset();};y.prototype.Wd=function(z){var A;void 0 === z && (z="other");x.prototype.Wd.call(this,z);this.Sc=u.xS;this.ht && this.S.tv.ly("onHeaderFragments",this.oya);null === (A=this.Pd) || void 0 === A?void 0:A.Wd();this.Wx.forEach(function(B){B.cancel();B.Oj.we.xb();});this.iL.xb();this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:z});this.events.removeAllListeners();};y.prototype.xP=function(z){var A;return !(null === (A=this.Pd) || void 0 === A || !A.xP(z));};y.prototype.fb=function(z){var A;return null === (A=this.Pd) || void 0 === A?void 0:A.fb(z);};y.prototype.r$=function(z){return this.xe.some(function(A){return A.mediaType === z;});};y.prototype.rm=function(z){var A,B;void 0 === z && (z=v.ZF);return null !== (B=null === (A=this.Pd) || void 0 === A?void 0:A.rm(z)) && void 0 !== B?B:[];};y.prototype.eP=function(z){var A,B;return (null === (A=this.fb(z)) || void 0 === A?void 0:A.Oj.we) || (null === (B=this.Wx.get(z)) || void 0 === B?void 0:B.Oj.we);};y.prototype.BX=function(){var z,A,B,C;z=this;if(!this.q$)return this.Wx.items;C=null !== (B=null === (A=this.Pd) || void 0 === A?void 0:A.BX()) && void 0 !== B?B:[];this.Tb && C.some(function(D){if(D.mediaType === k.u.J)return (D.QYa=z.Tb,p.N && z.console.trace("Branch setting auxiliaryTrack:",z.Tb),!0);});return C;};y.prototype.OI=function(z){var A;return (null === (A=this.Pd) || void 0 === A?void 0:A.OI(z)) || this.Wx.get(z);};y.prototype.Ah=function(z,A){var B;return (null === (B=this.Pd) || void 0 === B?void 0:B.Ah(z,A)) || 0;};y.prototype.YA=function(){var z;return (null === (z=this.Pd) || void 0 === z?void 0:z.YA()) || ({});};y.prototype.gP=function(z){var A;return (null === (A=this.Pd) || void 0 === A?void 0:A.gP(z)) || this.jt.Z;};y.prototype.DK=function(z,A,B){return c.__awaiter(this,void 0,void 0,function(){var C,D,E,G,F;F=this;return c.__generator(this,function(I){switch(I.label){case 0:p.N && this.console.trace("Branch.setTracks:",z);this.eN=z.sort(v.ZF);this.Rhb(A);if(!this.Bh)return [3,4];(0,l.assert)(this.Pd);C=this.Wx.filter(function(L){return L.track.ee;}).items;D=this.Pd.slb(C,A,B);E=D.uW;G=D.mE;E && this.Oqa(G);if(this.q$)return [3,4];this.O$=new m.PC();this.Ll=new m.PC();p.N && this.console.log(("AseBranch {").concat(this.G.id,"} setTracks waiting for headers"));return [4,this.A3a()];case 1:return (I.kb(),this.Pf?[2]:this.parent?[4,this.parent.hS]:[3,3]);case 2:(I.kb(),I.label=3);case 3:(this.Pd.slb(this.Wx.items,A,B),p.N && this.console.log(("AseBranch {").concat(this.G.id,"} setTracks pipelines updated")),this.Ll.resolve(this.Pd),this.events.emit("needsRequest"),I.label=4);case 4:return (z.some(function(L){if(L.mediaType === k.u.Hb)return (F.hib(L),!0);}),[2]);}});});};y.prototype.hib=function(z){this.Tb=z;this.A0 || (this.A0=g.ip.instance.Os(k.u.Hb,this.S.K,!0,!1,{Gx:this.L.Gx},this.L),this.A0.oa(),p.N && this.console.trace("AseBranch created textRequestQueue:",this.A0));};y.prototype.Z6a=function(){return this.Tb;};y.prototype.Rhb=function(z){var A;A=this;this.DAa=0;this.Wx=new h.KL(this.xe.filter(function(B){return B.mediaType !== k.u.Hb;}).map(function(B){var C;C=A.Wx.find(function(D){return D.track === B;});C || (++A.DAa,C=new t.XJa(A,B,function(){return (null === z || void 0 === z?void 0:z.add(A.Ld)) || f.M.Ha;},A.L,A.console,function(){var D;return null === (D=A.parent) || void 0 === D?void 0:D.eP(B.mediaType);},A.wca,function(){0 === --A.DAa && A.events.emit("requestQueuesCreated");}));return C;}));};y.prototype.$l=function(z){var A;return (null === (A=this.Pd) || void 0 === A?void 0:A.$l(z)) || [];};y.prototype.eE=function(z){var A;return !(null === (A=this.Pd) || void 0 === A || !A.eE(z));};y.prototype.rX=function(z){return this.Pd?this.Pd.rX(z):f.M.Ha;};y.prototype.Zea=function(z){var A;return !(null === (A=this.Pd) || void 0 === A || !A.Zea(z));};y.prototype.Oqa=function(z){z={type:"branchNormalized",segmentContentStart:this.G.ff,branchContentStart:this.pc,branchContentEnd:this.Fd,didNormalizeSegment:z};this.events.emit(z.type,z);p.N && this.console.trace("branchNormalized:",z);};y.prototype.toJSON=function(){var z;return (null === (z=this.Pd) || void 0 === z?void 0:z.toJSON()) || ({});};return y=c.__decorate([q.FI],y);})(v.sga);b.YFa=a;(0,d.Ue)(r.gu,a);(0,d.Ue)(r.cz,a);},function(r,b,a){var c,g,k,m,f,d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.XJa=void 0;c=a(0);g=a(445);k=a(118);m=a(6);f=a(193);d=a(268);l=a(2);r=(function(){function n(h,p,q,t,v,w,u,x){this.ab=h;this.track=p;this.Lbc=q;this.config=t;this.console=v;this.events=u;this.E3b=x;this.ym=0;this.Deb=this.uj=!1;this.Oj=this.vKb(w);}Object.defineProperties(n.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Y:{get:function(){return this.ab.G.id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ei:{get:function(){return this.ab.ei;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{sea:{get:function(){return this.Lbc();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{WV:{get:function(){return this.sea;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{sC:{get:function(){return this.sea;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{zI:{get:function(){return this.ab.zI;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Se:{get:function(){return this.Ne || (this.Ne=this.Os());},enumerable:!1,configurable:!0}});n.prototype.XE=function(){return this.track.Dba;};n.prototype.mt=function(){return this.track.ee;};n.prototype.Bh=function(){return !1;};n.prototype.E5a=function(){return {ha:[],rca:0,Fj:0,Yo:0};};n.prototype.Rdc=function(){var h;(0,l.assert)(this.mt());h=this.Se;this.Ne=void 0;return h;};n.prototype.Qkb=function(h){return (h=h.YF(this.Se))?{zj:h,reason:"success"}:{zj:h,reason:"pipelineTryIssueHeaderRequest"};};n.prototype.cancel=function(){this.Ne && (this.ab.S.jN(this.mediaType,this.Ne),k.ip.instance.jO(this.Ne),this.Ne.removeAllListeners(),this.Ne=void 0);};n.prototype.W5a=function(){};n.prototype.q9a=function(){var h,p,q;q=this.config.Hj;if(null === (h=this.Se) || void 0 === h?0:h.track)q=null === (p=this.Se) || void 0 === p?void 0:p.track.Hj;return q;};n.prototype.vKb=function(h){var p,q;p=this.mediaType === m.u.V?this.config.FYa:this.track.Ya?this.config.UZb:this.config.FCa;h=new f.l4(h);h.$_(this.track);q=this.config;return new d.Tja(p,this.config,h,this.mediaType === m.u.V?q.w8:q.x8);};n.prototype.Os=function(){var h,p;h=this;p=this.track.Ya?c.__assign(c.__assign({},this.config),{Slb:!0}):this.config;p=(0,g.Os)(this.mediaType,this.track.S,p,this.console,function(q){return h.events.emit("transportReport",q);},function(q){return h.events.emit("mediaRequestComplete",q);},function(){});p.on("created",this.E3b);return p;};return n;})();b.XJa=r;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u;function c(x,y){return (x.mediaType === d.u.J?0:1) - (y.mediaType === d.u.J?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.ANa=b.Via=void 0;g=a(0);k=a(442);m=a(89);f=a(130);d=a(6);l=a(1119);n=a(8);h=a(22);p=a(2);q=a(20);t=g.__importDefault(a(4));r=a(77);v=a(35);w=a(266);u=a(464);b.Via={ZF:c};a=(function(x){function y(z,A,B,C,D,E,G,F,I,L,M,K,O,H){var J,R;R=x.call(this,C) || this;R.ab=z;R.L=A;R.S=C;R.wca=D;R.Fp=E;R.Kq=I;R.mU=L;R.Kz=M;R.events=K;R.fx=O;R.vp=H;R.$e=new w.KL([]);R.Sm=!1;R.wU=0;R.XT=R.mya.bind(R);(0,p.assert)(C.P === R.G.P || isNaN(C.P) && isNaN(R.G.P));z=E.id && E.id.length?"{" + E.id + "}":"";R.console=(0,n.Ai)(t.default,B,z);R.yn=null !== G && void 0 !== G?G:q.M.Ja(R.G.da);B=R.parent;R.Yla=null === B || void 0 === B?void 0:B.Oc;null === (J=R.Kz) || void 0 === J?void 0:J.addListener(R.XT);F=R.D0a(F,R.yn,! !B).mE;R.mE=F;return R;}g.__extends(y,x);Object.defineProperties(y.prototype,{Pf:{get:function(){return this.Sm;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{G:{get:function(){return this.Fp;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Av:{get:function(){return this.$e.every(function(z){return z.Av;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{uj:{get:function(){return this.$e.every(function(z){return z.uj;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ds:{get:function(){return this.rm().reduce(function(z,A){return z + A.Ds;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Bh:{get:function(){return this.rm().every(function(z){return z.Bh();});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{xe:{get:function(){return this.ab.xe;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{W:{get:function(){return this.gx.W;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Za:{get:function(){return this.gx.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{lb:{get:function(){return this.gx.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Kj:{get:function(){return this.Ld.ng(this.W).Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{jt:{get:function(){return this.yn.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Mr:{get:function(){return this.G.ff.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{wF:{get:function(){return this.G.oh.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{AY:{get:function(){return this.$e.reduce(function(z,A){return z && A.Oc?q.M.max(z,A.Oc):A.Oc?A.Oc:z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Vua:{get:function(){return this.jt.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{cg:{get:function(){return this.Ld.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{uq:{get:function(){return this.gx.uq;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ld:{get:function(){return this.Kq;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{parent:{get:function(){return this.ab.parent;},enumerable:!1,configurable:!0}});y.prototype.slb=function(z,A,B){var C;void 0 === A && (A=null !== (C=this.pc) && void 0 !== C?C:this.yn);return this.D0a(z,A,B);};y.prototype.update=function(z){var A,B,C;C=z.oh.Zxa(this.Fp.oh);this.Fp=z;return C && this.xD?(C=g.__read(this.xD.H8b(z,z.oh),2),z=C[0],C=C[1],(0,p.assert)(z && C,"branch.update: lastFragment should be defined"),null === (A=this.fb(d.u.V)) || void 0 === A?void 0:A.truncate(z),null === (B=this.fb(d.u.J)) || void 0 === B?void 0:B.truncate(C),this.events.emit("branchEdited",{type:"branchEdited"}),!0):!1;};y.prototype.wq=function(z){this.Ld.equal(z) || (this.Kq=z,this.events.emit("branchEdited",{type:"branchEdited"}));};y.prototype.Rx=function(z){return g.__awaiter(this,void 0,void 0,function(){var A;return g.__generator(this,function(B){switch(B.label){case 0:return [4,Promise.resolve()];case 1:return (B.kb(),(A=this.fb(z))?[2,A.Rx()]:[2,f.AsyncIterator.s5a()]);}});});};y.prototype.sE=function(){this.rm().forEach(function(z){return z.sE();});};y.prototype.eV=function(){this.$e.forEach(function(z){return z.eV();});};y.prototype.reset=function(){this.$e.forEach(function(z){z.reset();});};y.prototype.Wd=function(){var z,A;this.Sm || (this.Sm=!0,null === (z=this.xD) || void 0 === z?void 0:z.rd(),this.xD=void 0,this.$e.forEach(function(B){B.Wd();}),null === (A=this.Kz) || void 0 === A?void 0:A.removeListener(this.XT));};y.prototype.xP=function(){return !0;};y.prototype.fb=function(z){return this.$e.get(z);};y.prototype.rm=function(z){void 0 === z && (z=c);return this.$e.items.slice().sort(z);};y.prototype.BX=function(){return this.$e.items;};y.prototype.OI=function(z){return this.fb(z);};y.prototype.Ah=function(z,A){z=this.fb(z);if(!z)return 0;if(A)return z.Kn;A=z.fr;if(void 0 === A)return 0;z=this.mU();return A - z;};y.prototype.YA=function(){var z,A,B,C,D,E,G;G=null === (z=this.fb(d.u.V)) || void 0 === z?void 0:z.uo;z=null === (A=this.fb(d.u.J)) || void 0 === A?void 0:A.uo;return {hp:null !== (B=null === z || void 0 === z?void 0:z.Z) && void 0 !== B?B:0,Bs:null !== (C=null === G || void 0 === G?void 0:G.Z) && void 0 !== C?C:0,cu:null !== (D=null === z || void 0 === z?void 0:z.ea) && void 0 !== D?D:0,KD:null !== (E=null === G || void 0 === G?void 0:G.ea) && void 0 !== E?E:0};};y.prototype.gP=function(z){var A;return (z=this.fb(z))?null !== (A=z.fr) && void 0 !== A?A:0:0;};y.prototype.$l=function(z){z=this.fb(z);return (null === z || void 0 === z?void 0:z.$l()) || [];};y.prototype.mya=function(z){z=z.newValue;(0,d.$p)(z) && this.ys();};y.prototype.eE=function(z){return this.$e.every(function(A){return A.eE(z);});};y.prototype.rX=function(z){var A,B;return null !== (B=null === (A=this.$e.get(z)) || void 0 === A?void 0:A.a1a) && void 0 !== B?B:q.M.Ha;};y.prototype.Zea=function(z){var A,B,C;A=this.gx.eZb;if(!A)return !1;z=(0,h.$c)(z,function(D){return A.Z <= D.pc.Z;});if(!z)return !1;B=z.pc;z=!1;C=g.__read((0,u.wAa)(this.L,this.$e,B),2);B=C[0];if(C=C[1])(this.fb(d.u.J).truncate(C),z=!0);B && (this.fb(d.u.V).truncate(B),z=!0);z && (B={type:"branchEdited"},this.events.emit(B.type,B));return z;};y.prototype.Zk=function(z){this.Sm || (z.B6 || (0,p.assert)(!z.Fc),this.ys(),this.uj && this.Vla());this.ev(z);};y.prototype.JJ=function(z){this.L.z8 && this.ys(!0);this.CI(z);};y.prototype.RB=function(z){this.L.z8 && this.ys(!0);this.AE(z);};y.prototype.D0a=function(z,A,B){var C,D,E;C=this;D=new w.KL();E=!1;z.forEach(function(G){var F;F=C.$e.find(function(I){return I.track === G.track;});void 0 === F?(E=!0,F=new k.Uia(C,C.L,C.console,C.wca,C.ab,G.track,A,G.Oj,!0,void 0,G.Rdc(),C.fx,C.vp),C.nXb(F)):(C.$e.remove(F),F.eV());D.add(F);});this.$e.forEach(function(G){return G.Wd();});this.$e=D;return E?this.normalize(A,B):{uW:!1,mE:!1};};y.prototype.nXb=function(z){var A;A=this;z.events.on("lastRequestIssued",function(){return A.Av && A.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});};y.prototype.normalize=function(z,A){var B,C;null === (B=this.xD) || void 0 === B?void 0:B.rd();this.xD=new l.gPa({console:this.console,config:this.L,S:this.S,G:this.G,Ql:this.$e,pc:z,Fd:null !== (C=this.G.oh) && void 0 !== C?C:void 0 !== this.G.Ta?q.M.Ja(this.G.Ta):void 0,splice:A});this.gx=this.$e.Sca;A=this.xD.normalize();z=A.uW;A=A.mE;z && this.Yla && (this.Kq=this.Yla.Da(this.pc));return {uW:z,mE:A};};y.prototype.YBa=function(z){var A;return (0,d.$p)((null === (A=this.Kz) || void 0 === A?void 0:A.value) || d.Vc.cm) && (!z || this.wU + this.L.qba < t.default.time.ia());};y.prototype.ys=function(z){void 0 === z && (z=!1);this.YBa(z) && (this.wU=t.default.time.ia(),z={type:"checkBufferingProgress"},this.events.emit(z.type,z));};y.prototype.Vla=function(){var z;z={type:"branchStreamingComplete"};this.events.emit(z.type,z);};y.prototype.toJSON=function(){var z,A;return {segment:this.G.id,branchOffset:this.cg,viewableId:this.Fp.P,contentStartPts:null === (z=this.pc) || void 0 === z?void 0:z.Z,contentEndPts:null === (A=this.Fd) || void 0 === A?void 0:A.Z};};return y;})(m.uw);b.ANa=a;(0,v.Ue)(r.gu,a);},function(r,b,a){var c,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.gPa=void 0;c=a(0);g=a(6);k=a(464);m=a(2);r=(function(){function f(d){var l,n,h,p,q,t,v;l=d.console;n=d.config;h=d.S;p=d.Ql;q=d.G;t=d.pc;v=d.Fd;d=d.splice;this.eY=this.TN=!1;this.console=l;this.config=n;this.Ql=p;this.S=h;this.G=q;this.pc=t;this.Fd=v;this.splice=d;this.ZWb();}f.prototype.oa=function(d){if(this.TN)throw Error("Cannot call init() after cleanup");if(this.eY)throw Error("Cannot call init() twice");this.eY=!0;this.Tcb=d;this.S.tv.addListener("onHeaderFragments",this.b_a);this.mna() && this.Xxa();};f.prototype.normalize=function(){if(this.TN)throw Error("Cannot call normalize() after cleanup");if(this.eY)throw Error("Cannot call init() / normalize() twice");this.eY=!0;(0,m.assert)(this.mna());return this.Xxa();};f.prototype.H8b=function(d,l){(0,m.assert)(this.eY,"expected to be called init() before renormalize");this.G=d;this.Fd=l;d=(0,k.wAa)(this.config,this.Ql,this.Fd);this.Nba();return d;};f.prototype.rd=function(){this.TN || (this.TN=!0,this.Tcb=void 0,this.S.tv.removeListener("onHeaderFragments",this.b_a));};f.prototype.ZWb=function(){var d;d=this;this.b_a=function(){d.TN || d.mna() && d.Xxa();};};f.prototype.Xxa=function(){var d,l,n;if(this.TN)return {uW:!1,mE:!1};l=this.d2b();n=!1;this.G && !this.G.Ll && (n=this.Nba());null === (d=this.Tcb) || void 0 === d?void 0:d.call(this,l,n);this.rd();return {uW:l,mE:n};};f.prototype.mna=function(){return this.Ql.every(function(d){return d.track.ee;});};f.prototype.d2b=function(){var d,l;d=c.__read((0,k.mcb)(this.config,this.Ql,this.pc,this.Fd,this.splice),2);l=d[0];return d[1] || void 0 === this.Ql.get(g.u.J) && l;};f.prototype.Nba=function(){var d,l,n;(0,m.assert)(this.G);(0,m.assert)(!this.G.Ll);d=this.Ql.Sca;l=(0,k.ocb)(this.config,d,this.G.ff);if(void 0 === l || void 0 === d.Fd)return !1;d=d.Fd;n=this.config.VDa && "lazy" === this.G.Je?(0,k.tab)(this.console,this.G,this.Ql):[];this.G.normalize(l,d,n);return !0;};return f;})();b.gPa=r;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A;function c(B){return function(){return ("[").concat(B,":padding]");};}Object.defineProperties(b,{__esModule:{value:!0}});b.lOa=b.MC=void 0;g=a(0);k=a(86);m=a(38);f=a(424);d=a(6);l=a(20);r=a(77);n=a(1121);h=a(35);p=a(192);q=a(2);t=a(421);v=a(8);w=g.__importDefault(a(4));u=a(263);x=a(428);y=a(10);z=a(131);a=a(463);(function(B){B[B.FS=0]="CREATED";B[B.xS=1]="CANCELLED";})(A=b.MC || (b.MC={}));a=(function(B){function C(D,E,G,F,I,L){D=B.call(this,E,F,G,l.M.Ha,(0,v.Ai)(w.default,D,"AsePadding")) || this;D.S=I;D.config=L;D.hL=new p.eG(D.console);D.QD=new p.eG(D.console);D.Ll=new v.PC();D.console.trace(("PaddingBranch {").concat(E.id,"}: created"));return D;}g.__extends(C,B);C.prototype.BJb=function(D){return g.__awaiter(this,void 0,void 0,function(){var E,G,F,I,L,M,K,O,H,J,R,P,T,V,S,W,ia,ra,ua,Aa,Ha,N,Q,U,Z,qa;return g.__generator(this,function(Fa){switch(Fa.label){case 0:return [4,this.y6b()];case 1:E=Fa.kb();G=E.wf;F=E.Xd;I=E.bitrate;L=E.xt;M=t.k4.instance();K=M.sUb(F,I,L);O=new l.M(K.duration);H=new l.M(K.ba);J=H.W;R=K.profile;P=K.bitrate;T=K.channels;V={S8a:!0,mediaType:d.u.V,af:R,profile:R,W:J,Sg:[{te:0,data:K.oa}],ba:H,wf:G,S:this.S,bitrate:P,Pa:("").concat(m.op),track:{trackId:"1",mediaType:d.u.V,Mo:!1,ba:H,S:this.S,channels:T,sampleRate:48E3,profile:R,Rc:[],xt:L,toString:c(d.u.V)}};V.Io=V.track.Io=f.pL.prototype.Io.bind(V.track);V.track.Rc.push(V);S=(0,v.Ai)(w.default,this.console,"[0]");this.QD=new p.eG(S);W=new l.M(K.ba);ia=this.config.jm?G:l.M.Ha;ra=ia.add(O);y.N && S.trace(("PaddingBranch: audio target duration is ").concat(D.Mb()));ua=l.M.Ha;Aa=this.config.jm?-Math.ceil(G.bk(H)):0;N=ia;for(Q=!0;N.lessThan(D);){N=N.add(O);N.greaterThan(D) && (Ha=O.bk(W) - Math.floor(N.Da(D).bk(W)));U=N.zi(D);Z=Q?0:U?D.Z:void 0;qa=new n.bga(K.oa,K.pa,V,J,ia.ng(J).Ca,ra.ng(J).Ca,W,S,this,this.M4a.bind(this,J,ua),Z,Q,U);qa.kj({start:Aa,end:Ha});y.N && S.log(("PaddingBranch: enqueing request ").concat(qa,", edit: ").concat(JSON.stringify({start:Aa,end:Ha}),", ") + ("offset ").concat(ua.Mb()));this.QD.enqueue(qa);ua=ua.add(O);Aa=void 0;Q=!1;}this.QD.AO();return [2];}});});};C.prototype.GKb=function(){var D,E,G;return g.__awaiter(this,void 0,void 0,function(){var F,I,L,M,K,O,H,J,R,P,T,V,S,W,ia,ra,ua,Aa,Ha,N,Q,U,Z,qa,Fa,Oa,Ra,Pa,Va;return g.__generator(this,function(bb){switch(bb.label){case 0:return [4,this.z6b()];case 1:F=bb.kb();I=F.profile;L=F.sx;M=F.xt;K=t.k4.instance();O=null === (G=null === (E=null === (D=this.parent) || void 0 === D?void 0:D.fb(d.u.J)) || void 0 === E?void 0:E.track.ba) || void 0 === G?void 0:G.Jfb();(0,q.assert)(O,"padding branches should always have a frameRate");H=K.tUb(this.S.ggc,I,O,L,M);J=new l.M(H.duration);R=H.profile;P=H.bitrate;T=H.width;V=H.height;S=H.xd;W=H.yd;ia=H.ba.W;ra=new l.M(H.ba);ua=new u.dM(ia,H.ba.Ca);Aa={S8a:!0,mediaType:d.u.J,af:R,profile:R,W:ia,Sg:[{te:0,data:H.oa}],Pa:("").concat(m.op),ba:ra,S:this.S,bitrate:P,track:{trackId:"1",mediaType:d.u.J,Mo:!1,ba:ra,frameRate:ua,Waa:ua,Ul:new x.hka({w:T,vr:V},{w:S,vr:W}),S:this.S,profile:R,Rc:[],xt:M,toString:c(d.u.J)}};Aa.Io=Aa.track.Io=f.pL.prototype.Io.bind(Aa.track);Ha=new k.Fw(this.console,Aa,H.oa,["moov"],!0,{Mgb:!0,Nya:!0});N={ba:ra};Q=Ha.parse(N);(0,q.assert)(Q.py,"Failed to parse padding fragment header");(0,q.assert)(Q.Sg,"Failed to get initialization segments from padding fragment header");Aa.Sg=Q.Sg;y.N && this.console.trace(("PaddingBranch {").concat(this.G.id,"}: video queue"),Aa);Aa.track.Rc.push(Aa);U=(0,v.Ai)(w.default,this.console,"[1]");Z=Math.ceil(this.nxa.bk(J));qa=J.MB(Z);Fa=this.G.ff;Oa=Fa.add(qa).ng(this.W);y.N && U.trace(("PaddingBranch: ").concat(Z," fragments of ").concat(J.Mb(),", ") + ("duration ").concat(qa.Mb(),", ") + ("c: ").concat(Fa.Mb(),"-").concat(Oa.Mb(),", "));this.G.normalize(Fa,Oa,[]);for(Ra=l.M.Ha;Ra.lessThan(qa);){Pa=Ra.add(J);Va=new n.bga(H.oa,H.pa,Aa,ia,0,J.ng(ia).Ca,ra,U,this,this.M4a.bind(this,ia,Ra),void 0,Ra.equal(l.M.Ha),Pa.zi(qa));y.N && U.trace(("PaddingBranch: appended ").concat(Va));this.hL.enqueue(Va);Ra=Pa;}this.hL.AO();this.Mfc=qa;return [2,{duration:qa}];}});});};Object.defineProperties(C.prototype,{Av:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{uj:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Ds:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Bh:{get:function(){return this.Ll.NAa;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{hS:{get:function(){return this.Ll.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{ht:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{W:{get:function(){return this.G.ff.W;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Za:{get:function(){return this.G.ff.Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{lb:{get:function(){return this.G.oh.Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Kj:{get:function(){return this.Ld.ng(this.W).Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{jt:{get:function(){return this.G.ff.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{zI:{get:function(){(0,q.assert)(!this.G.G.Vp,"exit zone not supported for padding segments");return l.M.Ha;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{rN:{get:function(){return this.QD && this.hL?this.QD.kt && this.hL.kt:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{$Xa:{get:function(){return !(!this.QD && !this.hL);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Mr:{get:function(){return this.G.ff.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{wF:{get:function(){return this.G.oh.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{AY:{get:function(){return this.Oc;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Ld:{get:function(){return this.Kq;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{nxa:{get:function(){var D;return null !== (D=this.BVa) && void 0 !== D?D:this.G.oh.Da(this.G.ff);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{uq:{get:function(){return l.M.Ha;},enumerable:!1,configurable:!0}});C.prototype.oa=function(){return g.__awaiter(this,void 0,void 0,function(){var D;return g.__generator(this,function(E){switch(E.label){case 0:(B.prototype.oa.call(this),E.label=1);case 1:return (E.Kh.push([1,5,,6]),this.console.trace(("PaddingBranch {").concat(this.G.id,"}: init")),this.parent?[4,this.parent.hS]:[3,3]);case 2:(E.kb(),E.label=3);case 3:return (this.BVa=this.G.oh.Da(this.G.ff),[4,this.L0a([d.u.V,d.u.J])]);case 4:return (E.kb(),this.Ll.resolve(),[3,6]);case 5:D=E.kb();if(!this.Pf)throw D;return [3,6];case 6:return [2];}});});};C.prototype.update=function(D){this.Fp=D;};C.prototype.Rx=function(D){return g.__awaiter(this,void 0,void 0,function(){return g.__generator(this,function(){this.console.trace(("PaddingBranch {").concat(this.G.id,"}: getRequestIterator(").concat(D,")"));return D === d.u.V?[2,this.QD.rsa()]:[2,this.hL.rsa()];});});};C.prototype.sE=function(){};C.prototype.reset=function(){};C.prototype.Wd=function(D){void 0 === D && (D="other");B.prototype.Wd.call(this,D);this.Sc=A.xS;this.BVa=void 0;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:D});this.events.removeAllListeners();};C.prototype.xP=function(){return !0;};C.prototype.fb=function(){};C.prototype.r$=function(D){return [d.u.V,d.u.J].some(function(E){return E === D;});};C.prototype.rm=function(){return [];};C.prototype.eP=function(D){var E;return null === (E=this.parent) || void 0 === E?void 0:E.eP(D);};C.prototype.BX=function(){return [];};C.prototype.OI=function(){};C.prototype.Ah=function(){return this.nxa.Z;};C.prototype.YA=function(){return {};};C.prototype.gP=function(){return this.G.oh.Z;};C.prototype.DK=function(D,E,G,F){return g.__awaiter(this,void 0,void 0,function(){return g.__generator(this,function(I){switch(I.label){case 0:return [4,this.Ll.promise];case 1:return (I.kb(),this.parent?[4,this.parent.hS]:[3,3]);case 2:(I.kb(),I.label=3);case 3:return [4,this.L0a(F)];case 4:return (I.kb(),[2]);}});});};C.prototype.L0a=function(D){return g.__awaiter(this,void 0,void 0,function(){var E,G;return g.__generator(this,function(F){switch(F.label){case 0:E=l.M.Ha;if(-1 === D.indexOf(d.u.J))return [3,2];this.hL.clear();return [4,this.GKb()];case 1:(G=F.kb(),E=G.duration,F.label=2);case 2:if(-1 === D.indexOf(d.u.V))return [3,4];this.QD.clear();this.console.trace(("AsePaddingBranch {").concat(this.G.id,"}: video duration ").concat(E.Mb()));return [4,this.BJb(this.Mfc)];case 3:(F.kb(),F.label=4);case 4:return [2];}});});};C.prototype.Z6a=function(){};C.prototype.$l=function(){return [];};C.prototype.eE=function(D){var E,G;return ! !((null === (E=this.Oc) || void 0 === E?0:E.greaterThan(D)) && (null === (G=this.jd) || void 0 === G?0:G.lessThan(D)));};C.prototype.rX=function(){return this.nxa;};C.prototype.Zea=function(){return !1;};C.prototype.toJSON=function(){var D,E;return {segment:this.G.id,viewableId:this.Fp.P,contentStartPts:null === (D=this.pc) || void 0 === D?void 0:D.Z,contentEndPts:null === (E=this.Fd) || void 0 === E?void 0:E.Z};};C.prototype.z6b=function(){var D,E,G,F,I,L,M;return g.__awaiter(this,void 0,void 0,function(){var K,O,H,J;return g.__generator(this,function(R){switch(R.label){case 0:return (K=null === (E=null === (D=this.parent) || void 0 === D?void 0:D.fb(d.u.J)) || void 0 === E?void 0:E.we.sm)?[3,2]:[4,null === (F=null === (G=this.parent) || void 0 === G?void 0:G.fb(d.u.J)) || void 0 === F?void 0:F.we.Amb];case 1:R.kb();if(this.Pf)return [2,Promise.reject()];R.label=2;case 2:return (K=null === (L=null === (I=this.parent) || void 0 === I?void 0:I.fb(d.u.J)) || void 0 === L?void 0:L.we.sm,(0,q.assert)(K,"Parent of padding branch must have last selected video stream"),O=null === (M=K.track.Ul) || void 0 === M?void 0:M.sx,H=K.track.xt,J=K.af,[2,{profile:J,sx:O,xt:H}]);}});});};C.prototype.y6b=function(){var D,E,G,F,I,L;return g.__awaiter(this,void 0,void 0,function(){var M,K,O,H,J;return g.__generator(this,function(R){switch(R.label){case 0:return (M=null === (E=null === (D=this.parent) || void 0 === D?void 0:D.fb(d.u.V)) || void 0 === E?void 0:E.we.sm)?[3,2]:[4,null === (F=null === (G=this.parent) || void 0 === G?void 0:G.fb(d.u.V)) || void 0 === F?void 0:F.we.Amb];case 1:R.kb();if(this.Pf)return [2,Promise.reject()];R.label=2;case 2:return (M=null === (L=null === (I=this.parent) || void 0 === I?void 0:I.fb(d.u.V)) || void 0 === L?void 0:L.we.sm,(0,q.assert)(M,"Parent of padding branch must have last selected audio stream"),K=M.wf || l.M.Ha,O=-1 !== M.profile.indexOf("heaac")?"heaac":"ddp",H=M.bitrate,J=M.track.xt,[2,{wf:K,Xd:O,bitrate:H,xt:J}]);}});});};C.prototype.M4a=function(D,E){return this.Kq.add(E).ng(D).Ca;};return C=g.__decorate([z.FI],C);})(a.sga);b.lOa=a;(0,h.Ue)(r.gu,a);},function(r,b,a){var c,g,k,m,f,d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.bga=void 0;c=a(0);g=a(38);k=a(8);r=a(35);m=a(10);f=a(190);d=a(77);l=a(105);a=(function(n){function h(p,q,t,v,w,u,x,y,z,A,B,C,D){void 0 === C && (C=!0);void 0 === D && (D=!0);p=n.call(this,t,{index:0,offset:0,ea:0,Za:w,lb:u,W:v,Vs:C,Po:D,uC:B},A) || this;p.response=q;p.vdb=t;p.H=y;p.Ua={ab:z,console:y,mZb:void 0,mediaType:t.mediaType,A_:function(){}};m.N && p.H.log(("AsePaddingRequest [").concat(p.mediaType,"], constructed ").concat(p.toString()) + (", ").concat(p.response.byteLength," bytes") + (", ").concat(p.Ox," samples"));return p;}c.__extends(h,n);Object.defineProperties(h.prototype,{profile:{get:function(){return this.vdb.profile;},enumerable:!1,configurable:!0}});h.prototype.oa=function(){};h.prototype.zr=function(){return !this.me;};h.prototype.ND=function(p,q,t,v,w){m.N && this.H.log(("AsePaddingRequest [").concat(this.mediaType,"], appending ").concat(this.toString()) + (", ").concat(w || this.response.byteLength," bytes") + (", ").concat(w?"":"not ","edited"));this.me=q.appendBuffer(w?(0,k.FA)(w):this.response,v || (0,k.Bv)(this));return {status:this.me?l.Mh.hs:l.Mh.Nf};};h.prototype.abort=function(){return !1;};h.prototype.rd=function(){};h.prototype.UQ=function(){this.response=void 0;};h.prototype.toJSON=function(){return {viewableId:g.op,startPts:this.da,endPts:this.da + this.duration,"contentStartTicks:":this.Za,contentEndTicks:this.lb,contentStartPts:this.Nd,contentEndPts:this.Pc};};Object.defineProperties(h.prototype,{Pa:{get:function(){return this.vdb.Pa;},enumerable:!1,configurable:!0}});h.prototype.toString=function(){return ("[padding c:").concat(this.pc.Z,"-").concat(this.Fd.Z,",") + ("p:").concat(this.jd.Z,"-").concat(this.Oc.Z,",") + ("d:").concat(this.Fd.Z - this.pc.Z,"]");};return h;})(a(71).wk);b.bga=a;(0,r.Ue)(f.dG,a,!1);(0,r.Ue)(d.gu,a);(0,r.Ue)(d.cz,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gSa=void 0;c=a(0);r=(function(){function g(k,m){this.H=k;this.Ng=m;this.JCa=!1;}g.prototype.Q8b=function(k){this.Yf(k.message,void 0,c.__assign(c.__assign({},k.h3a),{err:k.toString()}));};g.prototype.Yf=function(k,m,f){void 0 === m && (m=void 0);void 0 === f && (f={});this.JCa || (f.temporaryFailure || (this.JCa=!0),k=c.__assign({type:"error",error:null !== m && void 0 !== m?m:"NFErr_MC_StreamingFailure",errormsg:k,temporaryFailure:!1},f),this.H.error("notifyStreamingError:",k),this.Ng.emit("error",k));};g.prototype.Oo=function(){return this.JCa;};return g;})();b.gSa=r;},function(r,b,a){var c,g,k,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Wia=void 0;c=a(0);g=a(2);k=a(8);m=a(10);f=a(274);r=(function(d){function l(n){var h;h=d.call(this) || this;h.Ma=n;h.bma={};h.bb=[];h.$T=new f.j4({fk:!1,currentTime:function(){return h.Uf?h.jf:k.M.vv;},speed:1});return h;}c.__extends(l,d);Object.defineProperties(l.prototype,{Ba:{get:function(){return this.$T;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Fi:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{fp:{get:function(){return this.aV;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{YB:{get:function(){return this.bma;},enumerable:!1,configurable:!0}});l.prototype.X6=function(n,h){var p;p=!this.Ma;p && (this.Ma=n,this.Nka=(null === h || void 0 === h?0:h.Uf)?h.jf:void 0,this.aV=null === h || void 0 === h?void 0:h.fp,this.bma=(null === h || void 0 === h?void 0:h.YB) || ({}),null === h || void 0 === h?void 0:h.wQ());return p;};l.prototype.wQ=function(){this.bma=this.aV=void 0;};l.prototype.aE=function(){this.bb=[];this.Nka=void 0;};l.prototype.rqa=function(n){m.N && (0,g.assert)(this.Ma === n);this.Ma=void 0;this.aE();};l.prototype.Xqa=function(){for(var n,h=[],p=0;p < arguments.length;p++){h[p]=arguments[p];}(n=this.bb).push.apply(n,c.__spreadArray([],c.__read(h),!1));};l.prototype.II=function(){return this.Nka?this.Nka:d.prototype.II.call(this);};l.prototype.Br=function(){return !1;};l.prototype.MF=function(){};l.prototype.LK=function(){};l.prototype.Xca=function(){this.bb=this.bb.filter(function(n){return n.rN?(n.Wd("pruned"),!1):!0;});};l.prototype.xb=function(){var n;n=this;d.prototype.xb.call(this);Object.keys(this.YB).map(function(h){return n.YB[h];}).forEach(function(h){null === h || void 0 === h?void 0:h.close();});};return l;})(a(466).ija);b.Wia=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.xZa=void 0;c=a(276);g=a(1126);b.xZa=function(){return function(k){var d,l,n,h;function m(p){h[p]=function(q){return l({rules:[{Vl:p,config:q}]},!0);};}function f(p){d[p]=function(q){return l({rules:[{Vl:p,config:q}]});};}d={};l=(0,c.map)(k.rab);for(n in k.eR){f(n);}d.Tba=l({rules:[],pna:!0});d.Sn=l({rules:[],Sn:!0});h={};for(n in k.eR){m(n);}h.Tba=l({rules:[],pna:!0},!0);h.Sn=l({rules:[],Sn:!0},!0);d.return=h;return {jqa:d,TAa:k,Qza:function(p,q,t,v){return (0,g.I0a)(p,q,t,k.eR,k.rab,v);}};};};},function(r,b,a){(function(c,g){var k;(function(m){(function(f){var l,n;function d(h,p){return function(q,t){"function" !== typeof h[q] && Object.defineProperty(h,q,{configurable:!0,writable:!0,value:t});p && p(q,t);};}l="object" === typeof g?g:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();n=d(m);"undefined" === typeof l.Reflect?l.Reflect=m:n=d(l.Reflect,n);f(n);})(function(f){var I,L,M,K,O,H,J,R,P,T,V;function d(S,W,ia){var ra;ra=V.get(S);if(w(ra)){if(!ia)return;ra=new P();V.set(S,ra);}S=ra.get(W);if(w(S)){if(!ia)return;S=new P();ra.set(W,S);}return S;}function l(S,W,ia){if(n(S,W,ia))return !0;W=C(W);return null === W?!1:l(S,W,ia);}function n(S,W,ia){W=d(W,ia,!1);return w(W)?!1:! !W.has(S);}function h(S,W,ia){if(n(S,W,ia))return p(S,W,ia);W=C(W);if(null !== W)return h(S,W,ia);}function p(S,W,ia){W=d(W,ia,!1);if(!w(W))return W.get(S);}function q(S,W){var ia,Aa,Ha;ia=t(S,W);S=C(S);if(null === S)return ia;W=q(S,W);if(0 >= W.length)return ia;if(0 >= ia.length)return W;S=new T();for(var ra=[],ua=0;ua < ia.length;ua++){Aa=ia[ua];Ha=S.has(Aa);Ha || (S.add(Aa),ra.push(Aa));}for(ia=0;ia < W.length;ia++){Aa=W[ia];(Ha=S.has(Aa)) || (S.add(Aa),ra.push(Aa));}return ra;}function t(S,W){var ia,ra;ia=[];S=d(S,W,!1);if(w(S))return ia;S=S.keys();W=B(S,K);if(!A(W))throw new TypeError();S=W.call(S);if(!u(S))throw new TypeError();for(W=0;;){ra=S.next();ra=ra.done?!1:ra;if(!ra)return (ia.length=W,ia);ra=ra.value;try{ia[W]=ra;}catch(Aa){var ua;try{ua=S["return"];ua && ua.call(S);}finally{throw Aa;}}W++;}}function v(S){if(null === S)return 1;switch(typeof S){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === S?1:6;default:return 6;}}function w(S){return void 0 === S;}function u(S){return "object" === typeof S?null !== S:"function" === typeof S;}function x(S,W){var ia;switch(v(S)){case 0:return S;case 1:return S;case 2:return S;case 3:return S;case 4:return S;case 5:return S;}W=3 === W?"string":5 === W?"number":"default";ia=B(S,M);if(void 0 !== ia){S=ia.call(S,W);if(u(S))throw new TypeError();return S;}a:{if("string" === ("default" === W?"number":W)){W=S.toString;if(A(W) && (W=W.call(S),!u(W)))break a;W=S.valueOf;}else {W=S.valueOf;if(A(W) && (W=W.call(S),!u(W)))break a;W=S.toString;}if(!A(W) || (W=W.call(S),u(W)))throw new TypeError();}return W;}function y(S){S=x(S,3);return "symbol" === typeof S?S:"" + S;}function z(S){return Array.isArray?Array.isArray(S):S instanceof Object?S instanceof Array:"[object Array]" === Object.prototype.toString.call(S);}function A(S){return "function" === typeof S;}function B(S,W){S=S[W];if(void 0 !== S && null !== S){if(!A(S))throw new TypeError();return S;}}function C(S){var W,ia;W=Object.getPrototypeOf(S);if("function" !== typeof S || S === R || W !== R)return W;ia=S.prototype;ia=ia && Object.getPrototypeOf(ia);if(null == ia || ia === Object.prototype)return W;ia=ia.constructor;return "function" !== typeof ia || ia === S?W:ia;}function D(){var ra,ua,Aa;function S(Ha){return Ha;}function W(Ha,N){return N;}function ia(Ha,N){return [Ha,N];}ra={};ua=[];Aa=(function(){function Ha(N,Q,U){this.ze=0;this.Bf=N;this.bg=Q;this.zAb=U;}Ha.prototype["@@iterator"]=function(){return this;};Ha.prototype[K]=function(){return this;};Ha.prototype.next=function(){var N,Q;N=this.ze;if(0 <= N && N < this.Bf.length){Q=this.zAb(this.Bf[N],this.bg[N]);N + 1 >= this.Bf.length?(this.ze=-1,this.bg=this.Bf=ua):this.ze++;return {value:Q,done:!1};}return {value:void 0,done:!0};};Ha.prototype.throw=function(N){0 <= this.ze && (this.ze=-1,this.bg=this.Bf=ua);throw N;};Ha.prototype.return=function(N){0 <= this.ze && (this.ze=-1,this.bg=this.Bf=ua);return {value:N,done:!0};};return Ha;})();return (function(){function Ha(){this.Bf=[];this.bg=[];this.Tw=ra;this.uu=-2;}Object.defineProperty(Ha.prototype,"size",{get:function(){return this.Bf.length;},enumerable:!0,configurable:!0});Ha.prototype.has=function(N){return 0 <= this.Oz(N,!1);};Ha.prototype.get=function(N){N=this.Oz(N,!1);return 0 <= N?this.bg[N]:void 0;};Ha.prototype.set=function(N,Q){N=this.Oz(N,!0);this.bg[N]=Q;return this;};Ha.prototype.delete=function(N){var Q,U;Q=this.Oz(N,!1);if(0 <= Q){U=this.Bf.length;for(Q+=1;Q < U;Q++){this.Bf[Q - 1]=this.Bf[Q];this.bg[Q - 1]=this.bg[Q];}this.Bf.length--;this.bg.length--;N === this.Tw && (this.Tw=ra,this.uu=-2);return !0;}return !1;};Ha.prototype.clear=function(){this.Bf.length=0;this.bg.length=0;this.Tw=ra;this.uu=-2;};Ha.prototype.keys=function(){return new Aa(this.Bf,this.bg,S);};Ha.prototype.values=function(){return new Aa(this.Bf,this.bg,W);};Ha.prototype.entries=function(){return new Aa(this.Bf,this.bg,ia);};Ha.prototype["@@iterator"]=function(){return this.entries();};Ha.prototype[K]=function(){return this.entries();};Ha.prototype.Oz=function(N,Q){this.Tw !== N && (this.uu=this.Bf.indexOf(this.Tw=N));0 > this.uu && Q && (this.uu=this.Bf.length,this.Bf.push(N),this.bg.push(void 0));return this.uu;};return Ha;})();}function E(){return (function(){function S(){this.vh=new P();}Object.defineProperty(S.prototype,"size",{get:function(){return this.vh.size;},enumerable:!0,configurable:!0});S.prototype.has=function(W){return this.vh.has(W);};S.prototype.add=function(W){return (this.vh.set(W,W),this);};S.prototype.delete=function(W){return this.vh.delete(W);};S.prototype.clear=function(){this.vh.clear();};S.prototype.keys=function(){return this.vh.keys();};S.prototype.values=function(){return this.vh.values();};S.prototype.entries=function(){return this.vh.entries();};S.prototype["@@iterator"]=function(){return this.keys();};S.prototype[K]=function(){return this.keys();};return S;})();}function G(){var ra,ua;function S(){var Aa,Q;do {Aa="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):ia(new Uint8Array(16),16):ia(Array(16),16);Aa[6]=Aa[6] & 79 | 64;Aa[8]=Aa[8] & 191 | 128;for(var Ha="",N=0;16 > N;++N){Q=Aa[N];if(4 === N || 6 === N || 8 === N)Ha+="-";16 > Q && (Ha+="0");Ha+=Q.toString(16).toLowerCase();}Aa="@@WeakMap@@" + Ha;}while(J.has(ra,Aa));ra[Aa]=!0;return Aa;}function W(Aa,Ha){if(!I.call(Aa,ua)){if(!Ha)return;Object.defineProperty(Aa,ua,{value:J.create()});}return Aa[ua];}function ia(Aa,Ha){for(var N=0;N < Ha;++N){Aa[N]=255 * Math.random() | 0;}return Aa;}ra=J.create();ua=S();return (function(){function Aa(){this.Au=S();}Aa.prototype.has=function(Ha){Ha=W(Ha,!1);return void 0 !== Ha?J.has(Ha,this.Au):!1;};Aa.prototype.get=function(Ha){Ha=W(Ha,!1);return void 0 !== Ha?J.get(Ha,this.Au):void 0;};Aa.prototype.set=function(Ha,N){W(Ha,!0)[this.Au]=N;return this;};Aa.prototype.delete=function(Ha){Ha=W(Ha,!1);return void 0 !== Ha?delete Ha[this.Au]:!1;};Aa.prototype.clear=function(){this.Au=S();};return Aa;})();}function F(S){S.Hvb=void 0;delete S.Hvb;return S;}I=Object.prototype.hasOwnProperty;L="function" === typeof Symbol;M=L && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";K=L && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";L="function" === typeof Object.create;O=({__proto__:[]}) instanceof Array;H=!L && !O;J={create:L?function(){return F(Object.create(null));}:O?function(){return F({__proto__:null});}:function(){return F({});},has:H?function(S,W){return I.call(S,W);}:function(S,W){return (W in S);},get:H?function(S,W){return I.call(S,W)?S[W]:void 0;}:function(S,W){return S[W];}};R=Object.getPrototypeOf(Function);P=(L="object" === typeof c && c.QW && "true" === c.QW.REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?D():Map;T=L || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?E():Set;V=new (L || "function" !== typeof WeakMap?G():WeakMap)();f("decorate",function(S,W,ia,ra){var Aa;if(w(ia)){if(!z(S))throw new TypeError();if("function" !== typeof W)throw new TypeError();for(ia=S.length - 1;0 <= ia;--ia){if((ra=(0,S[ia])(W),!w(ra) && null !== ra)){if("function" !== typeof ra)throw new TypeError();W=ra;}}return W;}if(!z(S))throw new TypeError();if(!u(W))throw new TypeError();if(!u(ra) && !w(ra) && null !== ra)throw new TypeError();null === ra && (ra=void 0);ia=y(ia);for(var ua=S.length - 1;0 <= ua;--ua){Aa=(0,S[ua])(W,ia,ra);if(!w(Aa) && null !== Aa){if(!u(Aa))throw new TypeError();ra=Aa;}}return ra;});f("metadata",function(S,W){return function(ia,ra){var ua;if(!u(ia))throw new TypeError();if(ua=!w(ra)){a:switch(v(ra)){case 3:ua=!0;break a;case 4:ua=!0;break a;default:ua=!1;}ua=!ua;}if(ua)throw new TypeError();d(ia,ra,!0).set(S,W);};});f("defineMetadata",function(S,W,ia,ra){if(!u(ia))throw new TypeError();w(ra) || (ra=y(ra));d(ia,ra,!0).set(S,W);});f("hasMetadata",function(S,W,ia){if(!u(W))throw new TypeError();w(ia) || (ia=y(ia));return l(S,W,ia);});f("hasOwnMetadata",function(S,W,ia){if(!u(W))throw new TypeError();w(ia) || (ia=y(ia));return n(S,W,ia);});f("getMetadata",function(S,W,ia){if(!u(W))throw new TypeError();w(ia) || (ia=y(ia));return h(S,W,ia);});f("getOwnMetadata",function(S,W,ia){if(!u(W))throw new TypeError();w(ia) || (ia=y(ia));return p(S,W,ia);});f("getMetadataKeys",function(S,W){if(!u(S))throw new TypeError();w(W) || (W=y(W));return q(S,W);});f("getOwnMetadataKeys",function(S,W){if(!u(S))throw new TypeError();w(W) || (W=y(W));return t(S,W);});f("deleteMetadata",function(S,W,ia){var ra;if(!u(W))throw new TypeError();w(ia) || (ia=y(ia));ra=d(W,ia,!1);if(w(ra) || !ra.delete(S))return !1;if(0 < ra.size)return !0;S=V.get(W);S.delete(ia);if(0 < S.size)return !0;V.delete(W);return !0;});});})(k || (k={}));}).call(this,a(128),a(209));},function(r,b,a){var f,d,l,n,h;function c(p,q){if(p)return Object.getOwnPropertyDescriptor(p,q)?p:c(p.prototype,q) || c(p.__proto__,q);}function g(p,q){if(p=c(p,q))return Object.getOwnPropertyDescriptor(p,q);}function k(p,q){var w;for(var t=Object.getPrototypeOf(p),v=[];t !== Object.prototype;){v=v.concat(Object.getOwnPropertyNames(t));t=Object.getPrototypeOf(t);}p=Object.keys(p).concat(v);q.__proxyCtor || (q.__proxyCtor=void 0);w=Object.getPrototypeOf(q);p.forEach(function(u){Object.getOwnPropertyDescriptor(q,u) || Object.getOwnPropertyDescriptor(w,u) || q[u] || Object.defineProperty(q,u,{get:function(){},configurable:!0,enumerable:!0});});}function m(p,q,t,v){var x;for(var w=[],u=4;u < arguments.length;u++){w[u - 4]=arguments[u];}x=v();if((null === x || void 0 === x?0:x.wxa) || (null === x || void 0 === x?0:x.Db))w=w.map(function(y,z){var A;z=(0,h.ibb)(x.wxa,null === (A=x.Db) || void 0 === A?void 0:A[z]);return (0,n.Eda)(q,y,t,z);});w=p.call.apply(p,f.__spreadArray([void 0],f.__read(w),!1));return (null === x || void 0 === x?0:x.return)?(0,n.Eda)(q,w,t,x.return,l.Ew.HDa):w;}Object.defineProperties(b,{__esModule:{value:!0}});b.RQb=b.NLb=b.I0a=void 0;f=a(0);d=a(276);l=a(198);n=a(467);h=a(1127);b.I0a=function(p,q,t,v,w,u){var x,y;void 0 === u && (u=[]);x={};y=(0,d.Z5a)(w);k(q,p);u.forEach(function(z){return k(z,p);});return new Proxy(p,{get:function(z,A){var B,C,D,E;if("__proxyCtor" === A)return null !== (B=p[A]) && void 0 !== B?B:p.constructor;if((A in q)){E=q[A];return "function" === typeof E?E.bind(q):E;}B=x[A];if(!B && !g(x,A)){B=null !== (D=null === (C=null === z || void 0 === z?void 0:z.constructor) || void 0 === C?void 0:C.prototype) && void 0 !== D?D:z;C=null !== (E=c(B,A)) && void 0 !== E?E:c(B.__proxyCtor,A);E=g(B,A);if(null === E || void 0 === E?0:E.get)return (E=E.get,C=y.bind(null,C,A),z=m.bind(z,E.bind(z),t,v,C),Object.defineProperty(x,A,{get:z,enumerable:!0,configurable:!0}),z());E=z[A];return "function" === typeof E?(C=y.bind(null,z,A),z=m.bind(z,E.bind(z),t,v,C),x[A]=z):E;}return B;},set:function(z,A,B){if((A in q))return (q[A]=B,!0);z[A]=B;delete x[A];return !0;}});};b.NLb=k;b.RQb=m;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ibb=void 0;c=a(0);g=a(22);b.ibb=function(k,m){var f;if(k || m){f=(null === k || void 0 === k?0:k.rules) && (null === m || void 0 === m?0:m.rules)?(0,g.P6)(k.rules,m.rules):(null === k || void 0 === k?void 0:k.rules) || (null === m || void 0 === m?void 0:m.rules);return c.__assign(c.__assign(c.__assign({},k),m),{rules:f});}};},function(r,b,a){var g;function c(k,m){var f,d;f=g.__assign({},k);d=g.__read(null !== m && void 0 !== m?m:[],1)[0];d && k[d] && (k=k[d],"object" === typeof k?(m=m.concat(),m.shift(),f[d]=c(k,m)):f[d]=k);return f;}Object.defineProperties(b,{__esModule:{value:!0}});b.Ohb=b.kpa=b.I9=b.Y8a=b.a9a=b.y9a=b.C7a=b.t9a=b.Uf=void 0;g=a(0);b.Uf=function(k){return !(null === k || void 0 === k || !k.position);};b.t9a=function(k){return !(null === k || void 0 === k || !k.Y) && !(null === k || void 0 === k || !k.offset);};b.C7a=function(k){return !(null === k || void 0 === k || !k.Y) || !(null === k || void 0 === k || !k.segmentId);};b.y9a=function(k,m){return "string" === typeof k && !(!m.Fg.ka.R[k] && !m.Bc.ka.R[k]);};b.a9a=function(k){return !(null === k || void 0 === k || !k.P) && !(null === k || void 0 === k || !k.ln);};b.Y8a=function(k){return !(null === k || void 0 === k || !k.Ld);};b.I9=function(k,m){var f;f=k;m.forEach(function(d){f=null === f || void 0 === f?void 0:f[d];});return f;};b.kpa=c;b.Ohb=function(k,m,f){for(var d=0;d < m.length - 1 && k;d++){k=k[m[d]];}return k?(k[m[m.length - 1]]=f,!0):!1;};},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.iPa=void 0;c=a(6);g=a(55);r=(function(){function k(m){this.fb=m;}Object.defineProperties(k.prototype,{re:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Vk=function(m){var f,d;m=m.dj;if(m === g.yf.Zt || m === g.yf.Ts){m={};f=this.fb(c.u.J);d=this.fb(c.u.V);f && (m.videoPipelineSummary=this.Djb(f));d && (m.audioPipelineSummary=this.Djb(d));return m;}};k.prototype.Djb=function(m){var f,d,l,n,h;h=m.Ua.ha;return {actualStartPlayerTimestamp:null === (f=h.jd) || void 0 === f?void 0:f.Z,actualPartialPlayerTimestamp:h.Hdb,actualCompletePlayerTimestamp:null === (d=m.Pma) || void 0 === d?void 0:d.Z,segmentId:m.Y,contentStartMs:null === (l=m.pc) || void 0 === l?void 0:l.Z,contentEndMs:null === (n=m.Fd) || void 0 === n?void 0:n.Z,streamingPlayerMs:m.sC.Z,isStreamable:m.XE(),isNormalized:m.Bh(),isDoneStreaming:m.mt(),trackNeedsHeaderRequest:m.track.Dba,completedRequests:h.S_a,activeRequests:m.Ua.sj,unsentRequests:m.Ua.$t,bytes:{current:h.ea,received:h.Dfb,partial:h.Fj,completed:h.dE,unsent:h.zec}};};return k;})();b.iPa=r;},function(r,b,a){var c,g,k,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.XPa=void 0;c=a(0);g=a(10);k=a(8);m=a(55);f=a(468);r=(function(){function d(l,n){var h;h=this;this.pza=l;this.Ma=n;this.keb=new k.OG();n.events.on("branchesReevaluated",function(){h.keb.push(l.size);});}Object.defineProperties(d.prototype,{re:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Lv:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return g.N;},enumerable:!1,configurable:!0}});d.prototype.Vk=function(l){var n;l=l.dj;if(l === m.yf.Ts || l === m.yf.Zt){n={branchCountStats:this.keb.toJSON(),decisions:this.Ma.jh.toJSON(),player:this.Ma.T.qv?this.Ma.T.bb.map(function(h){return h.G.id;}):[]};this.pza.forEach(function(h,p){var q,t;t=(0,f.wsa)(h);n[p]=c.__assign({probabilities:h.ei.map(function(v){return {duration:v.duration,immediate:v.PE,seamless:v.He};}),parent:null === (q=h.parent) || void 0 === q?void 0:q.G.id,normalized:h.Bh,hasViewable:h.ht,headerRequested:h.ht && h.S.v$},t);});return n;}};return d;})();b.XPa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.SLa=void 0;r=(function(){function a(c,g,k){this.$d=c;this.H=g;this.events=k;this.fK=[];}a.prototype.Pg=function(c){var g;g=this;this.fK.push(c);this.$d.A0a(function(){g.Mkb(c,{MXb:!0});},c.EZa,c.Yu);};a.prototype.zZb=function(c){var g,k;g=this;k={dj:c};this.fK.forEach(function(m){g.Mkb(m,k);});};a.prototype.Mkb=function(c,g){var k,m;try{k=c.Sf(g);m=k.event;k.vib && this.events.emit(c.Yu,m);}catch(f){this.H.error(("Error generating event for ").concat(c.Yu),f);}};return a;})();b.SLa=r;},function(r,b,a){var c,g,k,m,f,d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.nJa=void 0;r=a(0);c=a(6);g=r.__importDefault(a(32)).default.iJ;k=r.__importDefault(a(154));m=r.__importDefault(a(4));f=a(195);d=a(22);l=a(2);a=(function(){function n(h,p,q,t,v){this.config=h;this.qbc=p;this.navigator=q;this.events=t;this.console=v;h=(0,f.$O)(this.config);this.mC=h.mC.bind(h);this.EK=h.EK.bind(h);this.kX=h.kX.bind(h);this.OX=h.OX.bind(h);this.yeb=[h.$Z.bind(h),h.YJ.bind(h)];}n.prototype.s$b=function(h,p,q,t,v,w,u,x){var y,z,A,B,C,D,E,G;z=[];if(!this.$ya(v.track,x))return {stream:C,g0:z,reason:"locationSelectionFailure"};v.QYa && this.$ya(v.QYa,x);A=v.Oj;x=A.we;B=v.l9;C=x.sm;D=w?w.sn(v.track.Rc,h,q.Da(v.ab.Ld),v.Bh()):v.track.Rc;if(0 === D.length && (null === w || void 0 === w?0:w.OFb))return {stream:void 0,g0:z,reason:"allStreamsFiltered"};C && !C.track.equals(v.track) && (C=this.QPb(C,D));E=v.mediaType;if((w=E === c.u.V) && C && !this.Uac(x,C))return (this.config.h7a && this.mC(C.bitrate),{stream:C,g0:z});h=(0,c.Gca)(h);p=this.oKb(h,p,t,v,! !u);t=this.yeb[E];u=w?this.OX():this.kX();v=A.uBa(p,D,u,t,v.q9a(),v.track.S.mr,B);if(!v)return {stream:C,g0:z,reason:"streamSelectionFailure"};A={df:v.df,a_:v.a_};if(v.reason){G={reason:v.reason,tBa:v.uv,oB:v.oB,Yp:v.Yp,Zp:v.Zp};this.Qoa(E,D,q);}this.vNb(E,v,D);C=D[v.Ie];q=C.bitrate;w?this.config.h7a && this.mC(q):this.EK(q);x.dib(C);if(null === (y=v.PA) || void 0 === y?0:y.length)z=v.PA.map(function(F){return (0,d.$c)(D,function(I){return I.id === F;});}).filter(d.Oba);return {stream:C,g0:z,uP:G,lC:A,oy:v.oy};};n.prototype.Soa=function(h,p,q,t,v,w,u){var x,y,z;if(!(0,c.$p)(p))return {complete:!0,reason:"playing"};if(!w.Deb)return {complete:!1,reason:"unknown"};if(w.i4b)return ((0,l.assert)(w.kdb),w.kdb);x=w.Oj;y=x.we;q=this.O4a(w,q);z=y.sm;y=q.$j - q.Qc;if(y < this.config.Dj || void 0 === z)return {complete:!1,UD:y,reason:"preBuf"};if(w.mediaType === c.u.V)return {complete:!0,UD:y,reason:"audio"};if(h=h.f_a(w.mediaType))return {complete:!0,UD:y,reason:h};this.$ya(w.track);x.vza([z],!1,(0,c.Gca)(p),q,this.yeb[w.mediaType]);p=x.zA(q,p,v,z,{Ru:u});if(!p.complete && t)return {complete:!0,reason:"prebufferTimeLimit",UD:y};p.UD=y;return p;};n.prototype.vNb=function(h,p,q){this.events.emit("streamSelection",{type:"streamSelection",mediaType:h,result:p,streamList:q});};n.prototype.uNb=function(h,p,q,t){h={type:"maxVideoBitrateChanged",time:m.default.time.ia(),streaming:t,maxvb_old:h,maxvb:p,reason:q};this.events.emit(h.type,h);};n.prototype.QPb=function(h,p){var q;q=p[0];p.filter(function(t){return t.zv;}).every(function(t){return t.bitrate <= h.bitrate?q=t:!1;});return q;};n.prototype.Uac=function(h,p){return 0 < this.config.IR.length?!0:(h=h.JP) && h === p.location?!1:!0;};n.prototype.$ya=function(h,p){return h.S.Il.T0(h.S.P,h.Rc,p);};n.prototype.O4a=function(h,p){var C;for(var q,t=p.Da(this.qbc),v=[],w=h,u=p,x,y,z=0,A=0,B=!0;w;){C=w.E5a(t);if(!B && !w.uj)break;0 < C.ha.length && (u=C.ha[0].jd,void 0 === x && (x=C.ha[C.ha.length - 1].Oc,y=C.rca >= C.ha.length?x:C.ha[C.rca].jd),v=C.ha.concat(v),z+=0 < C.Fj?C.Fj:0,A+=C.Yo);w=this.navigator.parent(w);B=!1;}return {Ls:m.default.Wp()[h.mediaType],da:Math.floor(u.Z),Qc:p.Z,Ic:Math.floor(null !== (q=null === x || void 0 === x?void 0:x.Z) && void 0 !== q?q:p.Z),$j:Math.floor(y?y.Z:p.Z),Hg:v.reduce(function(D,E){return D + E.ea;},0),Fj:z,Yo:A,k4a:v.length,ha:v};};n.prototype.oKb=function(h,p,q,t,v){var w,u,x;w=this.O4a(t,p);u=t.mediaType === c.u.J?this.config.$0:this.config.uV;x=k.default.instance();return {state:h,Dr:h === c.Ia.Wc,te:t.ym,playbackRate:q,buffer:w,DW:u,V$a:!1,tO:v,sj:null === x || void 0 === x?void 0:x.sj,mediaType:t.mediaType,Qc:p.Z,pt:!1,nva:!1,hda:0};};n.prototype.Qoa=function(h,p,q){var w,u;if(h === c.u.J){h="manifest";for(var t=0,v=p.length - 1;0 <= v;--v){w=p[v];u=w.bitrate;if(g(w)){t=Math.max(t,u);break;}else this.config.p0 && !w.cv?h="bc":w.Ar?w.iB && (h="hf"):h="av";}this.Uab !== t && (this.uNb(this.Uab,t,h,q),this.Uab=t);}};return n;})();b.nJa=a;},function(r,b,a){var g,k,m,f;function c(d,l,n,h,p){var q,t,v,w,u,x,y,z,A,B,C,D,E,G,F,I,L,M,K,O,H,J;y=d.console;z=d.Aec;A=d.jh;B=d.j9b;C=d.DMb;D=d.Fxa;E=d.aoa;d=d.f4b;G=p || ({complete:!0,uq:0});F=G.root;I=G.complete;L=G.FBb;M=G.vgb;M=void 0 === M?0:M;G=G.uq;K=M < B.length && B[M] === l.id;O=M < B.length?B[M]:h && A.get(h.id);H=p && h && O !== l.id?void 0 !== O?{He:0}:h.yFb(l.id):{He:1};A=H.He;H=H.PE;J=void 0 === H?0:H;H=(A + J) * (null !== (q=null === p || void 0 === p?void 0:p.E6b) && void 0 !== q?q:1);f && y.trace(("reevaluateBranches: visiting ").concat(l.id,", ") + ("distance: ").concat(n,", ") + ("probability: ").concat(H,", ") + ("predecessor: ").concat(null === h || void 0 === h?void 0:h.id,", ") + ("decision: ").concat(O,", ") + ("predecessorComplete: ").concat(I,", ") + ("isOnRequiredPath: ").concat(K,", ") + ("requiredPathIndex: ").concat(M,", ") + ("activeDistance: ").concat(L,", ") + ("seamless ").concat(A,", ") + ("immediate ").concat(J,", ") + ("predecessor sum of: successor weights=").concat(null === h || void 0 === h?void 0:h.QCa,", ") + ("immediate weights= ").concat(null === h || void 0 === h?void 0:h.Dea));q=null !== (v=null === (t=z[l.id]) || void 0 === t?void 0:t.shift()) && void 0 !== v?v:l.duration.Z;t=0 === q;if(!K){if(0 === H)return {tfa:!1,F6:!0};if(!I && 0 === J && G > E)return (d.pE=Math.min(d.pE || Infinity,G - E),{tfa:!1,F6:!0});if(!t && n >= C && 1 > H || !1 === F && H < D)return {tfa:!1,F6:!0};}M < B.length && (0,g.assert)(B[M] === l.id,"");p=null !== (w=null === p || void 0 === p?void 0:p.ei) && void 0 !== w?w:[];h && 1 > A && (0 === J?p=p.concat([{He:A}]):(w=(null === (x=null === (u=h.G.Vp) || void 0 === u?void 0:u[0]) || void 0 === x?void 0:x[0]) || 0,u=Math.max(0,h.duration.Z - w),f && y.trace(("reevaluateBranches: immediate: ").concat(h.duration.Z,", ").concat(w,", ").concat(u)),p=p.concat([{He:A,PE:J,duration:u}])));u=(0,k.O6)(d.vda,function(R){return R.G === h;});d.vda.push({G:l,Sv:d.vda[u],ei:p});n=I?n + l.duration.Z:L;f && y.trace(("reevaluateBranches: added ").concat(l.id,", visiting successors, ") + ("active distance: ").concat(n," ") + ("probabilities: ").concat(JSON.stringify(p)));return {tfa:!0,F6:K,state:{root:!h,complete:t,E6b:H,ei:p,FBb:n,vgb:M + 1,uq:G + q}};}Object.defineProperties(b,{__esModule:{value:!0}});b.Ndc=b.ngc=b.kda=void 0;g=a(2);r=a(10);k=a(22);m=a(470);f=r.N && !1;b.kda=function(d,l,n,h,p,q,t,v,w){var u,x,y,z;x={vda:[]};y=(null === (u=n.oh) || void 0 === u?void 0:u.Da(n.ff).Z) || 0;0 < q.length && (0,g.assert)(n.id === q[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");f && d.trace(("reevaluateBranches: starting at ").concat(n.id," ") + ("requiredPath: ").concat(JSON.stringify(q)));z={console:d,Aec:h,jh:p,j9b:q,DMb:t.Z + y,Fxa:v,aoa:w.Z,f4b:x};l.mgc(n,function(A,B,C,D){return c(z,A,B,C,D);});return x;};b.ngc=c;b.Ndc=function(d,l){var n,h;n=new m.cka();d.forEach(function(p){l("starting tree");n.add(p,p.Sv);});h=(0,m.Heb)(n,function(p){return ("").concat(p.G.id);});l(("requiredBranches ").concat(d.length),h.replace(/\n/g,"<>"));l(("requiredBranches ").concat(d.length),d.map(function(p){var q;return ("").concat(p.G.id,"::").concat(null === (q=p.Sv) || void 0 === q?void 0:q.G.id);}).reduce(function(p,q){return ("").concat(p,", ").concat(q);}));};},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.gQa=void 0;c=a(0);g=a(465);r=(function(){function k(m){this.ka=m;this.R={};}k.prototype.B7a=function(m){return ! !this.ka.R[m];};k.prototype.De=function(m){var f;f=this.R[m];if(void 0 === f){f=this.ka.R[m];if(void 0 === f)throw Error(("Segment not found (").concat(m,")"));f=new g.lQa(m,f,this.ka.Je);this.R[m]=f;}return f;};k.prototype.dSb=function(m){var f;f=this;return m.G.next?Object.keys(m.G.next).map(function(d){return f.De(d);}):[];};k.prototype.U9a=function(m){var f;return c.__generator(this,function(d){switch(d.label){case 0:return [4,m];case 1:(d.kb(),f=m,d.label=2);case 2:if(!f.G.Ub)return [3,4];f=this.De(f.G.Ub);return [4,f];case 3:return (d.kb(),[3,2]);case 4:return [2];}});};k.prototype.BVb=function(m,f){return (0,g.g9a)(m.hP(f));};k.prototype.vk=function(m){var f;f=this;Object.keys(m).forEach(function(d){var l;return null === (l=f.De(d)) || void 0 === l?void 0:l.vk(m[d]);});};return k;})();b.gQa=r;},function(r,b,a){var k,m,f;function c(d,l){var n,h;n=Object.keys(d);if(n.some(function(p){var q,t,v,w;return (null === (q=d[p]) || void 0 === q?void 0:q.Je) !== (null === (t=l[p]) || void 0 === t?void 0:t.Je) || (null === (v=d[p]) || void 0 === v?void 0:v.weight) !== (null === (w=l[p]) || void 0 === w?void 0:w.weight);}))return !0;h=Object.keys(l);return 0 !== k.__spreadArray(k.__spreadArray([],k.__read((0,m.Gu)(n,h)),!1),k.__read((0,m.Gu)(h,n)),!1).length?!0:!1;}function g(d,l){return d.some(function(n,h){var p;return 0 !== (0,m.Gu)(n,null !== (p=l[h]) && void 0 !== p?p:[]).length;}) || d.length !== l.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.HZa=b.c0a=void 0;k=a(0);m=a(22);f=a(1136);b.c0a=function(d){return new f.NHa(function(l){return Object.keys(l.G.next || ({})).map(function(n){var h,p,q;n=d.De(n);q=null !== (p=null === (h=l.oh) || void 0 === h?void 0:h.Da(l.ff).Z) && void 0 !== p?p:Infinity;return {Wfc:n,weight:q};});});};b.HZa=function(d,l){var n,h,p,q,t,v;n=Object.keys(d.R);h=Object.keys(l.R);p=h.filter(function(w){return -1 === n.indexOf(w);});q=n.filter(function(w){return -1 === h.indexOf(w);});t=n.filter(function(w){var u,x,y,z,A;if(-1 === h.indexOf(w))u=!1;else {u=d.R[w];w=l.R[w];u=u.Ub !== w.Ub || u.wa !== w.wa || u.xa !== w.xa || u.Je !== w.Je || u.P !== w.P || g(null !== (x=u.Vp) && void 0 !== x?x:[],null !== (y=w.Vp) && void 0 !== y?y:[]) || c(null !== (z=u.next) && void 0 !== z?z:{},null !== (A=w.next) && void 0 !== A?A:{})?!0:!1;}return u;});v=(0,m.Gu)(n,k.__spreadArray(k.__spreadArray(k.__spreadArray([],k.__read(t),!1),k.__read(p),!1),k.__read(q),!1));return {ACb:p,VQ:q,hGb:t,uec:v};};},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.NHa=void 0;c=a(2);g=a(252);k=a(1137);r=(function(){function m(f){this.jNb=f;this.jEa=!1;this.ufa=new k.HQa();}m.prototype.mgc=function(f,d){var n,h;function l(){var t,v,w,u,x,y;t=p.pop();v=t.node;w=t.I6;t=w.Sv;u=w.nI;w=w.state;if(!q.ufa.has(v)){t=d(v,u,t,w);x=t.tfa;y=t.state;t.F6 || q.ufa.add(v);h(v).forEach(function(z){var A;A=z.Wfc;n.ufa.has(A) || (z=u + z.weight,x && p.push({node:A,I6:{nI:z,Sv:v,state:y}}));});}}n=this;h=this.jNb;(0,c.assert)(!this.jEa);this.jEa=!0;this.ufa.clear();for(var p=new g.y3([{node:f,I6:{nI:0,state:{root:!1,complete:!0,vgb:0,uq:0}}}],function(t,v){return t.I6.nI - v.I6.nI;}),q=this;!p.empty;){l();}this.jEa=!1;};return m;})();b.NHa=r;},function(r,b){var g,k,m;function a(f){return void 0 !== (null === f || void 0 === f?void 0:f.ETa);}function c(f){return (a(f)?f:Object.defineProperties(f,{ETa:{value:{},configurable:!1,enumerable:!1}})).ETa;}Object.defineProperties(b,{__esModule:{value:!0}});b.HQa=void 0;k=null !== (g=Number.MAX_SAFE_INTEGER) && void 0 !== g?g:1E9;m=Date.now() % k;r=(function(){function f(){this.Wda=0;this.id=m=(m + 1) % k;}f.prototype.add=function(d){c(d)[this.id]=this.Wda;return this;};f.prototype.has=function(d){return a(d) && c(d)[this.id] === this.Wda;};f.prototype.delete=function(d){if(!this.has(d))return !1;c(d)[this.id]=void 0;return !0;};f.prototype.clear=function(){this.Wda=(this.Wda + 1) % k;return this;};return f;})();b.HQa=r;},function(r,b,a){var g,k,m,f;function c(d){return {value:d.ab,parent:d.Sv};}Object.defineProperties(b,{__esModule:{value:!0}});b.YPa=void 0;g=a(8);k=a(22);m=a(2);f=a(470);r=(function(){function d(){this.bb=new g.lNa();this.sq=new f.cka();}Object.defineProperties(d.prototype,{empty:{get:function(){return this.bb.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{size:{get:function(){return this.bb.size;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var l;l=this.bb.values();this.bb.clear();this.sq.clear();l.forEach(function(n){return n.Wd();});};d.prototype.Px=function(l){return this.bb.get(l);};d.prototype.has=function(l){return this.bb.has(l);};d.prototype.root=function(){return this.sq.root;};d.prototype.contains=function(l){var n;n=l.G.id;if(this.has(n))return -1 !== this.Px(n).indexOf(l);};d.prototype.BI=function(l){this.sq.BI(l);};d.prototype.pDb=function(){var l;l=[];this.sq.BI(function(n){l.push(n);return !0;});return l;};d.prototype.JX=function(l){return this.sq.parent(l);};d.prototype.ORb=function(l){return this.sq.children(l);};d.prototype.bua=function(l){return this.sq.bua(l);};d.prototype.mda=function(l){var n;if(this.bb.delete(l.G.id,l)){n=this.sq.children(l);this.sq.root === l?0 === n.length?this.sq.clear():((0,m.assert)(1 === n.length,"cannot remove the root branch with multiple successors"),this.sq.L8b(n[0])):((0,m.assert)(0 === n.length,"cannot remove non-root branch with successors"),this.sq.remove(l));}};d.prototype.forEach=function(l){var n;n=this;this.bb.forEach(function(h,p){return l(h,p,n);});};d.prototype.reduce=function(l,n){var h;h=this;return this.bb.reduce(function(p,q,t){return l(p,q,t,h);},n);};d.prototype.map=function(l){var n;n=this;return this.bb.map(function(h,p){return l(h,p,n);});};d.prototype.filter=function(l){var n;n=this;return this.bb.filter(function(h,p){return l(h,p,n);});};d.prototype.OUb=function(){var l;l={};this.forEach(function(n,h){var p;(n=n.uq) && (null !== (p=l[h]) && void 0 !== p?p:l[h]=[]).push(n.Z);});return l;};d.prototype.Gec=function(l,n){var h,p;h=this;n=this.a0b(l,n);l=n.zl;p=this.sq.C7b(n.target.map(c));n=p.VQ;p=p.igb;l.forEach(function(q){return q.oa();});n.forEach(function(q){return h.bb.delete(q.G.id,q);});return {VQ:n,igb:p.map(function(q){return q.value;})};};d.prototype.a0b=function(l,n){var p,q,t,v;function h(w,u){if(w=n(w.G.id,u))(q.push(w),p.bb.set(w.G.id,w));return w;}p=this;q=[];t=[];v=new Map();return {target:l.reduce(function(w,u,x){var y,z;(0,m.assert)(0 === x || u.Sv);if(u.Sv){y=v.get(u.Sv);if(!y)return (t.push(u),w);}z=(0,k.$c)(p.Px(u.G.id),function(A){return p.sq.parent(A) === y || 0 === x;});(z=null !== z && void 0 !== z?z:h(u,y)) && v.set(u,z);z.ei=u.ei;w.push({ab:z,Sv:y});(null === z || void 0 === z?0:z.ht) && z.update(u.G);return w;},[]),zl:q};};return d;})();b.YPa=r;},function(r,b,a){var c,g,k,m,f,d,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.hGa=void 0;c=a(0);g=c.__importDefault(a(4));k=a(6);m=a(8);f=a(20);d=a(2);l=a(72);n=a(59);r=(function(){function h(p,q,t,v,w,u,x){var y;void 0 === x && (x=500);y=this;this.H=p;this.config=q;this.yc=t;this.events=v;this.$qa=w;this.$d=u;this.ZEb=x;this.Dza=this.km=0;this.jba=[];this.GO={Ru:0};this.state=new m.Az(k.Vc.bm);this.df=new m.Az(k.Ia.Qh);this.ji=new l.Qw({gq:10,Vo:this,source:"BufferStateTracker",LXa:function(){return {isBuffering:y.Jf,alwaysRunUnderflowTimer:y.config.tN};}});}Object.defineProperties(h.prototype,{Ru:{get:function(){return this.GO.Ru;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Jf:{get:function(){return (0,k.$p)(this.state.value);},enumerable:!1,configurable:!0}});h.prototype.hfa=function(p){var q;q=this;Array.isArray(p) || (p=[p]);p.forEach(function(t){t.mediaType === k.u.V && (q.sZa=c.__assign(c.__assign({},q.sZa),{audio:{trackId:t.trackId,trackIndex:t.XF}}));});};h.prototype.dca=function(p){this.set(k.Vc.bm);this.j0(p,k.Vc.Qd);};h.prototype.Wba=function(){this.GO.Ru++;};h.prototype.BZ=function(p){this.config.tN || void 0 === this.uB && this.Jf && this.Rpa();this.uB={Vx:p.httpCode,zg:p.errorCode,Bi:p.nativeCode};};h.prototype.fca=function(){this.uB=void 0;this.config.tN || this.j8();};h.prototype.lk=function(p){this.Jf || (this.j0(p,k.Vc.Kg),this.Jf && (this.uB || this.config.tN) && this.Rpa());};h.prototype.M3b=function(p,q){this.state.value !== k.Vc.Qd && this.j0(p,k.Vc.LT);this.hfa(q);};h.prototype.j3b=function(p,q){var t;t=this;this.config.YEb && this.Jf && (-1 === this.jba.indexOf(p) && this.jba.push(p),2 === this.jba.length && Promise.resolve().then(function(){t.Jf && void 0 !== t.My && t.wg("memoryLimit",q.QR,q.RR);}));};h.prototype.P$b=function(p,q){(0,d.assert)(this.state.value === k.Vc.Qd && void 0 === this.My);this.My=p;q && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:q.trackId,trackIndex:q.XF}),this.hfa(q));};h.prototype.dac=function(p,q,t){(0,d.assert)(this.Jf);this.Wua=null !== p && void 0 !== p?p:this.Wua;this.fY=null !== q && void 0 !== q?q:this.fY;void 0 === this.uP?this.uP=t:void 0 !== (null === t || void 0 === t?void 0:t.reason) && (this.uP.reason=t.reason);};h.prototype.wg=function(p,q,t){var v;(0,d.assert)(this.Jf && void 0 !== this.My && void 0 === this.RH && void 0 === this.ofa && void 0 === this.r6);this.RH=p;this.ofa=q;this.r6=t;this.er=100;this.fpa();this.j8();null === (v=this.Uoa) || void 0 === v?void 0:v.xb();this.state.value === k.Vc.Kg && (this.Dza=g.default.time.ia());this.rNb();this.set(k.Vc.cm);this.r6=this.ofa=this.RH=this.uP=this.fY=this.Wua=this.My=void 0;};h.prototype.stop=function(){var p;this.set(k.Vc.bm);this.fpa();this.j8();null === (p=this.Uoa) || void 0 === p?void 0:p.xb();};h.prototype.Toa=function(p,q,t,v){var w,u,x,y,z,A,B,C,D,E;w=this;(0,d.assert)(this.Jf);null === (u=this.Uoa) || void 0 === u?void 0:u.xb();if(this.state.value === k.Vc.Kg && g.default.time.ia() < this.Dza + this.config.Exa){z=this.config.Exa - (g.default.time.ia() - this.Dza);this.Uoa=this.$d.ZN(n.Rh.bG(f.M.Ja(z)),function(){w.Toa(p,q,t,v);});}else {u=t.OI(k.u.V);A=t.OI(k.u.J);B=g.default.time.ia() - this.km;if(u || A){C=function(G){return G?G.XE() || G.mt()?v.Soa(w.state.value,p,B >= w.config.XB,q,G,w.Ru):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};D=C(u);C=C(A);E=function(G){var F;return {reason:G.reason,complete:G.complete,bl:null !== (F=G.UD) && void 0 !== F?F:0};};this.ji.Eu({as:E(D),vs:E(C),bt:B});E=A?C:D;E.$fc=A && C.UD || 0;E.ODb=u && D.UD || 0;D.complete && C.complete?(E.complete=!0,this.wg(null !== (z=E.reason) && void 0 !== z?z:"unknown",null !== (x=E.$fc) && void 0 !== x?x:0,null !== (y=E.ODb) && void 0 !== y?y:0)):(E.complete=!1,this.qFb(E),this.ji.Eu({bp:this.er}));}}};h.prototype.qFb=function(p){var q,t,v;v=p.progress;p.eF?v=(g.default.time.ia() - this.km) / this.config.XB:v || (v=(null !== (q=p.UD) && void 0 !== q?q:0) / this.config.Dj);p=Math.min(Math.max(Math.round(100 * v),null !== (t=this.er) && void 0 !== t?t:0),99);p != this.er && (this.er=p);};h.prototype.j0=function(p,q){(0,d.assert)(q === k.Vc.Qd || void 0 !== p);this.My=p;this.er=0;this.Qba=void 0;this.GO.Ru=0;this.jba=[];p=this.state.value === k.Vc.Qd || this.state.value === k.Vc.Kg;this.km=g.default.time.ia();this.set(q);p || (this.tNb(),this.Aac());};h.prototype.set=function(p){this.state.set(p);switch(p){case k.Vc.bm:this.df.set(k.Ia.bm);break;case k.Vc.Qd:case k.Vc.LT:this.df.set(k.Ia.Qd);break;case k.Vc.Kg:this.df.set(k.Ia.Kg);break;case k.Vc.cm:this.df.set(k.Ia.Wc);}};h.prototype.tNb=function(){(0,d.assert)(this.events && void 0 !== this.er);this.Qba=this.er;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:g.default.time.ia(),percentage:this.er});};h.prototype.Aac=function(){var p;p=this;this.fpa();this.e2b=this.$d.A0a(function(){return p.sNb();},f.M.Ja(this.ZEb),"buffering-notification");};h.prototype.fpa=function(){var p;null === (p=this.e2b) || void 0 === p?void 0:p.xb();};h.prototype.sNb=function(){this.Jf && this.events && void 0 !== this.er && this.er !== this.Qba && this.events.emit("buffering",{type:"buffering",time:g.default.time.ia(),percentage:this.er}) && (this.Qba=this.er);};h.prototype.rNb=function(){var p;(0,d.assert)(this.events && this.My && void 0 !== this.RH && void 0 !== this.r6 && void 0 !== this.ofa);this.Qba=this.er;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:g.default.time.ia(),actualStartPosition:this.My,reason:this.RH,aBufferLevelMs:this.r6,vBufferLevelMs:this.ofa,selector:this.Wua,initBitrate:this.fY,initSelReason:null === (p=this.uP) || void 0 === p?void 0:p.reason,skipbackBufferSizeBytes:this.Krc},this.sZa));};h.prototype.Rpa=function(){var p;p=this;this.config.Jlb && (!this.BC || this.BC.state !== n.co.complete && this.BC.state !== n.co.kO?void 0 === this.BC && (this.BC=this.$d.KA(function(){return p.Zkb();},"underflow")):this.BC.ij());};h.prototype.j8=function(){this.BC && (this.BC.state !== n.co.kO && this.BC.xb(),this.BC=void 0);};h.prototype.Zkb=function(){var p,q,t;return c.__generator(this,function(v){switch(v.label){case 0:return (p=this.config.Taa,this.H.trace(("BufferingStateTracker: starting underflow timer: ").concat(p,"ms")),[4,n.Rh.bG(f.M.Ja(p))]);case 1:(v.kb(),v.label=2);case 2:if(!this.Jf)return [3,4];q=this.yc.iZb || 0;t=g.default.time.ia() - q;if(t >= p)return (this.H.trace(("Forcing streaming failure, ").concat(t,"ms since data received")),this.$qa.N3b(this.uB),[2]);this.H.trace(("BufferingStateTracker: network activity, wait ").concat(p - t,"ms"));return [4,n.Rh.bG(f.M.Ja(p - t))];case 3:return (v.kb(),[3,2]);case 4:return [2];}});};c.__decorate([(0,l.kc)({methodName:"onTemporaryNetworkError",Cl:!0})],h.prototype,"BZ",null);c.__decorate([(0,l.kc)({methodName:"onUnderflow",Cl:!0})],h.prototype,"lk",null);c.__decorate([(0,l.kc)({methodName:"bufferingComplete",Cl:!0})],h.prototype,"wg",null);c.__decorate([(0,l.kc)({methodName:"stop",Cl:!0})],h.prototype,"stop",null);c.__decorate([(0,l.kc)({methodName:"checkStreamingBufferingComplete",Cl:!0})],h.prototype,"Toa",null);c.__decorate([(0,l.kc)({methodName:"createUnderflowTask",Cl:!0})],h.prototype,"Rpa",null);c.__decorate([(0,l.kc)({methodName:"destroyUnderflowTask",Cl:!0})],h.prototype,"j8",null);c.__decorate([(0,l.kc)({methodName:"onUnderflowTimeout",Cl:!0})],h.prototype,"Zkb",null);return h;})();b.hGa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hra=void 0;c=a(22);b.hra=function(g,k,m,f,d){var l;l=[];g=g.pDb().filter(function(n){return n.ht;}).map(function(n){var h,p;h=k(n.S,m,f,d);p=(0,c.Gu)(h,n.xe).map(function(q){return q.mediaType;});l=(0,c.P6)(l,p);return {ab:n,xe:h};});return {$Za:l,PEb:g};};},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.ARa=void 0;c=a(0);g=a(20);k=a(2);b.ARa=(function(){function m(){}m.WUb=function(f){var d,l,n;if(f.Bh){n=c.__read(f.xe,2);f=n[0];n=n[1];if(f.Ya || (null === n || void 0 === n?0:n.Ya))return {pmb:g.M.vv,qmb:g.M.vv};f=null === (d=f.rq) || void 0 === d?void 0:d.oh;d=null === (l=null === n || void 0 === n?void 0:n.rq) || void 0 === l?void 0:l.oh;(0,k.assert)(f);l=d?g.M.min(f,d):f;return {pmb:f,qmb:l};}};return m;})();},function(r,b,a){var c,g,k,m,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.ZFa=void 0;r=a(0);c=a(14);g=a(8);k=a(59);m=a(10);f=a(6);d=r.__importDefault(a(4));a=(function(){function l(n,h,p,q,t,v){this.$d=n;this.cs=h;this.config=p;this.Z2b=q;this.xg=t;this.console=v;this.bla=new c.$f();this.console=(0,g.Ai)(d.default,v,"BranchDecisionMaker");}l.CRb=function(n){var h;return null !== (h=n.Oc) && void 0 !== h?h:n.wF;};l.vSb=function(n){var h,p;h=n.G;p=n.oQ;return h.Ub?h.Ub:p.length?p[0]:n.OB[0];};l.prototype.mDa=function(n,h){var p,q,t,v;p=this;t=n.G;m.N && this.console.trace(("tracking ").concat(n.G.id));this.reset();if(t.ew || 1 >= t.OB.length && (null === (q=t.Fy) || void 0 === q || !q.length))m.N && this.console.trace(("").concat(n.G.id," does not need tracking"));else {v=this.rFb(n);q=v.iBa;h=h.lessThan(v.GWb);m.N && this.console.trace(("tracking ").concat(n.G.id),{Y:t.id,Lnc:h,rrc:null === q || void 0 === q?void 0:q.Z});this.b$b(t,h?q:void 0);if(h)this.bla.on(n.events,"branchEdited",function(){p.mDa(n,p.$d.Ba.currentTime);});}};l.prototype.q_a=function(){var n;null === (n=this.q1a) || void 0 === n?void 0:n.xb();this.q1a=void 0;};l.prototype.reset=function(){this.q_a();this.bla.clear();};l.prototype.rFb=function(n){var h,p;n=l.CRb(n);h=g.M.Ja(this.config.fQ);p=g.M.Ja(this.config.q1b + this.config.iZ);h=n.Da(h);return {GWb:(0,f.$p)(this.xg.value)?n.Da(p):h,iBa:h};};l.prototype.b$b=function(n,h){var p;p=this;this.q_a();this.q1a=h?this.$d.ZN(k.Rh.pw(h),function(){return p.eab(n);},"scheduled branch decision"):this.cs.ZN(k.Rh.sgc,function(){return p.eab(n);},"immediate branch decision");};l.prototype.eab=function(n){var h;this.bla.clear();h=l.vSb(n);m.N && this.console.trace(("BranchDecisionMaker making decision for ").concat(n.id,", decision is ").concat(h));this.Z2b(n.id,h,!0);};return l;})();b.ZFa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.L4a=void 0;c=a(1144);b.L4a=function(g,k){return g.reduce(function(m,f){var d;d=k(f);f.rm().forEach(function(l){return m.Zma(l.mediaType,l.Ds,!d);});return m;},new c.fQa());};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.fQa=void 0;c=a(459);r=(function(){function g(){this.Ms=new c.rT();this.vW=new c.rT();}Object.defineProperties(g.prototype,{total:{get:function(){var k;k=new c.rT();k.add(this.Ms);k.add(this.vW);return k;},enumerable:!1,configurable:!0}});g.prototype.add=function(k){this.Ms.add(k.Ms);this.vW.add(k.vW);};g.prototype.Zma=function(k,m,f){(f?this.vW:this.Ms).Zma(k,m);};return g;})();b.fQa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.S6a=void 0;b.S6a=function(a,c){return a.reduce(function(g,k){return g + k.rX(c).Z;},0);};},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.s0a=void 0;c=a(0);g=a(6);b.s0a=function(k){var l,n;function m(h){(0,g.$p)(h.newValue) && !(0,g.$p)(h.oldValue)?(null === n || void 0 === n?void 0:n.xb(),n=l.ZN.apply(l,c.__spreadArray([],c.__read(f),!1))):null === n || void 0 === n?void 0:n.xb();}for(var f=[],d=1;d < arguments.length;d++){f[d - 1]=arguments[d];}d=k.Ff;l=k.cs;d.state.addListener(m);m({oldValue:g.Vc.bm,newValue:d.state.value});};},function(r,b,a){var g,k;function c(m,f){return Object.keys(m.WJ).map(function(d){return m.WJ[d];}).filter(function(d){return void 0 === d.UI || 1 === d.UI;}).reduce(function(d,l){return d + l.Ms[f];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.fSa=void 0;g=a(6);k=a(10);r=(function(){function m(f,d,l){this.ka=f;this.console=d;this.Msa=l;}m.prototype.PFb=function(f,d,l){var n,h,p,q;n=l && this.ka.config.Dfc;h=this.ka.config.ifa || n;p=this.Msa();if(n){n=f.global;n=(q={},q[g.u.V]=n[g.u.V] - c(f,g.u.V),q[g.u.J]=n[g.u.J] - c(f,g.u.J),q[g.u.Hb]=n[g.u.Hb] - c(f,g.u.Hb),q);}q=n;p=this.f_a(d) || this.xGb(f) || this.vGb(f,p,q) || this.wGb(f,p,q,d);q=(0,g.fAa)(p);if(p && (!q || h))return (k.N && this.console.log(("canIssueRequest ").concat(this.ka.id," [").concat(d,"] static limit: ") + ("").concat(l,", usage: ").concat(JSON.stringify(f),", failed ").concat(p)),{result:!1,reason:p});k.N && this.console.log(("canIssueRequest ").concat(this.ka.id," [").concat(d,"] static limit: ") + ("").concat(l,", usage: ").concat(JSON.stringify(f),", success ").concat(p));return {result:!0,reason:p};};m.prototype.f_a=function(f){var d;d=this.ka.config.Dv;if(this.ka.mSb(f) >= (d || Infinity))return "mediaDurationLimit";};m.prototype.xGb=function(f){return f.WJ[this.ka.id].total.total > (this.ka.N9() || Infinity)?"playgraphMemoryLimit":void 0;};m.prototype.vGb=function(f,d,l){f=f.global;return l?l[g.u.V] + l[g.u.J] > (d.zCa.total || Infinity)?"staticMemoryLimit":void 0:f.total > (d.total.total || Infinity)?"globalMemoryLimit":void 0;};m.prototype.wGb=function(f,d,l,n){var h;h=f.global;return l?(k.N && this.console.log(("checkRequestByMediaTypeMemory [").concat(n,"]:") + (" using static limit ").concat(d.zCa[n],", usage: ").concat(l) + (" (global: ").concat(h[n]," ") + (" - certain contiguous: ").concat(c(f,n),")")),l[n] > (d.zCa[n] || Infinity)?n === g.u.J?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):h[n] > (d.total[n] || Infinity)?n === g.u.J?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return m;})();b.fSa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$Pa=void 0;r=(function(){function a(c){this.console=c;this.$oa();}a.prototype.get=function(c){return this.gO[c] || this.jh[c];};a.prototype.set=function(c,g){void 0 === this.jh[c] && (this.jh[c]=g);};a.prototype.V$b=function(c,g){void 0 === this.get(c) && (this.gO[c]=g);};a.prototype.clear=function(c){this.gO[c]=void 0;this.jh[c]=void 0;};a.prototype.UGb=function(c){var g;this.jh=(g={},g[c]=this.jh[c],g);this.gO={};};a.prototype.$oa=function(){this.jh={};this.gO={};};a.prototype.toJSON=function(){return {jh:this.jh,gO:this.gO};};return a;})();b.$Pa=r;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.bQa=b.wG=void 0;c=a(0);g=a(2);(function(m){m[m.FS=0]="CREATED";m[m.Dja=1]="STARTED";m[m.HT=2]="REQUEST_ISSUED";m[m.lz=3]="EVALUATED";m[m.iHa=4]="DESTRUCTED";})(k=b.wG || (b.wG={}));r=(function(){function m(f){this.Jy=f;this.Sc=k.FS;this.PF={};this.m0={};}Object.defineProperties(m.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});m.prototype.start=function(){var f;f=this;this.Sc !== k.Dja && (this.cZ(k.Dja),[k.lz,k.HT].forEach(function(d){var l;l=new Promise(function(n){(0,g.assert)(f.m0 && f.PF,"state promises should be defined");f.m0[d]=n;f.PF[d]=l;});}),this.Jy(),this.cZ(k.lz));};m.prototype.cZ=function(f){this.Sc=f;this.m0 && (f=this.m0[f],null === f || void 0 === f?void 0:f());};m.prototype.xb=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(f){switch(f.label){case 0:if(this.Sc !== k.Dja)return [3,2];(0,g.assert)(this.PF,"state resolves should be defined");return [4,this.PF[k.lz]];case 1:(f.kb(),f.label=2);case 2:return (this.m0=this.PF=void 0,this.Sc=k.iHa,[2]);}});});};m.prototype.vfa=function(f,d){c.__awaiter(this,void 0,void 0,function(){var l;return c.__generator(this,function(n){switch(n.label){case 0:if(this.Sc === k.iHa)return [2];if(this.Sc === k.lz)return [3,6];(0,g.assert)(this.PF,"state promises should be defined");l=f;switch(l){case k.lz:return [3,1];case k.HT:return [3,3];}return [3,5];case 1:return [4,this.PF[k.lz]];case 2:return (n.kb(),[3,6]);case 3:return [4,this.PF[k.HT]];case 4:return (n.kb(),[3,6]);case 5:return [3,6];case 6:return (null === d || void 0 === d?void 0:d(),[2]);}});});};return m;})();b.bQa=r;},function(r,b,a){var c,g,k,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.$V=void 0;c=a(0);g=a(472);k=a(473);m=a(135);f=a(475);b.$V=function(d,l,n){var h,p,q,t,v,w;h=l.WZ;p=l.sna;d=c.__assign({kha:k.jha},d).kha;q=h[5];h=(0,f.wya)(function(){return w;});q.uXa(h.Lt);n=n(l);q=new g.yia();q.oa(n);v={bi:new d(function(){return t.ka;},q,l.WZ[2]),get Fg() {return t;},Bc:n,ava:q,r$a:"content"};w=new f.ZGa(v,h.yjb,m.uy.TAa.eR);return t=m.uy.Qza(n,w,function(){return v;},p);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.h$a=void 0;b.h$a=function(a){var c,g;c=a.next();do {if(!c.done)g=c.value;c=a.next();}while(!c.done);return g;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$Ga=void 0;r=(function(){function a(c){this.vo=c;this.re="content-playgraph";this.enabled=!0;}a.prototype.Vk=function(){var c,g,k;c=this.vo.Bc;g=c.T;(g.Uf?g.yh:c.ft && c.Mj) && this.vo.vo && (g=g.yh,c=this.vo.bi.vq(g),g=this.vo.Bc.ka.R[g.Y].P,this.vo.ka.R[c.Y].P != g && (k=g));return {contentPlaygraph:this.vo.vo,auxMid:k};};return a;})();b.$Ga=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zGa=void 0;c=a(474);g=a(10);r=(function(){function k(m,f){this.Abc=m;this.Vo=f;}Object.defineProperties(k.prototype,{Lv:{get:function(){return ("cache-").concat(this.Abc);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{re:{get:function(){return this.Lv;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return g.N;},enumerable:!1,configurable:!0}});k.prototype.Vk=function(){var m,f,d;m=(0,c.S4a)(this.Vo);f=Object.keys(m).filter(function(l){return m[l].isEnabled;});if(f.length){d={};f.forEach(function(l){d[l]={hit:m[l].uoa,idx:m[l].BZa};});return {hnc:d};}};return k;})();b.zGa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jeb=void 0;b.jeb={"*":{l3a:["logdata"],rules:[{Vl:function(a){return a.qEa;}}]},locationSelected:[{Vl:function(a){return a.P_;}}],segmentComplete:[{Vl:function(a){return a.P_;}}],segmentStarting:[{Vl:function(a){return a.P_;}}],serverSwitch:[{Vl:function(a){return a.P_;}}],streamSelected:[{Vl:function(a){return a.Uf;}}]};},function(r,b,a){var c,g,k,m,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.$V=void 0;c=a(0);g=a(472);k=a(473);m=a(475);f=a(135);d=a(1156);b.$V=function(l,n,h){var p,q,t,v,w,u;l=c.__assign({kha:k.jha},l).kha;p=n.WZ[5];q=(0,m.wya)(function(){return w;});p.uXa(q.Lt);p=new g.yia();v={bi:new l(function(){return t.ka;},p,n.WZ[2],"Ads:"),get Fg() {return t;},get Bc() {return u;},ava:p,r$a:"ads"};w=new d.NEa(v,q.yjb,f.uy.TAa.eR);l=n.sna;n.sna=c.__spreadArray(c.__spreadArray([],c.__read(l),!1),[w],!1);u=h(n);p.oa(u);w.oa();p.jda();return t=f.uy.Qza(u,w,function(){return v;},l);};},function(r,b,a){var c,g,k,m,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.NEa=void 0;c=a(0);g=a(10);k=a(1157);m=a(72);f=a(2);r=a(476);d=a(1158);a=(function(l){function n(h,p,q){h=l.call(this,h,p,q,"AdsPlaygraphHost",!1) || this;h.ST=void 0;return h;}c.__extends(n,l);Object.defineProperties(n.prototype,{Fg:{get:function(){return this.In.Fg;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ti:{get:function(){var h;h=this.hE(this.Fg.ka);if(h !== this.Fg.ka)return h;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ug:{get:function(){return this.ST;},enumerable:!1,configurable:!0}});n.prototype.oa=function(){var h;h=this;l.prototype.oa.call(this);this.In.Bc.Pg(new k.OEa(this.In));this.ST=new d.IEa(this.H,this.L,this.Bc,function(){return h.Fg;},function(p,q,t,v){return h.s_(p,q,t,v);});};n.prototype.BF=function(h){var p;p=l.prototype.BF.call(this,h);p && ((0,f.assert)(this.ug,"missing manager"),this.ug.fh.CZ(h,this.Y4),this.Y4=void 0);return p;};n.prototype.Yf=function(h,p,q,t,v,w,u){var x,y;void 0 === u && (u=!1);x=!1;y=!1;p && !u && (x=this.ug.MBb.$ta(p));x || (y=this.In.Bc.Yf(h,p,q,t,v,w,u));return y;};n.prototype.JF=function(h,p){var q;this.Y4=void 0;if(this.ug.fh.A7a(h)){g.N && this.H.trace(("ads::seekStreaming: ").concat(JSON.stringify(h)));q=this.ug.fh.dca(h);h=q.Mj;q=q.yOb;g.N && this.H.trace(("ads::seekStreaming: forwarding seek to ").concat(JSON.stringify(h),", ") + ("playerTimestamp: ").concat(p,", ") + ("entryPoint: ").concat(JSON.stringify(q)));this.Bc.Oda(h,p,q);}else (this.Y4={Mj:h,ty:p},this.Bc.JF(h,p));};n.prototype.hE=function(h){return this.ug.fh.hE(h);};n.prototype.Wd=function(h){l.prototype.Wd.call(this,h);this.Y4=void 0;};c.__decorate([(0,m.kc)({methodName:"ads::processViewableResponse"})],n.prototype,"BF",null);c.__decorate([(0,m.kc)({methodName:"ads::reportStreamingFailure"})],n.prototype,"Yf",null);c.__decorate([(0,m.kc)({methodName:"ads::seekStreaming"})],n.prototype,"JF",null);c.__decorate([(0,m.kc)({methodName:"ads::cancelStreaming"})],n.prototype,"Wd",null);return n;})(r.kja);b.NEa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.OEa=void 0;c=a(38);r=(function(){function g(k){this.context=k;this.re="ad-playgraph";this.enabled=!0;}g.prototype.Vk=function(){var k,m,f,d,l,n;k=this.context;m=k.Fg;f=k.Bc;k=f.T;d=k.Uf?k.yh:f.ft?f.Mj:void 0;k=m.Ti;l="content";if(d && (f=f.ka.R[d.Y],(d=f.uc) && m.ka.R[d].P != f.P)){n=f.P;l=f.type;}return {adPlaygraph:k?c.jja.decode(k):void 0,adMid:n,auxMidType:l,manifestHasAds:! !k};};return g;})();b.OEa=r;},function(r,b,a){var c,g,k,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.IEa=void 0;c=a(1159);g=a(478);k=a(1162);m=a(1163);f=a(1165);r=(function(){function d(l,n,h,p,q){this.FTa=new c.DEa(n,l,h,p,q,l);this.$Va=new g.PEa(h,p,this.fh);this.$la=new k.NPa(this,h,l);this.aVa=new m.MKa(this.$la,this.fh,this.$Va,l,p);this.FTa.oa(this.aVa.events);this.Jvb=new f.EEa(h,this.fh);}Object.defineProperties(d.prototype,{fh:{get:function(){return this.FTa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{vy:{get:function(){return this.$Va;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{vF:{get:function(){return this.$la;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{HWb:{get:function(){return this.aVa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{MBb:{get:function(){return this.Jvb;},enumerable:!1,configurable:!0}});d.prototype.Wh=function(l){return this.$la.Wh(l);};return d;})();b.IEa=r;},function(r,b,a){var k,m,f,d,l,n,h,p,q,t,v,w;function c(u){return null === u || void 0 === u?void 0:u.tg.map(function(x){return x.Ui;}).map(function(x){return null === x || void 0 === x?void 0:x.map(function(y){return y.id;});}).reduce(function(x,y){return null === y || void 0 === y?void 0:y.concat(x);},[]);}function g(u,x){return !x.S1a || !u.getTracks(h.u.J).map(function(y){var z;return null === (z=y.Ul) || void 0 === z?void 0:z.sx;}).some(function(y){return y && 3 === y.vr && 4 === y.w;});}Object.defineProperties(b,{__esModule:{value:!0}});b.DEa=void 0;k=a(0);m=a(14);f=a(38);d=a(10);l=a(159);n=a(8);h=a(75);p=a(2);q=a(22);t=a(1160);v=a(478);w=a(1161);r=(function(){function u(x,y,z,A,B,C){this.config=x;this.console=y;this.Pxb=z;this.Fg=A;this.s_=B;this.H=C;this.px={};this.qVa=new l.b4();this.AM=!0;this.events=new m.EventEmitter();}Object.defineProperties(u.prototype,{Bc:{get:function(){return this.Pxb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{wP:{get:function(){return this.Bc.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{tg:{get:function(){return this.oN.LBb;},enumerable:!1,configurable:!0}});u.prototype.oa=function(x){this.oN=new t.REa(x);};u.prototype.j$=function(){var x;x=this;return ! !(0,q.$c)(Object.keys(this.tg),function(y){return 0 < x.tg[y].length;});};u.prototype.dca=function(x){var y,z,A,B,C,D;z=this.Fg().bi;(0,p.assert)(z,"Could not get graph location service");null === (y=this.Zka) || void 0 === y?void 0:y.stop();this.Zka=void 0;if(x.offset.equal(n.M.Ha) && !this.AM){A=this.Fg().ka;A.fe === x.Y && (y=this.Fg().ka.R[x.Y].P,d.N && this.H.trace("ads::seekStreaming: dropping preroll for viewable " + y),this.oN.$Mb(y));}if(0 < this.oN.V0){d.N && this.H.trace("ads::seekStreaming: recreating inner playgraph");B=this.Fg().ka;B=this.hE(B);z=z.bmb(this.Fg().ka,B);this.oN.reset();this.process(x);}if(y=z.QA(x))if((A=null !== B && void 0 !== B?B:this.wP,x=A.R[y.Y],"padding" === x.type && (y={Y:x.Ub,offset:n.M.Ha}),x=y,A=this.Bc.T.zX()))if((A=A.G.id,d.N && this.H.trace(("ads::seekStreaming: seek from segment ").concat(A)),A=this.NTb(A,y,B))){C=z.vq(x);A.Jp.nw=C;C=this.Bc.config.WCa;if(A.Y){d.N && this.H.trace(("ads::seekStreaming: prerollSegment ").concat(A.Y));x={Y:A.Y,offset:n.M.Ha};D=y;}else C && (this.Zka=new w.EIa(A.Jp,this.Bc,z),this.Zka.start());}d.N && this.H.trace(("ads::seekStreaming: returning ").concat(JSON.stringify(x)));return {Mj:x,yOb:D,xqc:B};};u.prototype.CZ=function(x,y){var z,A;z=this.fRb(x);A=this.px[x.K];this.px[x.K]=z;if(A !== z && (null === A || void 0 === A?void 0:A.tg.length) !== (null === z || void 0 === z?void 0:z.tg.length)){if(null === z || void 0 === z?0:z.tg)(this.oN.L$b(x.K,z.tg,this.Fg()),this.AM && (this.AM=g(x,this.Bc.config)),d.N && this.H.trace(("ads::composer: enablePrerollOnSeek for ").concat(x.K,"} is ").concat(this.AM)),d.N && this.H.trace("Received ad metadata for",{S:x.K,Gmc:c(z)}));x=this.Bc.Ska;z=this.Bc.config.R2a;if(y && this.A7a(y.Mj)){if(z && !x)return this.K6b(y);d.N && this.H.trace(("ads::seekStreaming: Ignoring delayed seek request ").concat(JSON.stringify(y),", didAppendData ").concat(x,", enablePrerollForInitialSeek ").concat(z));}this.process(null === y || void 0 === y?void 0:y.Mj,null === y || void 0 === y?void 0:y.ty);}};u.prototype.K6b=function(x){var y,z,A,B,C,D;d.N && this.H.trace(("ads::processDelayedSeekRequest: seek request ").concat(JSON.stringify(x)));y=x.Mj;x=x.ty;z=y;A=this.Fg().bi;(0,p.assert)(A,"Could not get graph location service");B=this.Fg().ka;C=this.hE(B);B=this.Fg().ka.R[z.Y].P;D=this.tg[B];A=A.bmb(this.Fg().ka,C);B=A.QA(z);if(z=this.MTb(C,D))if((z.Wq.nw=y,z.Y))return (y={Y:z.Y,offset:n.M.Ha},d.N && this.H.trace(("ads::processDelayedSeekRequest: executing delayed seek to ").concat(JSON.stringify(y),", playerTimestamp ").concat(x,", entryPoint ").concat(JSON.stringify(B))),z=A.vq(y),this.process(z,x,B));this.process(y,x);};u.prototype.process=function(x,y,z){var A;A=this;this.qVa.nA || this.qVa.Bfa(function(){var B;B=A.Fg().ka;A.s_(B,x,y,z);A.events.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};u.prototype.hE=function(x){var y,z,A;y=this;z=x;A=Object.keys(x.R).map(function(B){return ("").concat(x.R[B].P);});Object.keys(this.px).forEach(function(B){var C,D;if(-1 !== A.indexOf(B)){C=y.px[B];if(C){D=C.tg.map(function(E,G){E=y.tg[B][G];return E.jB || E.Ui.reduce(function(F,I,L){return I.mY?k.__spreadArray(k.__spreadArray([],k.__read(F),!1),[L],!1):F;},[]);});C=(0,f.r0a)(parseInt(B),C,D,y.config.Kya);z=(0,f.txa)(z,C);}}});return z;};u.prototype.A7a=function(x){x=this.Fg().ka.R[x.Y].P;return ! !this.px[x];};u.prototype.fRb=function(x){if(x.qN && (x=x.qN,x.tg.length))return x;};u.prototype.Fqa=function(x){this.oN.Fqa(x);this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:x});this.process();this.events.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});};u.prototype.NTb=function(x,y,z){var A,D,E;d.N && this.console.trace("AdComposer: getPrerollOnSeek: " + ("from ").concat(x," to ").concat(JSON.stringify(y)," ").concat(this.AM));if(this.AM){A=null !== z && void 0 !== z?z:this.wP;if(A){z=A.R[y.Y].uc;z=this.Fg().ka.R[z].P;z=this.tg[z];A=A.R;x=A[x].Ub;for(var B=void 0,C=void 0;x;){D=A[x];if("content" === D.type && ("content" === B || void 0 === B) && z){E=this.t5a(x,z);E && (C={Jp:E});}if(x === y.Y)return (y=C && !C.Y || B && "content" !== B?C:void 0,d.N && this.console.trace(("AdComposer: getPrerollOnSeek: returning ").concat(y)),y);"ad" === D.type && "ad" !== B && (d.N && this.console.trace(("AdComposer: getPrerollOnSeek: found start of ad break: ").concat(x)),B=(0,v.iX)(x),(0,p.assert)(B,"AdComposer: getPrerollOnSeek: Unable to find ad from ad segmentId"),C={Y:x,Jp:z[null === B || void 0 === B?void 0:B.im]});B=D.type;x=D.Ub;}}d.N && this.console.trace("AdComposer: getPrerollOnSeek: returning undefined");}};u.prototype.MTb=function(x,y){var z;d.N && this.console.trace("AdComposer: getPreroll");z=x.R[x.fe].type;if(z && "content" !== z)return (z=(0,v.iX)(x.fe),(0,p.assert)(z,"AdComposer: getPrerollSegmentId: Unable to find ad from ad segmentId"),{Y:x.fe,Wq:y[null === z || void 0 === z?void 0:z.im]});if(x=this.t5a(x.fe,y))return {Wq:x};};u.prototype.t5a=function(x,y){x=(0,v.e5a)(x);(0,p.assert)(x,"Should have contentInfo from segment name");(0,p.assert)(0 < x.g0a,"contentSegmentIndex should be greater than 0");y=y[x.g0a - 1];if(0 === y.Ui.length && !y.jB && !y.hua)return y;};return u;})();b.DEa=r;},function(r,b,a){var c,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.REa=void 0;c=a(2);g=a(8);k=a(184);m=a(253);r=(function(){function f(d){var l;l=this;this.V0=0;this.WG={};d.on("adEvent",function(n){return l.W2b(n);});}Object.defineProperties(f.prototype,{LBb:{get:function(){return this.WG;},enumerable:!1,configurable:!0}});f.prototype.L$b=function(d,l,n){this.WG[d]=l.map(function(h,p){var q;q=(0,k.WN)(n.ka,Number(d),g.M.Ja(h.Qo));return new m.fFa(h,p,q);});};f.prototype.reset=function(){this.V0=0;};f.prototype.W2b=function(d){var l;l=this;"adComplete" === d.event && Object.keys(this.WG).some(function(n){var h,p,q;n=null !== (h=(q=l.WG)[n]) && void 0 !== h?h:q[n]=[];(0,c.assert)(void 0 !== d.im,"complete event should have an adBreakIndex");return null === (p=n[d.im].Ui) || void 0 === p?void 0:p.some(function(t){return t.id == d.fa.K?(t.jB=!0,l.V0++,!0):!1;});});};f.prototype.Fqa=function(d){var l;l=this;Object.keys(this.WG).forEach(function(n){l.WG[n].forEach(function(h){h.Ui.forEach(function(p){p.id == d && (p.mY=!0);});});});};f.prototype.$Mb=function(d){var l,n;d=this.WG[d];0 === (null === (l=null === d || void 0 === d?void 0:d[0]) || void 0 === l?void 0:l.Qo) && (d[0].Ui.forEach(function(h){return h.jB=!0;}),this.V0+=(null === (n=null === d || void 0 === d?void 0:d[0]) || void 0 === n?void 0:n.Ui.length) || 0);};return f;})();b.REa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.EIa=void 0;r=(function(){function a(c,g,k){this.Wq=c;this.wP=g;this.e4b=k;}a.prototype.start=function(){this.Tza=this.Eec.bind(this);this.wP.T.events.once("ptsChanged",this.Tza);};a.prototype.Eec=function(){var c;c=this.e4b.vq(this.wP.Mj);this.Wq.nw=c;};a.prototype.stop=function(){this.Tza && this.wP.T.events.removeListener("ptsChanged",this.Tza);};return a;})();b.EIa=r;},function(r,b,a){var c,g,k,m,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.NPa=void 0;c=a(0);g=a(14);k=a(10);m=c.__importDefault(a(4));f=a(8);d=a(22);r=(function(){function l(n,h,p){var q;q=this;this.ST=n;this.Ti=h;this.uUa=new g.$f();this.H=(0,f.Ai)(m.default,p,"PLAYERADMANAGER");this.events=new g.EventEmitter();this.Ti.events.on("playerChanged",this.Fca.bind(this));this.Fca();this.fh.events.on("adPlaygraphUpdated",function(t){return q.events.emit("adPlaygraphUpdated",t);});this.fh.events.on("adSegmentDropped",function(t){q.X2b(t);});}Object.defineProperties(l.prototype,{e8a:{get:function(){return this.rU;},enumerable:!1,configurable:!0}});l.prototype.Wh=function(n){var h;if(!this.Ti.Xp)return (k.N && this.H.trace("PlayerAdManager.canSkip(): no player"),!1);h=this.Ti.T;if(!h.lX(n))return (k.N && this.H.trace("PlayerAdManager.canSkip() false, no branch spanning playerTimestamp:",n),!1);k.N && this.H.trace(("PlayerAdManager.canSkip(): ").concat(h.jf.Mb()," -> ").concat(n.Mb()));n=n.greaterThan(h.jf)?(0,f.zra)(h.bb,h.jf,n):(0,f.zra)(h.bb,n,h.jf);h=!n.some(function(p){return "content" !== p.G.G.type;});k.N && this.H.trace(("PlayerAdManager.canSkip(): ").concat(h,"; ").concat(n.map(function(p){return ("").concat(p.G.id," ").concat(p.G.G.type," ").concat(p.zd,"..").concat(p.zd);})));return h;};Object.defineProperties(l.prototype,{fh:{get:function(){return this.ST.fh;},enumerable:!1,configurable:!0}});l.prototype.Fca=function(){var n;n=this;this.H.trace("Player changed",this.Ti.Xp);this.uUa.clear();this.Ti.Xp && this.uUa.addListener(this.Ti.T.events,"segmentPresenting",function(){var h;h=n.vy.Or;n.H.trace("Got segment presenting event",{e8a:n.rU,Tqc:h});(null === h || void 0 === h?0:h.Wq)?n.rU || (n.rU=!0,n.H.trace("Emitting adbreak"),n.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:h})):n.rU && (n.rU=!1,n.H.trace("Emitting adbreak ended"),n.events.emit("adBreakEnded",{type:"adBreakEnded"}));if(null === h || void 0 === h?0:h.Cs)(n.H.trace("Emitting ad presenting"),n.events.emit("adPresenting",{type:"adPresenting",presentingInfo:h}));});};l.prototype.ksa=function(n){var h,p,q,t;h=this;p={gDb:[],result:{}};q=this.fh.px;t=Object.keys(q).filter(function(v){return q[v];});if(null === n || void 0 === n?0:n.smb)t=t.filter(function(v){var w;return -1 !== (null === (w=n.smb) || void 0 === w?void 0:w.indexOf(v));});p.gDb=t;t.forEach(function(v){var w,u,x;u=null === (w=q[v]) || void 0 === w?void 0:w.tg;if(u){w=h.zPb(v,u);x=h.fh.tg[v];p.result[("").concat(v)]=w.map(function(y,z){return c.__assign(c.__assign({},y),{hasCompletedPlayback:x[z].aYb});});}});return p;};Object.defineProperties(l.prototype,{vy:{get:function(){return this.ST.vy;},enumerable:!1,configurable:!0}});l.prototype.zPb=function(n,h){var p,q;p=[];q=[];this.fh.tg[n].forEach(function(t){return t.Ui.forEach(function(v){v.mY && -1 === q.indexOf(v.id) && q.push(v.id);});});h.forEach(function(t){var v,w;t=c.__assign({},t);w=null === (v=t.ads) || void 0 === v?void 0:v.filter(function(u){return -1 === q.indexOf(u.id);});t.ads=w;p.push(t);});return p;};l.prototype.X2b=function(n){var h,p,q,t;h=this;p=n.adId;q=this.fh.px;n=Object.keys(q).filter(function(v){return q[v];});t=this.Ti.ka.R;n.forEach(function(v){var w,u;null === (u=null === (w=q[v]) || void 0 === w?void 0:w.tg) || void 0 === u?void 0:u.forEach(function(x,y){var z;null === (z=x.Ui) || void 0 === z?void 0:z.forEach(function(A,B){A.id === p && (A=(0,d.$c)(Object.keys(t),function(C){return (C=h.vy.iX(C))?B === C.Rma && y === C.im:!1;})) && h.events.emit("segmentDropped",{type:"segmentDropped",auxMid:p,auxMidType:"ad",adBreakLocationMs:x.dL,reason:"network_error",sev:"error",segmentId:A});});});});};return l;})();b.NPa=r;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t;function c(v,w,u){void 0 === u && (u=!1);return g.__read(v.filter(function(x){return !x.jB && !x.hua && x.nw && x.nw.Y === w.Y && x.nw.offset.zi(w.offset) && (u?0 === x.Ui.length:!0);}),1)[0];}Object.defineProperties(b,{__esModule:{value:!0}});b.eRb=b.MKa=void 0;g=a(0);k=a(14);m=a(6);f=a(277);d=g.__importDefault(a(4));l=a(8);n=a(2);h=a(22);p=a(59);q=a(10);t=a(1164);r=(function(){function v(w,u,x,y,z){var A,B;A=this;this.vF=w;this.fh=u;this.vy=x;this.ow=z;this.events=new k.EventEmitter();this.H=(0,l.Ai)(d.default,y,"IMPRESSION");B=this.ka;w=B.Fi;this.wE=new k.$f();this.OBb=w.KA(function(){return A.Qdc();},"impressionLogging");this.Qma=w.KA(function(){return A.Pdc();},"impressionLogging::adBreakComplete");this.vF.events.addListener("adBreakPresenting",function(){return A.lDa();});w.on("clockChanged",function(){A.nya();});this.nya();this.fh.events.on("adPlaygraphUpdated",function(){A.Qma.ij();B.events.addListener("playerChanged",function(){return A.Fca();});A.nya();});}Object.defineProperties(v.prototype,{ka:{get:function(){return this.vF.Ti;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{T:{get:function(){return this.ka.T;},enumerable:!1,configurable:!0}});v.prototype.GJb=function(){var w,u,x,y,z,A,B,C,D;w=this;q.N && this.H.trace("Creating cdn trackers");u=this.ka;(0,n.assert)(u.Xp,"player should exist at ad break");x=this.T.YB;y=x[m.u.V];z=x[m.u.J];A={};B={};y && (C=y.T0a(function(){var E;E=(0,h.$c)(y.oDa,function(G){return G instanceof f.GS;});(0,n.assert)(E,"could not find existing cdn list tracker");return E.clone(A,{priority:100,wjb:t.Fha});}));z && (D=z.T0a(function(){var E;E=(0,h.$c)(z.oDa,function(G){return G instanceof f.GS;});(0,n.assert)(E,"could not find existing cdn list tracker");return E.clone(B,{priority:100,wjb:t.Fha});}));return {eEb:function(){return null === C || void 0 === C?void 0:C.pCa(w.T.jf);},kgc:function(){return null === D || void 0 === D?void 0:D.pCa(w.T.jf);},F8b:function(){u.Xp && (C && (null === y || void 0 === y?void 0:y.bgb(C)),D && (null === z || void 0 === z?void 0:z.bgb(D)));}};};v.prototype.lDa=function(){this.OBb.ij();};v.prototype.Pdc=function(){var w,u,x,y,z,A,B,C,D,E,G,F;return g.__generator(this,function(I){switch(I.label){case 0:w=this.vF.Ti;if(!w.T.Uf)return [2];u=w.T.Zva;x=this.ow().bi.vq(u);q.N && this.H.trace("trackAdBreakTask:getNextAdBreak for uxPosition",x,"position",u);y=this.lta(x);I.label=1;case 1:if(null === y || void 0 === y || !y.nw)return [3,3];q.N && this.H.trace("trackAdBreakTask:getNextAdBreak found ad break, position",null === y || void 0 === y?void 0:y.nw);z=this.fh.px[this.ow().ka.R[x.Y].P];(0,n.assert)(z,"Could not find ad metadata for next ad break");A=z.tg[y.im];B=this.ow().lP(y.nw);(0,n.assert)(B,"Could not find ux content timestamp for next ad break");C=this.ow().bi.QA(y.nw);D=C.Y;for(E=w.ka.R[D];"content" !== E.type && D;){D=this.mta(D);E=w.ka.R[D];}G=D && D !== C.Y?{Y:D,offset:l.M.Ha}:C;q.N && this.H.trace("trackAdBreakTask:getNextAdBreak calculating new offset uxPlayTimestamp",B.ln.Z,"adBreakMetadata.locationMs s",A.Qo);B.ln.Z > A.Qo && (q.N && this.H.trace("subtracting",l.M.Ja(B.ln.Z - A.Qo),"from offset",G.offset),G.offset=G.offset.Da(l.M.Ja(B.ln.Z - A.Qo)));q.N && this.H.trace("trackAdBreakTask:next non ad segment",G.Y);F=w.gB(G,!0);q.N && this.H.trace("trackAdBreakTask:yielding on playerPts",F);(0,n.assert)(void 0 !== F,"playerPts was undefined");(0,n.assert)(F.zi(l.M.Ha),"trackAdBreakTask playerPts was negative");return [4,p.Rh.pw(F)];case 2:return (I.kb(),y.nac(),q.N && this.H.trace("trackAdBreakTask: reached playerPts, emitting adBreakEvent"),this.events.emit("adBreakEvent",g.__assign(g.__assign({type:"adBreakEvent"},y.Mma.complete),{ci:y.nw,jA:y.dL,im:y.im})),y.hua=!0,u=w.T.yh,x=this.ow().bi.vq({Y:u.Y,offset:l.M.Ja(1)}),y=this.lta(x),[3,1]);case 3:return [2];}});};v.prototype.Fca=function(){q.N && this.H.trace("playerChanged event",! !this.vy.Or,this.ka.Xp,this.ka.Fi.Ba.currentTime.Mb());};v.prototype.Qdc=function(){var w,u,x,y,z,A,B,C,D,E,G,F,I,L,M,K,O,H,J,R,P,T,V,S,W,ia,ra;return g.__generator(this,function(ua){switch(ua.label){case 0:(q.N && this.H.trace("starting at",this.ka.Fi.Ba.currentTime.Mb()),w=this.GJb(),u=w.eEb,x=w.kgc,y=w.F8b,ua.label=1);case 1:(ua.Kh.push([1,,18,19]),ua.label=2);case 2:if(!this.vy.Or)return [3,17];z=this.vy.Or;if(!z.nca)return [3,4];if("end" === z.nca.oca)return [3,17];A=this.mta(z.position.Y);B=this.T.gB({Y:A,offset:l.M.Ha});(0,n.assert)(B,"paddingEnd should be defined for end of padding");q.N && this.H.trace(("ImpressionLogger: waiting for padding until ").concat(B));return [4,p.Rh.pw(B)];case 3:(ua.kb(),ua.label=4);case 4:C=this.vy.Or;if(!C)return [3,17];D=C.Cs.xh;E=C.position.Y;G=this.T.Gi.S.fa;(0,n.assert)(G,"presenting ad should have a manifest");F=d.default.time.now();q.N && this.H.trace("Emitting start event",{position:C.position});(0,n.assert)(null === (ra=D.hV) || void 0 === ra?void 0:ra.start,"Start event info should be defined");I=u();L=x();this.events.emit("adEvent",g.__assign(g.__assign({type:"adEvent"},D.hV.start),{ci:C.position,fa:G,On:F,Bhb:-1,Bt:this.HX(I,L,G.K),jA:C.Wq.Jp.dL,im:C.Wq.Jp.im,vC:D.vC,yr:D.yr}));M={Y:E,offset:l.M.Ha};K=this.T.gB(M);(0,n.assert)(K,"startPlayerTime should be defined for ad startTime");(0,n.assert)(D.Lea,"Start event info should be defined");ua.label=5;case 5:(ua.Kh.push([5,10,11,12]),O=(W=void 0,g.__values(D.Lea)),H=O.next(),ua.label=6);case 6:if(H.done)return [3,9];J=H.value;M={offset:l.M.Ja(J.tdc),Y:E};R=K.add(M.offset);q.N && this.H.trace(("ImpressionLogger: waiting for next event at ").concat(R));return [4,p.Rh.pw(R)];case 7:(ua.kb(),q.N && this.H.trace("Emitting timed event",{position:M,ieb:R}),I=u(),L=x(),this.events.emit("adEvent",g.__assign(g.__assign({type:"adEvent"},J),{ci:M,fa:G,On:F,Bhb:-1,Bt:this.HX(I,L,G.K),jA:C.Wq.Jp.dL,im:C.Wq.Jp.im,vC:D.vC,yr:D.yr})),ua.label=8);case 8:return (H=O.next(),[3,6]);case 9:return [3,12];case 10:return (P=ua.kb(),W={error:P},[3,12]);case 11:try{H && !H.done && (ia=O.return) && ia.call(O);}finally{if(W)throw W.error;}return [7];case 12:T={offset:D.endTime,Y:E};if(!T.offset.zi(M.offset))return [3,14];V=K.add(T.offset);q.N && this.H.trace(("ImpressionLogger: waiting for end of ad at ").concat(V));return [4,p.Rh.pw(V)];case 13:(ua.kb(),ua.label=14);case 14:return (I=u(),L=x(),q.N && this.H.trace("Emitting complete event",{position:C.position}),this.events.emit("adEvent",g.__assign(g.__assign({type:"adEvent"},D.hV.complete),{im:C.index,ci:T,fa:G,On:F,Bhb:d.default.time.now(),Bt:this.HX(I,L,G.K),jA:C.Wq.Jp.dL,vC:D.vC,yr:D.yr})),this.T.yh.Y !== T.Y?[3,16]:(A=this.mta(T.Y))?(S=this.T.gB({Y:A,offset:l.M.Ha}))?[4,p.Rh.pw(S)]:[3,16]:[3,16]);case 15:(ua.kb(),ua.label=16);case 16:return [3,2];case 17:return [3,19];case 18:return (y && y(),[7]);case 19:return [2];}});};v.prototype.mta=function(w){return this.ka.ka.R[w].Ub;};v.prototype.lta=function(w){var u,x;u=this.ow().ka.R[w.Y];if(this.fh.j$()){x=this.fh.tg[u.P];if(x && (w=c(x,w)))return w;if(u=u.Ub)return this.lta({Y:u,offset:l.M.Ha});}};v.prototype.y6a=function(w,u){var x,y,z;x=(0,h.$c)(Object.keys(w),function(A){return w[A].K === ("").concat(u);});y=Object.keys(x?w[x].RA:{}).map(function(A){return {Vb:A,duration:x?w[x].RA[A].totalTime:0,po:x?w[x].po:void 0};});z=y.reduce(function(A,B){return A + B.duration;},0);q.N && this.H.trace("Getting playtime journal",{K:u,Oqc:y.length,key:x,totalTime:z});return [y,z];};v.prototype.HX=function(w,u,x){var y;void 0 === w && (w={});void 0 === u && (u={});y=g.__read(this.y6a(w,x),2);w=y[0];y=y[1];u=g.__read(this.y6a(u,x),2);return {audio:w,video:u[0],text:[],total:Math.max(y,u[1])};};v.prototype.nya=function(){var w,u;w=this;this.wE.clear();u=this.vF.Ti.Fi;this.wE.on(u.Ba,"clockAdjusted",function(x){x.reason === m.IS.Pn && (w.lDa(),w.Qma.ij());});this.wE.on(u.Ba,"stopStart",function(){w.vF.e8a || (w.Qma.ij(),w.lDa());});};return v;})();b.MKa=r;b.eRb=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Fha=void 0;c=a(0);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.Nsa=function(m){var f;f=m.jw.request.stream.track.K;return ("").concat(g.prototype.Nsa.call(this,m),"::").concat(f);};return k;})(a(277).GS);b.Fha=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.EEa=void 0;c=a(22);r=(function(){function g(k,m){this.Ti=k;this.fh=m;}g.prototype.$ta=function(k){var m;m=this;return this.Ti.T.bb.some(function(f){return f.G.G.P === k && f.$Xa;})?!1:(0,c.$c)(Object.keys(this.fh.px),function(f){if(f=m.fh.px[f])return (0,c.$c)(f.tg,function(d){return d.Ui && (0,c.$c)(d.Ui,function(l){return l.id === k;});});})?(this.fh.Fqa(k),!0):!1;};return g;})();b.EEa=r;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.YN=void 0;c=a(0);g=a(1167);k=a(196);b.YN=function(m,f){var d,l,n;d=[function(h){return new (g.cga.bind.apply(g.cga,c.__spreadArray([void 0],c.__read(h.u5b),!1)))();}];if(m.JW){l=a(479).Fpa;d.unshift(function(h,p){return l(h,p);});}if(m.tI){n=a(479).Fpa;d.unshift(function(h,p){return n(h,p);});}return k.HS.U$({u5b:f},d);};},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v;Object.defineProperties(b,{__esModule:{value:!0}});b.cga=void 0;c=a(0);g=a(14);k=a(8);m=a(2);f=a(59);d=a(22);r=a(135);l=a(1168);n=a(131);h=a(1169);p=a(466);q=a(1172);t=a(1173);v=r.uy.jqa;a=(function(w){function u(x,y,z){var A;A=w.call(this) || this;A.T=x;A.Wf=y;A.zs=z;A.FW=[];A.gf=void 0;A.h5=new g.$f();A.sD=void 0;A.yD=void 0;A.Ela=void 0;A.h5.on(A.T,"underflow",A.lk.bind(A));A.$T=new q.PPa(x);A.h5.on(A.T,"skipped",A.AZ.bind(A));A.h5.on(A.T,"playing",A.uya.bind(A));A.fx=new f.MT(A.$T,A.H,"player");A.mEa=new k.OG();x.QZa && x.ij && (A.$v=new t.sRa(A,x,A.H));return A;}c.__extends(u,w);Object.defineProperties(u.prototype,{fp:{get:function(){var x;return null === (x=this.gf) || void 0 === x?void 0:x.fp;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{YB:{get:function(){var x;return (null === (x=this.gf) || void 0 === x?void 0:x.YB) || ({});},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{bb:{get:function(){var x,y;return null !== (y=null === (x=this.gf) || void 0 === x?void 0:x.Px()) && void 0 !== y?y:[];},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Zva:{get:function(){return this.Ela;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ma:{get:function(){var x;return null === (x=this.gf) || void 0 === x?void 0:x.Ma;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ba:{get:function(){return this.$T;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{iYa:{get:function(){var x,y;return ! !((null === (x=this.gf) || void 0 === x?0:x.fCa) && (null === (y=this.Fr) || void 0 === y?0:y.uj));},enumerable:!1,configurable:!0}});u.prototype.uya=function(x){var y;this.Ela=this.Fn(null !== (y=x.Re) && void 0 !== y?y:this.T.Qc);(0,m.assert)(this.Ela,"Should have a location");};u.prototype.bea=function(x){-1 === this.FW.indexOf(x) && this.FW.push(x);this.gf && this.gf.wZ(x);this.events.emit("drmReady",{viewableId:x});};u.prototype.Khb=function(x){x=this.FW.indexOf(x);-1 !== x && this.FW.splice(x,1);};u.prototype.Br=function(x){var y;return -1 !== this.FW.indexOf(x) || !(null === (y=(0,d.$c)(this.bb,function(z){return z.ht && z.S.P === x;})) || void 0 === y || !y.S.yl);};u.prototype.MF=function(x){var y;null === (y=this.gf) || void 0 === y?void 0:y.MF(x);};u.prototype.reset=function(){var x,y;this.mEa=new k.OG();w.prototype.reset.call(this);this.yD=void 0;null === (x=this.gf) || void 0 === x?void 0:x.reset();null === (y=this.$v) || void 0 === y?void 0:y.reset();};u.prototype.H_=function(x){var y,z;w.prototype.H_.call(this,x);null === (y=this.gf) || void 0 === y?void 0:y.H_(x);null === (z=this.$v) || void 0 === z?void 0:z.o9b(x);};u.prototype.aE=function(){var x;null === (x=this.gf) || void 0 === x?void 0:x.aE();};u.prototype.pause=function(x){this.LK(x);w.prototype.pause.call(this,null !== x && void 0 !== x?x:this.Wf);};u.prototype.resume=function(x){var y;null === (y=this.gf) || void 0 === y?void 0:y.resume(x);w.prototype.resume.call(this,null !== x && void 0 !== x?x:this.Wf);};u.prototype.xb=function(){this.sD=this.s$()?this.wn():void 0;this.gf && this.rqa(this.gf.Ma);this.$T.xb();this.fx.xb();this.h5.clear();w.prototype.xb.call(this);};u.prototype.II=function(){var x,y;if(null === (x=this.gf) || void 0 === x?0:x.Geb){x=this.T.Qc;if(this.Ba.fk){if(this.yD){if(this.yD.greaterThan(x))return (x=this.yD.Da(x),this.mEa.push(x.Z),this.yD);if(this.bb.length){y=this.gf.tZb;if(y && y.lessThan(x))return (this.events.emit("logdata",{type:"logdata",target:"endplay",bd:{clockdrift:{type:"count"}}}),this.yD);}}this.yD=x;}return x;}return w.prototype.II.call(this);};u.prototype.Ys=function(){var x;x=this.T.playbackRate;void 0 === x && (x=w.prototype.Ys.call(this));return x;};u.prototype.s$=function(){return ! !this.sD || w.prototype.s$.call(this);};u.prototype.wn=function(){return this.sD?this.sD:w.prototype.wn.call(this);};u.prototype.zX=function(){var x;return null === (x=this.gf) || void 0 === x?void 0:x.kZb;};u.prototype.rqa=function(x){var y;(0,m.assert)(x === this.Ma);null === (y=this.gf) || void 0 === y?void 0:y.xb();this.gf=void 0;};u.prototype.X6=function(x,y){var z,A;this.sD=void 0;z=w.prototype.X6.call(this,x,y);if(z){A=new h.CFa(x,this,this.H,x.config,this.zs,this.events,this.Wf,this.fx,this.$v,this.tD,this.rD,null === y || void 0 === y?void 0:y.fp,null === y || void 0 === y?void 0:y.YB);null === y || void 0 === y?void 0:y.wQ();this.gf=A;this.LK(this.zQ);this.$v && (y=x.gK.$Tb(l.Jja),y || (y=new l.Jja(),x.Pg(y)),this.$v.i8b(y));}return z;};u.prototype.wQ=function(){var x;null === (x=this.gf) || void 0 === x?void 0:x.wQ();};u.prototype.Xqa=function(){var z;for(var x=[],y=0;y < arguments.length;y++){x[y]=arguments[y];}z=this.gf;(0,m.assert)(z);x.forEach(function(A){return z.rOb(A);});};u.prototype.U1b=function(){var x,y,z,A;if(null === (x=this.gf) || void 0 === x?0:x.Geb)null === (y=this.gf) || void 0 === y?void 0:y.ibc();else {if(null === (z=this.Ma) || void 0 === z?0:z.config.S1a)return !1;null === (A=this.$v) || void 0 === A?void 0:A.n7a({cancel:function(){},type:"playbackEnding"});}return !0;};u.prototype.Wh=function(x){var y,z,A;if(!this.gf)return !1;y=this.lX(x);if(!y)return !1;z=y.G;A=k.M.Ja(this.zs.fQ);return z.oh.Da(A).lessThan(x) || !y.eE(x)?!1:this.gf.Wh(x);};u.prototype.T9=function(){var x;return null === (x=this.$v) || void 0 === x?void 0:x.T9();};u.prototype.lk=function(){var x,y,z;if(null === (x=this.Ma) || void 0 === x?0:x.Jf)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {z=this.jf;(0,m.assert)(this.Ma);x=this.Fn(z,!0);(0,m.assert)(x);null === (y=this.gf) || void 0 === y?void 0:y.lk();y=this.lX(z);null === y || void 0 === y?void 0:y.S.lk();this.Ma.lk(x);}};u.prototype.AZ=function(){this.yD=void 0;};u.prototype.qsa=function(){var x;return null === (x=this.gf) || void 0 === x?void 0:x.qsa();};u.prototype.LK=function(x){var y;null === (y=this.gf) || void 0 === y?void 0:y.LK(x);};u.prototype.pDa=function(x){(0,m.assert)(this.Ma && this.gf);return w.prototype.pDa.call(this,x);};u.prototype.Xca=function(){(0,m.assert)(this.gf);this.gf.Xca();};c.__decorate([v.return.boa(),v.return.Sn],u.prototype,"wn",null);c.__decorate([v.return.boa(),v.return.Tba],u.prototype,"zX",null);return u=c.__decorate([n.FI],u);})(p.ija);b.cga=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Jja=void 0;r=(function(){function a(){this.Lv=this.re=a.re;this.enabled=!0;this.J_=[];this.Jgb=0;}a.prototype.sCb=function(c){this.J_.push(c);5 < this.J_.length && this.J_.shift();};a.prototype.tCb=function(){this.Jgb++;};a.prototype.Vk=function(){if(this.J_.length)return {restarts:this.J_.map(function(c){return {s:c.Bbc,d:c.gMb,r:c.reason,atMs:c.ieb.Z};}),restartsCompleted:this.Jgb};};a.re="seamlessManager";return a;})();b.Jja=r;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u;Object.defineProperties(b,{__esModule:{value:!0}});b.CFa=void 0;c=a(0);g=a(14);k=a(448);m=c.__importDefault(a(4));f=a(192);d=a(6);l=a(264);n=a(8);h=a(22);p=a(59);q=a(251);t=a(2);v=a(1170);w=a(1171);u=a(277);r=(function(){function x(y,z,A,B,C,D,E,G,F,I,L,M,K){var O;O=this;this.Ma=y;this.T=z;this.H=A;this.L=B;this.zs=C;this.Ng=D;this.Wf=E;this.Fi=G;this.$v=F;this.tD=I;this.rD=L;this.G4=!1;this.BUa=new n.KRa();this.Sla=this.$2b.bind(this);this.Tj=new f.eG(this.H);this.aV=M || new w.bka(this.H,y);this.nKb(K);this.pj && (this.Nzb=this.osa(this.PTb()),this.nyb=n.Az.xgc(this.pj.map(function(H){return H.Fv;}),function(H){return H.every(function(J){return J;});},function(H){return O.tD.set(H);}),this.hwb=new q.Aia(this.pj.map(function(H){return H.c$a;}),function(H){return n.M.min.apply(n.M,c.__spreadArray([],c.__read(H),!1));},function(H){O.rD.set(H);},n.M.Ja(-Infinity)));this.Pq=G.KA(function(){return O.OEb();},"branchPruner");this.tUa=new g.$f();this.tUa.on(this.Ng,"segmentPresenting",function(){return c.__awaiter(O,void 0,void 0,function(){var H;return c.__generator(this,function(J){switch(J.label){case 0:return (this.ayb=this.T.wn(),null !== (H=this.L.wYa) && void 0 !== H && H.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(J.kb(),this.Ng.emit("requestGarbageCollection",{time:m.default.time.ia(),type:"requestGarbageCollection"}),J.label=2);case 2:return [2];}});});});}Object.defineProperties(x.prototype,{fp:{get:function(){return this.aV;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{YB:{get:function(){var y;y={};this.pj.forEach(function(z){y[z.mediaType]=z.IQ;});return y;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{kZb:{get:function(){return this.ayb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{fCa:{get:function(){return this.pj.every(function(y){return y.fCa;});},enumerable:!1,configurable:!0}});x.prototype.OEb=function(){var y,z,A,B,C,D;return c.__generator(this,function(E){switch(E.label){case 0:if(!this.Tj.R_a)return [3,2];y=c.__read(this.Tj.N0(),1);z=y[0];A=z.G.hYb && (null === (D=this.zs.tR) || void 0 === D?void 0:D.Z) || 0;B=z.AY || z.Oc;C=B.add(n.M.Ja(A + 1E3));return [4,p.Rh.pw(C)];case 1:return (E.kb(),this.afb(z),[3,0]);case 2:return [2];}});};Object.defineProperties(x.prototype,{Geb:{get:function(){var y;return !(null === (y=this.Nzb) || void 0 === y || !y.Fv.value);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{tZb:{get:function(){return this.G4?n.M.max.apply(n.M,c.__spreadArray([],c.__read(this.pj.map(function(y){var z;return null === (z=y.LDb) || void 0 === z?void 0:z.j$a;}).filter(h.Oba)),!1)):void 0;},enumerable:!1,configurable:!0}});x.prototype.MF=function(y){this.pj.forEach(function(z){z.MF(y);});};x.prototype.$2b=function(){var y;this.Pq.ij();y=this.pj.filter(function(z){return z.HXb;}).map(function(z){return z.mediaType;});this.LK(y);this.resume(y);};x.prototype.rOb=function(y){(0,t.assert)(-1 === this.Tj.N0().indexOf(y),("Branch ").concat(y.G.id," is already in the collection, cannot re-queue"));y.events.on("branchEdited",this.Sla);this.Tj.enqueue(y);this.Pq.state === p.co.complete && this.Pq.ij();y.G.ew && this.Tj.AO();this.G4 || this.aQb(y);};x.prototype.wZ=function(y){this.pj.forEach(function(z){z.wZ(y);});};x.prototype.reset=function(){this.pj.forEach(function(y){y.reset();});this.G4=!1;this.BUa.removeAllListeners();this.aE();};x.prototype.H_=function(y){y=this.osa(y);null === y || void 0 === y?void 0:y.reset();};x.prototype.aE=function(){var y;y=this;this.Tj.N0().forEach(function(z){return z.events.ly("branchEdited",y.Sla);});this.Tj.clear();this.Pq.ij();};x.prototype.Xca=function(){var y;y=this;this.Tj.N0().filter(function(z){return z.rN;}).forEach(function(z){return y.afb(z);});};x.prototype.resume=function(y){this.pj.forEach(function(z){void 0 !== y && -1 === y.indexOf(z.mediaType) || z.resume();});};x.prototype.LK=function(y){this.pj.forEach(function(z){return (void 0 === y || -1 !== y.indexOf(z.mediaType)) && z.stop();});};x.prototype.ibc=function(){this.pj.forEach(function(y){return y.hbc();});};x.prototype.lk=function(){this.H.trace("attached-player: onUnderflow");};x.prototype.M6a=function(){return this.Tj.getIterator();};x.prototype.HSb=function(){return this.Px()[0];};x.prototype.Px=function(){return this.Tj.N0();};x.prototype.nKb=function(y){var z,A,B;z=this;this.Vm("createMediaSourceStart");if(this.zs.fta)A=this.zs.fta();else (A=new m.default.MediaSource(this.T.T),A.fd || (A.fd=m.default.MediaSource.fd));if(1 !== A.readyState)this.Rq("exception in init","NFErr_MC_StreamingInitFailure");else {this.Vm("createMediaSourceEnd");this.sg=A;if(!A.y6(this.Wf))throw (this.H.trace("Error:",A.error),this.Rq("error creating source buffers","NFErr_MC_StreamingInitFailure"),A.error);B={};this.Ma.Pg(new v.GGa(B,this.L));this.pj=A.sourceBuffers.filter(function(C){return 0 <= z.Wf.indexOf(C.mediaType);}).map(function(C){var D,E,G,F;E=new l.uga(z.H,C.mediaType,A,C,z.L,!0,{Tf:function(){return z.T.jf.Z;},Br:function(I){return z.T.Br(I.P);}},z.Fi);E.addListener("error",function(I){return z.Rq(I.errorstr);});E.addListener("logdata",function(I){return z.Ng.emit("logdata",I);});E.addListener("managerdebugevent",function(I){z.Ng.emit("managerdebugevent",I);});G=null === y || void 0 === y?void 0:y[C.mediaType];F=new k.dga(E,C.mediaType,z,z.L,z.H,z.T,z.zs,z.Fi,z.fp,z.$v,G);if(C.mediaType === d.u.J)F.on("drmNeeded",function(I){return z.Ng.emit("drmNeeded",I);});G || (null === (D=F.IQ) || void 0 === D?void 0:D.HXa(new u.GS(B,z.H,z.T,E,z.T.events,z.zs,z.Fi)));return F;});}};x.prototype.afb=function(y){var z;(0,t.assert)(y.rN,"Attempted to prune branch that has not been fully appended");this.Tj.remove(y);y.events.removeListener("branchEdited",this.Sla);y.Wd("pruned");(null === (z=this.L.wYa) || void 0 === z?0:z.branchPruned) && this.Ng.emit("requestGarbageCollection",{time:m.default.time.ia(),type:"requestGarbageCollection"});};x.prototype.xb=function(){this.nyb.clear();this.hwb.clear();this.pj.forEach(function(y){return y.xb();});this.zs.fta || this.sg.Qs();this.aE();this.Pq.xb();this.tUa.clear();};x.prototype.Wh=function(y){return this.pj.every(function(z){return z.Wh(y);});};x.prototype.wQ=function(){this.pj.forEach(function(y){return y.B0a();});this.aV=new w.bka(this.H,this.Ma);};x.prototype.qsa=function(){return {o7b:this.Px(),t5b:this.pj};};x.prototype.aQb=function(y){var z;z=this;this.G4=!0;y.xe.forEach(function(A){var B;B=z.osa(A.mediaType);if(void 0 !== B)z.BUa.once(A.Rra,function(C){return B.cQb(C);});});if(y.pc)this.C2a();else y.events.once("branchNormalized",function(){return z.C2a();});};x.prototype.C2a=function(){var y;y=this.HSb();y && ((0,t.assert)(y.jd),this.Ng.emit("ptsChanged",{initialTimestamp:y.jd,forcedTimestamp:void 0}));};x.prototype.osa=function(y){return (0,h.$c)(this.pj,function(z){return z.mediaType === y;});};x.prototype.PTb=function(){return -1 !== this.Wf.indexOf(d.u.J)?d.u.J:d.u.V;};x.prototype.Vm=function(y){y={type:"startEvent",event:y,time:m.default.time.ia()};this.Ng.emit(y.type,y);};x.prototype.Rq=function(y,z){this.Ma.Yf(y,void 0,z);};return x;})();b.CFa=r;},function(r,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.GGa=void 0;c=a(6);g=a(55);r=(function(){function k(m,f){this.Rg=m;this.config=f;this.re="CdnListTracker";}Object.defineProperties(k.prototype,{enabled:{get:function(){return this.config.cGb;},enumerable:!1,configurable:!0}});k.prototype.Vk=function(m){var f;f=this;if(m.dj === g.yf.Ts)return {cdndldist:JSON.stringify(Object.keys(this.Rg).map(function(d){var l;l=f.Rg[d];return {cdnid:l.po,pbcid:l.zm,dls:Object.keys(l.RA).map(function(n){var h,p;n=l.RA[n];p=n.mediaType === c.u.V?"adlid":"dlid";return (h={tm:n.totalTime,bitrate:n.bitrate},h[p]=n.Vb,h.vf=n.eb,h);})};}))};};return k;})();b.GGa=r;},function(r,b,a){var c,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.bka=void 0;c=a(0).__importDefault(a(4));g=a(6);k=a(20);m=a(32);r=(function(){function f(d,l){this.H=d;this.ko=l;}f.prototype.Ny=function(d,l,n,h,p){var q,t;void 0 === p && (p=!1);q=d.G;t=this.mxb(q);this.fN={startTime:c.default.time.ia(),Dbc:d,Cbc:n.Z,gNb:l,Je:this.USb(h,l),Xdc:this.JUb(h,p),mqa:p,He:h,i_a:t,V1b:this.pTb(q,n)};};f.prototype.f8a=function(){return ! !this.fN;};f.prototype.gta=function(d){var l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D,E,G,F,I,L;if(this.fN && 0 !== Object.keys(this.fN.i_a).length && d === this.fN.gNb){u=this.fN;x=u.i_a;y=u.V1b;z=u.mqa;A=u.He;B=u.Dbc;C=u.Cbc;D=u.startTime;E=u.Je;u=u.Xdc;this.fN=void 0;G=this.lla(d).Ks;F=this.mRb(B.G.id,d,x);G=this.sVa(F.weight,G);I={};for(L in x){L !== d && (I[L]=x[L].details);}x=c.default.time.ia() - D;D=A?0:x;L={offset:k.M.Ja(this.qUb(B,C,A,z)),Y:B.G.id};C={offset:k.M.Ja(C),Y:B.G.id};y={segment:d,destPosition:{Y:d,offset:k.M.Ha},srcsegment:B.G.id,srcTransitionPosition:L,srcStartPosition:C,srcsegmentduration:B.Uea.Z,srcoffset:L.offset.Z,seamlessRequested:A,atRequest:F,atTransition:G,discard:I,transitionType:E,transitionTypeAtRequest:u,delayToTransition:this.YRb(x,A,z),durationOfTransition:D,nextExitPositionAtRequest:y};z=null !== (n=null === (l=this.ko.ka.R[d]) || void 0 === l?void 0:l.type) && void 0 !== n?n:"content";l=null !== (p=null === (h=this.ko.ka.R[B.G.id]) || void 0 === h?void 0:h.type) && void 0 !== p?p:"content";d=null !== (t=null === (q=this.ko.ka.R[d]) || void 0 === q?void 0:q.P) && void 0 !== t?t:void 0;q=null !== (w=null === (v=this.ko.ka.R[B.G.id]) || void 0 === v?void 0:v.P) && void 0 !== w?w:void 0;d && q && d !== q && (y.auxMidType=z,y.auxSrcmidType=l,y.auxMid=d,y.auxSrcmid=q);return y;}};f.prototype.mRb=function(d,l,n){var h,p,q;q={};(n=n[l])?q=n.details:((0,m.assert)(this.ko),q.weight=null === (p=null === (h=this.ko.ka.R[d].next) || void 0 === h?void 0:h[l]) || void 0 === p?void 0:p.weight);return q;};f.prototype.YRb=function(d,l,n){var h;n || (h=l?d:0);return h;};f.prototype.pTb=function(d,l){var n,h,p;h=d.ff.add(l);null === (n=d.Fy) || void 0 === n?void 0:n.some(function(q){h.lessThan(q.pc) && (p=q.pc.Z);});return p;};f.prototype.qUb=function(d,l,n,h){return n || h?d.Uea.Z:l;};f.prototype.USb=function(d,l){return d?"seamless":this.lla(l).UX?"reset":"long";};f.prototype.JUb=function(d,l){return d || l?"lazy":"immediate";};f.prototype.mxb=function(d){var l,n;l=this;n={};d.OB.forEach(function(h){var p,q;p=d.Y1b[h];q=l.lla(h).Ks;n[h]={details:l.sVa(p,q)};});return n;};f.prototype.lla=function(d){var l,n;d=this.ko.u9(d);l=0 < d.length?d[0]:void 0;d=null === l || void 0 === l?void 0:l.YA();if(!l || !d)return {UX:!1,Ks:{hp:0,Bs:0,cu:0,KD:0}};n=l.r$(g.u.V) && !d.Bs;l=l.r$(g.u.J) && !d.hp;return {UX:!n && !l,Ks:d};};f.prototype.sVa=function(d,l){return {weight:d,vbuflmsec:l.hp,abuflmsec:l.Bs,vbuflbytes:l.cu,abuflbytes:l.KD};};return f;})();b.bka=r;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.PPa=void 0;c=a(14);g=a(6);k=a(8);r=a(35);a=(function(){function m(f){this.T=f;this.zla=!1;this.HVa=new c.$f();this.g8b();}m.prototype.g8b=function(){var f,d;f=this;d=this.HVa;d.on(this.T,"paused",function(){return f.eca();});d.on(this.T,"playing",function(){return f.eca(!0);});d.on(this.T,"underflow",function(){return f.eca();});d.on(this.T,"skipped",function(){return f.AZ();});d.on(this.T,"clockAdjusted",function(){return f.uZ();});d.on(this.T,"playbackRateChanged",function(){return f.w3b();});};Object.defineProperties(m.prototype,{currentTime:{get:function(){return this.KWa || this.T.Qc || k.M.Ha;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fk:{get:function(){return this.zla;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{speed:{get:function(){var f;return null !== (f=this.T.playbackRate) && void 0 !== f?f:1;},enumerable:!1,configurable:!0}});m.prototype.eca=function(f){void 0 === f && (f=!1);f !== this.zla && (this.KWa=(this.zla=f)?void 0:this.T.Qc);this.emit("stopStart",{type:"stopStart"});};m.prototype.AZ=function(){this.KWa=void 0;this.uZ(g.IS.Pn);};m.prototype.uZ=function(f){void 0 === f && (f=g.IS.LCb);this.emit("clockAdjusted",{type:"clockAdjusted",reason:f});};m.prototype.w3b=function(){this.emit("speedChanged",{type:"speedChanged"});};m.prototype.xb=function(){this.eca();this.HVa.clear();};return m;})();b.PPa=a;(0,r.Ue)(c.EventEmitter,a);},function(r,b,a){var c,g,k,m,f,d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.sRa=void 0;c=a(0);g=a(14);k=a(10);m=a(6);f=c.__importDefault(a(4));d=a(8);l=a(2);r=(function(){function n(h,p,q){var t;t=this;this.Kb=h;this.T=p;this.pending=new Map();this.listeners=new g.$f();this.Wxa=!1;this.n7a=function(v){var w,u,x,y,B,C,D;if(t.pending.size){k.N && t.H.trace("playback ending, restarting player");x={};y=(w={},w[m.u.V]=void 0,w[m.u.J]=void 0,w[m.u.Hb]=void 0,w);try{for(var z=c.__values(t.pending.entries()),A=z.next();!A.done;A=z.next()){B=c.__read(A.value,2);C=B[0];D=B[1];x[C]=D.to.stream.Io();D.from.Y && (y[C]=D.from.Y);}}catch(G){var E;E={error:G};}finally{try{A && !A.done && (u=z.return) && u.call(z);}finally{if(E)throw E.error;}}k.N && t.H.debug("cancelling playback ending");v.cancel();k.N && t.H.debug("Restarting player",x);t.T.ij(x,y).then(function(){var G,F;null === (G=t.kI) || void 0 === G?void 0:G.resolve();k.N && t.H.debug("Restart completed");null === (F=t.dhb) || void 0 === F?void 0:F.tCb();t.reset();});}};this.listeners.addListener(p,"playbackEnding",this.n7a);this.H=(0,d.Ai)(f.default,q,"SEAMLESSMANAGER");k.N && this.H.debug("construct");}n.prototype.xb=function(){k.N && this.H.debug("destruct");this.pending.clear();this.listeners.clear();};n.prototype.i8b=function(h){this.dhb=h;};n.prototype.rgc=function(h){var p,q;0 === this.pending.size && ((0,l.assert)(void 0 === this.kI,"SeamlessManager: No pending transitions, but a wait is deferred"),this.kI=new d.PC());(0,l.assert)(this.kI,"SeamlessManager: deferred is undefined");(0,l.assert)(!this.pending.has(h.mediaType),"SeamlessManager: There is already a pending transition for mediaType " + h.mediaType);this.pending.set(h.mediaType,h);k.N && this.H.trace(("got new transition [").concat(h.mediaType,"] --\x3e ").concat(h.to.stream.id));if(this.pending.size === this.Kb.Wf.length && !this.Wxa){q=this.vYb();if(q.qeb)return (k.N && this.H.trace(("seamless transition possible at ").concat(h.timestamp.Mb())),this.kI.resolve(),this.reset(),this.jwa=h.timestamp,Promise.resolve());k.N && this.H.trace(("starting non-seamless transition at ").concat(h.timestamp.Mb()));null === (p=this.dhb) || void 0 === p?void 0:p.sCb(q.info);if(!this.Kbc())return (k.N && this.H.warn("Unable to perform a non-seamless transition here, allowing seamless"),this.kI.resolve(),this.reset(),this.jwa=h.timestamp,Promise.resolve());}return this.kI.promise;};n.prototype.o9b=function(h){k.N && this.H.trace(("reset media [").concat(h,"]"));this.pending.delete(h);0 === this.pending.size && this.reset();};n.prototype.T9=function(){return this.jwa;};n.prototype.reset=function(){k.N && this.H.debug("resetting");this.Wxa=!1;this.kI=this.jwa=void 0;this.pending.clear();};n.prototype.vYb=function(){var h,p,q,t,u,x,y,z,A,B,C,D,E,G,F;try{for(var v=c.__values(this.pending.entries()),w=v.next();!w.done;w=v.next()){u=c.__read(w.value,2);x=u[0];y=u[1];if(y.from){z=y.from.stream;A=y.to.stream;if(z.track === A.track)k.N && this.H.debug("Seamless deemed possible due to same track",{mediaType:x});else {B=z.Io();C=A.Io();D=void 0;E=this.Kb.Fn(y.timestamp);D=y.from.Y && (null === (p=this.Kb.Fr) || void 0 === p?void 0:p.G.id) !== y.from.Y?{Y:y.from.Y,offset:d.M.Ja(0)}:this.Kb.Fn(y.C6b);G=this.T.QZa({mediaType:x,from:B,to:C,MQb:D,Gdc:E});F=G.reason;if(!G.QZa)return (k.N && this.H.debug("Non-seamless transition; details:",{reason:F,mediaType:x,from:B,to:C}),{qeb:!1,info:{gMb:null !== (q=y.to.Y) && void 0 !== q?q:"unk",Bbc:null !== (t=y.from.Y) && void 0 !== t?t:"unk",ieb:y.timestamp,reason:F}});k.N && this.H.debug("Seamless deemed possible",{reason:F,mediaType:x,from:B,to:C,MQb:D,Gdc:E});}}}}catch(L){var I;I={error:L};}finally{try{w && !w.done && (h=v.return) && h.call(v);}finally{if(I)throw I.error;}}return {qeb:!0};};n.prototype.Kbc=function(){this.Wxa=!0;k.N && this.H.debug("Marking EOS");return this.Kb.U1b();};return n;})();b.sRa=r;},function(r,b,a){var c,g,k,m,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.SPa=void 0;c=a(0);g=a(72);k=a(8);m=c.__importDefault(a(4));f=a(477);d=a(1175);r=(function(){function l(n,h){var p;p=this;this.gY=n;this.events=(0,f.Kpa)(function(){return p.In;},this.gY.events,h,d.heb);this.Jxb=(0,k.Ai)(m.default,this.gY.console,"PLAYERHOST");new g.Qw({gq:10,Vo:this,source:"PlayerHost",console:this.Jxb});}l.prototype.gpa=function(){this.In=void 0;};l.prototype.MBa=function(n){this.In=n;};c.__decorate([(0,g.kc)({methodName:"clearProxyPlaygraphContext"})],l.prototype,"gpa",null);c.__decorate([(0,g.kc)({methodName:"setProxyPlaygraphContext"})],l.prototype,"MBa",null);return l;})();b.SPa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.heb=void 0;b.heb={"*":{l3a:["logdata"],rules:[{Vl:function(a){return a.qEa;}}]},segmentPresenting:[{Vl:function(a){return a.qEa;},config:{Xr:["metrics"]}},{Vl:function(a){return a.Uf;}},{Vl:function(a){return a.Uf;},config:{Xr:["metrics","srcStartPosition"]}},{Vl:function(a){return a.Uf;},config:{Xr:["metrics","srcTransitionPosition"]}},{Vl:function(a){return a.Uf;},config:{Xr:["metrics","destPosition"]}}],streamPresenting:[{Vl:function(a){return a.Uf;}}],segmentAppended:[{Vl:function(a){return a.P_;}}]};},function(r,b,a){var c,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.rTa=void 0;c=a(0);g=a(14);k=a(10);m=a(405);r=(function(){function f(d,l,n,h){this.rmb=d;this.console=l;this.vDb=n;this.B_=h;this.events=new g.EventEmitter();this.CY=d.uZb.nx();}Object.defineProperties(f.prototype,{S:{get:function(){var d;return null === (d=this.rmb) || void 0 === d?void 0:d.S;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{aG:{get:function(){var d;d=this;return (function(){return c.__awaiter(d,void 0,void 0,function(){var l;return c.__generator(this,function(n){switch(n.label){case 0:return (n.Kh.push([0,2,,3]),[4,this.rmb.aG]);case 1:return [2,n.kb()];case 2:throw (l=n.kb(),m.zPa.pYb(l) && this.vDb.Yf(l),k.N && this.console.trace("Removing broken viewable entry due to error",this.B_),this.events.emit("error",{error:l}),l);case 3:return [2];}});});})();},enumerable:!1,configurable:!0}});return f;})();b.rTa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.HHb={Iv:["minInitVideoBitrate",-Infinity],Bxa:["minHCInitVideoBitrate",-Infinity],EB:["maxInitVideoBitrate",Infinity],hZ:["minInitAudioBitrate",-Infinity],fZ:["minHCInitAudioBitrate",-Infinity],TY:["maxInitAudioBitrate",Infinity],mba:["minAcceptableVideoBitrate",-Infinity],dZ:["minAcceptableVMAF",0],a1b:["minAcceptableVMAFRebufferScalingFactor",0],Axa:["minAllowedVideoBitrate",-Infinity],c0b:["maxAllowedVideoBitrate",Infinity],zJ:["minAllowedVmaf",-Infinity],wab:["maxAllowedVmaf",Infinity],FR:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],B8:["enableResolutionVMAFStreamFilter",!1],Zya:["percentCapTitlesForResolutionVMAFStreamFilter",100],zda:["resolutionVMAFCappingRuleList",[]],c8a:["ignoreUserFilterOnEmptyResult",!0],jF:["minRequiredBuffer",2E4],uba:["minRequiredAudioBuffer",0],Dj:["minPrebufSize",5800],qba:["minCheckBufferingCompleteInterval",200],z8:["enableMoreFrequentBufferingCompleteCheck",!1],Exa:["minimumBufferingCompleteInterval",1E4],tda:["requireDownloadDataAtBuffering",!1],r8a:["indicatorForDownloadDataAtBuffering","oncomplete"],uda:["requireSetupConnectionDuringBuffering",!1],hAa:["rebufferingFactor",1],Hr:["maxBufferingTime",2E3],YDa:["useMaxPrebufSize",!0],GB:["maxPrebufSize",4E4],hxa:["maxRebufSize",Infinity],gPb:["fastRebufferRecoveryThreshold",Infinity],fPb:["fastRebufferRecoverBwThrehold",3E3],M$:["initialBitrateSelectionCurve",null],w8a:["initSelectionLowerBound",-Infinity],x8a:["initSelectionUpperBound",Infinity],C0:["throughputPercentForAudio",15],Sna:["bandwidthMargin",0],Una:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],VYa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,yA:76376,scale:18862.4,gamma:3.0569}],Tna:["bandwidthMarginContinuous",!1],WYa:["bandwidthMarginForAudio",!0],XCa:["switchConfigBasedOnInSessionTput",!0],Bpa:["conservBandwidthMargin",20],ZV:["conservBandwidthMarginTputThreshold",6E3],Cpa:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],Mjb:["switchAlgoBasedOnHistIQR",!1],RF:["switchConfigBasedOnThroughputHistory","iqr"],gxa:["maxPlayerStateToSwitchConfig",-1],Hwa:["lowEndMarkingCriteria","iqr"],Cha:["IQRThreshold",.5],sua:["histIQRCalcToUse","simple"],Ju:["bandwidthManifold",{curves:[{min:.05,max:.82,yA:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,yA:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Ev:["maxTotalBufferLevelPerSession",0],Q7a:["highWatermarkLevel",3E4],vkb:["toStableThreshold",3E4],Qea:["toUnstableThreshold",0],mCa:["skipBitrateInUpswitch",!1],nEa:["watermarkLevelForSkipStart",8E3],kCa:["simulationDurationStrategy","default"],mbc:["simulationFullBufferPercentage",1],ybb:["minSimulationDuration",2E4],Sab:["maxSimulationDuration",3E5],TDa:["upperThroughputPredictionFactor",1.6],x$:["highStreamRetentionWindow",9E4],Oaa:["lowStreamTransitionWindow",51E4],oua:["highStreamRetentionWindowUp",5E5],Jwa:["lowStreamTransitionWindowUp",1E5],nua:["highStreamRetentionWindowDown",6E5],Iwa:["lowStreamTransitionWindowDown",0],mua:["highStreamInfeasibleBitrateFactor",.5],zB:["lowestBufForUpswitch",9E3],Jaa:["lockPeriodAfterDownswitch",15E3],Lwa:["lowWatermarkLevel",15E3],by:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Mwa:["lowestWaterMarkLevelBufferRelaxed",!1],g0b:["maxContentDurationForMinBufferIncrease",6E4],hba:["mediaRate",1.5],aba:["maxTrailingBufferLen",15E3],uV:["audioBufferTargetAvailableSize",262144],$0:["videoBufferTargetAvailableSize",1048576],Vab:["maxVideoTrailingBufferSize",8388608],yab:["maxAudioTrailingBufferSize",393216],P8:["fastUpswitchFactor",3],iPb:["fastUpswitchFactorWithoutHeaders",3],hPb:["fastUpswitchFactorForNextSegment",1],vra:["fastDownswitchFactor",3],Dv:["maxMediaBufferAllowed",27E4],nqc:["minMediaBufferLen",1E4],jCa:["simulatePartialBlocks",!0],Aib:["simulateBufferFull",!0],Dpa:["considerConnectTime",!0],Apa:["connectTimeMultiplier",1],SZb:["liveDvrSwitchThresholdms",1E4],X$a:["lowGradeModeEnterThreshold",12E4],Y$a:["lowGradeModeExitThreshold",9E4],Bab:["maxDomainFailureWaitDuration",3E4],xab:["maxAttemptsOnFailure",18],n3a:["exhaustAllLocationsForFailure",!0],Jab:["maxNetworkErrorsDuringBuffering",20],Taa:["maxBufferingTimeAllowedWithNetworkError",6E4],tN:["alwaysRunUnderflowTimer",!0],v3a:["fastDomainSelectionBwThreshold",2E3],$jb:["throughputProbingEnterThreshold",4E4],akb:["throughputProbingExitThreshold",34E3],L$a:["locationProbingTimeout",1E4],C3a:["finalLocationSelectionBwThreshold",1E4],Yjb:["throughputHighConfidenceLevel",.75],Zjb:["throughputLowConfidenceLevel",.4],twa:["locationStatisticsUpdateInterval",6E4],h_b:["locationSelectorPersistFailures",!0],Q2a:["enablePerfBasedLocationSwitch",!1],Xpc:["maxRateMaxFragmentGroups",4500],dza:["pipelineScheduleTimeoutMs",2],FB:["maxPartialBuffersAtBufferingStart",2],i1b:["minPendingBufferLen",3E3],Zaa:["maxPendingBufferLen",6E3],UNb:["enableNginxRateLimit",!1],Mba:["nginxSendingRate",4E4],YNb:["enableRequestPacingToken",!1],H0b:["mediaRequestPacingSpeed",2],Uua:["initialMediaRequestToken",2E4],Raa:["maxActiveRequestsSABCell100",2],Lab:["maxPendingBufferLenSABCell100",500],ygb:["resetActiveRequestsAtSessionInit",!0],w8:["enableCprAudio",!1],x8:["enableCprVideo",!1],FNb:["enableCprAudioNonPipelined",!1],GNb:["enableCprVideoNonPipelined",!0],w_a:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],djb:["staticPacingRateKbps",0],n4b:["paceRateSelectorAlgorithm","default"],o4b:["paceRateSelectorAlgorithmNonPipelined","default"],P2a:["enablePaceReportLogging",!1],xec:["unpacedFragmentInterval",0],CWb:["ignorePacedRequestStrategy","none"],JZ:["pacedThresholdPct",.1],Nqa:["effectivePaceRateFactor",1],l8b:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],q4b:["pacingTargetBufferStrategy","implicit"],Vcc:["targetBufferLevelStddevMultiplier",1],Ucc:["targetBufferLevelDurationMs",0],j1b:["minTargetBufferLevelMs",27E4],ACa:["stddevPredictorMultiplier",-.3],BCa:["stddevPredictorUpperMultiplier",2],Ubc:["stddevPredictorSource","deliverytime"],Yoa:["ciPredictorSource","throughput-ci"],L2a:["enableInitialTputLogging",!1],NNb:["enableInitialThroughputHistory",!1],ixa:["maxStreamingSkew",2E3],f0b:["maxBufferOccupancyForSkewCheck",Infinity],tfc:["useBufferOccupancySkipBack",!0],exa:["maxPendingBufferPercentage",10],Oab:["maxRequestsInBuffer",120],u$:["headerRequestSize",4096],cra:["estimateHeaderSize",!0],apc:["headerCacheEstimateHeaderSize",!1],Iba:["neverWipeHeaderCache",!1],Cfc:["useSidxInfoFromManifestForHeaderRequestSize",!1],t4b:["parseAdditionalBoxesMp4Header",!0],x3a:["fastPlayHeaderRequestSize",0],WP:["maxRequestSize",0],AJ:["minRequestSize",65536],eZ:["minBufferLenForHeaderDownloading",1E4],Jib:["smartHeaderPreDownloading",!1],BNb:["enableAllHeadersPreDownloading",!1],Dqc:["onlyAllowPtsUpdatePolling",!1],k1b:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],G_:["reserveForSkipbackBufferMs",15E3],gya:["numExtraFragmentsAllowed",2],Hj:["pipelineEnabled",!0],VP:["maxParallelConnections",3],zfc:["usePipelineForAudio",!1],yfc:["usePipelineDetectionForAudio",!1],Kib:["socketReceiveBufferSize",0],a7:["audioSocketReceiveBufferSize",32768],dS:["videoSocketReceiveBufferSize",65536],ddc:["textSocketReceiveBufferSize",32768],Ulb:["usePipelineDetectionForVideo",!1],o1b:["minVideoSocketReceiveBufferSize",65536],kua:["headersSocketReceiveBufferSize",32768],Kac:["shareDownloadTracks",!0],Lac:["shareOpenRangeTracks",!1],Ejb:["supportOpenRangeRequests",!0],tMb:["disableHeaderDownloadTracks",!1],Dxa:["minTimeBetweenHeaderRequests",void 0],gfa:["updatePtsIntervalMs",1E3],foa:["bufferTraceDenominator",0],KV:["bufferLevelNotifyIntervalMs",2E3],LCa:["streamingStatusIntervalMs",2E3],XB:["prebufferTimeLimit",6E4],pba:["minBufferLevelForTrackSwitch",2E3],WNb:["enablePenaltyForLongConnectTime",!1],Wya:["penaltyFactorForLongConnectTime",2],Fwa:["longConnectTimeThreshold",200],ina:["additionalBufferingLongConnectTime",2E3],jna:["additionalBufferingPerFailure",8E3],p_:["rebufferCheckDuration",6E4],N2a:["enableLookaheadHints",!1],U$a:["lookaheadFragments",2],rE:["enableOCSideChannel",!0],Hza:["probeRequestTimeoutMilliseconds",3E4],Xqc:["probeRequestConnectTimeoutMilliseconds",8E3],H3:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],ZNb:["enableSCByteRangeHints",!1],llb:["updateDrmRequestOnNetworkFailure",!0],Aab:["maxDiffAudioVideoEndPtsMs",1E3],MLb:["deferAseHeaderCache",!1],D1a:["deferAseScheduling",!1],fkb:["timeBeforeEndOfStreamBufferMark",6E3],Vaa:["maxFastPlayBufferInMs",2E4],i0b:["maxFastPlayContentTimeThresholdMs",112E3],bxa:["maxFastPlayBitThreshold",2E8],$wa:["maxBufferingCompleteBufferInMs",Infinity],YEb:["bufferingCompleteOnMemoryLimit",!1],nba:["minAudioMediaRequestSizeBytes",0],wba:["minVideoMediaRequestSizeBytes",0],e0b:["maxAudioMediaRequestSizeBytes",Infinity],x0b:["maxVideoMediaRequestSizeBytes",Infinity],n0b:["maxMediaRequestSizeBytesInFraction",1],ky:["minAudioMediaRequestDuration",0],JB:["minVideoMediaRequestDuration",0],sba:["minMediaRequestDuration",0],d0b:["maxAudioMediaRequestDuration",Infinity],w0b:["maxVideoMediaRequestDuration",Infinity],Xaa:["maxMediaRequestDuration",Infinity],nna:["allowFirstRequestAggregation",!1],d1b:["minAudioMediaRequestDurationCache",0],m1b:["minVideoMediaRequestDurationCache",0],Nlb:[["useHeaderCache","usehc"],!0],WDa:[["useHeaderCacheData","usehcd"],!0],c8:["defaultHeaderCacheSize",4],x1a:["defaultHeaderCacheDataCount",4],b8:["defaultHeaderCacheDataPrefetchMs",0],PVb:["headerCacheMaxPendingData",6],bpc:["headerCachePriorityLimit",5],K7a:["headerCacheAdoptBothAV",!1],Afc:["usePipelineForBranchedAudio",!0],GGb:["childBranchBatchedAmount",1E4],fQ:["minimumTimeBeforeBranchDecision",2E3],q1b:["minimumAppendedMediaBeforePlayback",5E3],Jqc:["parallelBranchesDuringBuffering",!1],q0b:["maxRequestsToAttachOnBranchActivation",void 0],iZ:["minimumJustInTimeBufferLevel",3E3],ONb:["enableJustInTimeAppends",!1],hYa:["appendPacingFactor",0],eDb:["appendPacingThreshold",3E3],H2a:["enableDelayedSeamless",!1],cnc:["branchEndPtsIntervalMs",250],DWb:["ignorePtsJustBeforeCurrentSegment",!1],Fab:["maxFragsForFittableOnBranching",300],J4b:["pausePlaylistAtEnd",!0],QBb:["adaptiveParallelTimeoutMs",1E3],vO:["enableAdaptiveParallelStreaming",!1],eoa:["bufferThresholdToSwitchToSingleConnMs",45E3],doa:["bufferThresholdToSwitchToParallelConnMs",35E3],xNb:["enableAPSForBranching",!1],xfa:["waitForPendingConnAdaptation",!1],Nxa:["networkFailureResetWaitMs",2E3],Mxa:["networkFailureAbandonMs",6E4],$aa:["maxThrottledNetworkFailures",5],Iea:["throttledNetworkFailureThresholdMs",200],Kwa:["lowThroughputThreshold",400],mra:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],rdc:["timeAtEachBitrateRoundRobin",1E4],G9b:["roundRobinDirection","forward"],pWb:["httpsConnectErrorAsPerm",!1],Kbb:["mp4ParsingInNative",!1],Zi:["enableManagerDebugTraces",!1],jab:["managerDebugMessageInterval",1E3],iab:["managerDebugMessageCount",20],wcb:["notifyManifestCacheEom",!0],dOb:["enableUsingHeaderCount",!1],Mib:["sourceBufferInOrderAppend",!0],jK:["requireAudioStreamToEncompassVideo",!1],RXa:["allowAudioToStreamPastVideo",!1],p0a:["countGapInBuffer",!1],SXa:["allowCallToStreamSelector",!1],oZa:["bufferThresholdForAbort",2E4],FCa:["ase_stream_selector","optimized"],FYa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],UZb:["liveStreamSelectorAlgorithm","livesimple"],hdc:["throughputDiscountForLive",.8],gdc:["throughputDiscountExponentBC",1.5],B$a:["liveTargetBufferDuration",1E4],Rua:["initBitrateSelectorAlgorithm","default"],koa:["bufferingSelectorAlgorithm","default"],fcc:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],T2a:["enableThroughputTraceResearchData",!1],bkb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],Iy:["researchEnvironmentEnabled",!1],aOb:["enableStreamSelectionAugmentData",!1],gEb:["augmentDataNumOfChunks",30],m1a:["ase_ls_failure_simulation",""],cqa:["ase_dump_fragments",!1],dqa:["ase_location_history",0],n1a:["ase_throughput",0],p1a:["ase_simulate_verbose",!1],Kya:["paddingDurationMs",1E3],Lya:["paddingMediaType","padding"],Jh:["stallAtFrameCount",void 0],Rib:["stallAtFrameCountAudio",void 0],Vwa:["marginPredictor","simple"],Jlb:["useBackupUnderflowTimer",!0],a2b:["noDuplicateUnderflowTimer",!1],wsc:["useManifestDrmHeader",!0],xsc:["useOnlyManifestDrmHeader",!0],Oxa:["networkMeasurementGranularity","video_location"],Q1b:["netIntrStoreWindow",36E3],uqc:["minNetIntrDuration",8E3],fxb:["fastHistoricBandwidthExpirationTime",10368E3],Ixb:["bandwidthExpirationTime",5184E3],exb:["failureExpirationTime",86400],XVa:["historyTimeOfDayGranularity",4],bxb:["expandDownloadTime",!0],wyb:["minimumMeasurementTime",500],vyb:["minimumMeasurementBytes",131072],Pzb:["throughputMeasurementTimeout",2E3],Ozb:["initThroughputMeasureDataSize",262144],eyb:["historicBandwidthUpdateInterval",2E3],Cmc:["throughputPredictor","ewma"],mBa:["secondThroughputEstimator","slidingwindow"],fhb:["secondThroughputMeasureWindowInMs",3E5],Bmc:["throughputMeasureWindow",5E3],Dmc:["throughputWarmupTime",5E3],Amc:["throughputIQRMeasureWindow",1E3],kmc:["IQRBucketizerWindow",15E3],Gab:["maxIQRSamples",100],ubb:["minIQRSamples",5],xmc:["connectTimeHalflife",10],qmc:["responseTimeHalflife",10],ZUa:["historicThroughputHalflife",14400],YUa:["historicResponseTimeHalflife",100],XUa:["historicHttpResponseTimeHalflife",100],aKa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],JVa:["minReportedNetIntrDuration",4E3],zmc:["throughputBucketMs",500],nmc:["bucketHoltWintersWindow",2E3],Twb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr avtp entropy deliverytime").split(" ")],cxb:["experimentalFilter",["throughput-wssl"]],sWa:["reportedFilters",[]],fla:["filterDefinitionOverrides",{}],Jwb:["defaultFilter","throughput-ewma"],Kwb:["defaultFilterField","average"],wAb:["secondaryFilter","throughput-sw"],Qka:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20}}],hOb:["enableWsslEstimate",!1],$pc:["maxWsslRequestSize",131072],Zpc:["maxWsslRequestRatio",.2],Kmb:["wsslAggregationMethod","max"],NW:["enableSessionHistoryReport",!0],Mqa:["earlyStageEstimatePeriod",1E4],p$a:["lateStageEstimatePeriod",3E4],Yaa:["maxNumSessionHistoryStored",10],vba:["minSessionHistoryDuration",3E5],YVb:["highAndStableModelName","baseline"],Rqa:["enableHighAndStablePredictor",!1],tba:["minNumSessionHistory",5],Ymc:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],w$:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],ZVb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],Xma:["addHeaderDataToNetworkMonitor",!0],uCa:["startMonitorOnLoadStart",!1],BAa:["reportFailedRequestsToNetworkMonitor",!1],vca:["periodicHistoryPersistMs",0],Mda:["saveVideoBitrateMs",0],mZ:["needMinimumNetworkConfidence",!0],Xna:["biasTowardHistoricalThroughput",!1],l_b:["logMemoryUsage",!1],Uv:["probeServerWhenError",!0],mA:["allowSwitchback",!0],MQ:["probeDetailDenominator",100],Uaa:["maxDelayToReportFailure",300],sN:["allowParallelStreaming",!1],eqc:["mediaPrefetchDisabled",!1],rbb:["minBufferLevelToAllowPrefetch",5E3],hR:["seamlessAudio",!1],vrc:["seamlessAudioProfiles",[]],wrc:["seamlessAudioProfilesAndTitles",{}],kBa:["seamlessAudioMaximumSyncError",void 0],lBa:["seamlessAudioMinimumSyncError",void 0],K8a:["insertSilentFrames",0],bva:["insertSilentFramesOnSeek",!1],L8a:["insertSilentFramesOnSeekForTitles",[]],rXb:["insertSilentFramesOnSeekCount",3],Boc:["forceDiscontinuityAtTransition",!0],TCa:["supportAudioResetOnDiscontinuity",void 0],Dcc:["supportAudioEasingOnDiscontinuity",void 0],kNb:["editCompleteFragments",!0],r1b:["minimumAudioFramesPerFragment",1],MH:["applyProfileTimestampOffset",!1],jm:["applyProfileStreamingOffset",!0],Teb:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}}}],aEb:["audioProfilesNonSyncSamples",["xheaac-dash"]],gec:["truncateEndOfStreamAudio",!1],vfc:["useDpiAssumedAacEncoderDelay",!0],aZ:["mediaSourceSupportsNegativePts",!1],eQ:["minAudioPtsGap",void 0],ZDb:["audioOverlapGuardSampleCount",2],S2a:["enableRecordJSBridgePerf",!1],Iha:["JSBridgeTDigestConfig",{maxc:25,c:.5}],mdc:["throughputThresholdSelectorParam",0],qfc:["upswitchDuringBufferingFactor",2],XCb:["allowUpswitchDuringBuffering",!1],e0a:["contentOverrides",void 0],Gpa:["contentProfileOverrides",void 0],rua:["hindsightDenominator",0],qua:["hindsightDebugDenominator",0],y$:["hindsightAlgorithmsEnabled",[]],z$:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],gYa:["appendMediaRequestOnComplete",!1],wfa:["waitForDrmToAppendMedia",!1],ogc:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],e9:["forceAppendHeadersAfterDrm",!1],eqa:["declareBufferingCompleteAtSegmentEnd",!1],gy:["maxActiveRequestsPerSession",void 0],nwa:["limitAudioDiscountByMaxAudioBitrate",!1],tna:["appendFirstHeaderOnComplete",!0],p0:["strictBufferCapacityCheck",!1],yN:["aseReportDenominator",0],S6:["aseReportIntervalMs",3E5],rDa:["translateToVp9Draft",!1],xAa:["reorderTrakMvex",!1],IR:["switchableAudioProfiles",[]],bEb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],Ojb:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],cEb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],Tab:["maxStartingVideoVMAF",110],Jv:["minStartingVideoVMAF",1],iV:["activateSelectStartingVMAF",!1],Uda:["selectStartingVMAFTDigest",-1],jR:["selectStartingVMAFMethod","fallback"],mhb:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],BQ:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],uMb:["disablePtsStartsEvent",!0],jAa:["recordFirstFragmentOnSubBranchCreate",!0],$ab:["mediaCacheConvertToBinaryData",!1],lxa:["mediaCacheSaveOneObject",!1],uab:["markRequestActiveOnFirstByte",!1],uea:["stopOnAllInactiveRequests",!1],D2a:["enableActiveRequestsInFilters",!1],v8:["earlyAppendSingleChildBranch",!0],ZR:["useNativeDataViewMethods",!0],ufc:["useCorrectDrainingAmounts",!0],A8:["enableNewAse",!1],kfa:["useNewApi",!1],rDb:["aseDiagnostics",[{re:"queue-audit",enabled:!0},{re:"task-audit",enabled:!0},{re:"trace-ShimSession",enabled:!0},{re:"trace-engine",enabled:!0},{re:"trace-RequestPacer",enabled:!0},{re:"trace-BufferStateTracker",enabled:!0},{re:"trace-GraphStreamingProcess",enabled:!0},{re:"trace-AsePlaygraph",enabled:!0},{re:"playgraph-branch-audit",enabled:!0},{re:"content-playgraph",enabled:!0},{re:"trace-CphAsePlaygraph",enabled:!0},{re:"trace-GraphLocation",enabled:!0},{re:"cache-ads::gls",enabled:!0},{re:"cache-content::gls",enabled:!0}]],CNb:["enableAseReporting",!0],NEb:["branchDistanceThreshold",6E4],Saa:["maxAllowedOutstandingRequests",4],Cxa:["minStreamableConcurrencyWindow",3E3],t0b:["maxStreamableConcurrencyWindow",Infinity],ICa:["streamableConcurrencyFactor",.3],MV:["bufferingConcurrencyWindow",7800],aoa:["branchCreationThreshold",12E4],y8:["enableDiscontiguousBuffering",!1],Zra:["forceImmediateTransitionTypeForTitles",[]],Yra:["forceImmediateTransitionExitZone",0],Hpa:["contiguousBufferMultiplier",3],j0a:["contiguousBufferMinimumAudio",1048576],l0a:["contiguousBufferMinimumVideo",8388608],k0a:["contiguousBufferMinimumText",0],Z5b:["prefetchBudgetInBytes",0],Cfb:["rebufferRiskHalfLife",1E4],ifa:["useBufferSizeLimiter",!1],Dfc:["useStaticBufferSizeLimiter",!1],b6b:["prefetchWeightBudget",32],Fxa:["minimumDownstreamBranchProbability",.075],VDa:["useExitZones",!0],c6b:["prefetchWhilePlaying",!0],h6b:["prefetcherSoftReset",!0],C5b:["playgraphDefaultWeight",65520],OLb:["delayNotificationOfEoS",!1],M0b:["memDeadlockShouldCheckMemory",!0],L0b:["memDeadlockOverageThreshold",.9],K0b:["memDeadlockMaxUtilizationPercentage",.5],y5b:["playerPtsPadding",1],mqc:["minFragmentVmaf",void 0],JW:["enableCombinedPlaygraphs",!0],tI:["enableAdPlaygraphs",!0],R2a:["enablePrerollForInitialSeek",!1],S1a:["disablePrerollOn43Seek",!0],XDa:["useLegacyFragmentRounding",!1],nra:["excludedContentPlaygraphIds",[]],h7a:["graphSelectorSetAudioRate",!1],gOb:["enableVmafEstimationFromBitrate",!1],u0b:["maxVMAFMappingBitrate",16E3],v0b:["maxVMAFMappingVMAF",110],cGb:["cdndldistEnabled",!1],kC:["segmentFadeDuration",400],Pda:["segmentFadeInDuration",-1],Qda:["segmentFadeOutDuration",-1],XP:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],Ada:["retainSbrOnFade",!1],J8a:["insertSilentFrameOnFade",!0],R3b:["optimizeEditedFragments",!1],WCa:["supportsPtsChanged",!0],ANb:["enableAdLruCaches",!1],wYa:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}]};b.zh=b.HHb;},function(r,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.xz=b.BG=b.Fw=b.RP=b.Lja=void 0;c=a(0);g=a(86);Object.defineProperties(b,{BG:{enumerable:!0,get:function(){return g.BG;}}});Object.defineProperties(b,{xz:{enumerable:!0,get:function(){return g.xz;}}});Object.defineProperties(b,{RP:{enumerable:!0,get:function(){return g.RP;}}});Object.defineProperties(b,{Lja:{enumerable:!0,get:function(){return g.Lja;}}});k=c.__importDefault(a(4));r=(function(m){function f(d,l,n,h,p){return m.call(this,f.console,d,l,n,h,p) || this;}c.__extends(f,m);Object.defineProperties(f,{console:{get:function(){return this.H || (this.H=new k.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return f;})(g.Fw);b.Fw=r;},function(r,b,a){var g,k,m,f;function c(d){return k.zf.call(this,d,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bKa=void 0;r=a(0);g=a(1);k=a(45);m=a(33);a=a(44);ja(c,k.zf);Ua.Object.defineProperties(c.prototype,{peb:{configurable:!0,enumerable:!0,get:function(){return !0;}},ky:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},JB:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},V7a:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},Jv:{configurable:!0,enumerable:!0,get:function(){return 80;}},ona:{configurable:!0,enumerable:!0,get:function(){return !1;}}});f=c;r.__decorate([a.config(a.Ed,"playsInline")],f.prototype,"peb",null);r.__decorate([a.config(a.TE,"minAudioMediaRequestDuration")],f.prototype,"ky",null);r.__decorate([a.config(a.TE,"minVideoMediaRequestDuration")],f.prototype,"JB",null);r.__decorate([a.config(a.TE,"hlsVideoMediaRequestTargetDuration")],f.prototype,"V7a",null);r.__decorate([a.config(a.TE,"minStartingVideoVMAF")],f.prototype,"Jv",null);r.__decorate([a.config(a.Ed,"allowMultipleAudioTextTracks")],f.prototype,"ona",null);f=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.Qm))],f);b.bKa=f;},function(r,b,a){var g,k;function c(m){this.ya=m.hb("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.IGa=void 0;r=a(0);g=a(1);a=a(7);c.prototype.LRb=function(m){var d,l,n,h,p,q,t;function f(v,w,u){var x,y,z;x=v.map(function(A){return A.Qf;});x.sort(function(A,B){return w[A] - w[B];});if(1 === x.length)(!1,n.set(u,{LQ:v[0],Nda:v[0]}));else {y=x.find(function(A){return d.has(A);});y || ((y=x.find(function(A){return !l.has(A);}))?d.add(y):(y=x[0],!1));z=x.find(function(A){return l.has(A) && A !== y;});z || ((z=x.find(function(A){return !d.has(A) && A !== y;}))?l.add(z):(z=x.find(function(A){return A !== y;}),!1));n.set(u,{LQ:v.find(function(A){return A.Qf === y;}),Nda:v.find(function(A){return A.Qf === z;})});}}d=new Set();l=new Set();n=new Map();h=m.video;p=m.audio;q=m.text;t=m.Yl.reduce(function(v,w){v[w.id]=w.ec;return v;},{});h.forEach(function(v){v=v.stream;f(v.urls,t,v.zo);});p.forEach(function(v){v=v.stream;f(v.urls,t,v.zo);});q.forEach(function(v){var w,u;if(!v.track.WE || v.track.eaa){w=v.stream;v=v.id;u=w.urls.reduce(function(x,y,z){x[y.Qf]=z + 1;return x;},{});f(w.urls,u,v);}});return n;};k=c;k=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.mb))],k);b.IGa=k;},function(r,b,a){var g,k,m,f,d,l,n;function c(h,p,q,t,v){this.jg=h;this.yB=p;this.Eg=q;this.Gc=t;this.Fa=v;}Object.defineProperty(b,"__esModule",{value:!0});b.fT=void 0;r=a(0);g=a(1);k=a(18);m=a(7);f=a(50);d=a(199);l=a(84);n=a(1182);c.prototype.create=function(h){return new n.hT(this.jg,this.yB,this.Eg,this.Fa,this.Gc,h);};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.mb)),r.__param(1,(0,g.l)(l.qz)),r.__param(2,(0,g.l)(f.ao)),r.__param(3,(0,g.l)(d.Wha)),r.__param(4,(0,g.l)(k.cd))],a);b.fT=a;},function(r,b,a){var g,k,m,f,d,l,n;function c(h,p,q,t,v,w){var u;u=this;this.yB=p;this.Eg=q;this.Fa=t;this.Gc=v;this.xxa=this.UE=this.z_=0;this.mJ=!1;this.hF=function(){var x;x=u.SZ();x.prstate=u.dB();x.paustate=u.j.qY();x.midplayseq=u.xxa++;u.Gc.sP(x);u.Jc(g.dd.hF,void 0,n.We | n.ru,x);};this.Vi=function(){u.Jc(g.dd.eZa,void 0,n.We | n.Aq,{});};this.Hm=function(x){u.ewa=u.getTime();u.fwa=x.oldValue;};this.zV=function(x){u.Sva=x.oldValue;};this.sca=function(x){x != u.mJ && (u.yCa(u.mJ,x),u.mJ=x);};this.yCa=function(x,y){var z;z=u.j.Aa;x={newstate:y?"Paused":"Playing",oldstate:x?"Paused":"Playing"};u.Gc.xr(x,z.Ge.value && z.Ge.value.stream,z.Xf.value && z.Xf.value.stream);u.Jc(g.dd.cjb,void 0,n.We,x);};this.h0=function(x){u.Jc(g.dd.Qib,void 0,n.We,{speedold:Math.floor(1E3 * x.oldValue),speed:Math.floor(1E3 * x.newValue)});};this.wC=function(x){var y,z,A;y=u.j.Aa;z=y.Tb.value;if(x.newValue || z && z.Cr() && !z.aq()){A=(x=null !== (A=x.newValue) && void 0 !== A?A:z)?{trackId:x.trackId,bcp47:x.Ef,downloadableId:x.Vb,rank:x.ec,isImageBased:x.Hl}:{};x=(x=u.fwa)?{trackId:x.trackId,bcp47:x.Ef,downloadableId:x.Vb,rank:x.ec,isImageBased:x.Hl}:{};A={switchdelay:(0,k.Ag)(u.getTime() - u.ewa),track:A,oldtrack:x};u.Gc.xr(A,y.Ge.value && y.Ge.value.stream,y.Xf.value && y.Xf.value.stream);u.Jc(g.dd.okb,void 0,n.We,A);}};this.gza=function(x,y){var z;z=u.j.Aa;x={waittime:(0,k.Ag)(x),abortedevent:"resumeplay",resumeplayreason:y};u.Gc.xr(x,z.xf.value,z.Vh.value);u.Jc(g.dd.Cca,void 0,n.We | n.Aq,x);};this.dR=function(x,y,z){x={playdelay:(0,k.Ag)(x),reason:z,intrplayseq:u.UE - 1,skipped:y};"repos" === z && (x.prstate=!0 === u.j.qk.value?"playing":"paused");u.Jc(g.dd.dR,void 0,n.We | n.qu,x);};this.Kna=function(){var x,y,z,A;y=u.j.Aa.Ec.value;z=u.j.Aa.Vh.value.Vb;y=y?{trackId:y.trackId,bcp47:y.Ef,downloadableId:z,rank:y.ec,chan:y.channels}:{};z=u.tB;A=null === (x=u.Sva) || void 0 === x?void 0:x.Vb;x=z?{trackId:z.trackId,bcp47:z.Ef,downloadableId:A,rank:z.ec,chan:z.channels}:{};u.Jc(g.dd.IYa,void 0,n.We,{switchdelay:(0,k.Ag)(u.getTime() - u.Tva),track:y,oldtrack:x});};this.cn=function(x){u.Tva=u.getTime();u.tB=x.oldValue;};this.hza=function(){var x,y,z;x=u.j.Aa;y={abortedevent:"startplay",trackid:x.ml,prstate:u.dB(),paustate:u.j.qY()};try{z=(0,m.SI)();z && (y.pdltime=z);(0,k.Fe)(y,x.wd,{prefix:"sm_"});}catch(A){}u.Gc.I$(y,x);u.Gc.tP(y,!1,x.Lh.value,x);u.Gc.xr(y,x.xf.value,x.Vh.value);u.aJ(y);u.Jc(g.dd.Cca,void 0,n.We | n.ru | n.Aq,y);};this.SN=function(x,y,z,A){x={moff:(0,k.tn)(z),moffms:(0,k.Ag)(z),vbitrate:y.bitrate,vbitrateold:x.bitrate,vdlid:y.Vb,vdlidold:x.Vb,vheight:y.height,vheightold:x.height,vwidth:y.width,vwidthold:x.width,bw:A};u.Jc(g.dd.SN,void 0,0,x);};this.YQ=function(x,y,z){x={moffold:(0,k.tn)(x),reposseq:u.z_++,prstate:u.dB(),paustate:u.j.qY()};u.Gc.xr(x,z && z.stream,y && y.stream);u.Jc(g.dd.YQ,void 0,n.We,x);};this.OF=function(x){var y,z,A,B,C;B=x.Aa;C={playdelaysdk:(0,k.Ag)(u.j.OV()),applicationPlaydelay:(0,k.Ag)(u.j.woa()),playdelay:(0,k.Ag)(u.j.zoa()),trackid:B.ml,bookmark:(0,k.Ag)(B.cr || 0),pbnum:B.index};u.j.Vi && (C.blocked=u.j.Vi);C.initvbitrate=u.j.fY;u.Gc.Jua(C);u.Gc.j8a(C);C.esnSource=null === (y=mb._cad_global.device) || void 0 === y?void 0:y.G8;u.q8a(C,B);C.pdltime=(0,m.SI)();(0,k.Fe)(C,B.wd,{prefix:"sm_"});C.ttTrackFields=null === (z=B.Tb.value) || void 0 === z?void 0:z.Dh;u.Gc.g8a(C,B.Ec.value,B);u.Gc.tP(C,!0,B.Lh.value,B);C.packageId=null === (A=B.fa) || void 0 === A?void 0:A.$a.Wo;u.Gc.sP(C);u.Gc.I$(C,B);u.aJ(C);u.Jc(g.dd.OF,x.$i,n.We | n.qu | n.ru | n.lG | n.Aq,C);};this.uI=function(){var x,y,z;x=u.j;y=x.Aa;x=x.$i;z=u.SZ();z.paustate=!u.j.Dr();z.muted=u.j.tva();z.endreason=x?"error":u.j.jva()?"ended":"stopped";u.Gc.tP(z,!1,y.Lh.value,y);u.Gc.sP(z);u.aJ(z);u.Jc(g.dd.uI,x,n.We | n.qu | n.ru | n.lG | n.Aq,z);};this.vAa=function(x,y,z){var A;A=u.j.Aa.Xf;x={moff:(0,k.tn)(z),moffms:(0,k.Ag)(z),vdlidold:x.Vb,vbitrateold:x.bitrate};u.Gc.xr(x,y,A.value && A.value.stream);u.Jc(g.dd.fgb,void 0,0,x);};this.dB=function(){var x;x=u.j.Eb.value;return x === d.qb.Wc?"playing":x === d.qb.Oi?"paused":x === d.qb.js?"ended":"waiting";};this.ya=h.hb("LogblobBuilderImpl");this.j=w;}Object.defineProperty(b,"__esModule",{value:!0});b.hT=void 0;g=a(278);k=a(25);m=a(40);f=a(3);d=a(16);l=a(5);c.prototype.getTime=function(){return this.Fa.Rb().ja(l.sa);};c.prototype.Cta=function(){return this.getTime() - this.j.Aa.Ij.ja(l.sa);};c.prototype.q8a=function(h,p){var q;if(p=null === (q=p.Lh.value) || void 0 === q?void 0:q.streams)(h.maxbitrate=(0,m.qS)(p.map(function(t){return t.bitrate;})),h.maxresheight=(0,m.qS)(p.map(function(t){return t.height;})));};c.prototype.aJ=function(h){h.cachedManifest="notcached";h.cachedLicense="notcached";h.usedldl="false";};c.prototype.SZ=function(){var h,p,q,t;h=this.j.Aa;p=h.Am;q={totaltime:(0,k.tn)(p.$s()),totalcontenttime:(0,k.tn)(p.MX()),reposcount:this.z_,intrplaycount:this.UE};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});t=h.xf.value;t && (q.videofr=t.framerate.toFixed(3));(t=p.ssa()) && (q.abrdel=t);(t=p.t$() && p.K4a()) && (q.tw_vmaf=t);(p=p.I4a()) && (0,k.Fe)(q,p);q.rbfrs=this.UE;this.q8a(q,h);return q;};c.prototype.Jc=function(h,p,q,t){var v,w,u;v=this;p && (0,f.cha)(null === p || void 0 === p?void 0:p.errorCode,null === p || void 0 === p?void 0:p.za,this.Cta(),void 0) && (w="info");u=this.j.Aa;this.Tma(t,p,q);p=w || (p?"error":"info");t=this.yB.Qu(h,p,t,u);this.Eg.Jc(t);"error" !== p && h !== g.dd.uI || this.Eg.flush(!1).catch(function(){v.ya.debug("Failed to flush the logblobs");});};c.prototype.Tma=function(h,p,q){var t;t=this.j.Aa;this.Gc.H$(h,t);q & n.We && this.Gc.m8a(h,t,!1);q & n.qu && this.Gc.o8a(h,t);q & n.ru && this.Gc.p8a(h,this.j.Ho());p && q & n.lG && this.Gc.k8a(h,t,p);q & n.Aq && this.Gc.Jua(h);};b.hT=c;(function(h){h[h.We=1]="MOFF";h[h.qu=2]="PRESENTEDSTREAMS";h[h.ru=4]="SCREEN";h[h.lG=8]="FATALERROR";h[h.Aq=16]="BROWSERINFO";})(n || (n={}));},function(r,b,a){var g,k,m,f,d,l,n;function c(h,p,q,t,v){this.Eg=h;this.config=p;this.Ba=q;this.Fa=t;this.Dwa=v;}Object.defineProperty(b,"__esModule",{value:!0});b.iT=void 0;r=a(0);g=a(1);k=a(18);m=a(29);f=a(12);d=a(50);l=a(480);n=a(1184);c.prototype.create=function(h){return new n.kT(h,this.Eg,this.config,this.Fa,this.Dwa.create(h));};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(d.ao)),r.__param(1,(0,g.l)(f.Lc)),r.__param(2,(0,g.l)(m.Nh)),r.__param(3,(0,g.l)(k.cd)),r.__param(4,(0,g.l)(l.gT))],a);b.iT=a;},function(r,b,a){var g,k,m;function c(f,d,l,n,h){var p;p=this;this.j=f;this.Eg=d;this.config=l;this.Fa=n;this.rb=h;this.RV=function(){p.ih();p.j.Aa.tj.removeListener(p.wC);p.j.Aa.Tb.removeListener(p.rb.Hm);p.j.Aa.Ec.removeListener(p.cn);p.j.Aa.Vh.removeListener(p.rb.zV);p.j.qk.removeListener(p.oeb);p.j.ZQ.removeListener(p.cl);p.j.Aa.Ge.removeListener(p.c_);p.j.Eb.removeListener(p.yx);p.j.Eb.removeListener(p.QN);p.j.Aa.xf.removeListener(p.g1);p.j.Aa.playbackRate.removeListener(p.rb.h0);p.j.removeEventListener(m.Na.closed,p.RV);p.j.removeEventListener(m.Na.e7,p.rb.Vi);};this.QN=function(){p.j.Eb.value === m.qb.Wc && (p.j.Eb.removeListener(p.QN),p.Ov());};this.wC=function(q){p.Kr && p.rb.wC(q);};this.cl=function(q){p.Kr && void 0 !== q.newValue && (p.Nt && p.xq && p.rb.gza(p.getTime() - p.xq,p.Nt),p.Nt="repos",p.rb.YQ(q.newValue,p.j.Aa.Xf.value,p.j.Aa.Ge.value),p.xq=p.getTime(),(0,k.yg)(p.yx));};this.oeb=function(q){p.Kr && p.rb.sca(!q.newValue);};this.cn=function(q){q.oldValue && (p.tB=q.oldValue,p.rb.cn(q),p.Nt="repos",p.xq=p.getTime(),(0,k.yg)(p.yx));};this.yx=function(){var q;if(p.xq && p.j.Eb.value !== m.qb.pg){q=p.getTime() - p.xq;p.rb.dR(q,!1,p.Nt);p.tB && p.tB != p.j.Aa.Ec.value && p.rb.Kna();p.xq=void 0;p.Nt=void 0;}};this.Ov=function(){p.Kr || (p.Kr=!0,p.rb.OF(p.j),p.Sua(),p.config().P$ && (p.qB=mb.setTimeout(function(){p.Eg.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.qB=void 0;},p.config().P$)));};this.ih=function(){p.qB && (mb.clearTimeout(p.qB),p.qB=void 0);p.S0 && p.S0();p.Kr?p.rb.uI():p.j.$i?p.rb.OF(p.j):p.rb.hza();};this.g1=function(q){q.oldValue && q.Qk && q.Qk.YH && p.rb.SN(q.oldValue,q.newValue,q.Qk.YH,q.Qk.GV);};this.c_=function(q){var t;if(q.newValue){t=q.newValue.stream;p.nJ != t && (p.nJ && t && p.rb.vAa(p.nJ,t,q.newValue.gn.startTime),p.nJ=t);}};this.pea();}Object.defineProperty(b,"__esModule",{value:!0});b.kT=void 0;g=a(5);k=a(58);m=a(16);c.prototype.pea=function(){this.j.addEventListener(m.Na.closed,this.RV);this.j.addEventListener(m.Na.e7,this.rb.Vi);this.j.Aa.tj.addListener(this.wC);this.j.Aa.Tb.addListener(this.rb.Hm);this.j.Aa.Ec.addListener(this.cn);this.j.Aa.Vh.addListener(this.rb.zV);this.j.qk.addListener(this.oeb);this.j.ZQ.addListener(this.cl);this.j.Aa.Ge.addListener(this.c_);this.j.Eb.addListener(this.yx);this.j.Eb.addListener(this.QN);this.j.Aa.xf.addListener(this.g1);this.j.Aa.playbackRate.addListener(this.rb.h0);};c.prototype.getTime=function(){return this.Fa.Rb().ja(g.sa);};c.prototype.Sua=function(){var f,d,l;f=this;l=[];this.config().nbb && (this.config().obb.forEach(function(n){l.push(mb.setTimeout(f.rb.hF,n));}),this.config().lba && (d=mb.setInterval(this.rb.hF,this.config().lba)),this.S0=function(){l.forEach(function(n){mb.clearTimeout(n);});d && mb.clearInterval(d);});};b.kT=c;},function(r,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.UK=void 0;r=a(1);c=a(1186);g=a(1187);k=a(481);m=a(482);b.UK=new r.Cd(function(f){f(m.ySa).to(c.xSa);f(k.vSa).Im(new g.uSa());f(m.wSa).Te(function(d){return function(){return d.wb.get(m.ySa);};});});},function(r,b,a){var g,k,m,f;function c(d){this.config=d;this.lCa=k.Ha;this.vR=[];}Object.defineProperty(b,"__esModule",{value:!0});b.xSa=void 0;r=a(0);g=a(1);k=a(52);m=a(5);a=a(481);c.prototype.Jo=function(){var l;for(var d;0 < this.vR.length;){d=this.vR.shift();this.qXa(d);}d=void 0 === this.AW || void 0 === this.oI?m.Ha:this.oI.Da(this.AW);l=d.J9a()?0:this.lCa.ja(k.gG) / d.ja(m.sa);return {eDa:Math.floor(l),boc:d.ja(m.sa)};};c.prototype.VBb=function(d){this.lCa=this.lCa.add(d.size);this.vR.push(d.RMb);for(this.vR.sort(function(l,n){return l.start.lm(n.start);});this.vR.length > this.config.SMb;){d=this.vR.shift();this.qXa(d);}};c.prototype.qXa=function(d){void 0 === this.AW && (this.AW=d.start);void 0 !== this.oI && 0 > this.oI.lm(d.start) && (this.AW=this.AW.add(d.start.Da(this.oI)));if(void 0 === this.oI || 0 > this.oI.lm(d.end))this.oI=d.end;};f=c;f=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.vSa))],f);b.xSa=f;},function(r,b,a){function c(g){this.SMb=void 0 === g?10:g;}Object.defineProperty(b,"__esModule",{value:!0});b.uSa=void 0;r=a(0);a=a(1);c=r.__decorate([(0,a.aa)()],c);b.uSa=c;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D;Object.defineProperty(b,"__esModule",{value:!0});b.yo=void 0;r=a(1);c=a(26);g=a(12);k=a(1189);m=a(162);f=a(163);d=a(1190);l=a(279);n=a(1191);h=a(483);p=a(484);q=a(1192);t=a(13);v=a(489);w=a(1196);u=a(490);x=a(1197);y=a(283);z=a(1198);A=a(491);B=a(37);C=a(488);D=a(1199);b.yo=new r.Cd(function(E){E(f.KT).to(d.ORa).la();E(c.iz).to(k.EHa).la();E(l.cLa).to(n.bLa).la();E(p.EGa).to(q.DGa).la();E(l.kPa).Im({isTypeSupported:t.ZC && t.ZC.isTypeSupported});E(h.VIa).UF(function(G){return {qSb:function(){return G.wb.get(B.P3);}};});E(m.tL).UF(function(G){return G.wb.get(g.Lc);});E(v.DMa).to(w.AMa).la();E(C.zMa).to(D.yMa).la();E(u.CMa).to(x.BMa).la();E(y.gha).to(z.UIa).la();E(A.AQa).Im(mb);});},function(r,b,a){var g,k,m,f,d,l;function c(n,h,p){this.config=n;this.SZa=h;this.i5b=p;this.W6b=this.rKb();}Object.defineProperty(b,"__esModule",{value:!0});b.EHa=void 0;r=a(0);g=a(26);k=a(162);m=a(1);f=a(42);d=a(483);a=a(484);c.prototype.U6a=function(n){return this.F4a().V6a(n);};c.prototype.W6a=function(n){return this.nv().V6a(n);};c.prototype.F4a=function(){this.Gna && this.Gna.type == this.config().Hna || (this.Gna=this.SZa.AJb(this.config().Hna));return this.Gna;};c.prototype.nv=function(){this.pfa && this.pfa.type == this.config().qfa || (this.pfa=this.SZa.FKb(this.config().qfa),this.pfa.Vma(this.i5b.qSb()));return this.pfa;};c.prototype.CSb=function(n){var q;if(!n || !n.length)return g.Af.z2;n=this.TPb(n);for(var h=[g.Af.IT,g.Af.z2,g.Af.bM,g.Af.BL,g.Af.zw,g.Af.IC,g.Af.jD,g.Af.ol],p=h.length;p--;){q=h[p];if((0,this.W6b[q])(n))return q;}return g.Af.IT;};c.prototype.QK=function(n){return this.nv().QK(n);};c.prototype.WH=function(n){return this.nv().WH(n);};c.prototype.KI=function(){return this.nv().KI();};c.prototype.E9=function(){return this.nv().E9();};c.prototype.s0=function(){return this.nv().s0();};c.prototype.q0=function(){return this.F4a().q0();};c.prototype.Fea=function(){return this.nv().Fea();};c.prototype.t0=function(){return this.nv().t0();};c.prototype.oX=function(n){return this.nv().oX(n);};c.prototype.GX=function(){return this.nv().GX();};c.prototype.R9=function(){return this.nv().R9();};c.prototype.TPb=function(n){var h;h={};n.filter(function(p){return "video" === p.type;}).forEach(function(p){h[p.af]="";});return Object.keys(h);};c.prototype.rKb=function(){var n;n={};n[g.Af.ol]=function(h){return h.some(function(p){return -1 < p.indexOf("av1");});};n[g.Af.IC]=function(h){return h.some(function(p){return -1 < p.indexOf("hpl");});};n[g.Af.jD]=function(h){return h.some(function(p){return -1 < p.indexOf("vp9");});};n[g.Af.zw]=function(h){return h.some(function(p){return -1 < p.indexOf("hevc-dv");});};n[g.Af.BL]=function(h){return h.some(function(p){return -1 < p.indexOf("hevc-hdr");});};n[g.Af.bM]=function(h){return h.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};n[g.Af.z2]=(function(h,p){var q;q={};h.forEach(function(t){return q[t]=1;});h=ma(p);for(p=h.next();!p.done;p=h.next()){if(q[p.value])return !0;}return !1;}).bind(null,[f.I.nG]);n[g.Af.IT]=function(){return !0;};return n;};l=c;l=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(k.tL)),r.__param(1,(0,m.l)(a.EGa)),r.__param(2,(0,m.l)(d.VIa))],l);b.EHa=l;},function(r,b,a){var g,k,m,f,d,l,n,h;function c(p,q,t){this.yo=p;this.Cb=q;this.ujb=t;this.oBb="video/mp4;codecs={0}";this.bwb="audio/mp4;codecs={0}";p=this.yo.oX(k.Af.zw);this.nBb=f.Rd.U0a(p);}Object.defineProperty(b,"__esModule",{value:!0});b.ORa=void 0;r=a(0);k=a(26);m=a(1);f=a(123);d=a(27);l=a(218);n=a(485);h=a(17);c.prototype.Q7=function(p){p=this.yo.CSb(p);p=this.Cb.lI(p)?p:k.Af.IT;return this.ujb.format(this.oBb,this.nBb[p]);};c.prototype.K7=function(p){if(0 === p.length)return this.ujb.format(this.bwb,f.Rd.Ifa);p=n.GFa[p[0].af] || g.xEa;return p === g.xEa?h.v3:p === g.nnb?h.eMa:h.dMa;};a=g=c;a.xEa="AAC";a.nnb="XHEAAC";a=g=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(k.iz)),r.__param(1,(0,m.l)(d.Yg)),r.__param(2,(0,m.l)(l.Uja))],a);b.ORa=a;},function(r,b,a){var g,k,m,f,d;function c(l,n){this.config=l;this.zLb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.bLa=void 0;r=a(0);g=a(1);k=a(279);m=a(162);f=a(26);d=a(280);c.prototype.H0a=function(){switch(this.config().qfa){case f.Rm.wz:return d.XC.bKb();default:return this.zLb;}};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.tL)),r.__param(1,(0,g.l)(k.kPa))],a);b.bLa=a;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z;function c(A,B,C,D,E,G,F,I,L,M){this.F9a=A;this.config=B;this.Cc=C;this.Ba=D;this.is=E;this.hq=G;this.tt=F;this.platform=I;this.vc=L;this.HB=M;}Object.defineProperty(b,"__esModule",{value:!0});b.DGa=void 0;r=a(0);g=a(1);k=a(26);m=a(279);f=a(162);d=a(1193);l=a(1194);n=a(282);h=a(486);p=a(46);q=a(29);t=a(27);v=a(1195);w=a(98);u=a(7);x=a(47);y=a(31);a=a(488);c.prototype.AJb=function(A){var B;B=this.F9a.H0a();switch(A){case k.ww.wz:return new d.cNa(this.config,B,this.is,this.platform,this.HB);default:return new h.j2(this.config,B,this.HB);}};c.prototype.FKb=function(A){var B;B=this.F9a.H0a();switch(A){case k.Rm.rL:A=new v.LGa(this.config,B,this.is,this.hq,this.tt,this.Ba,this.HB);break;case k.Rm.wz:A=new l.iMa(this.config,B,this.is,this.Cc,this.Ba,this.tt,this.vc,this.HB,this.hq);break;default:A=new n.OC(this.config,B,this.is,this.HB);}return A;};z=c;z=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.cLa)),r.__param(1,(0,g.l)(f.tL)),r.__param(2,(0,g.l)(p.Sj)),r.__param(3,(0,g.l)(q.Nh)),r.__param(4,(0,g.l)(t.Yg)),r.__param(5,(0,g.l)(w.vz)),r.__param(6,(0,g.l)(u.mb)),r.__param(7,(0,g.l)(x.Eq)),r.__param(8,(0,g.l)(y.Li)),r.__param(9,(0,g.l)(a.zMa))],z);b.DGa=z;},function(r,b,a){var g,k,m,f,d;function c(l,n,h,p,q){l=f.j2.call(this,l,n,q) || this;l.is=h;l.platform=p;l.type=g.ww.wz;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.cNa=void 0;g=a(26);k=a(42);m=a(95);f=a(486);d=a(280);ja(c,f.j2);c.prototype.q0=function(){return Promise.resolve(this.config().wO && this.wA(m.Bb.Cz,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.Ns=function(){var l,n;l={};l=(l[k.ae.oG]="mp4a.40.2",l[k.ae.pG]="mp4a.40.2",l);if("browser" === this.platform.tqa){n={};return Object.assign(Object.assign({},l),(n[k.ae.JS]=this.config().wO?{Xd:"avc1",keySystem:m.Bb.Cz,features:["audio-endpoint-codec=DD+JOC"]}:void 0,n[k.ae.KS]=this.config().wO?{Xd:"avc1",keySystem:m.Bb.Cz,features:["audio-endpoint-codec=DD+JOC"]}:void 0,n[k.ae.R2]=void 0,n[k.ae.Iz]=void 0,n[k.ae.U1]=void 0,n));}n={};return Object.assign(Object.assign({},l),(n[k.ae.JS]=this.config().G2a?"ec-3":void 0,n[k.ae.U1]=this.config().F2a?"ec-3":void 0,n[k.ae.KS]=this.config().wO?{Xd:"avc1",keySystem:m.Bb.Cz,features:["audio-endpoint-codec=DD+JOC"]}:void 0,n[k.ae.R2]=void 0,n[k.ae.Iz]=void 0,n));};c.prototype.xra=function(l){var n,h,p;l=this.i_[l];n=[];h=m.Bb.Cz;if(l){if(this.is.Du(l))p=l;else (n=l.features,p=l.Xd,h=l.keySystem);return this.wA(h,p,n)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};c.prototype.wA=function(l,n,h){l=d.XC.M7(l,n,h);return this.WH(l);};b.cNa=c;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D;function c(E,G,F,I,L,M,K,O,H){E=k.OC.call(this,E,G,F,O) || this;E.Cc=I;E.Ba=L;E.tt=M;E.vc=K;E.HB=O;E.hq=H;E.type=m.Rm.wz;E.ES="hvc1";E.Cob="avc1";E.Ydb={};E.log=E.tt.hb("MicrosoftVideoCapabilityDetector");E.Mbc();E.r0 && E.config().T0b?E.p2a=E.TJb():(E.p2a=Promise.resolve(""),E.config().V0b?E.YJb():E.config().U0b && E.XJb());return E;}Object.defineProperty(b,"__esModule",{value:!0});b.iMa=void 0;g=a(42);k=a(282);m=a(26);r=a(125);f=a(95);d=a(5);l=a(349);n=a(123);h=a(280);p=a(48);q=a(172);t=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");v=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];C=new r.PG();D=new l.nga();ja(c,k.OC);c.prototype.oX=function(E){return E === m.Af.zw && this.config().wfc?n.Rd.oha:k.OC.prototype.oX.call(this,E);};c.prototype.QK=function(E){switch(E){case m.Cq.t3:return this.Ijb();case m.Cq.vG:return this.k_;default:return Promise.resolve(!1);}};c.prototype.KI=function(){var G;function E(){return G.r0?G.rWb?G.Ijb().then(function(F){return Promise.resolve(F?f.Bb.je:f.Bb.IG);}):Promise.resolve(f.Bb.IG):G.Jcc?Promise.resolve(f.Bb.IG):Promise.resolve(f.Bb.Cz);}G=this;this.keySystem || (this.keySystem=this.config().bu?this.hq.CE().then(function(F){return F.keySystem;}):E());return this.keySystem;};c.prototype.E9=function(){return this.p2a;};c.prototype.s0=function(){return Promise.resolve({result:this.Hjb(),reason:"is-type-supported"});};c.prototype.t0=function(){return this.r0 && this.Kjb()?this.k_:Promise.resolve(!1);};c.prototype.Fea=function(){return Promise.resolve(this.Gjb()).then(function(E){return {result:E,reason:"isTypeSupportedWithFeatures"};});};c.prototype.Vma=function(E){this.Jr=E;Object.assign(this.Jr,this.Ydb);E.itshwdrm=this.r0;E.itsqhd=this.Jjb();E.itshevc=this.Kjb();E.itshdr=this.Hjb();E.itsdv=this.Gjb();E.itsav1=this.Gcc();this.NDa();};c.prototype.mV=function(E,G){(this.Jr?this.Jr:this.Ydb)[E]=G;};c.prototype.GX=function(){var E;E=this;return this.QK(m.Cq.vG).then(function(G){return G?E.L7(m.Cq.vG):E.QK(m.Cq.t3).then(function(F){return F?E.L7(m.Cq.t3):E.L7(void 0);});});};c.prototype.R9=function(){return this.config().bu?Promise.resolve(void 0):this.KI().then(function(E){return E === f.Bb.je?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.xra=function(E){var G;G=this;return this.KI().then(function(F){var I,L,M;I=G.i_[E];if(I){L=[];if(G.is.Du(I))M=I;else (L=I.features,M=I.Xd,F=I.keySystem);return G.wA(F,M,L)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.Ns=function(){var E;E=k.OC.prototype.Ns.call(this);E[g.I.v4]=E[g.I.u4]=E[g.I.t4]=E[g.I.fka]={Xd:"vp09.00.11.08.02",keySystem:f.Bb.je,features:t};E[g.I.V2]=E[g.I.U2]=E[g.I.T2]={Xd:"hev1.2.6.L90.B0",keySystem:f.Bb.je,features:v};E[g.I.Y2]=E[g.I.X2]=E[g.I.W2]={Xd:"hev1.2.6.L93.B0",keySystem:f.Bb.je,features:v};E[g.I.b3]=E[g.I.a3]=E[g.I.Z2]={Xd:"hev1.2.6.L120.B0",keySystem:f.Bb.je,features:v};E[g.I.e3]=E[g.I.d3]=E[g.I.c3]={Xd:"hev1.2.6.L123.B0",keySystem:f.Bb.je,features:v};E[g.I.g3]=E[g.I.TS]=E[g.I.f3]={Xd:"hev1.2.6.L150.B0",keySystem:f.Bb.je,features:v};E[g.I.i3]=E[g.I.US]=E[g.I.h3]={Xd:"hev1.2.6.L153.B0",keySystem:f.Bb.je,features:v};E[g.I.C2]=E[g.I.B2]=E[g.I.A2]={Xd:"hev1.2.6.L90.B0",keySystem:f.Bb.je,features:u};E[g.I.F2]=E[g.I.E2]=E[g.I.D2]={Xd:"hev1.2.6.L93.B0",keySystem:f.Bb.je,features:u};E[g.I.H2]=E[g.I.SS]=E[g.I.G2]={Xd:"hev1.2.6.L120.B0",keySystem:f.Bb.je,features:u};E[g.I.K2]=E[g.I.J2]=E[g.I.I2]={Xd:"hev1.2.6.L123.B0",keySystem:f.Bb.je,features:x};E[g.I.N2]=E[g.I.M2]=E[g.I.L2]={Xd:"hev1.2.6.L150.B0",keySystem:f.Bb.je,features:x};E[g.I.Q2]=E[g.I.P2]=E[g.I.O2]={Xd:"hev1.2.6.L153.B0",keySystem:f.Bb.je,features:x};E[g.I.X1]=E[g.I.W1]={Xd:"hev1.2.6.L90.B0",keySystem:f.Bb.je,features:y};E[g.I.Z1]=E[g.I.Y1]={Xd:"hev1.2.6.L93.B0",keySystem:f.Bb.je,features:y};E[g.I.a2]=E[g.I.Nga]=E[g.I.LS]={Xd:"hev1.2.6.L120.B0",keySystem:f.Bb.je,features:y};E[g.I.c2]=E[g.I.Oga]=E[g.I.b2]={Xd:"hev1.2.6.L123.B0",keySystem:f.Bb.je,features:z};E[g.I.e2]=E[g.I.Pga]=E[g.I.d2]={Xd:"hev1.2.6.L150.B0",keySystem:f.Bb.je,features:z};E[g.I.g2]=E[g.I.Qga]=E[g.I.f2]={Xd:"hev1.2.6.L153.B0",keySystem:f.Bb.je,features:z};E[g.I.GC]={Xd:"av01.0.04M.10",keySystem:f.Bb.je,features:t};E[g.I.HC]={Xd:"av01.0.05M.10",keySystem:f.Bb.je,features:t};E[g.I.x1]={Xd:"av01.0.08M.10",keySystem:f.Bb.je,features:t};E[g.I.y1]={Xd:"av01.0.09M.10",keySystem:f.Bb.je,features:t};E[g.I.z1]={Xd:"av01.0.12M.10",keySystem:f.Bb.je,features:w};E[g.I.A1]={Xd:"av01.0.13M.10",keySystem:f.Bb.je,features:w};return E;};c.prototype.wA=function(E,G,F){E=h.XC.M7(E,G,F);return this.WH(E);};c.prototype.Jjb=function(){return this.wA(f.Bb.je,this.ES,v);};c.prototype.Hjb=function(){return this.wA(f.Bb.je,this.ES,u);};c.prototype.Gjb=function(){return this.wA(f.Bb.je,this.ES,y);};c.prototype.Gcc=function(){return this.wA(f.Bb.je,n.Rd.ol,t);};c.prototype.Kjb=function(){return this.wA(f.Bb.je,this.ES,w);};c.prototype.Ijb=function(){var E;E=this;return this.k_.then(function(G){return G?Promise.resolve(G):E.Veb;});};c.prototype.NDa=function(){this.Jr && (this.Jr.itshdcp=JSON.stringify({hdcp1:this.F7a,time1:this.dkb - this.Xib,hdcp2:this.G7a,time2:this.ekb - this.Yib}));};c.prototype.Mbc=function(){var E;E=this;this.r0?(this.k_=this.z6a(this.config().mbb,this.config().X0b,function(){var G;G=E.ASb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;}),this.Veb=this.k_.then(function(G){return G?!0:E.z6a(E.config().mbb,E.config().W0b,function(){var F;F=E.zSb();return ["maybe" !== F,F];}).then(function(F){return "probably" === F;});})):(this.Veb=Promise.resolve(!0),this.k_=Promise.resolve(!1));};c.prototype.z6a=function(E,G,F){var I;I=this;return new Promise(function(L){var M,K,O,H;M=ma(F());K=M.next().value;M=M.next().value;if(K)return L(M);O=I.Cc.M_((0,d.xc)(E),function(){var J,R;J=ma(F());R=J.next().value;J=J.next().value;R && (O.cancel(),H.cancel(),L(J));});H=I.Cc.Lj((0,d.xc)(G),function(){O.cancel();H.cancel();L("timeout");});});};c.prototype.zSb=function(){var E;E=h.XC.M7(f.Bb.IG,this.Cob,A).split("|");this.F7a=h.XC.UCa(E[0],E[1]);this.dkb=this.Ba.Hf.ja(d.sa);this.Xib=this.Xib || this.dkb;this.NDa();return this.F7a;};c.prototype.ASb=function(){var E;E=h.XC.M7(f.Bb.je,this.ES,B).split("|");this.G7a=h.XC.UCa(E[0],E[1]);this.ekb=this.Ba.Hf.ja(d.sa);this.Yib=this.Yib || this.ekb;this.NDa();return this.G7a;};c.prototype.TJb=function(){var E;E=this;return this.Mpa(f.Bb.je,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.YNa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(G){E.log.debug("DriverInfo: " + G);return G;}).catch(function(G){E.mV("itsDriverInfo","exception");E.log.error("DriverInfo exception",G);throw G;});};c.prototype.XJb=function(){var E;E=this;this.Mpa(f.Bb.Cz,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(G){var F;F=String.fromCharCode.apply(void 0,E.vc.decode(G));E.mV("itsHardwareInfo",F);E.log.debug("HardwareInfo: " + F);return G;}).catch(function(G){E.mV("itsHardwareInfo","exception");E.log.error("HardwareInfo exception",G);throw G;});};c.prototype.YJb=function(){var E;E=this;this.Mpa(f.Bb.Cz,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(G){var F;F=String.fromCharCode.apply(void 0,E.vc.decode(G));E.mV("itsHardwareReset",F);E.log.debug("ResetHardwareDRMDisabled: " + F);return G;}).catch(function(G){E.mV("itsHardwareReset","exception");E.log.error("ResetHardwareDRMDisabled exception",G);throw G;});};c.prototype.Mpa=function(E,G){var F;F=this;return new Promise(function(I,L){var R,P,T;function M(V){try{H(V.target,"Unexpectedly got an mskeyerror event: 0x" + D.EI(V && V.target && V.target.error && V.target.error.Xrc || 0,4));}catch(S){H(V.target,S);}}function K(V){H(V.target,"Unexpectedly got an mskeyadded event");}function O(V){var S;try{S=F.tra(V.message,"PlayReadyKeyMessage","Challenge");J(V.target);I(S);}catch(W){H(V.target,W);}}function H(V,S){F.log.error("PlayReadyChallenge error",{cdmData:G});J(V);L(S);}function J(V){V.removeEventListener("mskeymessage",O);V.removeEventListener("mskeyadded",K);V.removeEventListener("mskeyerror",M);T && T.cancel();}try{R=new Uint8Array(C.sjb(G));P=new mb.MSMediaKeys(E).createSession("video/mp4",new Uint8Array(0),R);P.addEventListener("mskeymessage",O);P.addEventListener("mskeyadded",K);P.addEventListener("mskeyerror",M);T=F.Cc.Lj((0,d.xc)(1E3),function(){H(P,Error("timeout"));});}catch(V){L(V);}});};c.prototype.tra=function(E,G){var I,L,M;for(var F=1;F < arguments.length;++F){;}F="";L=E.length;for(I=0;I < L;I++){M=E[I];0 < M && (F+=String.fromCharCode(M));}L="\\s*(.*)\\s*";for(I=arguments.length - 1;0 < I;I--){M=arguments[I];if(0 > F.search(M))return;M="(?:[^:].*:|)" + M;L="[\\s\\S]*<" + M + "[^>]*>" + L + "</" + M + ">[\\s\\S]*";}if(F=F.match(new RegExp(L)))return F[1];};c.prototype.Cva=function(E){var G;G=this;return this.KI().then(function(F){return [q.Mf.IC,q.Mf.jD].some(function(I){return I.test(E);}) && G.config().lbb && ![f.Bb.IG,f.Bb.rPa].some(function(I){return I === F;})?{supported:!1,reason:"ms-restricted"}:{supported:!0};});};Ua.Object.defineProperties(c.prototype,{rWb:{configurable:!0,enumerable:!0,get:function(){return this.config().K2a && (!this.config().Y0b || this.Jjb());}},r0:{configurable:!0,enumerable:!0,get:function(){try{return this.WH(f.Bb.je + "|" + n.Rd.zxa);}catch(E){return !1;}}},Jcc:{configurable:!0,enumerable:!0,get:function(){try{return this.WH(f.Bb.IG);}catch(E){return !1;}}}});b.iMa=c;},function(r,b,a){var g,k,m,f,d;function c(l,n,h,p,q,t,v){l=g.OC.call(this,l,n,h,v) || this;l.hq=p;l.tt=q;l.Ba=t;l.HB=v;l.type=k.Rm.rL;l.log=l.tt.hb("ChromeVideoCapabilityDetector");return l;}Object.defineProperty(b,"__esModule",{value:!0});b.LGa=void 0;g=a(282);k=a(26);m=a(5);f=a(48);d=a(172);ja(c,g.OC);c.prototype.QK=function(l){switch(l){case k.Cq.vG:return this.Hcc;default:return Promise.resolve(!1);}};c.prototype.GX=function(){var l;l=this;return this.QK(k.Cq.vG).then(function(n){return n?k.Cq.vG:void 0;}).then(function(n){return l.L7(n);});};c.prototype.Vma=function(l){this.Jr=l;};c.prototype.KYb=function(l){var n;return !(null === (n=l.getConfiguration().videoCapabilities) || void 0 === n || !n.some(function(h){return (null === h || void 0 === h?void 0:h.robustness) === f.TC;}));};c.prototype.tlb=function(){var l;if(this.Jr){l=this.H7a && this.J7a && this.H7a.Da(this.J7a).ja(m.sa);this.Jr.itshdcp=JSON.stringify({hdcp2:this.rv,time2:l});}};c.prototype.Cva=function(l){var n;n=this;return this.hq.CE().then(function(h){h=(0,f.M9)(h);return [d.Mf.IC,d.Mf.jD].some(function(p){return p.test(l);}) && n.config().lbb && h === f.TC?{supported:!1,reason:"mcclearen-restricted"}:d.Mf.Hqb.test(l) && !(n.config().JNb || n.config().J2a && h === f.TC) || d.Mf.bM.test(l) && (!n.config().J2a || h !== f.TC)?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Ua.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.ebb || (this.ebb=this.hq.CE().then(function(l){return l.createMediaKeys();}));return this.ebb;}},Hcc:{configurable:!0,enumerable:!0,get:function(){var l;l=this;this.VCa || (this.config().LNb?this.VCa=Promise.all([this.hq.CE(),this.mediaKeys]).then(function(n){var h;h=ma(n);n=h.next().value;h=h.next().value;if(!l.KYb(n))return (l.rv="not HW_SECURE_ALL",l.log.trace("hdcpStatus: " + l.rv),!1);if(h && h.getStatusForPolicy)return (l.J7a=l.Ba.Hf,h.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(p){l.H7a=l.Ba.Hf;l.rv=p;l.log.trace("hdcpStatus: " + l.rv);return "usable" === l.rv;}));l.rv="not available";l.log.trace("hdcpStatus: " + l.rv);return !1;}).catch(function(n){l.rv="exception";l.log.error("Exception in supportsHdcpLevel",{hdcpStatus:l.rv},n);return !1;}).then(function(n){l.tlb();return n;}):(this.rv="not enabled",this.log.trace("hdcpStatus: " + this.rv),this.tlb(),this.VCa=Promise.resolve(!1)));return this.VCa;}}});b.LGa=c;},function(r,b,a){var g,k;function c(m){this.navigator=m;this.bbb=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.AMa=void 0;r=a(0);g=a(1);a=a(37);c.prototype.wra=function(m){return this.bbb?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:m.contentType,width:m.width,height:m.height,bitrate:m.bitrate,framerate:m.framerate}}).then(function(f){return {supported:f.supported,smooth:f.smooth,powerEfficient:f.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};k=c;k=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.NL))],k);b.AMa=k;},function(r,b,a){var g,k,m,f;function c(d,l){this.mediaCapabilities=d;this.log=l.hb("MediaCapabilities");this.i_=f.k2.Ns();}Object.defineProperty(b,"__esModule",{value:!0});b.BMa=void 0;r=a(0);g=a(489);k=a(7);m=a(1);f=a(249);c.prototype.wra=function(d){var l,n,h,p;l=this;h={fd:void 0};if(this.mediaCapabilities.bbb){p={contentType:'video/mp4;codecs="' + (null !== (n=this.i_[d.af]) && void 0 !== n?n:"avc1.640028") + '"',width:d.width,height:d.height,bitrate:1E3 * d.bitrate,framerate:24};this.mediaCapabilities.wra(p).then(function(q){return h.fd=Object.assign(Object.assign({},q),p);}).catch(function(q){return l.log.error("Error calling MediaCapabilities API",q);});}return h;};a=c;a=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(g.DMa)),r.__param(1,(0,m.l)(k.mb))],a);b.BMa=a;},function(r,b,a){var g,k,m;function c(f){this.r6b=f;}Object.defineProperty(b,"__esModule",{value:!0});b.UIa=void 0;r=a(0);g=a(1);k=a(283);a=a(491);c.prototype.oPb=function(){var f,d;f={IO:k.oz.svb};try{d=this.r6b.PresentationRequest;d && (new d("https://netflix.com").getAvailability() || Promise.reject()).then(function(l){var n;f.IO=l.value?k.oz.zQa:k.oz.AEa;if(f.IO === k.oz.AEa){n=function(){l.value && (f.IO=k.oz.zQa);l.removeEventListener("change",n);};l.addEventListener("change",n);}}).catch(function(){f.IO=k.oz.Error;});}catch(l){f.IO=k.oz.Error;}return f;};m=c;m=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.AQa))],m);b.UIa=m;},function(r,b,a){var g,k,m,f,d,l,n,h;function c(p,q,t,v){this.config=p;this.navigator=q;this.tt=t;this.ZP=v;this.DYa={};this.imb={};this.gna={};this.log=this.tt.hb("MediaCapabilityDetector");this.DYa=this.zJb();this.imb=this.EKb();}Object.defineProperty(b,"__esModule",{value:!0});b.yMa=void 0;r=a(0);g=a(1);k=a(42);m=a(7);f=a(37);d=a(98);l=a(162);n=a(48);h=a(13);c.prototype.WW=function(p){var q;q=this;return this.ZP.CE().then(function(t){return q.BPb(p,t);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.$Xb=function(p){return ! !p.colorGamut || ! !p.hdrMetadataType || ! !p.transferFunction;};c.prototype.mva=function(){return mb.matchMedia("(dynamic-range: high)").matches;};c.prototype.BPb=function(p,q){var t,v,w;try{t={type:"media-source"};v=this.DYa[p];w=this.imb[p];if(v)t.audio=v;else if(w){t.video=w;if(this.$Xb(w) && !this.mva())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});q && (t.keySystemConfiguration=this.QSb(q));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.mGb(t),this.jGb((v || w).contentType)]).then(function(u){var x;x=ma(u);u=x.next().value;x=x.next().value;return u?x?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(u){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",u),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.mGb=function(p){var q;q=this;return this.navigator.mediaCapabilities.decodingInfo(p).then(function(t){var v;t.configuration || (t.configuration=p);v=q.BYb(p,t);v?q.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(t)):q.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(t));return v;}).catch(function(t){q.log.error("mediaCapabilities.decodingInfo failed",t);return !1;});};c.prototype.jGb=function(p){var q;q=this;if(!this.config().TNb)return Promise.resolve(!0);this.gna[p] || (this.gna[p]=new Promise(function(t){var v;try{v=new h.ZC();document.createElement("video").src=URL.createObjectURL(v);v.addEventListener("sourceopen",function(){try{v.addSourceBuffer(p);q.log.trace("addSourceBuffer succeeded for " + p);t(!0);}catch(w){q.log.warn("addSourceBuffer failed",w);t(!1);}});}catch(w){q.log.warn("addSourceBuffer failed",w);t(!1);}}));return this.gna[p];};c.prototype.QSb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=(0,n.M9)(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};c.prototype.zJb=function(){var p,q;p={};q={contentType:"audio/mp4;codecs=mp4a.40.2"};p[k.ae.oG]=q;p[k.ae.R2]=q;p[k.ae.pG]=q;p[k.ae.Iz]=q;q={contentType:"audio/mp4;codecs=ec-3"};p[k.ae.JS]=q;p[k.ae.U1]=q;p[k.ae.KS]=q;return p;};c.prototype.EKb=function(){var p,q,t,v,w,u,x,y,z,A,B,C,D,E,G,F,I,L,M,K;p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};q={contentType:'video/mp4; codecs="dvh1.05.04"'};t={width:1920,height:1080};v={width:3840,height:2160};w=Object.assign(Object.assign({},t),{bitrate:12E6,framerate:30});u=Object.assign(Object.assign({},t),{bitrate:2E7,framerate:60});x=Object.assign(Object.assign({},v),{bitrate:25E6,framerate:30});y=Object.assign(Object.assign({},v),{bitrate:4E7,framerate:60});z={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};A={colorGamut:"rec2020",transferFunction:"pq"};v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),w);t=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),w);B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),w);C=Object.assign(Object.assign({},p),w);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),u);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),x);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),y);F=Object.assign(Object.assign(Object.assign({},p),w),z);I=Object.assign(Object.assign(Object.assign({},p),u),z);L=Object.assign(Object.assign(Object.assign({},p),x),z);p=Object.assign(Object.assign(Object.assign({},p),y),z);z=Object.assign(Object.assign(Object.assign({},q),w),A);M=Object.assign(Object.assign(Object.assign({},q),u),A);K=Object.assign(Object.assign(Object.assign({},q),x),A);q=Object.assign(Object.assign(Object.assign({},q),y),A);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),w);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),u);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),x);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),y);A={};return (A[k.I.mG]=v,A[k.I.nG]=v,A[k.I.nha]=v,A[k.I.rJa]=v,A[k.I.sJa]=v,A[k.I.tJa]=v,A[k.I.pJa]=t,A[k.I.v2]=t,A[k.I.x2]=t,A[k.I.lha]=t,A[k.I.qJa]=t,A[k.I.w2]=t,A[k.I.y2]=t,A[k.I.mha]=t,A[k.I.fka]=B,A[k.I.t4]=B,A[k.I.u4]=B,A[k.I.v4]=B,A[k.I.pha]=C,A[k.I.qha]=C,A[k.I.rha]=C,A[k.I.sha]=D,A[k.I.U2]=C,A[k.I.X2]=C,A[k.I.a3]=C,A[k.I.d3]=D,A[k.I.TS]=E,A[k.I.US]=G,A[k.I.V2]=C,A[k.I.Y2]=C,A[k.I.b3]=C,A[k.I.e3]=D,A[k.I.g3]=E,A[k.I.i3]=G,A[k.I.T2]=C,A[k.I.W2]=C,A[k.I.Z2]=C,A[k.I.c3]=D,A[k.I.f3]=E,A[k.I.h3]=G,A[k.I.B2]=F,A[k.I.E2]=F,A[k.I.SS]=F,A[k.I.J2]=I,A[k.I.M2]=L,A[k.I.P2]=p,A[k.I.C2]=F,A[k.I.F2]=F,A[k.I.H2]=F,A[k.I.K2]=I,A[k.I.N2]=L,A[k.I.Q2]=p,A[k.I.A2]=F,A[k.I.D2]=F,A[k.I.G2]=F,A[k.I.I2]=I,A[k.I.L2]=L,A[k.I.O2]=p,A[k.I.W1]=z,A[k.I.Y1]=z,A[k.I.LS]=z,A[k.I.b2]=M,A[k.I.d2]=K,A[k.I.f2]=q,A[k.I.Nga]=z,A[k.I.Oga]=M,A[k.I.Pga]=K,A[k.I.Qga]=q,A[k.I.X1]=z,A[k.I.Z1]=z,A[k.I.a2]=z,A[k.I.c2]=M,A[k.I.e2]=K,A[k.I.g2]=q,A[k.I.yEa]=w,A[k.I.zEa]=w,A[k.I.GC]=w,A[k.I.HC]=w,A[k.I.x1]=w,A[k.I.y1]=u,A[k.I.z1]=x,A[k.I.A1]=y,A);};c.prototype.BYb=function(p,q){return p.video && this.config().R5b?q.supported && q.powerEfficient:q.supported;};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(l.tL)),r.__param(1,(0,g.l)(f.NL)),r.__param(2,(0,g.l)(m.mb)),r.__param(3,(0,g.l)(d.vz))],a);b.yMa=a;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(1);c=a(492);g=a(200);k=a(493);m=a(1201);f=a(284);d=a(1202);l=a(1205);n=a(1206);h=a(96);p=a(494);q=a(1208);b.storage=new r.Cd(function(t){t(g.pNa).Te(function(){return function(){return mb.localStorage;};});t(g.mKa).Te(function(){return function(){return mb.indexedDB;};});t(p.$Ma).to(q.ZMa).la();t(h.JC).to(n.bFa).la();t(k.BLa).to(m.ALa).la();t(c.r3).to(l.PKa).la();t(f.RKa).to(d.QKa).la();t(f.lKa).to(d.kKa).la();t(f.TKa).to(d.SKa).la();});},function(r,b,a){var g,k,m;function c(f){this.tF=f;}Object.defineProperty(b,"__esModule",{value:!0});b.ALa=void 0;r=a(0);g=a(1);k=a(3);a=a(200);c.prototype.load=function(f){var d;d=this;return new Promise(function(l,n){var h,p;try{h=d.tF.getItem(f);if(h){p=h;if("{" === h[0])try{p=JSON.parse(h) || h;}catch(q){}l({key:f,value:p});}else n({za:k.X.hD});}catch(q){n({za:k.X.lRa,cause:q});}});};c.prototype.save=function(f,d,l){var n;n=this;return new Promise(function(h,p){if(l && n.tF.getItem(f))h(!1);else try{"string" === typeof d?n.tF.setItem(f,d):n.tF.setItem(f,JSON.stringify(d));h(!0);}catch(q){p({za:k.X.mRa,cause:q});}});};c.prototype.remove=function(f){var d;d=this;return new Promise(function(l,n){try{d.tF.removeItem(f);l();}catch(h){n({za:k.X.Fja,cause:h});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};m=c;m=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Usb))],m);b.ALa=m;},function(r,b,a){var m,f,d,l,n,h,p,q,t,v,w,u;function c(x,y,z,A,B,C){this.config=y;this.kW=z;this.oq=A;this.Tfc=B;this.Zl=C;this.ya=x.hb(h.bSa);}function g(x,y){this.config=x;this.I0=y;}function k(x,y,z,A,B){this.config=y;this.I0=z;this.Zl=B;this.ya=x.hb(h.bSa);this.kW=new Promise(function(C,D){var E;try{E=A();E?C(E):D({za:n.X.oKa});}catch(G){D({za:n.X.q3,cause:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.SKa=b.QKa=b.kKa=void 0;r=a(0);m=a(1);f=a(7);d=a(1203);l=a(200);n=a(3);h=a(1204);p=a(492);q=a(68);t=a(96);v=a(82);w=a(284);u=a(61);k.prototype.create=function(){this.$pa || (this.$pa=this.XN());return this.$pa;};k.prototype.Qs=function(x){var y;y=this;this.$pa=null;return this.I0.Mt(this.config.timeout,new Promise(function(z,A){x.close();y.delete(x.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof q.rs?Promise.reject({za:n.X.q3}):z.za?Promise.reject(z):Promise.reject({za:n.X.q3,cause:z});});};k.prototype.delete=function(x){var y;y=this;return this.I0.Mt(this.config.timeout,new Promise(function(z,A){y.kW.then(function(B){var C;C=B.deleteDatabase(x);C.onsuccess=function(){z();};C.onerror=function(){A({za:n.X.q3,cause:C.error});};}).catch(function(B){A(B);});}));};k.prototype.XN=function(){var x,y;x=this;return this.I0.Mt(this.config.timeout,new Promise(function(z,A){if(x.config.iCa)return A({za:x.config.iCa});x.kW.then(function(B){x.Zl.mark(u.Bk.mrb);y=B.open(x.config.name,x.config.version);if(!y)return A({za:n.X.pKa});y.onblocked=function(){x.Zl.mark(u.Bk.jrb);A({za:n.X.frb});};y.onupgradeneeded=function(){var C;x.Zl.mark(u.Bk.trb);C=y.result;try{C.createObjectStore(x.config.tZ,{keyPath:"name"});}catch(D){x.ya.error("Exception while creating object store",D);}};y.onsuccess=function(C){var D,E;x.Zl.mark(u.Bk.srb);try{D=C.target.result;E=D.objectStoreNames.length;x.ya.trace("objectstorenames length ",E);if(0 === E){x.ya.error("invalid indexedDb state, deleting");x.Zl.mark(u.Bk.lrb);try{D.close();}catch(G){}B.deleteDatabase(x.config.name);setTimeout(function(){A({za:n.X.erb});},1);return;}}catch(G){x.ya.error("Exception while inspecting indexedDb objectstorenames",G);}z(y.result);};y.onerror=function(){x.Zl.mark(u.Bk.krb);x.ya.error("IndexedDB open error",y.error);A({za:n.X.grb,cause:y.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof q.rs){try{y && y.readyState && x.Zl.mark("readyState-" + y.readyState);}catch(A){}if(x.config.N6 && y && "done" === y.readyState){if(x.Ofc(y))return (x.Zl.mark(u.Bk.qrb),Promise.resolve(y.result));x.Zl.mark(u.Bk.prb);}x.Zl.mark(u.Bk.orb);return Promise.reject({za:n.X.irb});}if(z.za)return Promise.reject(z);x.Zl.mark(u.Bk.nrb);x.ya.error("IndexedDB open exception occurred",z);return Promise.reject({za:n.X.hrb,cause:z});});};k.prototype.Ofc=function(x){try{return 0 < x.result.objectStoreNames.length;}catch(y){this.Zl.mark(u.Bk.rrb);this.ya.error("failed to check open request state",y);}return !1;};a=k;a=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(f.mb)),r.__param(1,(0,m.l)(p.r3)),r.__param(2,(0,m.l)(q.MG)),r.__param(3,(0,m.l)(l.mKa)),r.__param(4,(0,m.l)(v.$L))],a);b.kKa=a;g.prototype.create=function(x){return Promise.resolve(new d.OKa(this.config,this.I0,x));};a=g;a=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(p.r3)),r.__param(1,(0,m.l)(q.MG))],a);b.QKa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.gW || (this.gW=this.XN(this.Tfc));return this.gW;};c.prototype.XN=function(x){var y;y=this;x=void 0 === x?[]:x;return new Promise(function(z,A){y.Zl.mark(u.Bk.Rub);y.kW.create().then(function(B){y.oq.create(B).then(function(C){Promise.all(x.map(function(D){return D.validate(C);})).then(function(){y.storage=C;z(y.storage);}).catch(function(D){y.ya.debug("DB validation failed, cause: " + D);y.config.Y3a?(y.ya.debug("Fixing corrupt DB"),y.kW.Qs(B).then(function(){y.ya.error("Invalid database deleted, creating new database.");y.XN().then(function(E){y.ya.error("Invalid database successfully recreated.");y.storage=E;z(y.storage);});}).catch(function(E){y.ya.error("Couldn't delete invalid database.");A(E);})):(y.ya.debug("Ignoring invalid DB due to config"),y.storage=C,z(y.storage));});}).catch(function(C){A(C);});}).catch(function(B){A(B);});});};a=c;a=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(f.mb)),r.__param(1,(0,m.l)(p.r3)),r.__param(2,(0,m.l)(w.lKa)),r.__param(3,(0,m.l)(w.RKa)),r.__param(4,(0,m.optional)()),r.__param(4,(0,m.EJ)(t.avb)),r.__param(5,(0,m.l)(v.$L))],a);b.SKa=a;},function(r,b,a){var k,m,f;function c(d,l,n){this.config=d;this.Gt=l;this.tF=n;}function g(d,l){this.reason=d;this.cause=l;}Object.defineProperty(b,"__esModule",{value:!0});b.OKa=b.NQa=void 0;k=a(3);m=a(68);(function(d){d[d.xia=0]="NoData";d[d.Error=1]="Error";d[d.ZL=2]="Timeout";})(f=b.NQa || (b.NQa={}));c.prototype.load=function(d){var l;l=this;return new Promise(function(n,h){l.J8("get",!1,d).then(function(p){n({key:d,value:p});}).catch(function(p){var q;q=k.X.lRa;switch(p.reason){case f.xia:q=k.X.hD;break;case f.ZL:q=k.X.Sub;}h({za:q,cause:p.cause});});});};c.prototype.save=function(d,l,n){var h;h=this;return new Promise(function(p,q){h.J8(n?"add":"put",!0,{name:d,data:l}).then(function(){p(!n);}).catch(function(t){var v;v=k.X.mRa;switch(t.reason){case f.ZL:v=k.X.Vub;}q({za:v,cause:t.cause});});});};c.prototype.remove=function(d){var l;l=this;return new Promise(function(n,h){l.J8("delete",!0,d).then(function(){n();}).catch(function(p){var q;q=k.X.Fja;switch(p.reason){case f.ZL:q=k.X.kRa;}h({za:q,cause:p.cause});});});};c.prototype.removeAll=function(){var d;d=this;return new Promise(function(l,n){d.J8("clear",!0,"").then(function(){l();}).catch(function(h){var p;p=k.X.Fja;switch(h.reason){case f.ZL:p=k.X.kRa;}n({za:p,cause:h.cause});});});};c.prototype.loadAll=function(){var d;d=this;return this.Gt.Mt(this.config.timeout,new Promise(function(l,n){var h,p,q;if(d.config.hCa)n(new g(d.config.hCa));else {h=[];p=d.tF.transaction(d.config.tZ,"readonly");q=p.objectStore(d.config.tZ).openCursor();p.onerror=function(){n(new g(f.Error,q.error));};q.onsuccess=function(t){if(t=t.target.result)try{h.push({key:t.value.name,value:t.value.data});t.continue();}catch(v){n(new g(f.Error,v));}else l(h);};q.onerror=function(){n(new g(f.Error,q.error));};}})).catch(function(l){return l instanceof m.rs?Promise.reject(new g(f.ZL,l)):l instanceof g?Promise.reject(l):Promise.reject(new g(f.Error,l));});};c.prototype.J8=function(d,l,n){var h;h=this;return this.Gt.Mt(this.config.timeout,new Promise(function(p,q){var t,v;t=h.tF.transaction(h.config.tZ,l?"readwrite":"readonly");v=t.objectStore(h.config.tZ)[d](n);t.onerror=function(){q(new g(f.Error,v.error));};v.onsuccess=function(w){var u;if("get" == d)try{u=w.target.result;u?p(u.data):q(new g(f.xia));}catch(x){q(new g(f.xia,x));}else p(void 0);};v.onerror=function(){q(new g(f.Error,v.error));};})).catch(function(p){return p instanceof m.rs?Promise.reject(new g(f.ZL,p)):p instanceof g?Promise.reject(p):Promise.reject(new g(f.Error,p));});};b.OKa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bSa="Storage";},function(r,b,a){var g,k,m,f,d;function c(l,n){l=m.zf.call(this,l,"IndexedDBConfigImpl") || this;l.config=n;l.version=1;l.tZ="namedatapairs";return l;}Object.defineProperty(b,"__esModule",{value:!0});b.PKa=void 0;r=a(0);g=a(1);k=a(44);m=a(45);f=a(39);a=a(33);ja(c,m.zf);Ua.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.UA?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.kjb;}},N6:{configurable:!0,enumerable:!0,get:function(){return this.config.N6;}},iCa:{configurable:!0,enumerable:!0,get:function(){return 0;}},hCa:{configurable:!0,enumerable:!0,get:function(){return 0;}},Y3a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([k.config(k.AC,"simulateIdbOpenError")],d.prototype,"iCa",null);r.__decorate([k.config(k.AC,"simulateIdbLoadAllError")],d.prototype,"hCa",null);r.__decorate([k.config(k.Ed,"fixInvalidDatabase")],d.prototype,"Y3a",null);d=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Qm)),r.__param(1,(0,g.l)(f.kp))],d);b.PKa=d;},function(r,b,a){var k,m,f,d,l,n,h;function c(p,q,t,v){this.ya=p;this.config=q;this.wWb=t;this.sxa=v;this.cI={mem:{storage:this.sxa,key:"mem"}};this.QF=this.config.QF;}function g(p,q,t,v){this.jg=p;this.oq=q;this.sxa=t;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.Vfa=b.bFa=void 0;r=a(0);k=a(1);m=a(3);f=a(284);d=a(7);l=a(494);n=a(1207);a=a(39);g.prototype.create=function(){this.gW || (this.gW=this.XN());return this.gW;};g.prototype.XN=function(){this.bDb=new c(this.jg.hb("AppStorage"),this.config,this.oq,this.sxa);return this.bDb.create();};h=g;h=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(d.mb)),r.__param(1,(0,k.l)(f.TKa)),r.__param(2,(0,k.l)(l.$Ma)),r.__param(3,(0,k.l)(a.kp))],h);b.bFa=h;c.prototype.create=function(){var p;p=this;return this.$Jb().then(function(q){if(!p.QFb(q,p.config.$X))throw p.b2b(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(t,v){q.pX(p).storage.load(p).then(function(w){t(w);}).catch(function(w){v(w);});});};c.prototype.save=function(p,q,t){var v;v=this;return new Promise(function(w,u){v.pX(p).storage.save(p,q,t).then(function(x){w(x);}).catch(function(x){u(x);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(t,v){q.pX(p).storage.remove(p).then(function(){t();}).catch(function(w){v(w);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,t){p.Rfb("mem").then(function(){return p.Rfb("idb");}).catch(function(v){return Promise.reject(v);}).then(function(){q();}).catch(function(v){p.ya.error("remove all failed");t(v);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.C$a("mem").then(function(t){q=q.concat(t);return p.C$a("idb");}).catch(function(t){p.yYb(t) || p.ya.error("IndexedDb.LoadAll exception",t);return [];}).then(function(t){return q=q.concat(t);}).catch(function(t){p.ya.error("load all failed",t);throw t;});};c.prototype.$Jb=function(){var p;p=this;return this.wWb.create().then(function(q){p.cI.idb={storage:q,key:"idb"};}).catch(function(q){p.ya.error("idb failed to load",q);return q || ({za:m.X.eo});});};c.prototype.QFb=function(p,q){return !p || p && q?!0:!1;};c.prototype.b2b=function(p){var q;q="";p && (q+=p.za);return {za:q};};c.prototype.Rfb=function(p){return (p=this.cI[p])?p.storage.removeAll():Promise.resolve();};c.prototype.C$a=function(p){return (p=this.cI[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.NPb=function(p){for(var q in this.QF){if(p.startsWith(q))return this.QF[q];}return this.QF[n.ppb];};c.prototype.pX=function(p){var q,t;q=this;this.NPb(p).every(function(v){return q.cI[v]?(t=q.cI[v],!1):!0;});if(!t){this.ya.error("component not found for storageKey",{Ybc:p,Umc:Object.keys(this.cI),rules:this.QF});t=this.cI.mem;}this.ya.trace("component found for key",{storageKey:p,componentKey:t.key});return t;};c.prototype.yYb=function(p){return (p && (p.za || p.errorSubCode)) === m.X.hD;};b.Vfa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ppb="__default_rule_key__";},function(r,b,a){var g,k,m;function c(f){this.jg=f;this.FJ={};this.ya=this.jg.hb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.ZMa=void 0;r=a(0);g=a(1);k=a(3);a=a(7);c.prototype.load=function(f){var d;if(this.FJ.hasOwnProperty(f)){d=this.FJ[f];this.ya.debug("Storage entry loaded",{key:f});return Promise.resolve({key:f,value:d});}this.ya.debug("Storage entry not found",{key:f});return Promise.reject({za:k.X.hD});};c.prototype.save=function(f,d,l){if(l && this.FJ.hasOwnProperty(f))return Promise.resolve(!1);this.FJ[f]=d;return Promise.resolve(!0);};c.prototype.remove=function(f){delete this.FJ[f];return Promise.resolve();};c.prototype.loadAll=function(){var f;f=Object.entries(this.FJ).map(function(d){var l;l=ma(d);d=l.next().value;l=l.next().value;return {key:d,value:l};});return Promise.resolve(f);};c.prototype.removeAll=function(){this.FJ={};return Promise.resolve();};m=c;m=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.mb))],m);b.ZMa=m;},function(r,b,a){var c,g,k,m,f,d;Object.defineProperty(b,"__esModule",{value:!0});b.EN=void 0;r=a(1);c=a(495);g=a(496);k=a(497);m=a(1210);f=a(1211);d=a(1212);b.EN=new r.Cd(function(l){l(c.VFa).to(m.UFa).la();l(g.TFa).to(f.QFa).la();l(k.SFa).to(d.RFa).la();});},function(r,b,a){var g,k,m,f,d,l;function c(n,h,p,q){this.i7=h;this.Cb=p;this.HEb=q;this.ya=n.hb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.UFa=void 0;r=a(0);g=a(1);k=a(496);m=a(497);f=a(7);d=a(27);l=a(5);c.prototype.JCb=function(n){var h,p;h=n.ib.playbackState && n.ib.playbackState.currentTime;p=this.RRb(n.K);h=this.Cb.lI(h)?(0,l.xc)(h):p;if(this.Cb.kh(h))(this.ya.info("Overriding bookmark",{From:n.cL.ja(l.sa),To:h.ja(l.sa)}),n=Object.assign({},n,{cL:h}));else if(this.AWb(n))return (this.ya.trace("Ignoring bookmark because it's too close to beginning"),(0,l.Hh)(0));return n.cL.vva()?(this.ya.trace("Ignoring bookmark because it's negative"),(0,l.Hh)(0)):this.zWb(n)?(this.ya.trace("Ignoring bookmark because it's too close to end"),(0,l.Hh)(0)):this.yWb(n)?(this.ya.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,l.Hh)(0)):n.cL;};c.prototype.AWb=function(n){return 0 > n.cL.lm(this.Osa(n));};c.prototype.Osa=function(n){return this.gZa(this.i7.Osa(),n.xca);};c.prototype.zWb=function(n){return 0 < n.cL.lm(this.Psa(n));};c.prototype.Psa=function(n){var h;h=n.ib.di?this.i7.FSb():this.i7.Psa();return n.xca.Da(this.gZa(h,n.xca));};c.prototype.yWb=function(n){return 0 < n.cL.lm(this.oSb(n));};c.prototype.oSb=function(n){return n.xca.Da((0,l.xc)(n.qF));};c.prototype.RRb=function(n){var h;n=this.i7.usa()[n];h=-1;this.Cb.Du(n)?h=parseInt(n):this.Cb.no(n) && (h=n);if(this.Cb.pV(h))return (0,l.xc)(h);};c.prototype.gZa=function(n,h){return this.HEb.jcc(n,h);};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(f.mb)),r.__param(1,(0,g.l)(k.TFa)),r.__param(2,(0,g.l)(d.Yg)),r.__param(3,(0,g.l)(m.SFa))],a);b.UFa=a;},function(r,b,a){var g,k;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.QFa=void 0;r=a(0);g=a(1);a=a(12);c.prototype.Osa=function(){return this.HI().IEb;};c.prototype.Psa=function(){return this.HI().JEb;};c.prototype.FSb=function(){return this.HI().KEb;};c.prototype.usa=function(){return this.HI().fZa;};c.prototype.HI=function(){return this.config();};k=c;k=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Lc))],k);b.QFa=k;},function(r,b,a){var g,k,m;function c(f){this.Cb=f;}Object.defineProperty(b,"__esModule",{value:!0});b.RFa=void 0;r=a(0);g=a(1);k=a(27);m=a(5);c.prototype.jcc=function(f,d){var l,n;l=parseFloat(f);n=0;"%" === f[f.length - 1] && this.Cb.no(l)?n=Math.round(l * d.ja(m.sa) / 100):(f=parseInt(f),this.Cb.pV(f) && (n=f));return (0,m.xc)(Math.min(n,d.ja(m.sa)));};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.Yg))],a);b.RFa=a;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.DZa=void 0;r=a(1);c=a(498);g=a(1214);b.DZa=new r.Cd(function(k){k(c.mGa).to(g.lGa).la();});},function(r,b,a){var g,k,m,f,d,l,n,h,p;function c(q,t,v,w,u,x){this.config=q;this.lF=v;this.profile=w;this.Vea=u;this.PV=x;this.log=t.hb("CDMAttestedDescriptor");this.Y4a(h.Gw.ET);}Object.defineProperty(b,"__esModule",{value:!0});b.lGa=void 0;r=a(0);g=a(1);k=a(12);m=a(7);f=a(164);d=a(285);l=a(79);n=a(173);h=a(39);p=a(57);c.prototype.Y4a=function(q){var t;t=this;return this.Vea.eea(q)?this.config().ENb?this.W4a().then(function(v){if(v)return (!1,Promise.resolve(void 0));t.t$a || (!1,t.t$a=t.PV.Bta(p.Ni.lp));return t.t$a;}).catch(function(v){t.log.error("Failed to generate challenge",v);}).then(function(v){null === v || void 0 === v?void 0:v.jc.close();return null === v || void 0 === v?void 0:v.Joa;}).then(function(v){return Promise.all([Promise.resolve(v),t.W4a()]);}).then(function(v){var w;v=ma(v);w=v.next().value;if(v.next().value)!1;else return w;}):this.lF().then(function(v){v.kZ.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.W4a=function(){var q;q=this;return this.lF().then(function(t){return (t=t.kZ.getServiceTokens(q.profile)) && t.find(function(v){return "cad" === v.name;});});};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.Lc)),r.__param(1,(0,g.l)(m.mb)),r.__param(2,(0,g.l)(f.tT)),r.__param(3,(0,g.l)(l.TL)),r.__param(4,(0,g.l)(d.s4)),r.__param(5,(0,g.l)(n.R1))],a);b.lGa=a;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.nab=void 0;r=a(1);c=a(237);g=a(1216);k=a(499);m=a(1223);f=a(503);d=a(505);l=a(1224);n=a(136);h=a(1225);p=a(507);q=a(1226);b.nab=new r.Cd(function(t){t(k.pMa).to(m.oMa).la();t(c.jia).to(g.qMa).la();t(f.WPa).Im(function(v){for(var w=[],u=0;u < arguments.length;++u){w[u - 0]=arguments[u];}u=a(287).QG;return new (Function.prototype.bind.apply(u,[null].concat(ha(w))))();});t(d.tMa).Te(function(){return function(v){return new l.uMa(v);};});t(n.IL).to(h.mMa).la();t(p.lMa).to(q.kMa).la();});},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t;function c(v,w,u,x){this.jg=v;this.config=w;this.oza=u;this.sDa=x;}Object.defineProperty(b,"__esModule",{value:!0});b.qMa=void 0;r=a(0);g=a(1);k=a(7);m=a(499);f=a(1217);d=a(1218);l=a(1219);n=a(1220);h=a(1221);p=a(1222);q=a(503);a=a(504);c.prototype.create=function(v){var w,u;w=this.jg.hb("ManifestParser",v);u=new f.HGa(w,this.config);return new l.rMa(u,new d.sSa(w,this.config,v,this.oza),new n.MSa(w,v,this.sDa),new h.FFa(w,this.config,v),new p.qTa(w));};t=c;t=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.mb)),r.__param(1,(0,g.l)(m.pMa)),r.__param(2,(0,g.l)(q.WPa)),r.__param(3,(0,g.l)(a.KSa))],t);b.qMa=t;},function(r,b,a){var g,k;function c(m,f){this.log=m;this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.HGa=void 0;g=a(101);k=a(286);c.prototype.Cdb=function(m,f){var d,l,n,h;d=this;l=this.config.Goa;n=this.config.Foa;m=ma((0,g.Nv)(function(p){return (!l.length || 0 <= l.indexOf(p.id)) && 0 > n.indexOf(p.id);},m || []));h=m.next().value;m.next().value.forEach(function(p){return d.log.warn("Cdn is not allowed",{Id:p.id});});m=h.map(function(p){var q;q=(f?f.find(function(t){return t.key === p.key;}):void 0) || ({});return {id:p.id,name:p.name,ec:p.ec,type:p.type,K$a:p.key,gYb:p.aab,location:{id:q.key,ec:q.ec,level:q.level,weight:q.weight}};});m.sort(function(p,q){return p.ec - q.ec;});this.log.trace("Transformed cdns",{Count:m.length});if(!m.length)throw Error("no valid cdns");return m;};c.prototype.sWb=function(m,f,d,l){var n;n=m.filter(function(h){return -1 === d.findIndex(function(p){return p.id === h.id;});}).map(function(h){return {cdb:!0,Zb:h};}).concat(d.map(function(h){return {cdb:!1,Zb:h};})).sort(function(h,p){return h.Zb.ec === p.Zb.ec?h.cdb?-1:1:h.Zb.ec - p.Zb.ec;}).map(function(h,p){(0,k.SP)(h.Zb).ec=p + 1;return h.Zb;});m=f.filter(function(h){return -1 === l.findIndex(function(p){return p.key === h.key;});}).concat(l).map(function(h){var p;p=n.findIndex(function(q){return q.key === h.key;});if(-1 !== p)return (p=n[p],(0,k.SP)(h).ec=p.ec,h);}).filter(function(h){return void 0 !== h;});return {F$b:n,g_b:m};};b.HGa=c;},function(r,b,a){var g,k,m,f;function c(d,l,n,h){this.log=d;this.config=l;this.j=n;this.oza=h;}Object.defineProperty(b,"__esModule",{value:!0});b.sSa=void 0;g=a(42);k=a(13);m=a(127);f=a(500);c.prototype.Gdb=function(d,l){var n;n=this;l=l.map(function(h){var p,q,t,v;t=n.Tdc(h);h.WE || !h.bj || t && 0 < t.length || n.log.error("track without downloadables",n.YSb(h));v={};0 < t.length && (v=h.language && 0 <= n.config.qP.indexOf(h.language)?t[1] && t[1].profile === g.Pm.nKa?t[1]:t[0]:t[0],v.profile == g.Pm.LL && (v=n.r$b(t),!1));h=n.oza(n.j,h.Tg,h.id,null !== (p=h.ec) && void 0 !== p?p:-1,null !== (q=h.bj) && void 0 !== q?q:!0,d,v.Vb,v.urls || [],h.language,h.aF,m.q4[h.Ji.toLowerCase()] || m.Gq.QL,h.OK,h.variant,h.FF.toUpperCase(),v.profile,n.gTb(v) || ({}),h.WE,h.eaa,h.haa,h.sv);n.log.trace("Transformed timed text track",h);return h;});this.log.trace("Transformed timed text tracks",{Count:l.length});return l;};c.prototype.wdc=function(d){var l,n;l=this;n=this.config.bsa;if(n){if(d=ma(d.filter(function(h){return h.Ef == n || h.trackId == n;})).next().value)return d;}else if(this.j.g9 && (d=ma(d.filter(function(h){return h.trackId == l.j.g9;})).next().value))return d;};c.prototype.Tdc=function(d){var l,n,h;l=this;n=d.n2a;h=Object.entries(d.yDa || ({})).map(function(p){var q,t;q=ma(p);p=q.next().value;q=q.next().value;t=q.urls;!t && q.BW && (t=Object.entries(q.BW).map(function(v){var w;w=ma(v);v=w.next().value;w=w.next().value;return {Qf:Number(v),url:w};}).sort(function(v,w){var u,x;u=d.UZa.find(function(y){return y.id === v.Qf;}).ec;x=d.UZa.find(function(y){return y.id === w.Qf;}).ec;return u - x;}));return {Vb:n[p],profile:p,size:q.size || 0,priority:l.iSb(p,q),offset:q.yxa || 0,c5b:q.width,Tdb:q.height,urls:t};});h.sort(function(p,q){return p.priority - q.priority;});return h;};c.prototype.iSb=function(d,l){var n,h;n=this.config.gw.indexOf(d);l=l.size;h=this.config.MR;return d === g.Pm.Gga && 0 < h && l > h?this.config.gw.length + 1:0 <= n?n:this.config.gw.length;};c.prototype.gTb=function(d){if(d.profile === g.Pm.LL)return {offset:d.offset,length:d.size,Ul:{width:d.c5b,height:d.Tdb}};};c.prototype.r$b=function(d){var l,n;l=this.config.Dua || f.Vja.B6a();n=ma(d.filter(function(h){return h.profile === g.Pm.LL;}).filter(function(h){return h.Tdb === l;})).next().value;if(n)return n;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:k.Iw.height,intendedResolution:l});return d[0];};c.prototype.YSb=function(d){return {isNone:d.WE,isForced:d.eaa,bcp47:d.language,id:d.Tg};};b.sSa=c;},function(r,b,a){var g;function c(k,m,f,d,l){this.Hoa=k;this.aDa=m;this.cec=f;this.CV=d;this.nmb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.rMa=void 0;g=a(286);c.prototype.Ddb=function(k){var m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A;d=k.$a;l={eg:null !== (f=null === (m=d.xx) || void 0 === m?void 0:m.zm) && void 0 !== f?f:"",uF:d.fva?"ads":"content"};n=! !d.r_;m=this.Hoa.Cdb(d.Yl,d.Bj);f=this.aDa.Gdb(l,d.H0);k=this.cec.F4b(d.fec);h=n?this.CV.Bdb(l,d.Hu,f):this.CV.z4b(l,d.Hu,d.media,f);l=this.nmb.G4b(l,d.Xy);p=l[0];q=this.CV.dEb(h) || h.find(function(B){return n?B.trackId === d.r_.Lp:B.Xx === d.e8[0].Lp;}) || h[0];t=this.aDa.wdc(q.Ii) || f.find(function(B){return n?B.trackId === d.r_.NR:B.Xx === d.e8[0].Bjb;}) || q.Ii[0];v=this.nmb.C4b(d.Xy);w=d.Ug;u=d.aHb;x=d.ME;y=d.om;z=d.Hu.findIndex(function(B){return B.Tg == q.trackId;});A=d.Xy.findIndex(function(B){return B.Tg == p.trackId;});return {Vv:v,Rg:m,vj:h,Wy:l,Ii:f,zC:k,Ug:w,K$b:u,jJ:x,om:y,uLb:z,BLb:A,f8:p,oW:q,qW:t};};c.prototype.tWb=function(k,m,f){var d,l,n,h,p,q;d=this;h=this.Hoa.sWb(k.$a.Yl,k.$a.Bj,f.$a.Yl,f.$a.Bj);p=h.F$b;h=h.g_b;(0,g.SP)(k.$a).Yl=p;(0,g.SP)(k.$a).Bj=h;m.Rg=this.Hoa.Cdb(p,h);q={eg:null !== (n=null === (l=f.$a.xx) || void 0 === l?void 0:l.zm) && void 0 !== n?n:"",uF:f.$a.fva?"ads":"content"};f=f.$a;l=f.Hu;f.H0.forEach(function(t){var v;if(t.bj){v=d.jgb(k.$a.H0,m.Ii,t,function(w){return d.aDa.Gdb(q,[w])[0];});v && m.vj.forEach(function(w){var u;w=w.Ii;u=w.findIndex(function(x){return x.trackId === v.trackId;});-1 !== u && (w[u]=v);});}});l.forEach(function(t){t.bj && d.jgb(k.$a.Hu,m.vj,t,function(v){return d.CV.Bdb(q,[v],m.Ii)[0];});});return {fa:k,Tc:m};};c.prototype.T9b=function(k,m){return this.CV.APb(k,m);};c.prototype.jgb=function(k,m,f,d){var l,n,h,p;l=k.findIndex(function(q){return q.Tg === f.Tg;});n=-1 !== l?k[l]:void 0;h=m.findIndex(function(q){return q.trackId === f.Tg;});p=-1 !== h?m[h]:void 0;if(n && !n.bj && p && !p.bj)return (d=d(f),k[l]=f,m[h]=d);};b.rMa=c;},function(r,b){function a(c,g,k){this.log=c;this.j=g;this.sDa=k;}Object.defineProperty(b,"__esModule",{value:!0});b.MSa=void 0;a.prototype.F4b=function(c){var g;g=this;c=(c || []).filter(function(k){return k.urls && 0 < k.urls.length;}).map(function(k){return g.sDa(g.j,k.id,k.height,k.width,k.f5b,k.g5b,k.size,k.sv,{unknown:k.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(k,m){return k.size - m.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.MSa=a;},function(r,b,a){var g,k,m,f,d,l,n;function c(h,p,q){h=k.qT.call(this,h) || this;h.config=p;h.j=q;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.FFa=void 0;g=a(485);k=a(501);m=a(101);f=a(91);d=a(127);l=a(3);n=a(36);ja(c,k.qT);c.prototype.Bdb=function(h,p,q){var t,v;t=this;v=this.config.Eea;p=p.filter(function(w){var u,x;u=w.WE || !w.bj || w.streams && 0 < w.streams.length;u || t.log.warn("Audio track is missing streams",t.a$(w));x=0 === v.length || 0 <= v.indexOf(w.Ji);x || t.log.warn("Audio track is not supported",t.a$(w));return u && x;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(w){return t.Adb(h,w,t.kRb(w,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.z4b=function(h,p,q,t){var v,w,u,x;v=this;w=ma((0,m.Nv)(function(y){return y.WE;},p));p=w.next().value;w=w.next().value;w=ma((0,m.Nv)(function(y){return y.streams && 0 < y.streams.length;},w));u=w.next().value;w.next().value.forEach(function(y){return v.log.warn("Audio track is missing streams",v.a$(y));});x=this.config.Eea;w=ma((0,m.Nv)(function(y){return 0 === x.length || 0 <= x.indexOf(y.Ji);},u));u=w.next().value;w.next().value.forEach(function(y){return v.log.warn("Audio track is not supported",v.a$(y));});p=[].concat(ha(u),ha(p)).map(function(y){return v.Adb(h,y,v.TSb(y.Tg,q,t));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.dEb=function(h){var p,q;p=this;q=this.config.Xra;if(q){if(h=ma(h.filter(function(t){return t.Ef == q || t.trackId == q;})).next().value)return h;}else if(this.j.f9 && (h=ma(h.filter(function(t){return t.trackId == p.j.f9;})).next().value))return h;};c.prototype.APb=function(h,p){this.config.PYa.forEach(function(q){var t,v,w;t=p.Hu.filter(function(u){return u.profile === q;}).reduce(function(u,x){x.streams.map(function(y){return y.bitrate;}).forEach(function(y){u.add(y);});return u;},new Set());v=!1;w=h.$a.Hu.map(function(u){var x;if(u.profile === q){x=u.streams.filter(function(y){return t.has(y.bitrate);});if(x.length === u.streams.length)return u;v=!0;if(0 === x.length)throw new n.od(l.$.ZLa,l.X.qnb);return Object.assign(Object.assign({},u),{streams:x});}return u;});v && (h.$a=Object.assign(Object.assign({},h.$a),{Hu:w}));});return h;};c.prototype.Adb=function(h,p,q){var t,v,w,u;u=p.Ji;h=Object.assign(Object.assign({},h),{type:f.oj.audio,OK:p.OK,variant:p.variant,trackId:p.Tg,Xx:p.UR,Ji:d.q4[u.toLowerCase()] || d.Gq.QL,FF:u,Ef:p.language,displayName:p.aF,ec:null !== (t=p.ec) && void 0 !== t?t:-1,bj:null !== (v=p.bj) && void 0 !== v?v:!0,channels:p.channels,qnc:p.channels,Ii:q,Dh:{Bcp47:p.language,TrackId:p.Tg},streams:[],isNative:p.isNative,Cr:p.WE,u0:p.u0});h.streams=this.Fkb(p.streams,h);this.log.trace("Transformed audio track",h,{StreamCount:h.streams.length,AllowedTimedTextTracks:h.Ii.length});h.kHb=g.GFa[null === (w=h.streams[0]) || void 0 === w?void 0:w.af];return h;};c.prototype.a$=function(h){return {language:h.aF,bcp47:h.language,type:h.Ji};};c.prototype.kRb=function(h,p){return p.filter(function(q){if(0 <= h.yMb.indexOf(q.Xx))return !1;if(h.z1a){if(h.z1a !== q.Xx && (q.Cr() || q.aq()))return !1;}else if(h.O2b){if(q.Cr() || q.aq())return !1;}else if(q.aq())return !1;return !0;});};c.prototype.TSb=function(h,p,q){return p.filter(function(t){return t.xe.V === h;}).map(function(t){return t.xe.Hb;}).map(function(t){return q.find(function(v){return v.trackId === t;});}).filter(Boolean);};b.FFa=c;},function(r,b,a){var g,k,m,f;function c(d){return k.qT.call(this,d) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.qTa=void 0;g=a(101);k=a(501);m=a(91);f=a(127);ja(c,k.qT);c.prototype.G4b=function(d,l){var n,h;n=this;l=ma((0,g.Nv)(function(p){return p.streams && 0 < p.streams.length;},l));h=l.next().value;l.next().value.forEach(function(p){return n.log.warn("Video track is missing streams",{trackId:p.Tg});});l=h.map(function(p){var q;q=p.Ji;q=Object.assign(Object.assign({},d),{type:m.oj.video,trackId:p.Tg,Xx:p.UR,Ji:f.q4[q.toLowerCase()] || f.Gq.QL,FF:q,streams:[],Dh:{},g_:p.g_});q.streams=n.Fkb(p.streams,q);n.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!l.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:l.length});return l;};c.prototype.C4b=function(d){var l;l=d.map(function(n){return n.g_;}).filter(Boolean);l=[].concat.apply([],ha(l)).map(function(n){return n.ea;});d=d.map(function(n){return n.Eqa;}).filter(Boolean).map(function(n){return n.ea;});return 0 < l.length?l:d;};b.qTa=c;},function(r,b,a){var g,k,m,f,d,l;function c(n,h){n=k.zf.call(this,n,"ManifestParserConfigImpl") || this;n.zh=h;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.oMa=void 0;r=a(0);g=a(1);k=a(45);m=a(33);f=a(44);d=a(110);l=a(52);ja(c,k.zf);Ua.Object.defineProperties(c.prototype,{Eea:{configurable:!0,enumerable:!0,get:function(){return [];}},Xra:{configurable:!0,enumerable:!0,get:function(){return "";}},Goa:{configurable:!0,enumerable:!0,get:function(){return [];}},Foa:{configurable:!0,enumerable:!0,get:function(){return [];}},bsa:{configurable:!0,enumerable:!0,get:function(){return "";}},Dua:{configurable:!0,enumerable:!0,get:function(){return 0;}},MR:{configurable:!0,enumerable:!0,get:function(){return this.zh.MR.ja(l.xw);}},gw:{configurable:!0,enumerable:!0,get:function(){return this.zh.gw;}},qP:{configurable:!0,enumerable:!0,get:function(){return this.zh.qP;}},PYa:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;r.__decorate([f.config(f.NK,"supportedAudioTrackTypes")],a.prototype,"Eea",null);r.__decorate([f.config(f.string,"forceAudioTrack")],a.prototype,"Xra",null);r.__decorate([f.config(f.ADa,"cdnIdWhiteList")],a.prototype,"Goa",null);r.__decorate([f.config(f.ADa,"cdnIdBlackList")],a.prototype,"Foa",null);r.__decorate([f.config(f.string,"forceTimedTextTrack")],a.prototype,"bsa",null);r.__decorate([f.config(f.AC,"imageSubsResolution")],a.prototype,"Dua",null);r.__decorate([f.config(f.AC,"timedTextSimpleFallbackThreshold")],a.prototype,"MR",null);r.__decorate([f.config(f.NK,"timedTextProfiles")],a.prototype,"gw",null);r.__decorate([f.config(f.NK,"imscLanguageList")],a.prototype,"qP",null);r.__decorate([f.config(f.NK,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"PYa",null);a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.Qm)),r.__param(1,(0,g.l)(d.HG))],a);b.oMa=a;},function(r,b){function a(c){this.Tc=c;this.Qb=JSON.stringify(this.bTb());}Object.defineProperty(b,"__esModule",{value:!0});b.uMa=void 0;a.prototype.bTb=function(){var c;c=[];(!this.Tc.Rg || 0 >= this.Tc.Rg.length) && c.push({error:"No CDN."});this.Tc.oW || c.push({error:"No default audio track.",foundTracks:this.Lsa(this.Tc.vj)});this.Tc.f8 || c.push({error:"No default video track.",foundTracks:this.Lsa(this.Tc.Wy)});this.Tc.qW || c.push({error:"No default subtitle track.",foundTracks:this.Lsa(this.Tc.Ii)});return c;};a.prototype.Lsa=function(c){return c && 0 < c.length?c.map(function(g){return g.trackId;}):"No tracks found.";};b.uMa=a;},function(r,b,a){var g,k,m,f,d;function c(l,n){this.y$a=l;this.L_b=n;}Object.defineProperty(b,"__esModule",{value:!0});b.mMa=void 0;r=a(0);g=a(1);k=a(506);m=a(507);f=a(36);d=a(3);c.prototype.create=function(l){var n,h,p,q;n=this;if(l && !this.dYb(l)){if(this.kYb(l))throw f.od.Hgc(d.$.HL,d.X.Wub,l);q=this.y$a();q.Yma(l.links);this.L_b.BO(l);return {$a:l,Aj:q,rva:!1,qva:!1,Iu:null !== (p=null === (h=l.Iu) || void 0 === h?void 0:h.map(function(t){var v;v=n.y$a();v.Yma(t.links);return {$a:t,Aj:v,rva:!1,qva:!1,Iu:[]};})) && void 0 !== p?p:[]};}};c.prototype.kYb=function(l){return ("type" in l) && "muxed" === l.type;};c.prototype.dYb=function(l){return ("runtime" in l) && ! !l.runtime;};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.HOa)),r.__param(1,(0,g.l)(m.lMa))],a);b.mMa=a;},function(r,b,a){var g,k;function c(m){this.tOb=m;this.kab={Ao:"drmType",foc:"drmVersion",expiration:"expiration",K:"movieId",Wo:"packageId",duration:"duration",Ug:"playbackContextId",e8:["defaultTrackOrderList",{YP:"mediaId",fS:"videoTrackId",Bjb:"subtitleTrackId",Lp:"audioTrackId",Rqc:"preferenceOrder"}],joc:["eligibleABTestMap",{Ck:k.Ck}],Xmc:["badgingInfo",{Znc:"dolbyDigitalAudio",$oc:"hdrVideo",$nc:"dolbyVisionVideo",psc:"ultraHdVideo","3dVideo":"3dVideo",Ync:"dolbyAtmosAudio",Omc:"assistiveAudio",urc:"sdVideo",Zoc:"hdVideo"}],type:"type",Smc:["audioTextShortcuts",{id:"id",Lp:"audioTrackId",asc:"textTrackId"}],Kqc:"partiallyHydrated",Mab:"maxRecommendedAudioRank",Nab:"maxRecommendedTextRank",om:"drmContextId",wVb:"hasDrmProfile",vVb:"hasClearProfile",ME:"hasDrmStreams",l$:"hasClearStreams",Bj:["locations",{ec:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],Yl:["servers",{id:"id",name:"name",type:"type",ec:"rank",aab:"lowgrade",HMb:["dns",{host:"host",CXb:"ipv4",DXb:"ipv6",pQb:"forceLookup"}],key:"key"}],Hu:["audio_tracks",{type:"type",OK:"subType",variant:"variant",Ji:"trackType",Tg:"new_track_id",UR:"track_id",X6b:"profileType",Vbc:"stereo",profile:"profile",channels:"channels",language:"language",iGb:"channelsFormat",u0:"surroundFormatLabel",aF:"languageDescription",yMb:"disallowedSubtitleTracks",z1a:"defaultTimedText",isNative:"isNative",WE:"isNoneTrack",streams:["streams",{zo:"downloadable_id",size:"size",fE:"content_profile",Ji:"trackType",bitrate:"bitrate",yj:"isDrm",urls:["urls",{Qf:"cdn_id",url:"url",Haa:"liveOcaCapabilities"}],T1b:"new_stream_id",type:"type",channels:"channels",iGb:"channelsFormat",u0:"surroundFormatLabel",language:"language",Rmc:"audioKey",B1b:["moov",{size:"size",offset:"offset"}],Ly:["sidx",{size:"size",offset:"offset"}],pC:["ssix",{size:"size",offset:"offset"}],Pj:"tags",U8b:"representationId"}],kHb:"codecName",FF:"rawTrackType",id:"id",ec:"rank",bj:"hydrated",O2b:"offTrackDisallowed"}],Xy:["video_tracks",{Ji:"trackType",Tg:"new_track_id",type:"type",UR:"track_id",wVb:"hasDrmProfile",vVb:"hasClearProfile",ME:"hasDrmStreams",l$:"hasClearStreams",VI:"groupName",streams:["streams",{zo:"downloadable_id",size:"size",fE:"content_profile",Ji:"trackType",pI:"drmHeaderId",bitrate:"bitrate",yj:"isDrm",urls:["urls",{Qf:"cdn_id",url:"url",Haa:"liveOcaCapabilities"}],T1b:"new_stream_id",type:"type",Mqc:"peakBitrate",qMb:"dimensionsCount",rMb:"dimensionsLabel",Vdb:"pix_w",Udb:"pix_h",xgb:"res_w",IAa:"res_h",OKb:"crop_x",PKb:"crop_y",NKb:"crop_w",MKb:"crop_h",s4a:"framerate_value",r4a:"framerate_scale",Sib:"startByteOffset",eb:"vmaf",B1b:["moov",{size:"size",offset:"offset"}],Ly:["sidx",{size:"size",offset:"offset"}],pC:["ssix",{size:"size",offset:"offset"}],Wr:["segmentVmaf",{offset:"offset",eb:"vmaf"}],Pj:"tags",U8b:"representationId"}],X6b:"profileType",Vbc:"stereo",profile:"profile",qMb:"dimensionsCount",rMb:"dimensionsLabel",Nrc:["snippets",{Ck:[k.Ck,{Mrc:"snippetSpec",xa:"startTimeMs",wa:"endTimeMs"}]}],Eqa:["drmHeader",{ea:"bytes",FGb:"checksum",pI:"drmHeaderId",bq:"keyId",Ul:["resolution",{height:"height",width:"width"}]}],g_:["prkDrmHeaders",{ea:"bytes",FGb:"checksum",pI:"drmHeaderId",bq:"keyId",Ul:["resolution",{height:"height",width:"width"}]}],dv:"flavor",kpc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",eza:"pixelAspectX",fza:"pixelAspectY",Tpc:"maxCroppedWidth",Spc:"maxCroppedHeight",Upc:"maxCroppedX",Vpc:"maxCroppedY",kxa:"max_framerate_value",jxa:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",jqc:"minCroppedWidth",iqc:"minCroppedHeight",kqc:"minCroppedX",lqc:"minCroppedY",Ch:["license",{wZb:"licenseResponseBase64",Yqc:"providerSessionToken",yrc:"secureStopExpected",eoc:"drmSessionId",links:["links",{}]}]}],xx:["cdnResponseData",{zK:"sessionABTestCell",zm:"pbcid"}],qo:["choiceMap",{fe:"initialSegment",type:"type",P:"viewableId",R:["segments",{Ck:[k.Ck,{xa:"startTimeMs",wa:"endTimeMs",next:["next",{Ck:[k.Ck,{weight:"weight"}]}],Ub:"defaultNext",Vp:"exitZones"}]}]}],vo:["contentPlaygraph",{ka:["playgraph",{fe:"initialSegment",R:["segments",{Ck:[k.Ck,{P:"viewableId",xa:"startTimeMs",wa:"endTimeMs",next:["next",{Ck:[k.Ck,{weight:"weight"}]}],Ub:"defaultNext"}]}]}],Rrc:["startIdent",{lpc:"identToken",P:"viewableId"}]}],media:["media",{id:"id",xe:["tracks",{V:"AUDIO",Hb:"TEXT",J:"VIDEO"}]}],r_:["recommendedMedia",{fS:"videoTrackId",Lp:"audioTrackId",NR:"timedTextTrackId"}],H0:["timedtexttracks",{Ji:"trackType",Tg:"new_track_id",type:"type",OK:"subType",variant:"variant",FF:"rawTrackType",aF:"languageDescription",language:"language",id:"id",WE:"isNoneTrack",eaa:"isForcedNarrative",n2a:["downloadableIds",{}],UZa:["cdnlist",{id:"id",name:"name",type:"type",ec:"rank",aab:"lowgrade",HMb:["dns",{host:"host",CXb:"ipv4",DXb:"ipv6",pQb:"forceLookup"}],key:"key"}],yDa:["ttDownloadables",{Ck:[k.Ck,{id:"id",size:"size",$rc:"textKey",Yoc:"hashValue",Xoc:"hashAlgo",upc:"isImage",yxa:"midxOffset",pbb:"midxSize",height:"height",width:"width",BW:["downloadUrls",{}],urls:["urls",{url:"url",Qf:"cdn_id",Haa:"liveOcaCapabilities"}]}]}],haa:"isLanguageLeftToRight",sv:"headIdentDuration",ec:"rank",bj:"hydrated"}],fec:["trickplays",{zo:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",g5b:"pixelsAspectY",f5b:"pixelsAspectX",width:"width",height:"height",sv:"headIdentDuration"}],Cmb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],doc:"dpsid",di:"isBranching",Esc:"viewableType",fva:"isAd",EP:"isSupplemental",aHb:"clientIpAddress",usc:"urlExpirationDuration",Opc:"manifestExpirationDuration",Src:["steeringAdditionalInfo",{Trc:"steeringId",Jmc:"additionalGroupNames",Vrc:["streamingClientConfig",{}]}],Oe:"auxiliaryManifestToken",xB:["liveMetadata",{m2a:["downloadableIdToSegmentTemplateId",{Ck:k.Ck}],khb:["segmentTemplateIdToSegmentTemplate",{Ck:[k.Ck,{SYa:"availabilityStartTime",kXb:"initialization",media:"media",s6b:"presentationTimeOffset",qea:"startNumber",duration:"duration",W:"timescale"}]}],N2b:"ocLiveWindowDurationSeconds",JOb:"eventStartTime",HOb:"eventEndTime"}],Bea:"streamingType"};this.M_b=Object.assign(Object.assign({},this.kab),{Iu:["auxiliaryManifests",this.kab],qN:["adverts",{tg:["adBreaks",{Qo:"locationMs",Ui:["ads",{id:"id",xa:"startTimeMs",wa:"endTimeMs",Lea:["timedAdEvents",{event:"event",ox:"adEventToken",tdc:"timeMs"}],hV:["actionAdEvents",{start:["start",{event:"event",ox:"adEventToken"}],complete:["complete",{event:"event",ox:"adEventToken"}],stop:["stop",{event:"event",ox:"adEventToken"}]}],yr:"is3pVerificationEnabled",vC:"thirdPartyVerificationToken"}],Mma:["actionAdBreakEvents",{complete:["complete",{event:"event",ox:"adEventToken"}]}]}]}]});}Object.defineProperty(b,"__esModule",{value:!0});b.kMa=void 0;r=a(0);g=a(1);k=a(228);c.prototype.BO=function(m){this.tOb.BO(m,this.M_b);};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.KIa))],a);b.kMa=a;},function(r,b,a){var g;function c(k,m,f,d,l){this.v6=this.Dn=this.zZ=this.yZ=g.Jw;this.request=k;this.type=k.responseType;this.wm=d;this.abort=m;this.timeout=f;this.v6=l;}Object.defineProperty(b,"__esModule",{value:!0});b.iKa=void 0;g=a(17);c.prototype.hac=function(k){this.yZ=k;};c.prototype.oac=function(k){this.zZ=k;};c.prototype.Z$b=function(k){this.Dn=k;};b.iKa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.R0a=void 0;b.R0a=function(a,c,g,k){return {STb:function(){var m;m=a.pta();k.sv && (m+=k.sv);return m;},ya:c,request:g,Vf:!1};};},function(r,b,a){var g,k,m,f;function c(d){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(d);}Object.defineProperty(b,"__esModule",{value:!0});b.ivb=void 0;g=a(0);r=a(117);k=a(1230);m=a(1235);f=a(1242);a=(function(d){function l(n,h){var p,q,t,v;t=d.call(this) || this;t.jo=!0;t.sU=[];t.cx=0;t.kWa=!0;v=n.Vf || !1;t.Sa=n.ya || console;t.Sq=n.request;t.Zw=n.STb;t.k5=null !== (p=n.Uoc) && void 0 !== p?p:function(w,u){return w - (null !== u && void 0 !== u?u:t.Zw());};t.wh=null;t.jo=!0;t.sU=[];t.LU=h.profile;t.hm=h.url;t.tH=h.Re;t.KU=h.preferences;t.cU=h.zh;t.cx=t.tH || 0;t.kWa=null !== (q=h.brc) && void 0 !== q?q:!0;n={url:t.hm,request:t.Sq,Re:t.tH,xml:h.xml,preferences:t.KU,zh:t.cU,ya:t.Sa,Vf:v,bufferSize:h.bufferSize,Hv:h.Hv,Sza:h.Sza || 0,pZa:h.pZa};if("nflx-cmisc" === t.LU)(n.offset=h.yxa,n.size=h.pbb,n.Rda=h.Rda,n.E2a=h.E2a,t.ed=new m(n));else if(c(t.LU) && "function" === typeof k)t.ed=new k(n);else throw Error("SubtitleManager: " + t.LU + " is an unsupported profile");t.ed.on("ready",function(){var w,u;w=! !h.OYa;t.Sa.info("ready event fired by subtitle stream");t.emit("ready");u=t.ed.UO.bind(t.ed);t.wh=new f(t.Zw,u,t.k5,function(){return t.jo;},t.Sa,h);if("dfxp-ls-sdh" === t.LU && "function" === typeof k)t.wh.on("stagesubtitle",t.Fbc.bind(t));t.wh.on("showsubtitle",t.bCa.bind(t));t.wh.on("removesubtitle",t.sAa.bind(t));t.wh.on("underflow",t.Zt.bind(t));t.wh.on("bufferingComplete",t.wg.bind(t));w && (t.Sa.info("autostarting subtitles"),setTimeout(function(){t.lw(t.Zw());},10));});t.ed.on("error",t.emit.bind(t,"error"));return t;}g.__extends(l,d);l.prototype.start=function(){this.ed.start();};l.prototype.bfb=function(){this.jo || (this.jo=!0,this.W2a(this.cx));};l.prototype.lw=function(n){this.kWa && !this.jo && 1E4 < Math.abs(n - this.cx) && (this.Sa.warn("Detected an unexpected pts jump larger than",1E4,"at",n,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.bfb());this.cx=n;this.jo && (this.jo=!1,this.Hbc(n));null !== this.wh && (this.Pec(n),this.wh.lw(n));};l.prototype.stop=function(){var n;this.Sa.info("stop called");this.jo || this.pause();this.ed.removeAllListeners(["ready"]);null !== this.wh && this.wh.stop();n=this.sU.reduce(function(h,p){h.yib+=p.b0;h.K8+=p.L8 || 0;h.zXb.push(p);return h;},{yib:0,K8:0,zXb:[]});"object" === typeof this.ed && this.ed.close();this.Sa.info("metrics: " + JSON.stringify(n));return n;};l.prototype.pause=function(){var n;n=this.Zw();this.jo?this.Sa.warn("pause called on subtitle manager, but it was already paused!"):(this.Sa.info("pause called at " + n),this.jo=!0,this.W2a(n));null !== this.wh && this.wh.pause();};l.prototype.Y9=function(n,h){return "function" === typeof this.ed.Y9?this.ed.Y9(n,h):[];};l.prototype.mv=function(n,h){return this.ed.mv(n,h);};l.prototype.UO=function(n){return this.ed.UO(n);};l.prototype.LF=function(n){var p;function h(){p.Sa.info("bufferingComplete from setStreamStartPosition");p.emit("bufferingComplete");}p=this;"function" === typeof this.ed.LF?this.ed.LF(n,h):h();};l.prototype.jl=function(n,h){"function" === typeof this.ed.jl && this.ed.jl(n,h);};l.prototype.vk=function(n,h){"function" === typeof this.ed.vk && this.ed.vk(n,h);};l.prototype.Bsa=function(){return this.sU[this.sU.length - 1];};l.prototype.bCa=function(n){var h,p,q,w;p=0;this.Sa.info("show subtitle called at " + this.Zw() + " for displayTime " + n.displayTime);this.emit("showsubtitle",n);q=this.Bsa();q.sR || (q.sR={});if(c(this.LU))try{for(var t=g.__values(n.blocks),v=t.next();!v.done;v=t.next()){w=v.value;q.sR[w.id] || (p++,q.sR[w.id]=!0);}}catch(x){var u;u={error:x};}finally{try{v && !v.done && (h=t.return) && h.call(t);}finally{if(u)throw u.error;}}else q.sR[n.id] || (p++,q.sR[n.id]=!0);q.b0+=p;};l.prototype.sAa=function(n){this.Sa.info("remove subtitle called at " + this.Zw() + " for remove time " + (n.displayTime + n.duration));this.emit("removesubtitle",n);};l.prototype.Fbc=function(n){this.Sa.info("stage subtitle called at " + this.Zw() + " for displayTime " + n.displayTime);this.emit("stagesubtitle",n);};l.prototype.Zt=function(){this.Sa.info("underflow fired by the subtitle timer");this.emit("underflow");};l.prototype.wg=function(){this.Sa.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};l.prototype.Hbc=function(n){this.Sa.info("creating a new subtitle interval at " + n);this.sU.push({da:n,b0:0});};l.prototype.Pec=function(n){var h;h=this.Bsa();h && (h.Yva=n);};l.prototype.W2a=function(n){var h;this.Sa.info("ending subtitle interval at " + n);h=this.Bsa();h && (h.Ta=n,h.Ta < h.da && (this.Sa.warn("correcting for interval where endPts is smaller than startPts"),h.da=0 < h.Ta?h.Ta - 1:0),h.L8=this.ed.mv(h.da,h.Ta),delete h.sR,h.L8 > h.b0 && h.Yva && 500 > h.Ta - h.Yva && (h.L8=this.ed.mv(h.da,h.Yva)),this.Sa.info("showed " + h.b0 + " during this interval"),this.Sa.info("expected " + h.L8 + " for this interval"));};return l;})(r.EventEmitter);b.ivb=a;b.default=a;},function(r,b,a){var w,u,x,y,z,A,B,C,D;function c(E){var G,F,I,L,M;G=E.preferences;F=E.zh;I=E.Re;L=E.xml;M=E.ya;if(!E.xml && !E.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");w.call(this);this.ze=this.pla=null;this.KU="object" === typeof G?E.preferences:{};this.cU="object" === typeof F?E.zh:{};this.ED="number" === typeof I?E.Re:0;this.FH="string" === typeof L?E.xml:"";this.Sa="object" === typeof M?E.ya:D;this.Sq=E.request;this.hm=E.url;this.ZG=[];this.cx=this.ED;this.wh=null;this.Zla=this.nWa=!1;this.cwb=E.Sza || 0;}function g(E,G){return E && "object" === typeof E[G] && null !== E[G]?E[G]:{};}function k(E,G){return E !== G && !(E && 0 === Object.keys(E).length && G && 0 === Object.keys(G).length);}function m(){var E,G,F;E=this;G=E.FH.indexOf("<p");if(-1 < G){F=E.FH.slice(0,G);l(F,function(I,L){null !== I?(I.cpc=F,E.emit("error",I)):(E.pla=L,E.ze=new x(E.FH,L.tickRate),d.call(E,E.ED));});}else E.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function f(E,G){var F;F=E.filter(function(I){return I.startTime <= G && G <= I.endTime;});E=E.filter(function(I){return I.startTime > G;});return 0 < E.length?F.concat([E[0]]):F;}function d(E){var G,F,I,L,M,K,O;G=this;F=G.pla;I=0;L=[];M=F.defaultStyle?[F.defaultStyle]:[];G.Sa.info("parsing the next 5 entries...");K=G.ze.qTb(E);G.Sa.info(K);O=u.Gg(!0);O.onerror=function(H){H.xml=K;G.emit("error",H);};O.onend=function(){var H;H=G.ZG.reduce(function(J,R){R=R.blocks.reduce(function(P,T){return P.concat([T.id]);},[]);return J.concat(R);},[]);L.forEach(function(J){var R;if(-1 === H.indexOf(J.id)){R=J && J.blocks && J.blocks.filter(function(P){return 0 < P.textNodes.length;});R && 0 < R.length && (J.blocks=R,G.ZG.push(J));}});G.Zla=!1;G.nWa || (G.nWa=!0,G.emit("ready"));};O.ontext=function(H){("" !== H.trim() || H.match(/ +/)) && q(q(L).blocks).textNodes.push({text:H.match(/ +/)?H:H.trim(),style:q(M),lineBreaks:I});I=0;};O.onclosetag=function(){"undefined" !== typeof O.tag.attributes.style && M.pop();};O.onopentag=function(H){var J,R,P,T,V;J=H.attributes;R=H.name;H=F.tickRate;if("p" === R){I=0;R=J["xml:id"];J.style && M.push(J.style);P=Math.floor(parseInt(J.begin) / H * 1E3);if(0 === L.length || q(L).displayTime !== P){P=L.push;T={};V=parseInt(J.begin) / H;H=parseInt(J.end) / H;T.id=R;T.startTime=Math.floor(1E3 * V);T.endTime=Math.floor(1E3 * H);T.style=J.style;T.region=J.region;T.displayTime=T.startTime;T.duration=T.endTime - T.startTime;T.extent=J["tts:extent"] || null;T.origin=J["tts:origin"] || null;T.latestEndSoFar=0 > T.endTime?0:T.endTime;T.blocks=[{textNodes:[],region:T.region,id:R,extent:T.extent,origin:T.origin}];P.call(L,T);}else q(L).blocks.push({textNodes:[],region:J.region,id:R,extent:J["tts:extent"] || null,origin:J["tts:origin"] || null});}else "span" === R?M.push(J.style):"br" === R && I++;};O.write("<entries>").write(K).write("</entries>").close();}function l(E,G){var F,I,L,M,K,O;F=u.Gg(!0);I={};L=[];M=null;K=[];O={};F.onerror=function(H){G(H,null);};F.onend=function(){G(null,I);};F.onclosetag=function(){L.pop();};F.onopentag=function(H){var J,R,P,T;J=H.attributes;R=H.name;P=I.regions;T=I.styles;L.push(H);if("tt" === R)I=n(J);else if("body" === R)"undefined" !== typeof J.style && (I.defaultStyle=J.style,K.push(J.style));else if("initial" === R && p(L,"styling"))O=h(J,A);else if("style" === R && p(L,"styling")){P=J["xml:id"];H=O;J=h(J,A);if(Object.keys(H).length)for(var V in H){"undefined" === typeof J[V] && (J[V]=H[V]);}T[P]=J;}else "style" === R && p(L,"region")?(T=Object.keys(J)[0],"string" === typeof T && (P[M][T.slice(4)]=J[T])):"region" === R && p(L,"layout") && (M=J["xml:id"],P[M]=h(J,C));};setTimeout(function(){var H;for(F.write(E);0 < L.length && !F.error;){H=q(L).name;F.write("</" + H + ">");}F.close();},10);}function n(E){var G;E=h(E,B);if("string" === typeof E.extent){G=E.extent.split(" ").map(function(F){return parseInt(F,10);});E.width=G[0];E.height=G[1];}else (E.width=1280,E.height=720);E.aspectRatio=E.width / E.height;"string" === typeof E.cellResolution?(G=E.cellResolution.split(" ").map(function(F){return parseInt(F,10);}),E.cellResolution={},E.cellResolution.x=G[0],E.cellResolution.y=G[1]):E.cellResolution={x:52,y:19};return E;}function h(E,G){var F;F={};G.forEach(function(I){"undefined" !== typeof E["tts:" + I]?F[I]=E["tts:" + I]:"undefined" !== typeof E["ttp:" + I]?F[I]=E["ttp:" + I]:"undefined" !== typeof E["ebutts:" + I]?F[I]=E["ebutts:" + I]:"undefined" !== typeof E["xml:" + I] && (F[I]=E["xml:" + I]);});F.styles={};F.regions={};return F;}function p(E,G){var F;for(F=E.length - 1;0 <= F;F--){if(E[F].name === G)return !0;}return !1;}function q(E){if(!Array.isArray(E))throw Error("last called on non-array: " + E);return E[E.length - 1];}function t(E,G){return {lineBreaks:G.lineBreaks,text:G.text,style:z.xKb(E[G.style] || ({}),this.cU,this.KU),id:G.id};}function v(E,G){var F,I;F=this;I=E.styles || ({});return {startTime:G.startTime,id:G.id,endTime:G.endTime,displayTime:G.displayTime,duration:G.duration,blocks:G.blocks.map(function(L){var M;M=y.tKb(E,L);return {textNodes:L.textNodes.map(t.bind(F,I)),region:M,id:L.id};})};}w=a(117).EventEmitter;u=a(1231);x=a(1232);y=a(1233);z=a(1234);A=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline multiRowAlign direction").split(" ");B=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");C=("backgroundColor displayAlign extent origin writingMode multiRowAlign").split(" ");D={info:function(){}};b=Object.create(w.prototype);c.prototype=b;b.start=function(){var E;E=this;E.Sa.info("incremental text stream created, starting at pts " + E.ED);E.FH?m.call(E):E.Sq({url:E.hm},function(G,F){E.FH=F;m.call(E);});};b.UO=function(E){var G,F,I;G=this;E < G.cx - G.cwb && (G.ZG=[]);F=G.ZG;I=0 < F.length?F[F.length - 1].startTime:E;G.cx=E;for(!G.wh && 5 > G.ZG.length && !G.Zla && (G.Sa.info("buffer size: " + G.ZG.length + "; minimum: 5"),G.Zla=!0,G.wh=setTimeout(function(){G.wh=null;d.call(G,I + 1);},10));0 < F.length && F[0].endTime < E;){F.shift();}F=f(F,E).map(v.bind(G,G.pla));E < G.ze.CPb() && 0 === F.length && (F=null);return F;};b.mv=function(E,G){return this.ze?this.ze.mv(E,G):0;};b.close=function(){};b.tsc=function(E){var G;G=g(E,"preferences");E=g(E,"defaults");return k(G,this.KU) || k(E,this.cU)?(this.KU=G,this.cU=E,!0):!1;};r.exports=c;},function(r,b){(function(a){var x,y,z,A,B,C,D,E,G,F,I,L,M,K,O,H;function c(){}function g(J,R){if(!(this instanceof g))return new g(J,R);for(var P=0,T=x.length;P < T;P++){this[x[P]]="";}this.q=this.c=this.Co=this.textNode="";this.kZa=a.cia;this.Uo=R || ({});this.Uo.Z$a=this.Uo.Z$a || this.Uo.Hpc;this.Gwa=this.Uo.Z$a?"toLowerCase":"toUpperCase";this.Pj=[];this.closed=this.SV=this.gR=!1;this.tag=this.error=null;this.Sn=! !J;this.pcb=!(!J && !this.Uo.pcb);this.state=H.jga;this.kz=(this.rjb=this.Uo.rjb)?Object.create(a.Dvb):Object.create(a.kz);this.PD=[];this.Uo.q1 && (this.Yk=Object.create(M));if(this.Tea=!1 !== this.Uo.position)this.position=this.line=this.TV=0;this.onready && this.onready(void 0);}function k(J,R){var P;if(!(this instanceof k))return new k(J,R);c.apply(this);this.Xz=new g(J,R);this.readable=this.writable=!0;P=this;this.Xz.onend=function(){P.emit("end");};this.Xz.onerror=function(T){P.emit("error",T);P.Xz.error=null;};y.forEach(function(T){Object.defineProperty(P,"on" + T,{get:function(){return P.Xz["on" + T];},set:function(V){if(!V)return (P.removeAllListeners(T),P.Xz["on" + T]=V);P.on(T,V);},enumerable:!0,configurable:!1});});}function m(J){return J.split("").reduce(function(R,P){R[P]=!0;return R;},{});}function f(J,R){return "[object RegExp]" === Object.prototype.toString.call(J)?! !R.match(J):J[R];}function d(J,R,P){J.textNode && l(J);J[R] && J[R](P);}function l(J){J.textNode=n(J.Uo,J.textNode);J.textNode && J.ontext && J.ontext(J.textNode);J.textNode="";}function n(J,R){J.trim && (R=R.trim());J.normalize && (R=R.replace(/\s+/g," "));return R;}function h(J,R){l(J);J.Tea && (R+="\nLine: " + J.line + "\nColumn: " + J.TV + "\nChar: " + J.c);R=Error(R);J.error=R;J.onerror && J.onerror(R);return J;}function p(J){J.gR && !J.SV && q(J,"Unclosed root tag");J.state !== H.jga && J.state !== H.kga && J.state !== H.Hb && h(J,"Unexpected end");l(J);J.c="";J.closed=!0;J.onend && J.onend(void 0);g.call(J,J.Sn,J.Uo);return J;}function q(J,R){if("object" !== typeof J || !(J instanceof g))throw Error("bad call to strictFail");J.Sn && h(J,R);}function t(J,R){var P,T;P=0 > J.indexOf(":")?["",J]:J.split(":");T=P[0];P=P[1];R && "xmlns" === J && (T="xmlns",P="");return {prefix:T,local:P};}function v(J){var R,P,T;J.Sn || (J.Wj=J.Wj[J.Gwa]());if(-1 !== J.PD.indexOf(J.Wj) || J.tag.attributes.hasOwnProperty(J.Wj))return J.Wj=J.Xj="";if(J.Uo.q1){R=t(J.Wj,!0);P=R.local;if("xmlns" === R.prefix)if("xml" === P && J.Xj !== I)q(J,"xml: prefix must be bound to " + I + "\nActual: " + J.Xj);else if("xmlns" === P && J.Xj !== L)q(J,"xmlns: prefix must be bound to " + L + "\nActual: " + J.Xj);else {R=J.tag;T=J.Pj[J.Pj.length - 1] || J;R.Yk === T.Yk && (R.Yk=Object.create(T.Yk));R.Yk[P]=J.Xj;}J.PD.push([J.Wj,J.Xj]);}else (J.tag.attributes[J.Wj]=J.Xj,d(J,"onattribute",{name:J.Wj,value:J.Xj}));J.Wj=J.Xj="";}function w(J,R){var P,T,S,W,ia,ra,ua;if(J.Uo.q1){P=J.tag;T=t(J.tagName);P.prefix=T.prefix;P.local=T.local;P.uri=P.Yk[T.prefix] || "";P.prefix && !P.uri && (q(J,"Unbound namespace prefix: " + JSON.stringify(J.tagName)),P.uri=T.prefix);T=J.Pj[J.Pj.length - 1] || J;P.Yk && T.Yk !== P.Yk && Object.keys(P.Yk).forEach(function(Aa){d(J,"onopennamespace",{prefix:Aa,uri:P.Yk[Aa]});});T=0;for(var V=J.PD.length;T < V;T++){S=J.PD[T];W=S[0];ia=S[1];ra=t(W,!0);S=ra.prefix;ua="" == S?"":P.Yk[S] || "";ia={name:W,value:ia,prefix:S,local:ra.local,uri:ua};S && "xmlns" != S && !ua && (q(J,"Unbound namespace prefix: " + JSON.stringify(S)),ia.uri=S);J.tag.attributes[W]=ia;d(J,"onattribute",ia);}J.PD.length=0;}J.tag.xpc=! !R;J.gR=!0;J.Pj.push(J.tag);d(J,"onopentag",J.tag);R || (J.state=J.pcb || "script" !== J.tagName.toLowerCase()?H.Hb:H.VL,J.tag=null,J.tagName="");J.Wj=J.Xj="";J.PD.length=0;}function u(J){var R,P,V;if(J.tagName){if(J.il){if("script" !== J.tagName){J.il+="</" + J.tagName + ">";J.tagName="";J.state=H.VL;return;}d(J,"onscript",J.il);J.il="";}R=J.Pj.length;P=J.tagName;J.Sn || (P=P[J.Gwa]());for(var T=P;R--;){if(J.Pj[R].name !== T)q(J,"Unexpected close tag");else break;}if(0 > R)(q(J,"Unmatched closing tag: " + J.tagName),J.textNode+="</" + J.tagName + ">");else {J.tagName=P;for(P=J.Pj.length;P-- > R;){V=J.tag=J.Pj.pop();J.tagName=J.tag.name;d(J,"onclosetag",J.tagName);for(var S in V.Yk){;}T=J.Pj[J.Pj.length - 1] || J;J.Uo.q1 && V.Yk !== T.Yk && Object.keys(V.Yk).forEach(function(W){d(J,"onclosenamespace",{prefix:W,uri:V.Yk[W]});});}0 === R && (J.SV=!0);J.tagName=J.Xj=J.Wj="";J.PD.length=0;}}else (q(J,"Weird empty close tag."),J.textNode+="</>");J.state=H.Hb;}a.Gg=function(J,R){return new g(J,R);};a.klc=g;a.llc=k;a.O0a=function(J){return new k(J,void 0);};a.cia=65536;x=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");a.Ve=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(J){function R(){this.__proto__=J;}R.prototype=J;return new R();});Object.getPrototypeOf || (Object.getPrototypeOf=function(J){return J.__proto__;});Object.keys || (Object.keys=function(J){var R,P;R=[];for(P in J){J.hasOwnProperty(P) && R.push(P);}return R;});g.prototype={end:function(){p(this);},write:function(J){var V,S,W,ia,ra,ua;if(this.closed)return h(this,"Cannot write after close. Assign an onready handler.");if(null === J)return p(this);if(this.error)throw this.error;for(var R=0,P;this.c=P=J.charAt(R++);){switch((this.Tea && (this.position++,"\n" === P?(this.line++,this.TV=0):this.TV++),this.state)){case H.jga:if((this.state=H.kga,"\ufeff" === P))continue;case H.kga:"<" === P?(this.state=H.zia,this.xCa=this.position):f(z,P) || (q(this,"Non-whitespace before first tag."),this.textNode=P,this.state=H.Hb);continue;case H.Hb:if(this.gR && !this.SV){for(var T=R - 1;P && "<" !== P && "&" !== P;){(P=J.charAt(R++)) && this.Tea && (this.position++,"\n" === P?(this.line++,this.TV=0):this.TV++);}this.textNode+=J.substring(T,R - 1);}"<" !== P || this.gR && this.SV && !this.Sn?(f(z,P) || this.gR && !this.SV || q(this,"Text data outside of root node."),"&" === P?this.state=H.Xja:this.textNode+=P):(this.state=H.zia,this.xCa=this.position);continue;case H.VL:"<" === P?this.state=H.eRa:this.il+=P;continue;case H.eRa:"/" === P?this.state=H.Bga:(this.il+="<" + P,this.state=H.VL);continue;case H.zia:"!" === P?(this.state=H.Cja,this.Rt=""):f(z,P) || (f(K,P)?(this.state=H.HNa,this.tagName=P):"/" === P?(this.state=H.Bga,this.tagName=""):"?" === P?(this.state=H.hOa,this.Vca=this.cK=""):(q(this,"Unencoded <"),this.xCa + 1 < this.position && (P=Array(this.position - this.xCa).join(" ") + P),this.textNode+="<" + P,this.state=H.Hb));continue;case H.Cja:(this.Rt + P).toUpperCase() === G?(d(this,"onopencdata"),this.state=H.N1,this.en=this.Rt=""):"--" === this.Rt + P?(this.state=H.Q1,this.Rt=this.kn=""):(this.Rt + P).toUpperCase() === F?(this.state=H.V1,(this.doctype || this.gR) && q(this,"Inappropriately located doctype declaration"),this.Rt=this.doctype=""):">" === P?(d(this,"onsgmldeclaration",this.Rt),this.Rt="",this.state=H.Hb):(f(C,P) && (this.state=H.hRa),this.Rt+=P);continue;case H.hRa:P === this.q && (this.state=H.Cja,this.q="");this.Rt+=P;continue;case H.V1:">" === P?(this.state=H.Hb,d(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=P,"[" === P?this.state=H.Hga:f(C,P) && (this.state=H.oHa,this.q=P));continue;case H.oHa:this.doctype+=P;P === this.q && (this.q="",this.state=H.V1);continue;case H.Hga:this.doctype+=P;"]" === P?this.state=H.V1:f(C,P) && (this.state=H.nHa,this.q=P);continue;case H.nHa:this.doctype+=P;P === this.q && (this.state=H.Hga,this.q="");continue;case H.Q1:"-" === P?this.state=H.sGa:this.kn+=P;continue;case H.sGa:"-" === P?(this.state=H.rGa,(this.kn=n(this.Uo,this.kn)) && d(this,"oncomment",this.kn),this.kn=""):(this.kn+="-" + P,this.state=H.Q1);continue;case H.rGa:">" !== P?(q(this,"Malformed comment"),this.kn+="--" + P,this.state=H.Q1):this.state=H.Hb;continue;case H.N1:"]" === P?this.state=H.jGa:this.en+=P;continue;case H.jGa:"]" === P?this.state=H.kGa:(this.en+="]" + P,this.state=H.N1);continue;case H.kGa:">" === P?(this.en && d(this,"oncdata",this.en),d(this,"onclosecdata"),this.en="",this.state=H.Hb):"]" === P?this.en+="]":(this.en+="]]" + P,this.state=H.N1);continue;case H.hOa:"?" === P?this.state=H.Lia:f(z,P)?this.state=H.Kia:this.Vca+=P;continue;case H.Kia:if(!this.cK && f(z,P))continue;else "?" === P?this.state=H.Lia:this.cK+=P;continue;case H.Lia:">" === P?(d(this,"onprocessinginstruction",{name:this.Vca,body:this.cK}),this.Vca=this.cK="",this.state=H.Hb):(this.cK+="?" + P,this.state=H.Kia);continue;case H.HNa:if(f(O,P))this.tagName+=P;else {this.Sn || (this.tagName=this.tagName[this.Gwa]());T=this.Pj[this.Pj.length - 1] || this;V=this.tag={name:this.tagName,attributes:{}};this.Uo.q1 && (V.Yk=T.Yk);this.PD.length=0;">" === P?w(this):"/" === P?this.state=H.I3:(!f(z,P) && q(this,"Invalid character in tag name"),this.state=H.nL);}continue;case H.I3:">" === P?(w(this,!0),u(this)):(q(this,"Forward-slash in opening tag not followed by >"),this.state=H.nL);continue;case H.nL:if(f(z,P))continue;else ">" === P?w(this):"/" === P?this.state=H.I3:f(K,P)?(this.Wj=P,this.Xj="",this.state=H.w1):q(this,"Invalid attribute name");continue;case H.w1:"=" === P?this.state=H.Nfa:">" === P?(q(this,"Attribute without value"),this.Xj=this.Wj,v(this),w(this)):f(z,P)?this.state=H.vEa:f(O,P)?this.Wj+=P:q(this,"Invalid attribute name");continue;case H.vEa:if("=" === P)this.state=H.Nfa;else if(f(z,P))continue;else (q(this,"Attribute without value"),this.Xj=this.tag.attributes[this.Wj]="",d(this,"onattribute",{name:this.Wj,value:""}),this.Wj="",">" === P?w(this):f(K,P)?(this.Wj=P,this.state=H.w1):(q(this,"Invalid attribute name"),this.state=H.nL));continue;case H.Nfa:if(f(z,P))continue;else f(C,P)?(this.q=P,this.state=H.Qfa):(q(this,"Unquoted attribute value"),this.state=H.Rfa,this.Xj=P);continue;case H.Qfa:if(P !== this.q){"&" === P?this.state=H.Ofa:this.Xj+=P;continue;}v(this);this.q="";this.state=H.wEa;continue;case H.wEa:f(z,P)?this.state=H.nL:">" === P?w(this):"/" === P?this.state=H.I3:f(K,P)?(q(this,"No whitespace between attributes"),this.Wj=P,this.Xj="",this.state=H.w1):q(this,"Invalid attribute name");continue;case H.Rfa:if(!f(E,P)){"&" === P?this.state=H.Pfa:this.Xj+=P;continue;}v(this);">" === P?w(this):this.state=H.nL;continue;case H.Bga:if(this.tagName)">" === P?u(this):f(O,P)?this.tagName+=P:this.il?(this.il+="</" + this.tagName,this.tagName="",this.state=H.VL):(!f(z,P) && q(this,"Invalid tagname in closing tag"),this.state=H.pGa);else if(f(z,P))continue;else f(K,P)?this.tagName=P:this.il?(this.il+="</" + P,this.state=H.VL):q(this,"Invalid tagname in closing tag.");continue;case H.pGa:if(f(z,P))continue;">" === P?u(this):q(this,"Invalid characters in closing tag");continue;case H.Xja:case H.Ofa:case H.Pfa:switch(this.state){case H.Xja:(S=H.Hb,W="textNode");break;case H.Ofa:S=H.Qfa;W="attribValue";break;case H.Pfa:(S=H.Rfa,W="attribValue");}if(";" === P){P=W;T=this[P];V=this.Co;ia=V.toLowerCase();ra="";if(this.kz[V])V=this.kz[V];else if(this.kz[ia])V=this.kz[ia];else {V=ia;if("#" === V.charAt(0))if("x" === V.charAt(1)){V=V.slice(2);ua=parseInt(V,16);ra=ua.toString(16);}else (V=V.slice(1),ua=parseInt(V,10),ra=ua.toString(10));V=V.replace(/^0+/,"");V=ra.toLowerCase() !== V?(q(this,"Invalid character entity"),"&" + this.Co + ";"):String.fromCodePoint(ua);}this[P]=T + V;this.Co="";this.state=S;}else f(D,P)?this.Co+=P:(q(this,"Invalid character entity"),this[W]+="&" + this.Co + P,this.Co="",this.state=S);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.kZa){J=Math.max(a.cia,10);P=R=0;for(S=x.length;P < S;P++){W=this[x[P]].length;if(W > J)switch(x[P]){case "textNode":l(this);break;case "cdata":d(this,"oncdata",this.en);this.en="";break;case "script":d(this,"onscript",this.il);this.il="";break;default:h(this,"Max buffer length exceeded: " + x[P]);}R=Math.max(R,W);}this.kZa=a.cia - R + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){l(this);"" !== this.en && (d(this,"oncdata",this.en),this.en="");"" !== this.il && (d(this,"onscript",this.il),this.il="");}};y=a.Ve.filter(function(J){return "error" !== J && "end" !== J;});k.prototype=Object.create(c.prototype,{constructor:{value:k}});k.prototype.write=function(J){this.Xz.write(J.toString());this.emit("data",J);return !0;};k.prototype.end=function(J){J && J.length && this.write(J);this.Xz.end();return !0;};k.prototype.on=function(J,R){var P;P=this;P.Xz["on" + J] || -1 === y.indexOf(J) || (P.Xz["on" + J]=function(){var T;T=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);T.splice(0,0,J);P.emit.apply(P,T);});return c.prototype.on.call(P,J,R);};z="\r\n\t ";A="0124356789";B="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";C="'\"";D=A + B + "#";E=z + ">";G="[CDATA[";F="DOCTYPE";I="http://www.w3.org/XML/1998/namespace";L="http://www.w3.org/2000/xmlns/";M={xml:I,q1:L};z=m(z);A=m(A);B=m(B);K=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;O=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;C=m(C);D=m(D);E=m(E);H=0;a.fD={jga:H++,kga:H++,Hb:H++,Xja:H++,zia:H++,Cja:H++,hRa:H++,V1:H++,oHa:H++,Hga:H++,nHa:H++,dic:H++,Q1:H++,sGa:H++,rGa:H++,N1:H++,jGa:H++,kGa:H++,hOa:H++,Kia:H++,Lia:H++,HNa:H++,I3:H++,nL:H++,w1:H++,vEa:H++,Nfa:H++,Qfa:H++,wEa:H++,Rfa:H++,Ofa:H++,Pfa:H++,Bga:H++,pGa:H++,VL:H++,eRa:H++};a.Dvb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.kz={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.kz).forEach(function(J){var R;R=a.kz[J];R="number" === typeof R?String.fromCharCode(R):R;a.kz[J]=R;});for(H in a.fD){a.fD[a.fD[H]]=H;}H=a.fD;String.fromCodePoint || (function(){var R,P;function J(){var T,V,S,ia,ra;T=[];V=-1;S=arguments.length;if(!S)return "";for(var W="";++V < S;){ia=Number(arguments[V]);if(!isFinite(ia) || 0 > ia || 1114111 < ia || P(ia) != ia)throw RangeError("Invalid code point: " + ia);if(65535 >= ia)T.push(ia);else {ia-=65536;ra=(ia >> 10) + 55296;ia=ia % 1024 + 56320;T.push(ra,ia);}if(V + 1 == S || 16384 < T.length)(W+=R.apply(null,T),T.length=0);}return W;}R=String.fromCharCode;P=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:J,configurable:!0,writable:!0}):String.fromCodePoint=J;})();})(b);},function(r){function b(a,c){var g,k,m,f,d,l;g=[];k=a.indexOf("<p");m=-1;do {f={};f.xbc=k;d=a.indexOf("begin=",k) + 7;l=a.indexOf("end=",k) + 5;d=Math.floor(parseInt(a.substr(d,25),10) / c * 1E3);l=Math.floor(parseInt(a.substr(l,25),10) / c * 1E3);m=l > m?l:m;f.startTime=d;f.endTime=l;f.latestEndSoFar=m;f.e3a=a.indexOf("/p>",k) + 3;k=f.e3a;g.push(f);k=a.indexOf("<p",k);}while(-1 !== k);this.g5=g;this.FH=a;}b.prototype.CPb=function(){return this.g5[this.g5.length - 1].endTime;};b.prototype.mv=function(a,c){return this.g5.filter(function(g){return g.startTime <= c && g.endTime >= a;}).length;};b.prototype.qTb=function(a){for(var c="",g=this.g5.filter(function(m){return m.startTime <= a && a < m.endTime || m.startTime >= a;}),k=4;k + 1 < g.length && g[k + 1].startTime === g[4].startTime;){k++;}g=g.slice(0,k + 1);0 < g.length && (c=this.FH.slice(g[0].xbc,g[g.length - 1].e3a));return c;};r.exports=b;},function(r,b,a){var m,f,d,l;function c(n){return "string" !== typeof n?null:f[n];}function g(n){return "string" !== typeof n?null:d[n];}function k(n,h){var p;p=n.split(" ");n=p[0];p=p[1];-1 < n.indexOf("px")?(n=parseFloat(n) / h.width,p=parseFloat(p) / h.height):(n=.01 * parseFloat(n),p=.01 * parseFloat(p));return [n,p];}m=a(508);r.exports={tKb:function(n,h){var p,q,t,v,w,u;p=h.textNodes[0] || ({});q=n.regions;t=n.styles;v=n.aspectRatio;q=q && q[h.region]?q[h.region]:{};p=t && t[p.style]?t[p.style]:{};t=k(m(h.extent,q.extent,"80% 80%"),n);h=k(m(h.origin,q.origin,"10% 10%"),n);n=Object;v/=1280 / 720;w=(1 - v) / 2;u=h[0];h=h[1];t=n.create.call(n,{marginLeft:u * v + w,marginTop:h,marginRight:(1 - (u + t[0])) * v + w,marginBottom:1 - (h + t[1])});1 < Object.keys(q).length?t.verticalAlignment=c(m(p.displayAlign,q.displayAlign,"before")):t.verticalAlignment=c(m(p.displayAlign,"after"));t.horizontalAlignment=g(m(p.textAlign,q.textAlign,"center"));v=q.writingMode?q.writingMode:"lrtb";t.writingMode="string" !== typeof v?null:l[v];t.multiRowAlignment=g(m(p.multiRowAlign,q.multiRowAlign,p.textAlign,q.textAlign,"center"));return t;}};f={before:"top",center:"center",after:"bottom"};d={left:"left",start:"start",center:"center",right:"right",end:"end"};l={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};},function(r,b,a){var k,m,f,d,l,n,h;function c(p){return "string" !== typeof p || "#" === p[0] && 7 === p.length?p:"#" === p[0] && 4 === p.length?"#" + p[1] + p[1] + p[2] + p[2] + p[3] + p[3]:f[p.toLowerCase()];}function g(p){var q,t,v;q=(p || "").split(" ");t=(/^[0-9]/).test(q);p=t?"#000000":c(q[0]);v=t?0:1;t=parseInt(q[v]);q=parseInt(q[v + 1]);return {color:p,width:0 < t?t:0,blur:0 < q?q:0};}k=a(508);r.exports={xKb:function(p,q,t){var v,w,u,x,y,z,A,B,C,D,E,G,F,I,L,M;v=k(t.characterSize,q.characterSize,"MEDIUM");w=p.fontFamily;w=k(t.characterStyle,"string" !== typeof w?null:d[w],q.characterStyle,"PROPORTIONAL_SANS_SERIF");u=(p.fontSize || "").split(" ")[0] || "";x=-1 < u.indexOf("%")?parseInt(u,10) / 100:-1 < u.indexOf("em")?parseFloat(u):1;u="underline" === p.textDecoration;y="italic" === p.fontStyle;z=m[k(t.Cgc,q.Cgc,"OPAQUE")];A=m[k(t.characterOpacity,q.characterOpacity,"OPAQUE")];B=m[k(t.backgroundOpacity,p.opacity,q.backgroundOpacity,"OPAQUE")];C=c(k(t.characterColor,p.color,q.characterColor,"#ffffff"));D=c(k(t.backgroundColor,p.backgroundColor,q.backgroundColor,null));E=c(k(t.Emb,p.Emb,q.Emb,null));G=k(t.characterEdgeAttributes,q.characterEdgeAttributes,null);x*=l[v] || 1;F=1;n[v] && (F=n[v][w] || 1);x*=1 / 19 * F;F=0;h[v] && (F=h[v][w] || 0);v=F;F=p.textOutline;F="string" !== typeof F?null:g(F).width;F=k(F,0);I=p.textOutline;I="string" !== typeof I?null:g(I).blur;I=k(I,0);L=t.characterEdgeColor;M=p.textOutline;M="string" !== typeof M?null:g(M).color;return {characterUnderline:u,characterItalic:y,characterStyle:w,windowOpacity:z,characterOpacity:A,backgroundOpacity:B,characterColor:C,backgroundColor:D,windowColor:E,characterEdgeAttributes:G,characterSize:x,characterTracking:v,characterEdgeWidth:F,characterEdgeBlur:I,characterEdgeColor:c(k(L,M,q.characterEdgeColor,"#000000")),direction:k(t.direction,p.direction,q.direction,"ltr")};}};m={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};f={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};d={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};l={SMALL:.5,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};n={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};h={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};},function(r,b,a){var g,k,m,f,d,l;function c(n){g.call(this);this.hm=n.url;this.Sq=n.request;this.tH=n.Re || 0;this.Sa=n.ya;this.rj=this.xs=null;n.Hv?this.xs=n.Hv:(this.Pb=n.offset,this.bN=n.size);this.Xm;this.Wla=n;}g=a(117).EventEmitter;k=a(1236);m=a(1237);f=a(1238);d=a(165);l=c.events={msb:"midxready",Jub:"sidxready",uub:"ready",Nf:"error"};c.prototype=Object.create(g.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Lq:{get:function(){return this.Xm && this.Xm.Ypa;}}});c.prototype.start=function(){this.xs?(this.Sa.warn("midx was prefectched and provided"),this.vUa(this.xs)):this.Pwb(this.Pb,this.bN,this.Qzb.bind(this));};c.prototype.close=function(){};c.prototype.Y9=function(n,h){return this.Xm && this.Xm.Jta(n,h);};c.prototype.mv=function(n,h){return (n=this.Y9(n,h))?n.length:n;};c.prototype.LF=function(n,h){this.Sa.debug("setStreamStartPosition: buffering subtitles at pts " + n);this.tH=n;this.Xm?this.Xm.LF(n,h):h && h();};c.prototype.UO=function(n){var h,p,q;if(!this.Xm || n > d.uSb(this.xs))return [];this.Xm && this.Xm.Cqa(n);h=this.Lq.Ly;p=this.Lq.index;q=[];p=d.vd(p) && this.rj[p + 1];if(!(p && p.entries.length || h && !(n > h.endTime)))return [];h && h.images.length && (q=this.IUa(h,n,[]));2 > q.length && p && p.images.length && (h=this.IUa(p,n,q),q.push.apply(q,h));return this.Xm.ZBa(n)?null:d.a0a(q);};c.prototype.vk=function(n,h){this.Xm && this.Xm.vk(n,h);};c.prototype.jl=function(n,h){this.Xm && this.Xm.jl(n,h);};c.prototype.Pwb=function(n,h,p){this.Sa.debug("downloading midx...");this.WUa(n,h,"binary",p);};c.prototype.Qwb=function(n,h,p){this.Sa.debug("downloading sidx...");this.WUa(n,h,void 0,p);};c.prototype.WUa=function(n,h,p,q){this.Sq({url:this.hm,offset:n,size:h,responseType:p},q);};c.prototype.Qzb=function(n,h){if(n)this.emit(l.Nf,d.vX(n,"midxdownloaderror"));else try{this.xs=new k(h);this.vUa(this.xs);}catch(p){this.emit(l.Nf,d.vX(p,"midxparseerror"));}};c.prototype.vUa=function(n){var h;h=n.entries.reduce(function(p,q){return p + q.size;},0);h?(this.emit(l.msb,n),this.Qwb(n.startOffset,h,this.Tzb.bind(this,n))):this.emit(l.Nf,d.vX({},"nosidxfoundinmidx"));};c.prototype.Tzb=function(n,h,p){var q,t,v,w;q=this;if(h)q.emit(l.Nf,d.vX(h,"sidxdownloaderror"));else {t=0;v=0;q.rj=[];try{w=0;n.entries.forEach(function(u){var x;x=new m(p,t,n.Qua,q.Sa,v,v + u.duration,w);q.rj.push(x);u.gbc=x;v=x.Qr;t+=u.size;w++;});}catch(u){q.emit(l.Nf,d.vX(u,"sidxparseerror"));return;}q.emit(l.Jub,q.rj);this.Xm=new f(q.Wla,n,q.rj);h=q.tH;q.Wla && q.Wla.Rda || (h=Math.max(q.tH - 1E4,0));this.Xm.Cqa(h,function(u){u && q.Sa.error("initial sidx download failed");q.emit(l.uub);});}};c.prototype.IUa=function(n,h,p){var y;for(var q=n.entries,t=0,v=q.length,w=[],u,x=this.xs;t < v;){u=q[t];if(u.displayTime <= h)u.displayTime + u.duration >= h && w.push(d.Qpa(u,n.images[t].data,x));else {y=w.length && w[w.length - 1] || p.length && p[p.length - 1];if(y && y.displayTime > h && y.displayTime !== u.displayTime)break;y.ZI !== u.ZI && w.push(d.Qpa(u,n.images[t].data,x));}t++;}return w;};r.exports=c;},function(r,b,a){var g,k;function c(m,f){this.duration=m;this.size=f;this.gbc=void 0;}g=a(288);k=a(165);r.exports=function(m){var n;m=new g(m);this.identifier=m.cAa(4);k.assert("midx" === this.identifier);this.version=m.Rr(4);k.assert(0 === this.version);this.Qua=m.al(36);this.creationTime=m.RQ();this.Wo=m.RQ();this.K=m.RQ();this.D9b=m.gi();this.E9b=m.gi();this.language=m.al(16);m.al(16);this.startOffset=m.RQ();this.CO=m.gi();for(var f=[],d=0,l=0;l < this.CO;l++){n=new c(m.Rr(4),m.gi());f.push(n);d+=n.duration;}this.entries=f;this.endTime=d;};},function(r,b,a){var k,m;function c(f,d,l,n,h,p,q,t){this.displayTime=f;this.duration=d;this.S3b=l;this.T3b=n;this.obc=h;this.pbc=p;this.ZI=q;this.Cua=t;}function g(f,d,l,n,h,p,q){var t;f=new k(f);t=0;f.position=d;this.Sa=n;this.identifier=f.cAa(4);m.assert("sidx" === this.identifier,n);this.Qua=f.al(36);m.rHb(this.Qua,l,n);this.duration=f.Rr(4);this.CO=f.gi();this.Cy=h;this.Qr=p;this.index=q || 0;this.entries=[];this.images=[];for(this.mma=0;t < this.CO;){d=new c(f.Rr(4),f.Rr(4),f.gi(),f.gi(),f.gi(),f.gi(),f.RQ(),f.Rr(4));t++;this.entries.push(d);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}k=a(288);m=a(165);g.prototype.SWb=function(){this.mma++;};g.prototype.tLb=function(){var f;f=0;this.mma--;1 > this.mma?this.images && 0 < this.images.length && (f+=m.Fta([this]),this.images=[]):this.Sa.debug("Not cleaning up shared sidx with range",this.Cy,"-",this.Qr);return f;};r.exports=g;},function(r,b,a){var m,f;function c(d,l){var h;d=d || 0;if(l)for(var n in l.R){h=l.R[n];if(d >= (h.xa || 0) && (!h.wa || d < h.wa))return n;}}function g(d,l){return d && l && l.R[d];}function k(d,l,n){var h;this.Sa=d.ya;this.rj=n;this.CD=this.swb(d.Rda);this.Uh=[];h=n && n[n.length - 1];this.cx=h && (h.endTime || h.Qr);this.qg=new m(d,l,n);d=c(d.Re || 0,this.CD);this.wp=this.Mz(d);}m=a(1239);f=a(1241);Object.defineProperties(k.prototype,{Ypa:{get:function(){return this.qg.Ypa;}}});k.prototype.Jta=function(d,l){return this.qg && this.qg.Jta(d,l);};k.prototype.Cqa=function(d,l){this.qg.T$b(d);this.$Wa(d);if(!this.CD && this.cx && d > this.cx)l && l();else if((d=this.pUa(d,this.wp,2,l),this.CD && 0 < this.wp.ecb.length))l && l();else if(this.CD && this.wp.zP && d){2 > this.Uh.length && this.ywb(this.wp);l=Math.ceil(2 / (this.Uh.length - 1));for(var n=0;n < this.Uh.length && d && 3 > n;n++){d=this.Uh[n];d=this.pUa(d.startTime,d,l);}}};k.prototype.ZBa=function(d){return this.qg.ZBa(d)?(this.qg.PCb(),this.Cqa(d),this.wp.zP=!1,!0):!1;};k.prototype.LF=function(d,l){var n;this.$Wa(d);this.Uh.forEach(function(h){h.zP=!1;});n=this.wp.ap && this.wp.ap[0];this.qg.LF(d,n && n.index);(d=this.qg.mUb(d)) && d.length?this.qg.k2a(d,l):l && l();};k.prototype.jl=function(d,l){var n;this.Sa.debug("Set next segment to",l,"for segment",d);d=this.zUa(d) || this.Mz(d);d.nhb=l;n=this;d.oZ=d.oZ.filter(function(h){if(h.id === l)return !0;n.Rka(h);return !1;});};k.prototype.vk=function(d,l){var n;n=g(d,this.CD);Object.keys(n.next).forEach(function(h){n.next[h].weight=l[h] || 0;});};k.prototype.swb=function(d){var l,h;l={};if(d=(d || ({})).R){l.R={};for(var n in d){h=d[n] || ({});l.R[n]={xa:h.xa,wa:h.wa,Ub:h.Ub,next:this.rwb(h.next)};}}return l;};k.prototype.rwb=function(d){var l,n;l={};for(n in d){l[n]={weight:(d[n] || ({})).weight};}return l;};k.prototype.$Wa=function(d){var l,n;if(this.CD && this.wp.startTime > d || this.wp.endTime && this.wp.endTime < d){l=this.wp;n=c(d,this.CD);n?(this.Sa.debug("Switching segments from",this.wp.id,"to",n,"at pts",d),this.wp=this.zUa(n) || this.Mz(n),this.Rka(l)):this.Sa.debug("The pts is outside of the current segment but not in a new one yet");}};k.prototype.Mz=function(d){this.Sa.debug("SegmentManager: creating segment",d);d=new f(d,g(d,this.CD),this.rj,this.Sa);this.Uh.push(d);this.Sa.debug("SegmentManager: segment contains",d.ap.length,"sidxes");return d;};k.prototype.Rka=function(d){var l;if(d && d !== this.wp){this.Sa.debug("SegmentManager: deleting segment",d.id);d.oZ.forEach(this.Rka.bind(this));this.Uh=this.Uh.filter(function(n){return n !== d;});l=d.o_a();this.qg.q8b(l && l.size || 0,l && l.ap);}};k.prototype.zUa=function(d){var n;for(var l=0;d && l < this.Uh.length;l++){n=this.Uh[l];if(d === n.id)return n;}};k.prototype.ywb=function(d){var l,h;l=d.nhb;if(l && "" !== l)d.oZ.push(this.Mz(l));else {l=d.ecb;for(var n in l){h=l[n];if(!h || !h.weight)break;d.oZ.push(this.Mz(n));}}};k.prototype.pUa=function(d,l,n,h){if(!l || l.zP)return (this.Sa.debug("Done driving segment",l && l.id),!0);if(!this.qg.MFb)return (this.Sa.debug("Throttling buffering in quiet period"),!1);this.Sa.debug("Drive streaming of segment",l.id,"from pts",d);n=(d=this.qg.nUb(d,l,n)) && d.length || 0;if(0 === n)return (this.Sa.debug("Segment is fully downloaded",l && l.id),l.zP=!0,h && h(),!0);this.Sa.debug("Downloading",n,"sidxes in segment",l.id);return this.qg.k2a(d,function(p,q){p && (l.zP=!1);h && h(p,q);});};r.exports=k;},function(r,b,a){var l,n;function c(h,p,q){var t;t=q.displayTime <= h && h <= q.displayTime + q.duration;return h <= q.displayTime && q.displayTime <= p || t;}function g(h,p,q){return p && (!p.entries.length && h > p.Cy || h > p.endTime) && q.entries.length && h < q.endTime;}function k(h,p,q){this.wH=this.Ww=0;this.jyb=h.bufferSize || 4194304;this.Lq=new d();this.sH;this.kH=h.Vf;this.Sa=h.ya;this.xs=p;this.rj=q;this.Ep=new l(h);this.GH=new f(this.rj.length,h.E2a);this.NU=new m(h.pZa);}function m(h){this.Vwb=0 !== h;this.on=!1;this.Ek=h || 3E3;this.wh;}function f(h,p){if(this.enabled=p)this.ap=Array.apply(null,Array(h)).map(function(){return "-";});}function d(h,p){this.Ly=h;this.index=p;}l=a(1240);n=a(165);d.prototype.reset=function(){this.index=this.Ly=void 0;};f.prototype.ja=function(h){this.enabled && h < this.ap.length && (this.ap[h]="x");};f.prototype.fdb=function(h){this.enabled && h < this.ap.length && (this.ap[h]="-");};f.prototype.toString=function(){return this.enabled && "|" + this.ap.join("") + "|";};m.prototype.start=function(){var h;if(this.Vwb){h=this;this.on=!0;this.wh=setTimeout(function(){h.on=!1;h.wh=void 0;},this.Ek);}};m.prototype.stop=function(){this.on=!1;clearTimeout(this.wh);this.wh=void 0;};Object.defineProperties(k.prototype,{Ypa:{get:function(){return this.Lq;}},MFb:{get:function(){return !this.NU.on;}}});k.prototype.BU=function(){this.GH.enabled && this.Sa.debug("Buffer: " + this.GH.toString());};k.prototype.mAb=function(h){this.wH+=h;this.Sa.debug("Reserved buffer size is",this.Ww + this.wH,"after reserving",h);};k.prototype.cBb=function(h){this.wH-=h;this.Sa.debug("Reserved buffer size is",this.Ww + this.wH,"after unreserving",h);};k.prototype.qwb=function(h){this.Ww+=h;this.Sa.debug("Buffer size is",this.Ww,"after claiming",h);};k.prototype.qWa=function(h){this.Ww-=h;this.Sa.debug("Buffer size is",this.Ww,"after clearing",h);};k.prototype.q8b=function(h,p){var q;this.qWa(h);q=this;p && this.GH.enabled && (p.forEach(function(t){q.GH.fdb(t.index);}),this.BU());};k.prototype.ZBa=function(h){var p;p=this.gxb(h);return n.d8a(p) && n.vcc(h,p);};k.prototype.T$b=function(h){var p;p=this.NUa(h);(!p || p.index) !== (!this.Lq || this.Lq.index) && (this.sH=this.Lq.Ly,p?(this.kH && this.Sa.debug("Current sidx is index",p.index),this.Lq=p):(this.kH && this.Sa.debug("Current sidx is out of range"),this.Lq.reset()));this.sH && "number" === typeof this.sH.index && (h < this.sH.Cy - 35E3 || h > this.sH.Qr + 35E3) && (this.Ika(this.sH.index),this.sH=void 0,this.BU());};k.prototype.LF=function(h,p){var q,t;q=this.rj && this.rj.length;for(p;p < q;p++){(t=this.rj[p]) && ((t.endTime || t.Qr) >= h - 1E4 && (t.endTime || t.Qr) < h + 3E5 || this.Ika(p));}this.NU.stop();this.BU();};k.prototype.PCb=function(){var h,p;this.Sa.debug("executing aggressive cleanup");h=this.rj && this.rj.length;for(p=0;p < h;p++){p === this.Lq.index && (p+=2);this.Ika(p);}this.NU.stop();this.BU();};k.prototype.mUb=function(h){var p,q,t,v;p=[];q=this.NUa(h);if(!q)return (this.Lq.reset(),p);this.Lq=q;t=h + 1E4;q=q.index;v=this.rj[q];q;for(v;q < this.rj.length && t > v.Cy;(q++,v=this.rj[q])){n.d8a(v) && n.wcc(h,t,v) && p.push(v);}return p;};k.prototype.k2a=function(h,p){var q,t,v,w,u,x;if(!h || !h.length)return (p && p(null),!0);this.Ep.HU && 2 <= Object.keys(this.Ep.HU).length && !this.NU.on && (this.Sa.debug("Enabling buffering quiet period"),this.NU.start());q=this;t=h[0];v=h[h.length - 1];if(0 < t.entries.length)(w=t.entries[0].ZI,u=t.entries[t.entries.length - 1]);0 < v.entries.length && (n.vd(w) || (w=v.entries[0].ZI),u=v.entries[v.entries.length - 1]);if(w)x=u.ZI + u.Cua - w;else return (p && p(null),!0);t=n.Gsa(w,x);if(this.Ep.HU[t])(this.Sa.debug("The request for",t,"is already pending. Not requesting again"),p && p());else if(this.Dxb(n.Fta(h)))(this.Sa.debug("Reserving",x,"bytes for subtitle request",h[0].Cy,h[h.length - 1].Qr),this.mAb(x),this.Ep.PMb(h,w,x,function(y,z){q.Sa.debug("Claiming reserved space.  Expected",x,"received",z);q.GH.enabled && (h.forEach(function(A){q.GH.ja(A.index);}),q.BU());q.cBb(x);q.qwb(z);p && p(y);}));else return (this.Sa.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};k.prototype.Jta=function(h,p){var q,t,v;q=this.xs;t=this.MUa(h,p,this.rj);if(!t || 0 === t.length)return [];v=[];p=c.bind(null,h,p);for(var w=0;w < t.length;w++){h=t[w];v=v.concat(h.entries.filter(p));}v=v.map(function(u){return n.Qpa(u,null,q);});return n.a0a(v);};k.prototype.nUb=function(h,p,q){return this.MUa(h,p.endTime,p.ap,q,!0);};k.prototype.MUa=function(h,p,q,t,v){var w,u,x,y;if(p && h > p || 0 > h)this.Sa.error("invalid range startPts: " + h + ", endPts: " + p);else {w=q && q.length || 0;u=[];if(q && 0 !== w){x=q[0].duration;y=q[0].Cy;if(n.vd(x) && 0 < x)x=Math.floor((h - y) / x);else for((this.kH && this.Sa.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),x=0);x < w && (y=q[x],!n.JMb(y,h));x++){;}for(;x < w && (!t || u.length < t);){y=q[x];if(!v || !y.images.length && y.endTime > h)u.push(y);else if(u.length)break;if(p && p <= y.Qr)break;x++;}return u;}}};k.prototype.gxb=function(h){var p,q,v;p=this.rj;if(p && 0 !== p.length){q=p[Math.floor(h / 6E4)];if(q && (q.Cy > h || h > q.Qr))a:{this.Xwb || (this.Xwb=!0,q=n.RSb(this.xs.language),this.Sa.error("bruteforce search for ",{movieId:this.xs.K,packageId:this.xs.Wo,lang:q}));q=p.length;for(var t=0;t < q;t++){v=p[t];if(v.Cy <= h && h <= v.Qr){q=v;break a;}}q=void 0;}return q;}};k.prototype.NUa=function(h){var p,q,t,v,w,u,x,y;p=this.Lq;q=p.Ly;t=p.index;v=this.rj;this.Oka(n.vd(h));if(q)if(q.entries.length){if(0 === t && h <= q.startTime || h >= q.startTime && h <= q.endTime)(w=!0,u=p);else {if(0 < t){x=v[t - 1];g(h,x,q) && (w=!0,u=p);}}}else {x=v[t - 1];y=v[t + 1];g(h,x,q)?(w=!0,u=p):y && y.endTime && h <= y.endTime && (h >= q.endTime || h >= q.Qr) && (w=!0,u=new d(y,t + 1));}if(!w)for((p=v.length,q=0);q < p;q++){if((t=v[q],t.entries.length && h <= t.endTime)){u=new d(t,q);break;}}return u;};k.prototype.Dxb=function(h){return this.Ww + this.wH + h <= this.jyb;};k.prototype.Ika=function(h){var p,q,t;p=this.rj[h];q=p && p.images && p.images.length || 0;if(0 < q){t=n.Fta([p]);p.images=[];this.GH.fdb(h);this.qWa(t);this.kH && this.Sa.debug("cleaning up space from sidx",{index:h,start:p.startTime,size:t,images:q,yqc:this.Ww});}};k.prototype.Oka=function(h){this.kH && n.assert(h,this.Sa);};r.exports=k;},function(r,b,a){var g,k;function c(m){this.hm=m.url;this.Sq=m.request;this.tH=m.Re || 0;this.kH=m.Vf;this.Sa=m.ya;this.HU={};}g=a(288);k=a(165);c.prototype.PMb=function(m,f,d,l){this.HU[k.Gsa(f,d)]=!0;m && m.forEach(function(n){n.ogb=!0;});this.Sq({url:this.hm,offset:f,size:d},this.qzb.bind(this,m,f,d,l));};c.prototype.qzb=function(m,f,d,l,n,h){var p,q,t,v;p=this;q=k.Gsa(f,d);setTimeout(function(){delete p.HU[q];},1E3);if(n)(l && l(n,0),m && m.forEach(function(w){delete w.ogb;}));else {t=new g(h);v=0;m && m.forEach(function(w){delete w.ogb;w.entries.forEach(function(u,x){t.position=u.ZI - f;u={data:t.al(u.Cua)};w.images[x]=u;k.Qfc(w.images[x].data,p.Oka.bind(p));v+=w.images[x].data.length;});});l && l(null,v);}};c.prototype.Oka=function(m){this.kH && k.assert(m,this.Sa);};r.exports=c;},function(r){function b(a,c,g,k){this.Sa=k;this.id=a;this.startTime=c && c.xa || 0;this.endTime=c && c.wa;this.ecb=c && c.next || [];this.nhb;this.oZ=[];this.zP=!1;a=this.startTime;c=this.endTime;for(var m=[],f=0;f < g.length;f++){(k=g[f]) && (!c || c > k.Cy) && a < k.Qr && (k.SWb(),m.push(k));}this.ap=m;}b.prototype.o_a=function(){this.Sa.debug("Cleaning up segment",this.id);for(var a,c=0,g,k=[],m=0;m < this.ap.length;m++){a=this.ap[m];(g=a.tLb()) && k.push(a);a && (c+=g);}this.ap=[];return {size:c,ap:k};};r.exports=b;},function(r,b,a){var g;function c(k,m,f){return {timeout:f,type:k,entry:m};}g=a(117).EventEmitter;a(1243)({});b=function p(m,f,d,l,n,h){if(!(this instanceof p))return new p(m,f,d,l,n,h);g.call(this);this.Zw=m;this.sxb=f;this.k5=d;this.Wxb=l;this.cA={};this.BH={};this.Sa=n || console;this.WT=!1;this.Wzb=h && h.Sza || 0;};b.prototype=Object.create(g.prototype);b.prototype.stop=function(){clearTimeout(this.wh);this.t8b();};b.prototype.t8b=function(){var m;m=this;Object.keys(m.cA).forEach(function(f){m.emit("removesubtitle",m.cA[f]);});m.cA={};m.BH={};};b.prototype.pause=function(){this.WT || clearTimeout(this.wh);};b.prototype.lw=function(m,f){var d,l;d=this;l=d.Zw();clearTimeout(this.wh);m=d.sxb(l);null !== m && d.WT && (d.WT=!1,this.Sa.info("bufferingComplete"),d.emit("bufferingComplete"),this.Wxb())?this.Sa.info("bufferingComplete while paused, no longer scheduling internal pts events"):(f="number" === typeof f?f:0,Object.keys(d.cA).forEach(function(n){n=d.cA[n];n.displayTime - d.Wzb <= l && l < n.displayTime + n.duration || (delete d.cA[n.id],d.emit("removesubtitle",n));}),Object.keys(d.BH).forEach(function(n){n=d.BH[n];l >= n.displayTime + n.duration && delete d.BH[n.id];}),null !== m && 0 < m.length?(f=m.length,d.Sa.info("found " + f + " entries for pts " + l),m.forEach(function(n){n.displayTime - 0 <= l && l < n.displayTime + n.duration && !d.cA[n.id] && (d.emit("showsubtitle",n),d.cA[n.id]=n,delete d.BH[n.id]);}),f=m[m.length - 1],d.cA[f.id] || d.BH[f.id] || (d.emit("stagesubtitle",f),d.BH[f.id]=f),f=d.Cyb(l,m),0 < f.length?d.N5(f[0].timeout):d.N5(2E4)):null === m?(m=250 * Math.pow(2,f),2E3 < m && (m=2E3),d.Sa.warn("checking buffer again in " + m + "ms"),d.WT || (d.WT=!0,d.emit("underflow")),d.N5(m,f + 1)):d.N5(2E4));};b.prototype.N5=function(m,f){var d;d=this;d.Sa.info("Scheduling pts check.");d.wh=setTimeout(function(){d.lw(d.Zw(),f);},m);};b.prototype.Cyb=function(m,f){return f.reduce(this.Dyb.bind(this,m),[]);};b.prototype.Dyb=function(m,f,d){var l,n;l=this.k5(d.displayTime,m);m=this.k5(d.displayTime + d.duration,m);n=0 < f.length?f[0].timeout:Infinity;return 0 < l && l < n?[c("showsubtitle",d,l)]:l === n?f.concat([c("showsubtitle",d,l)]):0 < m && m < n?[c("removesubtitle",d,m)]:m === n?f.concat([c("removesubtitle",d,m)]):f;};r.exports=b;},function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var m,f,d;function c(l,n,h){throw new TypeError(("undefined" !== typeof h.key?"Types: expected " + h.key:"Types: expected argument " + h.index) + (" to be '" + l + "' but found '" + n + "'"));}function g(l,n,h){var p;p=f[l];"undefined" !== typeof p?p(n) || c(l,n,h):l !== typeof n && c(l,n,h);}function k(l,n){var h;h=l.filter(function(p){return "object" !== typeof p && -1 === d.indexOf(p);});h=h.concat(l.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(t){return q[t];}).filter(function(t){return -1 === d.indexOf(t);}));},[]));if(0 < h.length)throw Error(h.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== l.length)throw new TypeError("Types: unexpected number of arguments");l.forEach(function(q,t){var v;v=p[t];if("string" === typeof q)g(q,v,{index:t});else if("object" === typeof q)Object.keys(q).forEach(function(w){g(q[w],v[w],{key:w});});else throw Error("Types: unexpected type in type array");});return n.apply(this,p);};}m=("number boolean string object function symbol").split(" ");f={array:function(l){return Array.isArray(l);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(l){if("undefined" !== typeof f[l] || -1 < m.indexOf(l))throw new TypeError("Types: attempting to override a built in type with " + l);f[l]=a[l];});}d=Object.keys(f).concat(m);return k(["array","function"],k);};},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.lF=void 0;r=a(1);c=a(509);g=a(1245);k=a(164);b.lF=new r.Cd(function(m){m(c.sia).to(g.iNa).la();m(k.tT).L0(function(f){return function(){return f.wb.get(c.sia).J1b;};});});},function(r,b,a){var g;function c(){var k;k=this;this.ready=!1;this.J1b=new Promise(function(m){k.r9b=m;});}Object.defineProperty(b,"__esModule",{value:!0});b.iNa=void 0;r=a(0);a=a(1);c.prototype.K1b=function(k){this.ready || (this.r9b(k),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};g=c;g=r.__decorate([(0,a.aa)()],g);b.iNa=g;},function(r,b,a){var c,g,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.Rk=void 0;r=a(1);c=a(92);g=a(510);k=a(1247);m=a(512);f=a(1248);b.Rk=new r.Cd(function(d){d(c.jz).Te(function(){return function(){return mb._cad_global.device;};});d(m.JHa).to(f.IHa).la();d(g.GHa).to(k.FHa).la();});},function(r,b,a){var g,k,m,f,d,l;function c(n,h){this.Ba=n;this.Zza=h;}Object.defineProperty(b,"__esModule",{value:!0});b.FHa=void 0;r=a(0);g=a(29);k=a(5);m=a(146);f=a(511);d=a(54);a=a(1);c.prototype.TQb=function(){for(var n="",h=this.Ba.Hf.ja(k.sa),p=6;p--;){n=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[h % 32] + n;h=Math.floor(h / 32);}for(;30 > n.length;){n+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.Zza.jfb(new f.xja(0,31,d.Icb))];}return n;};l=c;l=r.__decorate([(0,a.aa)(),r.__param(0,(0,a.l)(g.Nh)),r.__param(1,(0,a.l)(m.a4))],l);b.FHa=l;},function(r,b,a){var g,k,m,f,d,l,n,h;function c(p,q,t,v,w){this.lMb=p;this.oq=q;this.Cb=v;this.L4b=w;this.sIa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=t.hb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.IHa=void 0;r=a(0);g=a(3);k=a(27);m=a(1249);f=a(7);d=a(510);l=a(1);n=a(96);a=a(513);c.prototype.q3a=function(p){try{return p.match(this.sIa)[2];}catch(q){}};c.prototype.bPb=function(p){try{return p.match(this.sIa)[1];}catch(q){}};c.prototype.create=function(p){var q;q=this;return new Promise(function(t,v){q.oq.create().then(function(w){var x,y,z,A,B,C;function u(D){q.Cb.oo(D) && q.Cb.oo(x)?(y=new m.HHa(D,x,void 0,z,p.tW || "cadmium"),t(y)):v({za:g.X.kHa});}x=p.Tp;if(p.Esa){z="bind_device";q.L4b.Sf(q.log,{}).then(function(D){u(D.esn);}).catch(function(D){v(D);});}else if(p.PO){B=p.El;if(q.Cb.oo(B)){C=q.bPb(B);C != p.Tp && q.log.error("esn prefix from ui is different",{ui:C,cad:p.Tp,ua:p.userAgent});}else p.wwa && q.log.error("esn from ui is missing");!p.$R && q.Cb.oo(B)?(z="config",u(B)):w.load(p.O1a).then(function(D){A=D.value;q.Cb.oo(A) && (!1,q.Cb.oo(B)?(D=q.q3a(B),z=D === A?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):z="storage_esn_not_in_config",u(x + A));}).catch(function(D){var F;function E(){w.save(p.O1a,F,!1).then(function(){u(x + F);}).catch(function(I){v(I);});}function G(){F=q.lMb.TQb();!1;E();}if(D.za === g.X.hD){if(q.Cb.oo(p.El)){F=q.q3a(p.El);q.Cb.oo(F)?(z="config_since_not_in_storage",E()):(z="generated_since_invalid_in_config_and_not_in_storage",q.log.error("invalid esn passed from UI",p.El),G());}else (z="generated_since_not_in_config_and_storage",G());}else v(D);});}else u();}).catch(function(w){v(w);});});};h=c;h=r.__decorate([(0,l.aa)(),r.__param(0,(0,l.l)(d.GHa)),r.__param(1,(0,l.l)(n.JC)),r.__param(2,(0,l.l)(f.mb)),r.__param(3,(0,l.l)(k.Yg)),r.__param(4,(0,l.l)(a.tOa))],h);b.IHa=h;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HHa=void 0;b.HHa=function(a,c,g,k){this.El=a;this.Tp=c;this.G8=k;};},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D,E,G,F;Object.defineProperty(b,"__esModule",{value:!0});b.S$a=void 0;r=a(1);c=a(164);g=a(1251);k=a(1252);m=a(1253);f=a(1254);d=a(1255);l=a(12);n=a(1256);h=a(1257);p=a(1258);q=a(46);t=a(92);v=a(518);w=a(515);u=a(514);x=a(84);y=a(289);z=a(50);A=a(199);B=a(1259);C=a(520);D=a(521);E=a(1262);G=a(522);F=a(1263);b.S$a=new r.Cd(function(I){I(z.ao).to(k.FLa).la();I(w.bNa).to(m.aNa).la();I(u.ULa).to(f.TLa).la();I(y.QLa).to(d.PLa).la();I(z.Tha).to(n.ELa).la();I(x.qz).to(h.MLa).la();I(y.OLa).to(p.NLa).la();I(A.gT).to(B.fT).la();I(A.Wha).to(E.RLa).la();I(G.jT).to(F.iT).la();I(C.QHa).to(D.PHa).la();I(v.aFa).to(g.$Ea).la();I(z.GLa).L0(function(L){return function(){return L.wb.get(c.tT)().then(function(M){return new Promise(function(K){var H,J,R;function O(){J() && R() && M.kZ?K(L.wb.get(z.ao)):H.Wl(O);}H=L.wb.get(q.Sj);J=L.wb.get(l.Lc);R=L.wb.get(t.jz);H.Wl(O);});});};});});},function(r,b,a){var g,k,m,f,d,l,n;function c(h,p,q,t){var v;v=this;this.t_b=h;this.yB=p;this.config=t;this.kAa=[];this.t_b.lda(g.Ymb,this.jVb.bind(this));q().then(function(w){var u;u=t().jr.oQb;v.m0b=u?n.zk[u.toUpperCase()]:n.zk.Nf;v.Eg=w;v.A$b();});}Object.defineProperty(b,"__esModule",{value:!0});b.$Ea=void 0;r=a(0);k=a(1);m=a(12);f=a(114);d=a(50);l=a(84);n=a(7);c.prototype.jVb=function(h,p){this.Eg?this.ffb(h,p):this.kAa.push([h,p]);};c.prototype.A$b=function(){var h,p;h=this;p=this.kAa;this.kAa=[];p.forEach(function(q){h.ffb(q[0],q[1]);});};c.prototype.ffb=function(h,p){var q;if(this.Eg && this.Qac(h)){q={debugMessage:h.message,debugCategory:h.Op};h.bd.forEach(function(t){return q=Object.assign(Object.assign({},q),t.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});h=this.yB.Qu("debug",n.zk[h.level].toLowerCase(),q,p);this.Eg.Jc(h);}};c.prototype.Qac=function(h){var p;p=this.m0b;return void 0 !== p && h.level <= p && !h.bd.find(function(q){return q.RW(n.NS);});};a=g=c;a.Ymb="adaptorAll";a=g=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(f.GL)),r.__param(1,(0,k.l)(l.qz)),r.__param(2,(0,k.l)(d.GLa)),r.__param(3,(0,k.l)(m.Lc))],a);b.$Ea=a;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t;function c(v,w,u,x,y,z){this.config=v;this.json=w;this.Cc=u;this.j_b=x;this.bZ=z;this.gaa=this.wv=!1;this.listeners=[];(0,k.fq)(this,"json");this.ya=y.hb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.FLa=void 0;r=a(0);g=a(1);k=a(54);m=a(37);f=a(514);d=a(46);l=a(7);n=a(50);h=a(515);p=a(3);q=a(112);a(137);t=a(278);c.prototype.oa=function(){this.wv=!0;};c.prototype.Jc=function(v){var w;w=this;this.Zac(v) || (!1,0 < v.size.lm(this.config.h0b)?this.ya.error("Logblob is too large, dropping from the queue",{logblobType:v.type,logblobSize:v.size.toString()}):(this.listeners.forEach(function(u){return u.Q0b(v);}),!1,this.bZ.ana(v),this.Cc.Wl(function(){w.XPb();})));};c.prototype.flush=function(v){var w;w=this;v=void 0 === v?!1:v;return this.gaa?(this.ya.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(u,x){w.ya.trace("Flushing",l.NS);w.Ut();w.Cc.Wl(function(){w.wBa(v).then(function(){u();}).catch(function(y){x(y);});});});};c.prototype.addListener=function(v){this.listeners.push(v);};c.prototype.removeListener=function(v){v=this.listeners.indexOf(v);0 <= v && this.listeners.splice(v,1);};c.prototype.wBa=function(v){var w,u;w=this;v=void 0 === v?!1:v;if(!this.wv)return (this.ya.trace("LogBatcher is not initialized"),Promise.resolve());if(this.gaa)return (this.ya.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());u=this.bZ.xRb();if(0 === u.length && !v)return (this.ya.trace("No logblobs to send"),Promise.resolve());!1;this.Ut();this.listeners.forEach(function(){});v=Promise.resolve();for(var x={},y=ma(u),z=y.next();!z.done;(x={Ffa:x.Ffa},z=y.next())){x.Ffa=z.value;v=v.then((function(A){return function(){return w.x$b(A.Ffa);};})(x));}return v.then(function(){return w.vI();}).catch(function(A){u.filter(function(B){return !B.kt;}).forEach(function(B){return B.av();});w.vI();throw Error("Send failure. " + A);});};c.prototype.x$b=function(v){var w;w=this;this.ya.trace("Sending batch: " + v.size,l.NS);return Promise.resolve(this.bZ.u8b(v)).then(function(){return w.j_b.send(v.xJ);}).then(function(){return v.HR();}).catch(function(u){w.ya.warn("Failed to send batch of logblobs.",u,l.NS);v.av();w.Nac(u) && w.bZ.RBb(v);w.$ac(u) && (w.gaa=!0);throw u;});};c.prototype.Nac=function(v){return v.Yd === p.n3.nOa?!1:this.config.Wma;};c.prototype.$ac=function(v){return v.Kc === p.X.jJa || v.Kc === p.X.VS || v.Kc === p.X.ZS?!0:!1;};c.prototype.XPb=function(){var v;v=this;0 < this.bZ.size.lm(this.config.Hab)?this.wBa().catch(function(w){return v.ya.warn("Failed to send log messages on size threshold. " + w);}):this.vI();};c.prototype.Ut=function(){this.taa && (!1,this.taa.cancel(),this.taa=void 0);};c.prototype.vI=function(){this.taa || (!1,this.taa=this.Cc.Lj(this.config.y$b,this.vQ.bind(this)));};c.prototype.vQ=function(){var v;v=this;this.gaa=!1;this.Ut();this.wBa().catch(function(w){return v.ya.warn("Failed to send log messages on timer. " + w);});};c.prototype.stringify=function(v){var w;w="";try{w=this.json.stringify(v.data,void 0,"  ");}catch(u){}return w;};c.prototype.Zac=function(v){return 0 <= this.config.tib.indexOf(v.type)?!0:v.type === t.dd.debug?0 <= this.config.sib.indexOf(v.data.debugCategory):!1;};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(n.Tha)),r.__param(1,(0,g.l)(m.tG)),r.__param(2,(0,g.l)(d.Sj)),r.__param(3,(0,g.l)(f.ULa)),r.__param(4,(0,g.l)(l.mb)),r.__param(5,(0,g.l)(h.bNa)),r.__param(6,(0,g.l)(q.i2))],a);b.FLa=a;},function(r,b,a){var k,m,f,d,l,n,h;function c(p){this.bN=f.Ha;this.Nla=[];this.tU=this.n5=!1;p && (this.bN=p.size,this.Nla=p.xJ);}function g(p,q,t,v){this.R0b=p;this.config=q;this.jg=t;this.json=v;(0,m.fq)(this,"json");this.ya=this.jg.hb("MessageQueue");this.Ku=[];}Object.defineProperty(b,"__esModule",{value:!0});b.aNa=void 0;r=a(0);k=a(1);m=a(54);f=a(52);d=a(289);l=a(7);n=a(37);a=a(50);g.prototype.ana=function(p){var q,t;0 === this.Ku.length && this.Ku.push(this.Isa());if(p=this.dUb(p)){q=this.R0b.measure([p]);t=this.Ku[this.Ku.length - 1];0 < t.size.add(q).lm(this.config.Hab) && (t=this.Isa(),this.Ku.push(t));t.ana(p);}};g.prototype.xRb=function(){var p;p=this.Ku.filter(function(q){return q.SFb;});this.Ku.push(this.Isa());p.forEach(function(q){return q.W_b();});return p;};g.prototype.RBb=function(p){p.kt || this.Ku.unshift(new c(p));};g.prototype.u8b=function(p){p=this.Ku.indexOf(p);0 <= p && this.Ku.splice(p,1);};g.prototype.dUb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(v){var q,t;q={};p=p.data;t=p.debugMessage;t && "string" === typeof t && (q.originalDebugMessage=t);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.ya.error("JSON.stringify error: " + v.message,q);}};g.prototype.Isa=function(){return new c();};Ua.Object.defineProperties(g.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Ku.reduce(function(p,q){return p.add(q.size);},f.Ha);}}});h=g;h=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(d.QLa)),r.__param(1,(0,k.l)(a.Tha)),r.__param(2,(0,k.l)(l.mb)),r.__param(3,(0,k.l)(n.tG))],h);b.aNa=h;c.prototype.HR=function(){this.n5=!1;this.tU=!0;};c.prototype.av=function(){this.n5=!1;};c.prototype.ana=function(p){this.Nla.push(p);this.bN=this.bN.add(p.size);};c.prototype.W_b=function(){this.n5=!0;};Ua.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.bN;}},xJ:{configurable:!0,enumerable:!0,get:function(){return this.Nla;}},SFb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.xJ.length && !1 === this.n5;}},kt:{configurable:!0,enumerable:!0,get:function(){return this.tU;}}});},function(r,b,a){var k,m,f,d,l,n,h,p,q,t,v;function c(w,u,x,y,z,A,B,C){this.Fa=w;this.platform=x;this.Rk=y;this.json=z;this.Ki=A;this.Di=B;this.r_b=C;(0,m.fq)(this,"json");this.ya=u.hb("LogblobSender");}function g(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.TLa=void 0;r=a(0);k=a(1);m=a(54);f=a(37);d=a(5);l=a(30);n=a(18);h=a(47);p=a(92);q=a(7);t=a(516);a=a(81);c.prototype.send=function(w){var u;u=this;return new Promise(function(x,y){var z;try{z=w.reduce(function(A,B){A.entries.push(u.fKb(B));return A;},new g());x(u.WQb(z));}catch(A){u.ya.error(A.message);y(A);}}).then(function(x){return u.yBa(x);});};c.prototype.fKb=function(w){return this.Ki.BJ(this.Ki.BJ({},w.data),{esn:this.Rk().El,sev:w.severity,type:w.type,lver:this.platform.Bwa,jssid:this.Fa.id,devmod:this.platform.kE,jsoffms:w.timestamp.Da(this.Fa.vB).ja(d.sa),clienttime:w.timestamp.ja(d.sa),client_utc:w.timestamp.ja(d.qp),uiver:this.Di.Ry});};c.prototype.WQb=function(w){var u;u=this;try{return this.json.stringify(w);}catch(z){for(var x={},y=0;y < w.entries.length;(x={oS:x.oS,rw:x.rw},++y)){x.rw=Object.assign({},w.entries[y]);try{this.json.stringify(x.rw);}catch(A){x.oS=void 0;this.Ki.tE(x.rw,(function(B){return function(C,D){try{u.json.stringify(D);}catch(E){B.oS=E.message;B.rw[C]=B.oS;}};})(x));x.rw.stringifyException=x.oS;x.rw.originalType=x.rw.type;x.rw.type="debug";x.rw.sev="error";}}return this.json.stringify(w);}};c.prototype.yBa=function(w){var u;u=this;return this.r_b.Sf(this.ya,{logblobs:w}).then(function(){!1;}).catch(function(x){u.ya.error("PBO logblob failed",x);return Promise.reject(x);});};v=c;v=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(n.cd)),r.__param(1,(0,k.l)(q.mb)),r.__param(2,(0,k.l)(h.Eq)),r.__param(3,(0,k.l)(p.jz)),r.__param(4,(0,k.l)(f.tG)),r.__param(5,(0,k.l)(l.oi)),r.__param(6,(0,k.l)(a.Bz)),r.__param(7,(0,k.l)(t.LOa))],v);b.TLa=v;},function(r,b,a){var g,k,m;function c(f){this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.PLa=void 0;r=a(0);g=a(1);k=a(289);m=a(52);c.prototype.measure=function(f){var d;d=this;return f.map(function(l){return l.size.add(d.config.m_b());}).reduce(function(l,n){return l.add(n);},(0,m.ea)(0));};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.OLa))],a);b.PLa=a;},function(r,b,a){var g,k,m,f,d,l,n;function c(h,p){h=l.zf.call(this,h,"LogBatcherConfigImpl") || this;h.config=p;h.h0b=(0,g.ea)(5E5);h.y$b=(0,k.yba)(1);h.Hab=(0,g.ea)(1E6);return h;}Object.defineProperty(b,"__esModule",{value:!0});b.ELa=void 0;r=a(0);g=a(52);k=a(5);m=a(1);f=a(12);d=a(44);l=a(45);a=a(33);ja(c,l.zf);Ua.Object.defineProperties(c.prototype,{Wma:{configurable:!0,enumerable:!0,get:function(){return this.config().Wma;}},tib:{configurable:!0,enumerable:!0,get:function(){return [];}},sib:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});n=c;r.__decorate([d.config(d.object(),"shedLogblobTypes")],n.prototype,"tib",null);r.__decorate([d.config(d.oA("string"),"shedDebugTypes")],n.prototype,"sib",null);n=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(a.Qm)),r.__param(1,(0,m.l)(f.Lc))],n);b.ELa=n;},function(r,b,a){var k,m,f,d,l,n,h,p,q;function c(t,v,w,u,x,y,z,A,B,C){this.platform=v;this.Upa=w;this.type=u;this.severity=x;this.timestamp=y;this.Fa=A;this.data=z;this.data.type=u;this.data.sev=x;this.data.devmod=this.platform.kE;this.data.clver=this.platform.version;t && t.pe && (t.pe.os && (this.data.osplatform=t.pe.os.name,this.data.osver=t.pe.os.version),this.data.browsername=t.pe.name,this.data.browserver=t.pe.version);t.Hva && (this.data.tester=!0);t.VI && !this.data.groupname && (this.data.groupname=t.VI);t.ON && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.ON:t.ON);t.Q0 && (this.data.uigroupname=t.Q0);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Fa.ZSb();this.data.uniqueLogId=B.z4a();this.data.appId=this.Fa.id;C && (t=this.Fa.Rb(),this.data.soffms=t.Da(C.Ij).ja(d.sa),this.data.mid=this.data.mid || C.K,this.data.lvpi=C.Awa,this.data.uiLabel=C.he,this.data.uxLabels=C.nfa,u="startup" === u?"playbackxid":"xid",this.data[u]="xid" === u && this.data.xid || C.qa,C.zK && (u=C.zK,(C=C.zK.split(".")) && 1 < C.length && "S" !== C[0][0] && (u="SABTest" + C[0] + ".Cell" + C[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + u:u));}function g(t,v,w,u,x,y){this.Ba=t;this.Upa=v;this.config=w;this.Fa=u;this.Lfc=x;this.platform=y;}Object.defineProperty(b,"__esModule",{value:!0});b.MLa=void 0;r=a(0);k=a(52);m=a(1);f=a(29);d=a(5);l=a(352);n=a(39);h=a(18);p=a(517);a=a(47);g.prototype.Qu=function(t,v,w,u){return new c(this.config,this.platform,this.Upa,t,v,this.Ba.Hf,w,this.Fa,this.Lfc,u);};q=g;q=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(f.Nh)),r.__param(1,(0,m.l)(l.fHa)),r.__param(2,(0,m.l)(n.kp)),r.__param(3,(0,m.l)(h.cd)),r.__param(4,(0,m.l)(p.dTa)),r.__param(5,(0,m.l)(a.Eq))],q);b.MLa=q;Ua.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.CZa || (this.CZa=(0,k.ea)(this.Upa.encode(this.data).length));return this.CZa;}}});},function(r,b,a){var g,k,m;function c(f){this.Rk=f;}Object.defineProperty(b,"__esModule",{value:!0});b.NLa=void 0;r=a(0);g=a(1);k=a(52);a=a(92);c.prototype.m_b=function(){var f;f=this.Rk()?this.Rk().El.length:40;return (0,k.ea)(f + 33);};m=c;m=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.jz))],m);b.NLa=m;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D;function c(E,G,F,I,L,M,K,O,H,J,R,P,T,V,S,W,ia,ra,ua){this.ckb=E;this.Eg=G;this.mxa=F;this.sra=I;this.Ke=L;this.q8=M;this.pf=K;this.config=O;this.Bd=H;this.Ba=J;this.Fa=R;this.platform=P;this.Jr=T;this.yB=V;this.Jj=S;this.fv=W;this.yJ=ia;this.Gc=ra;this.ZP=ua;}Object.defineProperty(b,"__esModule",{value:!0});b.fT=void 0;r=a(0);g=a(482);k=a(50);m=a(30);f=a(490);d=a(283);l=a(1);n=a(199);h=a(519);p=a(520);q=a(63);t=a(12);v=a(29);w=a(18);u=a(47);x=a(84);y=a(119);z=a(166);A=a(37);B=a(39);C=a(290);a=a(98);c.prototype.create=function(E,G){return new h.hT(E,G,this.ckb,this.Eg,this.mxa,this.sra,this.Ke,this.q8,this.pf,this.config,this.Bd,this.Ba,this.Fa,this.Jr,this.yB,this.Jj,this.fv,this.yJ,this.Gc,this.ZP);};D=c;D=r.__decorate([(0,l.aa)(),r.__param(0,(0,l.l)(g.wSa)),r.__param(1,(0,l.l)(k.ao)),r.__param(2,(0,l.l)(f.CMa)),r.__param(3,(0,l.l)(d.gha)),r.__param(4,(0,l.l)(m.oi)),r.__param(5,(0,l.l)(p.QHa)),r.__param(6,(0,l.l)(q.Cw)),r.__param(7,(0,l.l)(t.Lc)),r.__param(8,(0,l.l)(y.TG)),r.__param(9,(0,l.l)(v.Nh)),r.__param(10,(0,l.l)(w.cd)),r.__param(11,(0,l.l)(u.Eq)),r.__param(12,(0,l.l)(A.P3)),r.__param(13,(0,l.l)(x.qz)),r.__param(14,(0,l.l)(z.JG)),r.__param(15,(0,l.l)(B.kp)),r.__param(16,(0,l.l)(C.pia)),r.__param(17,(0,l.l)(n.Wha)),r.__param(18,(0,l.l)(a.vz))],D);b.fT=D;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.OHa=void 0;c=a(52);b.OHa=function(g,k){this.RMb=g;this.size=k.vva()?c.Ha:k;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.axa=void 0;b.axa=function(a,c){var f,d;if(0 !== a.length){if(1 === a.length)return a[0];for(var g=a[0],k=c(g),m=1;m < a.length;m++){f=a[m];d=c(f);d > k && (g=f,k=d);}return g;}};},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t;function c(v,w,u,x){this.platform=v;this.config=w;this.Fa=u;this.userAgentData=x;this.nTa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.RLa=void 0;r=a(0);g=a(1);k=a(18);m=a(3);f=a(47);d=a(5);l=a(12);n=a(25);h=a(13);p=a(201);q=a(226);t=a(49);c.prototype.xr=function(v,w,u){u && (v.adlid=u.Vb,v.abitrate=u.bitrate);w && (v.vdlid=w.Vb,v.vbitrate=w.bitrate);};c.prototype.k8a=function(v,w,u){u?v=Object.assign(v,(0,p.w6a)(this.platform.Us,u)):v.errorcode=m.$.eo;v.errorcode === this.platform.Us + m.$.$Na && (v.lastSyncWithVideoElement=this.getTime() - w.w0);};c.prototype.p8a=function(v,w){var u;Object.assign(v,(0,p.xta)());try{u=w.getBoundingClientRect();v.rendersize=u.width + "x" + u.height;v.renderpos=u.left + "x" + u.top;}catch(x){}};c.prototype.o8a=function(v,w){var u,x,y;u=w.Ac[t.u.J].value;x=w.Ac[t.u.V].value;y=w.Xf.value;w=w.Ge.value;u && (v.cdnid=u.id,v.cdnname=u.name);x && (v.acdnid=x.id,v.acdnname=x.name);if(null === y || void 0 === y?0:y.stream)(v.adlid=y.stream.Vb,v.abitrate=y.stream.bitrate);if(null === w || void 0 === w?0:w.stream)(v.vdlid=w.stream.Vb,v.vbitrate=w.stream.bitrate,v.vheight=w.stream.height,v.vwidth=w.stream.width);};c.prototype.m8a=function(v,w,u){0 <= w.mediaTime.value && (w=u && !w.ib.di?w.S7:w.mediaTime.value,v.moff=(0,n.tn)(w),v.moffms=(0,n.Ag)(w));};c.prototype.H$=function(v,w){w.eg && (v.pbcid=w.eg);w.Ug && (v.playbackcontextid=w.Ug);};c.prototype.Jua=function(v){var w,u;v.browserua=h.DG;v.browseruad=null === (u=null === (w=h.Xe.userAgentData) || void 0 === w?void 0:w.brands) || void 0 === u?void 0:u.map(function(x){return [x.brand,x.version];});v.browseruadpv=this.userAgentData.platformVersion;v.browserhref=location.href;(w=h.Xe && h.Xe.connection && h.Xe.connection.type) && (v.nettype=w);};c.prototype.sP=function(v){var w,u,x,y,z;if(this.config().XNb){z=null === (w=null === h.Xe || void 0 === h.Xe?void 0:h.Xe.connection) || void 0 === w?void 0:w.effectiveType;w=null === h.Xe || void 0 === h.Xe?void 0:h.Xe.deviceMemory;z && (v.effectiveType=z);w && (v.deviceMemory=w);}(z=null === (u=null === h.Xe || void 0 === h.Xe?void 0:h.Xe.connection) || void 0 === u?void 0:u.type) && (v.connectionType=z);u=null === (x=null === h.Xe || void 0 === h.Xe?void 0:h.Xe.connection) || void 0 === x?void 0:x.downlink;"number" === typeof u && isFinite(u) && (v.downlink=u);x=null === (y=null === h.Xe || void 0 === h.Xe?void 0:h.Xe.connection) || void 0 === y?void 0:y.rtt;"number" === typeof x && isFinite(x) && (v.rtt=x);};c.prototype.I$=function(v,w){if(w=w.ib.Nn)(w.isUIAutoPlay && (v.isUIAutoPlay=!0),w.clLogId && (v.cl_log_id=w.clLogId));};c.prototype.tP=function(v,w,u,x){var y,z,A,B,C;y=this;if(u=u && u.streams){A=new Set();B=new Set();C=new Set();u.forEach(function(D){D=D.af;A.add(D);B.add(D.replace(y.nTa,""));(D=D.match(y.nTa)) && 0 < D.length && C.add(D[1]);});v.videoProfiles=[].concat(ha(A));v.videoProfile=0 === B.size?"none":[].concat(ha(B))[0];v.videoProfileLevels=[].concat(ha(C));u && u.length && (v.isMcClearen=! !u[0].Pj.find(function(D){return 0 <= D.toLowerCase().indexOf("mcclearen");}));}w && (null === (z=x.fa) || void 0 === z?0:z.e1) && (v.videoProfilesStatus=this.qab(x.fa.e1));};c.prototype.qab=function(v){return this.T_b(v.dP(),function(w){return w.supported?!0:w.reason;});};c.prototype.T_b=function(v,w){return Object.entries(v).reduce(function(u,x){var y;y=ma(x);x=y.next().value;y=y.next().value;u[x]=w(y);return u;},{});};c.prototype.g8a=function(v,w,u){var x,y;if(w=w && w.streams){y={};w.forEach(function(z){y[z.af]=void 0;});v.audioProfiles=Object.keys(y);}(null === (x=u.fa) || void 0 === x?0:x.xV) && (v.audioProfilesStatus=this.qab(u.fa.xV));};c.prototype.j8a=function(v){v.configversion=this.config().version;this.config().endpoint || (v.configendpoint="error");};c.prototype.getTime=function(){return this.Fa.Rb().ja(d.sa);};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(f.Eq)),r.__param(1,(0,g.l)(l.Lc)),r.__param(2,(0,g.l)(k.cd)),r.__param(3,(0,g.l)(q.eka))],a);b.RLa=a;},function(r,b,a){var g,k,m,f,d,l,n;function c(h,p,q,t,v){this.Eg=h;this.config=p;this.Ba=q;this.Fa=t;this.Dwa=v;}Object.defineProperty(b,"__esModule",{value:!0});b.iT=void 0;r=a(0);g=a(50);k=a(1);m=a(199);f=a(12);d=a(29);l=a(18);n=a(1264);c.prototype.create=function(h,p,q){var t;t=this.Dwa.create(h,p);return new n.kT(h,p,q,this.Eg,this.config,this.Fa,t);};a=c;a=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(g.ao)),r.__param(1,(0,k.l)(f.Lc)),r.__param(2,(0,k.l)(d.Nh)),r.__param(3,(0,k.l)(l.cd)),r.__param(4,(0,k.l)(m.gT))],a);b.iT=a;},function(r,b,a){var g,k,m,f,d;function c(l,n,h,p,q,t,v){var w;w=this;this.j=l;this.Aa=n;this.Eg=p;this.config=q;this.Fa=t;this.rb=v;this.wB=function(u,x){return function(y){var z;z=x(y);if("number" !== typeof z)throw Error("Event " + JSON.stringify(y) + " does not have movie Id");z === w.K && u(y);};};this.oab=this.wB(function(u){w.pea(u.gJ);},function(u){return u.K;});this.lab=this.wB(function(){w.RV();},function(u){return u.K;});this.A_a=this.wB(function(){w.RV();},function(u){return u.movieId;});this.Poa=this.wB(function(){w.j.Eb.value === d.qb.Wc && (w.j.Eb.removeListener(w.Poa),w.Ov());},function(){return w.j.K;});this.wC=function(u){w.Kr && w.rb.wC(u);};this.G_a=this.wB(this.rb.nHb,function(u){return u.K;});this.h2a=this.wB(this.rb.LMb,function(u){return u.K;});this.M$a=this.wB(this.rb.KY,function(u){return w.j.dk(u.segmentId).K;});this.whb=this.wB(this.rb.U_,function(u){return w.j.dk(u.segmentId).K;});this.X1a=this.wB(this.rb.Aqa,function(u){return u.K;});this.cl=function(u){u.skip && (w.Pn=!0);switch(u.cause){case d.Me.eD:case d.Me.n4:w.Nt && w.xq && w.rb.gza(w.getTime() - w.xq,w.Nt);w.Nt="repos";w.rb.YQ(u.kya,u.Xf,u.Ge);w.xq=w.getTime();(0,f.yg)(w.yx);break;case d.Me.r2:(w.Nt="force_rebuffer",w.xq=w.getTime(),(0,f.yg)(w.yx));}};this.cn=function(u){w.tB=u.oldValue;w.rb.cn(u);};this.yx=function(){var u;if(w.xq && w.j.Eb.value !== d.qb.pg){u=w.getTime() - w.xq;w.rb.dR(u,w.Pn,w.Nt);w.tB && w.tB != w.j.Ec.value && w.rb.Kna();w.xq=void 0;w.Nt=void 0;w.Pn=void 0;}};this.Ov=function(){w.Kr || (w.Kr=!0,w.rb.OF(!1),w.Sua(),w.config().P$ && (w.qB=mb.setTimeout(function(){w.Eg.flush(!1).catch(function(){return w.log.warn("failed to flush log batcher on initialLogFlushTimeout");});w.qB=void 0;},w.config().P$)));};this.ih=function(){w.qB && (mb.clearTimeout(w.qB),w.qB=void 0);if(w.config().r8 || w.config().yN)(w.Bqa && (mb.clearInterval(w.Bqa),w.Bqa=void 0),w.rb.V1a());w.S0 && w.S0();w.Kr?w.rb.uI(! !w.j.$i):w.j.$i?w.rb.OF(!0):w.Aa.background || w.rb.hza();};this.g1=function(u){u.oldValue && u.Qk && u.Qk.YH && w.rb.SN(u.oldValue,u.newValue,u.Qk.YH,u.Qk.GV);};this.c_=function(u){var x;if(u.newValue){x=u.newValue.stream;w.nJ != x && (w.nJ && x && w.rb.vAa(w.nJ,x,u.newValue.gn.startTime),w.nJ=x);}};this.K=n.K;this.log=(0,k.aj)(l,"LogblobBuilder");this.oa();h && this.pea();}Object.defineProperty(b,"__esModule",{value:!0});b.kT=void 0;g=a(17);k=a(9);m=a(5);f=a(58);d=a(16);c.prototype.oa=function(){this.j.addEventListener(d.ma.rJ,this.oab);this.j.addEventListener(d.ma.Rwa,this.lab);this.j.addEventListener(d.ma.KY,this.M$a);this.j.addEventListener(d.ma.U_,this.whb);this.j.addEventListener(d.ma.ih,this.A_a);this.j.addEventListener(d.ma.nE,this.X1a,g.K3);if(this.config().r8 || this.config().yN)(this.j.addEventListener(d.ma.nE,this.h2a),this.Bqa=mb.setInterval(this.rb.V1a,this.config().QMb));this.config().CAa && this.j.addEventListener(d.ma.nE,this.G_a);};c.prototype.pea=function(l){var n;n=this;this.Gbb || (this.j.Eb.value !== d.qb.Wc || (void 0 === l?0:l)?this.j.Eb.addListener(this.Poa):this.Ov(),this.j.tj.addListener(this.wC),this.j.Tb.addListener(this.rb.Hm),this.j.Ec.addListener(this.cn),this.j.Vh.addListener(this.rb.zV),this.j.paused.addListener(this.rb.sca),this.j.Ge.addListener(this.c_),this.j.Eb.addListener(this.yx),this.j.Eb.addListener(this.rb.Bkb),this.j.xf.addListener(this.g1),this.j.playbackRate.addListener(this.rb.h0),this.j.addEventListener(d.ma.Vi,this.rb.Vi),this.j.addEventListener(d.ma.xN,this.rb.xN),this.j.addEventListener(d.ma.GR,this.rb.GR),this.j.addEventListener(d.ma.tA,function(h){n.Nt="rebuffer";n.rb.tA(h);n.xq=n.getTime();(0,f.yg)(n.yx);}),this.j.addEventListener(d.ma.cl,this.cl),this.j.addEventListener(d.ma.LR,this.rb.LR),this.Aa.ar && this.Aa.ar.addListener(this.rb.ar),this.Gbb=!0);};c.prototype.RV=function(){this.ih();this.Gbb && (this.j.removeEventListener(d.ma.rJ,this.oab),this.j.removeEventListener(d.ma.Rwa,this.lab),this.j.removeEventListener(d.ma.KY,this.M$a),this.j.removeEventListener(d.ma.U_,this.whb),this.j.tj.removeListener(this.wC),this.j.Tb.removeListener(this.rb.Hm),this.j.Ec.removeListener(this.cn),this.j.Vh.removeListener(this.rb.zV),this.j.paused.removeListener(this.rb.sca),this.j.Ge.removeListener(this.c_),this.j.Eb.removeListener(this.yx),this.j.Eb.removeListener(this.Poa),this.j.Eb.removeListener(this.rb.Bkb),this.j.xf.removeListener(this.g1),this.j.playbackRate.removeListener(this.rb.h0),this.j.removeEventListener(d.ma.nE,this.X1a),this.j.removeEventListener(d.ma.ih,this.A_a),this.j.removeEventListener(d.ma.Vi,this.rb.Vi),this.j.removeEventListener(d.ma.xN,this.rb.xN),this.j.removeEventListener(d.ma.GR,this.rb.GR),this.j.removeEventListener(d.ma.tA,this.rb.tA),this.j.removeEventListener(d.ma.cl,this.cl),this.j.removeEventListener(d.ma.LR,this.rb.LR),this.Aa.ar && this.Aa.ar.removeListener(this.rb.ar),this.j.removeEventListener(d.ma.nE,this.h2a),this.j.removeEventListener(d.ma.nE,this.G_a));};c.prototype.getTime=function(){return this.Fa.Rb().ja(m.sa);};c.prototype.Sua=function(){var l,n,h;l=this;h=[];this.config().nbb && (this.config().obb.forEach(function(p){h.push(mb.setTimeout(l.rb.hF,p));}),this.config().lba && (n=mb.setInterval(this.rb.hF,this.config().lba)),this.S0=function(){h.forEach(function(p){mb.clearTimeout(p);});n && mb.clearInterval(n);});};b.kT=c;},function(r,b,a){var c,g,k,m,f,d,l,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.Xbb=void 0;r=a(1);c=a(1266);g=a(63);k=a(523);m=a(1267);f=a(525);d=a(524);l=a(1268);n=a(382);h=a(1272);b.Xbb=new r.Cd(function(p){p(k.CTa).to(c.BTa).la();p(g.Cw).UF(function(){return mb._cad_global.http;});p(f.vNa).to(m.uNa).la();p(d.wNa).Im(l.default);p(n.eKa).to(h.dKa).la();});},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.BTa=void 0;r=a(0);a=a(1);c.prototype.create=function(){return new XMLHttpRequest();};g=c;g=r.__decorate([(0,a.aa)()],g);b.BTa=g;},function(r,b,a){var g,k,m,f;function c(d,l,n){this.config=d;this.e_b=l;this.yc=n;}Object.defineProperty(b,"__esModule",{value:!0});b.uNa=void 0;r=a(0);g=a(344);k=a(1);m=a(200);a=a(524);c.prototype.mKb=function(){if(this.config.Qlb)return this.yc(this.e_b());};f=c;f=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(g.tNa)),r.__param(1,(0,k.l)(m.pNa)),r.__param(2,(0,k.l)(a.wNa))],f);b.uNa=f;},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1269);g=a(1270);k=a(1271);b.default=function(m){var f;m=new c.Vfa(m);f=new k.Wsb(m);return new g.Vsb(m,f);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.J$a=c;}a.prototype.JBa=function(c){try{this.J$a.setItem("gtp",JSON.stringify(c));}catch(g){return !1;}return !0;};a.prototype.H5a=function(){var c;try{c=this.J$a.getItem("gtp");if(c)return JSON.parse(c);}catch(g){}};a.prototype.Jo=function(){var c;c=this.H5a();if(c && c.tp)return c.tp.a;};a.prototype.LSb=function(){var c;c=this.Usa();if(c)return c.p25;};a.prototype.MSb=function(){var c;c=this.Usa();if(c)return c.p50;};a.prototype.NSb=function(){var c;c=this.Usa();if(c)return c.p75;};a.prototype.Usa=function(){var c;c=this.H5a();if(c && (c=c.iqr))return c;};return a;})();b.Vfa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,g){this.rx=c;this.Txa=g;}a.prototype.JBa=function(c){return this.rx.JBa(c);};a.prototype.Jo=function(){return this.rx.Jo();};return a;})();b.Vsb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.rx=c;}a.prototype.Txa=function(){var c,g,k;c=this.rx.LSb();g=this.rx.MSb();k=this.rx.NSb();if("number" === typeof c && "number" === typeof g && "number" === typeof k)return (k - c) / g;};return a;})();b.Wsb=r;},function(r,b,a){var g,k,m;function c(f,d){this.pf=d;this.ya=f.hb("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.dKa=void 0;r=a(0);g=a(1);k=a(7);a=a(63);c.prototype.download=function(f,d){var l;l=this;d=void 0 === d?{Qab:0}:d;return new Promise(function(n,h){var q;function p(t){if(t.ga)return n(t.content);if(q === d.Qab)return h({za:t.za,Vx:t.Dl});q++;!1;l.pf.download(f,p);}q=0;l.pf.download(f,p);});};m=c;m=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.mb)),r.__param(1,(0,g.l)(a.Cw))],m);b.dKa=m;},function(r,b,a){var c,g,k,m,f,d,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.u4a=void 0;r=a(1);c=a(1274);g=a(1275);k=a(1276);m=a(1277);f=a(1278);d=a(526);l=a(527);n=a(174);b.u4a=new r.Cd(function(h){h(n.hJa).to(c.gJa).la();h(n.TQa).to(g.SQa).la();h(n.RQa).to(k.QQa).la();h(d.dJa).to(m.cJa).la();h(l.hKa).to(f.gKa).la();});},function(r,b,a){var g,k,m,f,d,l,n,h;function c(p,q,t,v,w,u,x){this.config=p;this.X7a=q;this.Cc=t;this.Gg=v;this.R8b=w;this.zAa=u;this.PYb=0;this.ya=x.hb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.gJa=void 0;r=a(0);k=a(1);m=a(5);f=a(46);d=a(7);l=a(526);n=a(527);a=a(174);c.prototype.start=function(){this.config.enabled && !this.Ot && (this.Ot=this.Cc.Lj(this.config.Tib,this.Jy.bind(this)));};c.prototype.stop=function(){this.Ot && (this.Ot.cancel(),this.Ot=void 0);};c.prototype.Jy=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.PYb++;this.BUb(q).then(function(t){return Promise.all(t.urls.map(function(v){return p.sVb(t,v.url,v.name);})).then(function(v){0 < v.length && p.R8b.x_({data:v,context:t.context,Ewa:t.Ewa});}).then(function(){return t;});}).then(function(t){p.Ot && (t.V9a?p.Ot=p.Cc.Lj(t.V9a,p.Jy.bind(p)):p.stop());}).catch(function(t){return p.ya.error("FTL run failed",t);});};c.prototype.BUb=function(p){var q;q=this;return this.X7a.get(p,!1).then(function(t){var v;if(200 != t.status || null == t.body)return (q.zAa.x_({url:p,status:t.status,cza:"FTL API request failed",Ee:t.Ee}),Promise.reject(Error("FTL API request failed: " + t.status)));v=q.Gg.parse(t.body);return v instanceof Error?(q.zAa.x_({url:p,status:4,cza:"FTL Probe API JSON parsing error",Ee:t.Ee}),Promise.reject(v)):Promise.resolve(v);}).catch(function(t){t instanceof Error && (q.zAa.x_({url:p,status:0,cza:t.message}),q.ya.error("FTL API call failed",t.message));return Promise.reject(t);});};c.prototype.sVb=function(p,q,t){var v;v=this;return new Promise(function(w,u){var E;for(var x,y,z,A,B=[],C={},D=0;D < p.g7b;(C={Gfa:C.Gfa,Hfa:C.Hfa},++D)){C.Gfa=D < p.cfb.length?p.cfb[D]:m.Ha;C.Hfa="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (D + 1);E=(function(G){return function(){return new Promise(function(F,I){v.Cc.Lj(G.Gfa,function(){g.I6b(v.X7a,G.Hfa,p.f7b).then(function(L){function M(K,O,H){K || (K=H.headers[O]);return K;}x=M(x,"via",L);y=M(y,"x-ftl-probe-data",L);z=M(z,"x-ftl-error",L);A=M(A,"latency-trace",L);L={status:L.status,Ee:L.Ee,Yfc:x || "",JGb:y || "",SW:z || "",sZb:v.E4b(A)};F(L);}).catch(function(L){I(L);});});});};})(C);B.push(0 < D?B[D - 1].then(E):E());}Promise.all(B).then(function(G){w({url:q,name:t,data:G});}).catch(function(G){u(G);});});};c.prototype.E4b=function(p){var q;if(p){q={};p=ma(p.split(";"));for(var t=p.next();!t.done;t=p.next()){if((t=t.value.trim().split("=")) && 2 == t.length)try{q[t[0].trim()]=Number.parseInt(t[1]);}catch(v){}}return q;}};c.I6b=function(p,q,t){return p.get(q,!1,t).then(function(v){return Object.assign({},v);});};h=g=c;h=g=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(a.fJa)),r.__param(1,(0,k.l)(n.hKa)),r.__param(2,(0,k.l)(f.Sj)),r.__param(3,(0,k.l)(l.dJa)),r.__param(4,(0,k.l)(a.TQa)),r.__param(5,(0,k.l)(a.RQa)),r.__param(6,(0,k.l)(d.mb))],h);b.gJa=h;},function(r,b,a){var g,k,m,f,d,l;function c(n,h){this.Eg=n;this.uxa=h;}Object.defineProperty(b,"__esModule",{value:!0});b.SQa=void 0;r=a(0);k=a(1);m=a(52);f=a(5);d=a(50);a=a(84);c.prototype.x_=function(n){var h;h={ctx:n.context,data:n.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return g.Jgc({d:q.Ee.duration.ja(f.sa),sc:q.status,sz:q.Ee.size.ja(m.xw),via:q.Yfc,cip:q.JGb,err:q.SW},q);})};})};n=this.uxa.Qu(n.Ewa,"info",h);this.Eg.Jc(n);};c.Jgc=function(n,h){g.qx(n,"dns",h.Ee.b2a);g.qx(n,"tcp",h.Ee.$Ca);g.qx(n,"tls",h.Ee.jDa);g.qx(n,"ttfb",h.Ee.fDa);g.jCb(n,h.sZb);return n;};c.jCb=function(n,h){h && (n.rtts=h);};c.qx=function(n,h,p){p && (n[h]=p.ja(f.sa));};l=g=c;l=g=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(d.ao)),r.__param(1,(0,k.l)(a.qz))],l);b.SQa=l;},function(r,b,a){var g,k,m,f,d,l;function c(n,h){this.Eg=n;this.uxa=h;}Object.defineProperty(b,"__esModule",{value:!0});b.QQa=void 0;r=a(0);k=a(1);m=a(52);f=a(5);d=a(50);a=a(84);c.prototype.x_=function(n){n=this.uxa.Qu("ftlProbeError","info",g.Igc({url:n.url,sc:n.status,pf_err:n.cza},n));this.Eg.Jc(n);};c.Igc=function(n,h){h.Ee && (h=h.Ee,g.qx(n,"d",h.duration),g.qx(n,"dns",h.b2a),g.qx(n,"tcp",h.$Ca),g.qx(n,"tls",h.jDa),g.qx(n,"ttfb",h.fDa),n.sz=h.size.ja(m.xw));return n;};c.qx=function(n,h,p){p && (n[h]=p.ja(f.sa));};l=g=c;l=g=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(d.ao)),r.__param(1,(0,k.l)(a.qz))],l);b.QQa=l;},function(r,b,a){var g,k,m,f,d;function c(l,n){this.is=l;this.json=n;(0,k.fq)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.cJa=void 0;r=a(0);g=a(1);k=a(54);m=a(37);f=a(5);a=a(27);c.prototype.parse=function(l){var h;l=this.json.parse(l);if(!this.is.Jma(l))throw Error("FtlProbe: param: not an object");if(l.next && !this.is.dV(l.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.dV(l.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(l.pulse_delays && !this.is.MD(l.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.dV(l.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.MD(l.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.oo(l.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.oV(l.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var n=0;n < l.urls.length;++n){h=l.urls[n];if(!this.is.Jma(h))throw Error("FtlProbe: param.urls[" + n + "]: not an object");if(!this.is.Du(h.name))throw Error("FtlProbe: param.urls[" + n + "].name: not a string");if(!this.is.Du(h.url))throw Error("FtlProbe: param.urls[" + n + "].url: not a string");}return {g7b:l.pulses,cfb:l.pulse_delays?l.pulse_delays.map(f.xc):[],f7b:(0,f.xc)(l.pulse_timeout),V9a:l.next?(0,f.xc)(l.next):void 0,urls:l.urls,Ewa:l.logblob,context:l.ctx};};d=c;d=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Yg)),r.__param(1,(0,g.l)(m.tG))],d);b.cJa=d;},function(r,b,a){var g,k,m,f,d,l,n,h,p;function c(q,t,v){this.Ba=q;this.Ngc=t;this.performance=v;(0,k.fq)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.gKa=void 0;r=a(0);k=a(54);m=a(286);f=a(52);d=a(37);l=a(29);n=a(1);h=a(523);p=a(5);c.prototype.get=function(q,t,v){var w;w=this;return new Promise(function(u,x){var y,z,A;try{y=w.Ngc.create();("withCredentials" in y) || x(Error("Missing CORS support"));y.open("GET",q,!0);t && (y.withCredentials=!0);v && (y.timeout=v.ja(p.sa));z=w.Ba.Hf;A=void 0;y.onreadystatechange=function(){var B;switch(y.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=w.Ba.Hf.Da(z);break;case XMLHttpRequest.DONE:B=w.Ba.Hf.Da(z);B={body:y.responseText,status:y.status,headers:g.Mya(y.getAllResponseHeaders()),Ee:w.gta(q,(0,f.ea)(y.responseText.length),B,A)};u(B);}};y.send();}catch(B){x(B);}});};c.Mya=function(q){var t,w,u;t={};q=q.split("\r\n");for(var v=0;v < q.length;v++){w=q[v];u=w.indexOf(": ");0 < u && (t[w.substring(0,u).toLowerCase()]=w.substring(u + 2));}return t;};c.prototype.gta=function(q,t,v,w){t={size:t,duration:v,fDa:w};if(!this.performance || !this.performance.getEntriesByName)return t;v=this.performance.getEntriesByName(q);if(0 == v.length && (v=this.performance.getEntriesByName(q + "/"),0 == v.length))return t;q=v[v.length - 1];t=(0,m.SP)(t);q.decodedBodySize && (t.size=(0,f.ea)(q.decodedBodySize));0 < q.duration?t.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (t.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (t.b2a=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),t.$Ca=(0,p.timestamp)(q.connectEnd - q.connectStart),t.fDa=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?t.jDa=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (v=q.connectEnd - q.secureConnectionStart,t.jDa=(0,p.timestamp)(v),t.$Ca=(0,p.timestamp)(q.connectEnd - q.connectStart - v)));return t;};a=g=c;a=g=r.__decorate([(0,n.aa)(),r.__param(0,(0,n.l)(l.Nh)),r.__param(1,(0,n.l)(h.CTa)),r.__param(2,(0,n.l)(d.Tia)),r.__param(2,(0,n.optional)())],a);b.gKa=a;},function(r,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Yeb=void 0;r=a(1);c=a(345);g=a(1280);k=a(202);m=a(1281);b.Yeb=new r.Cd(function(f){f(c.YHa).to(g.XHa).la();f(k.dT).to(m.wLa).la();});},function(r,b,a){var g,k,m,f,d,l,n,h;function c(p,q,t,v){this.Ki=p;this.RD=q;this.Jfc=t;this.NP=v;}Object.defineProperty(b,"__esModule",{value:!0});b.XHa=void 0;r=a(0);g=a(1);k=a(30);m=a(31);f=a(74);d=a(122);l=a(57);n=a(48);a=a(202);c.prototype.Ch=function(p){var q;q=this;return this.Ki.cE(p.Nk[0].data[0],[8,4])?Promise.resolve({Pe:[{id:"ddd",pJ:"cert",GY:void 0}],hk:[{sessionId:"ddd",data:new Uint8Array(this.RD.decode(n.sTa))}]}):this.Ki.cE(p.Nk[0].data[0],this.Jfc.decode("certificate"))?Promise.resolve({Pe:[{id:"ddd",pJ:"cert",GY:void 0}],hk:[{sessionId:"ddd",data:new Uint8Array(this.RD.decode(n.q2))}]}):this.NP.nx(this.IQb(p)).then(function(t){return q.JQb(t);});};c.prototype.release=function(p){return this.NP.release(this.NQb(p)).then(function(){});};c.prototype.IQb=function(p){var q,t;q=this;t=p.Nk.map(function(v){return v.data.map(function(w){return {sessionId:v.sessionId,dataBase64:q.RD.encode(w)};});});return {qa:p.qa,Ug:p.Ug,t8:p.t8,Dg:(0,l.mwa)(p.Dg),Ao:d.Lm[p.Ao],Nk:t.reduce(function(v,w){return v.concat(w);},[]),Aj:p.Aj};};c.prototype.NQb=function(p){return {qa:p.qa,Pe:p.Pe};};c.prototype.JQb=function(p){return {Pe:p.Pe,hk:p.hk};};h=c;h=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.oi)),r.__param(1,(0,g.l)(m.Li)),r.__param(2,(0,g.l)(f.tu)),r.__param(3,(0,g.l)(a.dT))],h);b.XHa=h;},function(r,b,a){var g,k,m,f,d,l;function c(n,h,p,q,t){this.BBb=n;this.o8b=h;this.tgb=q;this.w9b=t;this.ya=p.hb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.wLa=void 0;r=a(0);g=a(1);k=a(7);m=a(528);a(529);f=a(533);d=a(534);a=a(291);c.prototype.nx=function(n){var h,p;h=this;!1;p=this.tgb.Sdc(n);return this.BBb.Up(this.ya,n.Aj,p).then(function(q){q.map(function(t){return t.wZb;});return h.w9b.Ekb(q);}).catch(function(q){h.ya.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(n){var h;h=this;!1;n=this.tgb.Vdc(n);return this.o8b.Sf(this.ya,n).then(function(){return {ga:!0};}).catch(function(p){h.ya.error("PBO release license failed",p);return Promise.reject(p);});};l=c;l=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.pOa)),r.__param(1,(0,g.l)(f.cPa)),r.__param(2,(0,g.l)(k.mb)),r.__param(3,(0,g.l)(d.FOa)),r.__param(4,(0,g.l)(a.Pia))],l);b.wLa=l;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u;function c(x){return function(){return x.wb.get(g.YOa).oa();};}Object.defineProperty(b,"__esModule",{value:!0});b.VJ=void 0;r=a(1);g=a(151);k=a(232);m=a(292);f=a(535);d=a(1283);l=a(1284);n=a(536);h=a(1285);p=a(537);q=a(1286);t=a(293);v=a(1287);w=a(538);u=a(1288);b.VJ=new r.Cd(function(x){x(n.LPa).to(h.KPa).la();x(k.Ria).to(m.UOa).la();x(f.vOa).to(d.uOa).la();x(g.YOa).to(l.XOa).la();x(g.BT).L0(c);x(w.WOa).to(u.VOa).la();x(p.BOa).to(q.AOa).la().k1();x(t.$Oa).to(v.ZOa).la();x(t.ROa).to(v.QOa).la();x(t.TOa).to(v.SOa).la();});},function(r,b,a){var m,f,d,l,n,h,p,q,t,v;function c(){}function g(){}function k(w,u,x,y,z){var A;A=this;this.is=w;this.oq=u;this.config=x;this.mI=y;this.N4b=z;this.iw=function(){return new c().encode({version:A.version,data:A.VJ});};this.nfc=function(B){B=A.upgrade(B);A.N4b.validate(B);return B;};this.upgrade=function(B){var C;if(A.is.oo(B))return A.ofc(B);C=B.version;if(void 0 != C && A.is.no(C) && 1 == C)return A.pfc(B);C=B.version;if(void 0 != C && A.is.no(C) && 2 == C)return new c().decode(B);if(B.version && A.is.no(B.version))throw new n.od(d.$.UC,d.X.iGa,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new n.od(d.$.UC,d.X.NC,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.Xl=new h.Eha(2,this.config().geb,"" !== this.config().geb && 0 < this.config().r5b,this.oq,this.iw);}Object.defineProperty(b,"__esModule",{value:!0});b.uOa=void 0;r=a(0);m=a(1);f=a(12);d=a(3);l=a(27);n=a(36);h=a(334);p=a(96);q=a(92);t=a(292);a=a(293);k.prototype.w7b=function(){return this.Xl.load(this.nfc).catch(function(w){throw new n.od(d.$.UC,w.za || w.Kc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w);});};k.prototype.nCb=function(w){return this.Xl.add(w);};k.prototype.Yfb=function(w){return this.Xl.remove(w,function(u,x){return u.qa === x.qa;});};k.prototype.ODa=function(w){return this.Xl.update(w,function(u,x){return u.qa === x.qa;});};k.prototype.toString=function(){return JSON.stringify(this.iw(),null,"  ");};k.prototype.Elb=function(w){return w?"/events?playbackContextId=" + w + "&esn=" + this.mI().El:"";};k.prototype.SDa=function(w){return w.map(function(u){return {Vb:u.downloadableId,duration:u.duration};});};k.prototype.Flb=function(w){var u;return w?{total:w.playTimes.total,ZK:null !== (u=w.playTimes.totalContentTime) && void 0 !== u?u:w.playTimes.total,PR:w.playTimes.total,VF:0,WF:0,audio:this.SDa(w.playTimes.audio || []),video:this.SDa(w.playTimes.video || []),text:this.SDa(w.playTimes.timedtext || [])}:{total:0,ZK:0,PR:0,VF:0,WF:0,audio:[],video:[],text:[]};};k.prototype.ofc=function(w){var u,x,y;u=this;w=JSON.parse(w);x={type:"online",href:this.Elb(w.playbackContextId),qa:w.xid?w.xid.toString():"",K:w.movieId,position:w.position,AA:w.timestamp,On:w.playback?1E3 * w.playback.startEpoch:-1,YP:w.mediaId,Bt:this.Flb(w.playback),trackId:"",Nn:{},profileId:w.accountKey};y=JSON.stringify({keySessionIds:w.keySessionIds,movieId:w.movieId,xid:w.xid,licenseContextId:w.licenseContextId,profileId:w.profileId});this.oq.create().then(function(z){z.save(u.config().EW,y,!1);});if("" === x.href || "" === x.qa)throw new n.od(d.$.UC,d.X.NC);return {version:2,data:[x]};};k.prototype.pfc=function(w){var u;u=this;if(!w.playdata || !this.is.MD(w.playdata))throw new n.od(d.$.UC,d.X.NC,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,w);return {version:2,data:(function(x){return x.map(function(y){return {type:y.type,href:u.Elb(y.playbackContextId),qa:y.xid?y.xid.toString():"",K:y.movieId,position:y.position,AA:y.timestamp,On:y.playback?1E3 * y.playback.startEpoch:-1,YP:y.mediaId,Bt:u.Flb(y.playback),trackId:"",Nn:{},profileId:y.profileId};});})(w.playdata)};};Ua.Object.defineProperties(k.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Xl.version;}},VJ:{configurable:!0,enumerable:!0,get:function(){return this.Xl.dn;}}});v=k;v=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(l.Yg)),r.__param(1,(0,m.l)(p.JC)),r.__param(2,(0,m.l)(f.Lc)),r.__param(3,(0,m.l)(q.jz)),r.__param(4,(0,m.l)(a.TOa))],v);b.uOa=v;g.prototype.encode=function(w){var u;u=new t.O3();return w.map(u.encode);};g.prototype.decode=function(w){var u;u=new t.O3();return w.map(u.decode);};c.prototype.encode=function(w){return {version:w.version,data:new g().encode(w.data)};};c.prototype.decode=function(w){return {version:w.version,data:new g().decode(w.data)};};},function(r,b,a){var m,f,d,l,n,h,p,q,t,v,w,u,x;function c(y,z,A,B,C,D,E,G){this.config=y;this.Cc=A;this.Sy=B;this.Qv=C;this.Dca=D;this.Ei=E;this.lJ=Promise.resolve();this.closed=!1;this.log=z.hb("PlaydataServices");this.UJ=[];this.active=new Set();this.A9b=new g(y,G);}function g(y,z){this.config=y;this.Ba=z;}function k(y,z,A,B,C,D){this.log=y;this.Cc=z;this.fj=A;this.Qv=B;this.Sy=C;this.k5b=D;this.u3a=this.Pf=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.XOa=b.cub=void 0;r=a(0);m=a(1);f=a(5);d=a(7);l=a(46);n=a(232);h=a(535);p=a(536);q=a(3);t=a(292);v=a(537);w=a(101);u=a(29);a=a(147);k.prototype.iQ=function(y,z){var B;function A(){var C;C=B.Qv.create(B.fj);B.Sy.ODa(C).catch(function(D){var E;E=B.u3a?d.zk.jka:d.zk.Nf;B.u3a=!0;B.log.write(E,"Unable to save playdata changes to IDB",D);});}B=this;this.log.trace("Adding initial playdata",z);this.Sy.nCb(z).then(function(){B.log.trace("Scheduling monitor",{interval:y});B.Ot=B.Cc.M_(y,A);}).catch(function(C){B.log.error("Unable to add playdata",{error:C,playdata:new t.O3().encode(z)});B.Ot=B.Cc.M_(y,A);});};k.prototype.stop=function(y){var z,A;z=this;if(this.Pf)return Promise.resolve();this.Ot && this.Ot.cancel();A=this.Qv.create(this.fj);return this.Sy.ODa(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(y){if(z.fj.background)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.k5b.shb(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(y)return (z.log.trace("Removing playdata from the persisted store",A),z.Sy.Yfb(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.K);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};k.prototype.cancel=function(){this.Pf=!0;this.Ot && this.Ot.cancel();this.Sy.ODa(this.Qv.create(this.fj));};Ua.Object.defineProperties(g.prototype,{NFb:{configurable:!0,enumerable:!0,get:function(){var y;y=this.Ba.Hf;return !this.lJ || 0 <= y.Da(this.lJ).lm(this.config.X9a)?(this.lJ=y,!0):!1;}}});b.cub=g;c.prototype.oa=function(){var y;y=this;this.RE || (this.log.trace("Starting playdata services"),this.RE=this.Sy.w7b().then(function(){!1;return y;}).catch(function(z){y.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return y;}));return this.RE;};c.prototype.close=function(){this.closed=!0;this.UJ.forEach(function(y){y.iQ.cancel();});};c.prototype.send=function(y){var z;if(this.closed)return Promise.resolve();z=this.config;return z.RJ && z.xBa?this.w$b(y):Promise.resolve();};c.prototype.Tt=function(y,z,A){var B;B=this;this.closed || (this.wCa(y),this.zBa(y).catch(function(C){B.log.error("Start command failed",{playdata:C.VJ,error:C.SW});}),z && this.tCa(this.OSb(y),y,A));};c.prototype.n0=function(y){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.Qv.create(y);this.active.delete(A.qa);y=ma((0,w.Nv)(function(C){return C.key === A.qa;},this.UJ));B=y.next().value;this.UJ=y.next().value;return Promise.all(B.map(function(C){C.stopped=!0;return C.iQ.stop(z.config.xBa);})).then(function(){});};c.prototype.wCa=function(y){var z,A;y.Qe("pdb");if(this.config.aza.qYb()){z=this.Qv.create(y);A=z.qa;this.UJ.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.UJ.push({key:A,iQ:this.jTb(y,z),Oy:!1,stopped:!1}));}};c.prototype.w$b=function(y){var z,A,B,C;z=this;A=this.Sy.VJ.filter(function(D){return !z.active.has(D.qa);});B=void 0;C=void 0;y && Infinity === y?B=A:(A=ma((0,w.Nv)(function(D){return D.K === y;},A)),B=A.next().value,C=A.next().value);C && 0 < C.length && this.Cc.Lj(this.config.phb,function(){z.rhb(C);});return B && 0 !== B.length?this.rhb(B):Promise.resolve();};c.prototype.rhb=function(y){var A;function z(B){return A.Dca.shb(B).then(function(){return A.A8b(B);});}A=this;return y.reduce(function(B,C){return B.then(function(){return z(C);});},Promise.resolve());};c.prototype.A8b=function(y){var z;z=this;return this.Sy.Yfb(y).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.jTb=function(y,z){y=new k(this.log,this.Cc,y,this.Qv,this.Sy,this.Dca);y.iQ(this.config.aza,z);return y;};c.prototype.zBa=function(y){var z,A;z=this;A=this.Qv.create(y);return this.Dca.zBa(y,A).then(function(){!1;z.vab(y);}).catch(function(B){z.vab(y);throw {VJ:A,SW:B};});};c.prototype.vab=function(y){this.UJ.filter(function(z){return z.key === y.qa.toString();}).forEach(function(z){z.Oy=!0;});};c.prototype.qhb=function(y){return this.A9b.NFb?this.S_(v.Oia.vY,y,q.$.Kha):Promise.resolve();};c.prototype.Vda=function(y){return this.S_(v.Oia.splice,y,q.$.iRa);};c.prototype.S_=function(y,z,A){var C;function B(D){var E;E=C.UJ.filter(function(G){return G.key === D.qa.toString();});return 0 === E.length?!0:E.reduce(function(G,F){return G || F.stopped || !F.Oy;},!1);}C=this;return B(z)?this.lJ:this.lJ=this.lJ.catch(function(){return Promise.resolve();}).then(function(){var D;if(B(z))return Promise.resolve();!1;D=C.Qv.create(z);return C.Dca.S_(y,z,D);}).then(function(D){!1;return D;}).catch(function(D){var E;C.log.error("Failed to send event",{eventKey:y,xid:z.qa,error:D});D.Uk?E=C.Ei(A,D):D.LB === q.z3.dka && (E=C.Ei(A,D));throw {SW:D,EQ:E};});};c.prototype.tCa=function(y,z,A){var B;B=this;!1;this.epa();this.Nva=this.Cc.Lj(y,function(){B.epa();B.S_(v.Oia.vY,z,q.$.Kha).then(function(){B.tCa(y,z,A);}).catch(function(C){var D;D=C.SW;(C=C.EQ) && A(C);D.LB !== q.z3.dka && B.tCa(y,z,A);});});};c.prototype.gjb=function(){this.epa();};c.prototype.epa=function(){this.Nva && (this.Nva.cancel(),this.Nva=void 0);};c.prototype.OSb=function(y){return y.ib.lua?(0,f.xc)(y.ib.lua):this.config.W9a;};x=c;x=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(p.LPa)),r.__param(1,(0,m.l)(d.mb)),r.__param(2,(0,m.l)(l.Sj)),r.__param(3,(0,m.l)(h.vOa)),r.__param(4,(0,m.l)(n.Ria)),r.__param(5,(0,m.l)(v.BOa)),r.__param(6,(0,m.l)(a.DT)),r.__param(7,(0,m.l)(u.Nh))],x);b.XOa=x;},function(r,b,a){var g,k,m,f,d,l;function c(n,h){n=k.zf.call(this,n,"PlaydataConfigImpl") || this;n.config=h;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.KPa=void 0;r=a(0);g=a(1);k=a(45);m=a(33);f=a(44);d=a(5);a=a(39);ja(c,k.zf);Ua.Object.defineProperties(c.prototype,{RJ:{configurable:!0,enumerable:!0,get:function(){return this.config.UA?"unsentplaydatatest":"unsentplaydata";}},xBa:{configurable:!0,enumerable:!0,get:function(){return !0;}},phb:{configurable:!0,enumerable:!0,get:function(){return (0,d.xc)(1E4);}},aza:{configurable:!0,enumerable:!0,get:function(){return (0,d.xc)(4E3);}},W9a:{configurable:!0,enumerable:!0,get:function(){return (0,d.yba)(1);}},X9a:{configurable:!0,enumerable:!0,get:function(){return (0,d.Hh)(30);}}});l=c;r.__decorate([f.config(f.string,"playdataPersistKey")],l.prototype,"RJ",null);r.__decorate([f.config(f.Ed,"sendPersistedPlaydata")],l.prototype,"xBa",null);r.__decorate([f.config(f.Kl,"playdataSendDelayMilliseconds")],l.prototype,"phb",null);r.__decorate([f.config(f.Kl,"playdataPersistIntervalMilliseconds")],l.prototype,"aza",null);r.__decorate([f.config(f.Kl,"heartbeatCooldown")],l.prototype,"W9a",null);r.__decorate([f.config(f.Kl,"keepAliveWindow")],l.prototype,"X9a",null);l=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.Qm)),r.__param(1,(0,g.l)(a.kp))],l);b.KPa=l;},function(r,b,a){var g,k,m;function c(f,d){this.VV=d;this.log=f.hb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.AOa=void 0;r=a(0);g=a(85);k=a(7);a=a(1);c.prototype.zBa=function(f,d){var l;l=this.VV(g.Bq.start);return this.m3a(l,f,d);};c.prototype.shb=function(f){var d;d=this;return this.VV(g.Bq.stop).Sf(this.log,f).then(function(){}).catch(function(l){d.log.error("PBO stop event failed",l);throw l;});};c.prototype.S_=function(f,d,l){f=this.VV(f);return this.m3a(f,d,l);};c.prototype.m3a=function(f,d,l){var n;n=this;return f.Up(this.log,d.fa.Aj,l).then(function(){}).catch(function(h){n.log.error("PBO event failed",h);throw h;});};m=c;m=r.__decorate([(0,a.aa)(),r.__param(0,(0,a.l)(k.mb)),r.__param(1,(0,a.l)(g.eha))],m);b.AOa=m;},function(r,b,a){var m,f,d,l;function c(){}function g(n){this.M4b=n;}function k(n){this.O4b=n;}Object.defineProperty(b,"__esModule",{value:!0});b.ZOa=b.SOa=b.QOa=void 0;r=a(0);m=a(1);f=a(293);d=a(36);l=a(3);k.prototype.validate=function(n){n.map(this.O4b.validate);};a=k;a=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(f.$Oa))],a);b.QOa=a;g.prototype.validate=function(n){this.M4b.validate(n.data);};a=g;a=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(f.ROa))],a);b.SOa=a;c.prototype.validate=function(n){var h;n.qa && "string" === typeof n.qa?n.href && "string" === typeof n.href?n.profileId && "string" === typeof n.profileId || (h="ProfileId value is corrupted."):h="Href value is corrupted.":h="Xid value is corrupted.";if(h)throw new d.od(l.$.UC,l.X.NC,void 0,void 0,void 0,h,void 0,n.qa);};f=c;f=r.__decorate([(0,m.aa)()],f);b.ZOa=f;},function(r,b,a){var g,k,m,f;function c(d,l){this.Ndb=l;this.log=d.hb("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.VOa=void 0;r=a(0);g=a(1);k=a(7);m=a(16);a=a(151);c.prototype.Tt=function(d){var l;l=this;this.Ndb().then(function(n){d.addEventListener(m.ma.rJ,function(h){var p;if(void 0 !== h.JQ){p=d.vn(h.JQ);n.n0(p);h.gJ || new Promise(function(q){var t;if(d.qk.value)q();else {t=function(v){v.newValue && (q(),d.qk.removeListener(t));};d.qk.addListener(t);}}).then(function(){return n.Tt(d,l.wib(d),function(q){return d.$H(q);});});}});d.addEventListener(m.ma.Ov,function(){n.Tt(d.na,l.wib(d),function(h){return d.$H(h);});});d.background || d.addEventListener(m.ma.HY,function(h){var p;h=d.vn(h.K);if(h.Wi){p=d.vn(h.Wi.Eh);l.log.trace("Auxiliary viewable segment (viewableId: " + h.K + "). Starting playdata monitor for parent viewable " + p.K);h=p;}n.wCa(h);});d.addEventListener(m.ma.ih,function(){n.gjb();});d.addEventListener(m.ma.$lb,function(){n.qhb(d.na).catch(function(h){(h=h.EQ) && d.$H(h);});});d.Tb.addListener(function(){d.ib.yqa?l.log.trace("stickiness is disabled for timedtext"):n.Vda(d.na);});d.Ec.addListener(function(){d.ib.yqa?l.log.trace("stickiness is disabled for audio"):n.Vda(d.na).catch(function(h){(h=h.EQ) && d.$H(h);});});});};c.prototype.wib=function(d){return d.state.value == m.dc.Le;};f=c;f=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.mb)),r.__param(1,(0,g.l)(a.BT))],f);b.VOa=f;},function(r,b,a){var g,k,m,f,d,l,n,h;function c(p){return function(){return new Promise(function(q,t){var v;v=p.wb.get(k.gIa);v.oa().then(function(){q(v);}).catch(function(w){t(w);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.t2a=void 0;r=a(1);g=a(539);k=a(540);m=a(1290);f=a(99);d=a(1291);l=a(541);n=a(1292);h=a(1293);b.t2a=new r.Cd(function(p){p(l.ILa).to(n.HLa).la();p(g.dIa).to(h.JLa);p(f.rS).to(d.gFa).la();p(k.gIa).to(m.eIa).la();p(k.fIa).L0(c);});},function(r,b,a){var g,k;function c(m){this.CMb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.eIa=void 0;r=a(0);g=a(1);a=a(539);c.prototype.oa=function(){var m;m=this;this.RE || (this.RE=new Promise(function(f,d){var l;l=[];m.CMb.forEach(function(n){l.push(n.oa());});Promise.all(l).then(function(){f();}).catch(function(n){d(n);});}));return this.RE;};k=c;k=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.EJ)(a.dIa))],k);b.eIa=k;},function(r,b,a){var g,k;function c(){this.qBa="";this.umb=[[],[]];this.ha=[[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.gFa=void 0;r=a(0);g=a(1);a(5);k=a(99);c.prototype.downloadRequest=function(m){var f;"" === this.qBa && (this.qBa=m.Y);if(!m.Fc){f=this.Bdc(m);this.ha[m.mediaType].push(f);this.umb[m.mediaType].forEach(function(d){d.Imc(f);});}};c.prototype.Bdc=function(m){return {id:m.$h(),Y:m.Y,mediaType:m.mediaType,Pk:m.Pk,startTime:m.$B,endTime:m.By,offset:m.Wv,KN:m.KN,IN:m.IN,duration:m.qn,bitrate:m.bitrate,state:k.Yfa.o2a,qk:!1,opc:!1,w7a:!1,aoc:k.Xfa.waiting};};c.prototype.update=function(m){this.umb[m.mediaType].forEach(function(f){f.ssc(m);});};Ua.Object.defineProperties(c.prototype,{Y:{configurable:!0,enumerable:!0,get:function(){return this.qBa;}}});a=c;a=r.__decorate([(0,g.aa)()],a);b.gFa=a;},function(r,b,a){var g,k,m,f,d;function c(l,n){l=m.zf.call(this,l,"LogDisplayConfigImpl") || this;l.zh=n;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.HLa=void 0;r=a(0);g=a(1);k=a(44);m=a(45);f=a(33);a=a(110);ja(c,m.zf);Ua.Object.defineProperties(c.prototype,{w_:{configurable:!0,enumerable:!0,get:function(){return !0;}},OP:{configurable:!0,enumerable:!0,get:function(){return this.zh.OP;}},R$a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});d=c;r.__decorate([k.config(k.Ed,"renderDomDiagnostics")],d.prototype,"w_",null);r.__decorate([k.config(k.TE,"logDisplayMaxEntryCount")],d.prototype,"OP",null);r.__decorate([k.config(k.TE,"logDisplayAutoshowLevel")],d.prototype,"R$a",null);d=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(f.Qm)),r.__param(1,(0,g.l)(a.HG))],d);b.HLa=d;},function(r,b,a){var m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A;function c(B,C,D,E,G,F,I,L,M,K){var O;O=this;this.Ba=B;this.Qg=C;this.Ki=D;this.Cc=E;this.cp=G;this.config=F;this.mI=I;this.bDa=L;this.aqa=M;this.oq=K;this.fdc=function(){O.U0.Wl(function(){O.update();});};this.clear=function(){O.entries=[];O.update();};this.vbb=function(){O.ef.DP=!O.ef.DP;O.gF && O.iF && (O.ef.DP?(O.gF.style.display="inline-block",O.iF.style.display="none"):(O.iF.style.display="inline-block",O.gF.style.display="none"));O.FK(!1);};this.s_b=function(H){var J;O.entries.push(H);J=O.config.OP;0 <= J && O.entries.length > J && O.entries.shift();void 0 === O.ef.xA[H.Op] && (O.ef.xA[H.Op]=!0,O.FK(!1));O.ef.isVisible && !O.Wjb?O.fdc():O.U0.Wl();};this.KMb=function(){k.download("all",O.entries.map(function(H){return H.Oea(!1,!1);})).catch(function(H){console.error("Unable to download all logs to the file",H);});};this.wv=!1;this.ef={isVisible:!1,DP:!0,o8:!0,ywa:v.zk.zha,xA:{}};this.U0=this.bDa((0,p.Hh)(1));this.xPb=this.aqa((0,p.xc)(250));this.entries=[];!1;!1;}function g(B){var C;this.elements=[];C=document.createElementNS(g.v0,"svg");C.setAttribute("viewBox",B);this.elements.push(C);}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.JLa=void 0;r=a(0);m=a(1);f=a(30);d=a(113);l=a(176);n=a(46);h=a(29);p=a(5);q=a(18);t=a(92);v=a(7);w=a(114);u=a(294);x=a(541);y=a(96);z=a(204);A=a(1294);k.download=function(B,C){return k.sSb(B).then(function(D){return k.CUb(D,C.join("\r\n")).then(function(E){return k.IMb(E.filename,E.text);});});};k.sSb=function(B){return new Promise(function(C,D){var E,G,F,I,L,M,K;try{E=new Date();G=E.getDate().toString();F=(E.getMonth() + 1).toString();I=E.getFullYear().toString();L=E.getHours().toString();M=E.getMinutes().toString();K=E.getSeconds().toString();1 === G.length && (G="0" + G);1 === F.length && (F="0" + F);1 === L.length && (L="0" + L);1 === M.length && (M="0" + M);1 === K.length && (K="0" + K);C(I + F + G + L + M + K + "." + B + ".log");}catch(O){D(O);}});};k.CUb=function(B,C){return new Promise(function(D,E){try{D({filename:B,text:URL.createObjectURL(new Blob([C],{type:"text/plain"}))});}catch(G){E(G);}});};k.IMb=function(B,C){var D;try{D=document.createElement("a");D.setAttribute("href",C);D.setAttribute("download",B);D.style.display="none";document.body.appendChild(D);D.click();document.body.removeChild(D);return Promise.resolve();}catch(E){return Promise.reject(E);}};g.prototype.zR=function(){var B;B=document.createElementNS(g.v0,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};g.prototype.BR=function(B,C,D){var E;E=document.createElementNS(g.v0,"path");E.setAttribute("d",B);C && E.setAttribute("fill",C);D && E.setAttribute("fill-rule",D);this.addElement(E);return this;};g.prototype.k0=function(B,C,D,E,G){var F;G=void 0 === G?"#000000":G;F=document.createElementNS(g.v0,"rect");F.setAttribute("x",B.toString());F.setAttribute("y",C.toString());F.setAttribute("height",D.toString());F.setAttribute("width",E.toString());G && F.setAttribute("fill",G);this.addElement(F);return this;};g.prototype.Nbc=function(){var B;B=document.createElementNS(g.v0,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};g.prototype.end=function(){this.elements.pop();return this;};g.prototype.Yi=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};g.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Ua.Object.defineProperties(g,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},iI:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});g.v0="http://www.w3.org/2000/svg";c.prototype.oa=function(){var B;B=this;this.RE || (this.RE=new Promise(function(C){mb.addEventListener("keydown",function(D){D.ctrlKey && D.altKey && D.shiftKey && (D.keyCode == z.WC.Wrb?B.toggle():D.keyCode == z.WC.E && A.OGa.XHb(B.mI().El));});B.cp.lda(u.Xha.upb,B.s_b);C();}));return this.RE;};c.prototype.show=function(){document.body && (this.element || (this.KJb(),this.wv=!0),!this.ef.isVisible && this.element && (document.body.appendChild(this.element),this.ef.isVisible=!0,this.update(!0)));};c.prototype.Ux=function(){this.wv && this.ef.isVisible && this.element && (document.body.removeChild(this.element),this.ef.isVisible=!1);};c.prototype.toggle=function(){this.ef.isVisible?this.Ux():this.show();this.FK(!1);};c.prototype.KJb=function(){var B,C;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});C=this.createElement("style");C.type="text/css";C.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(C);B.appendChild(this.pq=this.AKb());B.appendChild(this.BKb());B.appendChild(this.DJb());this.element=B;}catch(D){console.error("Unable to create the log console",D);}};c.prototype.AKb=function(){var B,C;B=this;C=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");C.setAttribute("wrap","off");C.setAttribute("readonly","readonly");C.addEventListener("focus",function(){B.Wjb=!0;B.update();B.pq && (B.pq.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});C.addEventListener("blur",function(){B.Wjb=!1;B.update();B.pq && (B.pq.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return C;};c.prototype.BKb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.eKb());B.appendChild(this.UJb());B.appendChild(this.PJb());B.appendChild(this.CKb());B.appendChild(this.IJb());B.appendChild(this.kKb());B.appendChild(this.iKb());B.appendChild(this.RJb());B.appendChild(this.JJb());return B;};c.prototype.DJb=function(){var B,C,D,E,G,F;B=this;C=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");D=this.createElement("div","padding:2px");E=this.createElement("select",this.Qx(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");C.appendChild(D);C.appendChild(G);D.appendChild(E);D.addEventListener("mousedown",function(I){I.preventDefault();});F=!1;D.addEventListener("click",function(){F?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(B.ef.xA).sort()).forEach(function(I){G.appendChild(B.EJb(I,D));}),G.style.display="block");F=!F;});return C;};c.prototype.EJb=function(B,C){var D,E,G;D=this;E=this.createElement("label","display: block;margin:1px");E.htmlFor=B;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=B;G.checked=this.ef.xA[B];G.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(D.ef.xA).forEach(function(F){D.ef.xA[F]="all" === B;}),C.click()):D.ef.xA[B]=!D.ef.xA[B];D.FK(!0);});E.appendChild(G);E.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return E;};c.prototype.eKb=function(){var B,C;B=this;C=this.createElement("select",this.Qx(22,NaN,1,2),'<option value="' + v.zk.Nf + '">Error</option><option value="' + (v.zk.jka + '">Warn</option><option value="') + (v.zk.zha + '">Info</option><option value="') + (v.zk.oSa + '">Trace</option><option value="') + (v.zk.N + '">Debug</option>'));C.value=this.ef.ywa.toString();C.addEventListener("change",function(D){B.ef.ywa=parseInt(D.target.value);B.FK(!0);},!1);return C;};c.prototype.UJb=function(){var C,D;function B(E){return C.xPb.Wl(function(){var G;G=E.target.value;C.ef.filter=G?new RegExp(G):void 0;C.FK(!0);});}C=this;D=this.createElement("input",this.Qx(14,150,1,2));D.value=this.ef.filter?this.ef.filter.source:"";D.title="Filter (RegEx)";D.placeholder="Filter (RegEx)";D.addEventListener("keydown",B,!1);D.addEventListener("change",B,!1);return D;};c.prototype.PJb=function(){var B,C,D,E;B=this;C=this.createElement("div",this.Qx(NaN,NaN));D=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");D.id="details";D.type="checkbox";D.title="Details";D.checked=this.ef.o8;D.addEventListener("change",function(G){B.ef.o8=G.target.checked;B.FK(!0);},!1);E=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");E.setAttribute("for","details");E.innerHTML="View details";C.appendChild(D);C.appendChild(E);return C;};c.prototype.CKb=function(){var B,C,D;B=this;C=this.createElement("button",this.Qx());D=new g("0 0 24 24").zR().Nbc().end().BR("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",g.iI,"nonzero").end().end().Yi();C.appendChild(D);C.addEventListener("click",function(){B.update();},!1);C.setAttribute("title","Refresh the log console");return C;};c.prototype.IJb=function(){var B,C;B=this.createElement("button",this.Qx());C=new g("0 0 24 24").zR().k0(0,0,24,24,g.background).end().BR("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",g.iI).end().end().Yi();B.appendChild(C);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.kKb=function(){var B;this.iF=this.createElement("button",this.Qx());this.iF.style.display=this.ef.DP?"none":"inline-block";B=new g("0 0 24 24").zR().k0(0,0,24,24,g.background).end().BR("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",g.iI,"nonzero").end().end().Yi();this.iF.addEventListener("click",this.vbb,!1);this.iF.appendChild(B);this.iF.setAttribute("title","Shrink the log console");return this.iF;};c.prototype.iKb=function(){var B;this.gF=this.createElement("button",this.Qx());this.gF.style.display=this.ef.DP?"inline-block":"none";B=new g("0 0 24 24").zR().k0(4,4,16,16,g.background).end().BR("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",g.iI,"nonzero").end().end().Yi();this.gF.addEventListener("click",this.vbb,!1);this.gF.appendChild(B);this.gF.setAttribute("title","Expand the log console");return this.gF;};c.prototype.RJb=function(){var B,C;B=this.createElement("button",this.Qx());C=new g("0 0 26 26").zR().k0(0,0,24,24,g.background).end().BR("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",g.iI,"nonzero").end().end().Yi();B.appendChild(C);B.addEventListener("click",this.KMb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.JJb=function(){var B,C,D;B=this;C=this.createElement("button",this.Qx());D=new g("0 0 24 24").zR().k0(0,0,24,24,g.background).end().BR("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",g.iI,"nonzero").end().end().Yi();C.appendChild(D);C.addEventListener("click",function(){B.toggle();},!1);C.setAttribute("title","Close the log console");return C;};c.prototype.FK=function(B){var C;B=void 0 === B?!1:B;C=void 0 === C?!1:C;!1;B && this.update(C);};c.prototype.update=function(B){var C;C=this;B=void 0 === B?!1:B;this.element && this.config.w_ && Promise.resolve(this.bFb() + this.tSb().join("\r\n")).then(function(D){C.element && C.pq && (C.pq.value=D,C.element.style.cssText=C.ef.DP?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && C.Cc.Lj(p.Ha,function(){C.pq.scrollTop=C.pq.scrollHeight;}));}).catch(function(D){console.error("Unable to update the log console",D);});};c.prototype.tSb=function(){var B,C;B=this;C=[];this.entries.forEach(function(D){(D.level || D.level) <= B.ef.ywa && B.ef.xA[D.Op] && (D=D.Oea(!B.ef.o8,!B.ef.o8),B.ef.filter && !B.ef.filter.test(D) || C.push(D));});return C;};c.prototype.bFb=function(){var B;B=this.mI();return "Version: 6.0038.217.911 \n" + ((B?"Esn: " + B.El:"") + "\nJsSid: ") + (this.Qg.id + ", Epoch: " + this.Ba.Hf.ja(p.qp) + ", Start: " + this.Qg.vB.ja(p.qp) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,C,D,E){return this.Ki.createElement(B,C,D,E);};c.prototype.Qx=function(B,C,D,E){B=void 0 === B?26:B;C=void 0 === C?26:C;return "display:inline-block;border:" + (void 0 === D?0:D) + "px solid " + g.iI + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(C)?"":"width:" + C + "px") + ";margin:0px 3px;background-color:transparent;" + (E?"border-radius:" + E + "px;":"");};a=c;a.Ybc="logDxDisplay";a=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(h.Nh)),r.__param(1,(0,m.l)(q.cd)),r.__param(2,(0,m.l)(f.oi)),r.__param(3,(0,m.l)(n.Sj)),r.__param(4,(0,m.l)(w.GL)),r.__param(5,(0,m.l)(x.ILa)),r.__param(6,(0,m.l)(t.jz)),r.__param(7,(0,m.l)(d.YL)),r.__param(8,(0,m.l)(l.h2)),r.__param(9,(0,m.l)(y.JC))],a);b.JLa=a;},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.OGa=void 0;g=a(13);c.XHb=function(k){var m;if(g.Ph.queryCommandSupported && g.Ph.queryCommandSupported("copy")){m=g.Ph.createElement("textarea");m.textContent=k;m.style.position="fixed";g.Ph.body.appendChild(m);m.select();try{g.Ph.execCommand("copy");}catch(f){console.warn("Copy to clipboard failed.",f);}finally{g.Ph.body.removeChild(m);}}};b.OGa=c;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p;Object.defineProperty(b,"__esModule",{value:!0});b.Ke=void 0;r=a(1);c=a(1296);g=a(1297);k=a(1298);m=a(145);f=a(343);d=a(517);l=a(1299);n=a(1300);h=a(542);p=a(1301);b.Ke=new r.Cd(function(q){q(m.m4).to(c.iSa).la();q(f.tja).to(k.GQa).la();q(d.dTa).to(g.cTa).la();q(l.etb).to(n.LNa).la();q(h.zTa).to(p.yTa).la();});},function(r,b,a){var g,k,m,f,d,l;function c(n,h){this.is=n;this.json=h;(0,k.fq)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.iSa=void 0;r=a(0);k=a(54);m=a(37);f=a(1);d=a(27);l=a(145);c.prototype.tfb=function(n){var h;h=this;return g.read(n,function(p){return parseInt(p);},function(p){return h.is.qna(p);});};c.prototype.bAa=function(n){var h;h=this;return g.read(n,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return h.is.q6(p);});};c.prototype.Sr=function(n){var h;h=this;return g.read(n,function(p){return parseInt(p);},function(p){return h.is.pV(p);});};c.prototype.t7b=function(n){var h;h=this;return g.read(n,function(p){return parseFloat(p);},function(p){return h.is.no(p);});};c.prototype.sfb=function(n,h){return g.read(n,function(p){return g.IPb(p,h);},function(p){return void 0 !== p;});};c.prototype.eAa=function(n,h){return g.read(n,function(p){return p;},function(p){return h?h.test(p):!0;});};c.prototype.ufb=function(n){var h,p;h=this;p=void 0 === p?function(){return !0;}:p;try{return g.read(n,function(q){return h.json.parse(decodeURIComponent(q));},function(q){return h.is.oV(q) && p(q);});}catch(q){return new l.Dq();}};c.prototype.al=function(n,h,p){var q,t;q=this;p=void 0 === p?1:p;n=n.trim();t=h instanceof Function?h:this.lKb(h,p);h=n.indexOf("[");p=n.lastIndexOf("]");if(0 != h || p != n.length - 1)return new l.Dq();n=n.substring(h + 1,p);try{return g.B4b(n).map(function(v){v=t(q,g.Rfc(v));if(v instanceof l.Dq)throw v;return v;});}catch(v){return v instanceof l.Dq?v:new l.Dq();}};c.prototype.lKb=function(n,h){var p;p=this;h=void 0 === h?1:h;return function(q,t){q=g.wTb(n);return 1 < h?p.al(t,n,h - 1):q(p,t);};};c.IPb=function(n,h){var q;for(var p in h){q=parseInt(p);if(h[q] == n)return q;}};c.read=function(n,h,p){n=h(n);return void 0 !== n && p(n)?n:new l.Dq();};c.wTb=function(n){switch(n){case "int":return function(h,p){return h.tfb(p);};case "bool":return function(h,p){return h.bAa(p);};case "uint":return function(h,p){return h.Sr(p);};case "float":return function(h,p){return h.t7b(p);};case "string":return function(h,p){return h.eAa(p);};case "object":return function(h,p){return h.ufb(p);};}};c.B4b=function(n){var x;for(var h=[["[","]"]],p=[],q=0,t=0,v=0,w=[],u={};t < n.length;(u={lS:u.lS},++t)){u.lS=n.charAt(t);x=void 0;"," == u.lS && 0 == v?(p.push(n.substr(q,t - q)),q=t + 1):(x=h.find((function(y){return function(z){return z[0] == y.lS;};})(u)))?(++v,w.push(x)):0 < w.length && w[w.length - 1][1] == u.lS && (--v,w.pop());}if(q != t)p.push(n.substr(q,t - q));else if(q == t && 0 < q)throw new l.Dq();return p;};c.Rfc=function(n){var h;h=n.charAt(0);if('"' == h || "'" == h){if(n.charAt(n.length - 1) != h)throw new l.Dq();return n.substring(1,n.length - 1);}return n;};a=g=c;a=g=r.__decorate([(0,f.aa)(),r.__param(0,(0,f.l)(d.Yg)),r.__param(1,(0,f.l)(m.tG))],a);b.iSa=a;},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cTa=void 0;r=a(0);a=a(1);c.prototype.z4a=function(k){var m;m=this;return k?(k ^ 16 * Math.random() >> k / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(f){return m.z4a(f);});};g=c;g=r.__decorate([(0,a.aa)()],g);b.cTa=g;},function(r,b,a){var g,k,m,f;function c(d){this.location=d;(0,k.fq)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.GQa=void 0;r=a(0);k=a(54);m=a(37);a=a(1);c.LZ=function(d){var l,h,p;l={};if(0 < d.length){d=d.split("&");for(var n=0;n < d.length;n++){h=d[n].trim();p=h.indexOf("=");0 <= p?l[decodeURIComponent(h.substr(0,p).replace(g.gOa,"%20"))]=decodeURIComponent(h.substr(p + 1).replace(g.gOa,"%20")):l[h.toLowerCase()]="";}}return l;};Ua.Object.defineProperties(c.prototype,{k7b:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=g.LZ(this.efb);}},efb:{configurable:!0,enumerable:!0,get:function(){var d;if(void 0 !== this.o_)return this.o_;this.o_=this.location.search.substr(1);d=this.o_.indexOf("#");0 <= d && (this.o_=this.efb.substr(0,d));return this.o_;}}});f=g=c;f.gOa=/[+]/g;f=g=r.__decorate([(0,a.aa)(),r.__param(0,(0,a.l)(m.DLa))],f);b.GQa=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.etb="ObjectComparerSymbol";},function(r,b,a){var g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.LNa=void 0;r=a(0);g=a(1);k=a(213);c.prototype.compare=function(m,f){var d;d=[];this.ppa(m,f,"",d);return d;};c.prototype.ppa=function(m,f,d,l){var n;n=this;if(k.sG.MD(m))k.sG.MD(f) && m.length === f.length?m.forEach(function(q,t){n.ppa(m[t],f[t],d + "[" + t + "]",l);}):l.push({a:m,b:f,path:d});else if(k.sG.oV(m) && null != m){if(k.sG.oV(f) && null != f){for(var h in m){this.ppa(m[h],f[h],d + "." + h,l);}for(var p in f){(p in m) || void 0 === f[p] || l.push({a:void 0,b:f[p],path:d + "." + p});}}else l.push({a:m,b:f,path:d});}else m !== f && l.push({a:m,b:f,path:d});};a=c;a=r.__decorate([(0,g.aa)()],a);b.LNa=a;},function(r,b,a){var g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.yTa=void 0;r=a(0);g=a(1);k=a(13);c.prototype.ZTb=function(){var m;m=mb.devicePixelRatio || 1;return {width:k.Iw.width * m,height:k.Iw.height * m};};a=c;a=r.__decorate([(0,g.aa)()],a);b.yTa=a;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u,x;Object.defineProperty(b,"__esModule",{value:!0});b.Bd=void 0;r=a(1);c=a(543);g=a(1303);k=a(119);m=a(295);f=a(1304);d=a(1305);l=a(1307);n=a(1308);h=a(1309);p=a(544);q=a(545);t=a(167);v=a(297);w=a(1310);u=a(296);x=a(1312);b.Bd=new r.Cd(function(y){y(c.oPa).to(g.nPa).la();y(m.oja).to(f.yQa).la();y(k.TG).to(d.mTa).la();y(p.xQa).to(h.sMa).la();y(p.wQa).to(n.vLa).la();y(p.vQa).to(l.nLa).la();y(v.tFa).Fdc(function(){var z;return null === (z=t.Yq.lj) || void 0 === z?void 0:z.xy;});y(v.sFa).to(w.rFa).la();y(q.mja).to(q.kQa);y(u.Cga).to(x.AGa).la();});},function(r,b,a){var g,k,m;function c(f,d){this.Cb=d;this.ya=f.hb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.nPa=void 0;r=a(0);g=a(1);k=a(7);a=a(27);c.prototype.eMb=function(f){var d;d=this;try{return {direction:f.direction,Epc:f.layoutHasChanged,krc:f.rowInteractionIndex,Ob:f.lolomos.map(function(l){return d.$Lb(l);})};}catch(l){this.ya.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(f)});}};c.prototype.$Lb=function(f){var d;d=this;return {context:f.context,list:f.list.map(function(l){return d.ZLb(l);}),requestId:f.requestId,rowIndex:f.rowIndex,lrc:f.rowSegment};};c.prototype.ZLb=function(f){var d,l;d={Re:f.pts,property:f.property,P:f.viewableId,index:f.index};l=f.preplay;this.Cb.kh(l) && (d.Pca=this.dMb(l));f=f.params;this.Cb.kh(f) && (d.Db=this.K1a(f));return d;};c.prototype.dMb=function(f){var d;d={Re:f.pts,P:f.viewableId,CQ:f.pipelineNum,index:f.index};f=f.params;this.Cb.kh(f) && (d.Db=this.K1a(f));return d;};c.prototype.K1a=function(f){return {he:f.uiLabel,ml:f.trackingId,Nn:f.sessionParams};};c.prototype.cMb=function(f){var d;d=this;try{return f.map(function(l){return d.aMb(l);});}catch(l){this.ya.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(f)});}};c.prototype.aMb=function(f){var d,l;l=f.params;this.Cb.kh(l) && (d=this.bMb(l));return {K:f.movieId,priority:f.priority,force:f.force,Db:d,he:f.uiLabel,osc:f.uiExpectedStartTime,nsc:f.uiExpectedEndTime,qm:f.firstTimeAdded};};c.prototype.bMb=function(f){var d,l;d=void 0;l=f.sessionParams;this.Cb.kh(l) && (d=l);return {d7:this.YLb(f.authParams),Nn:d,ml:f.trackingId,da:f.startPts,fa:f.manifest,di:f.isBranching};};c.prototype.YLb=function(f){return {b5b:null === f || void 0 === f?void 0:f.pinCapableClient};};m=c;m=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.mb)),r.__param(1,(0,g.l)(a.Yg))],m);b.nPa=m;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q;function c(t,v,w,u){this.is=w;this.Qg=u;this.log=t.hb("TaskScheduler");this.Lb=new p.yk();this.config=v();this.currentIteration=this.iW=0;this.TK=[];this.paused=!1;this.tea=[];this.T_a=[];this.sXb=this.config.j6b || q.append;this.addEventListener=this.Lb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.yQa=void 0;r=a(0);g=a(1);k=a(295);m=a(7);f=a(12);d=a(138);l=a(27);n=a(18);h=a(5);p=a(70);(function(t){t.prepend="prepend";t.append="append";t.xWb="ignore";})(q || (q={}));c.prototype.wCb=function(t){this.log.trace("adding tasks, number of tasks: " + t.length);this.paused=!1;this.TK=this.tXb(t);this.iW=0;this.currentIteration+=1;this.yg();};c.prototype.pause=function(){this.paused=!0;};c.prototype.yg=function(){var t,v,w,u;t=this;if(this.iW === this.TK.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.iW,numberOfTasks:this.TK.length});else {v=this.rTb();w=this.currentIteration;v.startTime=this.Qg.Rb().ja(h.sa);v.status=d.ql.Oy;this.Lb.Uc(k.SL.Zcc,{K:v.K,type:v.type});this.tea.push(v);u=function(x){v.endTime=t.Qg.Rb().ja(h.sa);x();t.T_a.push(v);t.tea.splice(t.tea.indexOf(v),1);t.currentIteration === w && (t.iW++,t.yg());};v.J9b().then(function(){u(function(){v.status=d.ql.HR;t.Mza(v,k.SL.$cc,"task succeeded");});}).catch(function(x){u(function(){0 <= [d.ql.Pf,d.ql.UFb,d.ql.Eoa].indexOf(x.status)?(v.status=x.status,t.Mza(v,k.SL.Xcc,"cancelled task")):(v.status=d.ql.av,t.Mza(v,k.SL.Ycc,"task failed",x));});});}};c.prototype.rTb=function(){return this.TK[this.iW];};c.prototype.getStats=function(t,v,w){var u,x,y,z;u=this.T_a.map(function(A){return A.kv();});x=this.tea.map(function(A){return A.kv();});y=this.is.kh(t) && this.is.kh(v);z={};if(this.is.kh(w))return (z.xHb=u.filter(function(A){return A.movieId === w;}),z);u.concat(x).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == d.ql.Oy?A.startTime:A.endTime;y && B && B >= t && B < v && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.Mza=function(t,v,w,u){var x;x=t.kv();u?this.log.warn(w,x,u):this.log.trace(w,x);this.Lb.Uc(v,{K:t.K,type:t.type,reason:t.status});t.qQ(x);};c.prototype.tXb=function(t){var v,w;v=this.TK.filter(function(u){return u.Y4b && u.status === d.ql.zl;});w=this.sXb;return w === q.xWb?[].concat(t):w === q.prepend?v.concat(t):t.concat(v);};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.mb)),r.__param(1,(0,g.l)(f.Lc)),r.__param(2,(0,g.l)(l.Yg)),r.__param(3,(0,g.l)(n.cd))],a);b.yQa=a;},function(r,b,a){var k,m,f,d,l,n,h,p,q,t,v,w,u,x;function c(y,z,A,B,C,D,E,G,F,I,L){this.Ogc=A;this.Cb=B;this.Qg=C;this.$d=D;this.B3a=E;this.pPb=G;this.qPb=F;this.S8=I;this.events=new x.EventEmitter();this.log=y.hb("VideoPreparer");this.config=z();this.sEa={};this.Aba={};this.bc={num_of_calls:0,num_of_movies:0};this.S8.oa(this);this.hh=L.hh;}function g(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.mTa=void 0;r=a(0);k=a(1306);m=a(12);f=a(1);d=a(7);l=a(83);n=a(27);h=a(295);p=a(18);q=a(5);t=a(138);v=a(296);w=a(544);u=a(297);x=a(14);c.prototype.Hhb=function(y,z,A){this.hh.setData(y,"ldl",z,A);};c.prototype.s7a=function(y){return this.hh.VX(y,"ldl");};c.prototype.p_a=function(y){this.hh.clearData(y,"ldl",void 0,!0);};c.prototype.RO=function(y,z){return this.hh.getData(y,z);};c.prototype.T4a=function(y){var z;z=this.hh.getData(y,"ldl");this.hh.clearData(y,"ldl",void 0,!0);return z;};c.prototype.tmb=function(y){return this.ajb === y || this.V0a === y;};c.prototype.ZJ=function(y,z){var A,B,C;A=this;y=y.map(function(D){D.Db=D.Db || ({d7:{b5b:!1},ml:0});A.Cb.lI(D.Db.ml) || (D.Db.ml=0);A.Cb.lI(D.Re) && (D.Db.da=D.Re);return D;});B=y.map(function(D){return A.zKb(D,z);}).reduce(function(D,E){return D.concat(E);},[]);C=B.map(function(D){return D.K + "-" + D.type;});this.log.trace("prepare tasks",C);this.$d.wCb(B);this.bc.num_of_calls++;this.bc.num_of_movies+=y.length;};c.prototype.getStats=function(y,z,A){return Object.assign(Object.assign({},A && this.Aba[A] || ({})),{TK:this.$d.getStats(y,z,A),cache:this.hh.getStats(y,z),SQb:Object.assign(Object.assign({},this.bc),this.S8.getStats())});};c.prototype.pVb=function(y){this.ajb=y;};c.prototype.oVb=function(y){this.log.trace("task scheduler paused on playback created");this.$d.pause();this.config.ULb && this.hh.apa(y,["manifest"]);this.config.TLb && this.hh.apa(y,["ldl"]);this.config.QLb && this.hh.clearData(y,"manifest");this.S8.Tfb(y);this.V0a=y;};c.prototype.l7a=function(){this.log.info("ad played, clearing all manifests from cache");this.$3a();};c.prototype.p7a=function(){this.log.info("track changed, clearing all manifests from cache");this.$3a();};c.prototype.nVb=function(y){var z;z=this;this.config.RLb?this.hh.clearData(y,"manifest"):this.hh.VX(y,"manifest") && this.hh.getData(y,"manifest").then(function(A){A.$a.isSupplemental || z.hh.clearData(y,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",A);});this.ipa(y);this.ajb=this.V0a=void 0;this.events.emit("playbackClosing",{P:y,type:"playbackClosing",target:this});};c.prototype.$3a=function(){this.hh.apa("none",["manifest","ldl"]);};c.prototype.ipa=function(y){delete this.sEa[y];};c.prototype.ov=function(y){return this.sEa[y];};c.prototype.R7=function(y){return this.sEa[y]=this.Ogc.JA();};c.prototype.uib=function(y,z){if(this.s7a(y))return t.ql.Pf;if(!z.ME)return t.ql.Eoa;};c.prototype.zKb=function(y,z){var A,B;y.he && y.Db && (y.Db.he=y.he);this.dfc(y.K,y.qm);A=this.hKb(y,z);B=this.dKb(y,null === A || void 0 === A?void 0:A.id,z);y=this.jKb(y,null === A || void 0 === A?void 0:A.id,z);return [A,B,y].filter(g);};c.prototype.hKb=function(y,z){if(this.hh.VX(y.K,"manifest"))this.log.trace("manifest exists in cache for " + y.K);else return new k.FT("manifest",this.Qg.Rb().ja(q.sa),! !y.Db.Hi,void 0,z,this.B3a,y,this);};c.prototype.dKb=function(y,z,A){if(this.config.LW)if(this.hh.VX(y.K,"ldl"))!1;else return this.config.bu?new k.FT("ldl",this.Qg.Rb().ja(q.sa),! !y.Db.Hi,z,A,this.pPb,y,this):new k.FT("ldl",this.Qg.Rb().ja(q.sa),! !y.Db.Hi,z,A,this.qPb,y,this);};c.prototype.jKb=function(y,z,A){if(this.config.O2a)return new k.FT("getMedia",this.Qg.Rb().ja(q.sa),! !y.Db.Hi,z,A,this.S8,y,this);};c.prototype.dfc=function(y,z){this.Aba[y] || (this.Aba[y]={Nca:0,qm:0});y=this.Aba[y];y.Nca=(void 0 !== y?void 0 !== y.Nca?y.Nca:0:0) + 1;y.qm=z;};a=c;a=r.__decorate([(0,f.aa)(),r.__param(0,(0,f.l)(d.mb)),r.__param(1,(0,f.l)(m.Lc)),r.__param(2,(0,f.l)(l.pz)),r.__param(3,(0,f.l)(n.Yg)),r.__param(4,(0,f.l)(p.cd)),r.__param(5,(0,f.l)(h.oja)),r.__param(6,(0,f.l)(w.xQa)),r.__param(7,(0,f.l)(w.wQa)),r.__param(8,(0,f.l)(w.vQa)),r.__param(9,(0,f.l)(u.sFa)),r.__param(10,(0,f.l)(v.Cga))],a);b.mTa=a;},function(r,b,a){var g,k;function c(m,f,d,l,n,h,p,q){this.type=m;this.zl=f;this.Y4b=void 0 === d?!1:d;this.notify=n;this.rPb=h;this.HQ=p;this.Bd=q;this.id=++k;this.status=g.ql.zl;}Object.defineProperty(b,"__esModule",{value:!0});b.FT=void 0;g=a(138);k=0;c.prototype.kv=function(){var m;m={id:this.id,type:this.type,created:this.zl,status:this.status,movieId:this.K};this.startTime && (m.startTime=this.startTime);this.endTime && this.startTime && (m.duration=this.endTime - this.startTime,m.endTime=this.endTime);return m;};c.prototype.qQ=function(m){this.notify && this.notify(m);};c.prototype.J9b=function(){return this.rPb.fetch(this.HQ,this.Bd);};Ua.Object.defineProperties(c.prototype,{K:{configurable:!0,enumerable:!0,get:function(){return this.HQ.K;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.HQ.priority;}}});b.FT=c;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z;function c(A,B,C,D,E,G,F,I,L,M,K){this.At=C;this.f0=D;this.vc=E;this.Ba=G;this.Fa=F;this.NP=I;this.h5b=L;this.kk=M;this.Sk=K;this.log=A.hb("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.nLa=void 0;r=a(0);g=a(1);k=a(7);m=a(12);f=a(138);d=a(61);l=a(57);n=a(47);h=a(163);p=a(202);q=a(31);t=a(5);v=a(29);w=a(18);u=a(205);x=a(217);y=a(115);a=a(67);c.prototype.fetch=function(A,B){var C;C=this;this.log.trace("Fetching LDL",(0,u.AL)(A));this.K=A.K;this.Bd=B;return B.RO(A.K,"ldl").catch(function(){C.log.trace("Requesting a new license",(0,u.AL)(A));return C.kk.x9(A.K).then(function(D){var E,G;C.fa=D;C.$a=D.$a;if(D=C.Bd.uib(A.K,C.$a))throw {status:D};D=C.$a.Xy[0].g_;E=C.$a.Xy[0].Eqa;G=(D?D:[E]).map(function(F){return C.vc.decode(F.bytes);});C.bf=C.gE({B2a:C.log,$qa:function(F){return C.handleError(F);},Qe:void 0,bya:function(){},Ba:{getTime:function(){return C.Fa.Rb().ja(t.sa);},Koc:function(){return C.Ba.Hf.ja(t.qp);}}});B.Hhb(A.K,C.bf);return C.bf.create(C.config.zn).then(function(){return C.bf.Ch(l.Ni.lp,G,!0);}).then(function(){return C.bf;}).catch(function(F){C.handleError(F);throw F;});}).catch(function(D){C.log.warn("Manifest not available for ldl request",D);if(void 0 !== D.status)throw D;throw {status:f.ql.Pf};});});};c.prototype.handleError=function(A){this.log.warn("ldl is now invalid",A);this.bf.close();this.Bd.p_a(this.K);this.Bd.ipa(this.K);};c.prototype.gE=function(A){var B,C;B=this;if(!this.At.yL || !this.At.wL){C=this.h5b();this.At.yL=C.jc;this.At.wL=C.request;}C=new this.At.wL(A.B2a,function(D){var E;E=[];D.Nk.forEach(function(G){E.push({sessionId:G.sessionId,dataBase64:B.vc.encode(G.data)});});D={Nk:E,t8:[B.$a.om],Dg:d.jp.n0a(D.Dg),Ug:B.$a.Ug,qa:B.Bd.R7(B.K),Aj:B.fa.Aj};B.log.trace("xid created ",{MovieId:B.K,xid:D.qa});return B.NP.nx(D);},void 0,{Vf:!1,Gl:!1});return this.At.yL(A.B2a,A.Qe,{Vf:!1,Gl:!1,Em:C,j_:this.config.Ueb,ca:void 0,DC:this.config.I2a,onerror:A.$qa,bya:A.bya,Ba:A.Ba,SJ:!1,RDb:this.f0.K7([]),cgc:this.f0.Q7([]),lwa:this.Sk.J6.ja(t.sa)});};z=c;z=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.mb)),r.__param(1,(0,g.l)(m.Lc)),r.__param(2,(0,g.l)(n.Q3)),r.__param(3,(0,g.l)(h.KT)),r.__param(4,(0,g.l)(q.Li)),r.__param(5,(0,g.l)(v.Nh)),r.__param(6,(0,g.l)(w.cd)),r.__param(7,(0,g.l)(p.dT)),r.__param(8,(0,g.l)(x.Yia)),r.__param(9,(0,g.l)(y.zG)),r.__param(10,(0,g.l)(a.ku))],z);b.nLa=z;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t;function c(v,w,u,x,y,z){this.vc=u;this.YMb=x;this.$P=y;this.kk=z;this.log=v.hb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.vLa=void 0;r=a(0);g=a(1);k=a(7);m=a(12);f=a(57);d=a(31);l=a(124);n=a(144);h=a(138);p=a(205);q=a(115);t=a(48);c.prototype.fetch=function(v,w){var u;u=this;this.log.trace("Fetching LDL",(0,p.AL)(v));this.K=v.K;this.Bd=w;return w.RO(v.K,"ldl").then(function(x){return x.Yda;}).catch(function(){u.log.trace("Requesting a new license",(0,p.AL)(v));return u.kk.x9(v.K).then(function(x){var y,z,A,B,C,D;u.$a=x.$a;if(w.s7a(v.K))return w.RO(v.K,"ldl").then(function(E){return E.Yda;});y=u.Bd.uib(v.K,u.$a);if(y)throw {status:y};z=u.$a.Xy[0];y=z.g_;A=z.Eqa;z=z.streams[0].fE;B=(0,t.gva)(z);C=(y?y:[A]).map(function(E){return u.vc.decode(E.bytes);});D=u.YMb().then(function(E){var G;G={type:f.Ni.lp,initData:C,Z$:B,context:{vaa:(0,t.Wsa)(x.$a.Xy[0].streams)},pk:{K:v.K,qa:w.R7(v.K),Ug:u.$a.Ug,om:u.$a.om,Aj:x.Aj}};return E.Ch(G,u.$P());}).catch(function(E){u.handleError("Unable to prepare an EME session.",E);throw E;});u.Bd.Hhb(v.K,{Yda:D,source:"videopreparer"},function(){if(!u.Bd.tmb(v.K))try{D.then(function(E){return E.close();}).catch(function(E){u.handleError("Unable to cleanup LDL session, Unable to get the session.",E);});}catch(E){u.handleError("Unable to cleanup LDL session, unexpected exception.",E);}});return D;}).catch(function(x){u.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:h.ql.Pf};});});};c.prototype.handleError=function(v,w){this.log.warn(v + " LDL is now invalid.",w);this.Bd.p_a(this.K);this.Bd.ipa(this.K);};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.mb)),r.__param(1,(0,g.l)(m.Lc)),r.__param(2,(0,g.l)(d.Li)),r.__param(3,(0,g.l)(l.m2)),r.__param(4,(0,g.l)(n.oT)),r.__param(5,(0,g.l)(q.zG))],a);b.vLa=a;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q;function c(t,v,w,u,x){this.QY=w;this.Qg=u;this.kk=x;this.log=t.hb("VideoPreparer");this.config=v();}Object.defineProperty(b,"__esModule",{value:!0});b.sMa=void 0;r=a(0);g=a(12);k=a(1);m=a(7);f=a(18);d=a(5);l=a(136);n=a(100);h=a(205);p=a(115);q=a(57);c.prototype.fetch=function(t,v){var w,u;this.log.trace("Fetching manifest",(0,h.AL)(t));u=t.Db;this.config.yBb && u && u.fa && !this.kk.k$(t.K) && (!(("clientGenesis" in u.fa) && u.fa.clientGenesis) || "number" === typeof u.fa.clientGenesis && Date.now() - u.fa.clientGenesis < this.config.Beb) && (u=this.QY.create(u.fa)) && (u.iK=this.Qg.Rb().ja(d.sa),u.$Q=this.Qg.Rb().ja(d.sa),this.kk.o0(t.K,u));return this.kk.NI({qa:v.R7(t.K),P:t.K,ib:null !== (w=t.Db) && void 0 !== w?w:{},dv:n.bo.GG,Dg:q.Ni.lp},!0,function(x){v.events.emit("manifestRemovedFromCache",{target:v,type:"manifestRemovedFromCache",P:t.K,fa:x});});};a=c;a=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(m.mb)),r.__param(1,(0,k.l)(g.Lc)),r.__param(2,(0,k.l)(l.IL)),r.__param(3,(0,k.l)(f.cd)),r.__param(4,(0,k.l)(p.zG))],a);b.sMa=a;},function(r,b,a){var k,m,f,d,l,n,h,p,q,t,v,w,u,x;function c(){var y;y=this;this.promise=new Promise(function(z,A){y.resolve=z;y.reject=A;});}function g(y,z,A,B,C){var D;D=this;this.qza=A;this.g6b=B;this.kk=C;this.l1=[];this.zF=new Map();this.z3b=function(E){var G,F;E=E.wishListItem.key.P;if(D.zF.has(E)){F=D.zF.get(E);E=F.HQ;F=F.upa;null === (G=F.resolve) || void 0 === G?void 0:G.call(F,E);}};this.bca=function(E){var G,F;G=E.P;F=E.fa;E.target.tmb(E.P) || (D.th.has({P:G}) && (D.th.Xs(G).Ix=!0),null === F || void 0 === F?void 0:F.then(function(I){var L;L=I.$a;L && L.Oe && L.Iu && L.Iu.forEach(function(M){var K;K={wl:{Oe:L.Oe,Eh:G}};D.th.has({P:M.K,Eh:L.K,Oe:L.Oe}) && (D.th.Xs(M.K,K).Ix=!0);});}),D.Tfb(G),D.mib(D.l1));};this.ya=y.hb("VideoPreparer");this.config=z();}Object.defineProperty(b,"__esModule",{value:!0});b.rFa=void 0;r=a(0);k=a(7);a(205);m=a(167);f=a(75);d=a(12);l=a(19);n=a(100);h=a(297);p=a(1);q=a(545);t=a(14);v=a(115);w=a(57);u=a(546);x=a(1311);g.prototype.oa=function(y){var z;z=this;this.th=new u.ika(function(A,B){return z.Dx(A,y,m.Yq.Be,B);});};g.prototype.fetch=function(y,z){if(-1 === z.events.listeners("manifestRemovedFromCache").indexOf(this.bca))z.events.on("manifestRemovedFromCache",this.bca);if(-1 === z.events.listeners("playbackClosing").indexOf(this.bca))z.events.on("playbackClosing",this.bca);!1;this.mib(this.pHb(this.JKb(y,z)));return this.zF.get(y.K).upa.promise;};g.prototype.getStats=function(){return this.xy.getStats();};g.prototype.pHb=function(y){return [y].concat(ha(this.l1.filter(function(z){return z.key.P !== y.key.P;}))).slice(0,this.config.e6b).map(this.config.f6b?function(z,A){return Object.assign({},z,{priority:A});}:function(z){return z;});};g.prototype.NI=function(y,z,A){var B,C;B=this;A=void 0 === A?{}:A;return this.kk.NI({qa:null !== (C=z.ov(y)) && void 0 !== C?C:z.R7(y),P:y,dv:n.bo.GG,Dg:w.Ni.lp,ib:A}).then(function(D){var E,G;E=D.$a;null === (G=E.Iu) || void 0 === G?void 0:G.forEach(function(F){B.Dx(F.K,z,m.Yq.Be,{wl:{Oe:E.Oe,Eh:y}},F);});return E;});};g.prototype.JKb=function(y,z){var A,B,C,D,E,G;C=new c();if(this.zF.has(y.K)){D=this.zF.get(y.K);E=D.HQ;if(E.K === y.K && E.he === y.he)G=D.Ggc.key;this.xy.getStats().contents.some(function(F){return F.id === y.K;}) && (C=D.upa);}D=m.Yq.Be.vi((0,l.zpa)(y.he));G || (G={P:y.K,config:D});E={P:y.K};this.th.has(E) || this.th.store(E,this.HKb(y,z,D));z={key:G,vpc:!1,priority:y.priority,h7:f.M.Ja(null !== (B=null === (A=y.Db) || void 0 === A?void 0:A.da) && void 0 !== B?B:0),th:this.th};this.zF.set(y.K,{Ggc:z,HQ:y,upa:C});return z;};g.prototype.HKb=function(y,z,A){var B,C,D;B=this;C=y.K;return {get qa() {return z.ov(C);},Ix:!1,events:new t.EventEmitter(),RZa:function(){},get du() {D || (D=B.NI(y.K,z,y.Db).then(function(E){return {fa:E,yl:E.l$ && !E.ME,config:A,cCa:{}};}));return D;},P:C,SCa:!1,equals:function(E){var G;G=z.ov(C);return E && E.P === C && (!E.qa || !G || G === E.qa);}};};g.prototype.Dx=function(y,z,A,B,C){var D,E,G,F,I,L,M,K;D=this;I=z.ov(y);if(I || B){L={P:y,Eh:null === (E=null === B || void 0 === B?void 0:B.wl) || void 0 === E?void 0:E.Eh,Oe:null === (G=null === B || void 0 === B?void 0:B.wl) || void 0 === G?void 0:G.Oe};if(!this.th.has(L)){M=null !== I && void 0 !== I?I:this.th.Xs(null === (F=null === B || void 0 === B?void 0:B.wl) || void 0 === F?void 0:F.Eh).qa;this.th.store(L,{RZa:function(){},equals:function(O){return O && O.P === L.P && (M === O.qa || !O.qa || !M);},get du() {K || (K=(C?Promise.resolve(C):D.NI(y,z)).then(function(O){return {fa:O,yl:O.l$ && !O.ME,config:A,cCa:{}};}));return K;},set du(O) {K=O;},events:new t.EventEmitter(),qa:M,P:L.P,Ix:!1,SCa:!1});}}};g.prototype.Shb=function(y){this.l1=y;};g.prototype.mib=function(y){this.Shb(y);this.xy.lib(this.l1);};g.prototype.Tfb=function(y){this.zF.has(y) && (this.Shb(this.l1.filter(function(z){return z.key.P !== y;})),this.zF.delete(y));};Ua.Object.defineProperties(g.prototype,{xy:{configurable:!0,enumerable:!0,get:function(){this.Yz || (this.Yz=this.g6b(),this.Yz.LBa(this.qza).cib(new x.VKa()).Ghb({$I:this.config.d6b}),this.Yz.events.on("prefetchComplete",this.z3b));return this.Yz;}}});a=g;a=r.__decorate([(0,p.aa)(),r.__param(0,(0,p.l)(k.mb)),r.__param(1,(0,p.l)(d.Lc)),r.__param(2,(0,p.l)(q.mja)),r.__param(3,(0,p.l)(h.tFa)),r.__param(4,(0,p.l)(v.zG))],a);b.rFa=a;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.VKa=void 0;a.prototype.M3a=function(c,g){var k;return null !== (k=this.JPb(c,g)) && void 0 !== k?k:this.MPb(c,g);};a.prototype.JPb=function(c,g){var k,m;k=this;m=g.ka;return c.find(function(f){var d;return k.a8(m,null === (d=f.ka) || void 0 === d?void 0:d.ka);});};a.prototype.MPb=function(c,g){var k,m;k=g.ka.fe;m=g.ka.R[k];return c.find(function(f){var d;f=null === (d=f.ka) || void 0 === d?void 0:d.ka;f=(d=null === f || void 0 === f?void 0:f.fe) && (null === f || void 0 === f?void 0:f.R[d]) || void 0;return k === d && m.P === (null === f || void 0 === f?void 0:f.P) && m.xa === (null === f || void 0 === f?void 0:f.xa);});};a.prototype.a8=function(c,g){var k;k=this;return c === g?!0:"object" !== typeof c || "object" !== typeof g?c === g:Object.keys(c).length === Object.keys(g).length && Object.keys(c).every(function(m){return k.a8(c[m],g[m]);});};b.VKa=a;},function(r,b,a){var g,k,m,f,d,l;function c(n,h,p){var q;q=this;this.Qg=h;h=p();this.hh=new l({log:n.hb("CacheManager"),Ba:{getTime:function(){return q.Qg.Rb().ja(f.sa);}},Promise:Promise,Vf:!1,nFb:h.m6b,mFb:h.k6b,SOb:h.Beb,ROb:h.l6b});}Object.defineProperty(b,"__esModule",{value:!0});b.AGa=void 0;r=a(0);g=a(1);k=a(18);m=a(7);f=a(5);d=a(12);l=a(1313);c=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.mb)),r.__param(1,(0,g.l)(k.cd)),r.__param(2,(0,g.l)(d.Lc))],c);b.AGa=c;},function(r,b,a){var f;function c(){return Object.create(null);}function g(d){this.log=d.log;this.Ba=d.Ba;this.kF=c();this.Promise=d.Promise;this.EA=d.EA;this.BDa=d.BDa;this.Vf=d.Vf || !1;this.Jx=c();this.XD=c();this.SH=c();this.FAb(d);d.rn && (this.rn=d.rn);}function k(d){return "undefined" !== typeof d;}function m(d){var h;for(var l=0,n=arguments.length;l < n;){h=arguments[l++];if(k(h))return h;}}a(1314);f=a(1315);g.prototype.FAb=function(d){this.Jx.manifest=m(d.SOb,f.Jx.fa);this.Jx.ldl=m(d.ROb,f.Jx.BY);this.Jx.metadata=m(d.soc,f.Jx.Hc);this.XD.manifest=m(d.nFb,f.XD.fa);this.XD.ldl=m(d.mFb,f.XD.BY);this.XD.metadata=m(d.lnc,f.XD.Hc);this.SH.manifest=m(d.jnc,f.SH.fa);this.SH.ldl=m(d.inc,f.SH.BY);this.SH.metadata=m(d.knc,f.SH.Hc);};g.prototype.VX=function(d,l){this.Tu("undefined" !== typeof d);this.Tu("undefined" !== typeof l);return ! !this.yUa(d,l,void 0).value;};g.prototype.yUa=function(d,l,n){var h,p;h={value:null,reason:"",log:""};p=this.kF[l];n=n?n:"DEFAULTCAPS";if("undefined" === typeof p)return (h.log="cache miss: no data exists for field:" + l,h.reason="unavailable",h);"undefined" === typeof p[d]?(h.log="cache miss: no data exists for movieId:" + d,h.reason="unavailable"):(p=p[d][n]) && p.value?this.caa(l,p.creationTime)?(h.log="cache miss: " + l + " data expired for movieId:" + d,h.reason="expired",this.clearData(d,l,n,!1,"expired")):(h.log=this.Promise && p.value instanceof this.Promise?"cache hit: " + l + " request in flight for movieId:" + d:"cache hit: " + l + " available for movieId:" + d,h.value=p.value):(h.log="cache miss: " + l + " data not available for movieId:" + d,h.reason="unavailable");return h;};g.prototype.getData=function(d,l,n){this.Tu("undefined" !== typeof d);this.Tu("undefined" !== typeof l);d=this.yUa(d,l,n);this.log.trace(d.log);return d.value?this.Promise?d.value instanceof this.Promise?d.value:Promise.resolve(d.value):this.BDa?JSON.parse(this.BDa(d.value,"gzip",!1)):d.value:this.Promise?Promise.reject(d.reason):d.reason;};g.prototype.setData=function(d,l,n,h,p){var q,t,v;this.Tu("undefined" !== typeof d);this.Tu("undefined" !== typeof l);q=this.kF;t=p?p:"DEFAULTCAPS";q[l] || (q[l]=c(),Object.defineProperty(q[l],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[l],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));n=this.EA?this.EA(JSON.stringify(n),"gzip",!0):n;q=q[l];this.iyb(d,l,t,q);v=this;h={creationTime:this.Ba.getTime(),value:n,size:0,type:l,qqa:h,QOb:setTimeout(function(){v.clearData(d,l,t,!1,"expired");},this.Jx[l] + 1)};q[d]=q[d] || c();q[d][t]=q[d][t] || c();q[d][t]=h;q.size+=0;q.numEntries++;this.rn && this.rn.emit("addedCacheItem",h);return h;};g.prototype.iyb=function(d,l,n,h){var p,q,t,v,w,u,x,y,z;p=this;q=h.numEntries;t=this.XD[l];v=h[d] && h[d][n];if(v && v.value)(w=d,u="promise_or_expired");else if(q >= t){y=Number.POSITIVE_INFINITY;Object.keys(h).every(function(A){var B;B=h[A] && h[A][n];B && B.value && p.caa(l,B.creationTime) && (z=A);B && B.value && B.creationTime < y && (y=B.creationTime,x=A);return !0;});w=z || x;u="cache_full";}this.Vf && this.log.debug("makespace ",{maxCount:t,currentCount:h.numEntries,field:l,movieId:d,movieToBeRemoved:w});w && (p.clearData(w,l,n,void 0,u),this.log.debug("removed from cache: ",w,l));};g.prototype.apa=function(d,l){var n,h;n=this;n.Tu("undefined" !== typeof d);h=d + "";l.forEach(function(p){var q;q=n.kF[p];q && Object.keys(q).forEach(function(t){t != h && n.clearData(t,p,void 0,void 0,"clear_all");});});};g.prototype.clearData=function(d,l,n,h,p){var q;this.Tu("undefined" !== typeof d);this.Tu("undefined" !== typeof l);q=this.kF[l];l=q?q[d]:void 0;n=n?n:"DEFAULTCAPS";if(l && l[n]){q.size-=l[n].size;q.numEntries--;if(q=l && l[n])(clearTimeout(q.QOb),l[n]=void 0,!h && q.qqa && q.qqa());this.rn && (d={creationTime:q.creationTime,destroyFn:q.qqa,size:q.size,type:q.type,value:q.value,reason:p,movieId:d},this.rn.emit("deletedCacheItem",d));}};g.prototype.flush=function(d){var l;this.Tu("undefined" !== typeof d);l=this.kF;l[d]=c();l[d].numEntries=0;l[d].size=0;};g.prototype.o_a=function(){var d,l;this.Tu(!1);d=this;l=this.kF;l[void 0] instanceof Object && Object.keys(l[void 0]).forEach(function(n){var h;h=l[void 0][n].DEFAULTCAPS;d.Ba.getTime() - h.creationTime > d.Jx[void 0] && d.clearData(n,void 0,"DEFAULTCAPS",void 0,"clean_up");});};g.prototype.caa=function(d,l){return this.Ba.getTime() - l > this.Jx[d];};g.prototype.getStats=function(d,l,n){var h,p,q,t,v;h={};p=this;q=p.kF;t=k(d) && k(l);v=n || "DEFAULTCAPS";Object.keys(q).forEach(function(w){var u,x;u=Object.keys(q[w]);x=q[w];u.forEach(function(y){!(y=x && x[y] && x[y][v]) || !k(y.value) || y.value instanceof p.Promise || (h[w]=(h[w] | 0) + 1,p.caa(y.type,y.creationTime) && (h[w + "_expired"]=(h[w + "_expired"] | 0) + 1),t && y.creationTime >= d && y.creationTime < l && (h[w + "_delta"]=(h[w + "_delta"] | 0) + 1));});});return h;};g.prototype.getState=function(d){var l,n,h,p;l=[];n=this;h=n.kF;p=d || "DEFAULTCAPS";Object.keys(h).forEach(function(q){var t,v;t=Object.keys(h[q]);v=h[q];t.forEach(function(w){var u,x;u=v && v[w] && v[w][p];if(u && k(u.value)){x=n.caa(u.type,u.creationTime)?"expired":u.value instanceof n.Promise?"loading":"cached";l.push({movieId:w,state:x,type:q,size:u.size});}});});return l;};g.prototype.Tu=function(d){if(!d && (this.log.error("Debug Assert Failed",void 0),this.Vf))throw Error("Debug Assert Failed ");};r.exports=g;},function(r){function b(a){var c;c=[];return (function m(k){if(k && "object" === typeof k){if(-1 !== c.indexOf(k))return !0;c.push(k);for(var f in k){if(k.hasOwnProperty(f) && m(k[f]))return !0;}}return !1;})(a);}r.exports=function(a,c){var k;if(c && b(a))return -1;c=[];a=[a];for(var g=0;a.length;){k=a.pop();if("boolean" === typeof k)g+=4;else if("string" === typeof k)g+=2 * k.length;else if("number" === typeof k)g+=8;else if("object" === typeof k && -1 === c.indexOf(k)){c.push(k);for(var m in k){a.push(k[m]);}}}return g;};},function(r){r.exports={Jx:{fa:12E5,BY:9E5,Hc:12E5},XD:{fa:10,BY:10,Hc:10},SH:{fa:10240,BY:10240,Hc:10240}};},function(r,b,a){var c,g,k,m,f,d,l,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.nb=void 0;r=a(1);c=a(206);g=a(1317);k=a(547);m=a(1318);f=a(548);d=a(1319);l=a(1320);n=a(549);h=a(1321);b.nb=new r.Cd(function(p){p(c.Vga).to(g.RHa).la();p(k.JMa).to(m.IMa).la();p(f.PNa).to(d.ONa).la();p(f.TMa).to(l.SMa).la();p(n.RMa).to(h.QMa).la();});},function(r,b,a){var g,k,m,f;function c(d){function l(n,h){this.L=n;this.Tm=h;this.N8=!1;this.emit=f.prototype.emit;this.addListener=f.prototype.addListener;this.on=f.prototype.on;this.once=f.prototype.once;this.removeListener=f.prototype.removeListener;this.removeAllListeners=f.prototype.removeAllListeners;this.listeners=f.prototype.listeners;this.listenerCount=f.prototype.listenerCount;f.call(this);this.rg=d.hb("DownloadTrack");}l.prototype.Qs=function(){!1;this.$U=void 0;this.emit("destroyed");};l.prototype.toString=function(){return "id:" + this.$U + " config: " + JSON.stringify(this.L);};l.prototype.toJSON=function(){return "Download Track id:" + this.$U + " config: " + JSON.stringify(this.L);};l.prototype.GP=function(){return void 0 === this.$U?!1:!0;};l.prototype.ida=function(n){this.L.connections !== n.connections && (this.L=n);};l.prototype.yv=function(){return 1 < this.L.connections?!0:!1;};Ua.Object.defineProperties(l.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.$U;}},zl:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.$U;}},config:{configurable:!0,enumerable:!0,get:function(){return this.L;}},zca:{configurable:!0,enumerable:!0,get:function(){return this.rg;}},vJ:{configurable:!0,enumerable:!0,get:function(){return this.Tm.vJ;}}});this.uL=Object.assign(l,new m.SHa());}Object.defineProperty(b,"__esModule",{value:!0});b.RHa=void 0;r=a(0);g=a(1);k=a(7);m=a(206);f=a(117).EventEmitter;c=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.mb))],c);b.RHa=c;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q;function c(t,v,w,u,x,y){this.wN=t;this.pf=w;this.Cb=u;this.Fa=x;this.config=y;this.log=v.hb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.IMa=void 0;r=a(0);g=a(207);k=a(99);m=a(3);f=a(7);d=a(1);l=a(63);n=a(27);h=a(18);p=a(5);a=a(12);c.prototype.$A=function(){return this.Fa.Rb().ja(p.sa);};c.prototype.ucb=function(t,v){t.j2b({mediaRequest:t,timestamp:v});};c.prototype.Pcb=function(t){var v,w;w=t.mediaRequest.IB;w.readyState=g.Dc.Xc.Dz;w.scb(Object.assign(Object.assign({},t),{timestamp:t.connect?t.timestamp:this.$A(),connect:null !== (v=t.connect) && void 0 !== v?v:!1,mediaRequest:w,readyState:w.readyState}));};c.prototype.yZ=function(t){this.ucb(t.mediaRequest.IB,t.timestamp);};c.prototype.zZ=function(t){var v,w;v=t.mediaRequest.IB;w=t.bytes;"undefined" === typeof v?!1:(v.readyState === g.Dc.Xc.Ez && this.Pcb(t),this.Cb.no(w) && (t.mediaRequest=v,t.timestamp=this.$A(),w > v.bytesReceived && (t.newBytes=w - v.bytesReceived,t.bytesLoaded=w,v.n2b(t))));};c.prototype.Dn=function(t){var v,w,u,x;v=t.mediaRequest;w=t.errorcode;u=t.httpcode;x=g.Dc.p2;if("undefined" === typeof v)!1;else if((v=v.IB,"undefined" === typeof v))!1;else if(v.readyState !== g.Dc.Xc.zL)if(w === m.X.SC)(v.readyState=g.Dc.Xc.pS,t.mediaRequest=v,t.readyState=v.readyState,v.g2b(t));else {v.readyState=g.Dc.Xc.zL;switch(w){case m.X.ZS:u=x.tGa;break;case m.X.xha:u=x.uha;break;case m.X.WS:u=400 < u && 500 > u?x.wha:500 <= u?x.k3:x.uha;break;case m.X.XS:u=x.vha;break;case m.X.VS:u=x.uGa;break;case m.X.YS:u=x.l3;break;case m.X.qG:u=x.l3;break;case m.X.SJa:u=x.RJa;break;case m.X.OJa:u=x.wha;break;case m.X.Upb:u=x.vha;break;default:u=x.l3;}t.mediaRequest=v;t.readyState=v.readyState;t.errorcode=u;t.nativecode=w;v.cya(t);}};c.prototype.vZ=function(t,v){var w,u;w=v.request.IB;if(w)if(v.ga){if((!1,t.j && w.readyState !== g.Dc.Xc.DONE)){switch(w.readyState){case g.Dc.Xc.pS:!1;return;case g.Dc.Xc.zL:!1;break;case g.Dc.Xc.Dz:break;case g.Dc.Xc.Ez:this.Pcb({mediaRequest:v.request,responseHeaders:v.headers});break;default:!1;}w.readyState=g.Dc.Xc.DONE;if(!w.Fc){u={mediaRequest:w,readyState:w.readyState,timestamp:this.$A(),cadmiumResponse:v};t.j.kDa+=1;w.HUb();w.tYb() && (t.j.PAa+=1,v.wm.hj=Math.ceil(w.Ora),v.wm.mq=Math.ceil(w.bI),v.wm.Ur=Math.floor(w.dF));w.D7=u;w.qQ(u);}}}else (!1,w.readyState === g.Dc.Xc.pS?!1:(t={mediaRequest:v.request,timestamp:this.$A(),errorcode:v.za,httpcode:v.Dl},this.Dn(t)));};c.prototype.download=function(t,v){var w,u;w=this;v=this.pf.download(t,v);if(t.IB){u=t.IB;-1 < [g.Dc.Xc.OPENED,g.Dc.Xc.zL].indexOf(u.readyState) && (u.readyState=g.Dc.Xc.Ez,this.config().pxa?v.hac(function(x){w.yZ(x);}):this.ucb(u,this.$A()));}v.v6(function(x){w.vZ(t,x);});v.oac(function(x){w.zZ(x);});v.Z$b(function(x){w.Dn(x);});return v;};q=c;q=r.__decorate([(0,d.aa)(),r.__param(0,(0,d.l)(k.rS)),r.__param(1,(0,d.l)(f.mb)),r.__param(2,(0,d.l)(l.Cw)),r.__param(3,(0,d.l)(n.Yg)),r.__param(4,(0,d.l)(h.cd)),r.__param(5,(0,d.l)(a.Lc))],q);b.IMa=q;},function(r,b,a){var g,k,m;function c(f,d){this.pf=d;this.log=f.hb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.ONa=void 0;r=a(0);g=a(1);k=a(7);a=a(63);c.prototype.gX=function(f,d,l){f={url:f.url,e$b:l};!1;this.pf.fbc(f);};c.prototype.kN=function(f){try{f.zua();}catch(d){this.log.warn("exception aborting request");}};m=c;m=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.mb)),r.__param(1,(0,g.l)(a.Cw))],m);b.ONa=m;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t;function c(v,w,u,x,y,z){this.Fa=v;this.fv=w;this.config=u;this.pf=y;this.G0b=z;this.log=x.hb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.SMa=void 0;r=a(0);g=a(1);k=a(7);m=a(63);f=a(547);d=a(91);l=a(207);n=a(18);h=a(5);p=a(39);q=a(12);t=a(49);c.prototype.gX=function(v,w,u){var y,z,A;function x(){v.removeEventListener(l.Dc.Ve.FG,x);v.UW?v.UW++:v.UW=1;v.UW >= y.config().ura.length && (v.UW=y.config().ura.length - 1);setTimeout(function(){y.gX(v,w,u);},y.config().ura[v.UW]);}y=this;v.wpc=!0;z=0 === w.start && -1 === w.end;z={url:v.url,responseType:this.pf.Z3.IFa,withCredentials:!1,lE:v.mediaType === t.u.V?"audio":"video",offset:z?void 0:w.start,length:z?void 0:v.Hg,track:{type:v.mediaType === t.u.V?d.oj.audio:d.oj.video},stream:{Vb:v.Pa,bitrate:v.bitrate},Ac:v.tc,IB:v,gea:u,au:this.fv.au,Qt:v.Qt};A=this.$A();z=this.G0b.download(z,function(B){B.ga && v.readyState !== l.Dc.Xc.DONE && (v.readyState === l.Dc.Xc.pS?!1:(v.readyState === l.Dc.Xc.zL?!1:v.readyState === l.Dc.Xc.Ez?(v.readyState=l.Dc.Xc.Dz,v.scb({mediaRequest:v,readyState:v.readyState,timestamp:v.Fc?A:y.$A(),connect:!1,responseHeaders:B.headers})):v.readyState !== l.Dc.Xc.Ez && v.readyState !== l.Dc.Xc.Dz && !1,v.readyState=l.Dc.Xc.DONE,B={mediaRequest:v,readyState:v.readyState,timestamp:y.$A(),cadmiumResponse:B,response:B.content},v.D7=B,v.qQ(B)));});v.addEventListener(l.Dc.Ve.FG,x);v.zua=z.abort;};c.prototype.kN=function(v){try{v.zua();}catch(w){this.log.warn("exception aborting request");}};c.prototype.$A=function(){return this.Fa.Rb().ja(h.sa);};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(n.cd)),r.__param(1,(0,g.l)(p.kp)),r.__param(2,(0,g.l)(q.Lc)),r.__param(3,(0,g.l)(k.mb)),r.__param(4,(0,g.l)(m.Cw)),r.__param(5,(0,g.l)(f.JMa))],a);b.SMa=a;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q;function c(t,v,w,u,x,y){function z(B,C){this.track=B;this.label=C;this.si=h.Dc.Xc.UNSENT;this.bytesReceived=0;this.mK=[];this.requestId=y.JA().toString();this.Cb=w;this.log=v.hb("MediaRequest");this.config=t;this.Lb=new n.yk();"notification" === this.label?this.config().rE && (this.vJ=u):this.vJ=x;!1;}function A(B,C){this.requestId=y.JA().toString();this.Cb=w;this.log=v.hb("MediaRequest");this.config=t;this.Lb=new n.yk();this.label=C;"notification" === this.label?this.config().rE && (this.vJ=u):this.vJ=x;this.hY=this.IN=this.KN=void 0;this.track=B;this.JN=this.url=this.responseType=void 0;this.si=h.Dc.Xc.UNSENT;this.Bi=this.KO=this.zg=this.status=void 0;this.Et=this.bytesReceived=0;this.connect=this.Ora=this.bI=this.dF=this.Wva=this.ig=this.Nra=this.loadTime=this.ZM=void 0;this.mK=[];this.zl=!1;!1;}z.prototype.addEventListener=function(B,C,D){this.Lb.addListener.call(this,B,C,D);};z.prototype.removeEventListener=function(B,C){this.Lb.removeListener.call(this,B,C);};z.prototype.emit=function(B,C,D){this.Lb.Uc.call(this,B,C,D);};z.prototype.j2b=function(B){this.si === h.Dc.Xc.OPENED && (this.hY=!0,this.loadTime=this.ig=B.timestamp,!1,this.si=h.Dc.Xc.Ez,this.emit(h.Dc.Ve.FNa,B));};z.prototype.scb=function(B){var C;!this.Hgb && B.responseHeaders && (this.Hgb=B.responseHeaders);if(this.si < h.Dc.Xc.Dz){this.mK=[];C=B.timestamp - this.loadTime;!this.Fc && 0 < C && (this.connect=!0,this.mK.push(C));!0 === this.config().BWb?this.Nra=B.timestamp:this.Nra=this.ig=B.timestamp;!1;this.si=h.Dc.Xc.Dz;this.emit(h.Dc.Ve.ENa,B);}};z.prototype.n2b=function(B){this.si === h.Dc.Xc.Dz && (!1,this.Wva=this.ig=B.timestamp,B.newBytes=B.bytesLoaded - this.bytesReceived,this.bytesReceived=B.bytesLoaded,this.Cb.kh(this.Wva) && this.emit(h.Dc.Ve.GNa,B));};z.prototype.qQ=function(B){var C;if(-1 < [h.Dc.Xc.Ez,h.Dc.Xc.Dz].indexOf(this.si)){this.hY=!1;!1;this.ig=B.timestamp;this.si=h.Dc.Xc.DONE;C=this.bytesReceived;this.bytesReceived=B.cadmiumResponse.wm.aW;(0,q.Ka)(this.bytesReceived === this.Hg,"bytesReceived do not match expected totalBytes.");B.newBytes=this.Hg - C;this.Cb.kh(this.bI) && (this.ig=this.bI,0 === B.newBytes && (this.Wva=this.bI));this.Cb.kh(this.dF) && (this.loadTime=this.dF);this.ZM=B.response;this.emit(h.Dc.Ve.xT,B);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",X8b:B});}};z.prototype.g2b=function(B){this.hY=!1;!1;this.emit(h.Dc.Ve.ctb,B);};z.prototype.cya=function(B){this.ig=B.timestamp;this.status=B.httpcode;this.zg=B.errorcode;this.KO=h.Dc.p2.name[this.zg];this.Bi=B.nativecode;!1;this.emit(h.Dc.Ve.FG,B);this.hY=!1;};z.prototype.open=function(B,C,D,E,G,F,I,L){this.Oy=!1;this.JN=C;this.Qt=L;this.url=B;this.responseType=D;!1;if(!this.url)return (!1,!1);this.si=h.Dc.Xc.OPENED;this.vJ.gX(this,C,I);return !0;};z.prototype.rd=function(){!1;-1 !== [h.Dc.Xc.OPENED,h.Dc.Xc.Ez,h.Dc.Xc.Dz].indexOf(this.si) && this.abort();return !0;};z.prototype.RGb=function(){this.ZM=void 0;this.D7 && (this.D7.response=void 0,this.D7.cadmiumResponse.content=void 0);this.zua=void 0;};z.prototype.Gea=function(B){!1;this.url=B;return !0;};z.prototype.abort=function(){this.si=h.Dc.Xc.pS;this.vJ.kN(this);return !0;};z.prototype.pause=function(){};z.prototype.getResponseHeader=function(B){var C,D;return null !== (D=null === (C=this.Hgb) || void 0 === C?void 0:C[B.toLowerCase()]) && void 0 !== D?D:null;};z.prototype.getAllResponseHeaders=function(){return "";};z.prototype.UQ=function(){};z.prototype.$h=function(){return this.requestId;};z.prototype.toString=function(){var B;B={requestId:this.$h(),segmentId:this.Y,isHeader:this.Fc,ptsStart:this.$B,ptsOffset:this.Wv,responseType:this.responseType,duration:this.qn,readystate:this.si};this.stream && (B.bitrate=this.stream.bitrate);return JSON.stringify(B);};z.prototype.toJSON=function(){return this.toString();};z.prototype.HUb=function(){var B,C;if(this.config().Vlb && f.Hw && f.Hw.getEntriesByType && (!this.Cb.kh(this.dF) || !this.Cb.kh(this.bI) && this.Cb.kh(this.url))){B="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.KN + "-" + this.IN + "*");C=new RegExp(B);B=f.Hw.getEntriesByType("resource").filter(function(D){return C.exec(D.name);})[0];this.Cb.kh(B) && (0 < B.startTime && (this.dF=B.startTime,0 < B.requestStart && (this.dF=Math.max(this.dF,B.requestStart))),0 < B.responseStart && (this.Ora=B.responseStart),0 < B.responseEnd && (this.bI=B.responseEnd));}};z.prototype.tYb=function(){return this.Cb.kh(this.dF) && this.Cb.kh(this.bI) && this.Cb.kh(this.Ora);};Ua.Object.defineProperties(z.prototype,{Hg:{configurable:!0,enumerable:!0,get:function(){return 0 === this.JN.start && -1 === this.JN.end?Number(this.getResponseHeader("content-length")) || this.bytesReceived:this.JN.end - this.JN.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.IN - this.KN + 1;}},w7a:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},Fc:{configurable:!0,enumerable:!0,get:function(){return !this.VE;}},response:{configurable:!0,enumerable:!0,get:function(){return this.ZM;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.si;},set:function(){}}});Object.getOwnPropertyNames(z.prototype).forEach(function(B){var C;C=Object.getOwnPropertyDescriptor(z.prototype,B);Object.defineProperty(A.prototype,B,C);});this.ps=Object.assign(A,h.Dc);}Object.defineProperty(b,"__esModule",{value:!0});b.QMa=void 0;r=a(0);g=a(1);k=a(7);m=a(12);f=a(13);d=a(27);l=a(548);n=a(70);h=a(207);p=a(83);q=a(23);c=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.Lc)),r.__param(1,(0,g.l)(k.mb)),r.__param(2,(0,g.l)(d.Yg)),r.__param(3,(0,g.l)(l.PNa)),r.__param(4,(0,g.l)(l.TMa)),r.__param(5,(0,g.l)(p.pz))],c);b.QMa=c;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Nbb=void 0;r=a(1);c=a(354);g=a(1323);b.Nbb=new r.Cd(function(k){k(c.ria).to(g.hNa).la();});},function(r,b,a){var g,k,m,f,d;function c(l){return k.zf.call(this,l,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.hNa=void 0;r=a(0);g=a(44);k=a(45);m=a(1);f=a(33);d=a(5);ja(c,k.zf);Ua.Object.defineProperties(c.prototype,{Bbb:{configurable:!0,enumerable:!0,get:function(){return (0,d.xc)(5E3);}},adb:{configurable:!0,enumerable:!0,get:function(){return (0,d.xc)(1E3);}},bdb:{configurable:!0,enumerable:!0,get:function(){return (0,d.xc)(1E3);}}});a=c;r.__decorate([g.config(g.Kl,"minDecoderBufferMilliseconds")],a.prototype,"Bbb",null);r.__decorate([g.config(g.Kl,"optimalDecoderBufferMilliseconds")],a.prototype,"adb",null);r.__decorate([g.config(g.Kl,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"bdb",null);a=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(f.Qm))],a);b.hNa=a;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p;Object.defineProperty(b,"__esModule",{value:!0});b.Mdb=void 0;r=a(1);c=a(550);g=a(1325);k=a(81);m=a(1327);f=a(553);d=a(1328);l=a(506);n=a(1329);h=a(298);p=a(1330);b.Mdb=new r.Cd(function(q){q(k.Bz).to(m.xOa).la();q(c.zOa).to(g.yOa).la();q(l.JOa).to(n.IOa);q(l.HOa).Te(function(t){return function(){return t.wb.get(l.JOa);};});q(f.ePa).to(d.dPa).la();q(h.Sia).to(p.aPa).la();});},function(r,b,a){var m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B;function c(C){this.config=C;this.BA=[];}function g(C,D,E){this.Fa=C;this.VR=D;this.context=E;this.startTime=this.Fa.Rb();}function k(C,D,E,G,F,I,L,M,K,O){this.Kkb=D;this.json=E;this.Fa=G;this.fv=F;this.Zza=I;this.Cc=L;this.config=M;this.Lb=K;this.receiver=O;this.log=C.hb("Pbo");M.Lfb && (this.BA=new c(M));this.VR=this.Kkb();}Object.defineProperty(b,"__esModule",{value:!0});b.yOa=void 0;r=a(0);m=a(1);f=a(5);d=a(551);l=a(7);n=a(37);h=a(18);p=a(39);q=a(146);t=a(46);v=a(552);w=a(81);u=a(112);x=a(16);y=a(65);z=a(1326);a=a(298);A={"shakti-":"akira"};k.prototype.send=function(C,D){var E;E=new g(this.Fa,this.VR,C);this.BA && this.BA.append(E);return this.yBa(C,D,E);};k.prototype.yBa=function(C,D,E){var G;G=this;return new Promise(function(F,I){G.retry(C,D).then(function(L){var M,K;G.B$b(L);M=ma(G.Sfc(L));K=M.next().value;M=M.next().value;K && (G.receiver.Wza({command:C.so,inputs:D,outputs:K}),G.iHb(E),F(L));M && (G.receiver.Wza({command:C.so,inputs:D,outputs:M}),G.C_a(E,M),I(M));}).catch(function(L){var M;G.receiver.Wza({command:C.so,inputs:D,outputs:L});M=G.C_a(E,L);L.Qb && (L.Qb=[L.Qb," ",M].join(""));I(L);});});};k.prototype.B$b=function(C){(C=C.serverTime) && this.Lb.Uc(x.Gha.yhb,(0,f.xc)(C));};k.prototype.Sfc=function(C){var D;!1;D=C.result;if(("deviceCommand" in C)){C=C.deviceCommand;this.log.trace("Received device command '" + C + "'");switch(C){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + C + "'"));}return [,{sF:!0,code:D,detail:{message:"Server sent device action to '" + C + "' device"}}];}if(D)return (!1,[D,void 0]);if(C.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",C),[,{code:C.code,detail:{message:C.message}}]);this.log.error("Response did not contain a result or an error",C);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};k.prototype.MDb=function(C,D,E){var G;G=this;this.lfc(D,C);this.VR=this.Kkb(E);return this.VR.send(D,E).then(function(F){return {retry:!1,result:z.N3.D4b(G.json,F.body)};}).catch(function(F){var I,L;I=z.N3.dTb(F);L=void 0 !== I?Math.min(I,D.RAa):D.RAa;return G.dea(D,F,C,L)?(I=G.CFb(F,C,L),G.log.warn("Method failed, retrying",Object.assign({Method:D.so,Attempt:C + 1,WaitTime:I,MaxRetries:L},G.fqa(F))),Promise.resolve({retry:!0,delay:I,error:F})):Promise.resolve({retry:!1,error:F});});};k.prototype.aRb=function(C){var D,E;if(!this.Kma || this.Kma.a4b !== C){D="";E=C;Object.entries(A).find(function(G){var F;F=ma(G);G=F.next().value;F=F.next().value;if(0 === C.indexOf(G))return (D=F,C=C.slice(G.length),!0);});this.Kma={x_a:D,Ry:C,a4b:E};}return this.Kma;};k.prototype.lfc=function(C,D){var E,G,F,I;I=C.url.searchParams;I.set(y.dD.YQa,(D + 1).toString());this.config.Olb.includes(C.Dm)?C.headers[y.xub.zja]=C.Dm:I.set(y.dD.zja,C.Dm);C=this.aRb(null !== (E=this.config.Ry) && void 0 !== E?E:"");C.x_a && (I.set(y.dD.NGa,C.x_a),C.Ry && I.set(y.dD.USa,encodeURIComponent(C.Ry)),E=this.fv.pe,(null === E || void 0 === E?0:E.name) && I.set(y.dD.dGa,encodeURIComponent(E.name)),(null === E || void 0 === E?0:E.version) && I.set(y.dD.eGa,encodeURIComponent(E.version)),(null === (G=null === E || void 0 === E?void 0:E.os) || void 0 === G?0:G.name) && I.set(y.dD.JNa,encodeURIComponent(E.os.name)),(null === (F=null === E || void 0 === E?void 0:E.os) || void 0 === F?0:F.version) && I.set(y.dD.KNa,encodeURIComponent(E.os.version)));};k.prototype.retry=function(C,D,E){var G;G=this;E=void 0 === E?0:E;return this.MDb(E++,C,D).then(function(F){if(F.retry)return G.wait(F.delay).then(function(){return G.retry(C,D,E);});if(F.error)throw F.error;if(void 0 === F.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return F.result;});};k.prototype.dea=function(C,D,E,G){var F;F=z.N3.uYb(D);if(F && E < G)return !0;F?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:C.so,Attempt:E + 1,MaxRetries:G},this.fqa(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:C.so},this.fqa(D)));return !1;};k.prototype.CFb=function(C,D,E){if(C && C.HF && void 0 !== C.HF.retryAfterSeconds)return (0,f.Hh)(C.HF.retryAfterSeconds);C=1E3 * (0 === D?1:D);D=1E3 * Math.pow(2,Math.min(D,E));return (0,f.xc)(this.Zza.jfb(C,D));};k.prototype.wait=function(C){var D;D=this;return new Promise(function(E){D.Cc.Lj(C || f.Ha,E);});};k.prototype.fqa=function(C){return (0,v.p9a)(C)?C:{message:C.message,subCode:C.Kc,extCode:C.Yd,mslCode:C.LB,data:C.data};};k.prototype.iHb=function(C){C.HR();};k.prototype.C_a=function(C,D){var E;C.av(D);if(this.BA)try{E=this.json.stringify(this.BA);this.log.error("PBO command history",E);return E;}catch(G){}return "";};B=k;B=r.__decorate([(0,m.aa)(),r.__param(0,(0,m.l)(l.mb)),r.__param(1,(0,m.l)(d.JSa)),r.__param(2,(0,m.l)(n.tG)),r.__param(3,(0,m.l)(h.cd)),r.__param(4,(0,m.l)(p.kp)),r.__param(5,(0,m.l)(q.a4)),r.__param(6,(0,m.l)(t.Sj)),r.__param(7,(0,m.l)(w.Bz)),r.__param(8,(0,m.l)(u.iha)),r.__param(9,(0,m.l)(a.Sia))],B);b.yOa=B;g.prototype.HR=function(){this.ga=!0;this.elapsedTime=this.Fa.Rb().Da(this.startTime);};g.prototype.av=function(C){this.ga=!1;this.elapsedTime=this.Fa.Rb().Da(this.startTime);this.ncc=C.Kc || C.subCode;this.WOb=C.Yd || C.extCode;};g.prototype.toString=function(){return JSON.stringify(this);};g.prototype.toJSON=function(){var C;C=Object.assign({success:this.ga,method:this.context.so,startTime:this.startTime.ja(f.sa),elapsedTime:this.elapsedTime?this.elapsedTime.ja(f.sa):"in progress"},this.VR.Epa());return this.ga?C:Object.assign(Object.assign(Object.assign({},C),this.VR.Epa()),{subcode:this.ncc,extcode:this.WOb});};c.prototype.append=function(C){this.BA.push(C);0 < this.config.tua && this.BA.length > this.config.tua && this.BA.shift();};c.prototype.toJSON=function(){return this.BA;};},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.N3=void 0;g=a(3);c.uYb=function(k){var m,f;m=k && k.code;f=k && (k.za || k.Kc);k=k.Yd !== g.n3.nOa;f=! !f && f >= g.X.ZS && f <= g.X.XS && k;return !("RETRY" !== m && "FAIL" !== m) || f;};c.dTb=function(k){var m,f;f=null === (m=null === k || void 0 === k?void 0:k.HF) || void 0 === m?void 0:m.maxRetries;return "number" === typeof f?f:"FAIL" === (null === k || void 0 === k?void 0:k.code)?1:void 0;};c.D4b=function(k,m){var f;if(m){try{f=k.parse(m);}catch(d){throw {sF:!0,code:"FAIL",message:"Unable to parse the response body",data:m};}if(f.error)throw f.error;if(f.result){if(Array.isArray(f.result) && (k=f.result.find(function(d){return d.error;})))throw k.error;return f;}throw {sF:!0,code:"FAIL",message:"There is no result property on the response"};}throw {sF:!0,code:"FAIL",message:"There is no body property on the response"};};b.N3=c;},function(r,b,a){var g,k,m,f,d,l,n;function c(h,p,q,t){h=k.zf.call(this,h,"PboConfigImpl") || this;h.config=p;h.aDb=q;h.zh=t;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.xOa=void 0;r=a(0);g=a(1);k=a(45);m=a(33);f=a(44);d=a(12);l=a(175);a=a(110);ja(c,k.zf);Ua.Object.defineProperties(c.prototype,{Ry:{configurable:!0,enumerable:!0,get:function(){return this.config().jr.Ry || "";}},afa:{configurable:!0,enumerable:!0,get:function(){return this.config().jr.afa || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().jr.wza;}},n9a:{configurable:!0,enumerable:!0,get:function(){return !1;}},zhb:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.aDb.aZa,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.Ahb);}},Ahb:{configurable:!0,enumerable:!0,get:function(){return {};}},Lfb:{configurable:!0,enumerable:!0,get:function(){return !1;}},tua:{configurable:!0,enumerable:!0,get:function(){return 10;}},KXa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ax:{configurable:!0,enumerable:!0,get:function(){return this.zh.Ax;}},qE:{configurable:!0,enumerable:!0,get:function(){return this.zh.qE;}},gL:{configurable:!0,enumerable:!0,get:function(){return this.zh.gL;}},Xlb:{configurable:!0,enumerable:!0,get:function(){return !1;}},M2a:{configurable:!0,enumerable:!0,get:function(){return !0;}},Olb:{configurable:!0,enumerable:!0,get:function(){return [];}},U2a:{configurable:!0,enumerable:!0,get:function(){return !0;}},xO:{configurable:!0,enumerable:!0,get:function(){return this.zh.xO;}},eI:{configurable:!0,enumerable:!0,get:function(){return this.zh.eI;}}});n=c;r.__decorate([f.config(f.string,"uiVersion")],n.prototype,"Ry",null);r.__decorate([f.config(f.string,"uiPlatform")],n.prototype,"afa",null);r.__decorate([f.config(f.AC,"pboVersion")],n.prototype,"version",null);r.__decorate([f.config(f.string,"pboOrganization")],n.prototype,"organization",null);r.__decorate([f.config(f.NK,"pboLanguages")],n.prototype,"languages",null);r.__decorate([f.config(f.Ed,"hasLimitedPlaybackFunctionality")],n.prototype,"n9a",null);r.__decorate([f.config(f.object(),"pboCommands")],n.prototype,"zhb",null);r.__decorate([f.config(f.object(),"pboCommandsOverride")],n.prototype,"Ahb",null);r.__decorate([f.config(f.Ed,"pboRecordHistory")],n.prototype,"Lfb",null);r.__decorate([f.config(f.AC,"pboHistorySize")],n.prototype,"tua",null);r.__decorate([f.config(f.Ed,"pboAddXEsnHeader")],n.prototype,"KXa",null);r.__decorate([f.config(f.Ed,"combineManifestAndLicense")],n.prototype,"Ax",null);r.__decorate([f.config(f.Ed,"enableLicensedManifestForPrefetch")],n.prototype,"qE",null);r.__decorate([f.config(f.Ed,"useLdlForPrefetchLicensedManifest")],n.prototype,"gL",null);r.__decorate([f.config(f.Ed,"pboUseStudioManifest")],n.prototype,"Xlb",null);r.__decorate([f.config(f.Ed,"pboEnableLeanManifest")],n.prototype,"M2a",null);r.__decorate([f.config(f.Ed,"useHeaderForRequestNames")],n.prototype,"Olb",null);r.__decorate([f.config(f.Ed,"pboEnableV2OptimizedManifest")],n.prototype,"U2a",null);r.__decorate([f.config(f.Ed,"pboEnableManifestPartialHydrationSupport")],n.prototype,"xO",null);r.__decorate([f.config(f.NK,"pboContentPlaygraphTypes")],n.prototype,"eI",null);n=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.Qm)),r.__param(1,(0,g.l)(d.Lc)),r.__param(2,(0,g.l)(l.D1)),r.__param(3,(0,g.l)(a.HG))],n);b.xOa=n;},function(r,b,a){var k,m;function c(f,d,l,n,h,p,q){this.version=f;this.url=d;this.id=l;this.languages=n;this.Db=h;this.iNb=p;this.H1b=q;}function g(f){this.Di=f;}Object.defineProperty(b,"__esModule",{value:!0});b.dPa=void 0;r=a(0);k=a(1);a=a(81);g.prototype.create=function(f,d,l,n,h){return new c(this.Di.version,d,f,this.Di.languages,l,n,h);};m=g;m=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(a.Bz))],m);b.dPa=m;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Db,echo:this.iNb};};},function(r,b,a){var g,k,m;function c(f,d){this.mI=d;this.log=f.hb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.IOa=void 0;r=a(0);g=a(1);k=a(7);a=a(92);c.prototype.Yma=function(f){f && (!1,this.links=Object.assign(Object.assign({},this.links),f));};c.prototype.XO=function(f){!1;return this.links[f];};m=c;m=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.mb)),r.__param(1,(0,g.l)(a.jz))],m);b.IOa=m;},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.aPa=void 0;r=a(0);a=a(1);c.prototype.gac=function(k){this.listener=k;};c.prototype.Wza=function(k){var m;null === (m=this.listener) || void 0 === m?void 0:m.call(this,k);};g=c;g=r.__decorate([(0,a.aa)()],g);b.aPa=g;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D,E,G,F,I,L,M,K,O,H,J,R,P,T,V,S,W,ia,ra,ua,Aa,Ha,N,Q,U,Z,qa,Fa,Oa,Ra,Pa,Va,bb,Ab,tb,Db,Na;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(1);c=a(504);g=a(554);k=a(1332);m=a(556);f=a(1333);d=a(367);l=a(364);n=a(1334);h=a(1346);p=a(12);q=a(18);t=a(111);v=a(27);w=a(7);u=a(1347);x=a(236);y=a(1348);z=a(5);A=a(1349);B=a(1350);C=a(577);D=a(1351);E=a(112);G=a(557);F=a(1352);I=a(113);L=a(30);M=a(163);K=a(92);O=a(290);H=a(581);J=a(1353);R=a(82);P=a(39);T=a(558);V=a(1354);S=a(299);W=a(26);ia=a(579);ra=a(1355);ua=a(559);Aa=a(1356);Ha=a(29);N=a(308);Q=a(307);U=a(1357);Z=a(1358);qa=a(1359);Fa=a(1360);Oa=a(1361);Ra=a(1362);Pa=a(231);Va=a(1363);bb=a(46);Ab=a(1364);tb=a(1365);Db=a(1366);Na=a(1367);b.j=new r.Cd(function(Xa){Xa(H.eja).to(J.GPa).la();Xa(S.$fa).Te(function(Wa){var fb;fb=Wa.wb;return function(kb,vb){return new (a(1368).lFa)(kb,vb,fb.get(t.gz),fb.get(E.i2));};});Xa(c.KSa).Te(function(Wa){var fb;fb=Wa.wb;return function(kb,vb,Jb,Ob,Sb,Eb,Ib,Rb,tc){return new (a(1371).LSa)(fb.get(A.QSa),kb,vb,Jb,Ob,Sb,Eb,Ib,Rb,tc);};});Xa(A.QSa).to(B.PSa).la();Xa(g.OSa).to(k.NSa).la();Xa(l.BPa).to(n.APa).la();Xa(qa.CRa).to(Fa.BRa).la();Xa(T.XQa).to(V.WQa);Xa(T.VQa).skb(T.XQa);Xa(d.LHa).Te(function(Wa){var fb;fb=Wa.wb;return function(kb){return new (a(1372).MHa)(fb.get(E.KHa),fb.get(t.gz),fb.get(q.cd),kb);};});Xa(m.NFa).Te(function(){return function(Wa){return new f.OFa(Wa);};});Xa(ia.hja).Te(function(Wa){var fb;fb=Wa.wb;return function(kb){return new ra.MPa(kb,fb.get(w.mb),fb.get(v.Yg));};});Xa(Q.GEa).Te(function(Wa){var fb;fb=Wa.wb;return function(kb){return new U.HEa(kb,fb.get(w.mb).hb("AdImpressionLogger"),fb.get(Ha.Nh),fb.get(p.Lc),fb.get(q.cd),fb.get(N.Tfa),fb.get(N.Sfa));};});Xa(Oa.TEa).to(Ra.SEa);Xa(Na.C1).to(Ab.MEa);Xa(Na.C1).to(Db.QEa);Xa(Na.C1).to(tb.UEa);Xa(ua.KEa).Te(function(Wa){var fb;fb=Wa.wb;return function(kb,vb){return new Z.JEa(new Aa.LEa(kb,vb,fb.get(w.mb).hb("AdManager"),fb.get(p.Lc),fb.get(qa.CRa),fb.getAll(Na.C1),fb.get(Q.GEa),fb.get(Oa.TEa)));};});Xa(u.sPa).Te(function(Wa){var fb;fb=Wa.wb;return function(kb){return new h.tPa(kb,fb.get(w.mb),fb.get(p.Lc),fb.get(v.Yg),fb.get(t.gz),fb.get(ia.hja));};});Xa(Pa.yLa).Te(function(Wa){var fb;fb=Wa.wb;return function(kb,vb){return new Va.zLa(fb.get(p.Lc),fb.get(bb.Sj),kb,vb);};});Xa(x.gja).Te(function(Wa){var fb;fb=Wa.wb;return function(kb,vb,Jb,Ob,Sb,Eb,Ib,Rb,tc,bd,Rd){return new y.IPa(kb,vb,Jb,Ob,Sb,Eb,Ib,Rb,tc,fb.get(u.sPa),fb.get(H.eja),fb.get(Pa.yLa),bd,Rd);};});Xa(C.uRa).Te(function(Wa){return function(fb){var kb,vb;kb=Wa.wb.get(p.Lc);vb=Wa.wb.get(w.mb);return new D.vRa(kb,fb,vb);};});Xa(G.DPa).Te(function(Wa){return function(fb){var kb,vb,Jb,Ob,Sb;kb=Wa.wb.get(K.jz);vb=Wa.wb.get(I.YL);Jb=Wa.wb.get(L.oi);Ob=Wa.wb.get(M.KT);Sb=Wa.wb.get(W.iz);return new F.EPa(fb,kb,vb((0,z.Hh)(1)),Jb,Ob,Sb);};});Xa(O.pia).UF(function(Wa){return new (a(1373).dNa)(Wa.wb.get(R.sT),Wa.wb.get(P.kp));}).la();});},function(r,b,a){var g,k,m,f,d,l;function c(n,h){this.Qg=n;this.config=h;}Object.defineProperty(b,"__esModule",{value:!0});b.NSa=void 0;r=a(0);g=a(16);k=a(555);m=a(18);f=a(1);d=a(5);a=a(12);c.prototype.yO=function(n){var h;n.P0={};if(!n.EP() && n.zC && 0 < n.zC.length && (n.yC=this.J5a(n),n.yC)){h=this.Gac(n);h() || (n.Eb.addListener(h),n.xf.addListener(h));}};c.prototype.Gac=function(n){var p;function h(){var q,t;if(!n.xf.value || n.Eb.value === g.qb.pg)return !1;q=n.yC;t=q.getState();return t === k.Hq.LOADING?!1:t !== k.Hq.uG && q.retry?(q=p.KUb(n))?(n.P0.offset=p.Qg.Rb().ja(d.sa),n.yC=q,q.download(),!0):!1:(n.Eb.removeListener(h),n.xf.removeListener(h),!1);}p=this;return h;};c.prototype.KUb=function(n){var h,p;h=this.config();p=n.Am.$s() < h.bec;h=(n.xf.value?n.xf.value.bitrate:0) > h.aec;return this.eUb(n,p && h);};c.prototype.eUb=function(n,h){if(h && (h=this.J5a(n),this.J6a(n,h.size)))return (n.P0.wgb="h",h);h=this.aTb(n);if(this.J6a(n,h.size))return (n.P0.wgb="l",h);};c.prototype.J6a=function(n,h){var p,q;p=this.config();q=Math.min(n.tV(),n.Z0());return n.sEb.sFb(h) * (1 + .01 * p.FCb[2]) < q * p.eec;};c.prototype.J5a=function(n){return n.zC[n.zC.length - 1];};c.prototype.aTb=function(n){return n.zC[0];};l=c;l=r.__decorate([(0,f.aa)(),r.__param(0,(0,f.l)(m.cd)),r.__param(1,(0,f.l)(a.Lc))],l);b.NSa=l;},function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.OFa=void 0;a.prototype.xlb=function(){var c;c=this.j.nb;if(null !== c && void 0 !== c && c.qD){c=c.yc.get();if(null === c || void 0 === c?0:c.el)this.j.el=c.el.va;if(null === c || void 0 === c?0:c.Va)this.j.Va=c.Va.va;}};a.prototype.Jo=function(){-1 === this.j.Va && this.xlb();return this.j.Va;};a.prototype.sFb=function(c){-1 !== this.j.el && -1 !== this.j.Va || this.xlb();return -1 === this.j.el || -1 === this.j.Va?Number.MAX_VALUE:this.j.el + 8 * c / this.j.Va;};b.OFa=a;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D,E,G,F,I,L,M,K;function c(O,H,J,R,P,T,V,S,W,ia,ra,ua,Aa,Ha,N,Q,U,Z,qa,Fa,Oa,Ra,Pa,Va,bb,Ab){this.lB=O;this.OD=H;this.Fa=J;this.Ba=R;this.tEb=P;this.bDa=T;this.RY=V;this.Swa=S;this.QP=W;this.Bd=ia;this.Ei=ra;this.Jj=ua;this.EN=Aa;this.UZ=Ha;this.kk=N;this.tDa=Q;this.Eg=U;this.En=Z;this.Ke=qa;this.iza=Fa;this.T8b=Oa;this.Bna=Ra;this.yJ=Pa;this.Tya=Va;this.Sma=bb;this.wN=Ab;}Object.defineProperty(b,"__esModule",{value:!0});b.APa=void 0;r=a(0);g=a(83);k=a(1);m=a(113);f=a(34);d=a(18);l=a(29);n=a(556);h=a(237);p=a(505);q=a(522);t=a(119);v=a(147);w=a(166);u=a(99);x=a(495);y=a(236);z=a(554);A=a(50);B=a(30);C=a(557);D=a(82);E=a(558);G=a(299);F=a(290);I=a(115);L=a(538);M=a(559);c.prototype.create=function(O,H,J,R,P,T,V,S){return new (a(560).CPa)(O,H,T,V,R,P,this.lB,J,this.Fa,this.OD,this.Ba,this.RY,this.tEb,this.bDa,this.Swa,this.QP,this.Bd,this.Ei,this.Jj,this.EN,this.UZ,this.kk,this.tDa,this.Eg,this.Ke,this.iza,this.En,this.T8b(),this.Bna,this.yJ,this.Tya,this.Sma,void 0,S);};K=c;K=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(g.pz)),r.__param(1,(0,k.l)(f.mj)),r.__param(2,(0,k.l)(d.cd)),r.__param(3,(0,k.l)(l.Nh)),r.__param(4,(0,k.l)(n.NFa)),r.__param(5,(0,k.l)(m.YL)),r.__param(6,(0,k.l)(h.jia)),r.__param(7,(0,k.l)(p.tMa)),r.__param(8,(0,k.l)(q.jT)),r.__param(9,(0,k.l)(t.TG)),r.__param(10,(0,k.l)(v.DT)),r.__param(11,(0,k.l)(w.JG)),r.__param(12,(0,k.l)(x.VFa)),r.__param(13,(0,k.l)(y.gja)),r.__param(14,(0,k.l)(I.zG)),r.__param(15,(0,k.l)(z.OSa)),r.__param(16,(0,k.l)(A.ao)),r.__param(17,(0,k.l)(D.sT)),r.__param(18,(0,k.l)(B.oi)),r.__param(19,(0,k.l)(C.DPa)),r.__param(20,(0,k.l)(E.VQa)),r.__param(21,(0,k.l)(G.$fa)),r.__param(22,(0,k.l)(F.pia)),r.__param(23,(0,k.l)(L.WOa)),r.__param(24,(0,k.l)(M.KEa)),r.__param(25,(0,k.l)(u.rS)),r.__param(25,(0,k.optional)())],K);b.APa=K;},function(r,b,a){var f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D,E,G,F,I,L,M;function c(){this.Rea=[];this.Mdc=50;}function g(K){var O;O=this;this.j=K;this.Bmb=Promise.resolve();this.wIa=mb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.AH=[];this.rl=new n.yk();this.gUa=0;this.R4=[];this.rg=(0,q.aj)(this.j,"MediaElementASE");this.xWa=d.Jw;this.Pka=!1;this.kc=new c();this.Hp={};this.OUa={};this.D9=this.T4(function(){var H;if(O.ca)return null !== (H=O.ca.webkitDecodedFrameCount) && void 0 !== H?H:0;});this.aB=this.T4(function(){var H;if(O.ca){H=O.mla();return H?H.totalVideoFrames:O.ca.webkitDecodedFrameCount;}});this.JI=this.T4(function(){var H;if(O.ca){H=O.mla();return H?H.droppedVideoFrames:O.ca.webkitDroppedFrameCount;}});this.qX=this.T4(function(){var H;if(O.ca){H=O.mla();return H && H.corruptedVideoFrames;}});this.pVa=function(H){!1;O.rl.Uc(C.Ak.v$a,{P:H});};this.um=q.Ea.get(B.tLa).create(l.config.bu,this,this.j);l.config.cF && (this.Bmb=new Promise(function(H){O.xWa=H;O.j.addEventListener(G.ma.ih,H);}));this.rg.trace("Created Media Element");this.addEventListener=this.rl.addListener;this.removeEventListener=this.rl.removeListener;}function k(K){var O,H;O=q.Ea.get(D.zTa).ZTb();K=K.width / K.height * O.height;H=(O.width - K) / 2;return l.config.Bac?(0,p.createElement)("VIDEO","position:absolute;width:" + K + "px;height:" + O.height + "px;left:" + H + "px;top:0px"):(0,p.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function m(K){K.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.GMa=void 0;f=a(304);d=a(17);l=a(19);n=a(70);h=a(64);p=a(40);q=a(9);t=a(3);v=a(23);w=a(93);u=a(348);x=a(25);y=a(305);z=a(13);A=a(15);B=a(566);C=a(306);D=a(542);E=a(5);G=a(16);F=a(61);I=a(48);L=a(49);M=! !(z.ZC && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);g.prototype.ZA=function(K){try{this.ca && (this.gUa=this.ca.currentTime);}catch(O){this.rg.error("Exception while getting VIDEO.currentTime",O);K && this.aU(t.$.Stb,O);}return (0,z.mp)(this.gUa * d.lu);};g.prototype.seek=function(K){var O;(0,v.Ka)(!this.Tq);this.oWa();O=this.ZA(!0);if(!l.config.VCb && (0,z.x3)(O - K) <= this.oBa)(this.rg.trace("Seek delta too small",{currentTime:O,seekTime:K,min:this.oBa}),this.kc.trace("smallseek",K));else {this.kc.trace("seek",K);try{this.rg.trace("Setting video elements currentTime",{From:(0,w.Rj)(O),To:(0,w.Rj)(K)});this.Tq={};this.ca.currentTime=K / d.lu;this.rl.Uc(C.Ak.hr);}catch(H){this.rg.error("Exception while setting VIDEO.currentTime",H);this.aU(t.$.Ttb,H);}}};g.prototype.K6a=function(){return ! !this.Tq;};g.prototype.addSourceBuffer=function(K){var O;try{O=new f.mia(this.j,K,this.sg,this.rg);this.AH.push(O);K == d.lT && O.Pra && O.Pra.addListener(this.xWa);return O;}catch(H){O=(0,x.cf)(H);this.rg.error("Unable to add source buffer.",{error:O});this.j.Md(t.$.Iia,{za:K === L.u.V?t.X.gia:t.X.hia,Qb:O});}};g.prototype.y6=function(K){var O;O=this;K.forEach(function(H){return O.addSourceBuffer(H);});this.rl.Uc(C.Ak.Nib);return !0;};g.prototype.removeSourceBuffer=function(K){this.AH=this.AH.filter(function(O){return !(0,p.M_a)(K,O);});this.sg.removeSourceBuffer(K);};g.prototype.endOfStream=function(){this.kc.trace("endofstream");!1;l.config.Coa && this.sg.endOfStream();};g.prototype.Qs=function(K){!1;this.AH=[];K && K.Cqc();return !0;};g.prototype.f6a=function(){if(this.sg)return (0,E.xeb)(this.sg.duration);};g.prototype.mMb=function(){var K;if(!this.Pka && this.ca && this.ca.readyState >= F.jp.j3.HAVE_CURRENT_DATA){K=this.ca.webkitDecodedFrameCount;if(void 0 === K || 0 < K || l.config.zgc)this.Pka=!0;}return this.Pka;};g.prototype.open=function(){var K,O,H;K=this;this.ca=k(this.j.$F.value);this.sourceBuffers=this.AH;this.j.addEventListener(G.ma.xib,function(J){return K.vzb(J);});if(M){this.j.jJ && !l.config.Llb && this.um.cca();try{this.sg=new z.ZC();}catch(J){this.aU(t.$.Jtb,J);return;}try{this.hm=URL.createObjectURL(this.sg);}catch(J){this.aU(t.$.Ktb,J);return;}try{this.um.dCb(this.pVa);this.sg.addEventListener("sourceopen",function(J){return K.SVa(J);});this.sg.addEventListener(this.wIa + "sourceopen",function(J){return K.SVa(J);});this.ca.addEventListener("error",this.Hp.error=function(J){return K.EU(J);});this.ca.addEventListener("seeking",this.Hp.seeking=function(){return K.uzb();});this.ca.addEventListener("seeked",this.Hp.seeked=function(){return K.tzb();});this.ca.addEventListener("timeupdate",this.Hp.timeupdate=function(){return K.wzb();});this.ca.addEventListener("loadstart",this.Hp.loadstart=function(){return K.Ula();});this.ca.addEventListener("volumechange",this.Hp.volumechange=function(J){return K.xzb(J);});this.ca.addEventListener(this.um.mF,this.Hp[this.um.mF]=function(){K.rg.trace(K.um.mF);K.rzb();});O=this.j.Zo;H=O.lastChild;H?O.insertBefore(this.ca,H):O.appendChild(this.ca);l.config.T1a && this.ca.addEventListener("contextmenu",m);this.ca.src=this.hm;h.nf.addListener(h.dt,this.OUa[h.dt]=function(){return K.RVa();});this.RVa();}catch(J){this.aU(t.$.Ltb,J);}}else this.L4(t.$.eOa);};g.prototype.close=function(){var O;function K(){O.hm && (O.oWa(),h.nf.removeListener(h.dt,O.OUa[h.dt]),O.twb());}O=this;this.kc.trace("close");this.ca.removeEventListener(this.um.mF,this.Hp[this.um.mF]);this.ca.removeEventListener("error",this.Hp.error);this.ca.removeEventListener("seeking",this.Hp.seeking);this.ca.removeEventListener("seeked",this.Hp.seeked);this.ca.removeEventListener("timeupdate",this.Hp.timeupdate);this.ca.removeEventListener("loadstart",this.Hp.loadstart);this.ca.removeEventListener("volumechange",this.Hp.volumechange);this.um.y8b(this.pVa);l.config.bu?this.um.dC().then(function(){return K();}):K();this.um.hgb && clearTimeout(this.um.hgb);};g.prototype.HE=function(){return this.kc.HE();};g.prototype.rzb=function(){l.config.Llb && this.um.cca();};g.prototype.mla=function(){if(this.ca)return this.ca.getVideoPlaybackQuality && this.ca.getVideoPlaybackQuality() || this.ca.videoPlaybackQuality || this.ca.playbackQuality;};g.prototype.HAb=function(){var K;K=this.j.$i;return (K=K && K.errorCode) && 0 <= [t.$.L3,t.$.p3].indexOf(K);};g.prototype.twb=function(){var K;K=!1;l.config.x6b && this.HAb() && (K=!0);l.config.$Gb && !K && (this.ca.removeAttribute("src"),this.ca.load && this.ca.load());URL.revokeObjectURL(this.hm);l.config.T1a && this.ca.removeEventListener("contextmenu",m);!K && this.ca && this.j.Zo.removeChild(this.ca);this.ca=this.sg=void 0;this.hm="";};g.prototype.RVa=function(){!0 === z.Ph.hidden?this.R4.forEach(function(K){K.refresh();K.Gbc();}):this.R4.forEach(function(K){K.refresh();K.Wbc();});};g.prototype.T4=function(K){var O;O=q.Ea.get(u.MNa)(K);this.R4.push(O);return function(){O.refresh();return O.URb();};};g.prototype.aU=function(K,O){var H,J;H={za:t.X.Mm,Qb:(0,x.cf)(O)};try{(J=O.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == J.length && (H.Rf=J);}catch(R){}this.j.Md(K,H);};g.prototype.oWa=function(){this.R4.forEach(function(K){K.refresh();});};g.prototype.nxb=function(){return this.ca && this.ca.msGraphicsTrustStatus;};g.prototype.L4=function(K,O){this.j.Md(K,O,void 0);};g.prototype.vzb=function(K){var O,J,R,P,T,V,S;if(this.ca){K=K.rfa;O=this.nxb();O && (K.ConstrictionActive=O.constrictionActive,K.Status=O.status);try{K.readyState="" + this.ca.readyState;K.currentTime="" + this.ca.currentTime;K.pbRate="" + this.ca.playbackRate;}catch(W){}O=this.AH.length;for(var H;O--;){H=this.AH[O];J="";H.type == d.u3?J="audio":H.type == d.lT && (J="video");(0,x.Fe)(K,H.w9(),{prefix:J});}this.sg && (O=this.sg.duration) && !isNaN(O) && (K.duration=O.toFixed(4));if(l.config.k_b)try{R=this.j.bf;P=R && R.Ib;if(P){T=P.expiration;isNaN(T) || (K.exp=T);V=P.keyStatuses.entries();if(V.next){S=V.next().value;S && (K.keyStatus=S[1]);}}}catch(W){}}};g.prototype.SVa=function(K){!1;this.JAb || (this.JAb=!0,this.rl.Uc(C.Ak.Pib,K));};g.prototype.uzb=function(){this.kc.trace("seeking");this.rg.trace("Video element event: seeking");this.Tq?this.Tq.G2b=!0:(this.rg.error("unexpected seeking event"),l.config.mPb && this.L4(t.$.Ytb,{Qb:{Trace:this.HE()}}));};g.prototype.tzb=function(){this.kc.trace("seeked");this.rg.trace("Video element event: seeked");this.Tq?((0,v.Ka)(this.Tq.G2b),this.Tq.F2b=!0,this.XWa()):(this.rg.error("unexpected seeked event"),l.config.lPb && this.L4(t.$.Xtb,{Qb:{Trace:this.HE()}}));};g.prototype.wzb=function(){var K;this.kc.trace("timeupdate",null === (K=this.ca) || void 0 === K?void 0:K.currentTime);!1;this.Tq && (this.Tq.I2b=!0,this.XWa());this.rl.Uc(C.Ak.hr);};g.prototype.Ula=function(){this.rg.trace("Video element event: loadstart");};g.prototype.xzb=function(K){this.rg.trace("Video element event:",K.type);try{this.j.volume.set(this.ca.volume);this.j.muted.set(this.ca.muted);}catch(O){this.rg.error("error updating volume",O);}};g.prototype.EU=function(K){var O,H,J,R,P,T,V,S;O=this.L4;H=t.$.dOa;J=t.OIa;R=this.HE();P=K.target;T=P && P.error;V=K.errorCode;P=T && T.code;(0,A.vd)(P) || (P=V && V.code);V=T && T.message;S=T && T.msExtendedCode;(0,A.vd)(S) || (S=T && T.systemCode);(0,A.vd)(S) || (S=K.systemCode);(0,A.vd)(S) || (S=(0,I.ota)(V));K=(0,x.Fe)({},{code:P,systemCode:S,trace:JSON.stringify(R)},{gca:!0});J={za:J(P),Qb:(0,y.Nwa)(K)};try{V && (J.$Y=V);}catch(W){}S=(0,x.nk)(S);(0,A.Oa)(S) && (J.Rf=(0,q.Vna)(S,4));O.call(this,H,J);};g.prototype.XWa=function(){this.Tq && this.Tq.F2b && this.Tq.I2b && (this.kc.trace("seekcomplete"),this.Tq=void 0,this.rl.Uc(C.Ak.O_));};Ua.Object.defineProperties(g.prototype,{oBa:{configurable:!0,enumerable:!0,get:function(){return l.config.ubc;}}});b.GMa=g;c.prototype.trace=function(K,O){this.Rea.push([K,O]);this.Rea.length > this.Mdc && this.Rea.shift();};c.prototype.HE=function(){return this.Rea;};},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t;function c(v){var w;w=this;this.j=v;this.RCa=this.Rbb=0;this.ih=this.Bm=!1;this.Bda=0;this.F$=new Set();this.a0=!0;this.Hm=function(){var u,x;w.xda();w.hI && (w.log.info("Deactivating",w.hI),w.tC.YKb(w.Tf()));w.j.tj.set(null);w.WK.Thb(void 0);w.t_a();u=w.j.Tb.value;u && u.Cr() && !u.aq() && (u=null);if(u && w.j.Eb.value !== q.qb.pg){x=w.Tf();w.tC.EBb(x,u);}u?(w.log.info("Activating",u),w.j.Un.set(u.getState() === g.QG.fD.uG?q.Zf.Le:q.Zf.Qd),w.Bm || w.j.Qe("tt_start"),u.L$().then(w.lN).catch(w.lN)):w.j.Un.set(q.Zf.Le);w.hI=u;w.CC();};this.sync=function(){w.Bm && (w.WK.start(),w.j.Eb.value !== q.qb.Wc && w.WK.stop());};this.CC=function(){var u;w.a0 && w.j.state.value === q.dc.Le && w.j.Eb.value !== q.qb.pg && (w.hi?u=w.WK.cRb():w.j.Tb.value && (u=c.Sbc[w.j.Tb.value.getState()]));u && (0,p.vd)(u.startTime) && w.j.fw.value !== u && (w.Rbb++,w.RCa+=w.WK.g6a() - u.startTime,w.TYa=Math.ceil(w.RCa / (w.Rbb + 0)));w.j.fw.set(u);};this.Tf=function(){var u;u=w.j.pta();w.hI && w.hI.sv && (u+=w.hI.sv);return u;};this.I3b=function(u){w.F$.add(u);w.a0 && (w.fireEvent(c.zib,u),u && u.id && (w.tC.Clb(u.id),!1));w.log.trace("showsubtitle",w.X9(u));};this.D3b=function(u){w.F$.delete(u) && w.a0 && (w.fireEvent(c.egb,u),w.log.trace("removesubtitle",w.X9(u)));};this.WVb=function(){w.F$.forEach(function(u){w.fireEvent(c.egb,u);w.log.trace("hide subtitle",w.X9(u));});};this.z9b=function(){w.F$.forEach(function(u){w.fireEvent(c.zib,u);w.log.trace("resume subtitle",w.X9(u));});};this.lk=function(){w.log.warn("imagesubs buffer underflow",w.j.Tb.value.Dh);w.j.Un.set(q.Zf.Qd);};this.d3b=function(){w.log.info("imagesubs buffering complete",w.j.Tb.value.Dh);w.j.Un.set(q.Zf.Le);};this.Xba=function(){w.Bm && w.hi && w.hi.lw(w.Tf());};this.Vcb=function(u){w.Bm && w.hi && (w.hi.pause(),w.hi.LF(u.Pk));};this.pF=function(){w.Bm && w.hi && w.hi.bfb();};this.Scb=function(u){w.hi && w.hi.jl(u.Yh,u.nQ);};this.Ycb=function(u){w.hi && w.hi.vk(u.Y,u.mfc);};this.x3b=function(){w.Bm=!0;(0,h.yg)(function(){var u,x;(null === (u=w.hI) || void 0 === u?0:u.Hl)?null === (x=w.hi) || void 0 === x?void 0:x.lw(w.Tf()):w.sync();w.CC();});};this.u3b=function(){w.t_a();w.WK.stop();w.CC();w.ih=!0;w.xda();};this.Aya=function(u){(u=u.newValue) && (0,p.isArray)(u.blocks) && (w.tC.Clb.apply(w.tC,ha(u.blocks.map(function(x){return x.id;}))),!1);};this.A3b=function(u){w.gfc(u.newValue,u.oldValue);w.sync();w.CC();};this.lN=function(u){var x;if(!w.ih){x=u.track;if(x === w.j.Tb.value)try{w.hi=x.OCa;x.Hl?w.CBb(u):w.DBb(u);}catch(y){w.log.error("Error activating track:",y,x);return;}w.Bm || w.j.Qe(u.ga?"tt_comp":"tt_err");u.ga?(f.config.Vgb?setTimeout(function(){w.j.Un.set(q.Zf.Le);},f.config.Vgb):w.j.Un.set(q.Zf.Le),x.Hl || w.CC()):u.aborted?w.log.warn("aborted timed text track loading"):f.config.kPb?w.j.Md(n.$.Drb,{Qb:u.track?u.track.Dh:{}}):(w.log.error("ignore subtitle initialization error",u),w.j.Un.set(q.Zf.Le));}};this.Lb=new m.yk();this.tC=new l.jSa((0,d.aj)(v,"SubtitleTracker"),f.config.bOb);this.log=(0,d.aj)(v,"TimedTextManager");this.WK=new k.DSa(this.Tf,this.CC);this.j.Tb.addListener(this.Hm);f.config.T5b?(this.j.addEventListener(q.ma.Bm,this.x3b),this.Hm()):(this.j.Un.set(q.Zf.Le),this.j.addEventListener(q.ma.Bm,function(){w.Bm=!0;w.Hm();}));this.j.Eb.addListener(this.A3b);this.j.addEventListener(q.ma.cDa,this.sync);this.j.fw.addListener(this.Aya);this.j.addEventListener(q.ma.ih,this.u3b);}Object.defineProperty(b,"__esModule",{value:!0});b.BSa=void 0;g=a(287);k=a(567);m=a(70);f=a(19);d=a(9);l=a(1337);n=a(3);h=a(58);p=a(15);q=a(16);t=a(1338);c.prototype.ebc=function(){this.a0=!0;this.z9b();this.CC();};c.prototype.XVb=function(){this.a0=!1;this.WVb();this.CC();};c.prototype.addEventListener=function(v,w,u){this.Lb.addListener(v,w,u);};c.prototype.removeEventListener=function(v,w){this.Lb.removeListener(v,w);};c.prototype.fireEvent=function(v,w,u){this.Lb.Uc(v,w,u);};c.prototype.Uma=function(v,w,u){var x,y;x=this;y=t.zSa.MJb(this.j,v,w,u);this.M8a(this.j.Ii,y);this.j.vj.forEach(function(z){x.M8a(z.Ii,y);});this.j.Tb.set(y);this.j.fireEvent(q.ma.hw);};c.prototype.Y5b=function(v){this.HAa(v)?v.L$().then(function(){}):Promise.resolve();};c.prototype.AUb=function(v){return this.tC.fUb(v);};c.prototype.Kta=function(v){return this.tC.Kta(v);};c.prototype.LX=function(){var v,w;v=this.j.G0;w=f.config.nkb.characterSize;w={size:f.config.gDa.characterSize || w};v && (w.visibility=v.Qta(),w.IV=v.Ota(),w.ut=v.Pta());return w;};c.prototype.yac=function(v){f.config.gDa.characterSize=v;v=this.j.Tb.value;this.HAa(v) && !v.Hl && v.L$().then(this.lN).catch(this.lN);};c.prototype.gfc=function(v,w){var u;v === q.qb.Wc || v == q.qb.Oi?w !== q.qb.Wc && w !== q.qb.Oi && ((w=this.j.Tb.value) && !this.HAa(w) || this.tC.Zbb(this.Tf(),w || void 0,"presentingstate:" + v)):v !== q.qb.pg && v !== q.qb.js || this.tC.Uqa(null !== (u=this.Tf()) && void 0 !== u?u:void 0,"presentingstate:" + v);};c.prototype.xda=function(){this.Bda=0;clearTimeout(this.C9b);};c.prototype.t_a=function(){var v;this.hi && this.hi.stop();(null === (v=this.hI) || void 0 === v?0:v.Hl) && this.hab("removeListener");this.hi=void 0;};c.prototype.hab=function(v){this.hi && (this.hi[v]("showsubtitle",this.I3b),this.hi[v]("removesubtitle",this.D3b),this.hi[v]("underflow",this.lk),this.hi[v]("bufferingComplete",this.d3b),"addListener" === v?(this.j.addEventListener(q.ma.hr,this.Xba),this.j.addEventListener(q.ma.cl,this.Vcb),this.j.addEventListener(q.ma.sK,this.pF),this.j.addEventListener(q.ma.Kba,this.Scb),this.j.addEventListener(q.ma.MDa,this.Ycb)):(this.j.removeEventListener(q.ma.hr,this.Xba),this.j.removeEventListener(q.ma.cl,this.Vcb),this.j.removeEventListener(q.ma.sK,this.pF),this.j.removeEventListener(q.ma.Kba,this.Scb),this.j.removeEventListener(q.ma.MDa,this.Ycb)));};c.prototype.X9=function(v){return {currentPts:this.Tf(),displayTime:v.displayTime,duration:v.duration,id:v.id,originX:v.originX,originY:v.originY,sizeX:v.sizeX,sizeY:v.sizeY,rootContainerExtentX:v.rootContainerExtentX,rootContainerExtentY:v.rootContainerExtentY};};c.prototype.CBb=function(v){var w,u;w=this;u=v.track;if(!u || !u.Hl)throw Error("Not an image base subtitle");v.ga?(this.xda(),this.hab("addListener"),this.log.info("Activated",u),this.j.tj.set(u),this.Bm?(0,h.yg)(function(){w.hi.lw(w.Tf());}):this.hi.pause()):this.Lgb(u,v);};c.prototype.DBb=function(v){var w,u;w=v.track;u=v.ga;if(!w || w.Hl)throw Error("Not a valid text track");u?(this.xda(),this.WK.Thb(this.hi),this.log.info("Activated",w),this.j.tj.set(w)):this.Lgb(w,(0,n.nz)(v));this.CC();};c.prototype.Lgb=function(v,w){var u,x;u=this;x=this.Bda < f.config.s0b;x && (this.C9b=setTimeout(function(){u.Bda++;v.L$().then(u.lN).catch(u.lN);},f.config.vdc));this.log.error("Failed to activate" + ((null === v || void 0 === v?0:v.Hl)?" img subtitle":""),{retry:x},w,v);};c.prototype.HAa=function(v){return !(!v || v.Cr() && !v.aq());};c.prototype.M8a=function(v,w){var u;u=v.findIndex(function(x){return x.ec >= w.ec;});-1 === u && (u=0);v.splice(u,0,w);};b.BSa=c;r={};c.Sbc=(r[g.QG.fD.LOADING]={JY:!0},r[g.QG.fD.cT]={av:!0},r);c.zib="showsubtitle";c.egb="removesubtitle";},function(r,b,a){var k;function c(m,f,d){this.start=m;this.track=f;this.PK=Array.isArray(d)?d:[];}function g(m,f){this.log=m;this.DC=f;this.aAa=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.jSa=void 0;k=a(23);g.prototype.EBb=function(m,f){this.Zbb(m,f,"activating");};g.prototype.YKb=function(m){this.Uqa(m,"de-activating");};g.prototype.Zbb=function(m,f,d){var l;this.Al && this.Uqa(m,"close current for new");l=[];this.orphans.length && (l.push.apply(l,ha(this.orphans)),this.orphans=[]);this.Al=new c(m,f,l);this.DC && this.log.trace("new range: " + d,this.Al);};g.prototype.Uqa=function(m,f){this.Al && (this.Al.end=m,this.aAa.push(this.Al),this.DC && this.log.trace("end range: " + f,this.Al || ({})),this.Al=void 0);};g.prototype.Clb=function(m){for(var f=[],d=0;d < arguments.length;++d){f[d - 0]=arguments[d];}this.Al?this.Al.PK.push.apply(this.Al.PK,ha(f)):this.orphans.push.apply(this.orphans,ha(f));};g.prototype.Kta=function(m){var f,d;f=this.aAa.slice(0);if(this.Al && "undefined" !== typeof m){d=new c(this.Al.start,this.Al.track,this.Al.PK);d.end=m;f.push(d);}m=f.reduce(function(l,n){var h,p,q,t;if(!n.track)return l;p=n.track.Vb;q=n.track.mv(n.start,n.end);if(void 0 === q || null === q)return l;t=new Set(n.PK);l[p]?(n=l[p],n.expected+=q,n.missed+=q - t.size):l[p]={dlid:p,bcp47:n.track.Ef,profile:n.track.profile,expected:q,missed:q - t.size,startPts:null !== (h=n.track.rUb()) && void 0 !== h?h:0};return l;},{});m=Object.values(m);this.DC && this.log.trace("subtitleqoe:",JSON.stringify(m,null,"\t"));return m;};g.prototype.fUb=function(m){var f,d,l,n;f=this.aAa.slice(0);d=0;l=0;if(this.Al && "undefined" != typeof m){n=new c(this.Al.start,this.Al.track,this.Al.PK);n.end=m;f.push(n);}f.forEach(function(h){var p,q;if(h.track){if(h.end < h.start){(0,k.Ka)(!1,"negative range");h.IF=0;return;}p=new Set(h.PK);q=h.track.mv(h.start,h.end);h.K8=q;h.IF=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else h.IF=100;p=h.end - h.start;d+=p;l+=h.IF * p;});n=d?Math.round(l / d):100;this.log.trace("qoe score " + n + ", at pts: " + m);this.DC && (m=f.map(function(h){return {start:h.start,"end  ":h.end,duration:h.end - h.start,score:Math.round(h.IF),lang:h.track?h.track.Ef:"none","actual  ":h.PK.join(" "),expected:h.K8};}),this.log.trace("score for each range: ",JSON.stringify(m,function(h,p){return p;}," ")));return n;};b.jSa=g;},function(r,b,a){var g,k,m,f,d,l,n,h,p;function c(q,t,v,w,u,x){var y,z;q=d.QG.call(this,t,q,q,u,!0,{eg:"",uF:"content"},"1",[{Qf:0,url:v,type:"unknown"}],"xx",w || q,l.Gq.QL,void 0,void 0,"primary",null !== (y=null === x || void 0 === x?void 0:x.profile) && void 0 !== y?y:"dfxp-ls-sdh",null !== (z=null === x || void 0 === x?void 0:x.midx) && void 0 !== z?z:{},!1,!1,null === x || void 0 === x?void 0:x.isLanguageLeftToRight) || this;q.j=t;q.url=v;q.options=x;q.au=null === x || void 0 === x?void 0:x.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.zSa=void 0;r=a(62);g=a(19);k=a(64);m=a(9);f=a(40);d=a(287);l=a(127);n=a(106);h=a(204);p=a(16);(0,r.yPa)(r.aja,function(q){var v;function t(w){var u;if(w.ctrlKey && w.altKey && w.shiftKey && w.keyCode == h.WC.jvb){u=(0,f.createElement)("INPUT",void 0,void 0,{type:"file"});u.addEventListener("change",function(){var x,y,z;x=u.files[0];if(x){y=x.name;v.info("Loading file",{FileName:y});z=new FileReader();z.readAsText(x);z.addEventListener("load",function(){return q.ep.Uma("nourl",y,{content:z.result});});}});u.click();}}v=(0,m.aj)(q,"TimedTextCustomTrack");g.config.Zpa && (v.info("Loading url",{Url:g.config.Zpa}),q.ep.Uma(g.config.Zpa,"custom"));k.nf.addListener(k.LE,t);q.addEventListener(p.ma.ih,function(){k.nf.removeListener(k.LE,t);});});ja(c,d.QG);c.MJb=function(q,t,v,w){var u;u="custom" + c.uXb++;return new c(u,q,t,v,-1,w);};c.prototype.l2a=function(){var q;q=this;return new Promise(function(t,v){var w,u;if(null === (w=q.options) || void 0 === w?0:w.content)t(q.options.content);else if(q.url){u={responseType:n.vua,url:q.url,track:q,Ac:void 0,lE:"tt-" + q.Ef,Qt:"unknown"};q.j.B$.download(u,function(x){x.ga?t(x.content):(x.reason="downloadfailed",x.url=u.url,x.track=q,v(x));});}});};b.zSa=c;c.uXb=0;},function(r,b,a){var g,k,m,f,d,l;function c(n){var h,p,q;h=this;this.j=n;this.g3b=function(){var t;m.nf.removeListener(m.g$,h.Xcb);t=h.wr.Ho();t && t.parentNode && t.parentNode.removeChild(t);};this.Aya=function(t){h.wr.Y$b(t.newValue);};this.L3b=function(t){h.wr.eac(t.newValue?t.newValue.haa:void 0);h.wr.Lec(h.A5a(t.newValue));};this.Xcb=function(){h.wr.XQ();};p=n.Tb.value?n.Tb.value.haa:void 0;q=this.A5a(n.Tb.value);this.wr=new d.ASa(q,p);p=n.$F.value;(0,k.Ka)(.1 < p.width / p.height);this.wr.M$b(p.width / p.height);n.Zo.appendChild(this.wr.Ho());n.fw.addListener(this.Aya);n.Tb.addListener(this.L3b);n.addEventListener(l.ma.ih,this.g3b,g.OL);m.nf.addListener(m.g$,this.Xcb);}Object.defineProperty(b,"__esModule",{value:!0});b.CSa=void 0;g=a(17);k=a(23);m=a(64);f=a(19);d=a(572);l=a(16);c.prototype.UBa=function(n){this.wr.UBa(n);};c.prototype.Qta=function(){return this.wr.Qta();};c.prototype.SBa=function(n){this.wr.SBa(n);};c.prototype.Ota=function(){return this.wr.Ota();};c.prototype.TBa=function(n){this.wr.TBa(n);};c.prototype.Pta=function(){return this.wr.Pta();};c.prototype.A5a=function(n){var h;if(n && f.config.Faa && 0 <= f.config.Faa.indexOf(n.Ef)){h=Object.assign({},f.config.Mea);Object.entries(h).forEach(function(p){var q;q=ma(p);p=q.next().value;q=q.next().value;h[p]=q.replace(/font-weight:bolder/g,"font-weight:normal");});return h;}return f.config.Mea;};b.CSa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Web=void 0;b.Web=function(a){var c,g;c=!1;g=!1;return function(){if(c)g=!0;else for(g=!0;g;){g=!1;c=!0;a();c=!1;}};};},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u;function c(x,y){this.j=x;this.Fm=y;this.Lcc=!1;this.log=(0,m.aj)(this.j,"MediaAppendManager");this.ac=this.j.ac;this.ca=this.ac.ca;this.h1=this.AV=!1;this.audio={type:k.oj.audio,Ex:[],xm:[],AQ:!1};this.video={type:k.oj.video,Ex:[],xm:[],AQ:!1};x={};this.$K=(x[u.u.J]=this.video,x[u.u.V]=this.audio,x);this.closed=!1;this.CB=g.config.CB;this.rba=g.config.rba;this.qF=this.j.ib.di?g.config.Fya:g.config.qF;this.UYa=!0;this.vc=m.Ea.get("Base64EncoderSymbol");this.Qra=!1;this.Xya=[];(0,d.Ka)(this.CB > this.rba,"bad config");(0,d.Ka)(this.CB > this.qF,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.xMa=void 0;g=a(19);k=a(91);m=a(9);f=a(3);d=a(23);l=a(25);n=a(17);h=a(16);p=a(177);q=a(5);t=a(61);v=a(42);w=a(1342);u=a(49);c.prototype.v9=function(){var z,A;function x(B,C){return y(B,C.iba);}function y(B,C){var D,E,G,F;G=! !C.response;F=C.response;if(C.Fc)return B + (F.byteLength || 0);C=(null !== (D=null === C || void 0 === C?void 0:C.IN) && void 0 !== D?D:0) - (null !== (E=null === C || void 0 === C?void 0:C.KN) && void 0 !== E?E:0);return (G?F.byteLength:C) + B;}z=this.$K[u.u.J];A=this.$K[u.u.V];return {videoToAppend:z.xm.reduce(y,0),videoInBuffer:z.Ex.reduce(x,0),audioToAppend:A.xm.reduce(y,0),audioInBuffer:A.Ex.reduce(x,0)};};c.prototype.w2b=function(){this.audio.Nj && !this.audio.Nj.yi() && (!1,this.audio.Nj.fYa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.qac=function(){this.audio.$Ba=!0;this.video.$Ba=!0;};c.prototype.wac=function(x){x === u.u.V?this.AV=!0:x === u.u.J && (this.h1=!0);};c.prototype.yi=function(){var x,y;return !(null === (x=this.audio.Nj) || void 0 === x || !x.yi()) || !(null === (y=this.video.Nj) || void 0 === y || !y.yi());};c.prototype.$da=function(x){var y,z;null === (y=this.audio.Nj) || void 0 === y?void 0:y.$da(x);null === (z=this.video.Nj) || void 0 === z?void 0:z.$da(x);};c.prototype.dDb=function(x){var y;x.mediaType === u.u.V?this.AV=!1:x.mediaType === u.u.J && (this.h1=!1);y=this.$K[x.mediaType];y?y.xm.push(x):(0,d.Ka)(!1);};c.prototype.cDb=function(x,y,z){var A;A=this;y=this.vZa(x.mediaType,y,z);if(!this.Qra)if(x.mediaType === u.u.J)(this.p6b(x),this.Qra=!0,this.Xya.forEach(function(B){return A.vna(B);}),this.Xya=[]);else {this.Xya.push(y);return;}this.vna(y);};c.prototype.vna=function(x){var y;y=this.$K[x.mediaType];y?y.xm.push(x):(0,d.Ka)(!1);};c.prototype.vZa=function(x,y,z){return {mediaType:x,VE:!1,response:y,$h:function(){return "header";},get Fc() {return !this.VE;},profile:z.profile};};c.prototype.p6b=function(x){(0,d.Ka)(! !x.Vib,"startOfSegment properties need to be set before first header is appended");this.Qra || !g.config.nQb || !this.j.m$() && !this.j.j$() || x.Vib.b9a || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),x=this.vc.decode(n.HFa),this.vna(this.vZa(u.u.J,x,{profile:v.I.mG})));};c.prototype.uac=function(x){var y;y=this.$K[x.type];if(y)try{y.Nj=x;}catch(z){this.Md(f.$.Iia,{za:(0,p.G9)(x.type),Qb:(0,l.cf)(z)});}};c.prototype.close=function(){this.ca=this.ac=void 0;this.closed=!0;};c.prototype.Md=function(x,y,z){this.closed || this.j.Md(x,y,z);};c.prototype.hqa=function(x){return this.c2a(this.audio,x,this.W7()) && this.c2a(this.video,x,this.W7());};c.prototype.W7=function(){return this.j.Eb.value === h.qb.pg?this.qF:this.rba;};c.prototype.Adc=function(){var x,y;x=this.video.xm.filter(function(z){return !z.Fc;}).reduce(function(z,A){return z + A.qn;},0);y=this.audio.xm.filter(function(z){return !z.Fc;}).reduce(function(z,A){return z + A.qn;},0);return Math.min(x,y);};c.prototype.c2a=function(x,y,z){var A;A=x.iqa;A=A && A.iba;return !x.Nj || 0 === x.xm.length && (x.type === k.oj.audio && this.AV || x.type === k.oj.video && this.h1)?!0:A && A.By - y >= z || !1;};c.prototype.Okb=function(x){this.Lcc || (this.Nkb(this.audio,x),this.Nkb(this.video,x));this.closed || this.d_a();};c.prototype.d_a=function(){var x,y,z,A,B,C;A=!this.audio.Nj || 0 !== this.audio.Ex.length;B=0 === this.video.xm.length && this.h1;C=!this.video.Nj || 0 !== this.video.Ex.length;!(0 === this.audio.xm.length && this.AV && C || B && A) || (null === (x=this.audio.Nj) || void 0 === x?0:x.yi()) || (null === (y=this.video.Nj) || void 0 === y?0:y.yi()) || this.Tqa || !(this.ca.readyState > t.jp.j3.HAVE_NOTHING) || this.Fm.jaa || (this.Tqa=!0,null === (z=this.ac) || void 0 === z?void 0:z.endOfStream());};c.prototype.Nkb=function(x,y){var z,A,B,C;if(!this.closed && x.Nj){A=x.Nj;B=x.Ex;!A.yi() && 0 < B.length && (x.iqa=B[B.length - 1]);if(x.$Ba){if(A.yi())return;x.$Ba=!1;C=null === (z=this.ac) || void 0 === z?void 0:z.f6a().web(q.qp);C && 0 < C && A.remove(0,C);}for(z=x.xm[0];z && z.response && (z.Fc || z.$B - y <= this.CB);){if((this.Tqa=!1,this.mec(z)))(x.xm.shift(),z=x.xm[0]);else break;}!A.yi() && 0 < B.length && (x.iqa=B[B.length - 1]);}};c.prototype.mec=function(x){var y,z,A;!1;(0,d.Ka)(x && ! !x.response);y=x.response;z=x.mediaType;A=this.$K[z];if(!this.closed && A.Nj && !A.Nj.yi()){try{x.Fc && x.profile && A.Nj.gGb(x.profile);this.log.trace("Feeding media segment to decoder",{Bytes:y.byteLength});A.Nj.fYa(y,x);x.Fc || A.Ex.push(this.OJb(x));}catch(B){"QuotaExceededError" === B.name?(this.j.Y7=this.j.Y7?this.j.Y7 + 1:1,this.UYa=!1,A.AQ=!0):(this.log.error("Exception while appending media",x,B),this.Md("CodecSwitchingError" === B.name?f.$.fOa:f.$.Utb,(0,p.G9)(z)));return;}return !0;}};c.prototype.FJb=function(x){var y;if(w.Pja[x.Pa])return w.Pja[x.Pa];y=this.j.t7a(x.tc);y || (this.log.warn("Could not find CDN",{cdnId:x.tc}),y={id:x.tc,K$a:x.location});return y;};c.prototype.O0a=function(x){var y,z;y=x.Pa;if(w.Qja[y])return w.Qja[y];x.mediaType === u.u.V?z=this.j.q7a(y):x.mediaType === u.u.J && (z=this.j.E7a(y));z || this.log.error("Could not find stream",{stream:y});return z;};c.prototype.OJb=function(x){var y;y=this.O0a(x);return {iba:x,stream:y,gn:{startTime:Math.floor(x.$B),endTime:Math.floor(x.By)},Ac:this.FJb(x)};};c.prototype.Ooa=function(x){this.h_a(x,u.u.V);this.h_a(x,u.u.J);};c.prototype.h_a=function(x,y){var z,A,B,C,D,E,G,F,I;z=this;A=x;this.UYa && (A-=g.config.G_);B=this.$K[y];C=B.Ex;G=!1;C.some(function(L,M){var K;K=L.iba;if(x < K.$B)return ((0,d.Ka)(!1,"decoder content does not contain media time"),!0);A >= K.By && (D=M);if(x < K.By)return (E=M,M=y === u.u.V?z.j.Xf:z.j.Ge,L !== M.value && (M.set(L),G=!0),!0);});if((B.AQ || G) && void 0 !== D && !this.Tqa){if(D + 1 === E){if(0 === D)return;D--;}F=C[D].iba.By - 1;if(0 < F){I=B.Nj;I && !I.yi()?(I.remove(0,F / n.lu),B.AQ=!1,C.splice(0,D + 1)):(B.AQ=!0,!1);}}};c.prototype.zgb=function(){!1;[this.audio,this.video].forEach(function(x){x.Ex=[];x.iqa=void 0;x.xm=[];});this.h1=this.AV=!1;this.j.fireEvent(h.ma.dba);};c.prototype.Tta=function(){return [this.audio,this.video].filter(function(x){return x.Nj;});};c.prototype.DRb=function(){var x,y;if(this.yi())(0,d.Ka)(!1,"should not be busy while checking buffer ranges");else {x=this.Tta().map(function(z){var A,B,C,D,E;D=z.xm.filter(function(G){return G.VE;});E=z.Nj.buffered();z=E.length?Math.ceil(1E3 * E.start(0)):void 0;E=E.length?Math.floor(1E3 * E.end(E.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (A=D[0]) || void 0 === A?void 0:A.$B;A=null !== (C=null === (B=D[D.length - 1]) || void 0 === B?void 0:B.By) && void 0 !== C?C:E;if(void 0 !== z && void 0 !== A)return {start:z,end:A};});if(x.every(function(z){return z;})){y=Math.max.apply(Math,ha(x.map(function(z){return z.start;})));x=Math.min.apply(Math,ha(x.map(function(z){return z.end;})));if(x > y)return {start:(0,q.xc)(y),end:(0,q.xc)(x)};}}};c.prototype.skip=function(x){(0,d.Ka)(!this.yi(),"should not be busy while skipping");this.Tta().forEach(function(y){y.AQ=!0;});this.Ooa(x);this.Tta().forEach(function(y){0 < y.Ex.length || (y.xm=y.xm.filter(function(z){return z.Fc || z.By > x?!0:!1;}));});};b.xMa=c;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Qja=b.Pja=void 0;r=a(38);a={};b.Pja=(a[r.op]={id:-1,name:"hardcoded",ec:1,type:"hardcoded",K$a:"-1",gYb:!1,location:{id:"-1",ec:1,level:100,weight:1}},a);a={};b.Qja=(a[r.op]={track:{type:"padding",trackId:"padding",Ji:"padding",eg:"padding",uF:"other",Ef:"padding",FF:"padding",Xx:"padding",Dh:{}},type:"padding",Vb:"-1",bitrate:1,eb:100,af:"unknown",size:1,BW:{},Dh:{},om:"",framerate:0,yj:!1,Pj:[],height:1,width:1},a);},function(r,b){function a(c,g){this.j=g;this.PJ=!0;this.Wea=!1;this.ca=c;}Object.defineProperty(b,"__esModule",{value:!0});b.hTa=void 0;a.prototype.tya=function(){this.PJ && (this.PJ=!1,this.j.paused.set(!1));};a.prototype.sya=function(){this.PJ || (this.PJ=!0,this.j.paused.set(!0));};a.prototype.pause=function(){var c;this.paused || (this.PJ=!0,null === (c=this.ca) || void 0 === c?void 0:c.pause());};a.prototype.play=function(){var c,g;c=this;return this.paused && !this.Wea?(this.Wea=!0,Promise.resolve(null === (g=this.ca) || void 0 === g?void 0:g.play()).then(function(){c.Wea=!1;}).catch(function(k){var m;c.Wea=!1;c.PJ=!(null === (m=c.ca) || void 0 === m || !m.paused);throw k;})):Promise.resolve();};a.prototype.close=function(){this.ca=void 0;};Ua.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.PJ;}}});b.hTa=a;},function(r,b){function a(g,k,m){var f,d,l,n;f=[];g.forEach(function(h){-1 == f.indexOf(h.af) && f.push(h.af);});d=null;l=null;k.forEach(function(h){null === d?l=d=h.bitrate:l < h.bitrate?l=h.bitrate:d > h.bitrate && (d=h.bitrate);});n=[];f.forEach(function(h){var p;p={ranges:[],profile:h};d && l && (p.ranges.push({min:d,max:l}),m && (p.disallowed=m.filter(function(q){return q.stream.af === h;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.m8};})),n.push(p));});return n;}function c(g,k){var m;m=void 0;return {zE:g.filter(function(f){var d;d=k(f);d && (m=m || [],m.push({stream:f,m8:d}));return !d;}),xMb:m};}Object.defineProperty(b,"__esModule",{value:!0});b.wMb=b.Pu=b.DKb=b.d7a=void 0;b.d7a=function(g,k){k=c(g,k);return a(g,k.zE,k.xMb);};b.DKb=a;b.Pu=c;b.wMb=function(g){if(g.yj && g.lower && 1080 < g.height)return ["Prefetch UHD"];};},function(r,b,a){var g,k;function c(m,f){m=g.cc.call(this,m) || this;m.fxa=f;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.HPa=void 0;g=a(69);k=a(93);ja(c,g.cc);c.prototype.set=function(m){g.cc.prototype.set.call(this,(0,k.bD)(m,0,this.fxa));};b.HPa=c;},function(r,b,a){var k,m,f,d,l,n,h,p,q;function c(t,v,w,u,x,y){var z;z=this;this.fj=t;this.config=w;this.Cb=u;this.debug=x;this.QH={};this.e2a=!1;this.FV={};this.eva=0;this.F9=function(A){var B,C,D;B=A.stream;if(B){A=B.Vb;C=B.bitrate;D=B.eb;}else A=A.track.Vb;return {key:A + "$" + C + "$" + D,Vb:A,bitrate:C,eb:D};};this.n5a=function(A){var B,C,D;C=z.F9(A);D=null === (B=A.Ac) || void 0 === B?void 0:B.id;A=A.track.eg;return Object.assign({},C,{key:C.key + "$" + D + "$" + A,po:D,eg:A});};this.BRb=function(A){var B;B=A.stream;A=null === B || void 0 === B?void 0:B.Vb;B=null === B || void 0 === B?void 0:B.bitrate;return {key:A + "$" + B,Vb:null !== A && void 0 !== A?A:"",dQ:B};};this.YUb=function(A){var B;B=A.stream;A=null === B || void 0 === B?void 0:B.Vb;B=null === B || void 0 === B?void 0:B.eb;return {key:A + "$" + B,Vb:null !== A && void 0 !== A?A:"",dQ:B};};this.log=v.hb("PlayTimeTracker");this.Eca=y(t);this.sy=y(t);this.kza=y(t);this.startTime=this.fj.mediaTime.value;this.Laa=this.config().xBb;this.kL();this.QH.abrdel=0;this.Laa.forEach(function(A){A="abrdel" + A;z.FV[A]=0;z.QH[A]=0;});}function g(){}Object.defineProperty(b,"__esModule",{value:!0});b.tPa=void 0;r=a(0);k=a(1);m=a(7);f=a(12);d=a(79);a(5);l=a(27);n=a(111);h=a(17);p=a(25);a=a(579);g.prototype.encode=function(t){return {downloadableId:t.Vb,correlationId:t.eg,bitrate:t.bitrate,vmaf:t.eb,duration:t.duration,metric:t.dQ,cdnId:t.po};};g.prototype.decode=function(t){return {Vb:t.downloadableId,eg:t.correlationId,bitrate:t.bitrate,eb:t.vmaf,duration:t.duration,dQ:t.metric,po:t.cdnId};};c.prototype.$s=function(t){t=void 0 === t?"content":t;this.IK(this.fj.mediaTime.value);return Math.floor(this.sy.$s(t));};c.prototype.MX=function(t){t=void 0 === t?"content":t;this.IK(this.fj.mediaTime.value);t=this.sy.MX(t);this.debug.assert(t === Math.floor(t),"Value of totalContentPlayTime is not an integer.");return Math.floor(t);};c.prototype.rRb=function(){this.IK(this.fj.mediaTime.value);return {audio:this.uX(this.Eca,this.n5a),video:this.uX(this.sy,this.n5a)};};c.prototype.GTb=function(){var t,v,w;t=this.$s("content");v=this.$s("ads");w=this.$s("other");t={total:t,totalAdDuration:v,totalOtherDuration:w,totalCombinedDuration:t + v + w,totalContentTime:this.MX("content"),audio:this.uX(this.Eca,this.F9),video:this.uX(this.sy,this.F9),timedtext:this.uX(this.kza,this.F9)};this.debug.assert(!(!t.audio || !t.video));return t;};c.prototype.ssa=function(){var t,v;this.IK(this.fj.mediaTime.value);t=this.sy.lsa(this.BRb);try{v=this.J4a(t);}catch(w){return (this.log.warn("Failed to calc average bitrate."),null);}this.QH.abrdel=Math.round(v);return this.QH.abrdel;};c.prototype.K4a=function(){var t,v;this.IK(this.fj.mediaTime.value);t=this.sy.lsa(this.YUb);try{v=this.J4a(t);}catch(w){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(v);};c.prototype.I4a=function(){var t,v;t=this;if(!this.e2a){v=this.$s();this.Laa.forEach(function(w){var u,x,y;if(0 === t.FV["abrdel" + w] && v > w * h.lu){u=0;x=0;y=0;t.sy.some(function(z){u+=z.stream.bitrate * (z.endTime - z.startTime);x+=z.endTime - z.startTime;y=z.stream.bitrate;return x > w * h.lu;});u && (t.FV["abrdel" + w]=Math.round((u - y * (x - w * h.lu)) / (w * h.lu)));}});0 !== this.FV["abrdel" + this.Laa[this.Laa.length - 1]] && (this.e2a=!0);(0,p.ph)(this.FV,function(w,u){t.QH[w]=0 === u?t.QH.abrdel:u;});}return this.QH;};c.prototype.bCb=function(t){this.eva+=t;};c.prototype.t$=function(){return this.sy.t$();};c.prototype.kL=function(){var t;t=this;this.fj.Xf.addListener(function(v){t.aO=t.YZa(t.aO,t.Eca,v.newValue);});this.fj.Ge.addListener(function(v){t.cO=t.YZa(t.cO,t.sy,v.newValue);});this.fj.playbackRate.addListener(function(v){t.IK(t.fj.mediaTime.value,v.oldValue);});this.fj.tj.addListener(this.V2b.bind(this));};c.prototype.dya=function(t,v){this.IK(t);this.startTime=v;this.cO=this.aO=void 0;this.bO && (this.bO.startTime=this.startTime);!1;};c.prototype.V2b=function(t){this.kza.vg(this.bO,this.fj.mediaTime.value);this.bO=(t=t.newValue)?{track:t,startTime:this.fj.mediaTime.value,endTime:d.rz}:void 0;};c.prototype.IK=function(t,v){v=void 0 === v?this.fj.playbackRate.value:v;t && this.aO && this.cO && (t=Math.min(t,this.aO.endTime,this.cO.endTime),this.Eca.vg(this.aO,t,v),this.aO.startTime=t,this.sy.vg(this.cO,t,v),this.cO.startTime=t,this.bO && (this.kza.vg(this.bO,t,v),this.bO.startTime=t),this.startTime=t,!1);};c.prototype.YZa=function(t,v,w){t && v.vg(t,Math.min(t.endTime,this.fj.mediaTime.value));if(w && w.stream)return (t=w.gn,v=w.stream,{Ac:w.Ac,track:v.track,stream:v,startTime:Math.max(t.startTime,this.startTime),endTime:t.endTime});};c.prototype.uX=function(t,v){return t.lsa(v,"content").map(function(w){return new g().encode(w);});};c.prototype.J4a=function(t){var v,w,u;v=this;w=0;t.forEach(function(x){if(v.Cb.kh(x.duration) && v.Cb.kh(x.dQ))w+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!w)return 0;u=0;t.forEach(function(x){u+=x.dQ * x.duration / w;});return u;};q=c;q=r.__decorate([(0,k.aa)(),r.__param(1,(0,k.l)(m.mb)),r.__param(2,(0,k.l)(f.Lc)),r.__param(3,(0,k.l)(l.Yg)),r.__param(4,(0,k.l)(n.gz)),r.__param(5,(0,k.l)(a.hja))],q);b.tPa=q;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sPa="PlayTimeTrackerFactorySymbol";},function(r,b,a){var g,k,m;function c(f,d,l,n,h,p,q,t,v,w,u,x,y,z){this.index=f;this.K=d;this.Y=l;this.ib=n;this.qa=h;this.Ij=p;this.Awa=q;this.OHb=v;this.qbb=u;this.Wi=y;this.Ec=new g.cc(null);this.Lh=new g.cc(null);this.Tb=new g.cc(null);this.tj=new g.cc(null);this.fw=new g.cc(void 0);this.xf=new g.cc(null);this.Vh=new g.cc(null);this.Xf=new g.cc(null);this.Ge=new g.cc(null);this.Ac=[new g.cc(null),new g.cc(null)];this.mediaTime=new g.cc(void 0);this.playbackRate=new g.cc(1);this.ar=new g.cc(null);this.UH=this.TH="notcached";this.l8=this.background=!1;t && (this.xf.set(t.xf.value),this.Vh.set(t.Vh.value));this.Am=w(this);this.En=this.qbb.h8b(this.qa,this.Ij);this.Gr=x(this,z);}Object.defineProperty(b,"__esModule",{value:!0});b.IPa=void 0;g=a(69);k=a(5);m=a(23);c.prototype.Qe=function(f){this.En.Xq(f);};c.prototype.mB=function(f){var d;d=this;Object.entries(f).forEach(function(l){var n;n=ma(l);l=n.next().value;n=n.next().value;d.En.Xq(l,(0,k.xc)(n - d.Ij.ja(k.sa)));});};c.prototype.Rba=function(){this.qbb.B8b(this.qa);};Ua.Object.defineProperties(c.prototype,{he:{configurable:!0,enumerable:!0,get:function(){return this.ib.he;}},nfa:{configurable:!0,enumerable:!0,get:function(){return this.ib.nfa;}},om:{configurable:!0,enumerable:!0,get:function(){return this.Tc && this.Tc.om;}},vj:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Tc && this.Tc.vj) && void 0 !== f?f:[];}},Wy:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Tc && this.Tc.Wy) && void 0 !== f?f:[];}},zC:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Tc && this.Tc.zC) && void 0 !== f?f:[];}},Ii:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Tc && this.Tc.Ii) && void 0 !== f?f:[];}},Ug:{configurable:!0,enumerable:!0,get:function(){return this.Tc && this.Tc.Ug;}},jJ:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Tc && this.Tc.jJ) && void 0 !== f?f:!1;}},Vv:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Tc && this.Tc.Vv) && void 0 !== f?f:[];}},Rg:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Tc && this.Tc.Rg) && void 0 !== f?f:[];}},Bx:{configurable:!0,enumerable:!0,get:function(){var f,d,l;return this.Gr.Ya?((0,m.Ka)(void 0 === this.sM || Infinity === this.sM.ja(k.sa),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + this.Gr.Ya + ", contentDuration:" + (null === (f=this.sM) || void 0 === f?void 0:f.display)),(0,k.xc)(this.Gr.MI())):this.sM && 0 < this.sM.ja(k.sa)?this.sM:(0,k.xc)(null !== (l=null === (d=this.fa) || void 0 === d?void 0:d.$a.duration) && void 0 !== l?l:0);},set:function(f){this.sM=f;}},Rab:{configurable:!0,enumerable:!0,get:function(){var f;return this.Gr.Ya?((0,m.Ka)(void 0 === this.z5 || Infinity === this.z5.ja(k.sa),"Unexpected maxSeekPts from ASE. Live should be Infinity. - isLive:" + this.Gr.Ya + ", maxSeekPts:" + (null === (f=this.z5) || void 0 === f?void 0:f.display)),this.Bx):this.z5;},set:function(f){this.z5=f;}},ml:{configurable:!0,enumerable:!0,get:function(){return this.ib.ml || 0;}},S7:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.bW?this.bW:void 0 === this.mediaTime.value?null:this.OHb(this.mediaTime.value,this.Y);}},eg:{configurable:!0,enumerable:!0,get:function(){var f,d;return null === (d=null === (f=this.fa) || void 0 === f?void 0:f.$a.xx) || void 0 === d?void 0:d.zm;}},zK:{configurable:!0,enumerable:!0,get:function(){var f,d;return null === (d=null === (f=this.fa) || void 0 === f?void 0:f.$a.xx) || void 0 === d?void 0:d.zK;}},wd:{configurable:!0,enumerable:!0,get:function(){return this.En.wd;}}});b.IPa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QSa="TrickPlayParserSymbol";},function(r,b,a){var g,k,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.PSa=void 0;r=a(0);k=a(171);a=a(1);c.prototype.parse=function(f){var d,l;if(!f)throw Error("invalid array buffer");d=new Uint8Array(f);l=new k.MS(d);f=this.w4b(l);d=this.x4b(l,d,f);return {header:f,images:d};};c.prototype.w4b=function(f){var d,l,n,h;if(f.vta() < this.i9b())throw Error("array buffer too short");g.YLa.forEach(function(p){if(p != f.bC())throw Error("BIF has invalid magic.");});d=f.QQ();if(d > g.VERSION)throw Error("BIF version in unsupported");l=f.QQ();if(0 == l)throw Error("BIF has no frames.");n=f.QQ();h=f.al(g.IQa);return {version:d,D2b:l,pkb:n,m9b:h};};c.prototype.x4b=function(f,d,l){var p,q;for(var n=[],h=0;h <= l.D2b;h++){p={timestamp:f.QQ(),offset:f.QQ()};void 0 != q && n.push(d.subarray(q.offset,p.offset));q=p;}return n;};c.prototype.i9b=function(){return g.YLa.length + 4 + 4 + 4 + g.IQa;};m=g=c;m.YLa=[137,66,73,70,13,10,26,10];m.VERSION=0;m.IQa=44;m=g=r.__decorate([(0,a.aa)()],m);b.PSa=m;},function(r,b,a){var g,k,m,f;function c(d,l,n){this.config=d;this.j=l;this.jg=n;this.PZ=void 0;this.tca=!1;this.$va=0;this.log=this.jg.hb();}Object.defineProperty(b,"__esModule",{value:!0});b.vRa=void 0;g=a(16);k=a(5);m=a(93);f=a(15);c.prototype.nTb=function(d,l,n,h,p){var q,t,v,w;n=void 0 === n?this.j.Y:n;h=void 0 === h?!1:h;q=l === g.Me.WL;t=this.EFb(q?d:this.PGb(d,n),l,h,n);h=this.j.nb;q?(d=t,t=h.HA(t)):d=h.cW(n,t);l === g.Me.Bw && (this.j.hZa=t);p=this.Wh(d,l,p);v=(q=q || p)?d:t;if(this.j.Ct){w=this.j.ib.di?this.config().Fya:this.config().qF;this.j.u7a(v,w) || l !== g.Me.eD || (v=this.j.Ct.ja(k.sa) - w - 1E3,q?(d=v,t=h.HA(v)):(d=h.cW(n,v),t=v));}return {Jba:v,Pk:t,x5b:d,Wh:p};};c.prototype.EFb=function(d,l,n,h){this.rYb() || n?d=Math.round(d):(n=this.j.nb.KZa(d,h),d=(0,f.Oa)(n)?n:Math.round(d));this.j.ib.di && (d=this.rQb(d));this.config().nBa && 0 !== d && l !== g.Me.Bw && (d+=this.config().nBa);return d;};c.prototype.Wh=function(d,l,n){if(this.config().vMb || l === g.Me.Bw || l === g.Me.n4 || l === g.Me.r2 || !n || d < n.start.ja(k.sa) || d >= n.end.ja(k.sa))return !1;l=this.j.nb;return (null === l || void 0 === l?void 0:l.Ri) && l.Wh(d) || !1;};c.prototype.rYb=function(){return this.j.Gr.Ya?!1:this.j.ib.di?!0:"boolean" === typeof this.j.ib.ZZ?this.j.ib.ZZ:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().ZZ && this.config().V5b:this.config().ZZ;};c.prototype.PGb=function(d,l){var n;l=this.j.dk(l);n=l.Bx;l=Math.max(0,(l.Rab || n).ja(k.sa) - this.config().Kgc);return (0,m.bD)(d,0,l);};c.prototype.rQb=function(d){var l,n,h;l=this.j.nX();if(Object.values(l).find(function(p){var q;q=p.wa;q=d < (null !== q && void 0 !== q?q:Infinity);return p.xa <= d && q;}))return (!1,d);h=d;Object.entries(l).forEach(function(p){var q;p=ma(p);p.next();p=p.next().value.xa;q=p - d;0 < q && (void 0 === n || q < n) && (n=q,h=p);});!1;return h;};Ua.Object.defineProperties(c.prototype,{jaa:{configurable:!0,enumerable:!0,get:function(){return this.tca || ! !this.PZ;}}});b.vRa=c;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u;function c(x,y,z,A,B,C){var D;D=this;this.j=x;this.Rk=y;this.U0=z;this.Ki=A;this.f0=B;this.yo=C;this.e1a={};this.update=function(){var E;if(D.pq.selectionStart == D.pq.selectionEnd){E="";D.wX().forEach(function(G){E=E?E + "\n":"";Object.entries(G).forEach(function(F){var I;I=ma(F);F=I.next().value;I=I.next().value;E+=F + ": " + I + "\n";});});D.pq.style.fontSize=(0,m.bD)((0,d.JL)(D.element.clientHeight / 60),8,18) + "px";D.pq.value=E;}};this.l3b=function(){var E,G;if(D.j.tf){G=D.j.tf.JI();G && (D.Wpa=G - (null !== (E=D.xkb) && void 0 !== E?E:0),D.xkb=G,D.tQ());}};this.tQ=function(){D.U0.Wl(D.update);};this.onkeydown=function(E){E.ctrlKey && E.altKey && E.shiftKey && (E.keyCode == h.WC.Xob || E.keyCode == h.WC.Q) && D.toggle();};this.ceb=[x.mediaTime,x.Ac[q.u.V],x.Ac[q.u.J],x.Xf,x.Ge,x.Vh,x.xf,x.tj,x.state,x.Gs,x.Eb,x.volume,x.muted];this.element=this.Ki.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.pq=this.Ki.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.pq);this.controls=this.Ki.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);y=this.Ki.createElement("button",void 0,"X");y.addEventListener("click",function(){return D.Ux();},!1);this.controls.appendChild(y);k.nf.addListener(k.LE,this.onkeydown);x.addEventListener(n.ma.ih,function(){k.nf.removeListener(k.LE,D.onkeydown);D.Ux();});}Object.defineProperty(b,"__esModule",{value:!0});b.EPa=void 0;g=a(62);k=a(64);m=a(93);f=a(305);d=a(13);l=a(15);n=a(16);h=a(204);p=a(5);q=a(49);r={};t=(r[n.dc.ML]="Not Loaded",r[n.dc.LOADING]="Loading",r[n.dc.Le]="Normal",r[n.dc.CLOSING]="Closing",r[n.dc.CLOSED]="Closed",r);r={};v=(r[n.Zf.Le]="Normal",r[n.Zf.Qd]="Pre-buffering",r[n.Zf.jRa]="Network stalled",r);r={};w=(r[n.qb.pg]="Waiting for decoder",r[n.qb.Wc]="Playing",r[n.qb.Oi]="Paused",r[n.qb.js]="Media ended",r);u=[n.ma.dba];c.prototype.U$b=function(x){this.e1a.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.iY=mb.setInterval(this.l3b,1E3),document.body.appendChild(this.element),this.ceb.forEach(function(y){y.addListener(x.tQ);}),u.forEach(function(y){x.j.addEventListener(y,x.tQ);}),this.visible=!0,this.yo.s0().then(function(y){x.iua=y;x.tQ();}));this.update();};c.prototype.Ux=function(){var x;x=this;this.visible && (clearInterval(this.iY),this.xkb=this.Wpa=void 0,document.body.removeChild(this.element),this.ceb.forEach(function(y){y.removeListener(x.tQ);}),u.forEach(function(y){x.j.removeEventListener(y,x.tQ);}),this.U0.Wl(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Ux():this.show();};c.prototype.wX=function(){var x,y,z,A,B,C,D,E,G,F,I,L,M,K,O,H,J,R,P,T,V,S,W,ia,ra,ua,Aa,Ha,N,Q,U,Z,qa,Fa,Oa,Ra,Pa,Va,bb,Ab,tb,Db,Na,Xa,Wa,fb,kb,vb,Jb,Ob,Sb,Eb;P=[];T=this.Rk();P.push({Version:"6.0038.217.911",Esn:T?T.El:"UNKNOWN",PBCID:this.j.eg,UserAgent:d.DG});try{V={MovieId:this.j.K,PackageId:null === (y=null === (x=this.j.fa) || void 0 === x?void 0:x.$a) || void 0 === y?void 0:y.Wo,Xid:this.j.qa + " (" + g.pp.map(function(Ib){return Ib.qa;}).join(", ") + ")",Position:(0,m.Rj)(this.j.mediaTime.value),Duration:(0,m.Rj)(this.j.Bx.ja(p.sa)),PlayerDuration:(0,m.Rj)(this.j.Ct.ja(p.sa)),Volume:(0,d.mp)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.ib.di || this.j.ib.kaa)V["Segment Position"]=(0,m.Rj)(this.j.GE());null === (z=this.j.Go()) || void 0 === z || z.getLogInfo();V.Segment=this.j.qta();P.push(V);}catch(Ib){}try{P.push({"Player state":t[this.j.state.value],"Buffering state":v[this.j.Gs.value],"Rendering state":w[this.j.Eb.value]});}catch(Ib){}try{S=this.j.dEa() + this.j.Fna();W=this.j.Xf.value;ia=null === W || void 0 === W?void 0:W.stream;ra=this.j.Ge.value;ua=null === ra || void 0 === ra?void 0:ra.stream;Aa=null !== (A=null === ia || void 0 === ia?void 0:ia.bitrate) && void 0 !== A?A:"?";Ha=ua?ua.bitrate + " (" + ua.width + "x" + ua.height + ")":"?";N=null !== (B=null === ia || void 0 === ia?void 0:ia.Vb) && void 0 !== B?B:"?";Q=null !== (C=null === ua || void 0 === ua?void 0:ua.Vb) && void 0 !== C?C:"?";U=null !== (D=null === ua || void 0 === ua?void 0:ua.eb) && void 0 !== D?D:"?";Z=null !== (G=null === (E=this.j.xf.value) || void 0 === E?void 0:E.eb) && void 0 !== G?G:"?";qa=null !== (I=null === (F=this.j.Vh.value) || void 0 === F?void 0:F.bitrate) && void 0 !== I?I:"?";Fa=null !== (M=null === (L=this.j.xf.value) || void 0 === L?void 0:L.bitrate) && void 0 !== M?M:"?";Oa=this.j.Ac[q.u.J].value;Ra=this.j.Ac[q.u.V].value;P.push({"Playing bitrate (a/v)":Aa + " / " + Ha,"Playing/Buffering vmaf":U + "/" + Z,"Buffering bitrate (a/v)":qa + " / " + Fa,"Buffer size in Bytes (a/v)":this.j.Fna() + " / " + this.j.dEa(),"Buffer size in Bytes":"" + S,"Buffer size in Seconds (a/v)":(0,m.Rj)(this.j.tV()) + " / " + (0,m.Rj)(this.j.Z0()),"Downloadables (a/v)":N + " / " + Q,"Current CDN (a/v)":(Ra?Ra.name + ", Id: " + Ra.id:"?") + " / " + (Oa?Oa.name + ", Id: " + Oa.id:"?")});}catch(Ib){}try{Pa=this.j.Xf.value;Va=this.j.Ge.value;if(Pa && Pa.stream && Va && Va.stream){bb=Pa.stream;Ab=bb.track;tb=Va.stream;Db=this.j.tj.value;Na=this.f0.Q7(this.j.Lh.value?this.j.Lh.value.streams:[]);Xa=this.f0.K7(Ab.streams);Wa=tb.af;fb=(/hevc/).test(Wa)?"hevc":(/vp9/).test(Wa)?"vp9":(/h264hpl/).test(Wa)?"avchigh":(/av1/).test(Wa)?"av1":"avc";(/hdr/).test(Wa) && (fb+=", hdr");(/dv/).test(Wa) && (fb+=", dv");(/prk/).test(Wa) && (fb+=", prk");kb=bb.af;vb=(/xheaac/).test(kb)?"xhe-aac":(/heaac/).test(kb)?"he-aac":(/ddplus/).test(kb)?"ddplus":"unknown";(/atmos/).test(kb) && (vb+=", atmos");P.push({"Audio Track":Ab.Ef + ", Id: " + Ab.trackId + ", Channels: " + Ab.channels + ", Codec: " + Xa + " (" + vb + ")","Video Track":"Codec: " + Na + " (" + fb + ")","Timed Text Track":Db?Db.Ef + ", Profile: " + Db.profile + ", Id: " + Db.trackId:"none","Audio Tags":null === (K=Pa.stream) || void 0 === K?void 0:K.Pj.toString(),"Video Tags":null === (O=Va.stream) || void 0 === O?void 0:O.Pj.toString()});}}catch(Ib){}try{Jb=this.j.tf;Ob=this.j.xf.value?this.j.xf.value.framerate:0;Sb=a(580).dab;P.push({Framerate:Ob.toFixed(3),"Current Dropped Frames":(0,l.Oa)(this.Wpa)?this.Wpa:"","Total Frames":Jb.aB(),"Total Dropped Frames":Jb.JI(),"Total Corrupted Frames":Jb.qX(),"Main Thread stall/sec":Sb?Sb.DSb().join(" "):"DISABLED",KeySystem:null === (H=this.j.bf) || void 0 === H?void 0:H.yX(),KeyStatus:null === (R=null === (J=this.j.bf) || void 0 === J?void 0:J.O5a) || void 0 === R?void 0:R.call(J),VideoDiag:(0,f.Nwa)(this.j.d$()),"HDR support":this.iua?this.iua.result + " (" + this.iua.reason + ")":"unknown"});}catch(Ib){}try{P.push({Throughput:this.j.Va + " kbps"});}catch(Ib){}Eb=void 0;try{Object.entries(this.e1a).forEach(function(Ib){var Rb;Rb=ma(Ib);Ib=Rb.next().value;Rb=Rb.next().value;Eb=Eb || ({});Eb[Ib]=JSON.stringify(Rb);});Eb && P.push(Eb);}catch(Ib){}return P;};b.EPa=c;},function(r,b,a){var k,m,f,d;function c(l,n,h,p){this.qa=l;this.e9b=n;this.ya=h;this.Qg=p;this.wd={};}function g(l,n){this.jg=l;this.Qg=n;this.Hc={};this.ya=l.hb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.gub=b.GPa=void 0;r=a(0);k=a(1);m=a(7);f=a(18);d=a(5);g.prototype.h8b=function(l,n){this.Hc[l] && this.ya.warn("registerPlayback: xid " + l + " already registered, overriding");n=(n?n:this.Qg.Rb()).ja(d.sa);this.ya.trace("registerPlayback: xid " + l + " at " + n);this.Hc[l]=new c(l,n,this.ya,this.Qg);return this.Hc[l];};g.prototype.HTb=function(l){this.Hc[l] || this.ya.warn("getPlaybackMilestones: xid " + l + " is not registered");return this.Hc[l];};g.prototype.B8b=function(l){this.ya.trace("removePlayback: xid " + l);delete this.Hc[l];};a=g;a=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(m.mb)),r.__param(1,(0,k.l)(f.cd))],a);b.GPa=a;c.prototype.Xq=function(l,n){n=n?n.ja(d.sa):this.Qg.Rb().ja(d.sa) - this.e9b;this.ya.trace("addMilestone: xid " + this.qa + " " + l + " at " + n);this.wd[l]=n;};b.gub=c;},function(r,b,a){var g,k,m,f;function c(d){this.Fa=d;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.WQa=void 0;r=a(0);g=a(16);k=a(1);m=a(18);f=a(5);c.prototype.cl=function(d){d.cause !== g.Me.Bw && (this.trace.unshift({time:this.Fa.Rb(),event:d}),5 < this.trace.length && this.trace.pop());};c.prototype.T6a=function(){var d,l;d=this;if(0 === this.trace.length)return {};l=this.trace[0];return {timeSinceLastRepositionMs:this.kkb(l.time),lastRepositionCause:this.X4a(l.event.cause),repositionTrace:this.trace.map(function(n){return {timeSince:d.kkb(n.time),cause:d.X4a(n.event.cause),newMediaTime:n.event.Jba,oldMediaTime:n.event.kya,contentPts:n.event.Pk,skip:n.event.skip};})};};c.prototype.kkb=function(d){return this.Fa.Rb().Da(d).ja(f.sa);};c.prototype.X4a=function(d){switch(d){case g.Me.Bw:return "initial";case g.Me.eD:return "seek";case g.Me.WL:return "segment_changed";case g.Me.n4:return "track_changed";case g.Me.r2:return "force_rebuffer";}};a=c;a=r.__decorate([(0,k.aa)(),r.__param(0,(0,k.l)(m.cd))],a);b.WQa=a;},function(r,b,a){var g,k,m;function c(f,d,l){this.fj=f;this.Cb=l;this.R=[];this.log=d.hb("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.MPa=void 0;g=a(0);r=a(1);k=a(27);m=a(7);a(5);c.prototype.some=function(f){return this.R.some(f);};c.prototype.t$=function(){return ! !(this.R[0] && this.R[0].stream && this.Cb.kh(this.R[0].stream.eb));};c.prototype.$s=function(f){return this.R.filter(function(d){return d.track.uF === f;}).reduce(function(d,l){return d + (l.endTime - l.startTime) / l.rate;},0);};c.prototype.MX=function(f){return this.R.filter(function(d){return d.track.uF === f;}).reduce(function(d,l){return d + l.endTime - l.startTime;},0);};c.prototype.lsa=function(f,d){var l,n;l=this;n={};return this.R.filter(function(h){return !d || h.track.uF === d;}).reduce(function(h,p){var q,t,v;q=f.bind(l,p)();t=q.key;q=g.__rest(q,["key"]);p=p.endTime - p.startTime;v=n[t];v?v.duration+=p:(v=q,v.duration=p,h.push(v),n[t]=v);return h;},[]);};c.prototype.vg=function(f,d,l){var n;l=void 0 === l?this.fj.playbackRate.value:l;n=this.R;f && d && d >= f.startTime && (f={Ac:f.Ac,track:f.track,stream:f.stream,startTime:f.startTime,endTime:d,rate:l},(d=n[n.length - 1]) && d.track === f.track && d.stream === f.stream && d.Ac === f.Ac && d.endTime === f.startTime && d.rate === f.rate?d.endTime=f.endTime:n.push(f),!1);};a=c;a=g.__decorate([g.__param(1,(0,r.l)(m.mb)),g.__param(2,(0,r.l)(k.Yg))],a);b.MPa=a;},function(r,b,a){var g,k,m,f,d;function c(l,n,h,p,q,t,v,w){var u;u=this;this.nb=l;this.j=n;this.log=h;this.config=p;this.k$b=q;this.edc=t;this.$m=new g.cc(!1);this.Lb=new d.yk();l=l.Go();this.lXa=v({qa:n.qa.toString()});v=null === l || void 0 === l?void 0:l.vF.events;null === v || void 0 === v?void 0:v.addListener("adPresenting",function(){!1;u.w3a();u.Qbc();});null === v || void 0 === v?void 0:v.addListener("adBreakPresenting",function(){!1;w.iQ(n);u.$m.set(!0);});null === v || void 0 === v?void 0:v.addListener("adBreakEnded",function(){!1;u.$m.set(!1);});null === v || void 0 === v?void 0:v.addListener("adPlaygraphUpdated",function(){!1;});null === v || void 0 === v?void 0:v.addListener("segmentDropped",function(x){var y;!1;y=u.j.dk(x.segmentId);u.k$b.S6b(x,y);});this.Kr=new m.GT();this.j.addEventListener("playbackStart",function(){u.Kr.resolve();});v=null === l || void 0 === l?void 0:l.HWb.events;null === v || void 0 === v?void 0:v.addListener("adEvent",function(x){u.Kr.promise.then(function(){var y,z;z=null === (y=n.fa) || void 0 === y?void 0:y.$a.Ug;u.lXa.v$b(x,z);});});null === v || void 0 === v?void 0:v.addListener("adBreakEvent",function(x){x.event === k.CEa.u6 && u.Lb.Uc(f.B1.u6);u.Kr.promise.then(function(){u.lXa.u$b(x,n);});});}Object.defineProperty(b,"__esModule",{value:!0});b.LEa=void 0;g=a(69);k=a(307);m=a(341);f=a(16);d=a(70);c.prototype.addEventListener=function(l,n,h){this.Lb.addListener(l,n,h);};c.prototype.removeEventListener=function(l,n){this.Lb.removeListener(l,n);};c.prototype.aP=function(){var l,n;return null === (n=null === (l=this.nb) || void 0 === l?void 0:l.Go()) || void 0 === n?void 0:n.vy.Or;};c.prototype.XSb=function(){var l,n,h,p;h=this.aP();if(h){p={position:null === h || void 0 === h?void 0:h.position.offset.Z,adDuration:null === (l=null === h || void 0 === h?void 0:h.Cs) || void 0 === l?void 0:l.xh.endTime.Z,adIndex:null === (n=h.Cs) || void 0 === n?void 0:n.index,adBreakIndex:h.index,adBreakDuration:null === h || void 0 === h?void 0:h.Wq.duration.Z};(l=h.nca) && (p.padding={type:l.oca,duration:l.mca.Z});return p;}};c.prototype.ksa=function(){var l,n,h,p,q;p=this.j.na.K.toString();q=null === (n=null === (l=this.nb) || void 0 === l?void 0:l.Go()) || void 0 === n?void 0:n.vF.ksa({smb:[p]});return null !== (h=null === q || void 0 === q?void 0:q.result[p]) && void 0 !== h?h:[];};c.prototype.w3a=function(){};c.prototype.Qbc=function(){var l,n,h;l=this;(null === (h=null === (n=this.aP()) || void 0 === n?void 0:n.Cs) || void 0 === h?0:h.xh.yr) && this.edc.forEach(function(p){return p.start(l.j);});};b.LEa=c;},function(r,b,a){var g,k,m,f,d,l,n;function c(h,p,q,t,v,w,u){this.context=h;this.log=p;this.Ba=q;this.config=t;this.Fa=v;this.NBb=w;this.GBb=u;this.FBa={};}Object.defineProperty(b,"__esModule",{value:!0});b.HEa=void 0;r=a(0);g=a(1);k=a(18);m=a(29);f=a(5);d=a(12);l=a(308);n=a(307);c.prototype.u$b=function(h,p){var q,t,v;q=this;t=h.event;if(Object.values(n.CEa).includes(t)){v=p.rB?p.rB.ja(f.sa):-1;h={href:p.fa.Aj.XO("events").href,qa:this.context.qa.toString(),event:t,ox:h.ox,jA:h.jA,position:h.ci.offset.Z,On:v,Bt:{},AA:this.Ba.xK.ja(f.sa),appId:this.config().appId || this.Fa.id,sessionId:this.config().sessionId || this.Fa.id};this.GBb.Sf(this.log,h).catch(function(w){q.log.error("Failed to send event",{eventKey:t,xid:p.qa,error:w});});}else this.log.debug("Ignoring unsupported event " + h.event);};c.prototype.v$b=function(h,p){var q,t,v;q=this;t=h.event;if(Object.values(n.Anb).includes(t)){v=h.fa.links.events.href;this.FBa[h.On] || (this.FBa[h.On]=this.Ba.ICb((0,f.xc)(h.On)).ja(f.sa));h={href:v,qa:this.context.qa.toString(),event:t,ox:h.ox,jA:h.jA,position:h.ci.offset.Z,On:this.FBa[h.On],Bt:h.Bt,AA:this.Ba.xK.ja(f.sa),appId:this.config().appId || this.Fa.id,sessionId:this.config().sessionId || this.Fa.id,z_b:p};this.NBb.Sf(this.log,h).catch(function(w){q.log.error("Failed to send event",{eventKey:t,xid:q.context.qa,error:w});});}else this.log.debug("Ignoring unsupported event " + h.event);};a=c;a=r.__decorate([r.__param(2,(0,g.l)(m.Nh)),r.__param(3,(0,g.l)(d.Lc)),r.__param(4,(0,g.l)(k.cd)),r.__param(5,(0,g.l)(l.Tfa)),r.__param(6,(0,g.l)(l.Sfa))],a);b.HEa=a;},function(r,b,a){var q;function c(t){this.xh=t;}function g(t){this.padding=t;}function k(t){this.Jp=t;}function m(t){this.ci=t;}function f(t){this.Qca=t;}function d(t){this.Aza=t;}function l(t){this.zza=t;}function n(t){this.mN=t;}function h(t){this.Or=t;}function p(t){var v;v=this;this.ug=t;this.$m=new q.cc(!1);this.ug.$m.addListener(function(w){v.$m.set(w.newValue);});}Object.defineProperty(b,"__esModule",{value:!0});b.znb=b.bub=b.ynb=b.Rqb=b.kub=b.lub=b.jub=b.xnb=b.iub=b.JEa=void 0;q=a(69);p.prototype.addEventListener=function(t,v,w){this.ug.addEventListener(t,v,w);};p.prototype.removeEventListener=function(t,v){this.ug.removeEventListener(t,v);};p.prototype.getPresentingAdBreak=function(){var t;t=this.ug.aP();if(t)return new h(t);};p.prototype.getAds=function(){return this.ug.ksa();};p.prototype.getLogInfo=function(){return this.ug.XSb();};b.JEa=p;Ua.Object.defineProperties(h.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new n(this.Or.Wq);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var t;t=this.Or.Cs;if(t)return new l(t);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var t;t=this.Or.nca;if(t)return new d(t);}},progress:{configurable:!0,enumerable:!0,get:function(){return new f(this.Or.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new m(this.Or.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.Or.index;}}});b.iub=h;Ua.Object.defineProperties(n.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new k(this.mN.Jp);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new g(this.mN.rea);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new g(this.mN.OW);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.mN.IVb;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.mN.duration.Z};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.mN.mca.Z};}}});b.xnb=n;Ua.Object.defineProperties(l.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new c(this.zza.xh);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.zza.mXa;}},index:{configurable:!0,enumerable:!0,get:function(){return this.zza.index;}}});b.jub=l;Ua.Object.defineProperties(d.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.Aza.oca;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.Aza.r4b;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Aza.mca.Z};}}});b.lub=d;Ua.Object.defineProperties(f.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.Qca.IBb;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Qca.HBb.Z};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.Qca.KBb;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Qca.JBb.Z};}}});b.kub=f;Ua.Object.defineProperties(m.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.ci.Y;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.ci.offset.Z};}}});b.Rqb=m;Ua.Object.defineProperties(k.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.Jp.Ui.map(function(t){return new c(t);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Jp.duration.Z};}}});b.ynb=k;Ua.Object.defineProperties(g.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.Z};}}});b.bub=g;Ua.Object.defineProperties(c.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.xh.jB;}},id:{configurable:!0,enumerable:!0,get:function(){return this.xh.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.xh.startTime.Z};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.xh.endTime.Z};}},is3pVerificationEnabled:{configurable:!0,enumerable:!0,get:function(){return this.xh.yr;}},thirdPartyVerificationToken:{configurable:!0,enumerable:!0,get:function(){return this.xh.vC;}}});b.znb=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CRa="SegmentDroppedLoggerSymbol";},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.BRa=void 0;r=a(0);a=a(1);c.prototype.S6b=function(k,m){m.PP.rb.pBa({xid:m.qa,auxPlaybackcontextid:m.Ug,auxMid:k.auxMid,auxMidType:k.auxMidType,reason:k.reason,adBreakLocationMs:k.adBreakLocationMs},"error" === k.sev);};g=c;g=r.__decorate([(0,a.aa)()],g);b.BRa=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TEa="AdFocusMonitorSymbol";},function(r,b,a){var g,k;function c(m){var f;f=this;this.XH=function(){var d,l,n;l=!document.hidden;n=null === (d=f.j.Go()) || void 0 === d?void 0:d.$m.value;d=f.j.paused.value;l || !n || d || (f.ya.debug("Pausing playback because window is not visible"),f.j.paused.set(!0,{Pba:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",f.XH);f.j.Go().$m.removeListener(f.XH);f.j.paused.removeListener(f.XH);};this.ya=m.hb("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.SEa=void 0;r=a(0);g=a(1);a=a(7);c.prototype.iQ=function(m){this.A1b || (this.ya.debug("Starting to monitor playback for visibility"),this.j=m,this.A1b=!0,document.addEventListener("visibilitychange",this.XH),this.j.Go().$m.addListener(this.XH),this.j.paused.addListener(this.XH),this.j.addEventListener("closing",this.unsubscribe),this.XH());};k=c;k=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.mb))],k);b.SEa=k;},function(r,b,a){var g,k,m,f;function c(d,l,n,h){var p;p=this;this.config=d;this.Cc=l;this.G=n;this.j=h;this.eVa=!1;this.kU=this.fH=Infinity;null === h || void 0 === h?void 0:h.addEventListener(m.ma.Bm,function(){var q,t,v,w,u,x;if(p.Ya){(0,k.Ka)(p.j && p.j.na === p.G,"Playback is required for live.");q=p.j;v=p.G.fa.$a.xB;w=v.JOb;v=v.HOb;w && (p.fH=p.m0a(w));v?p.kU=p.m0a(v):t=p.Cc.M_((0,g.xc)(1E3),function(){q.fireEvent(m.ma.qJ);});w || (u=p.Cc.Lj((0,g.xc)(6E4),function(){p.fH=p.MI();q.fireEvent(m.ma.qJ);}));v || (x=p.Cc.Lj((0,g.xc)(12E4),function(){p.kU=p.MI();q.fireEvent(m.ma.qJ);}));q.addEventListener(m.ma.ih,function(){null === t || void 0 === t?void 0:t.cancel();null === u || void 0 === u?void 0:u.cancel();null === x || void 0 === x?void 0:x.cancel();});p.G.mediaTime.addListener(function(y){var z;p.eVa=(null !== (z=y.newValue) && void 0 !== z?z:0) >= p.MI() - p.config().TZb;});q.fireEvent(m.ma.qJ);}});}Object.defineProperty(b,"__esModule",{value:!0});b.zLa=void 0;g=a(5);k=a(23);a(40);m=a(16);f=a(231);c.prototype.D4a=function(d,l){(0,k.Ka)(this.Ya,"Unexpected call to getAdjustedBookmark(). isLive:" + this.Ya);(0,k.Ka)(this.j && this.j.na === this.G,"Playback is required for live.");return l || !this.sva() && 0 === d?36E6:d;};c.prototype.E4a=function(d){(0,k.Ka)(this.Ya,"Unexpected call to getAdjustedSeekTime(). isLive:" + this.Ya);(0,k.Ka)(this.j && this.j.na === this.G,"Playback is required for live.");return this.j9a()?d + this.fH:this.MI();};c.prototype.jRb=function(){var d;(0,k.Ka)(this.Ya,"Unexpected call to getAdjustedCurrentTime(). isLive:" + this.Ya);(0,k.Ka)(this.j && this.j.na === this.G,"Playback is required for live.");d=this.G.mediaTime.value;if(d)return this.Ysa(d,!1) !== f.eT.Eja?d - this.fH:0;};c.prototype.iRb=function(){var d,l;(0,k.Ka)(this.Ya,"Unexpected call to getAdjustedContentDuration(). isLive:" + this.Ya);(0,k.Ka)(this.j && this.j.na === this.G,"Playback is required for live.");l=this.T8a()?null !== (d=this.G.mediaTime.value) && void 0 !== d?d:0:this.sva()?this.kU:this.MI();return this.j9a()?l - this.fH:0;};c.prototype.MI=function(){var d,l,n,h,p;(0,k.Ka)(this.Ya,"Unexpected call to getLiveEdge(). isLive:" + this.Ya);(0,k.Ka)(this.j && this.j.na === this.G,"Playback is required for live.");return null !== (p=null !== (n=null === (l=null === (d=this.j.nb) || void 0 === d?void 0:d.DE(this.G.Y)) || void 0 === l?void 0:l.Z) && void 0 !== n?n:null === (h=this.G.fa) || void 0 === h?void 0:h.$a.duration) && void 0 !== p?p:0;};c.prototype.ihb=function(){(0,k.Ka)(this.Ya,"Unexpected call to seekToLiveEdge(). isLive:" + this.Ya);(0,k.Ka)(this.j && this.j.na === this.G,"Playback is required for live.");this.j.tf?this.j.tf.seek(this.MI(),m.Me.eD,this.G.Y):this.G.cr=this.D4a(0,!0);};c.prototype.T8a=function(){(0,k.Ka)(this.Ya,"Unexpected call to isAtLiveEdge(). isLive:" + this.Ya);(0,k.Ka)(this.j && this.j.na === this.G,"Playback is required for live.");return this.eVa;};c.prototype.Ysa=function(d,l){l=void 0 === l?!0:l;(0,k.Ka)(this.Ya,"Unexpected call to getLiveEventState(). isLive:" + this.Ya);(0,k.Ka)(this.j && this.j.na === this.G,"Playback is required for live.");l && (d=this.E4a(d));return d <= this.fH?f.eT.Eja:d <= this.kU?f.eT.Yrb:f.eT.zqb;};c.prototype.sva=function(){(0,k.Ka)(this.Ya,"Unexpected call to isLiveEventEnded(). isLive:" + this.Ya);(0,k.Ka)(this.j && this.j.na === this.G,"Playback is required for live.");return Infinity !== this.kU;};c.prototype.j9a=function(){(0,k.Ka)(this.Ya,"Unexpected call to isLiveEventStarted(). isLive:" + this.Ya);(0,k.Ka)(this.j && this.j.na === this.G,"Playback is required for live.");return Infinity !== this.fH;};c.prototype.m0a=function(d){var l;(0,k.Ka)(this.Ya,"Unexpected call to convertEventTimeToPts(). isLive:" + this.Ya);(0,k.Ka)(this.j && this.j.na === this.G,"Playback is required for live.");(0,k.Ka)(this.G.fa,"Live event time cannot be handled prior to manifest availability.");l=this.G.fa;l=l.$a.xB.khb[l.$a.xB.m2a[l.$a.Xy[0].streams[0].zo]];return new Date(d).getTime() - new Date(l.SYa).getTime();};Ua.Object.defineProperties(c.prototype,{Ya:{configurable:!0,enumerable:!0,get:function(){var d,l,n;d=this.G;l=d.fa;d=d.he;if(l){n=l.$a;l=n.Bea;n=n.xB;(0,k.Ka)("LIVE" === l && ! !n || "VOD" === l && !n,"streamingType and liveMetadata mismatch - streamingType:" + l + ", liveMetadata:" + n);l="LIVE" === l && ! !n;(0,k.Ka)("live" === d && l || "live" !== d && !l,"uiLabel and isLiveManifest mismatch - uiLabel:" + d + ", isLiveManifest:" + l);return l;}return "live" === d;}}});b.zLa=c;},function(r,b,a){var g,k,m,f,d;function c(l,n){var h;h=d.yq.call(this) || this;h.Fa=l;h.paused=!1;h.$D=function(){var p,q,t;t=h.ug.aP();h.ug.$m.value && null !== (p=null === t || void 0 === t?void 0:t.Cs) && void 0 !== p && p.xh.yr?(p=h.Nr,h.Nr=null === (q=t.Cs) || void 0 === q?void 0:q.xh.id,p !== h.Nr && (h.ya.debug("Starting to track ad pause state to collect 3P impression logging data for ad ",h.Nr),h.nN=void 0,h.paused=!1,h.MZ=void 0,h.trace=[]),q=h.paused,h.paused=h.j.paused.value,q !== h.paused && (h.paused?(h.MZ=h.Fa.Rb(),h.nN=t.position.offset.Z,h.ya.debug("Ad " + h.Nr + " paused at " + h.nN + " ms into the ad")):void 0 !== h.MZ && void 0 !== h.nN && (t=h.Fa.Rb().Da(h.MZ).ja(f.sa),h.ya.debug("Ad " + h.Nr + " resumed. Pause duration: " + t),h.trace.push([h.nN,t]),h.nN=void 0,h.MZ=void 0))):h.unsubscribe();};h.ya=n.hb("AdPauseStateTracker");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.MEa=void 0;r=a(0);g=a(1);k=a(18);m=a(7);f=a(5);d=a(309);ja(c,d.yq);c.prototype.start=function(l){this.FP || (d.yq.prototype.start.call(this,l),this.j.paused.addListener(this.$D));this.$D();};c.prototype.unsubscribe=function(){d.yq.prototype.unsubscribe.call(this);this.j.paused.removeListener(this.$D);this.nN=void 0;this.paused=!1;this.MZ=void 0;};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.cd)),r.__param(1,(0,g.l)(m.mb))],a);b.MEa=a;},function(r,b,a){var g,k,m,f,d;function c(l,n){var h;h=d.yq.call(this) || this;h.jg=l;h.aqa=n;h.$D=function(){var p,q,t;t=h.ug.aP();h.ug.$m.value && null !== (p=null === t || void 0 === t?void 0:t.Cs) && void 0 !== p && p.xh.yr?(p=h.Nr,h.Nr=null === (q=t.Cs) || void 0 === q?void 0:q.xh.id,p !== h.Nr && (h.ya.debug("Starting to track ad volume changes to collect 3P impression logging data for ad ",h.Nr),h.trace=[]),(q=h.trace[h.trace.length - 1]) && q[0] === t.position.offset.Z && h.trace.pop(),h.trace.push([t.position.offset.Z,h.j.UKb])):h.unsubscribe();};h.ya=l.hb("AdVolumeTracker");h.k3a=n((0,f.Hh)(1));return h;}Object.defineProperty(b,"__esModule",{value:!0});b.UEa=void 0;r=a(0);g=a(1);k=a(176);m=a(7);f=a(5);d=a(309);ja(c,d.yq);c.prototype.start=function(l){this.FP || (d.yq.prototype.start.call(this,l),this.j.volume.addListener(this.eO),this.j.muted.addListener(this.eO));};c.prototype.unsubscribe=function(){d.yq.prototype.unsubscribe.call(this);this.j.volume.removeListener(this.eO);this.j.muted.removeListener(this.eO);};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.mb)),r.__param(1,(0,g.l)(k.h2))],a);b.UEa=a;},function(r,b,a){var g,k,m,f,d;function c(l,n){var h;h=d.yq.call(this) || this;h.aqa=n;h.$D=function(){var p,q,t;t=h.ug.aP();h.ug.$m.value && null !== (p=null === t || void 0 === t?void 0:t.Cs) && void 0 !== p && p.xh.yr?(p=h.Nr,h.Nr=null === (q=t.Cs) || void 0 === q?void 0:q.xh.id,p !== h.Nr && (h.ya.debug("Starting to track window size changes to collect 3P impression logging data for ad ",h.Nr),h.trace=[]),(q=h.trace[h.trace.length - 1]) && q[0] === t.position.offset.Z && h.trace.pop(),h.trace.push([t.position.offset.Z,mb.innerHeight,mb.innerWidth])):h.unsubscribe();};h.ya=l.hb("AdResizeTracker");h.k3a=n((0,f.Hh)(1));return h;}Object.defineProperty(b,"__esModule",{value:!0});b.QEa=void 0;r=a(0);g=a(1);k=a(176);m=a(7);f=a(5);d=a(309);ja(c,d.yq);c.prototype.start=function(l){this.FP || (d.yq.prototype.start.call(this,l),mb.addEventListener("resize",this.eO));};c.prototype.unsubscribe=function(){d.yq.prototype.unsubscribe.call(this);mb.removeEventListener("resize",this.eO);};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.mb)),r.__param(1,(0,g.l)(k.h2))],a);b.QEa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.C1="AdTrackerBaseSymbol";},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y;function c(z,A,B){var C;C=this;this.ub=z;this.j=A;this.debug=B;this.uU=this.Ri=this.qD=!1;this.sD=this.SU=void 0;this.wg=function(){var D,E,G,F,I,L;C.debug.assert(C.Ma,"has access to asePlaygraph");C.debug.assert(C.kd,"has access to internalLogger");C.debug.assert(C.Gv,"has access to mediaBufferGetLogFields");I=C.Np;L=null === (E=null === (D=C.yc.get()) || void 0 === D?void 0:D.Va) || void 0 === E?void 0:E.va;D={type:"logdata",target:"startplay",fields:{hasasereport:C.j.tO,hashindsight:!1,buffCompleteReason:I.reason,actualbw:L,initSelReason:null !== (G=I.initSelReason) && void 0 !== G?G:"unknown",bcVBufferLevelMs:I.vBufferLevelMs,bcABufferLevelMs:I.aBufferLevelMs}};(0,l.W6)({lra:D,ik:C.ik,loadTime:C.loadTime});C.Ma.vDa("startplay",m.yf.Tt);null !== (F=C.Kb) && void 0 !== F && F.Uf?(C.kd.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:I},C.Gv()),C.j.Np=I,C.j.Gs.set(n.Zf.Le),C.gQb || (C.gQb=!0,C.j.Qe("pb")),C.df.value !== g.Ia.gD && C.df.value !== g.Ia.bm && C.play()):C.kd.error("Shim received buffering complete but player has no position (player " + (C.Kb?"":"un") + "defined, state " + C.j.state + ")");};this.GYa=function(){var D,E;C.debug.assert(C.kd,"has access to internalLogger");!1;C.SU=void 0;C.j.paused.value && C.OJ && (C.OJ=!1,C.j.paused.set(!1,{Pba:!0}));null === (D=C.j.tf) || void 0 === D?void 0:D.vHb();null === (E=C.Mcb) || void 0 === E?void 0:E.call(C);C.Mcb=void 0;};this.events=new y();this.th=new u.ika(this.Dx.bind(this));}Object.defineProperty(b,"__esModule",{value:!0});b.lFa=void 0;g=a(75);k=a(14);m=a(299);f=a(58);d=a(3);l=a(1369);n=a(16);h=a(19);p=a(15);q=a(5);t=a(1370);v=a(93);w=a(69);u=a(546);a(137);x=a(49);y=a(117).EventEmitter;c.prototype.rd=function(){var z;!1;this.uU=!1;this.yc.Y_(null);this.debug.assert(this.lj,"has access to streamingEngine");this.Ma && this.lj.eC(this.Ma);this.Kb && this.lj.Zfb(this.Kb);this.lj.agb(this.th.Xs(this.ub.na.P));this.th.clear();null === (z=this.iq) || void 0 === z?void 0:z.Qs();};c.prototype.Fac=function(z){var A,B,C,D,E,G,F,I,L,M,K,O,H;A=z.config;B=z.Yq;C=z.kd;D=z.Ke;E=z.Gv;G=z.ck;F=z.W_;z=z.tK;this.kd=C;this.log=C.N7("AseIntegrationImpl");!1;this.Gv=E;this.W_=F;this.tK=z;E=this.j.na;this.debug.assert(E,"has a playback segment");this.debug.assert(A,"has access to config");this.debug.assert(D,"has access to utils");this.debug.assert(G,"has access to getCategoryLog");this.debug.assert(B,"has access to aseGlobals");this.debug.assert(B.lj,"has access to streamingEngine");this.debug.assert(E.Tc,"has access to parsedManifest");this.debug.assert(E.fa,"has access to manifest");this.config=A;this.lj=B.lj;B.Be.set(a(178)(A),!0,G("ASE"));B.Be.set({maxNumberTitlesScheduled:null !== (L=null === (I=A.S5b) || void 0 === I?void 0:I.maxNumberTitlesScheduled) && void 0 !== L?L:1},!0,C);A.YHb && !E.Gr.Ya && 3E5 > E.fa.$a.duration?B.Be.HZ({expandDownloadTime:!1},!0,C):B.Be.HZ({expandDownloadTime:B.Be.Rdb().expandDownloadTime},!0,C);A=E.background || A.Q5b && "postplay" === E.he?"historical":B.Be.Rdb().initBitrateSelectorAlgorithm;B.Be.HZ({initBitrateSelectorAlgorithm:A},!0,C);A=null === (H=null === (O=null === (K=null === (M=E.Lh) || void 0 === M?void 0:M.value) || void 0 === K?void 0:K.streams) || void 0 === O?void 0:O[0]) || void 0 === H?void 0:H.af;B.Be.HZ((0,h.X_a)(! !E.ib.di,! !E.ib.kaa,A),!0,C);C=D.BJ({},(0,h.zpa)(E.Gr.Ya?"live":E.he));this.Be=B.Be.vi(C);g.platform.events.emit("networkchange",E.Tc.K$b);this.qD=!0;};c.prototype.S$=function(z){var A,B;this.debug.assert(this.lj,"has access to streamingEngine");A=this.j.dk(z.Y);this.debug.assert(A.Tc,"has access to playback parsedManifest");!1;B=z.flags;this.yc.reset();this.Wf=new Set([x.u.V,x.u.J]);(B.d1 || B.Ina) && this.Wf.delete(B.d1?x.u.V:x.u.J);this.SR=[A.Tc.uLb,A.Tc.BLb];this.Dx(A.K,void 0,z.$0a);this.lXb(z);this.YN();};c.prototype.kw=function(z){var A;!1;null === (A=this.Ma) || void 0 === A?void 0:A.kw(z);};c.prototype.EEb=function(z){var A,B,C,D;A=this;B=z.loadTime;C=z.ik;this.debug.assert(this.Ma,"has access to asePlaygraph");this.debug.assert(this.Kb,"has access to asePlayer");!1;this.ik=C;this.loadTime=B;z=this.Ma.events;D=this.Kb.events;z.addListener("error",function(E){!1;"NFErr_MC_StreamingFailure" === E.error && (A.kd.trace("receiving an unrecoverable streaming error: " + JSON.stringify(E)),A.kd.trace("StreamingFailure, buffer status:" + JSON.stringify(A.Gv())),(0,f.yg)(function(){A.j.Md(d.$.enb,{za:E.nativeCode,Qb:E.errormsg,Dl:E.httpCode,Eba:E.networkErrorCode});}));});z.addListener("logdata",function(E){var G;!1;"string" === typeof E.target && "object" === typeof E.fields && (E.fields.aseApiVersion=null === (G=A.Ma) || void 0 === G?void 0:G.K6,(0,l.W6)({lra:E,ik:C,loadTime:B}));});D.addListener("logdata",function(E){!1;"string" === typeof E.target && "object" === typeof E.fields && (0,l.W6)({lra:E,ik:C,loadTime:B});});z.addListener("bufferingStarted",function(){!1;A.j.Gs.set(n.Zf.Qd);});z.addListener("bufferingComplete",function(E){!1;A.Np=E;});this.j.paused.addListener(function(E){var G;A.debug.assert(A.kd,"has access to internalLogger");null !== (G=E.Qk) && void 0 !== G && G.Pba || !A.qD || (E.newValue && A.df.value === g.Ia.Wc?(A.df.set(g.Ia.Oi),A.Ej.emit("paused",{type:"paused",pts:A.Ej.Qc})):E.newValue || A.df.value !== g.Ia.Oi || (A.df.set(g.Ia.Wc),A.Ej.emit("playing",{type:"playing",pts:A.Ej.Qc})));E.newValue || (A.OJ=!1);A.kd.info("Paused changed",{From:E.oldValue,To:E.newValue,MediaTime:(0,v.Rj)(A.j.mediaTime.value)});});this.j.Ec.addListener(function(E){var G,F,I,L;if(A.qD)if((A.debug.assert(A.kd,"has access to internalLogger"),E.Qk && E.Qk.WXa))A.kd.trace("Not processing already applied track",null === (G=E.newValue) || void 0 === G?void 0:G.trackId);else {L=E.newValue;A.Njb({Lp:L.Xx,toJSON:function(){return L.Dh;}})?A.kd.trace("ASE accepted the audio track switch",null === (I=E.newValue) || void 0 === I?void 0:I.trackId):(A.kd.trace("ASE rejected the audio track switch",null === (F=E.newValue) || void 0 === F?void 0:F.trackId),E.oldValue && E.oldValue.Xx !== L.Xx && A.j.Ec.set(E.oldValue,{WXa:!0}));}});z.addListener("serverSwitch",function(E){var G;!1;A.j.fireEvent(n.ma.U_,E);if("video" === E.mediatype)G=x.u.J;else "audio" === E.mediatype && (G=x.u.V);(0,p.vd)(G) && A.W_(E.segmentId,E.server,G);});z.addListener("streamSelected",function(E){var G,F,I,L;!1;if(A.uU){F=E.manifest.Ug;if(!A.j.JVb(F) && A.config.jPb)return A.j.Md(d.$.fsb,{uE:F});F=(null === (G=A.Ma) || void 0 === G?void 0:G.lP(E.position)).ln.Z;G=[];if(E.mediaType === x.u.J){I=A.j.E7a(E.streamId);L=A.j.xf;G=A.j.IE();}else E.mediaType === x.u.V && (I=A.j.q7a(E.streamId),L=A.j.Vh,G=A.j.oRb());I && L?(!1,L.set(I,{YH:F,GV:E.bandwidth})):A.kd.error("no matching stream for streamSelected event",{streamId:E.streamId,mediaType:E.mediaType,streamList:G,cachedManifest:A.j.UH});}});z.addListener("segmentNormalized",function(E){var G,F,I,L,M;!1;G=E.segmentId;F=Math.floor(E.viewableContentEnd.Z);E=Math.floor(E.viewableEarliestContentEnd.Z);F=(0,q.xc)(F);E=(0,q.xc)(E);if(!A.j.LVb(G) && (!1,A.Zj && A.Zj.R[G])){I=A.Zj.R[G];L=A.Zj.R[G].uc;if(L && A.ub.Ky(L)){L=A.j.dk(L);M=L.fa;(null === M || void 0 === M?0:M.Iu) && (null === M || void 0 === M?0:M.Iu.some(function(K){return K.$a.K === I.P;})) && A.j.F0a(I.P,{wl:{Oe:M.$a.Oe,Eh:M.$a.K}},L.qa);}}if(G=A.j.dk(G))(G.Bx=F,G.Rab=E);A.j.Ct || (A.j.Ct=F);});D.addListener("segmentPresenting",function(E){var G,F,I,L;!1;A.debug.assert(A.Ma,"has access to asePlaygraph");A.debug.assert(A.Kb,"has access to asePlayer");A.debug.assert(A.tK,"has access to segmentPresentingHandler");F=A.Ma.lP(E.position);I=void 0;L=null === (G=E.inner) || void 0 === G?void 0:G.position;L && A.Zj && (I=A.Zj.R[L.Y]);A.tK({P:F.P,aI:I,gJ:!1});A.j.fireEvent(n.ma.sK,{type:"segmentPresenting",position:{segmentId:E.position.Y,offset:E.position.offset},playerTimestamp:E.playerTimestamp,metrics:E.metrics});!1;A.sD=A.Kb.wn();});D.addListener("ptsChanged",function(E){!1;(E=E.forcedTimestamp) && A.j.tf.iac(E.Z);A.Ej.emit("skipped");});z.addListener("locationSelected",function(E){!1;A.j.fireEvent(n.ma.KY,E);});z.addListener("aseReportEnabled",function(){!1;A.j.tO=!0;});z.addListener("aseReport",function(E){!1;A.j.fireEvent(n.ma.xN,E);});z.addListener("mediaRequestComplete",function(E){E=null === E || void 0 === E?void 0:E.X8b;(E=null === E || void 0 === E?void 0:E.cadmiumResponse) && A.j.fireEvent(n.ma.nE,{response:E,K:A.j.na.K});});};c.prototype.wn=function(){var z,A,B,C,D,E,G,F,I;F=null === (z=this.Kb) || void 0 === z?void 0:z.s$();z=(null !== (A=this.sD) && void 0 !== A?A:F && this.Kb.wn()) || ({});A=z.G;F=z.Ld;I=z.wF;z=z.Mr;return {id:String(null === A || void 0 === A?void 0:A.id),cg:null !== (B=null === F || void 0 === F?void 0:F.Z) && void 0 !== B?B:0,Nd:null !== (C=null === A || void 0 === A?void 0:A.ff.Z) && void 0 !== C?C:Infinity,Pc:null !== (D=null === A || void 0 === A?void 0:A.oh.Z) && void 0 !== D?D:0,Lf:null !== (E=null === I || void 0 === I?void 0:I.Z) && void 0 !== E?E:Infinity,zd:null !== (G=null === z || void 0 === z?void 0:z.Z) && void 0 !== G?G:0};};c.prototype.ysa=function(){return {cg:0};};c.prototype.cva=function(){var z,A;this.debug.assert(this.Ma,"has access to asePlaygraph");z={};A=this.Ma.QO();z.vbuflmsec=A.totalvbuflmsecs;z.vbuflbytes=A.vbuflbytes;z.abuflmsec=A.totalabuflmsecs;z.abuflbytes=A.abuflbytes;return z;};c.prototype.paused=function(){};c.prototype.deb=function(){!1;this.Ej.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.Ej.Qc});};c.prototype.BV=function(z,A){var B;this.debug.assert(this.j.fa,"has access to playback manifest");B=this.SR[x.u.V];return z.K === this.j.fa.$a.K?B:this.LPb(this.j.fa.$a.Hu[B],A);};c.prototype.LPb=function(z,A){var B,C,D;this.debug.assert(this.kd,"has access to internalLogger");!1;B=A.filter(function(E){return E.profile === z.profile;}).sort(function(E,G){var F,I,L;F=(E.language === z.language || "zxx" === E.language?0:1) - (G.language === z.language || "zxx" === G.language?0:1);0 === F && (F=(E.Ji === z.Ji?0:1) - (G.Ji === z.Ji?0:1));if(0 === F){E=(null !== (I=E.ec) && void 0 !== I?I:0) - (null !== (L=G.ec) && void 0 !== L?L:0);}else E=F;return E;});C=0;D=ma(B).next().value;D && A.some(function(E,G){if(E === D)return (C=G,!0);});!1;return C;};c.prototype.Njb=function(z){var A,B,C;A=this;this.debug.assert(this.kd,"has access to internalLogger");this.debug.assert(this.Ma,"has access to asePlaygraph");this.debug.assert(this.Kb,"has access to asePlayer");this.debug.assert(this.j.fa,"has access to playback manifest");if(this.nDa)return (!1,!1);if(!this.j.fa.$a.audio_tracks.some(function(D,E){if(D.track_id === z.Lp)return (C=E,!0);}))return (!1,!1);!1;this.SU=C;null === (B=this.j.tf) || void 0 === B?void 0:B.Rbc();this.j.paused.value || (this.Kb.pause([x.u.V]),this.OJ=!0,this.j.paused.set(!0,{Pba:!0}));this.debug.Dna(this.SU,"has access to valid requestedAudioTrackIndex number");this.SR[x.u.V]=this.SU;(this.Ma.DK({vK:this.BV.bind(this)},{vK:function(){return A.SR[x.u.J];}}) || this.OJ) && this.Kb.resume(this.OJ?[x.u.V]:void 0);this.jL(this.GYa);return !0;};c.prototype.Zt=function(){var z;!1;this.df.set(g.Ia.Kg);null === (z=this.Ma) || void 0 === z?void 0:z.vDa("intrplay",m.yf.Zt);this.Ej.emit("underflow",{type:"underflow",pts:this.Ej.Qc});this.jL(this.wg);};c.prototype.dw=function(z,A){this.eS.dw(z,A);};c.prototype.open=function(){this.uU || (this.debug.assert(this.Ma,"has access to asePlaygraph"),this.debug.assert(this.Kb,"has access to asePlayer"),!1,this.uU=this.Ri=!0,this.Ma.open(),this.debug.assert(this.My,"invalid start position relative to playgraph"),this.Ma.JF(this.My,g.M.Ja(this.j.da)),this.df.set(g.Ia.Qd),this.jL(this.wg),this.Ma.tx(this.Kb),this.RZb());};c.prototype.play=function(){this.debug.assert(this.Ma,"has access to asePlaygraph");this.debug.assert(this.Kb,"has access to asePlayer");!1;0 !== this.Ma.state && (this.Kb.resume(this.OJ?[x.u.V]:void 0),this.df.set(g.Ia.Wc),this.Ej.emit("playing",{type:"playing",pts:this.Ej.Qc}));};c.prototype.stop=function(){var z;!1;this.df.set(g.Ia.gD);null === (z=this.Kb) || void 0 === z?void 0:z.pause();this.events.emit("stop");this.Ej.emit("paused",{type:"paused",pts:this.Ej.Qc});};c.prototype.flush=function(){this.debug.assert(this.Ma,"has access to asePlaygraph");this.debug.assert(this.lj,"has access to streamingEngine");!1;this.uU && this.df.value !== g.Ia.bm && this.df.value !== g.Ia.gD && this.stop();this.Ma.vDa("endplay",m.yf.Ts);this.Ma.Wd();this.lj.Xk.save();this.lj.yt.save();};c.prototype.Go=function(){var z;return null === (z=this.Ma) || void 0 === z?void 0:z.ug;};c.prototype.HA=function(z){var A;this.debug.assert(this.Ma,"has access to asePlaygraph");A=g.M.Ja(z);return (A=this.Ma.Fn(A,{wbc:!0,vbc:!0}))?this.Ma.ka.R[A.Y].xa + Number(A.offset.Z.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + z);};c.prototype.cW=function(z,A){this.debug.assert(this.Ma,"has access to asePlaygraph");this.debug.assert(this.kd,"has access to internalLogger");!1;this.Ma.ka.R[z] || (z=this.Fra(A));this.debug.V6(z,"has access to segmentId");z={Y:z,offset:g.M.Ja(A - this.Ma.ka.R[z].xa)};if(z=this.Ma.gB(z))return z.Z;!1;return A;};c.prototype.KZa=function(z,A){var B,C,D;this.debug.assert(this.Ma,"has access to asePlaygraph");this.debug.assert(this.Kb,"has access to asePlayer");!1;A && this.Ma.ka.R[A] || (A=null !== (B=this.Fra(z)) && void 0 !== B?B:null === (C=this.Kb) || void 0 === C?void 0:C.yh.Y);A=this.j.dk(A);z={ln:g.M.Ja(z),P:A.K};return null === (D=this.Ma.Do(z)) || void 0 === D?void 0:D.Nd;};c.prototype.qI=function(z){var A;A=void 0 === A?!0:A;!1;this.Ri?Number.isFinite(z) && (this.debug.assert(this.Kb,"has access to asePlayer"),A?this.Kb.bea(z):this.Kb.Khb(z)):this.fail("Must call open prior to drmReady");};c.prototype.eua=function(){var z;return null !== (z=this.Kb) && void 0 !== z && z.Uf?this.Kb.Br(this.ub.na.P):!1;};c.prototype.Wh=function(z){var A,B;!1;if(!this.Kb)return (!1,!1);A=this.Go();z=g.M.Ja(z);B=this.Kb.Wh(z);return A && this.j.j$()?B && A.Wh(z):B;};c.prototype.rK=function(z,A){var B;this.debug.assert(this.Ma,"has access to asePlaygraph");this.debug.assert(this.Kb,"has access to asePlayer");!1;A && this.Ma.ka.R[A] || (A=null !== (B=this.Fra(z)) && void 0 !== B?B:this.ub.Yh);this.debug.V6(A,"has access to segmentId");this.debug.assert(this.Ma.ka.R[A],"segment exists in playgraph map");A={Y:A,offset:g.M.Ja(z - this.Ma.ka.R[A].xa)};this.Ma.JF(A,g.M.Ja(z));this.Kb.resume();this.df.set(g.Ia.Qd);this.jL(this.wg);z=this.Ma.Ygb(A);this.debug.assert(z,"Valid position must be provided for seek");return z.offset.Z;};c.prototype.addEventListener=function(z,A){this.events.addListener(z,A);return this;};c.prototype.removeEventListener=function(z,A){this.events.removeListener(z,A);return this;};c.prototype.bfa=function(z,A){var B;!1;B={};this.Ma.vk((B[z]=A,B));};c.prototype.zx=function(z,A){var B,C;this.debug.assert(this.kd,"has access to internalLogger");this.debug.assert(this.Ma,"has access to asePlaygraph");this.debug.assert(this.Kb,"has access to asePlayer");!1;B=this.wn().id;C=this.Ma.DX(B,z);if(A){if(!C.Nfc)return (this.kd.warn("chooseNextSegment, seamless transition, invalid destination: " + (z + " for current segment: " + B)),!1);if(void 0 !== C.Sxa)return (!1,C.Sxa === z);this.Ma.jl(B,z,!1,A);return !0;}if(void 0 !== C.Sxa)return (!1,!1);C.o7 && (this.Kb.reset(),this.Ma.jl(B,z,!1,A),this.Kb.resume(),this.df.set(g.Ia.Qd),this.jL(this.wg));return ! !C.o7;};c.prototype.jl=function(z,A,B,C){this.debug.assert(this.Ma,"has access to asePlaygraph");!1;this.Ma.jl(z,A,B,C);};c.prototype.Pn=function(){var z;this.debug.assert(this.kd,"has access to internalLogger");!1;z=this.Ej.Qc;!1;this.Ej.emit("skipped",{type:"skipped",pts:z});return new g.aM(Promise.resolve()).Kgb;};c.prototype.Fra=function(z){var A,B,C,D,E,G,F,I;this.debug.assert(this.Ma,"has access to asePlaygraph");this.debug.assert(this.kd,"has access to internalLogger");!1;A=this.Ma.ka;B=[];C=Infinity;for(D in A.R){E=A.R[D];G=E.xa;E=E.wa;F=z < Number(null !== E && void 0 !== E?E:Infinity);if(G <= z && F)(!1,B.push(D));else if((G=Math.min(Math.abs(z - G),Math.abs(z - E)),G < C)){C=G;I=D;}}z=B[0] || I;this.debug.V6(z,"has access to locatedSegmentId");!1;return z;};c.prototype.RZb=function(){var z,A;z=this;this.debug.assert(this.j.ac,"has access to mediaElement");A=this.j.ac.ca;this.debug.assert(A,"has access to videoElement");A.addEventListener("play",function(){z.df.value === g.Ia.Oi && (z.df.set(g.Ia.Wc),z.Ej.emit("playing",{type:"playing",pts:z.Ej.Qc}));});A.addEventListener("pause",function(){z.df.value === g.Ia.Wc && (z.df.set(g.Ia.Oi),z.Ej.emit("paused",{type:"paused",pts:z.Ej.Qc}));});};c.prototype.fail=function(z){var A;null === (A=this.Ma) || void 0 === A?void 0:A.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:z});};c.prototype.jL=function(z){var A,B,C,D,E,G,F,I;A=this;if(z !== this.GYa && this.nDa)(!1,this.Mcb=z);else {I=null === (B=this.Kb) || void 0 === B?void 0:B.Fv.value;B=null === (C=this.Ma) || void 0 === C?void 0:C.xg.value;C=!0 === I;I=B === g.Vc.cm;!1;null === (D=this.Kb) || void 0 === D?void 0:D.Fv.removeListener(this.Zab);null === (E=this.Ma) || void 0 === E?void 0:E.xg.removeListener(this.tZa);C && I?z():(this.Zab=function(){return A.jL(z);},this.tZa=function(){return A.jL(z);},null === (G=this.Kb) || void 0 === G?void 0:G.Fv.addListener(this.Zab),null === (F=this.Ma) || void 0 === F?void 0:F.xg.addListener(this.tZa));}};c.prototype.A4a=function(z){var A,B;A=this;z=this.j.vn(z);return Promise.resolve(null !== (B=z.fa) && void 0 !== B?B:this.$ca(z)).then(function(C){C=C.$a;return {fa:C,yl:C.l$ && !C.ME,config:A.Be,Wf:[].concat(ha(A.Wf))};});};c.prototype.$ca=function(z){var A,B,C,D,E;A=this;!1;C=Promise.resolve();if(z.Wi){D=z.Wi.Eh;(E=null === (B=this.j.vn(D).fa) || void 0 === B?void 0:B.$a)?z.Wi.KZ=E:C=this.th.Xs(D).du.then(function(G){return G.fa;}).then(function(G){z.Wi.KZ=G;}).catch(function(){return A.j.Md(d.$.HL,d.X.pnb);});}return C.then(function(){return A.j.$ca(z);}).then(function(){return z.fa;});};c.prototype.Dx=function(z,A,B){var C,D,E,G,F,I,L,M,K,O;C=this;this.debug.assert(this.lj,"has access to streamingEngine");!1;L={P:z,Eh:null === (D=null === A || void 0 === A?void 0:A.wl) || void 0 === D?void 0:D.Eh,Oe:null === (E=null === A || void 0 === A?void 0:A.wl) || void 0 === E?void 0:E.Oe};if(!this.th.has(L)){!this.j.gua(z) && (null === (G=null === A || void 0 === A?void 0:A.wl) || void 0 === G?0:G.Eh) && this.j.gua(null === (F=null === A || void 0 === A?void 0:A.wl) || void 0 === F?void 0:F.Eh) && (D=this.j.vn(null === (I=A.wl) || void 0 === I?void 0:I.Eh),this.j.F0a(z,A,D.qa));this.j.gua(z) && (M=this.j.vn(z));K=B?B.qa:M?M.qa:void 0;I=B?B.zm:M?M.eg:void 0;this.th.store(L,{RZa:function(){},equals:function(H){return H && H.P === L.P && (K === H.qa || !H.qa || !K);},get du() {O || (O=C.A4a(z));return O;},set du(H) {O=H;},events:new k.EventEmitter(),qa:K,P:L.P,Ix:!1,SCa:!1});this.Be.rE && this.lj.CK(this.th.Xs(L.P,A),{qa:K,zm:I,yW:null === B || void 0 === B?void 0:B.Gx});}};c.prototype.fL=function(z){var A,B,C;this.debug.assert(this.lj,"has access to streamingEngine");!1;A=this.j.dk(z);B=A.Wi;A={P:A.K,Eh:null === B || void 0 === B?void 0:B.Eh,Oe:null === B || void 0 === B?void 0:B.Oe};z=this.ub.De(z).P;if(!this.th.has(A))return Promise.resolve();B && (C={wl:{Oe:null === B || void 0 === B?void 0:B.Oe,Eh:B.Eh}});B=this.th.Xs(z,C);B.du=this.A4a(z);return this.lj.fL(B);};c.prototype.DX=function(z){var A;this.debug.assert(this.Kb,"has access to asePlayer");this.debug.assert(this.Ma,"has access to asePlaygraph");return this.Ma.DX(null === (A=this.Kb.wn().G) || void 0 === A?void 0:A.id,z);};c.prototype.DE=function(z){var A;return null === (A=this.Ma) || void 0 === A?void 0:A.DE(z);};c.prototype.lXb=function(z){var A,B,C;A=this;B=z.$0a;C=z.Y;this.debug.assert(this.lj,"has access to streamingEngine");this.debug.assert(this.kd,"has access to internalLogger");!1;z=this.j.dk(C);z=this.ub.S9(z);C=z.R[C];this.debug.assert(C,"segment exists");this.My=(0,t.O6a)(C.P,z,this.j.da,C.xa);B=Object.create(this.Be,{Gx:{value:B.Gx},R2a:{value:this.j.background}});this.df=new w.cc(g.Ia.Qh);this.Ma=this.lj.nV(z,this.Be.C5b,B,this.th);this.eS=new g.cM(this.kd);B=this.Ma.gI(this.eS);z=this.Ma.fI();this.Ma.QBa(z,B);this.Ma.DK({vK:function(){return A.SR[x.u.V];}},{vK:function(){return A.SR[x.u.J];}});this.OJ=!1;};c.prototype.YN=function(){var z,A;z=this;this.debug.assert(this.lj,"has access to streamingEngine");!1;A=Object.create(this.Be,{Wf:{value:[].concat(ha(this.Wf))},fta:{value:function(){return z.xTb();}}});this.Ej=Object.create(new k.EventEmitter(),{Qc:{get:function(){z.debug.Dna(z.j.mediaTime.value,"has access to mediaTime.value");return g.M.Ja(z.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(z.j.playbackRate.value,.01);}},bta:{value:function(){z.debug.assert(z.j.ac,"has access to mediaElement");return z.j.ac;}}});this.Kb=this.lj.oCb(this.Ej,A);};c.prototype.xTb=function(){this.iq || (this.iq=new g.platform.MediaSource(this.Ej),this.iq.fd || (this.iq.fd=g.platform.MediaSource.fd));return this.iq;};Ua.Object.defineProperties(c.prototype,{nDa:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.SU;}},yc:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.lj,"has access to streamingEngine");return this.lj.yc;}},Zj:{configurable:!0,enumerable:!0,get:function(){for(var z,A=null === (z=this.Ma) || void 0 === z?void 0:z.Zj;null === A || void 0 === A?0:A.Zj;){A=A.Zj;}return null === A || void 0 === A?void 0:A.ka;}},I_a:{configurable:!0,enumerable:!0,get:function(){for(var z=this.Kb;null === z || void 0 === z?0:z.gY;){z=z.gY;}return z;}},RKb:{configurable:!0,enumerable:!0,get:function(){var z,A,B;if(null === (z=this.I_a) || void 0 === z?0:z.Uf){B=(z=this.I_a.yh) && (null === (A=this.Zj) || void 0 === A?void 0:A.R[z.Y]);if(B)return {ln:g.M.Ja(z.offset.Z + B.xa),P:B.P};}}}});b.lFa=c;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.W6=void 0;c=a(15);b.W6=function(g){var k,m,f,d;k=g.ik;m=g.loadTime;g=g.lra;f=(0,c.Oa)(m)?m:0;d=k[g.target] || ({});k[g.target] !== d && (k[g.target]=d);Object.entries(g.fields).forEach(function(l){var n,h,p,q;n=ma(l);l=n.next().value;n=n.next().value;if("object" !== typeof n || null === n)d[l]=n;else {h=n.type;if("count" === h)(void 0 === d[l] && (d[l]=0),++d[l]);else if(void 0 !== n.value){if("array" === h){h=d[l];p=n.adjust;q=n.value;h || (h=d[l]=[]);p && 0 < p.length && p.forEach(function(t){q[t]-=f || 0;});h.push(q);}else d[l]="sum" === h?(d[l] || 0) + n.value:n.value;}else d[l]=n;}});};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.O6a=void 0;c=a(75);g=a(23);b.O6a=function(k,m,f,d){return m.R[m.fe].xa === d?(k=(0,c.WN)(m,k,c.M.Ja(f)),(0,g.Ka)(k,"has valid start position relative to playgraph"),k):{Y:m.fe,offset:c.M.Ha};};},function(r,b,a){var g,k,m,f,d,l,n;function c(h,p,q,t,v,w,u,x,y,z){var A;A=this;this.dec=h;this.j=p;this.id=q;this.height=t;this.width=v;this.d5b=w;this.e5b=u;this.size=x;this.sv=y;this.urls=z;this.type=g.oj.uDa;this.retry=!0;this.state=d.Hq.F3;this.Dh={};this.Y6={};this.R6b=function(B){if(B.ga)try{A.data=A.dec.parse(B.content);A.state=d.Hq.uG;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.Dh);A.j.fireEvent(l.ma.O0);}catch(C){A.state=d.Hq.QNa;A.log.error("TrickPlay parse failed.",C);}else (A.state=d.Hq.F3,A.log.error("TrickPlay download failed.",(0,n.nz)(B),A.Dh));};this.log=(0,m.aj)(p,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.LSa=void 0;g=a(91);k=a(19);m=a(9);f=a(106);d=a(555);l=a(16);n=a(3);c.prototype.wSb=function(h){if(this.data && (this.sv && (h+=this.sv),h=Math.floor(h / this.data.header.pkb),0 <= h && h < this.data.images.length))return {image:this.data.images[h],time:h * this.data.header.pkb,height:this.height,width:this.width,pixelAspectHeight:this.d5b,pixelAspectWidth:this.e5b};};c.prototype.dP=function(){switch(this.state){case d.Hq.uG:return "downloaded";case d.Hq.LOADING:return "loading";case d.Hq.cT:return "downloadfailed";case d.Hq.QNa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var h;h=this.PUb();h?(this.state=d.Hq.LOADING,this.OMb(h)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.PUb=function(){var h,p,q;h=this;p=Object.keys(this.urls).find(function(t){return (h.Y6[h.urls[t]] || 0) <= k.config.$dc;});if(p){q=this.urls[p];(q in this.Y6)?this.Y6[q]++:this.Y6[q]=1;return {url:q,po:p};}};c.prototype.OMb=function(h){var p,q;this.log.trace("Downloading",h.url,this.Dh);q=this.y9(h.po);h={responseType:f.YX,Ac:q,url:h.url,track:this,Qt:null !== (p=null === q || void 0 === q?void 0:q.type) && void 0 !== p?p:"unknown",lE:"trickplay"};this.j.B$.download(h,this.R6b);};c.prototype.y9=function(h){return this.j.Rg.find(function(p){return p && p.id === h;});};b.LSa=c;},function(r,b,a){var g;function c(k,m,f,d){this.uqa=k;this.debug=m;this.Fa=f;this.j=d;this.pca=[];this.zba={};this.wqa={};this.Lra=!1;this.Sjb=1;this.JFa=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.MHa=void 0;g=a(5);a(16);a(15);a(106);c.prototype.register=function(k,m){this.debug.assert(!(0 <= this.pca.indexOf(k)),"panel already registered");this.zba[k]=m;this.pca.push(k);};c.prototype.Acb=function(k){var m;m=this;this.wqa[k]=!0;this.Lra || (this.Lra=!0,setTimeout(function(){return m.ZPb();},0));};c.prototype.iTb=function(k){return (k=this.zba[k])?k():void 0;};c.prototype.wX=function(){var k;k=this.j.yca;return k?k.wX():[];};c.prototype.addEventListener=function(k,m){this.uqa.addListener(k,m);this.zba[k] && this.Acb(k);};c.prototype.removeEventListener=function(k,m){this.uqa.removeListener(k,m);};c.prototype.getTime=function(){return this.Fa.Rb().ja(g.sa);};c.prototype.ZPb=function(){this.Lra=!1;for(var k=this.pca.length,m;k--;){m=this.pca[k];this.wqa[m] && (this.wqa[m]=!1,this.uqa.Uc(m + "changed",{getModel:this.zba[m]}));}};b.MHa=c;},function(r,b,a){var g,k,m,f,d,l,n;function c(h,p){var q;q=this;this.En=h;this.fv=p;this.Akb=function(t){var v,w,u,x,y,z,A;v=q.Sjb++;w=t.request.lE || "dl";u=q.a7a(w,"start");if(u){x=t.request.IB;y=x.stream.S.kq;x=ma(x.stream.S.ri).next().value;if(y || x)if((y=null !== y && void 0 !== y?y:x.G.id,!q.bjb.has(y))){z=q.t6a(y);A=t.It;q.En.mark(u,z,A?w + "-" + A + "-" + v:w);t.v6(function(){var B,C;B=q.a7a(w,"end");C=A?w + "-" + A + "-" + v:w;B && q.En.mark(B,z,C);});}}};this.Sjb=0;this.bjb=new Set();this.rBa=new Map();p.MW && this.Egc();}Object.defineProperty(b,"__esModule",{value:!0});b.dNa=void 0;r=a(0);g=a(1);k=a(61);m=a(82);f=a(5);d=a(106);a=a(39);l={start:{video:k.Qa.DS,audio:k.Qa.zS},end:{video:k.Qa.CS,audio:k.Qa.yS}};c.prototype.u6a=function(h){var q,t,v,w,u,x,y,z;function p(A){return (0,f.timestamp)(q.PXa((0,f.timestamp)(A),h,!0));}q=this;t=new Set();v=h.wd;w=h.qa;u=void 0 === h.Wib?null:h.Wib;x=h.Y;y=this.En.a6a(w);z=x && this.t6a(x);z && y.push.apply(y,ha(this.En.a6a(z)));this.En.Wfb(h.qa);z && this.En.Wfb(z);x && this.bjb.add(x);x=[];("pr_ats" in v) && x.push({name:k.Qa.Y3,Wt:p(v.pr_ats),qa:w,eg:"request-pre-manifest"});("ats" in v) && x.push({name:k.Qa.W3,Wt:p(v.ats),qa:w,eg:"request-manifest"});("pr_at" in v) && x.push({name:k.Qa.X3,Wt:p(v.pr_at),qa:w,eg:"request-pre-manifest"});("at" in v) && x.push({name:k.Qa.V3,Wt:p(v.at),qa:w,eg:"request-manifest"});("lg" in v) && x.push({name:k.Qa.U3,Wt:p(v.lg),qa:w,eg:"request-license"});("lr" in v) && (x.push({name:k.Qa.T3,Wt:p(v.lr),qa:w,eg:"request-license"}),x.push({name:k.Qa.v1,Wt:p(v.lr),qa:w,eg:"apply-license"}));("ld" in v) && x.push({name:k.Qa.u1,Wt:p(v.ld),qa:w,eg:"apply-license"});("tt_start" in v) && x.push({name:k.Qa.BS,Wt:p(v.tt_start),qa:w,eg:"request-timed-text"});("tt_comp" in v) && x.push({name:k.Qa.AS,Wt:p(v.tt_comp),qa:w,eg:"request-timed-text"});return x.concat(y).map(function(A){return q.ydc(A,h);}).filter(function(A){return A.ts <= (null !== u && void 0 !== u?u:A.ts)?("end" === A.step && t.add(A.eventId),!0):!1;}).filter(function(A){return "start" !== A.step || t.has(A.eventId)?!0:!1;}).sort(function(A,B){return A.ts - B.ts;}).reduce(function(A,B){var C;C=B.eventName;delete B.eventName;C && (A[C]=B);return A;},{});};c.prototype.HCb=function(h,p,q){return (void 0 === q?0:q)?h.ja(f.sa) + p.Ij.ja(f.sa):h.ja(f.sa) - p.Ij.ja(f.sa);};c.prototype.PXa=function(h,p,q){q=void 0 === q?!1:q;if(p.Wn)if(q)h.ja(f.sa) + p.Wn;else return h.ja(f.sa) - p.Wn;return this.HCb(h,p,q);};c.prototype.ydc=function(h,p){var q,t;q=h.eg;t=h.name;return {eventName:this.c2b(t,q),eventId:q || t,ts:this.PXa(h.Wt,p),comp:this.pX(t),cat:this.HRb(t),step:this.vUb(t)};};c.prototype.c2b=function(h,p){switch(h){case k.Qa.BS:case k.Qa.AS:case k.Qa.zS:case k.Qa.yS:case k.Qa.DS:case k.Qa.CS:return h + "-" + p;default:return h;}};c.prototype.pX=function(h){switch(h){case k.Qa.Y3:case k.Qa.X3:case k.Qa.W3:case k.Qa.V3:return "manifest";case k.Qa.U3:case k.Qa.T3:case k.Qa.Bja:case k.Qa.Aja:case k.Qa.t2:case k.Qa.s2:case k.Qa.v1:case k.Qa.u1:return "license";case k.Qa.BS:case k.Qa.AS:case k.Qa.zS:case k.Qa.yS:case k.Qa.DS:case k.Qa.CS:case k.Qa.Lfa:case k.Qa.Kfa:return "buffering";case k.Qa.Fia:case k.Qa.Eia:return "playback";default:return null;}};c.prototype.HRb=function(h){switch(h){case k.Qa.Y3:case k.Qa.X3:case k.Qa.W3:case k.Qa.V3:return "aws";case k.Qa.U3:case k.Qa.T3:return "mixed";case k.Qa.Fia:case k.Qa.Eia:case k.Qa.Bja:case k.Qa.Aja:case k.Qa.t2:case k.Qa.s2:case k.Qa.v1:case k.Qa.u1:case k.Qa.Lfa:case k.Qa.Kfa:return "device";case k.Qa.BS:case k.Qa.AS:case k.Qa.zS:case k.Qa.yS:case k.Qa.DS:case k.Qa.CS:return "cdn";default:return null;}};c.prototype.vUb=function(h){switch(h){case k.Qa.Y3:case k.Qa.Fia:case k.Qa.W3:case k.Qa.U3:case k.Qa.Lfa:case k.Qa.BS:case k.Qa.zS:case k.Qa.DS:case k.Qa.Bja:case k.Qa.t2:case k.Qa.v1:return "start";case k.Qa.X3:case k.Qa.Eia:case k.Qa.V3:case k.Qa.T3:case k.Qa.Aja:case k.Qa.s2:case k.Qa.u1:case k.Qa.Kfa:case k.Qa.AS:case k.Qa.yS:case k.Qa.CS:return "end";default:return null;}};c.prototype.a7a=function(h,p){if((h in l[p]))return l[p][h];};c.prototype.Bec=function(){d.pf.removeEventListener(d.A$,this.Akb);};c.prototype.Egc=function(){this.Bec();d.pf.addEventListener(d.A$,this.Akb);};c.prototype.t6a=function(h){var p;if(this.rBa.has(h))return this.rBa.get(h);p=Date.now();this.rBa.set(h,p);return p;};n=c;n=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.sT)),r.__param(1,(0,g.l)(a.kp))],n);b.dNa=n;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D,E,G,F,I,L,M,K,O,H,J,R,P,T,V,S;Object.defineProperty(b,"__esModule",{value:!0});b.K_a=void 0;r=a(1);c=a(516);g=a(1375);k=a(100);m=a(1376);f=a(528);d=a(1377);l=a(533);n=a(1378);h=a(534);p=a(1379);q=a(291);t=a(1380);v=a(85);w=a(1381);u=a(1382);x=a(36);y=a(3);z=a(1383);A=a(1384);B=a(1385);C=a(51);D=a(1386);E=a(583);G=a(1387);F=a(513);I=a(1388);L=a(1389);M=a(1390);K=a(368);O=a(1391);H=a(81);J=a(582);R=a(1392);P=a(1393);T=a(1394);V=a(308);S=a(1395);b.K_a=new r.Cd(function(W){W(C.Om).to(D.wOa);W(c.LOa).to(g.KOa);W(E.rOa).to(G.qOa);W(F.tOa).to(I.sOa);W(k.Qia).to(m.MOa);W(J.NOa).Te(function(ia){return function(){var ra;ra=ia.wb.get(H.Bz);return ra && ra.Xlb?ia.wb.resolve(P.fPa):ia.wb.resolve(R.OOa);};});W(f.pOa).to(d.oOa);W(l.cPa).to(n.bPa);W(h.FOa).to(p.EOa);W(q.Pia).to(t.GOa);W(v.VRa).to(w.URa);W(v.aSa).to(u.$Ra);W(v.gLa).to(z.fLa);W(v.QRa).to(A.PRa);W(v.HIa).to(B.GIa);W(M.dub).to(L.POa);W(K.DOa).to(O.COa);W(V.Tfa).to(T.FEa);W(V.Sfa).to(S.BEa);W(v.eha).Te(function(ia){return function(ra){switch(ra){case v.Bq.start:return ia.wb.get(v.VRa);case v.Bq.stop:return ia.wb.get(v.aSa);case v.Bq.vY:return ia.wb.get(v.gLa);case v.Bq.splice:return ia.wb.get(v.QRa);case v.Bq.zO:return ia.wb.get(v.HIa);}throw new x.od(y.$.rtb,void 0,void 0,void 0,void 0,"The event key was invalid - " + ra);};});});},function(r,b,a){var g,k,m,f,d;function c(l){return f.li.call(this,l,k.$.bsb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.KOa=void 0;r=a(0);g=a(1);k=a(3);m=a(65);f=a(73);a=a(51);ja(c,f.li);c.prototype.Sf=function(l,n){var h;h=this;return this.send(l,{url:"/" + m.Lg.Cwa,name:m.Lg.Cwa,Dm:m.Lg.Cwa},n).then(function(p){return p.result;}).catch(function(p){throw h.un(p);});};c.prototype.Up=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};d=c;d=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Om))],d);b.KOa=d;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t;function c(v,w,u,x,y){v=f.li.call(this,v,k.$.HL,3) || this;v.platform=w;v.QY=u;v.xZb=x;v.N_b=y;return v;}Object.defineProperty(b,"__esModule",{value:!0});b.MOa=void 0;r=a(0);g=a(100);k=a(3);m=a(65);a(137);f=a(73);d=a(51);l=a(47);n=a(39);h=a(136);p=a(291);q=a(1);a=a(582);ja(c,f.li);c.prototype.Sf=function(v,w){var u,x,y,z;u=this;x=w.dv === g.bo.GG?"prefetch/manifest":m.Lg.fa;y=m.Lg.fa;z=w.dv === g.bo.h4?n.Gw.rQa:n.Gw.ET;return this.N_b().transform(w,z).then(function(A){var B,C;A=ma(A);B=A.next().value;C=A.next().value;!1;"licensedManifest" === C.so && (x=w.dv === g.bo.GG?"prefetch/licensedManifest":"licensedManifest",y=m.Lg.yZb);return u.send(v,{url:C.so,name:y,Dm:x},B,void 0,void 0,z).then(function(D){var E;D=u.QY.create(D.result);E=D.$a.Xy.map(function(G){return G.Ch;}).filter(Boolean);C.SA && (0 < E.length?(E=u.xZb.Ekb(E),C.SA.wXa(E),D.SA=C.SA,D.rva=w.dv === g.bo.GG,D.qva=!0):C.SA.close());D.xV=C.xV;D.e1=C.e1;!1;return D;});}).catch(function(A){!1;throw u.un(A);});};c.prototype.Up=function(){return Promise.reject(Error("Links are not supported with manifest command"));};t=c;t=r.__decorate([(0,q.aa)(),r.__param(0,(0,q.l)(d.Om)),r.__param(1,(0,q.l)(l.Eq)),r.__param(2,(0,q.l)(h.IL)),r.__param(3,(0,q.l)(p.Pia)),r.__param(4,(0,q.l)(a.NOa))],t);b.MOa=t;},function(r,b,a){var g,k,m,f,d;function c(l){return f.li.call(this,l,k.$.EL,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oOa=void 0;r=a(0);g=a(1);k=a(3);m=a(65);f=a(73);a=a(51);ja(c,f.li);c.prototype.Sf=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.Up=function(l,n,h){var p;p=this;n={url:n.XO(h.x$a).href,name:m.Lg.Ch,Dm:"ldl" === h.x$a?"prefetch/license":m.Lg.Ch};return this.send(l,n,h.inputs,"drmSessionId").then(function(q){q=q.result;p.qGb(q);return q;}).catch(function(q){throw p.un(q);});};c.prototype.qGb=function(l){l.forEach(function(n){if(!n.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};d=c;d=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Om))],d);b.oOa=d;},function(r,b,a){var g,k,m,f,d;function c(l){return f.li.call(this,l,k.$.vja,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bPa=void 0;r=a(0);g=a(1);k=a(3);m=a(65);f=a(73);a=a(51);ja(c,f.li);c.prototype.Sf=function(l,n){var h;h=this;return this.send(l,{url:"/bundle",name:m.Lg.Ch,Dm:"release/license"},n).then(function(p){return p.result;}).catch(function(p){throw h.un(p);});};c.prototype.Up=function(){return Promise.reject(Error("Links are unsupported with release"));};d=c;d=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Om))],d);b.bPa=d;},function(r,b,a){var g,k,m;function c(f){this.Ba=f;}Object.defineProperty(b,"__esModule",{value:!0});b.EOa=void 0;r=a(0);g=a(1);k=a(29);m=a(5);c.prototype.Sdc=function(f){var d;d=this.Ba.Hf.ja(m.qp);return {inputs:f.Nk.map(function(l){return {drmSessionId:l.sessionId,clientTime:d,challengeBase64:l.dataBase64,xid:f.qa.toString()};}),x$a:"standard" === f.Dg.toLowerCase()?"license":"ldl"};};c.prototype.Vdc=function(f){var d,l;d=this;l=[];return f.Pe.map(function(n){l.push(n.id);return {url:d.cFb(n.pJ,n.GY),echo:"drmSessionId",params:{drmSessionId:n.id,xid:f.qa.toString()}};});};c.prototype.cFb=function(f,d){return "/releaseLicense?drmLicenseContextId=" + f + (d?"&licenseId=" + d:"");};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.Nh))],a);b.EOa=a;},function(r,b,a){var g,k,m;function c(f,d){this.Ki=f;this.RD=d;}Object.defineProperty(b,"__esModule",{value:!0});b.GOa=void 0;r=a(0);g=a(1);k=a(30);a=a(31);c.prototype.Ekb=function(f){var d,l;d=this;l=f.map(function(n){return n.links.releaseLicense.href;}).map(function(n){return d.Ki.LZ(n.substring(n.indexOf("?") + 1));});return {ga:!0,Pe:f.map(function(n,h){return {id:n.drmSessionId,pJ:l[h].drmlicensecontextid,GY:l[h].licenseid};}),hk:f.map(function(n){return {data:d.RD.decode(n.licenseResponseBase64),sessionId:n.drmSessionId};})};};m=c;m=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.oi)),r.__param(1,(0,g.l)(a.Li))],m);b.GOa=m;},function(r,b,a){var g,k,m,f,d;function c(l){return m.gs.call(this,l,k.$.Pub,f.Bq.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.URa=void 0;r=a(0);g=a(1);k=a(3);m=a(168);f=a(85);a=a(51);ja(c,m.gs);d=c;d=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Om))],d);b.URa=d;},function(r,b,a){var g,k,m,f,d;function c(l){return m.gs.call(this,l,k.$.Qub,f.Bq.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ra=void 0;r=a(0);g=a(1);k=a(3);m=a(168);f=a(85);a=a(51);ja(c,m.gs);d=c;d=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Om))],d);b.$Ra=d;},function(r,b,a){var g,k,m,f,d;function c(l){return m.gs.call(this,l,k.$.Kha,f.Bq.vY,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.fLa=void 0;r=a(0);g=a(1);k=a(3);m=a(168);f=a(85);a=a(51);ja(c,m.gs);d=c;d=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Om))],d);b.fLa=d;},function(r,b,a){var g,k,m,f,d;function c(l){return m.gs.call(this,l,k.$.iRa,f.Bq.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.PRa=void 0;r=a(0);g=a(1);k=a(3);m=a(168);f=a(85);a=a(51);ja(c,m.gs);d=c;d=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Om))],d);b.PRa=d;},function(r,b,a){var g,k,m,f,d;function c(l){return m.gs.call(this,l,k.$.Aqb,f.Bq.zO,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.GIa=void 0;r=a(0);g=a(1);k=a(3);m=a(168);f=a(85);a=a(51);ja(c,m.gs);c.prototype.WD=function(l){return Object.assign(Object.assign({},m.gs.prototype.WD.call(this,l)),{action:l.action});};d=c;d=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Om))],d);b.GIa=d;},function(r,b,a){var g,k,m,f,d,l,n,h,p;function c(q,t,v,w,u,x,y,z,A){this.ti=q;this.pf=t;this.Di=v;this.BMb=w;this.lB=u;this.sfc=x;this.Y8b=z;this.mI=A;}Object.defineProperty(b,"__esModule",{value:!0});b.wOa=void 0;r=a(0);g=a(1);k=a(175);m=a(81);f=a(553);d=a(550);l=a(83);n=a(63);h=a(356);p=a(112);a=a(92);c=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.D1)),r.__param(1,(0,g.l)(n.Cw)),r.__param(2,(0,g.l)(m.Bz)),r.__param(3,(0,g.l)(d.zOa)),r.__param(4,(0,g.l)(l.pz)),r.__param(5,(0,g.l)(h.XSa)),r.__param(6,(0,g.l)(p.i2)),r.__param(7,(0,g.l)(f.ePa)),r.__param(8,(0,g.l)(a.jz))],c);b.wOa=c;},function(r,b,a){var g,k,m,f,d;function c(l){return f.li.call(this,l,k.$.Knb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.qOa=void 0;r=a(0);g=a(1);k=a(3);m=a(65);f=a(73);a=a(51);ja(c,f.li);c.prototype.Sf=function(l,n,h){var p;p=this;return this.send(l,{url:"/" + m.Lg.bind,name:m.Lg.bind,Dm:m.Lg.bind},n,void 0,h).then(function(q){return q.result;}).catch(function(q){throw p.un(q);});};c.prototype.Up=function(){return Promise.reject(Error("Links are unsupported with bind"));};d=c;d=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Om))],d);b.qOa=d;},function(r,b,a){var g,k,m,f,d;function c(l){return f.li.call(this,l,k.$.Lnb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sOa=void 0;r=a(0);g=a(1);k=a(3);m=a(65);f=a(73);a=a(51);ja(c,f.li);c.prototype.Sf=function(l,n,h){var p;p=this;return this.send(l,{url:"/bindDevice",name:m.Lg.bind,Dm:m.Lg.bind},n,void 0,h).then(function(q){return q.result;}).catch(function(q){throw p.un(q);});};c.prototype.Up=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};d=c;d=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Om))],d);b.sOa=d;},function(r,b,a){var g,k,m,f,d;function c(l){return f.li.call(this,l,k.$.Etb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.POa=void 0;r=a(0);g=a(1);k=a(3);m=a(65);f=a(73);a=a(51);ja(c,f.li);c.prototype.Sf=function(l,n,h){var p;p=this;return this.send(l,{url:"/" + m.Lg.ping,name:m.Lg.ping,Dm:m.Lg.ping},n,void 0,h).then(function(q){return q.result;}).catch(function(q){throw p.un(q);});};c.prototype.Up=function(){return Promise.reject(Error("Links are unsupported with ping"));};d=c;d=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Om))],d);b.POa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dub="PboPingCommandSymbol";},function(r,b,a){var g,k,m,f,d;function c(l){return f.li.call(this,l,k.$.Pqb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.COa=void 0;r=a(0);g=a(1);k=a(3);m=a(65);f=a(73);a=a(51);ja(c,f.li);c.prototype.Sf=function(l,n){var h;h=this;return this.send(l,{url:"/generateScreenshots",name:m.Lg.fa,Dm:"generateScreenshots"},n).then(function(p){return p.result;}).catch(function(p){throw h.un(p);});};c.prototype.Up=function(l,n,h){var p;p=this;n={url:n.XO("generateScreenshots").href,name:m.Lg.fa,Dm:"generateScreenshots"};return this.send(l,n,h).then(function(q){return q.result;}).catch(function(q){throw p.un(q);});};d=c;d=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(a.Om))],d);b.COa=d;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w,u,x;function c(y,z,A,B,C,D,E,G,F,I){this.Di=y;this.platform=z;this.config=A;this.YFb=B;this.o5b=C;this.hq=D;this.PV=E;this.Ba=G;this.fba=F;this.yo=I;}Object.defineProperty(b,"__esModule",{value:!0});b.OOa=void 0;r=a(0);g=a(1);k=a(100);m=a(12);f=a(500);d=a(498);l=a(581);n=a(98);h=a(47);p=a(29);q=a(5);t=a(173);v=a(81);w=a(358);u=a(26);x=a(57);c.prototype.transform=function(y,z){var A,B,C,D,E,G,F,I;A=this;B=y.ib;C=Object.assign({},B.d7,B.Nn);D={};E=y.P;D[E]={unletterboxed:! !C.preferUnletterboxed};G=this.config();F=G.Bfc?30:25;G=G.bu?this.hq.lSb():Promise.resolve(this.fba.hv());I={he:null === B || void 0 === B?void 0:B.he};return Promise.all([this.yo.U6a(I),this.yo.W6a(I),this.yo.GX(),this.yo.R9(),this.IRb(y.qa,z),this.nSb(y),G]).then(function(L){var M,K,O,H,J,R,P,T,V,S,W,ia,ra,ua,Aa,Ha;M=ma(L);K=M.next().value;O=M.next().value;H=M.next().value;J=M.next().value;R=M.next().value;L=M.next().value;P=M.next().value;M=K.Z9().concat(O.Z9()).concat(A.config().gw).concat(["BIF240","BIF320"]).filter(Boolean);J=J?J.DEVICE_SECURITY_LEVEL:void 0;Ha="postplay" === B.he?!0:! !C.isUIAutoPlay;H={type:"standard",manifestVersion:A.Di.U2a?"v2":"v1",viewableId:E,profiles:M,flavor:y.dv,drmType:P,drmVersion:F,usePsshBox:!0,isBranching:! !y.ib.di,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().Kcc,imageSubtitleHeight:f.Vja.B6a(),uiVersion:A.Di.Ry,uiPlatform:A.Di.afa,clientVersion:A.platform.version,platform:null === (T=A.config().pe) || void 0 === T?void 0:T.version,osVersion:null === (S=null === (V=A.config().pe) || void 0 === V?void 0:V.os) || void 0 === S?void 0:S.version,osName:null === (ia=null === (W=A.config().pe) || void 0 === W?void 0:W.os) || void 0 === ia?void 0:ia.name,supportsPreReleasePin:A.config().jr.Ecc,supportsWatermark:A.config().jr.Fcc,packageId:A.BTb(B),deviceSecurityLevel:J,videoOutputInfo:H,titleSpecificData:D,preferAssistiveAudio:! !C.assistiveAudioPreferred,preferredTextLocale:C.preferredTextLocale,preferredAudioLocale:C.preferredAudioLocale,isUIAutoPlay:Ha,challenge:R,isNonMember:A.Di.n9a,pin:B.Sdb,desiredVmaf:A.config().Plb?A.config().M1a:A.config().N1a,desiredSegmentVmaf:A.config().Plb?A.config().M1a:A.config().N1a,requestSegmentVmaf:A.config().d9b,supportsPartialHydration:A.Di.xO,contentPlaygraph:y.ib.di?[]:A.Di.eI,auxiliaryManifestToken:y.ib.di?void 0:null === (ra=y.Wi) || void 0 === ra?void 0:ra.Oe,originalPlaybackContextId:!y.ib.di && (null === (ua=y.Wi) || void 0 === ua?0:ua.Oe)?null === (Aa=y.Wi) || void 0 === Aa?void 0:Aa.Hya:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE",useBetterTextUrls:!0};B.p3a && (H.extraParams=B.p3a);B.L1a && (H.desiredDownloadables=B.L1a);B.FAa && (H.requestReference=B.FAa);T={so:L?"licensedManifest":"manifest",SA:null === L || void 0 === L?void 0:L.jc,xV:K,e1:O};L && (L={drmSessionId:L.jc.bB() || "session",clientTime:A.Ba.xK.ja(q.qp),challengeBase64:L.Joa},H.challenges={"default":[L]},H.profileGroups=[{name:"default",profiles:M}],H.licenseType=y.Dg == x.Ni.lp?"limited":"standard",y.qa && (H.xid=y.qa.toString()));A.Di.xO || (H.showAllSubDubTracks=A.config().jr.dbc || ! !C.showAllSubDubTracks,A.Di.M2a && y.dv === k.bo.h4 && (H.maxSupportedLanguages=2));y.Sea && (H.originalPlaybackContextId=y.Sea.Hya,H.requiredAudioTrackId=y.Sea.h9b,H.requiredTextTrackId=y.Sea.k9b);return [H,T];});};c.prototype.BTb=function(y){if(this.config().Yca.enabled){if(void 0 !== y.Wo)return y.Wo;if(void 0 !== this.config().Yca.Wo)return Number(this.config().Yca.Wo);}};c.prototype.IRb=function(y,z){var A;A=this;return this.YFb.Y4a(z).then(function(B){var C;C=y && A.o5b.HTb(y);C && C.Xq("cad");return B;});};c.prototype.nSb=function(y){var z;if(void 0 === y.Dg || !this.config().bu)return Promise.resolve(void 0);z=y.Dg === x.Ni.Fq && this.Di.Ax;return y.Dg === x.Ni.lp && this.Di.qE || z?this.PV.Bta(y.Dg):Promise.resolve(void 0);};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(v.Bz)),r.__param(1,(0,g.l)(h.Eq)),r.__param(2,(0,g.l)(m.Lc)),r.__param(3,(0,g.l)(d.mGa)),r.__param(4,(0,g.l)(l.eja)),r.__param(5,(0,g.l)(n.vz)),r.__param(6,(0,g.l)(t.R1)),r.__param(7,(0,g.l)(p.Nh)),r.__param(8,(0,g.l)(w.lia)),r.__param(9,(0,g.l)(u.iz))],a);b.OOa=a;},function(r,b,a){var g,k,m,f,d,l;function c(n,h,p,q){this.platform=n;this.config=h;this.PV=p;this.yo=q;}Object.defineProperty(b,"__esModule",{value:!0});b.fPa=void 0;r=a(0);g=a(1);k=a(12);m=a(47);f=a(173);d=a(26);l=a(57);c.prototype.transform=function(n){var h,p,q;h=this;p=n.ib;q={he:void 0};return Promise.all([this.yo.U6a(q),this.yo.W6a(q),this.PV.Bta(l.Ni.Fq)]).then(function(t){var v,w;v=ma(t);t=v.next().value;w=v.next().value;v=v.next().value;return [{viewableId:n.P,packageId:p.Wo,assetId:p.Ena,challenge:v.Joa,audioProfiles:t.Z9(),textProfiles:h.config().gw,trickplayProfiles:["BIF240","BIF320"],videoProfiles:w.Z9(),audioLanguages:p.SDb,textLanguages:p.bdc,videoLanguages:p.jmb?[p.jmb]:void 0,requestReference:p.FAa,additionalAudioAssets:p.CCb,additionalTextAssets:p.GCb},{SA:null === v || void 0 === v?void 0:v.jc,so:"studioManifest",xV:t,e1:w}];});};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.Eq)),r.__param(1,(0,g.l)(k.Lc)),r.__param(2,(0,g.l)(f.R1)),r.__param(3,(0,g.l)(d.iz))],a);b.fPa=a;},function(r,b,a){var g,k,m,f,d;function c(l){return f.li.call(this,l,k.$.uEa,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.FEa=void 0;r=a(0);g=a(1);k=a(3);m=a(65);f=a(73);d=a(51);a(137);ja(c,f.li);c.prototype.Sf=function(l,n){var h,p,q;h=this;p=n.event;q=this.WD(n);!1;!1;return this.send(l,{url:n.href,name:m.Lg.events,Dm:m.Lg.events + "/" + p},q).then(function(){return n;}).catch(function(t){throw h.un(t);});};c.prototype.Up=function(){return Promise.reject(Error("Links are unsupported with ad events"));};c.prototype.WD=function(l){return {xid:l.qa,event:l.event,adEventToken:l.ox,adBreakLocationMs:l.jA,position:l.position,clientTime:l.AA,sessionStartTime:l.On,appId:l.appId,sessionId:l.sessionId,playTimes:this.ooa(l.Bt),mainManifestPlaybackContextId:l.z_b};};c.prototype.ooa=function(l){return {total:l.total,audio:l.audio.map(function(n){return {duration:n.duration,downloadableId:n.Vb,cdnId:n.po};}),video:l.video.map(function(n){return {duration:n.duration,downloadableId:n.Vb,cdnId:n.po};}),text:l.text.map(function(n){return {duration:n.duration,downloadableId:n.Vb,cdnId:n.po};})};};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(d.Om))],a);b.FEa=a;},function(r,b,a){var g,k,m,f,d;function c(l){return f.li.call(this,l,k.$.uEa,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.BEa=void 0;r=a(0);g=a(1);k=a(3);m=a(65);f=a(73);d=a(51);a(137);ja(c,f.li);c.prototype.Sf=function(l,n){var h,p,q;h=this;p=n.event;q=this.WD(n);!1;!1;return this.send(l,{url:n.href,name:m.Lg.events,Dm:m.Lg.events + "/" + p},q).then(function(){return n;}).catch(function(t){throw h.un(t);});};c.prototype.Up=function(){return Promise.reject(Error("Links are unsupported with ad break events"));};c.prototype.WD=function(l){return {xid:l.qa,event:l.event,adEventToken:l.ox,adBreakLocationMs:l.jA,position:l.position,clientTime:l.AA,sessionStartTime:l.On,appId:l.appId,sessionId:l.sessionId,playTimes:{}};};a=c;a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(d.Om))],a);b.BEa=a;},function(r,b,a){var c,g,k,m,f,d;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(1);c=a(285);g=a(551);k=a(1397);m=a(1398);f=a(1399);d=a(39);b.transports=new r.Cd(function(l){l(c.s4).to(f.ISa).la();l(g.kNa).to(k.jNa);l(g.SRa).to(m.RRa);l(g.JSa).Te(function(n){return function(h){var p;return n.wb.get(c.s4).eea(null !== (p=null === h || void 0 === h?void 0:h.H1b) && void 0 !== p?p:d.Gw.ET)?n.wb.get(g.kNa):n.wb.get(g.SRa);};});});},function(r,b,a){var g,k,m,f,d,l;function c(n,h,p){var q;q=this;this.lF=h;this.profile=p;this.log=n.hb("MslTransport");this.lF().then(function(t){return q.Bba=t;});}Object.defineProperty(b,"__esModule",{value:!0});b.jNa=void 0;r=a(0);g=a(1);k=a(7);m=a(164);f=a(5);a=a(79);d={license:!0};c.prototype.send=function(n,h){var p,q;p=this;q={Kxa:Object.assign({pf:n.pf,log:n.log,profile:this.profile},n.DEb),method:n.so,url:n.url.href,body:JSON.stringify(h),timeout:n.timeout.ja(f.sa),Zlb:this.profile,N8b:!d[n.so],lcb:! !d[n.so],pm:!0,Bda:n.RAa,headers:n.headers};!1;return this.lF().then(function(t){return t.send(q).catch(function(v){var w;if(!v.error)throw (v.Kc=v.za || v.Kc,v);w=v.error;w.HF=v.HF;p.log.error("Error sending MSL request",{mslCode:w.LB,subCode:w.Kc,data:w.data,message:w.message});throw w;});});};c.prototype.Epa=function(){var n;return {userTokens:null === (n=this.Bba) || void 0 === n?void 0:n.kZ.getUserIdTokenKeys()};};l=c;l=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.mb)),r.__param(1,(0,g.l)(m.tT)),r.__param(2,(0,g.l)(a.TL))],l);b.jNa=l;},function(r,b,a){var g,k,m,f;function c(d,l){this.pf=l;this.log=d.hb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.RRa=void 0;r=a(0);g=a(1);k=a(5);m=a(7);a=a(63);c.prototype.send=function(d,l){var n,h;n=this;h={url:d.url.href,lE:"nq-" + d.so,seb:JSON.stringify(l),F7:d.timeout.ja(k.sa),headers:d.headers,withCredentials:!0,Qt:"pbo"};!1;return new Promise(function(p,q){n.pf.download(h,function(t){t.ga?p(t):q(t);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.Kc=p.za || p.Kc,p);q=p.error;q.HF=p.HF;n.log.error("Error sending SSL request",{subCode:q.Kc,data:q.content,message:q.message});throw q;});};c.prototype.Epa=function(){return {};};f=c;f=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.mb)),r.__param(1,(0,g.l)(a.Cw))],f);b.RRa=f;},function(r,b,a){var g,k,m,f,d;function c(l){return k.zf.call(this,l,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ISa=void 0;r=a(0);g=a(1);k=a(45);m=a(33);f=a(44);d=a(39);ja(c,k.zf);c.prototype.eea=function(l){var n,h;n=this.$R;h=this.TXa;switch(l){case d.Gw.ET:return n;case d.Gw.rQa:return n && !h;case d.Gw.Zsb:return !1;}};Ua.Object.defineProperties(c.prototype,{$R:{configurable:!0,enumerable:!0,get:function(){return !0;}},TXa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([f.config(f.Ed,"usesMsl")],a.prototype,"$R",null);r.__decorate([f.config(f.Ed,"allowRequestsWithoutMsl")],a.prototype,"TXa",null);a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.Qm))],a);b.ISa=a;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.um=void 0;r=a(1);c=a(566);g=a(1401);b.um=new r.Cd(function(k){k(c.tLa).to(g.sLa);});},function(r,b,a){var g,k,m,f,d,l,n,h;function c(p,q,t,v,w){this.rI=p;this.Sk=q;this.config=t;this.$P=v;this.Bd=w;}Object.defineProperty(b,"__esModule",{value:!0});b.sLa=void 0;r=a(0);g=a(1);k=a(124);m=a(1402);f=a(1403);d=a(67);l=a(12);n=a(144);a=a(119);c.prototype.create=function(p,q,t){return p?new m.uLa(this.config(),this.Sk,this.Bd,q,t,this.rI,this.$P()):new f.mLa(this.config,this.Sk,this.Bd,q,t);};h=c;h=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.m2)),r.__param(1,(0,g.l)(d.ku)),r.__param(2,(0,g.l)(l.Lc)),r.__param(3,(0,g.l)(n.oT)),r.__param(4,(0,g.l)(a.TG))],h);b.sLa=h;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q;function c(t,v,w,u,x,y,z){u=n.wS.call(this,u,x) || this;u.config=t;u.Sk=v;u.Bd=w;u.rI=y;u.gba=z;u.log=(0,k.aj)(u.j,"LicenseBroker");u.EY=new Set();u.oxa=!1;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.uLa=void 0;r=a(0);g=a(3);k=a(9);m=a(340);f=a(5);d=a(1);l=a(584);n=a(585);h=a(57);p=a(16);q=a(48);ja(c,n.wS);c.prototype.cca=function(){var t,v;t=this;v=this.j.na;this.EY.has(v.K) || (this.EY.add(v.K),this.hDb(v).catch(function(){return t.ngb(v);}).then(function(){return t.mYa(v);}).catch(function(w){return t.lYa(v,w);}).catch(function(w){return t.Md(w.code,w,w.Yd);}));};c.prototype.hDb=function(t){var v;v=this;return Promise.all([this.Bd.T4a(t.K),this.rI()]).then(function(w){var u,x;w=ma(w);u=w.next().value;x=w.next().value;return u.Yda.then(function(y){var z;z=v.gba.mediaKeys;if(z && z !== y.mediaKeys)return (v.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === u.source && (z=v.V5a(t),x.Fbb(z,y));return y;}).then(function(y){return v.M6(y,t,u.source);});}).catch(function(w){v.log.warn("eme not in cache",w);throw w;});};c.prototype.M6=function(t,v,w){this.Leb(t,v);v.TH=w;this.gba.yXa(t.mediaKeys);return t.yna();};c.prototype.uQb=function(t){var v;v={};t.forEach(function(w){v[(0,m.r2a)(w.cZ)]=w.time.ja(f.sa);});return v;};c.prototype.Leb=function(t,v){var w;w=this;v.bf=t;t.$$b(function(u){w.Md(u.code,u,u.Yd);});};c.prototype.mYa=function(t){this.log.info("Successfully applied license for xid: " + t.qa + ", viewable: " + t.K + ", segment: " + t.Y);this.mB(t);this.oxa?this.Y8(t.K):this.setMediaKeys(t);};c.prototype.lYa=function(t,v){this.mB(t);throw v;};c.prototype.mB=function(t){t.bf && t.mB(this.uQb(t.bf.wd));};c.prototype.V5a=function(t){var v,w;v=t.Wy[0];w=v.streams[0].af;w=(0,q.gva)(w);v=(0,q.Wsa)(v.streams);return {type:this.L9(!1),initData:t.Vv.map(function(u){return (0,k.Hs)(u);}),Z$:w,context:{ca:this.ac.ca,vaa:v},pk:{K:t.K,qa:t.qa,Ug:t.Ug,om:t.om,Aj:t.fa.Aj}};};c.prototype.ngb=function(t){var v;v=this;return this.rI().then(function(w){var u;u=v.V5a(t);v.EY.add(t.K);return w.Ch(u,v.gba).then(function(x){v.Leb(x,t);v.j.fireEvent(p.ma.HY,{K:t.K});return x.yna();});});};c.prototype.setMediaKeys=function(t){var v;v=this;if(this.oxa)this.log.trace("Media Keys already set");else try{this.ac.ca?(this.oxa=!0,this.ac.ca.setMediaKeys(t.bf.mediaKeys).then(function(){v.Y8(t.K);}).catch(function(w){w=v.c7a(w);v.Md(g.$.PL,w,w.Rf);})):this.Y8(t.K);}catch(w){this.Md(g.$.PL,w,void 0);}};c.prototype.dC=function(){var t,v;t=this;v=this.j.na.bf;return v?this.rI().then(function(w){return w.release(v,t.gba).then(function(u){t.log.trace("Successfully released the license");return u.close();}).catch(function(u){t.log.error("Unable to release the license",u);});}):Promise.resolve();};c.prototype.mgb=function(t){var v;v=this;t=void 0 === t?this.j:t;return this.ngb(t).then(function(){return v.mYa(t);}).catch(function(w){return v.lYa(t,w);});};c.prototype.L9=function(t){return this.Sk.dX?h.Ni.lp:t?h.Ni.lp:h.Ni.Fq;};Ua.Object.defineProperties(c.prototype,{mF:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},zn:{configurable:!0,enumerable:!0,get:function(){return this.config.zn;}}});a=c;r.__decorate([l.Daa],a.prototype,"mF",null);a=r.__decorate([(0,d.aa)()],a);b.uLa=a;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v;function c(w,u,x,y,z){y=p.wS.call(this,y,z) || this;y.config=w;y.Sk=u;y.Bd=x;y.log=(0,k.aj)(y.j,"LegacyLicenseBroker");y.zn=y.config().zn;y.config().Ueb?(0,f.u9a)()?y.mfa=!0:y.log.error("Promise based eme requested but platform does not support it",{browserua:d.DG}):y.mfa=!1;return y;}Object.defineProperty(b,"__esModule",{value:!0});b.mLa=void 0;r=a(0);g=a(3);k=a(9);m=a(163);f=a(40);d=a(13);l=a(1);n=a(584);h=a(47);p=a(585);q=a(57);t=a(5);ja(c,p.wS);c.prototype.w0a=function(w){var u;u=void 0 === u?this.j:u;return new this.At.wL(w,function(x){return u.G7.LI(x);},function(x){return u.G7.release(x);},{Vf:!1,Gl:!1});};c.prototype.gE=function(w){var u,x,y,z,A,B;u=this;w=void 0 === w?this.j:w;x=a(60).ro;this.At.wL || this.Md(g.$.EL,g.X.oqb);y=(0,k.aj)(w,"Eme");z=this.w0a(y);A=k.Ea.get(m.KT);B=A.K7(w.Ec.value.streams);A=A.Q7(w.Lh.value.streams);return this.At.yL(y,function(C){return w.Qe(C);},{Vf:!1,Gl:!1,Ba:{getTime:x},Em:z,j_:! !this.mfa,ca:this.ac.ca,DC:this.config().I2a,onerror:function(C,D,E){return u.Md(C,D,E);},bya:function(){},SJ:!0,RDb:B,cgc:A,lwa:this.Sk.J6.ja(t.sa)});};c.prototype.setMediaKeys=function(w){var u;u=this;return this.mfa?new Promise(function(x,y){if(u.ac.ca)u.ac.ca.setMediaKeys(w).then(function(){x();}).catch(function(z){var A;A=u.c7a(z);y({ga:!1,code:g.$.PL,Kc:A.za,Yd:A.Rf,Qb:A.Qb,message:"Set media keys is a failure",cause:z});});else return Promise.resolve();}):Promise.resolve();};c.prototype.i3a=function(w){return {code:w.code,subCode:w.Kc,extCode:w.Yd,edgeCode:w.Bo,message:w.message,errorDetails:w.Qb,errorData:w.uE,state:w.state};};c.prototype.KBa=function(w,u,x){var z,A,B;function y(){A.dK().catch(function(C){z.log.error("Unable to set the license",z.i3a(C));C.cause && C.cause.Qb && (C.Qb=C.Qb?C.Qb + C.cause.Qb:C.cause.Qb);z.Md(C.code,C,C.Yd);});}z=this;x=void 0 === x?this.j:x;A=x.bf;this.log.info("Setting the license");B=u?function(){return Promise.resolve();}:function(){return A.Ch(z.L9(!1),w);};return (u?function(){return A.M6(z.ac.ca);}:function(){return A.create(z.zn).then(function(){return Promise.resolve();});})().then(B).then(function(){return z.setMediaKeys(A.mediaKeys);}).then(function(){z.log.info("license set");z.Y8(x.K);z.ac.Bmb.then(function(){z.config().cF && (u || z.config().dX) && (z.hgb=mb.setTimeout(y,z.config().cF));});}).catch(function(C){z.log.error("Unable to set the license",z.i3a(C));C.cause && C.cause.Qb && (C.Qb=C.Qb?C.Qb + C.cause.Qb:C.cause.Qb);if(u)throw Error(C && C.message?C.message:"failed to set license");z.Md(C.code,C,C.Yd);});};c.prototype.dC=function(){return Promise.resolve();};c.prototype.cca=function(){var u;function w(){var x;u.j.bf=u.gE();x=[];u.j.Vv.forEach(function(y){x.push((0,k.Hs)(y));});u.KBa(x);}u=this;this.EY || (this.EY=!0,this.At.yL?this.j.Vv?this.config().LW && this.config().Dt?this.Bd.T4a(this.j.K).then(function(x){u.j.bf=x;return x.kEa.then(function(){var y;y=[];u.j.Vv.forEach(function(z){y.push((0,k.Hs)(z));});return u.KBa(y,!0).then(function(){var z;if(x.xnc)u.Md(g.$.sqb);else {z=(0,k.aj)(u.j,"Eme");x.vlb({log:z,So:function(A){return u.j.Qe(A);}},{Em:u.w0a(z),onerror:function(A,B,C){return u.Md(A,B,C);}});u.j.mB(x.wd || ({}));u.j.TH="videopreparer";}});});}).catch(function(x){u.log.warn("eme not in cache",x);w();}):w():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Md(g.$.Qtb)):this.Md(g.$.EL,g.X.pqb));};c.prototype.mgb=function(w){var u;w=void 0 === w?this.j:w;w.bf=this.gE();u=[];w.Vv.forEach(function(x){u.push((0,k.Hs)(x));});return this.KBa(u,!1,w);};c.prototype.L9=function(w){return this.config().dX?q.Ni.lp:w?q.Ni.lp:q.Ni.Fq;};Ua.Object.defineProperties(c.prototype,{At:{configurable:!0,enumerable:!0,get:function(){return k.Ea.get(h.Q3);}},mF:{configurable:!0,enumerable:!0,get:function(){return this.mfa?"encrypted":this.ac.wIa + "needkey";}}});v=c;r.__decorate([n.Daa],v.prototype,"At",null);r.__decorate([n.Daa],v.prototype,"mF",null);v=r.__decorate([(0,l.aa)()],v);b.mLa=v;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u;Object.defineProperty(b,"__esModule",{value:!0});b.Fh=void 0;r=a(1);c=a(310);g=a(1405);k=a(311);m=a(1410);f=a(120);d=a(1412);l=a(1413);n=a(166);h=a(586);p=a(1414);q=a(587);t=a(1416);v=a(83);w=a(588);u=a(1417);b.Fh=new r.Cd(function(x){x(c.lja).to(g.cQa).la();x(k.nja).to(m.oQa).la();x(f.RL).to(d.aQa).la();x(n.JG).to(l.ZPa).la();x(h.iQa).to(p.hQa).la();x(q.mQa).Te(function(y){var z;z=y.wb;return function(A){return new t.nQa(A,z.get(v.pz),z.get(n.JG));};});x(w.qLa).Te(function(y){var z;z=y.wb;return function(A,B,C){return new u.rLa(A,B,C,z.get(n.JG),z.get(f.RL));};});});},function(r,b,a){var g,k,m,f,d,l,n,h,p;function c(q,t,v,w,u,x,y){this.jg=q;this.kra=t;this.Jj=v;this.qDa=w;this.E5b=u;this.G5b=x;this.F5b=y;}Object.defineProperty(b,"__esModule",{value:!0});b.cQa=void 0;r=a(0);g=a(1);k=a(1406);m=a(7);f=a(166);d=a(359);l=a(586);n=a(366);h=a(587);a=a(311);c.prototype.create=function(q){return new k.dQa(q,this.jg,this.kra,this.Jj,this.qDa,this.E5b,this.G5b,this.F5b);};p=c;p=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.mb)),r.__param(1,(0,g.l)(d.QS)),r.__param(2,(0,g.l)(f.JG)),r.__param(3,(0,g.l)(n.HSa)),r.__param(4,(0,g.l)(l.iQa)),r.__param(5,(0,g.l)(h.mQa)),r.__param(6,(0,g.l)(a.nja))],p);b.cQa=p;},function(r,b,a){var g,k,m;function c(f,d,l,n,h,p,q,t){this.qDa=h;this.gEa=t;this.bX=!1;n.lfa && (f=new m.eQa().Udc(f));this.ub=q(f);this.nl=new k.pQa(this.ub);this.nl.Jhb(this.ub.na.P);this.log=d.hb("PlaygraphManager");this.Lb=l.create();this.Pv=p.create(this.ub,this.nl,this.log,this.Lb);this.Iac();}Object.defineProperty(b,"__esModule",{value:!0});b.dQa=void 0;g=a(16);k=a(1407);m=a(1409);c.prototype.KTb=function(){return this.ub.Jca;};c.prototype.Csa=function(){return this.ub.na;};c.prototype.g5a=function(){return this.ub.Yh;};c.prototype.TI=function(){return this.ub.Rl;};c.prototype.jl=function(f){for(var d=[],l=0;l < arguments.length;++l){d[l - 0]=arguments[l];}this.ub.jl.apply(this.ub,ha(d));};c.prototype.WGb=function(f){for(var d=[],l=0;l < arguments.length;++l){d[l - 0]=arguments[l];}this.ub.yYa(d);};c.prototype.kw=function(f){this.ub.Rl=f;};c.prototype.vk=function(f,d){this.ub.vk(f,d);};c.prototype.Wta=function(f,d,l,n){var h,p;l=void 0 === l?{}:l;n=void 0 === n?!0:n;if(f !== this.ub.Yh)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (h=this.TI().R[f].next) && void 0 !== h?h:{}).indexOf(d))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + f + " -> " + d);this.qib();null === (p=l.Nn) || void 0 === p?void 0:p.isUIAutoPlay;return this.Pv.Xta(d,l,n);};c.prototype.isReady=function(){return this.Pv.isReady();};c.prototype.addListener=function(f,d,l){this.Lb.addListener(f,d,l);};c.prototype.removeListener=function(f,d){this.Lb.removeListener(f,d);};c.prototype.Ho=function(){return this.Pv.Ho();};c.prototype.Fb=function(){return this.Pv.RI();};c.prototype.sKb=function(f,d,l){var n;f=void 0 === f?this.TI().fe:f;d=void 0 === d?{}:d;n=this.gEa.M0a(this);this.i6b(null !== f && void 0 !== f?f:this.TI().fe,d,l);return n;};c.prototype.zCb=function(f){var d;this.log.info("Adding segment - movieId: " + f.K + ", startPts: " + f.da + ", logicalEnd: " + f.jk);d=Object.assign({},f.Db,f.da?{da:f.da}:{},f.jk?{jk:f.jk}:{});this.mjb(f.K,d,f.fa);f=this.Pv.JXa(f);this.qib();return f;};c.prototype.transition=function(f){var d;d=this.ub.CX(this.ub.Yh);return d?this.Wta(this.ub.Yh,d,f):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(f){return this.Pv.close(f);};c.prototype.i6b=function(f,d,l){var n;void 0 === f && (f=null === (n=this.TI()) || void 0 === n?void 0:n.fe);(d || l) && this.mjb(this.TI().R[f].P,null !== d && void 0 !== d?d:{},l);this.Pv.$J(f);};c.prototype.mjb=function(f,d,l){l && this.nl.lV(f,l);this.nl.mCb(f,d);};c.prototype.Iac=function(){var f;f=this;this.ub.scc(function(){f.nl.ny();f.Pv.ny();});this.ub.tcc(function(d){f.Pv.xya(d);});this.ub.rcc(function(d){f.Pv.IJ(d);});this.addListener(g.KG.Q_,function(){return f.G3b();});this.addListener(g.Na.O8a,function(d){return f.v3b(d);});};c.prototype.qib=function(){var f;f=this;this.bX || (this.Fb().dna(g.ma.sK,function(d){return f.pF(d);}),this.bX=!0);};c.prototype.v3b=function(f){var d;d=this;this.Pv.Skb(f).catch(function(){return d.Lb.Uc(g.Na.error,f.M0());});};c.prototype.G3b=function(){var f;f=this.Fb().getError();f?this.Lb.Uc(g.Na.HN,f):(this.Lb.Uc(g.Na.c7),this.Lb.Uc(g.Na.cn),this.Lb.Uc(g.Na.hw),this.Lb.Uc(g.Na.Hm),this.Lb.Uc(g.Na.O0),this.Lb.Uc(g.Na.HN));};c.prototype.pF=function(f){var d,l,n;!1;d=f.metrics;if(d){l=this.Fb();n=l.dk(f.position.segmentId);d=l.dk(d.srcsegment);this.qDa.V6b(f,n,d,! !l.v6a().di);}};b.dQa=c;},function(r,b,a){var g;function c(k){this.ka=k;this.gS={};this.ny();}Object.defineProperty(b,"__esModule",{value:!0});b.pQa=void 0;g=a(1408);c.prototype.ny=function(){var k;k=this;Object.values(this.ka.Rl.R).forEach(function(m){m=m.P;k.gS[m] || k.F8a(m);});this.dfa();};c.prototype.jP=function(k){return this.gS[k];};c.prototype.bac=function(k){this.FX(k).state=g.Hz.aJa;this.dfa();};c.prototype.aac=function(k,m){k=this.FX(k);k.state=g.Hz.Error;k.error=m;k.Ggb(!1);this.dfa();};c.prototype.Jhb=function(k){k=this.FX(k);k.state=g.Hz.eqb;k.Ggb(!0);this.dfa();};c.prototype.mCb=function(k,m){this.FX(k).Db=m;};c.prototype.lV=function(k,m){this.FX(k).fa=m;};c.prototype.FX=function(k){var m;return null !== (m=this.jP(k)) && void 0 !== m?m:this.F8a(k);};c.prototype.F8a=function(k){var m,f;m=void 0;f=new Promise(function(d,l){m=function(n){(n?d:l)();};});return this.gS[k]={state:g.Hz.yNa,z7b:f,Ggb:m};};c.prototype.dfa=function(){var m;for(var k=this.ka.Yh;k=this.ka.CX(k);){m=this.Ko(k);if(this.gS[m].state === g.Hz.Error)break;if(this.gS[m].state === g.Hz.aJa)break;if(this.gS[m].state === g.Hz.yNa)break;}};c.prototype.Ko=function(k){return this.ka.Rl.R[k].P;};b.pQa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hz=void 0;r=b.Hz || (b.Hz={});r[r.yNa=0]="None";r[r.aJa=1]="Fetching";r[r.eqb=2]="Done";r[r.Error=3]="Error";},function(r,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.eQa=void 0;g=a(38);c.prototype.Udc=function(k){var m;if(!this.xYb(k.R))return k;m=new g.Kw().AK(k.fe);Object.entries(k.R).forEach(function(f){var d;d=ma(f);f=d.next().value;d=d.next().value;f === k.fe?m.vg(f,Object.assign(Object.assign({},d),{next:void 0,wa:void 0,Ub:void 0})):m.vg(f,d);});return m.Yi();};c.prototype.xYb=function(k){k=Object.values(k).map(function(m){return m.P;});return 1 === new Set(k).size;};b.eQa=c;},function(r,b,a){var g,k,m,f;function c(d,l){this.Fa=d;this.vZb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.oQa=void 0;r=a(0);g=a(1);k=a(18);m=a(588);c.prototype.create=function(d){return new (a(312).w4)(this.Fa.Rb(),d);};c.prototype.M0a=function(d){return new (a(1411).iTa)(this.Fa.Rb(),d,this.vZb);};f=c;f=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.cd)),r.__param(1,(0,g.l)(m.qLa))],f);b.oQa=f;},function(r,b,a){var g;function c(k,m,f){var d;d=g.w4.call(this,k,m) || this;d.seek=function(l){return d.Fb().seek(l);};d.addEpisode=function(l){return d.kwa.XBb(l);};d.playNextEpisode=function(l){l=void 0 === l?{}:l;return d.kwa.l5b(l);};d.watchCredits=function(l){return d.kwa.wgc(l);};d.playSegment=function(l){return d.Fb().$db(l);};d.queueSegment=function(l){return d.Fb().gfb(l);};d.updateNextSegmentWeights=function(l,n){return d.Fb().vk(l,n);};d.setNextSegment=function(l){for(var n=[],h=0;h < arguments.length;++h){n[h - 0]=arguments[h];}n=n.map(function(p){return {Y:p.segmentId,nQ:p.nextSegmentId};});d.Fh.jl.apply(d.Fh,ha(n));};d.clearNextSegment=function(l){for(var n=[],h=0;h < arguments.length;++h){n[h - 0]=arguments[h];}return d.Fh.WGb.apply(d.Fh,ha(n));};d.goToNextSegment=function(l,n){return d.Fh.Wta(l,n);};d.getPlaying=function(){return d.isPlaying();};d.getPaused=function(){return d.isPaused();};d.getMuted=function(){return d.isMuted();};d.getEnded=function(){return d.isEnded();};d.getTimedTextVisibility=function(){return d.isTimedTextVisible();};d.isTimedTextVisible=function(){return ! !d.Fb().LX().visibility;};d.setTimedTextVisibility=function(l){return d.setTimedTextVisible(l);};d.setTimedTextSize=function(l){return d.Fb().rR({size:l});};d.setTimedTextBounds=function(l){return d.Fb().rR({bounds:l});};d.setTimedTextMargins=function(l){return d.Fb().rR({margins:l});};d.setTimedTextVisible=function(l){return d.Fb().rR({visibility:l});};d.getCongestionInfo=function(l){l && l({success:!1,name:null,isCongested:null});};d.kwa=f(k,m,d.log);return d;}Object.defineProperty(b,"__esModule",{value:!0});b.iTa=void 0;g=a(312);ja(c,g.w4);b.iTa=c;},function(r,b,a){var g,k,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.aQa=void 0;r=a(0);g=a(120);k=a(1);m=a(38);c.prototype.pKb=function(f){var n,h,p;for(var d=[],l=0;l < arguments.length;++l){d[l - 0]=arguments[l];}n=this;if(0 === d.length)throw Error("Empty playgraph");h=new m.Kw().AK(this.Ws(d[0]));d.reverse().forEach(function(q){var t;t=n.Ws(q);h.vg(t,Object.assign({P:q,xa:0,wa:Infinity},p?{Ub:p}:{}));p=t;});return h.Yi();};c.prototype.Ws=function(f,d){d=void 0 === d?g.LG.aia:d;return f + ":" + d;};c.prototype.fDb=function(f,d){var l,n,h,p;if(void 0 === h)h=null !== (l=d.id) && void 0 !== l?l:this.Ws(d.K);l=this.R5a(f);p=new m.Kw(f);p.vg(h,{P:d.K,xa:null !== (n=d.da) && void 0 !== n?n:0,wa:Infinity});f=f.R[l];d={};p.vg(l,Object.assign({},f,{Ub:h,next:Object.assign({},f.next || ({}),(d[h]={},d))}));return p.Yi();};c.prototype.R5a=function(f){for(var d=f.fe,l=d;l=f.R[l].Ub;){d=l;}return d;};a=c;a=r.__decorate([(0,k.aa)()],a);b.aQa=a;},function(r,b,a){var g,k,m,f,d;function c(l){return k.zf.call(this,l,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ZPa=void 0;r=a(0);g=a(1);k=a(45);m=a(33);f=a(44);d=a(5);ja(c,k.zf);Ua.Object.defineProperties(c.prototype,{o6b:{configurable:!0,enumerable:!0,get:function(){return 2;}},n6b:{configurable:!0,enumerable:!0,get:function(){return (0,d.yba)(3);}},aEa:{configurable:!0,enumerable:!0,get:function(){return !1;}},lfa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Wlb:{configurable:!0,enumerable:!0,get:function(){return !1;}},c4a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Mca:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;r.__decorate([f.config(f.AC,"prepareSegmentsUpfront")],a.prototype,"o6b",null);r.__decorate([f.config(f.Kl,"prepareSegmentsDuration")],a.prototype,"n6b",null);r.__decorate([f.config(f.Ed,"usePlaygraphForPostPlay")],a.prototype,"aEa",null);r.__decorate([f.config(f.Ed,"usePlaygraphForSkipSegment")],a.prototype,"lfa",null);r.__decorate([f.config(f.Ed,"useSinglePlayerPlayback")],a.prototype,"Wlb",null);r.__decorate([f.config(f.Ed,"forcePlaygraphTrace")],a.prototype,"c4a",null);r.__decorate([f.config(f.Ed,"postPlayDefaultNextEpisode")],a.prototype,"Mca",null);a=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(m.Qm))],a);b.ZPa=a;},function(r,b,a){var g,k,m,f,d,l,n,h,p,q;function c(t,v,w,u,x,y,z){this.Fa=t;this.l$b=w;this.Jj=x;this.Gn=z;this.j$b=v.HI(!1,"6.0038.217.911",t.id,y,u);}Object.defineProperty(b,"__esModule",{value:!0});b.hQa=void 0;r=a(0);g=a(1);k=a(18);m=a(166);f=a(1415);d=a(363);l=a(230);n=a(12);h=a(589);p=a(37);a=a(120);c.prototype.create=function(t,v,w,u){var x,y;x=this.l$b.gKb(t,this.j$b,v);y=t.bEa;w.debug("Using " + (y?"single":"multiple") + " player playback strategy");return y?new f.NRa(this.Jj,t,v,w,x,u,this.Gn):new h.CG(t,v,x,u,this.Gn);};q=c;q=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(k.cd)),r.__param(1,(0,g.l)(d.zRa)),r.__param(2,(0,g.l)(l.Kja)),r.__param(3,(0,g.l)(n.Lc)),r.__param(4,(0,g.l)(m.JG)),r.__param(5,(0,g.l)(p.P3)),r.__param(6,(0,g.l)(a.RL))],q);b.hQa=q;},function(r,b,a){var g,k,m,f,d;function c(l,n,h,p,q,t,v){var w;w=f.CG.call(this,n,h,q,t,v) || this;w.Jj=l;w.ya=p;w.bX=!1;w.ara=new Map();w.y3b=function(){w.RI().dna(k.ma.sK,function(u){w.Lb.Uc(k.KG.Q_);w.ub.Yh=u.position.segmentId;});};w.YWb();t.addListener(k.Na.loaded,w.y3b);return w;}Object.defineProperty(b,"__esModule",{value:!0});b.NRa=void 0;g=a(38);k=a(16);m=a(3);f=a(589);d=a(120);ja(c,f.CG);c.prototype.JXa=function(l){var n,h,p,q,t,v,w,u,x,y,z;n=this;p=this.ub.Rl;q=this.Gn.Ws(l.K,"ident");t=this.Gn.Ws(l.K,"main");v=this.Gn.Ws(l.K,"credits");w=isFinite(l.jk);u=isFinite(l.da) && l.K !== p.R[p.fe].P;x={};y=new g.Kw(p).vg(t,Object.assign({P:l.K,xa:u && l.da || 0,wa:null !== (h=l.jk) && void 0 !== h?h:Infinity},w?{next:(x[v]={},x),Ub:v}:{}));u && (h={},y.vg(q,{P:l.K,xa:0,wa:l.da,next:(h[t]={},h),Ub:t}));w && y.vg(v,{P:l.K,xa:l.jk,wa:Infinity});if(!this.ub.Ky(t)){l=p.R[this.Gn.R5a(p)].P;z=this.Gn.Ws(l,d.LG.xGa);[this.Gn.Ws(l,d.LG.aia),z].filter(function(A){return n.ub.Ky(A);}).forEach(function(A){var B,C,D;B=n.ub.De(A);C=A === z || n.Jj.Mca;D={};y.vg(A,Object.assign({},B,{next:Object.assign({},B.next,(D[t]={},D))},C?{Ub:t}:{}));});}this.ub.Rl=y.Yi();return this.$J(t);};c.prototype.ny=function(){this.isReady() && this.RI().ny();};c.prototype.xya=function(){};c.prototype.IJ=function(l){this.RI().IJ(l);};c.prototype.Xta=function(l,n,h){n=void 0 === n?{}:n;this.ya.debug("goToSegment " + l);return this.RI().RX(l,n,h);};c.prototype.$J=function(l){if(l === this.i$b)return null;this.i$b=l;return this.bX?this.nl.jP(this.ub.De(l).P).z7b:(this.bX=!0,f.CG.prototype.$J.call(this,l));};c.prototype.Skb=function(l){return l.errorCode && this.ara.has(l.errorCode)?this.ara.get(l.errorCode)(l):Promise.reject(Error("Error " + l.errorCode + " isn't recoverable"));};c.prototype.YWb=function(){var l;l=this;this.ara.set(m.$.fOa,function(){var n,h;return null !== (h=null === (n=f.CG.prototype.$J.call(l,l.ub.Yh)) || void 0 === n?void 0:n.then(function(){var p,q;f.CG.prototype.Xta.call(l,l.ub.Yh,null !== (q=null === (p=l.nl.jP(l.ub.na.P)) || void 0 === p?void 0:p.Db) && void 0 !== q?q:{});})) && void 0 !== h?h:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.NRa=c;},function(r,b,a){var g,k;function c(m,f,d){this.lB=f;this.Jj=d;this.B5={};this.nlb=[];this.Hib=[];this.ccb=[];this.Cna=new WeakMap();this.reset(m);}Object.defineProperty(b,"__esModule",{value:!0});b.nQa=void 0;g=a(38);k=a(38);c.prototype.reset=function(m){var f;f=1 < Object.keys(m.R).length && 1 === new Set(Object.values(m.R).map(function(d){return d.P;})).size;this.kBb=this.Jj.Wlb || f;this.aib(m);this.Yh=m.fe;this.Jzb=this.lB.JA();this.nCa=new Map();};c.prototype.S9=function(m){if(this.bEa)return this.Rl;this.Cna.has(m) || this.Cna.set(m,(0,g.kea)(m.K,m.Y));return this.Cna.get(m);};c.prototype.aib=function(m){this.Kzb=m;this.B5={};m=Object.keys(m.R);this.yYa(m);this.v2b();};c.prototype.jl=function(m){var l;for(var f=[],d=0;d < arguments.length;++d){f[d - 0]=arguments[d];}l=this;f.filter(function(n){return l.Ky(n.Y);}).filter(function(n){n=n.nQ;return !n || l.Ky(n);}).forEach(function(n){var h;h=n.Y;l.B5[h]=l.Bcb(n.nQ);l.m2b(h);});};c.prototype.yYa=function(m){var f;f=this;m.filter(function(d){return f.Ky(d);}).forEach(function(d){f.B5[d]=f.Bcb(f.De(d).Ub);});};c.prototype.vk=function(m,f){var d,l,n;d=this.De(m);if(d && d.next){l=new k.Kw(this.Rl);n=Object.keys(d.next).reduce(function(h,p){h[p]=void 0 === f[p]?d.next[p]:Object.assign({},d.next[p],{weight:f[p]});return h;},{});n=Object.assign({},d,{next:n});l.vg(m,n);this.Rl=l.Yi();}};c.prototype.Ky=function(m,f){f=void 0 === f?this.Rl.R:f;return (m in f);};c.prototype.CX=function(m){return this.B5[m];};c.prototype.De=function(m){return this.Rl.R[m];};c.prototype.oUb=function(m){if(this.nCa.has(m))return this.nCa.get(m);m=this.De(m);return isFinite(m.wa)?m.wa:void 0;};c.prototype.cfc=function(m,f){this.nCa.set(m,f);this.r2b(m);};c.prototype.scc=function(m){this.nlb.push(m);};c.prototype.tcc=function(m){this.Hib.push(m);};c.prototype.rcc=function(m){this.ccb.push(m);};c.prototype.v2b=function(){var m;m=this;this.nlb.forEach(function(f){return f(m.Rl);});};c.prototype.m2b=function(m){this.ccb.forEach(function(f){return f(m);});};c.prototype.r2b=function(m){this.Hib.forEach(function(f){return f(m);});};c.prototype.Bcb=function(m){return null === m?void 0:m;};Ua.Object.defineProperties(c.prototype,{Jca:{configurable:!0,enumerable:!0,get:function(){return this.Jzb;}},bEa:{configurable:!0,enumerable:!0,get:function(){return this.kBb;}},Rl:{configurable:!0,enumerable:!0,get:function(){return this.Kzb;},set:function(m){if(this.Yh && !this.Ky(this.Yh,m.R))throw Error("Provided playgraphMap does not contain the current segmentId " + this.Yh);this.aib(m);}},Yh:{configurable:!0,enumerable:!0,get:function(){return this.Gwb;},set:function(m){if(!this.Ky(m))throw Error("Provided currentSegmentId " + m + " does not exist in the current playgraph");this.Gwb=m;}},na:{configurable:!0,enumerable:!0,get:function(){return this.De(this.Yh);}}});b.nQa=c;},function(r,b,a){var g,k;function c(m,f,d,l,n){this.Ij=m;this.Fh=f;this.log=d;this.Jj=l;this.Gn=n;this.Aca=new g.fja();}Object.defineProperty(b,"__esModule",{value:!0});b.rLa=void 0;g=a(590);k=a(120);c.prototype.XBb=function(m){var f,d,l,n,h,p,q;this.log.info("Next episode added",m);p=this.Aca.Twa(m.playbackParams);q=Math.max(0,null !== (l=null !== (d=null !== (f=m.startPts) && void 0 !== f?f:m.nextStartPts) && void 0 !== d?d:p.da) && void 0 !== l?l:0);f=null !== (h=null !== (n=m.endPts) && void 0 !== n?n:m.currentEndPts) && void 0 !== h?h:p.jk;return this.Fh.zCb({K:m.movieId,da:q,jk:f,Db:p,fa:m.manifest,Ij:this.Ij});};c.prototype.l5b=function(m){var f,d,l,n,h,p;m=this.Aca.Twa(m);this.log.info("Playing the next episode",m);l=this.Fh.g5a();n=this.Fh.TI();h=n.R[l];p=Object.keys(null !== (f=h.next) && void 0 !== f?f:{}).find(function(q){return h.P !== n.R[q].P;});f=!this.Jj.Mca || !(null === (d=m.Nn) || void 0 === d?0:d.isUIAutoPlay);return p?this.Fh.Wta(l,p,m,f):Promise.reject(Error("Next episode not found"));};c.prototype.wgc=function(m){var f,d;f=this.Gn.Ws(m,k.LG.aia);m=this.Gn.Ws(m,k.LG.xGa);d=this.Fh.ub;this.Jj.Mca && d.Yh !== m && d.Ky(m) && d.CX(f) !== m && this.Fh.jl({Y:f,nQ:m});};b.rLa=c;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.BYa=void 0;r=a(1);c=a(1419);g=a(34);b.BYa=new r.Cd(function(k){k(g.mj).to(c.AFa).la();});},function(r,b,a){var g,k,m,f,d,l,n,h,p,q,t,v,w;function c(u,x,y,z,A,B){var C;C=this;this.Zl=u;this.config=y;this.Gt=z;this.debug=A;this.Fa=B;this.tkb=[];this.wd={};this.log=x.hb("loadAsync");this.G_b=(0,t.iJa)(function(D){C.k8b=!0;C.startTime=C.Fa.Rb().ja(p.sa);C.load(C.tkb).then(function(){C.endTime=C.Fa.Rb().ja(p.sa);D(w.Zg);}).catch(function(E){C.endTime=C.Fa.Rb().ja(p.sa);D(E);});});}Object.defineProperty(b,"__esModule",{value:!0});b.AFa=void 0;r=a(0);g=a(82);k=a(3);m=a(1420);f=a(61);d=a(1);l=a(7);n=a(12);h=a(68);p=a(5);q=a(111);t=a(591);v=a(18);w=a(17);c.prototype.IY=function(u){this.G_b(u);};c.prototype.register=function(u,x){this.debug.assert(!this.k8b);this.tkb.push({$Zb:this.KFb(x),errorCode:u});};c.prototype.Qe=function(u){this.debug.assert(void 0 === this.wd[u]);this.wd[u]=this.Fa.Rb().ja(p.sa);};c.prototype.load=function(u){var x;x=this;return (0,m.Ieb)(u).then(function(y){x.Zl.mark(f.jp.Bk.mnb);return y.reduce(function(z,A){return z.then(function(){return x.XZb(A);});},Promise.resolve()).then(function(){x.Zl.mark(f.jp.Bk.knb);});});};c.prototype.XZb=function(u){var x,y;x=this;y=u.$Zb;!1;return this.Gt.Mt((0,p.xc)(this.config().GDb),y()).catch(function(z){x.log.error("Failed to load component " + u.errorCode,z);x.Zl.mark(f.jp.Bk.lnb);if(z instanceof h.rs)throw {za:k.X.jnb,errorCode:u.errorCode};z.errorCode=z.errorCode || u.errorCode;z.za=z.za || k.X.inb;throw z;});};c.prototype.KFb=function(u){return function(){return new Promise(function(x,y){u(function(z){z.ga?x():y(z);});});};};a=c;a=r.__decorate([(0,d.aa)(),r.__param(0,(0,d.l)(g.$L)),r.__param(1,(0,d.l)(l.mb)),r.__param(2,(0,d.l)(n.Lc)),r.__param(3,(0,d.l)(h.MG)),r.__param(4,(0,d.l)(q.gz)),r.__param(5,(0,d.l)(v.cd))],a);b.AFa=a;},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.Ieb=void 0;c=a(3);g=[c.$.xrb,c.$.yKa,c.$.zKa,c.$.DKa,c.$.vKa,c.$.tKa,c.$.Bha,c.$.Brb,c.$.wKa,c.$.uKa,c.$.UC,c.$.qKa,c.$.sKa,c.$.AKa,c.$.BKa,c.$.CKa,c.$.xKa,c.$.rKa];(function(m){m.Xsb=function(f){var n;for(var d={},l=0;l < f.length;l++){n=f[l];if(d[n.errorCode])return {errorCode:n.errorCode,za:c.X.gnb};d[n.errorCode]=1;}};m.Ysb=function(f){var l;for(var d=0;d < f.length;d++){l=f[d];if(-1 === g.indexOf(l.errorCode))return {errorCode:l.errorCode,za:c.X.hnb};}};})(k || (k={}));b.Ieb=function(m){return new Promise(function(f,d){var l;l=k.Ysb(m);l && d(l);(l=k.Xsb(m)) && d(l);f(m.sort(function(n,h){return g.indexOf(n.errorCode) - g.indexOf(h.errorCode);}));});};},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.fa=void 0;r=a(1);c=a(1422);g=a(115);b.fa=new r.Cd(function(k){k(g.zG).to(c.nMa).la();});},function(r,b,a){var g,k,m,f,d,l,n,h,p,q;function c(t,v,w,u,x,y){this.Qg=v;this.mab=u;this.QY=y;this.u_=new Map();this.log=t.hb("ManifestFetcher");this.hh=w.hh;this.lFb=x().QNb;}Object.defineProperty(b,"__esModule",{value:!0});b.nMa=void 0;r=a(0);g=a(1);k=a(18);m=a(36);f=a(7);d=a(5);l=a(12);n=a(100);h=a(60);p=a(296);a=a(136);c.prototype.NI=function(t,v,w){var u;u=this;v=void 0 === v?!0:v;w && this.rCb(t.P,w);return v && this.k$(t.P)?this.x9(t.P).catch(function(){return u.pgb(t,v);}):this.pgb(t,v);};c.prototype.k$=function(t){return this.hh.VX(t,"manifest");};c.prototype.o0=function(t,v){var w;w=this;this.lFb && this.hh.setData(t,"manifest",v,function(){return w.kVb(t,v?Promise.resolve(v):void 0);});};c.prototype.x9=function(t){var v;v=this;return this.hh.getData(t,"manifest").then(function(w){if(!w)throw Error("Manifest not found");if(w.$a.expiration <= (0,h.A7)())throw (v.hh.clearData(t,"manifest"),Error("Manifest has expired"));return w;});};c.prototype.kVb=function(t,v){var w;null === (w=this.u_.get(t)) || void 0 === w?void 0:w.forEach(function(u){return u(v);});this.u_.delete(t);};c.prototype.rCb=function(t,v){this.u_.has(t) || this.u_.set(t,[]);this.u_.get(t).push(v);};c.prototype.pgb=function(t,v){var w,u,x;w=this;this.log.trace("Requesting a new manifest",t.P);u=this.Qg.Rb().ja(d.sa);x=(t.Wi?this.nec(t).catch(function(y){w.log.warn(y.message);return w.mab.Sf(w.log,t);}):this.mab.Sf(this.log,t)).then(function(y){var z,A;if(y.SA){z=y.SA;A={Yda:Promise.resolve(z),source:"manifest"};delete y.SA;w.hh.setData(t.P,"ldl",A,function(){z.close().catch(function(B){w.log.info("Unable to cleanup LDL session.",B);});});}t.dv === n.bo.GG && (y.iK=u,y.$Q=w.Qg.Rb().ja(d.sa));return y;}).catch(function(y){v && w.o0(t.P,void 0);w.log.error("Failed to fetch manifest",m.od.cf(y));throw y;});v && this.o0(t.P,x);return x;};c.prototype.nec=function(t){var v;v=this;return new Promise(function(w,u){var x,y,z,A,B;v.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",t.P);A=null === (x=t.Wi) || void 0 === x?void 0:x.KZ;if(!A)return u(Error("Parent manifest does not exist."));B=null === (y=t.Wi) || void 0 === y?void 0:y.Oe;x=null === (z=A.Iu) || void 0 === z?void 0:z.find(function(C){return C.K === t.P && (void 0 === B || C.Oe === B);});if(!x)return u(Error("Auxiliary manifest not found in parent manifest."));w(v.QY.create(x));});};q=c;q=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(f.mb)),r.__param(1,(0,g.l)(k.cd)),r.__param(2,(0,g.l)(p.Cga)),r.__param(3,(0,g.l)(n.Qia)),r.__param(4,(0,g.l)(l.Lc)),r.__param(5,(0,g.l)(a.IL))],q);b.nMa=q;},function(r,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.cYa=void 0;c=a(1424);g=a(175);r=a(1);k=a(79);m=a(12);b.cYa=new r.Cd(function(f){f(g.D1).to(c.ZEa).la();});b.profile=new r.Cd(function(f){f(k.TL).UF(function(d){return (d=d.wb.get(m.Lc)()) && d.UA?"browsertest":"browser";});});},function(r,b,a){var g,k,m,f,d,l;function c(n,h,p,q){n=f.zf.call(this,n,void 0 === q?"AppInfoConfigImpl":q) || this;n.config=h;n.Vea=p;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.ZEa=void 0;r=a(0);g=a(1);k=a(39);m=a(44);f=a(45);d=a(33);a=a(285);ja(c,f.zf);c.prototype.tTb=function(n){return "" + this.$2a + (this.Vea.eea(n)?"/msl_v1":"");};c.prototype.FTb=function(n){return "" + this.host + (this.Vea.eea(n)?"/msl":"") + "/playapi";};Ua.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},$2a:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var n;switch(this.config.DO){case k.mz.$ub:n="www.stage";break;case k.mz.rSa:n="www-qa.test";break;case k.mz.YKa:n="www-int.test";break;default:n="www";}return "https://" + n + ".netflix.com";}},aZa:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});l=c;r.__decorate([m.config(m.string,"apiEndpoint")],l.prototype,"endpoint",null);r.__decorate([m.config(m.string,"nqEndpoint")],l.prototype,"$2a",null);r.__decorate([m.config(m.string,"bindService")],l.prototype,"aZa",null);l=r.__decorate([(0,g.aa)(),r.__param(0,(0,g.l)(d.Qm)),r.__param(1,(0,g.l)(k.kp)),r.__param(2,(0,g.l)(a.s4)),r.__param(3,(0,g.l)(d.S1)),r.__param(3,(0,g.optional)())],l);b.ZEa=l;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Ifc=b.hvb=b.fvb=b.evb=b.gvb=void 0;c=a(15);g=a(13);b.gvb=function(k,m,f){for(f=(f - k.length) / m.length;0 < f--;){k+=m;}return k;};b.evb=function(k,m,f){f=(0,c.Cg)(f)?f:"...";return k.length <= m?k:k.substr(0,k.length - (k.length + f.length - m)) + f;};b.fvb=function(k,m){var d;for(var f=1;f < arguments.length;++f){;}d=g.slice.call(arguments,1);return k.replace(/{(\d+)}/g,function(l,n){return "undefined" != typeof d[n]?d[n]:l;});};b.hvb=function(k){for(var m=k.length,f=new Uint16Array(m),d=0;d < m;d++){f[d]=k.charCodeAt(d);}return f.buffer;};b.Ifc=function(k){var m;m=new Uint8Array(k.length);Array.prototype.forEach.call(k,function(f,d){m[d]=f.charCodeAt(0);});return m;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(9);b=a(114);a=a(294);r.Ea.get(b.GL).lda(a.Xha.Lob,function(c){var g,k;g=c.level;if(!mb._cad_global.config || g <= mb._cad_global.config.q_b){c=c.Oea();k=mb.console;1 >= g?k.error(c):2 >= g?k.warn(c):k.log(c);}});},function(r,b,a){var l,n,h,p,q;function c(t){var v,u;(0,n.mW)(t);if((0,p.Cg)(t) && b.HKa.test(t)){v=t.split(".");if(4 === v.length){for(var w=0;w < v.length;w++){u=(0,q.nk)(v[w]);if(0 > u || !(0,p.YE)(u,0,255) || 1 !== v[w].length && 0 === v[w].indexOf("0"))return;}return t;}}}function g(t){var v;v=0;if(c(t) === t)return (t=t.split("."),v+=(0,q.nk)(t[0]) << 24,v+=(0,q.nk)(t[1]) << 16,v+=(0,q.nk)(t[2]) << 8,v + (0,q.nk)(t[3]));}function k(t){var v,w;(0,n.mW)(t);if((0,p.Cg)(t) && t.match(b.IKa)){v=t.split(":");-1 !== v[v.length - 1].indexOf(".") && (t=m(v[v.length - 1]),v.pop(),v.push(t[0]),v.push(t[1]),t=v.join(":"));t=t.split("::");if(!(2 < t.length || 1 === t.length && 8 !== v.length) && (v=1 < t.length?f(t):v,t=v.length,8 === t)){for(;t--;){w=parseInt(v[t],16);if(!(0,p.YE)(w,0,l.aMa))return;}return v.join(":");}}}function m(t){var v;t=g(t) >>> 0;v=[];v.push((t >>> 16 & 65535).toString(16));v.push((t & 65535).toString(16));return v;}function f(t){var v,w,u;v=t[0].split(":");t=t[1].split(":");1 === v.length && "" === v[0] && (v=[]);1 === t.length && "" === t[0] && (t=[]);w=8 - (v.length + t.length);if(1 > w)return [];for(u=0;u < w;u++){v.push("0");}for(u=0;u < t.length;u++){v.push(t[u]);}return v;}function d(t){return -1 << 32 - t;}Object.defineProperty(b,"__esModule",{value:!0});b.Mrb=b.Rrb=b.Orb=b.Nrb=b.Qrb=b.Lrb=b.Prb=b.rG=b.IKa=b.HKa=void 0;l=a(17);n=a(23);h=a(13);p=a(15);q=a(25);b.HKa=/^[0-9.]*$/;b.IKa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.rG="0000000000000000";b.Prb=c;b.Lrb=g;b.Qrb=k;b.Nrb=m;b.Orb=f;b.Rrb=function(t,v,w){var u,x,y,z;u=c(t);x=k(t);y=c(v);z=k(v);if(!u && !x || !y && !z || u && !y || x && !z)return !1;if(t === u)return (w=d(w),(g(t) & w) !== (g(v) & w)?!1:!0);if(t === x){t=t.split(":");v=v.split(":");for(u=(0,h.JL)(w / b.rG.length);u--;){if(t[u] !== v[u])return !1;}w%=b.rG.length;if(0 !== w)for((t=parseInt(t[u],16).toString(2),v=parseInt(v[u],16).toString(2),t=b.rG.substring(0,b.rG.length - t.length) + t,v=b.rG.substring(0,b.rG.length - v.length) + v,u=0);u < w;u++){if(t[u] !== v[u])return !1;}return !0;}return !1;};b.Mrb=d;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(19);a(17);r=a(9);a(114);a(294);a(3);a(113);a(5);a=a(34);r.Ea.get(a.mj);!1;},function(r,b,a){var c,g,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(40);g=a(17);k=a(3);m=a(13);r=a(9);a=a(34);f=r.Ea.get(a.mj);f.register(k.$.DKa,function(d){m.gr && m.gr.generateKey && m.gr.importKey && m.gr.unwrapKey?(f.Qe("wcs"),(0,c.LJ)(m.gr.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){f.Qe("wcdone");d(g.Zg);},function(l){var n;l="" + l;if(0 <= l.indexOf("missing crypto.subtle"))n=k.X.kka;else 0 <= l.indexOf("timeout waiting for iframe to load") && (n=k.X.yvb);d({za:n,Qb:l});})):d({za:k.X.kka});});},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});r=a(3);c=a(9);g=a(540);a=a(34);c.Ea.get(a.mj).register(r.$.tKa,function(k){c.Ea.get(g.fIa)().then(function(){k({ga:!0});}).catch(function(m){c.log.error("error in initializing indexedDb debug tool",m);k({ga:!0});});});},function(r,b,a){var m,f,d,l;function c(n,h,p,q){var t,v,w;(0,m.Ka)((0,l.ek)(n) && !(0,l.isArray)(n));q=q || "";t="";v=n.hasOwnProperty(d.p1) && n[d.p1];v && (0,f.ph)(v,function(u,x){t && (t+=" ");t+=u + '="' + k(x) + '"';});p=(h?h + ":":"") + p;v=q + "<" + p + (t?" " + t:"");w=n.hasOwnProperty(d.az) && n[d.az].trim && "" !== n[d.az].trim() && n[d.az];if(w)return v + ">" + k(w) + "</" + p + ">";n=g(n,h,q + "  ");return v + (n?">\n" + n + "\n" + q + "</" + p + ">":"/>");}function g(n,h,p){var q;(0,m.Ka)((0,l.ek)(n) && !(0,l.isArray)(n));p=p || "";q="";(0,f.ph)(n,function(t,v){var x;if("$" != t[0])for(var w=(0,f.cy)(v),u=0;u < w.length;u++){if((v=w[u],q && (q+="\n"),(0,l.ek)(v)))q+=c(v,h,t,p);else {x=(h?h + ":":"") + t;q+=p + "<" + x + ">" + k(v) + "</" + x + ">";}}});return q;}function k(n){if((0,l.Cg)(n))return (0,f.uua)(n);if((0,l.Oa)(n))return ((0,m.lW)(n,"Convert non-integer numbers to string for xml serialization."),"" + n);if(null === n || void 0 === n)return "";(0,m.Ka)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.Idc=b.TYb=b.SYb=void 0;m=a(23);f=a(25);d=a(203);l=a(15);b.SYb=c;b.TYb=g;b.Idc=k;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C,D,E;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(300);k=a(208);m=a(19);f=a(17);d=a(3);l=a(23);n=a(9);h=a(82);p=a(61);q=a(96);t=a(25);v=a(13);w=a(15);u=a(40);x=a(113);y=a(5);r=a(34);z=a(509);A=a(140);B=a(63);C=a(79);D={};E=n.Ea.get(r.mj);E.register(d.$.wKa,function(G){var M,K,O,H,J,R,P,T,V,S,W,ia,ra,ua;function F(Aa){Aa && Aa.userList && m.config.Sac && (Aa.userList=[]);H({esn:k.Rk.El,esnPrefix:k.Rk.Tp,authenticationKeyNames:m.config.hEb,systemKeyWrapFormat:m.config.Qcc,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:ra,storeState:Aa,notifyMilestone:E.Qe.bind(E),log:P,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:d.X.Asb,MSL_READ_TIMEOUT:d.X.zsb}},{result:function(Ha){I(Ha);},timeout:function(){G({za:d.X.hMa});},error:function(Ha){G(L(d.X.hMa,void 0,Ha));}});}function I(Aa){var N,Q,U,Z;function Ha(){ia && n.Ea.get(q.JC).create().then(function(qa){return qa.save(S,U,!1);}).catch(function(qa){P.error("Error persisting msl store",(0,d.nz)(qa));});}N=this;Q=n.Ea.get(x.YL)((0,y.xc)(100));Z=J.extend({init:function(qa){this.GVa=qa;},getResponse:function(qa,Fa,Oa){var Ra,Pa;Fa=this.GVa;Ra=Fa.Kxa.pf || Ra;qa=(0,w.Iva)(qa.body)?(0,n.W0)(qa.body):qa.body;(0,l.mW)(qa,"Msl should not be sending empty request");qa={url:Fa.url,seb:qa,withCredentials:!0,lE:"nq-" + Fa.method,headers:Fa.headers};Fa=this.GVa.timeout;qa.F7=Fa;qa.Vxa=Fa;Pa=Ra.download(qa,function(Va){try{if(Va.ga)Oa.result({body:Va.content});else if(400 === Va.Dl && Va.Qb)Oa.result({body:Va.Qb});else throw (0,t.Fe)(new R("HTTP error, SubCode: " + Va.za + (Va.Dl?", HttpCode: " + Va.Dl:"")),{cadmiumResponse:Va});}catch(bb){Oa.error(bb);}});return {abort:function(){Pa.abort();}};}});V && Aa.addEventHandler("shouldpersist",function(qa){U=qa.storeState;Q.Wl(Ha);});(0,t.Fe)(D,{ppc:function(){W=!0;},send:function(qa){function Fa(){var Oa,Ra;Oa=qa.Kxa;Ra={method:qa.method,nonReplayable:qa.lcb,encrypted:qa.pm,userId:qa.Zlb,body:qa.body,timeout:2 * qa.timeout,url:new Z(qa),allowTokenRefresh:ia,sendUserAuthIfRequired:ua,shouldSendUserAuthData:m.config.Yac};Oa.email?(Ra.email=Oa.email,Ra.password=Oa.password || ""):W && (Ra.useNetflixUserAuthData=!0);return Ra;}return new Promise(function(Oa,Ra){var Pa;Pa=Fa();Aa.send(Pa).then(function(Va){W && (W=!1);Oa({ga:!0,body:Va.body});}).catch(function(Va){var bb,Ab;if(Va.error){bb=Va.error.cadmiumResponse && Va.error.cadmiumResponse.za?Va.error.cadmiumResponse.za:Aa.isErrorReauth(Va.error)?d.X.gMa:Aa.isErrorHeader(Va.error)?d.X.ssb:d.X.rsb;Ab=Aa.getErrorCode(Va.error);Ra(L(bb,Ab,Va.error));}else (P.error("Unknown MSL error",Va),Va.Kc=Va.subCode,Ra({za:Va.Kc?Va.Kc:d.X.Bsb}));});});},kZ:Aa});A.UG.AN.mslFetch=function(qa,Fa){return c.__awaiter(N,void 0,void 0,function Ra(){var Pa,Va,bb;return Ga(Ra,function(Ab){if(1 == Ab.nF)return (Pa=n.Ea.get(C.TL),Ja(Ab,D.send({Kxa:{pf:n.Ea.get(B.Cw),profile:Pa},timeout:3E3,url:qa.toString(),body:null === Fa || void 0 === Fa?void 0:Fa.body,headers:{"Content-Type":"application/x-msl+json"},Zlb:Pa,N8b:!1,lcb:!0,pm:!0})));Va=Ab.Efa;bb={get body() {this.bodyUsed=!0;return Va.body;}};return Ab.return((bb.bodyUsed=!1,bb.ok=Va.ga,bb.status=Va.ga?200:400,bb.statusText=Va.ga?"OK":"Bad Request",bb.type="basic",bb.url=qa.toString(),bb.headers=new Headers({"Content-Type":"application/json"}),bb.text=function(){return Promise.resolve(this.body);},bb.json=function(){return Promise.resolve(JSON.parse(this.body));},bb.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},bb.clone=function(){return Object.assign({},this);},bb.blob=function(){return this.arrayBuffer().then(function(tb){return new Blob([tb]);});},bb.formData=function(){throw Error("Not implemented");},bb.redirected=!1,bb));});});};G(f.Zg);n.Ea.get(z.sia).K1b(D);}function L(Aa,Ha,N){var Q,U,Z,qa;Z={za:Aa,F8:Ha};if(N){qa=function(Fa){var Oa;Fa=Fa || "" + N;if(N.stack){Oa="" + N.stack;Fa=0 <= Oa.indexOf(Fa)?Oa:Fa + Oa;}return Fa;};if(U=N.cadmiumResponse){if(Q=U.Rf && U.Rf.toString())U.Rf=Q;U.za=Aa;U.F8=Ha;U.Qb=qa(N.message);U.error={Kc:Aa,Yd:Q,LB:Ha,data:N.cause,message:N.message};return U;}qa=qa(N.errorMessage);Q=(0,t.nk)(N.internalCode) || (0,t.nk)(N.error && N.error.internalCode);U=void 0 !== N.FOb?(0,u.iya)(N.FOb):void 0;}qa && (Z.Qb=qa);Q && (Z.Rf=Q);Z.error={Kc:Aa,Yd:Q.toString(),LB:Ha,data:U,message:qa};return Z;}(0,l.Ka)(m.config);M=n.Ea.get(h.$L);K=p.jp.Bk;if(v.$C && v.gr && v.gr.unwrapKey){try{O=mb.netflix.msl;H=O.createMslClient;J=O.IHttpLocation;R=O.MslIoException;}catch(Aa){G({za:d.X.tsb});return;}P=(0,n.ck)("Msl");T=m.config.G1b;V=m.config.I1b;S=m.config.UA?"mslstoretest":"mslstore";O=g.MK.Chb;W=!0;ia=!O || O.ga;ra=(0,n.Hs)(m.config.UA?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");ua=! !m.config.ABa;n.Ea.get(q.JC).create().then(function(Aa){T?Aa.remove(S).then(function(){F();}).catch(function(Ha){P.error("Unable to delete MSL store",(0,d.nz)(Ha));F();}):V?Aa.load(S).then(function(Ha){M.mark(K.wsb);F(Ha.value);}).catch(function(Ha){Ha.za == d.X.hD?(M.mark(K.ysb),F()):(P.error("Error loading msl store",(0,d.nz)(Ha)),M.mark(K.xsb),Aa.remove(S).then(function(){F();}).catch(function(N){G(N);}));}):F();}).catch(function(Aa){P.error("Error creating app storage while loading msl store",(0,d.nz)(Aa));G(Aa);});}else G({za:d.X.usb});});},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(201);g=a(17);k=a(19);m=a(62);f=a(60);r=a(3);d=a(9);l=a(82);n=a(13);h=a(58);p=a(15);q=a(50);t=a(84);a=a(34);u=d.Ea.get(a.mj);u.register(r.$.uKa,function(x){var z;function y(){var A,B,C;A=u.startTime;B={browserua:n.DG,browserhref:n.D3.href,initstart:A,initdelay:u.endTime - A};(A=n.Ph.documentMode) && (B.browserdm="" + A);(0,p.HP)(k.config.z3a) && (B.fesn=k.config.z3a);Object.assign(B,(0,c.xta)());C=n.Hw && n.Hw.timing;C && k.config.n_b.map(function(D){var E;E=C[D];E && (B["pt_" + D]=E - (0,f.y_a)());});A=z.cTb();Object.entries(A).forEach(function(D){var E;E=ma(D);D=E.next().value;E=E.next().value;return B["m_" + D]=E;});A=w.Qu("startup","info",B,m.cD.Sra);v.Jc(A);}w=d.Ea.get(t.qz);v=d.Ea.get(q.ao);z=d.Ea.get(l.$L);u.IY(function(){v.oa();(0,h.yg)(y);});x(g.Zg);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v,w,u,x,y;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(75);k=a(549);m=a(1436);f=a(304);d=a(19);l=a(17);n=a(206);h=a(592);p=a(60);r=a(3);q=a(9);t=a(525);v=a(13);w=a(301);b=a(34);u=a(62);x=a(167);y=a(350);q.Ea.get(b.mj).register(r.$.qKa,function(z){var A,B,C,D,E,G,F,I;A=q.Ea.get(t.vNa).mKb();B=q.Ea.get(n.Vga).uL;C=q.Ea.get(k.RMa).ps;D=new y.oga();E={zca:(0,q.jX)("ASE"),qDb:(0,q.jX)("JS-ASE",void 0,"Platform"),ck:q.jX,storage:w.storage,sTb:v.rHa,getTime:p.ro,V7:function(L){return D.decode(L).buffer;},MP:{},ps:C,Lw:m.Lw,uL:B,MediaSource:h.UMa,SourceBuffer:f.mia,Wp:function(){return [d.config.Q6,d.config.U6];},Pu:function(L){u.pp.forEach(function(M){M.iib(L);});}};B=new Promise(function(L){w.storage.load("nh",function(M){E.MP.nh=M.ga?M.data:void 0;L();});});C=new Promise(function(L){w.storage.load("lh",function(M){E.MP.lh=M.ga?M.data:void 0;L();});});G=new Promise(function(L){w.storage.load("gh",function(M){E.MP.gh=M.ga?M.data:void 0;L();});});F=new Promise(function(L){w.storage.load("sth",function(M){E.MP.sth=M.ga?M.data:void 0;L();});});I=new Promise(function(L){w.storage.load("vb",function(M){E.MP.vb=M.ga?M.data:void 0;L();});});Promise.all([B,C,I,F,G]).then(function(){return c.__awaiter(this,void 0,void 0,function M(){var K,O;return Ga(M,function(H){if(1 == H.nF)return (K=a(1438)(E),x.Yq.Be=a(593),x.Yq.Be.declare(g.zh),x.Yq.Be.set(a(178)(d.config),!0,(0,q.jX)("ASE")),Ja(H,g.ZO(K)));O=H.Efa;O.open(x.Yq.Be,A);O.O$b({audio:d.config.Q6,video:d.config.U6},{Z:d.config.G_,ea:void 0});x.Yq.lj=O;z(l.Zg);H.nF=0;});});}).catch(function(L){E.zca.error("Exception loading location history from local storage",L);});});},function(r,b,a){var g,k,m,f,d,l,n;function c(){var h;h=new k.yk();this.addEventListener=h.addListener.bind(this);this.removeEventListener=h.removeListener.bind(this);this.emit=h.Uc.bind(this);this.I5=l++;this.rg=(0,m.ck)("ProbeRequest");this.dWa=g.CQa;(0,f.Ka)(void 0 !== this.dWa);this.si=b.Lw.Xc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Lw=void 0;g=a(1437);k=a(70);m=a(9);f=a(23);d=a(25);l=0;(function(){function h(){return JSON.stringify({url:this.hm,id:this.I5,affected:this.D4,readystate:this.si});}(0,d.Fe)(c.prototype,{qQ:function(p){p.affected=this.D4;p.probed={requestId:this.I5,url:this.hm,tc:this.UU,groupId:this.l5};this.emit(b.Lw.Ve.xT,p);},cya:function(p){this.NAb=p.httpcode;p.affected=this.D4;p.probed={requestId:this.I5,url:this.hm,tc:this.UU,groupId:this.l5};this.emit(b.Lw.Ve.FG,p);},open:function(p,q,t,v){if(!p)return (!1,!1);this.hm=p;this.D4=q;this.UU=t;this.si=b.Lw.Xc.OPENED;this.dyb=v;this.dWa.gX(this);return !0;},rd:function(){!1;return !0;},$h:function(){return this.I5;},toString:h,toJSON:h});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.si;},set:function(){}},status:{get:function(){return this.NAb;}},url:{get:function(){return this.hm;}},Kmc:{get:function(){return this.D4;}},f_b:{get:function(){return this.dyb;}}});})();(function(h){h.Ve={xT:"pr0",FG:"pr1"};h.Xc={UNSENT:0,OPENED:1,Ez:2,DONE:3,zL:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(n || (n={}));b.Lw=Object.assign(c,n);},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.CQa=void 0;c=a(9);g=a(106);b.CQa=(function(){(0,c.ck)("ProbeDownloader");return {gX:function(k){k={url:k.url,G6b:k};!1;g.pf.H6b(k);}};})();},function(r,b,a){var d,l,n,h,p,q,t,v,w,u,x,y,z,A,B,C;function c(D,E,G){this.Op=D;this.groups=E;this.prefix=G;D=u(D,E,G);this.info=D.info.bind(D);this.fatal=D.fatal.bind(D);this.error=D.error.bind(D);this.warn=D.warn.bind(D);this.trace=D.trace.bind(D);this.debug=D.debug.bind(D);this.log=D.log.bind(D);}function g(){this.u0a=function(){throw Error("Not implemented");};this.AMb={query:function(){throw Error("Not implemented");},read:function(){throw Error("Not implemented");},create:function(){throw Error("Not implemented");},append:function(){throw Error("Not implemented");}};}function k(){}function m(){return w?w:"0.0.0.0";}function f(D){D({edb:0,x0:0,O7a:0,y3a:0});}d=a(14);g.prototype.set=function(D,E){h[D]=E;p.save(D,E);};g.prototype.get=function(D,E){if(h.hasOwnProperty(D))return h[D];v.trace("key: " + D + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(D,function(G){G.ga?(h[D]=G.data,E && E(G.data)):h[D]=void 0;});};g.prototype.remove=function(D){p.remove(D);};g.prototype.clear=function(){v.info("WARNING: Calling unimplemented function Storage.clear()");};k.prototype.now=function(){return q();};k.prototype.ia=function(){return t();};k.prototype.Ixa=function(D){return D + q() - t();};k.prototype.eya=function(D){return D + t() - q();};c.prototype.P0a=function(D){var E;E=[];this.prefix && Array.isArray(this.prefix)?E.push.apply(E,ha(this.prefix)):this.prefix && E.push(this.prefix);E.push(D);return new c(this.Op,this.groups,E);};x=(function(){var D;D=Promise;D.prototype.fail=Promise.prototype.catch;return D;})();r.exports=function(D){l=D.zca;u=D.ck;p=D.storage;h=D.MP;q=D.sTb;t=D.getTime;v=D.qDb;y=D.ps;C=D.Lw;z=D.uL;A=D.SourceBuffer;B=D.MediaSource;w=D.rpc;n=D.Pu;return {name:"cadmium",Pu:n,zca:l,storage:new g(),Storage:g,time:new k(),events:new d.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:x,ps:y,uL:z,Esb:A,MediaSource:B,Lw:C,jq:{name:m},memory:{BSb:f},Wp:D.Wp,V7:D.V7};};},function(r,b,a){r.exports={EventEmitter:a(1440),$f:a(1441)};},function(r){function b(c,g){var k;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Kd)return (this.Kd={},this.Kd[c]=[g],!0);k=this.Kd[c];return void 0 === k?(this.Kd[c]=[g],!0):0 > k.indexOf(g)?(k.push(g),!0):!1;}function a(c,g){c=this.Kd?this.Kd[c]:void 0;if(!c)return !1;c.forEach(function(k){k(g);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,g){var k;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Kd)return !1;k=this.Kd[c];if(void 0 === k)return !1;g=k.indexOf(g);if(0 > g)return !1;if(1 === k.length)return (delete this.Kd[c],!0);k.splice(g,1);return !0;},gb:a,emit:a,removeAllListeners:function(c){this.Kd && (void 0 === c?delete this.Kd:delete this.Kd[c]);return this;}};},function(r){function b(c,g,k,m){c.trace(":",k,":",m);g(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,g,k,m){k=m?k.bind(m):k;m=!1;if(c){this.console && (k=b.bind(null,this.console,k,g));if("function" === typeof c.addEventListener)m=c.addEventListener(g,k);else if("function" === typeof c.addListener)m=c.addListener(g,k);else throw Error("Emitter does not have a function to add listeners for '" + g + "'");this.listeners.push([c,g,k]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(g){var k,m;k=g[0];m=g[1];g=g[2];"function" === typeof k.removeEventListener?k.removeEventListener(m,g):"function" === typeof k.removeListener && k.removeListener(m,g);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var g,k;function c(m,f){var d,l;d=(0,k.aj)(m,"MSS");if(g.config.Z0b)return {T8:"mss",nC:function(n){var h,p;if(n.lower && 2160 <= n.height)a:{for(h=n;h.lower;){if(2160 > h.height && 1080 < h.height){h=!0;break a;}if(1080 >= h.height)break;h=h.lower;}h=!1;}else h=void 0;if(h){if(void 0 === l){try{p=mb.MSMediaKeys;l=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){d.error("hasUltraHdDisplay exception");l=!0;}l || (d.warn("Restricting resolution due screen size",{MaxHeight:n.height}),f.ar.set({reason:"microsoftScreenSize",height:n.height}));}return !l;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Gsb=void 0;r=a(139);g=a(19);k=a(9);(0,r.pT)(c);b.Gsb=c;},function(r,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(139);c=a(9);g=a(12);k=a(1444);m=a(18);(0,r.pT)(function(f,d){var l,n;l=c.Ea.get(g.Lc);if(l().bNb){n=c.Ea.get(m.cd);return new k.cIa(f,d,c.jg,n,l);}});},function(r,b,a){var g,k,m,f,d,l;function c(n,h,p,q,t){var v;v=this;this.j=n;this.Aa=h;this.ya=p;this.Fa=q;this.Vba={};this.pO={};this.wR=[];this.Q8a=1E3;this.xea=g.$La;this.yya=function(){var w;w=v.j.Eb.value === f.qb.Wc && v.j.state.value === f.dc.Le && v.j.K === v.Aa.K;v.iY?w || (clearInterval(v.iY),v.iY=void 0,v.zY=void 0):w && (v.iY=mb.setInterval(v.qdc,v.Q8a));};this.qdc=function(){var w,u,x,y;u=v.j.Ge.value;u=u && u.stream;u=null !== (w=u && u.height) && void 0 !== w?w:null;if(null !== u && 0 < u){w=v.Fa.Rb().ja(l.sa);x=v.j.tf.JI();if(x){if(v.zY && w - v.zY.time < 2 * v.Q8a && u === v.zY.height){y=x - v.zY.aNb;v.cna(u,y);v.iCb(u,y);}v.zY={time:w,aNb:x,height:u};v.j.yca && v.j.yca.U$b(v.Vba);}}};this.tsa=function(){var w;w={};v.pO && v.wR.forEach(function(u){var x,y,z;x=v.pO[u];if(x){y=0;z=0;(0,d.ph)(x,function(A,B){z+=(0,d.nk)(A);y+=B;});w[u]=z / y;}});return w;};this.QI=function(w){var u;u={};w.forEach(function(x){u[x]={};});v.pO && ((0,k.E1)(w),v.wR.forEach(function(x){var y,z,A,B;y=v.pO[x];if(y){z=0;A=0;(0,d.ph)(y,function(F,I){z+=I;});B=Object.keys(y).map(Number);(0,k.E1)(B);for(var C=B.length - 1,D=B[C],E=w.length - 1;0 <= E;E--){for(var G=w[E];D >= G && 0 <= C;){(D=y[D]) && (A+=D);D=B[--C];}u[G][x]=(0,m.mp)(A / z * 100);}}}));return u;};this.log=this.ya.hb("DFF",n);this.K5b=t().eNb;this.p0b=t().cNb;this.zbb=t().dNb;this.Aa.Iqa={tsa:this.tsa,QI:this.QI};n.state.addListener(this.yya);n.Eb.addListener(this.yya);n.addEventListener(f.ma.rJ,this.yya);}Object.defineProperty(b,"__esModule",{value:!0});b.cIa=void 0;g=a(17);k=a(40);m=a(13);f=a(16);d=a(25);l=a(5);c.prototype.nC=function(n){return n.lower && n.height > this.zbb?n.height >= this.wUb():!1;};c.prototype.cna=function(n,h){var p;p=this.Vba[n];p || (this.Vba[n]=p=[],n > this.zbb && (this.wR.push(n),(0,k.E1)(this.wR)));0 < h && !(this.gZ && this.gZ < n) && (this.gZ=n);p.push(h);p.length > this.p0b && p.shift();};c.prototype.iCb=function(n,h){var p;p=this.pO[n];p || (this.pO[n]=p={});n=p[h];p[h]=n?n + 1:1;};c.prototype.wUb=function(){var p,q;if(this.gZ){for(var n=this.wR.length,h=0;h < n;h++){p=this.wR[h];if(p >= this.gZ && p < this.xea){q=this.Vba[p];if(q && this.uGb(this.K5b,q) && this.xea != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.Aa.ar.set({reason:"droppedFrames",height:p}),this.xea=p);}}this.gZ=void 0;}return this.xea;};c.prototype.uGb=function(n,h){var v,w;for(var p=n.length,q=h.length,t=0;t < p;t++){v=n[t];w=v[0];v=v[1];for(var u=0;u < q;u++){if(h[u] >= v && 0 >= --w)return !0;}}return !1;};Ua.Object.defineProperties(c.prototype,{T8:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.cIa=c;},function(r,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});r=a(139);c=a(19);g=a(9);k=a(1446);(0,r.pT)(function(m,f){if(c.config.WYb)return new k.hLa(m,f,g.jg,c.config,g.Ba,g.Cc);});},function(r,b,a){var g,k,m;function c(f,d,l,n,h,p){var q;q=this;this.j=f;this.Aa=d;this.ya=l;this.config=n;this.Ba=h;this.Cc=p;this.WCb=function(t){!0 === t.oldValue && !1 === t.newValue && (q.log.error("RestartStreaming: UHD key is no longer usable"),q.j.y9b());};this.pec=function(t){var v,w,u;q.log.trace("UhdKeyStatus: " + t.oldValue + " -> " + t.newValue);w=null === t || void 0 === t?void 0:t.newValue;u=null === t || void 0 === t?void 0:t.oldValue;"usable" !== w && (q.N$b(w,(null === (v=null === t || void 0 === t?void 0:t.Qk) || void 0 === v?void 0:v.height) || 0),"usable" === u && (t=q.Ba.Hf.Da(q.YYb),q.log.error("UHD KeyStatus unexpectedly changed: " + t.ja(m.sa))));};this.G9a=!1;this.log=this.ya.hb("KeyStatusStreamFilter",this.j);this.UXa=new k.cc(!1,this.WCb);this.oec=new k.cc(void 0,this.pec);}Object.defineProperty(b,"__esModule",{value:!0});b.hLa=void 0;g=a(225);k=a(69);m=a(5);c.prototype.nC=function(f){return f.yj && (this.pcc(),this.UXa.set(this.G9a && this.NVb),f.lower && 1080 < f.height && !this.UXa.value)?!0:!1;};c.prototype.uHb=function(){this.NVb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.I7a);};c.prototype.acb=function(f){var d;d=this;Object.entries(f).forEach(function(l){var n,h,p;n=ma(l);l=n.next().value;n=n.next().value;l=null !== (p=null === (h=d.XYb) || void 0 === h?void 0:h[l]) && void 0 !== p?p:0;1080 < l && (d.G9a="usable" === n,d.oec.set(n,{height:l}));});};c.prototype.pcc=function(){var f,d,l;f=this;l=this.Aa.bf;!this.AYb && (0,g.iva)(l) && (this.AYb=!0,this.XYb=null === (d=null === l || void 0 === l?void 0:l.context) || void 0 === d?void 0:d.vaa,this.acb(l.keyStatuses.value),l.keyStatuses.addListener(function(n){return f.acb(n.newValue);}),this.Cc.Lj((0,m.xc)(this.config.I7a),function(){return f.uHb();}),this.YYb=this.Ba.Hf);};c.prototype.N$b=function(f,d){this.log.error("Restricting resolution due to keyStatus",{keyHeight:d,keyStatus:f});this.Aa.ar.set({reason:"keyStatus",height:d});};Ua.Object.defineProperties(c.prototype,{T8:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.hLa=c;},function(r,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});r=a(139);c=a(19);g=a(9);(0,r.pT)(function(k,m){var f,d,l,n;f={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(f,c.config.qec);d=f[m.he];if(c.config.rec && d){l={};n=(0,g.aj)(k,"MediaStreamFilter");return {T8:"uiLabel",nC:function(h){if(h.lower && h.height > d)return (l[h.height] || (l[h.height]=!0,n.warn("Restricting resolution due to uiLabel",{MaxHeight:d,streamHeight:h.height}),m.ar.set({reason:"uiLabel",height:h.height})),!0);}};}});},function(r,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(19);g=a(17);r=a(3);k=a(9);m=a(174);a=a(34);k.Ea.get(a.mj).register(r.$.sKa,function(f){c.config.p9 && k.Ea.get(m.hJa).start();f(g.Zg);});},function(r,b,a){var c,g,k,m,f,d,l,n,h,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(208);g=a(140);k=a(17);m=a(19);r=a(3);f=a(9);d=a(23);l=a(25);n=a(15);h=a(50);p=a(84);a=a(34);f.Ea.get(a.mj).register(r.$.AKa,function(q){var t,v;t=(0,f.ck)("NccpApi");v=(0,l.sYa)(["info","warn","trace","error"]);g.UG.AN.nccp={getEsn:function(){return c.Rk.El;},getPreferredLanguages:function(){return m.config.jr.wza;},setPreferredLanguages:function(w){(0,d.Ka)((0,n.isArray)(w) && (0,n.HP)(w[0]));m.config.jr.wza=w;},queueLogblob:function(w,u,x){var y;if(w && u)if((u=u.toLowerCase(),v[u])){y=f.Ea.get(h.ao);w=f.Ea.get(p.qz).Qu(w,u,x);y.Jc(w);}else t.warn("Invalid severity",{severity:u});},flushLogblobs:function(){f.Ea.get(h.ao).flush(!0);}};q(k.Zg);});},function(r,b,a){var c,g,k,m,f,d,l,n,h,p;Object.defineProperty(b,"__esModule",{value:!0});r=a(34);b=a(3);c=a(7);g=a(47);k=a(298);m=a(17);f=a(19);d=a(9);l=a(62);n=a(140);h=a(583);p=a(119);d.Ea.get(r.mj).register(b.$.CKa,function(q){var w,u,x;function t(y,z){return void 0 === y || void 0 === z?Promise.reject("Invalid email and/or password"):d.Ea.get(h.rOa).Sf(this.log,{},{email:y,password:z}).then(function(){});}function v(y){var z;z=d.Ea.get(p.TG);return z.B3a.fetch(y,z);}if(f.config.UOb){w=d.Ea.get(k.Sia);u=d.Ea.get(g.Eq);x=d.Ea.get(c.mb).hb("Test");n.UG.AN.test={setPboRequestsListener:function(y){return w.gac(y);},playbacks:l.pp,getPlayback:function(y){return l.pp.find(function(z){return z.qa === y;});},playgraphManager:{isNextSegmentReady:function(y,z){var A,B;return void 0 !== (null === (B=null === (A=l.pp.find(function(C){return C.qa === y;})) || void 0 === A?void 0:A.nb) || void 0 === B?void 0:B.ysa(z));},isNextSegmentBuffering:function(y,z){var A,B;return null === (B=null === (A=l.pp.find(function(C){return C.qa === y;})) || void 0 === A?void 0:A.nb) || void 0 === B?void 0:B.DX(z).o7;}},device:{esn:mb._cad_global.device.El,esnPrefix:u.Tp,errorPrefix:u.Us},log:{info:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.info(y,A);},error:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.error(y,A);},warn:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.warn(y,A);},trace:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.trace(y,A);},log:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.log(y,A);},debug:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.debug(y,A);}},login:t,getManifest:v};}q(m.Zg);});},function(r,b,a){var c,g,k,m,f,d,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(1452);c=a(19);g=a(62);b=a(7);k=a(9);m=a(50);f=a(114);d=a(23);l=a(15);mb.netflix=mb.netflix || ({});(0,d.Ka)(!mb.netflix.player);mb.netflix.player={VideoSession:r.pTa,diag:{togglePanel:function(n,h){var p;p=[];if(!c.config || c.config.w_){switch(n){case "info":p=g.pp.map(function(q){return q.yca;});break;case "streams":p=g.pp.map(function(q){return q.Bca;});break;case "log":p=[];}p.forEach(function(q){(0,l.vd)(h)?h?q.show():q.Ux():q.toggle();});}},addLogMessageSink:function(n){k.Ea.get(m.ao).addListener({Frc:function(){},Q0b:function(h){n({data:h.data});}});}},log:(0,k.ck)("Ext"),LogLevel:b.zk,addLogSink:function(n,h){k.Ea.get(f.GL).lda(n,h);},getVersion:function(){return "6.0038.217.911";},getMostRecentPlaybackDiagnosticGroups:function(){var n;return null === (n=g.cD.Jbb) || void 0 === n?void 0:n.Q1a.wX();}};},function(r,b,a){var g,k,m,f,d,l;function c(n){var h;h=m.UG.call(this,n) || this;h.createPlayer=function(p,q){var t,v,w;q=void 0 === q?{}:q;q="number" === typeof q?{ml:q}:q;t=g.Ea.get(k.RL);v=g.Ea.get(d.IL).create(q.manifest);w=g.Ea.get(f.nja);p=t.pKb(p);t=g.Ea.get(l.lja).create(p);p=t.Csa();w=w.M0a(t);w.addEpisode({movieId:p.P,playbackParams:h.KYa(q,p),manifest:v});return w;};return h;}Object.defineProperty(b,"__esModule",{value:!0});b.pTa=void 0;g=a(9);k=a(120);m=a(140);f=a(311);d=a(136);l=a(310);ja(c,m.UG);b.pTa=c;},function(r,b,a){var c,g,k,m,f,d,l,n,h,p,q,t,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(140);g=a(208);k=a(17);m=a(40);r=a(3);f=a(9);d=a(171);l=a(23);n=a(15);h=a(13);b=a(34);p=a(60);q=a(79);t=a(164);v=a(170);f.Ea.get(b.mj).register(r.$.BKa,function(w){var B;function u(){return g.Rk.El;}function x(C){var D;D=f.Ea.get(q.TL);f.Ea.get(t.tT)().then(function(E){var G,F;G=E.kZ.getStateForMdx(D);F=G.cryptoContext;E=G.masterToken;G=G.userIdToken;E && G?((0,l.Ka)(F),E=["1",(0,f.rA)(JSON.stringify(E.toJSON())),(0,f.rA)(JSON.stringify(G.toJSON()))].join(),C({success:!0,cryptoContext:{cTicket:E,encrypt:function(I,L){I=(0,n.Cg)(I)?(0,f.aS)(I):I;F.encrypt(I,{result:function(M){M=(0,f.rA)(M);L({success:!0,mslEncryptionEnvelopeBase64:M});},timeout:function(){L({success:!1});},error:function(M){(0,l.Ka)(!1,"Encrypt error: " + M);L({success:!1});}});},decrypt:function(I,L){I=(0,f.Hs)(I);F.decrypt(I,{result:function(M){L({success:!0,text:(0,f.W0)(M)});},timeout:function(){L({success:!1});},error:function(M){(0,l.Ka)(!1,"Decrypt error: " + M);L({success:!1});}});},hmac:function(I,L){I=(0,n.Cg)(I)?(0,f.aS)(I):I;F.sign(I,{result:function(M){L({success:!0,hmacBase64:(0,f.rA)(M)});},timeout:function(){L({success:!1});},error:function(M){(0,l.Ka)(!1,"Hmac error: " + M);L({success:!1});}});}}})):((0,l.Ka)(!1,"Must login first"),C({success:!1}));});}function y(C,D){var E;E=(0,f.Hs)(C);C=E.subarray(32,48);E=E.subarray(0,32);if(16 != C.length || 32 != E.length)throw Error("Bad shared secret");Promise.all([(0,m.LJ)(h.gr.importKey("raw",C,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,m.LJ)(h.gr.importKey("raw",E,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){D({success:!0,cryptoContext:z(G[0],G[1])});},function(){D({success:!1});});}function z(C,D){function E(G){G=new d.MS((0,f.Hs)(G));G.bC();return {iv:G.nfb(),nOb:G.nfb()};}return {encrypt:function(G,F){var I;G=(0,n.Cg)(G)?(0,f.aS)(G):G;I=h.$C.getRandomValues(new Uint8Array(16));(0,m.LJ)(h.gr.encrypt({name:"AES-CBC",iv:I},C,G)).then(function(L){var M,K;L=new Uint8Array(L);M=[];K=new d.MS(M);K.Dfa(2);K.Jmb(I);K.Jmb(L);L=(0,f.rA)(M);F({success:!0,encryptedDataAsn1Base64:L});},function(L){(0,l.Ka)(!1,"Encrypt error: " + L);F({success:!1});});},decrypt:function(G,F){var I;I=E(G);G=I.iv;I=I.nOb;(0,m.LJ)(h.gr.decrypt({name:"AES-CBC",iv:G},C,I)).then(function(L){L=new Uint8Array(L);F({success:!0,text:(0,f.W0)(L)});},function(L){(0,l.Ka)(!1,"Decrypt error: " + L);F({success:!1});});},hmac:function(G,F){G=(0,n.Cg)(G)?(0,f.aS)(G):G;(0,m.LJ)(h.gr.sign({name:"HMAC",hash:{name:"SHA-256"}},D,G)).then(function(I){I=new Uint8Array(I);F({success:!0,hmacBase64:(0,f.rA)(I)});},function(I){(0,l.Ka)(!1,"Hmac error: " + I);F({success:!1});});}};}function A(){return (0,p.A7)();}B=f.Ea.get(v.hG);if(B.$8a || B.sB)c.UG.AN.mdx={getEsn:u,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:A};w(k.Zg);});},function(r,b,a){var c,g,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(19);g=a(17);r=a(3);k=a(9);b=a(34);m=a(119);k.Ea.get(b.mj).register(r.$.xKa,function(d){var l,n,h;if(c.config.Dt){l=(0,k.ck)("PlayerPredictionModel");n=k.Ea.get(m.TG);h=a(1455);l.log=l.trace.bind(l);f=new h({},l,{y_:function(){},O8b:function(){}},n,{ZJ:function(){}});mb._cad_global.playerPredictionModel=f;l.info("ppm v2 initialized");}d(g.Zg);});},function(r,b,a){var m,f,d,l,n,h,p;function c(q,t,v,w,u,x){this.K=this.P=q;this.priority=t;this.Re=v;x && x.he && (this.he=x.he);void 0 !== w && (this.CQ=w);this.qm=u;this.Db=x;}function g(q,t,v,w,u){d(void 0 !== w,"video preparer is null");d(void 0 !== u,"ui preparer is null");this.H=t || console;this.H=t;this.Sa=v;this.lBb=w;this.bBb=u;this.aWa=h.tza;this.dN=[];this.Ema=!1;this.eU=0;new p().on(h,"changed",k,this);this.reset();}function k(){this.H.log("config changed");h.tza && (this.aWa=h.tza);h.jZ !== this.PM && (this.reset(),this.yAa());}m=a(313);f=a(314);b=a(594);d=b.assert;l=b.L3a;n=a(1456);h=a(595).config;p=a(1457).$f;h.declare({tza:["ppmConfig",{Vhc:{Gcb:0,Fcb:2,Dcb:0,Ecb:5,nib:0},Ilc:{Gcb:0,Fcb:1,Dcb:0,Ecb:3,nib:1E3},hic:{Gcb:0,Fcb:1,Dcb:0,Ecb:3,nib:1E3}}]});g.prototype.constructor=g;g.prototype.reset=function(){this.hla=!0;this.PM=h.jZ;this.H.log("create model: " + h.jZ,h.Pgb,h.D_a);switch(h.jZ){case "modelone":this.PM=new n(this.H);break;default:this.PM=new n(this.H);}};g.prototype.yAa=function(){var t,v;if(!1 === this.Ema){this.Ema=!0;for(var q=0;q < this.dN.length;q++){this.H.log("PlayPredictionModel replay: ",JSON.stringify(this.dN[q]));t=this.o0a(this.dN[q]);v=this.B4a(t);this.PM.update(t,v);this.hla=!1;}this.dN=[];}};g.prototype.update=function(q){var t,v,w;this.H.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Ob && q.Ob[0]){!1 === this.Ema && this.dN.length < h.o0b && this.dN.push(q);t=this.o0a(q);v=this.B4a(t);this.H.log("actionType",v);t="mlmodel" == h.jZ?this.PM.update(q,v):this.PM.update(t,v);t=this.ZQb(t,h.NYb || 1);this.H.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(t));0 === this.eU && (this.eU=m(),this.Sa && this.Sa.y_ && this.Sa.y_({fMb:this.eU}));if(this.Sa && this.Sa.O8b){this.aSb();w=[];t.forEach(function(u){w.push({hsc:u.P});});JSON.stringify(q);JSON.stringify(t);}this.lBb.ZJ(t);this.bBb.ZJ(t);this.hla=!1;}};g.prototype.aSb=function(){m();};g.prototype.y_=function(){this.eU=m();this.Sa && this.Sa.y_ && this.Sa.y_({fMb:this.eU});};g.prototype.o0a=function(q){var t,v,w,u,x;t={};w=q.Ob || [];u=(function(y){var z,A;z={};x=f.bT.name.indexOf(y.context);z.context=0 <= x?x:f.bT.zz;z.rowIndex=y.rowIndex;z.requestId=y.requestId;z.list=[];v=y.list || [];v.forEach((function(B){A={P:B.P,Re:B.Re,index:B.index,CQ:B.CQ,Pca:B.Pca,list:B.list,Db:B.Db};void 0 !== B.property && (x=f.DL.name.indexOf(B.property),A.property=0 <= x?x:f.DL.zz);z.list.push(A);}).bind(this));t.Ob.push(z);}).bind(this);if(void 0 !== q.direction){x=f.Dw.name.indexOf(q.direction);t.direction=0 <= x?x:f.Dw.zz;}void 0 !== q.cX && (t.zoc=q.cX.rowIndex,t.yoc=q.cX.oHb);t.cX=q.cX;t.Ob=[];w.forEach(u);return t;};g.prototype.B4a=function(q){var t,v,w;t=q.direction || f.Dw.zz;v=q.cX;w=q.Ob || [];!0 === this.hla?q=f.bz.WIa:!0 === w.some(this.KVb)?(q=f.bz.yT,this.rda(w,t,v)):q=w[0].context === f.bT.e4?f.bz.e4:t === f.Dw.LQa || t === f.Dw.iLa?f.bz.fRa:f.bz.zz;return q;};g.prototype.KVb=function(q){return (q.list || []).some(function(t){return t.property === f.DL.yT || t.property === f.DL.jHa;});};g.prototype.rda=function(q,t,v){var w,u;this.H.log("reportPlayFocusEvent: ",t,v);w={};u=l(q);this.Sa && this.Sa.rda && (w.poc=m(),w.direction=f.Dw.name[t],v && (w.rowIndex=v.rowIndex,w.E_a=v.oHb),void 0 !== u.fl && (w.requestId=q[u.fl].requestId),this.Sa.rda && this.Sa.rda(w));};g.prototype.ZQb=function(q,t){for(var v=q.length,w=[],u,x,y,z,A=0;A < v;A++){x=q[A];u=Math.floor(A / t) + 1;if(void 0 !== x.list){y=x.list;z=y.length;for(var B=0;B < Math.min(h.mHb,z) && !(y[B].qm=x.qm,this.AXa(y[B],u,w),w.length >= h.Kab);B++){;}}else this.AXa(x,u,w);if(w.length >= h.Kab)break;}return w;};g.prototype.AXa=function(q,t,v){var u,x;function w(y){y.he && (y.Db || (y.Db={}),y.Db.he=y.he);return y.Db;}u=q.Pca;if(void 0 !== u && u instanceof Array)u.forEach(function(y){void 0 !== y.P && (x=w(y),v.push(new c(y.P,t,y.Re,y.CQ,q.qm,x)));});else if(void 0 !== u && void 0 !== u.P){u=q.Pca;x=w(u);v.push(new c(u.P,t,u.Re,u.CQ,q.qm,x));}void 0 !== q.P && (x=w(q),v.push(new c(q.P,t,q.Re,q.CQ,q.qm,x)));};g.prototype.HI=function(q){var t;t=this.aWa;return q?t[q]:t;};r.exports=g;},function(r,b,a){var k,m,f,d,l,n,h,p,q,t;function c(v,w){this.fl=v;this.jn=w;}function g(v){this.H=v;this.reset();}k=a(313);m=a(314);b=a(594);f=a(595).config;d=b.TRb;l=b.ARb;n=b.iMb;h=b.M2b;p=b.L2b;q=b.K2b;t=b.L3a;g.prototype.constructor=g;g.prototype.reset=function(){this.bWa=void 0;this.tl=[];this.PVa=this.QVa=!1;};g.prototype.update=function(v,w){var u;this.tl && (this.tl=this.tl.filter(this.Vac,this));if(!1 === this.QVa){u=d(v.Ob).slice(0,f.f1a);0 < u.length && (this.CJ(u,m.fz.am),this.QVa=!0,this.tl=this.bL(u.concat(this.tl)));}!1 === this.PVa && (u=l(v.Ob).slice(0,f.f1a),0 < u.length && (this.CJ(u,m.fz.am),this.PVa=!0,this.tl=this.bL(u.concat(this.tl))));switch(w){case m.bz.WIa:w=this.hVb(v);break;case m.bz.fRa:w=this.qVb(v);break;case m.bz.e4:w=this.rVb(v);break;case m.bz.yT:w=this.mVb(v);break;default:w=this.eVb(v);}this.bWa=v;return w;};g.prototype.hVb=function(v){v=h(v.Ob,f.Pgb,f.D_a);this.CJ(v,m.fz.am);return this.tl=this.bL(this.tl.concat(v));};g.prototype.qVb=function(v){var w,u;this.H.log("handleScrollHorizontal");w=v.Ob;v=h(w,f.Qgb,f.F_a);u=n(w,this.bWa.Ob);w=w[u].list.slice(0,f.H9b);w.concat(v);this.CJ(w,m.fz.Yja);return this.bL(w.concat(this.tl));};g.prototype.CJ=function(v,w){v.forEach(function(u){if(void 0 === u.YD || u.YD < w)u.YD=w;void 0 === u.KR && (u.KR=k());void 0 === u.qm && (u.qm=k());});};g.prototype.rVb=function(v){this.H.log("handleSearch");v=p(v.Ob,f.f$b);this.CJ(v,m.fz.gRa);this.tl=v.concat(this.tl);return this.tl=this.bL(this.tl);};g.prototype.mVb=function(v){var w,u,x,y,z;this.H.log("handlePlayFocus: ",f.XX);w=v.direction;u=v.Ob;v=[];x=t(u);if(void 0 !== x.fl)switch((v.push(x),w)){case m.Dw.LQa:for(w=1;w < f.XX;w++){v.push(new c(x.fl,x.jn + w));}v.push(new c(x.fl - 1,x.jn));v.push(new c(x.fl + 1,x.jn));break;case m.Dw.iLa:for(w=1;w < f.XX;w++){v.push(new c(x.fl,x.jn - w));}v.push(new c(x.fl - 1,x.jn));v.push(new c(x.fl + 1,x.jn));break;case m.Dw.rvb:v.push(new c(x.fl - 1,x.jn));for(w=1;w <= f.XX / 2;w++){v.push(new c(x.fl,x.jn + w));v.push(new c(x.fl,x.jn - w));}break;case m.Dw.Tpb:for((v.push(new c(x.fl + 1,x.jn)),w=1);w <= f.XX / 2;w++){v.push(new c(x.fl,x.jn + w));v.push(new c(x.fl,x.jn - w));}}y=[];v.forEach(function(A){z=q(u,A.fl,A.jn);void 0 !== z && y.push(z);});this.CJ(y,m.fz.Yja);return this.bL(y.concat(this.tl));};g.prototype.eVb=function(v){this.H.log("ModelOne: handleDefaultCase");v=h(v.Ob,f.Qgb,f.F_a);this.CJ(v,m.fz.Yja);return this.bL(v.concat(this.tl));};g.prototype.Vac=function(v){return v.YD == m.fz.am | v.YD == m.fz.gRa & k() - v.KR < f.eWb;};g.prototype.bL=function(v){var w,u,x,y,z,A,B;w=[];u={};y=0;z=v.length;for(x=0;x < z;x++){A=v[x].P;B=v[x];!1 === (A in u)?(w.push(B),u[A]=y,y++):(A=w[u[A]],B.qm < A.qm && (A.qm=B.qm),B.YD > A.YD && (A.YD=B.YD),B.KR > A.KR && (A.KR=B.KR));}return w;};r.exports=g;},function(r,b,a){r.exports={EventEmitter:a(1458),$f:a(1459)};},function(r){function b(c,g){var k;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Kd)return (this.Kd={},this.Kd[c]=[g],!0);k=this.Kd[c];return void 0 === k?(this.Kd[c]=[g],!0):0 > k.indexOf(g)?(k.push(g),!0):!1;}function a(c,g){c=this.Kd?this.Kd[c]:void 0;if(!c)return !1;c.forEach(function(k){k(g);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,g){var k;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Kd)return !1;k=this.Kd[c];if(void 0 === k)return !1;g=k.indexOf(g);if(0 > g)return !1;if(1 === k.length)return (delete this.Kd[c],!0);k.splice(g,1);return !0;},gb:a,emit:a,removeAllListeners:function(c){this.Kd && (void 0 === c?delete this.Kd:delete this.Kd[c]);return this;}};},function(r){function b(c,g,k,m){c.trace(":",k,":",m);g(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,g,k,m){k=m?k.bind(m):k;m=!1;if(c){this.console && (k=b.bind(null,this.console,k,g));if("function" === typeof c.addEventListener)m=c.addEventListener(g,k);else if("function" === typeof c.addListener)m=c.addListener(g,k);else throw Error("Emitter does not have a function to add listeners for '" + g + "'");this.listeners.push([c,g,k]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(g){var k,m;k=g[0];m=g[1];g=g[2];"function" === typeof k.removeEventListener?k.removeEventListener(m,g):"function" === typeof k.removeListener && k.removeListener(m,g);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;}]);}).call(mb);})(window);}).call(window);